"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getPrompts = void 0;
const i18n_1 = require("../../i18n");
const project_access_1 = require("@sap-ux/project-access");
const project_input_validator_1 = require("@sap-ux/project-input-validator");
/**
 * Gets the prompts for changing the data source.
 *
 * @param {Record<string, ManifestNamespace.DataSource>} dataSources - Data sources from the manifest.
 * @returns {YUIQuestion<ChangeDataSourceAnswers>[]} The questions/prompts.
 */
function getPrompts(dataSources) {
    const dataSourceIds = Object.keys((0, project_access_1.filterDataSourcesByType)(dataSources, 'OData'));
    return [
        {
            type: 'list',
            name: 'id',
            message: (0, i18n_1.t)('prompts.oDataSourceLabel'),
            choices: dataSourceIds,
            default: dataSourceIds[0],
            store: false,
            guiOptions: {
                mandatory: true,
                hint: (0, i18n_1.t)('prompts.oDataSourceTooltip')
            }
        },
        {
            type: 'input',
            name: 'uri',
            message: (0, i18n_1.t)('prompts.oDataSourceURILabel'),
            guiOptions: {
                mandatory: true,
                hint: (0, i18n_1.t)('prompts.oDataSourceURITooltip')
            },
            validate: project_input_validator_1.validateEmptyString,
            when: !!dataSourceIds.length,
            store: false
        },
        {
            type: 'number',
            name: 'maxAge',
            message: (0, i18n_1.t)('prompts.maxAgeLabel'),
            guiOptions: {
                hint: (0, i18n_1.t)('prompts.maxAgeTooltip')
            },
            when: (answers) => answers.uri !== ''
        },
        {
            type: 'input',
            name: 'annotationUri',
            message: (0, i18n_1.t)('prompts.oDataAnnotationSourceURILabel'),
            guiOptions: {
                hint: (0, i18n_1.t)('prompts.oDataAnnotationSourceURITooltip')
            }
        }
    ];
}
exports.getPrompts = getPrompts;
//# sourceMappingURL=index.js.map