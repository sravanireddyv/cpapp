{
  "version": 3,
  "sources": ["../../../node_modules/graceful-fs/polyfills.js", "../../../node_modules/graceful-fs/legacy-streams.js", "../../../node_modules/graceful-fs/clone.js", "../../../node_modules/graceful-fs/graceful-fs.js", "../../../node_modules/is-utf8/is-utf8.js", "../../../node_modules/strip-bom-buf/index.js", "../../../node_modules/process-nextick-args/index.js", "../../../node_modules/readable-stream/node_modules/isarray/index.js", "../../../node_modules/readable-stream/lib/internal/streams/stream.js", "../../../node_modules/safe-buffer/index.js", "../../../node_modules/core-util-is/lib/util.js", "../../../node_modules/inherits/inherits_browser.js", "../../../node_modules/inherits/inherits.js", "../../../node_modules/readable-stream/lib/internal/streams/BufferList.js", "../../../node_modules/readable-stream/lib/internal/streams/destroy.js", "../../../node_modules/util-deprecate/node.js", "../../../node_modules/readable-stream/lib/_stream_writable.js", "../../../node_modules/readable-stream/lib/_stream_duplex.js", "../../../node_modules/readable-stream/node_modules/string_decoder/lib/string_decoder.js", "../../../node_modules/readable-stream/lib/_stream_readable.js", "../../../node_modules/readable-stream/lib/_stream_transform.js", "../../../node_modules/readable-stream/lib/_stream_passthrough.js", "../../../node_modules/readable-stream/readable.js", "../../../node_modules/first-chunk-stream/index.js", "../../../node_modules/strip-bom/index.js", "../../../node_modules/strip-bom-stream/index.js", "../../../node_modules/vinyl/node_modules/clone/clone.js", "../../../node_modules/cloneable-readable/index.js", "../../../node_modules/vinyl/node_modules/replace-ext/index.js", "../../../node_modules/clone-stats/index.js", "../../../node_modules/clone-buffer/index.js", "../../../node_modules/remove-trailing-separator/index.js", "../../../node_modules/vinyl/lib/is-stream.js", "../../../node_modules/vinyl/lib/normalize.js", "../../../node_modules/vinyl/lib/inspect-stream.js", "../../../node_modules/vinyl/index.js", "../../../node_modules/pify/index.js", "../../../node_modules/vinyl-file/index.js", "../../../node_modules/mem-fs/index.js", "../../../node_modules/mem-fs-editor/lib/actions/read.js", "../../../node_modules/mem-fs-editor/lib/actions/read-json.js", "../../../node_modules/mem-fs-editor/lib/actions/exists.js", "../../../node_modules/mem-fs-editor/lib/state.js", "../../../node_modules/mem-fs-editor/lib/actions/write.js", "../../../node_modules/mem-fs-editor/lib/actions/write-json.js", "../../../node_modules/deep-extend/lib/deep-extend.js", "../../../node_modules/mem-fs-editor/lib/actions/extend-json.js", "../../../node_modules/mem-fs-editor/lib/actions/append.js", "../../../node_modules/ejs/lib/utils.js", "../../../node_modules/ejs/lib/ejs.js", "../../../node_modules/mem-fs-editor/lib/actions/append-tpl.js", "../../../node_modules/array-union/index.js", "../../../node_modules/merge2/index.js", "../../../node_modules/fast-glob/out/utils/array.js", "../../../node_modules/fast-glob/out/utils/errno.js", "../../../node_modules/fast-glob/out/utils/fs.js", "../../../node_modules/fast-glob/out/utils/path.js", "../../../node_modules/is-extglob/index.js", "../../../node_modules/is-glob/index.js", "../../../node_modules/glob-parent/index.js", "../../../node_modules/fast-glob/node_modules/braces/lib/utils.js", "../../../node_modules/fast-glob/node_modules/braces/lib/stringify.js", "../../../node_modules/fast-glob/node_modules/is-number/index.js", "../../../node_modules/fast-glob/node_modules/to-regex-range/index.js", "../../../node_modules/fast-glob/node_modules/fill-range/index.js", "../../../node_modules/fast-glob/node_modules/braces/lib/compile.js", "../../../node_modules/fast-glob/node_modules/braces/lib/expand.js", "../../../node_modules/fast-glob/node_modules/braces/lib/constants.js", "../../../node_modules/fast-glob/node_modules/braces/lib/parse.js", "../../../node_modules/fast-glob/node_modules/braces/index.js", "../../../node_modules/picomatch/lib/constants.js", "../../../node_modules/picomatch/lib/utils.js", "../../../node_modules/picomatch/lib/scan.js", "../../../node_modules/picomatch/lib/parse.js", "../../../node_modules/picomatch/lib/picomatch.js", "../../../node_modules/picomatch/index.js", "../../../node_modules/fast-glob/node_modules/micromatch/index.js", "../../../node_modules/fast-glob/out/utils/pattern.js", "../../../node_modules/fast-glob/out/utils/stream.js", "../../../node_modules/fast-glob/out/utils/string.js", "../../../node_modules/fast-glob/out/utils/index.js", "../../../node_modules/fast-glob/out/managers/tasks.js", "../../../node_modules/fast-glob/out/managers/patterns.js", "../../../node_modules/@nodelib/fs.stat/out/providers/async.js", "../../../node_modules/@nodelib/fs.stat/out/providers/sync.js", "../../../node_modules/@nodelib/fs.stat/out/adapters/fs.js", "../../../node_modules/@nodelib/fs.stat/out/settings.js", "../../../node_modules/@nodelib/fs.stat/out/index.js", "../../../node_modules/queue-microtask/index.js", "../../../node_modules/run-parallel/index.js", "../../../node_modules/@nodelib/fs.scandir/out/constants.js", "../../../node_modules/@nodelib/fs.scandir/out/utils/fs.js", "../../../node_modules/@nodelib/fs.scandir/out/utils/index.js", "../../../node_modules/@nodelib/fs.scandir/out/providers/common.js", "../../../node_modules/@nodelib/fs.scandir/out/providers/async.js", "../../../node_modules/@nodelib/fs.scandir/out/providers/sync.js", "../../../node_modules/@nodelib/fs.scandir/out/adapters/fs.js", "../../../node_modules/@nodelib/fs.scandir/out/settings.js", "../../../node_modules/@nodelib/fs.scandir/out/index.js", "../../../node_modules/reusify/reusify.js", "../../../node_modules/fastq/queue.js", "../../../node_modules/@nodelib/fs.walk/out/readers/common.js", "../../../node_modules/@nodelib/fs.walk/out/readers/reader.js", "../../../node_modules/@nodelib/fs.walk/out/readers/async.js", "../../../node_modules/@nodelib/fs.walk/out/providers/async.js", "../../../node_modules/@nodelib/fs.walk/out/providers/stream.js", "../../../node_modules/@nodelib/fs.walk/out/readers/sync.js", "../../../node_modules/@nodelib/fs.walk/out/providers/sync.js", "../../../node_modules/@nodelib/fs.walk/out/settings.js", "../../../node_modules/@nodelib/fs.walk/out/index.js", "../../../node_modules/fast-glob/out/readers/reader.js", "../../../node_modules/fast-glob/out/readers/stream.js", "../../../node_modules/fast-glob/out/readers/async.js", "../../../node_modules/fast-glob/out/providers/matchers/matcher.js", "../../../node_modules/fast-glob/out/providers/matchers/partial.js", "../../../node_modules/fast-glob/out/providers/filters/deep.js", "../../../node_modules/fast-glob/out/providers/filters/entry.js", "../../../node_modules/fast-glob/out/providers/filters/error.js", "../../../node_modules/fast-glob/out/providers/transformers/entry.js", "../../../node_modules/fast-glob/out/providers/provider.js", "../../../node_modules/fast-glob/out/providers/async.js", "../../../node_modules/fast-glob/out/providers/stream.js", "../../../node_modules/fast-glob/out/readers/sync.js", "../../../node_modules/fast-glob/out/providers/sync.js", "../../../node_modules/fast-glob/out/settings.js", "../../../node_modules/fast-glob/out/index.js", "../../../node_modules/dir-glob/node_modules/path-type/index.js", "../../../node_modules/dir-glob/index.js", "../../../node_modules/globby/node_modules/ignore/index.js", "../../../node_modules/slash/index.js", "../../../node_modules/globby/gitignore.js", "../../../node_modules/globby/stream-utils.js", "../../../node_modules/globby/index.js", "../../../node_modules/concat-map/index.js", "../../../node_modules/balanced-match/index.js", "../../../node_modules/brace-expansion/index.js", "../../../node_modules/minimatch/minimatch.js", "../../../node_modules/multimatch/node_modules/array-differ/index.js", "../../../node_modules/arrify/index.js", "../../../node_modules/multimatch/index.js", "../../../node_modules/commondir/index.js", "../../../node_modules/normalize-path/index.js", "../../../node_modules/isbinaryfile/lib/index.js", "../../../node_modules/textextensions/edition-es5/index.js", "../../../node_modules/binaryextensions/edition-es5/index.js", "../../../node_modules/mem-fs-editor/lib/util.js", "../../../node_modules/mem-fs-editor/lib/actions/delete.js", "../../../node_modules/mem-fs-editor/lib/actions/copy.js", "../../../node_modules/mem-fs-editor/lib/actions/copy-tpl.js", "../../../node_modules/mem-fs-editor/lib/actions/copy-async.js", "../../../node_modules/mem-fs-editor/lib/actions/copy-tpl-async.js", "../../../node_modules/mem-fs-editor/lib/actions/move.js", "../../../node_modules/mem-fs-editor/lib/transform.js", "../../../node_modules/mem-fs-editor/lib/actions/commit.js", "../../../node_modules/mem-fs-editor/lib/actions/commit-file-async.js", "../../../node_modules/mem-fs-editor/lib/actions/dump.js", "../../../node_modules/mem-fs-editor/lib/index.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/internal/constants.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/internal/debug.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/internal/re.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/internal/parse-options.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/internal/identifiers.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/classes/semver.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/parse.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/valid.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/clean.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/inc.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/compare.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/eq.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/diff.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/major.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/minor.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/patch.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/prerelease.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/rcompare.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/compare-loose.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/compare-build.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/sort.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/rsort.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/gt.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/lt.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/neq.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/gte.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/lte.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/cmp.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/coerce.js", "../../../node_modules/yallist/iterator.js", "../../../node_modules/yallist/yallist.js", "../../../node_modules/lru-cache/index.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/classes/range.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/classes/comparator.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/functions/satisfies.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/ranges/to-comparators.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/ranges/max-satisfying.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/ranges/min-satisfying.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/ranges/min-version.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/ranges/valid.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/ranges/outside.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/ranges/gtr.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/ranges/ltr.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/ranges/intersects.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/ranges/simplify.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/ranges/subset.js", "../../../node_modules/@sap-ux/fe-fpm-writer/node_modules/semver/index.js", "../../../node_modules/@sap-ux/fe-fpm-writer/dist/common/validate.js", "../../../node_modules/@sap-ux/fe-fpm-writer/dist/common/defaults.js", "../../../node_modules/@sap-ux/fe-fpm-writer/dist/page/common.js", "../../../node_modules/@sap-ux/fe-fpm-writer/dist/templates.js", "../../../node_modules/@sap-ux/fe-fpm-writer/dist/common/utils.js", "../../../node_modules/@sap-ux/fe-fpm-writer/dist/page/custom.js", "../../../node_modules/@sap-ux/fe-fpm-writer/dist/page/object.js", "../../../node_modules/@sap-ux/fe-fpm-writer/dist/page/list.js", "../../../node_modules/@sap-ux/fe-fpm-writer/dist/page/index.js", "../../../node_modules/@sap-ux/fe-fpm-writer/dist/action/types.js", "../../../node_modules/@sap-ux/fe-fpm-writer/dist/common/event-handler.js", "../../../node_modules/@sap-ux/fe-fpm-writer/dist/action/index.js", "../../../node_modules/@sap-ux/fe-fpm-writer/dist/column/index.js", "../../../node_modules/@sap-ux/fe-fpm-writer/dist/section/index.js", "../../../node_modules/@sap-ux/fe-fpm-writer/dist/view/index.js", "../../../node_modules/@sap-ux/fe-fpm-writer/dist/app/index.js", "../../../node_modules/@sap-ux/fe-fpm-writer/dist/building-block/types.js", "../../../node_modules/@xmldom/xmldom/lib/conventions.js", "../../../node_modules/@xmldom/xmldom/lib/dom.js", "../../../node_modules/@xmldom/xmldom/lib/entities.js", "../../../node_modules/@xmldom/xmldom/lib/sax.js", "../../../node_modules/@xmldom/xmldom/lib/dom-parser.js", "../../../node_modules/@xmldom/xmldom/lib/index.js", "../../../node_modules/xpath/xpath.js", "../../../node_modules/xml-parser-xo/index.js", "../../../node_modules/xml-formatter/index.js", "../../../node_modules/@sap-ux/fe-fpm-writer/dist/building-block/index.js", "../../../node_modules/@sap-ux/fe-fpm-writer/dist/controller-extension/types.js", "../../../node_modules/@sap-ux/fe-fpm-writer/dist/controller-extension/index.js", "../../../node_modules/@sap-ux/fe-fpm-writer/dist/index.js", "../../types/src/index.ts", "../../types/src/common/page.ts", "../../types/src/common/types.ts", "../../types/src/common/Application.ts", "../../types/src/common/webapp/manifest/Manifest.ts", "../../types/src/common/webapp/manifest/sapUi5.ts", "../../types/src/apiTypes.ts", "../../types/src/v2/index.ts", "../../types/src/v2/controls/Card.ts", "../../types/src/v2/controls/FilterBar.ts", "../../types/src/v2/controls/Table.ts", "../../types/src/v2/controls/AnalyticalListPageChart.ts", "../../types/src/v2/controls/ObjectPageSection.ts", "../../types/src/v2/controls/ObjectPageTable.ts", "../../types/src/v2/webapp/manifest/sapUiPageV2.ts", "../../types/src/v2/webapp/manifest/sapUi5.ts", "../../types/src/v2/overviewPage.ts", "../../types/src/v4/index.ts", "../../types/src/v4/controls/CustomAction.ts", "../../types/src/v4/controls/Table.ts", "../../types/src/v4/controls/ToolBar.ts", "../../types/src/v4/controls/ObjectPageHeaderSection.ts", "../../types/src/v4/controls/ObjectPageLayout.ts", "../../types/src/v4/controls/ObjectPageSection.ts", "../../types/src/v4/webapp/manifest/sapUiPageV4.ts", "../../types/src/v4/webapp/manifest/sapUi5.ts", "../../types/src/v4/webapp/manifest/ManifestSettings.ts", "../../types/src/v4/pages/ObjectPageConfigV4.ts", "../../types/src/v4/pages/ListReportConfigV4.ts", "../../types/src/apiTypes.ts", "../../types/src/v2/index.ts", "../../types/src/v2/controls/Card.ts", "../../types/src/v2/controls/FilterBar.ts", "../../types/src/v2/controls/Table.ts", "../../types/src/v2/controls/AnalyticalListPageChart.ts", "../../types/src/v2/controls/ObjectPageSection.ts", "../../types/src/v2/controls/ObjectPageTable.ts", "../../types/src/v2/webapp/manifest/sapUiPageV2.ts", "../../types/src/v2/webapp/manifest/sapUi5.ts", "../../types/src/v2/overviewPage.ts", "../../types/src/v4/index.ts", "../../types/src/v4/controls/CustomAction.ts", "../../types/src/v4/controls/Table.ts", "../../types/src/v4/controls/ToolBar.ts", "../../types/src/v4/controls/ObjectPageHeaderSection.ts", "../../types/src/v4/controls/ObjectPageLayout.ts", "../../types/src/v4/controls/ObjectPageSection.ts", "../../types/src/v4/webapp/manifest/sapUiPageV4.ts", "../../types/src/v4/webapp/manifest/sapUi5.ts", "../../types/src/v4/webapp/manifest/ManifestSettings.ts", "../../types/src/v4/pages/ObjectPageConfigV4.ts", "../../types/src/v4/pages/ListReportConfigV4.ts", "../../types/src/index.ts", "../../../node_modules/deepmerge/dist/cjs.js", "../../../node_modules/@sap-ux/annotation-converter/src/utils.ts", "../../../node_modules/@sap-ux/annotation-converter/src/converter.ts", "../../../node_modules/@sap-ux/annotation-converter/src/writeback.ts", "../../../node_modules/@sap-ux/annotation-converter/src/index.ts", "../../../node_modules/sax/lib/sax.js", "../../../node_modules/xml-js/lib/array-helper.js", "../../../node_modules/xml-js/lib/options-helper.js", "../../../node_modules/xml-js/lib/xml2js.js", "../../../node_modules/xml-js/lib/xml2json.js", "../../../node_modules/xml-js/lib/js2xml.js", "../../../node_modules/xml-js/lib/json2xml.js", "../../../node_modules/xml-js/lib/index.js", "../../../node_modules/@sap-ux/edmx-parser/src/utils.ts", "../../../node_modules/@sap-ux/edmx-parser/src/v2annotationsSupport.ts", "../../../node_modules/@sap-ux/edmx-parser/src/parser.ts", "../../../node_modules/@sap-ux/edmx-parser/src/merger.ts", "../../../node_modules/@sap-ux/edmx-parser/src/index.ts", "../../../node_modules/@ui5/flexibility-utils/src/changeUtils.js", "../../../node_modules/@ui5/flexibility-utils/index.js", "../../../node_modules/ejs/lib/utils.js", "../../../node_modules/ejs/lib/ejs.js", "../../../node_modules/lodash.unset/index.js", "../../../node_modules/uri-js/src/index.ts", "../../../node_modules/uri-js/src/schemes/urn-uuid.ts", "../../../node_modules/uri-js/src/schemes/urn.ts", "../../../node_modules/uri-js/src/schemes/mailto.ts", "../../../node_modules/uri-js/src/schemes/wss.ts", "../../../node_modules/uri-js/src/schemes/ws.ts", "../../../node_modules/uri-js/src/schemes/https.ts", "../../../node_modules/uri-js/src/schemes/http.ts", "../../../node_modules/uri-js/src/uri.ts", "../../../node_modules/uri-js/node_modules/punycode/punycode.es6.js", "../../../node_modules/uri-js/src/regexps-iri.ts", "../../../node_modules/uri-js/src/regexps-uri.ts", "../../../node_modules/uri-js/src/util.ts", "../../../node_modules/fast-deep-equal/index.js", "../../../node_modules/ajv/lib/compile/ucs2length.js", "../../../node_modules/ajv/lib/compile/util.js", "../../../node_modules/ajv/lib/compile/schema_obj.js", "../../../node_modules/json-schema-traverse/index.js", "../../../node_modules/ajv/lib/compile/resolve.js", "../../../node_modules/ajv/lib/compile/error_classes.js", "../../../node_modules/fast-json-stable-stringify/index.js", "../../../node_modules/ajv/lib/dotjs/validate.js", "../../../node_modules/ajv/lib/compile/index.js", "../../../node_modules/ajv/lib/cache.js", "../../../node_modules/ajv/lib/compile/formats.js", "../../../node_modules/ajv/lib/dotjs/ref.js", "../../../node_modules/ajv/lib/dotjs/allOf.js", "../../../node_modules/ajv/lib/dotjs/anyOf.js", "../../../node_modules/ajv/lib/dotjs/comment.js", "../../../node_modules/ajv/lib/dotjs/const.js", "../../../node_modules/ajv/lib/dotjs/contains.js", "../../../node_modules/ajv/lib/dotjs/dependencies.js", "../../../node_modules/ajv/lib/dotjs/enum.js", "../../../node_modules/ajv/lib/dotjs/format.js", "../../../node_modules/ajv/lib/dotjs/if.js", "../../../node_modules/ajv/lib/dotjs/items.js", "../../../node_modules/ajv/lib/dotjs/_limit.js", "../../../node_modules/ajv/lib/dotjs/_limitItems.js", "../../../node_modules/ajv/lib/dotjs/_limitLength.js", "../../../node_modules/ajv/lib/dotjs/_limitProperties.js", "../../../node_modules/ajv/lib/dotjs/multipleOf.js", "../../../node_modules/ajv/lib/dotjs/not.js", "../../../node_modules/ajv/lib/dotjs/oneOf.js", "../../../node_modules/ajv/lib/dotjs/pattern.js", "../../../node_modules/ajv/lib/dotjs/properties.js", "../../../node_modules/ajv/lib/dotjs/propertyNames.js", "../../../node_modules/ajv/lib/dotjs/required.js", "../../../node_modules/ajv/lib/dotjs/uniqueItems.js", "../../../node_modules/ajv/lib/dotjs/index.js", "../../../node_modules/ajv/lib/compile/rules.js", "../../../node_modules/ajv/lib/data.js", "../../../node_modules/ajv/lib/compile/async.js", "../../../node_modules/ajv/lib/dotjs/custom.js", "../../../node_modules/ajv/lib/definition_schema.js", "../../../node_modules/ajv/lib/keyword.js", "../../../node_modules/ajv/lib/ajv.js", "../src/index.ts", "../src/api.ts", "../src/sync/common/utils.ts", "../../../node_modules/@babel/runtime/helpers/esm/typeof.js", "../../../node_modules/@babel/runtime/helpers/esm/defineProperty.js", "../../../node_modules/@babel/runtime/helpers/esm/objectSpread.js", "../../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js", "../../../node_modules/@babel/runtime/helpers/esm/createClass.js", "../../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js", "../../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js", "../../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js", "../../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js", "../../../node_modules/@babel/runtime/helpers/esm/inherits.js", "../../../node_modules/i18next/dist/esm/i18next.js", "../src/extensionLogger.ts", "../src/sync/v2/generate/objectPage.ts", "../src/sync/common/decoration/control.ts", "../../../node_modules/reflect-metadata/Reflect.js", "../src/sync/common/decoration/decorators.ts", "../src/sync/common/flexUtils.ts", "../src/sync/common/decoration/flex.ts", "../src/sync/common/import/utils.ts", "../src/sync/common/generate/objectPage.ts", "../src/sync/v4/utils/StableIdHelper.ts", "../src/sync/common/generate/utils.ts", "../src/sync/common/importProject.ts", "../src/sync/v2/import/app/appProvider.ts", "../src/sync/common/appProvider.ts", "../src/sync/v2/import/common/index.ts", "../src/sync/v2/import/controls/table.ts", "../src/sync/v2/export/manifest.ts", "../src/sync/v2/export/controls/index.ts", "../src/sync/v2/application.ts", "../src/sync/v2/export/controls/Card.ts", "../src/sync/v2/export/controls/Field.ts", "../src/sync/v2/export/controls/FilterBar.ts", "../src/sync/v2/export/controls/FormAction.ts", "../src/sync/v2/export/controls/Fragment.ts", "../src/sync/v2/export/view-controller-generator.ts", "../src/sync/v2/export/controls/Table.ts", "../src/sync/v2/export/controls/Action.ts", "../src/sync/v2/export/controls/TableColumn.ts", "../src/sync/v2/export/controls/ToolBar.ts", "../src/sync/v2/export/controls/AnalyticalListPageChart.ts", "../src/sync/v2/export/controls/AnalyticalListPageKPI.ts", "../src/sync/v2/export/controls/ObjectPageHeader.ts", "../src/sync/v2/export/controls/ObjectPageHeaderAction.ts", "../src/sync/v2/export/controls/ObjectPageFooterAction.ts", "../src/sync/v2/export/controls/ObjectPageLayout.ts", "../src/sync/v2/export/controls/ObjectPageCustomSection.ts", "../src/sync/v2/export/controls/ObjectPageSectionsV2.ts", "../src/sync/v2/export/controls/ObjectPageChart.ts", "../src/sync/v2/export/controls/ObjectPageTable.ts", "../src/sync/v2/export/controls/ObjectPageToolBarAction.ts", "../src/sync/v2/types.ts", "../src/sync/v2/import/pages/listReport.ts", "../src/i18n/i18n.ts", "../src/sync/i18n.ts", "../src/sync/v2/import/utils.ts", "../src/sync/v2/export/pages/index.ts", "../src/sync/v2/export/pages/AnalyticalListPage.ts", "../src/sync/v2/export/pages/ListReport.ts", "../src/sync/v2/export/pages/ObjectPage.ts", "../src/sync/v2/export/pages/OverviewPage.ts", "../src/sync/common/decoration/factory.ts", "../src/sync/v2/export/factory.ts", "../src/sync/v2/import/pages/analyticalListPage.ts", "../src/sync/v2/import/pages/objectPage.ts", "../src/sync/v2/import/app/ovpProvider.ts", "../src/sync/v2/import/pages/overviewPage.ts", "../src/sync/v2/export/export.ts", "../src/sync/v4/utils/utils.ts", "../src/sync/v4/generate/listReport.ts", "../src/sync/v4/generate/objectPage.ts", "../src/sync/v4/generate/freestylePage.ts", "../src/sync/v4/generate/generate.ts", "../src/sync/v4/application.ts", "../src/sync/v4/sync-rules/controllerExtensions.ts", "../src/sync/v4/import/pages/listReport.ts", "../src/sync/v4/import/utils.ts", "../src/sync/v4/export/controls/index.ts", "../src/sync/v4/export/controls/Table.ts", "../src/sync/v4/export/controls/TableColumn.ts", "../src/sync/v4/export/controls/ToolBar.ts", "../src/sync/v4/export/controls/ToolBarAction.ts", "../src/sync/v4/export/controls/ObjectPageToolBarAction.ts", "../src/sync/v4/export/controls/ObjectPageForm.ts", "../src/sync/v4/export/controls/ObjectPageFormAction.ts", "../src/sync/v4/export/controls/FilterBar.ts", "../src/sync/v4/export/controls/ObjectPageTableColumn.ts", "../src/sync/v4/export/controls/ObjectPageHeader.ts", "../src/sync/v4/export/controls/ObjectPageFooter.ts", "../src/sync/v4/export/controls/ObjectPageHeaderSection.ts", "../src/sync/v4/export/controls/ObjectPageLayout.ts", "../src/sync/v4/export/controls/ObjectPageTable.ts", "../src/sync/v4/export/controls/ObjectPageCustomSection.ts", "../src/sync/v4/export/controls/ObjectPageHeaderAction.ts", "../src/sync/v4/export/controls/ObjectPageFooterAction.ts", "../src/sync/v4/export/pages/index.ts", "../src/sync/v4/export/pages/ListReport.ts", "../src/sync/v4/export/pages/ObjectPage.ts", "../src/sync/v4/export/pages/FreestylePage.ts", "../src/sync/v4/export/factory.ts", "../src/sync/v4/import/pages/objectPage.ts", "../src/sync/v4/import/app/baseAppProvider.ts", "../src/sync/v4/import/app/appProvider.ts", "../src/sync/v4/import/app/freestyleProvider.ts", "../src/specification/schemaAccess.ts", "../src/sync/v2/generate/utils.ts", "../src/sync/v2/generate/listReport.ts", "../src/sync/v2/generate/analyticalListReport.ts", "../src/sync/v2/generate/overviewPage.ts", "../src/sync/v2/generate/generate.ts", "../src/sync/v2/export/exportPage.ts", "../src/sync/v4/export/exportCustomColumn.ts", "../src/sync/v4/export/utils.ts", "../src/sync/v4/export/manifest.ts", "../src/sync/v4/export/flexibleColumnLayout.ts", "../src/sync/v4/export/export.ts", "../src/project.ts"],
  "sourcesContent": ["var constants = require('constants')\n\nvar origCwd = process.cwd\nvar cwd = null\n\nvar platform = process.env.GRACEFUL_FS_PLATFORM || process.platform\n\nprocess.cwd = function() {\n  if (!cwd)\n    cwd = origCwd.call(process)\n  return cwd\n}\ntry {\n  process.cwd()\n} catch (er) {}\n\n// This check is needed until node.js 12 is required\nif (typeof process.chdir === 'function') {\n  var chdir = process.chdir\n  process.chdir = function (d) {\n    cwd = null\n    chdir.call(process, d)\n  }\n  if (Object.setPrototypeOf) Object.setPrototypeOf(process.chdir, chdir)\n}\n\nmodule.exports = patch\n\nfunction patch (fs) {\n  // (re-)implement some things that are known busted or missing.\n\n  // lchmod, broken prior to 0.6.2\n  // back-port the fix here.\n  if (constants.hasOwnProperty('O_SYMLINK') &&\n      process.version.match(/^v0\\.6\\.[0-2]|^v0\\.5\\./)) {\n    patchLchmod(fs)\n  }\n\n  // lutimes implementation, or no-op\n  if (!fs.lutimes) {\n    patchLutimes(fs)\n  }\n\n  // https://github.com/isaacs/node-graceful-fs/issues/4\n  // Chown should not fail on einval or eperm if non-root.\n  // It should not fail on enosys ever, as this just indicates\n  // that a fs doesn't support the intended operation.\n\n  fs.chown = chownFix(fs.chown)\n  fs.fchown = chownFix(fs.fchown)\n  fs.lchown = chownFix(fs.lchown)\n\n  fs.chmod = chmodFix(fs.chmod)\n  fs.fchmod = chmodFix(fs.fchmod)\n  fs.lchmod = chmodFix(fs.lchmod)\n\n  fs.chownSync = chownFixSync(fs.chownSync)\n  fs.fchownSync = chownFixSync(fs.fchownSync)\n  fs.lchownSync = chownFixSync(fs.lchownSync)\n\n  fs.chmodSync = chmodFixSync(fs.chmodSync)\n  fs.fchmodSync = chmodFixSync(fs.fchmodSync)\n  fs.lchmodSync = chmodFixSync(fs.lchmodSync)\n\n  fs.stat = statFix(fs.stat)\n  fs.fstat = statFix(fs.fstat)\n  fs.lstat = statFix(fs.lstat)\n\n  fs.statSync = statFixSync(fs.statSync)\n  fs.fstatSync = statFixSync(fs.fstatSync)\n  fs.lstatSync = statFixSync(fs.lstatSync)\n\n  // if lchmod/lchown do not exist, then make them no-ops\n  if (fs.chmod && !fs.lchmod) {\n    fs.lchmod = function (path, mode, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchmodSync = function () {}\n  }\n  if (fs.chown && !fs.lchown) {\n    fs.lchown = function (path, uid, gid, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchownSync = function () {}\n  }\n\n  // on Windows, A/V software can lock the directory, causing this\n  // to fail with an EACCES or EPERM if the directory contains newly\n  // created files.  Try again on failure, for up to 60 seconds.\n\n  // Set the timeout this long because some Windows Anti-Virus, such as Parity\n  // bit9, may lock files for up to a minute, causing npm package install\n  // failures. Also, take care to yield the scheduler. Windows scheduling gives\n  // CPU to a busy looping process, which can cause the program causing the lock\n  // contention to be starved of CPU by node, so the contention doesn't resolve.\n  if (platform === \"win32\") {\n    fs.rename = typeof fs.rename !== 'function' ? fs.rename\n    : (function (fs$rename) {\n      function rename (from, to, cb) {\n        var start = Date.now()\n        var backoff = 0;\n        fs$rename(from, to, function CB (er) {\n          if (er\n              && (er.code === \"EACCES\" || er.code === \"EPERM\")\n              && Date.now() - start < 60000) {\n            setTimeout(function() {\n              fs.stat(to, function (stater, st) {\n                if (stater && stater.code === \"ENOENT\")\n                  fs$rename(from, to, CB);\n                else\n                  cb(er)\n              })\n            }, backoff)\n            if (backoff < 100)\n              backoff += 10;\n            return;\n          }\n          if (cb) cb(er)\n        })\n      }\n      if (Object.setPrototypeOf) Object.setPrototypeOf(rename, fs$rename)\n      return rename\n    })(fs.rename)\n  }\n\n  // if read() returns EAGAIN, then just try it again.\n  fs.read = typeof fs.read !== 'function' ? fs.read\n  : (function (fs$read) {\n    function read (fd, buffer, offset, length, position, callback_) {\n      var callback\n      if (callback_ && typeof callback_ === 'function') {\n        var eagCounter = 0\n        callback = function (er, _, __) {\n          if (er && er.code === 'EAGAIN' && eagCounter < 10) {\n            eagCounter ++\n            return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n          }\n          callback_.apply(this, arguments)\n        }\n      }\n      return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n    }\n\n    // This ensures `util.promisify` works as it does for native `fs.read`.\n    if (Object.setPrototypeOf) Object.setPrototypeOf(read, fs$read)\n    return read\n  })(fs.read)\n\n  fs.readSync = typeof fs.readSync !== 'function' ? fs.readSync\n  : (function (fs$readSync) { return function (fd, buffer, offset, length, position) {\n    var eagCounter = 0\n    while (true) {\n      try {\n        return fs$readSync.call(fs, fd, buffer, offset, length, position)\n      } catch (er) {\n        if (er.code === 'EAGAIN' && eagCounter < 10) {\n          eagCounter ++\n          continue\n        }\n        throw er\n      }\n    }\n  }})(fs.readSync)\n\n  function patchLchmod (fs) {\n    fs.lchmod = function (path, mode, callback) {\n      fs.open( path\n             , constants.O_WRONLY | constants.O_SYMLINK\n             , mode\n             , function (err, fd) {\n        if (err) {\n          if (callback) callback(err)\n          return\n        }\n        // prefer to return the chmod error, if one occurs,\n        // but still try to close, and report closing errors if they occur.\n        fs.fchmod(fd, mode, function (err) {\n          fs.close(fd, function(err2) {\n            if (callback) callback(err || err2)\n          })\n        })\n      })\n    }\n\n    fs.lchmodSync = function (path, mode) {\n      var fd = fs.openSync(path, constants.O_WRONLY | constants.O_SYMLINK, mode)\n\n      // prefer to return the chmod error, if one occurs,\n      // but still try to close, and report closing errors if they occur.\n      var threw = true\n      var ret\n      try {\n        ret = fs.fchmodSync(fd, mode)\n        threw = false\n      } finally {\n        if (threw) {\n          try {\n            fs.closeSync(fd)\n          } catch (er) {}\n        } else {\n          fs.closeSync(fd)\n        }\n      }\n      return ret\n    }\n  }\n\n  function patchLutimes (fs) {\n    if (constants.hasOwnProperty(\"O_SYMLINK\") && fs.futimes) {\n      fs.lutimes = function (path, at, mt, cb) {\n        fs.open(path, constants.O_SYMLINK, function (er, fd) {\n          if (er) {\n            if (cb) cb(er)\n            return\n          }\n          fs.futimes(fd, at, mt, function (er) {\n            fs.close(fd, function (er2) {\n              if (cb) cb(er || er2)\n            })\n          })\n        })\n      }\n\n      fs.lutimesSync = function (path, at, mt) {\n        var fd = fs.openSync(path, constants.O_SYMLINK)\n        var ret\n        var threw = true\n        try {\n          ret = fs.futimesSync(fd, at, mt)\n          threw = false\n        } finally {\n          if (threw) {\n            try {\n              fs.closeSync(fd)\n            } catch (er) {}\n          } else {\n            fs.closeSync(fd)\n          }\n        }\n        return ret\n      }\n\n    } else if (fs.futimes) {\n      fs.lutimes = function (_a, _b, _c, cb) { if (cb) process.nextTick(cb) }\n      fs.lutimesSync = function () {}\n    }\n  }\n\n  function chmodFix (orig) {\n    if (!orig) return orig\n    return function (target, mode, cb) {\n      return orig.call(fs, target, mode, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chmodFixSync (orig) {\n    if (!orig) return orig\n    return function (target, mode) {\n      try {\n        return orig.call(fs, target, mode)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n\n  function chownFix (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid, cb) {\n      return orig.call(fs, target, uid, gid, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chownFixSync (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid) {\n      try {\n        return orig.call(fs, target, uid, gid)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n  function statFix (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options, cb) {\n      if (typeof options === 'function') {\n        cb = options\n        options = null\n      }\n      function callback (er, stats) {\n        if (stats) {\n          if (stats.uid < 0) stats.uid += 0x100000000\n          if (stats.gid < 0) stats.gid += 0x100000000\n        }\n        if (cb) cb.apply(this, arguments)\n      }\n      return options ? orig.call(fs, target, options, callback)\n        : orig.call(fs, target, callback)\n    }\n  }\n\n  function statFixSync (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options) {\n      var stats = options ? orig.call(fs, target, options)\n        : orig.call(fs, target)\n      if (stats) {\n        if (stats.uid < 0) stats.uid += 0x100000000\n        if (stats.gid < 0) stats.gid += 0x100000000\n      }\n      return stats;\n    }\n  }\n\n  // ENOSYS means that the fs doesn't support the op. Just ignore\n  // that, because it doesn't matter.\n  //\n  // if there's no getuid, or if getuid() is something other\n  // than 0, and the error is EINVAL or EPERM, then just ignore\n  // it.\n  //\n  // This specific case is a silent failure in cp, install, tar,\n  // and most other unix tools that manage permissions.\n  //\n  // When running as root, or if other types of errors are\n  // encountered, then it's strict.\n  function chownErOk (er) {\n    if (!er)\n      return true\n\n    if (er.code === \"ENOSYS\")\n      return true\n\n    var nonroot = !process.getuid || process.getuid() !== 0\n    if (nonroot) {\n      if (er.code === \"EINVAL\" || er.code === \"EPERM\")\n        return true\n    }\n\n    return false\n  }\n}\n", "var Stream = require('stream').Stream\n\nmodule.exports = legacy\n\nfunction legacy (fs) {\n  return {\n    ReadStream: ReadStream,\n    WriteStream: WriteStream\n  }\n\n  function ReadStream (path, options) {\n    if (!(this instanceof ReadStream)) return new ReadStream(path, options);\n\n    Stream.call(this);\n\n    var self = this;\n\n    this.path = path;\n    this.fd = null;\n    this.readable = true;\n    this.paused = false;\n\n    this.flags = 'r';\n    this.mode = 438; /*=0666*/\n    this.bufferSize = 64 * 1024;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.encoding) this.setEncoding(this.encoding);\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.end === undefined) {\n        this.end = Infinity;\n      } else if ('number' !== typeof this.end) {\n        throw TypeError('end must be a Number');\n      }\n\n      if (this.start > this.end) {\n        throw new Error('start must be <= end');\n      }\n\n      this.pos = this.start;\n    }\n\n    if (this.fd !== null) {\n      process.nextTick(function() {\n        self._read();\n      });\n      return;\n    }\n\n    fs.open(this.path, this.flags, this.mode, function (err, fd) {\n      if (err) {\n        self.emit('error', err);\n        self.readable = false;\n        return;\n      }\n\n      self.fd = fd;\n      self.emit('open', fd);\n      self._read();\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (!(this instanceof WriteStream)) return new WriteStream(path, options);\n\n    Stream.call(this);\n\n    this.path = path;\n    this.fd = null;\n    this.writable = true;\n\n    this.flags = 'w';\n    this.encoding = 'binary';\n    this.mode = 438; /*=0666*/\n    this.bytesWritten = 0;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.start < 0) {\n        throw new Error('start must be >= zero');\n      }\n\n      this.pos = this.start;\n    }\n\n    this.busy = false;\n    this._queue = [];\n\n    if (this.fd === null) {\n      this._open = fs.open;\n      this._queue.push([this._open, this.path, this.flags, this.mode, undefined]);\n      this.flush();\n    }\n  }\n}\n", "'use strict'\n\nmodule.exports = clone\n\nvar getPrototypeOf = Object.getPrototypeOf || function (obj) {\n  return obj.__proto__\n}\n\nfunction clone (obj) {\n  if (obj === null || typeof obj !== 'object')\n    return obj\n\n  if (obj instanceof Object)\n    var copy = { __proto__: getPrototypeOf(obj) }\n  else\n    var copy = Object.create(null)\n\n  Object.getOwnPropertyNames(obj).forEach(function (key) {\n    Object.defineProperty(copy, key, Object.getOwnPropertyDescriptor(obj, key))\n  })\n\n  return copy\n}\n", "var fs = require('fs')\nvar polyfills = require('./polyfills.js')\nvar legacy = require('./legacy-streams.js')\nvar clone = require('./clone.js')\n\nvar util = require('util')\n\n/* istanbul ignore next - node 0.x polyfill */\nvar gracefulQueue\nvar previousSymbol\n\n/* istanbul ignore else - node 0.x polyfill */\nif (typeof Symbol === 'function' && typeof Symbol.for === 'function') {\n  gracefulQueue = Symbol.for('graceful-fs.queue')\n  // This is used in testing by future versions\n  previousSymbol = Symbol.for('graceful-fs.previous')\n} else {\n  gracefulQueue = '___graceful-fs.queue'\n  previousSymbol = '___graceful-fs.previous'\n}\n\nfunction noop () {}\n\nfunction publishQueue(context, queue) {\n  Object.defineProperty(context, gracefulQueue, {\n    get: function() {\n      return queue\n    }\n  })\n}\n\nvar debug = noop\nif (util.debuglog)\n  debug = util.debuglog('gfs4')\nelse if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || ''))\n  debug = function() {\n    var m = util.format.apply(util, arguments)\n    m = 'GFS4: ' + m.split(/\\n/).join('\\nGFS4: ')\n    console.error(m)\n  }\n\n// Once time initialization\nif (!fs[gracefulQueue]) {\n  // This queue can be shared by multiple loaded instances\n  var queue = global[gracefulQueue] || []\n  publishQueue(fs, queue)\n\n  // Patch fs.close/closeSync to shared queue version, because we need\n  // to retry() whenever a close happens *anywhere* in the program.\n  // This is essential when multiple graceful-fs instances are\n  // in play at the same time.\n  fs.close = (function (fs$close) {\n    function close (fd, cb) {\n      return fs$close.call(fs, fd, function (err) {\n        // This function uses the graceful-fs shared queue\n        if (!err) {\n          resetQueue()\n        }\n\n        if (typeof cb === 'function')\n          cb.apply(this, arguments)\n      })\n    }\n\n    Object.defineProperty(close, previousSymbol, {\n      value: fs$close\n    })\n    return close\n  })(fs.close)\n\n  fs.closeSync = (function (fs$closeSync) {\n    function closeSync (fd) {\n      // This function uses the graceful-fs shared queue\n      fs$closeSync.apply(fs, arguments)\n      resetQueue()\n    }\n\n    Object.defineProperty(closeSync, previousSymbol, {\n      value: fs$closeSync\n    })\n    return closeSync\n  })(fs.closeSync)\n\n  if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || '')) {\n    process.on('exit', function() {\n      debug(fs[gracefulQueue])\n      require('assert').equal(fs[gracefulQueue].length, 0)\n    })\n  }\n}\n\nif (!global[gracefulQueue]) {\n  publishQueue(global, fs[gracefulQueue]);\n}\n\nmodule.exports = patch(clone(fs))\nif (process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH && !fs.__patched) {\n    module.exports = patch(fs)\n    fs.__patched = true;\n}\n\nfunction patch (fs) {\n  // Everything that references the open() function needs to be in here\n  polyfills(fs)\n  fs.gracefulify = patch\n\n  fs.createReadStream = createReadStream\n  fs.createWriteStream = createWriteStream\n  var fs$readFile = fs.readFile\n  fs.readFile = readFile\n  function readFile (path, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$readFile(path, options, cb)\n\n    function go$readFile (path, options, cb, startTime) {\n      return fs$readFile(path, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$readFile, [path, options, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$writeFile = fs.writeFile\n  fs.writeFile = writeFile\n  function writeFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$writeFile(path, data, options, cb)\n\n    function go$writeFile (path, data, options, cb, startTime) {\n      return fs$writeFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$writeFile, [path, data, options, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$appendFile = fs.appendFile\n  if (fs$appendFile)\n    fs.appendFile = appendFile\n  function appendFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$appendFile(path, data, options, cb)\n\n    function go$appendFile (path, data, options, cb, startTime) {\n      return fs$appendFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$appendFile, [path, data, options, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$copyFile = fs.copyFile\n  if (fs$copyFile)\n    fs.copyFile = copyFile\n  function copyFile (src, dest, flags, cb) {\n    if (typeof flags === 'function') {\n      cb = flags\n      flags = 0\n    }\n    return go$copyFile(src, dest, flags, cb)\n\n    function go$copyFile (src, dest, flags, cb, startTime) {\n      return fs$copyFile(src, dest, flags, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$copyFile, [src, dest, flags, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$readdir = fs.readdir\n  fs.readdir = readdir\n  var noReaddirOptionVersions = /^v[0-5]\\./\n  function readdir (path, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    var go$readdir = noReaddirOptionVersions.test(process.version)\n      ? function go$readdir (path, options, cb, startTime) {\n        return fs$readdir(path, fs$readdirCallback(\n          path, options, cb, startTime\n        ))\n      }\n      : function go$readdir (path, options, cb, startTime) {\n        return fs$readdir(path, options, fs$readdirCallback(\n          path, options, cb, startTime\n        ))\n      }\n\n    return go$readdir(path, options, cb)\n\n    function fs$readdirCallback (path, options, cb, startTime) {\n      return function (err, files) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([\n            go$readdir,\n            [path, options, cb],\n            err,\n            startTime || Date.now(),\n            Date.now()\n          ])\n        else {\n          if (files && files.sort)\n            files.sort()\n\n          if (typeof cb === 'function')\n            cb.call(this, err, files)\n        }\n      }\n    }\n  }\n\n  if (process.version.substr(0, 4) === 'v0.8') {\n    var legStreams = legacy(fs)\n    ReadStream = legStreams.ReadStream\n    WriteStream = legStreams.WriteStream\n  }\n\n  var fs$ReadStream = fs.ReadStream\n  if (fs$ReadStream) {\n    ReadStream.prototype = Object.create(fs$ReadStream.prototype)\n    ReadStream.prototype.open = ReadStream$open\n  }\n\n  var fs$WriteStream = fs.WriteStream\n  if (fs$WriteStream) {\n    WriteStream.prototype = Object.create(fs$WriteStream.prototype)\n    WriteStream.prototype.open = WriteStream$open\n  }\n\n  Object.defineProperty(fs, 'ReadStream', {\n    get: function () {\n      return ReadStream\n    },\n    set: function (val) {\n      ReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  Object.defineProperty(fs, 'WriteStream', {\n    get: function () {\n      return WriteStream\n    },\n    set: function (val) {\n      WriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  // legacy names\n  var FileReadStream = ReadStream\n  Object.defineProperty(fs, 'FileReadStream', {\n    get: function () {\n      return FileReadStream\n    },\n    set: function (val) {\n      FileReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  var FileWriteStream = WriteStream\n  Object.defineProperty(fs, 'FileWriteStream', {\n    get: function () {\n      return FileWriteStream\n    },\n    set: function (val) {\n      FileWriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  function ReadStream (path, options) {\n    if (this instanceof ReadStream)\n      return fs$ReadStream.apply(this, arguments), this\n    else\n      return ReadStream.apply(Object.create(ReadStream.prototype), arguments)\n  }\n\n  function ReadStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        if (that.autoClose)\n          that.destroy()\n\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n        that.read()\n      }\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (this instanceof WriteStream)\n      return fs$WriteStream.apply(this, arguments), this\n    else\n      return WriteStream.apply(Object.create(WriteStream.prototype), arguments)\n  }\n\n  function WriteStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        that.destroy()\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n      }\n    })\n  }\n\n  function createReadStream (path, options) {\n    return new fs.ReadStream(path, options)\n  }\n\n  function createWriteStream (path, options) {\n    return new fs.WriteStream(path, options)\n  }\n\n  var fs$open = fs.open\n  fs.open = open\n  function open (path, flags, mode, cb) {\n    if (typeof mode === 'function')\n      cb = mode, mode = null\n\n    return go$open(path, flags, mode, cb)\n\n    function go$open (path, flags, mode, cb, startTime) {\n      return fs$open(path, flags, mode, function (err, fd) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$open, [path, flags, mode, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  return fs\n}\n\nfunction enqueue (elem) {\n  debug('ENQUEUE', elem[0].name, elem[1])\n  fs[gracefulQueue].push(elem)\n  retry()\n}\n\n// keep track of the timeout between retry() calls\nvar retryTimer\n\n// reset the startTime and lastTime to now\n// this resets the start of the 60 second overall timeout as well as the\n// delay between attempts so that we'll retry these jobs sooner\nfunction resetQueue () {\n  var now = Date.now()\n  for (var i = 0; i < fs[gracefulQueue].length; ++i) {\n    // entries that are only a length of 2 are from an older version, don't\n    // bother modifying those since they'll be retried anyway.\n    if (fs[gracefulQueue][i].length > 2) {\n      fs[gracefulQueue][i][3] = now // startTime\n      fs[gracefulQueue][i][4] = now // lastTime\n    }\n  }\n  // call retry to make sure we're actively processing the queue\n  retry()\n}\n\nfunction retry () {\n  // clear the timer and remove it to help prevent unintended concurrency\n  clearTimeout(retryTimer)\n  retryTimer = undefined\n\n  if (fs[gracefulQueue].length === 0)\n    return\n\n  var elem = fs[gracefulQueue].shift()\n  var fn = elem[0]\n  var args = elem[1]\n  // these items may be unset if they were added by an older graceful-fs\n  var err = elem[2]\n  var startTime = elem[3]\n  var lastTime = elem[4]\n\n  // if we don't have a startTime we have no way of knowing if we've waited\n  // long enough, so go ahead and retry this item now\n  if (startTime === undefined) {\n    debug('RETRY', fn.name, args)\n    fn.apply(null, args)\n  } else if (Date.now() - startTime >= 60000) {\n    // it's been more than 60 seconds total, bail now\n    debug('TIMEOUT', fn.name, args)\n    var cb = args.pop()\n    if (typeof cb === 'function')\n      cb.call(null, err)\n  } else {\n    // the amount of time between the last attempt and right now\n    var sinceAttempt = Date.now() - lastTime\n    // the amount of time between when we first tried, and when we last tried\n    // rounded up to at least 1\n    var sinceStart = Math.max(lastTime - startTime, 1)\n    // backoff. wait longer than the total time we've been retrying, but only\n    // up to a maximum of 100ms\n    var desiredDelay = Math.min(sinceStart * 1.2, 100)\n    // it's been long enough since the last retry, do it again\n    if (sinceAttempt >= desiredDelay) {\n      debug('RETRY', fn.name, args)\n      fn.apply(null, args.concat([startTime]))\n    } else {\n      // if we can't do this job yet, push it to the end of the queue\n      // and let the next iteration check again\n      fs[gracefulQueue].push(elem)\n    }\n  }\n\n  // schedule our next run if one isn't already scheduled\n  if (retryTimer === undefined) {\n    retryTimer = setTimeout(retry, 0)\n  }\n}\n", "\nexports = module.exports = function(bytes)\n{\n    var i = 0;\n    while(i < bytes.length)\n    {\n        if(     (// ASCII\n                    bytes[i] == 0x09 ||\n                    bytes[i] == 0x0A ||\n                    bytes[i] == 0x0D ||\n                    (0x20 <= bytes[i] && bytes[i] <= 0x7E)\n                )\n          ) {\n              i += 1;\n              continue;\n          }\n\n        if(     (// non-overlong 2-byte\n                    (0xC2 <= bytes[i] && bytes[i] <= 0xDF) &&\n                    (0x80 <= bytes[i+1] && bytes[i+1] <= 0xBF)\n                )\n          ) {\n              i += 2;\n              continue;\n          }\n\n        if(     (// excluding overlongs\n                    bytes[i] == 0xE0 &&\n                    (0xA0 <= bytes[i + 1] && bytes[i + 1] <= 0xBF) &&\n                    (0x80 <= bytes[i + 2] && bytes[i + 2] <= 0xBF)\n                ) ||\n                (// straight 3-byte\n                 ((0xE1 <= bytes[i] && bytes[i] <= 0xEC) ||\n                  bytes[i] == 0xEE ||\n                  bytes[i] == 0xEF) &&\n                 (0x80 <= bytes[i + 1] && bytes[i+1] <= 0xBF) &&\n                 (0x80 <= bytes[i+2] && bytes[i+2] <= 0xBF)\n                ) ||\n                (// excluding surrogates\n                 bytes[i] == 0xED &&\n                 (0x80 <= bytes[i+1] && bytes[i+1] <= 0x9F) &&\n                 (0x80 <= bytes[i+2] && bytes[i+2] <= 0xBF)\n                )\n          ) {\n              i += 3;\n              continue;\n          }\n\n        if(     (// planes 1-3\n                    bytes[i] == 0xF0 &&\n                    (0x90 <= bytes[i + 1] && bytes[i + 1] <= 0xBF) &&\n                    (0x80 <= bytes[i + 2] && bytes[i + 2] <= 0xBF) &&\n                    (0x80 <= bytes[i + 3] && bytes[i + 3] <= 0xBF)\n                ) ||\n                (// planes 4-15\n                 (0xF1 <= bytes[i] && bytes[i] <= 0xF3) &&\n                 (0x80 <= bytes[i + 1] && bytes[i + 1] <= 0xBF) &&\n                 (0x80 <= bytes[i + 2] && bytes[i + 2] <= 0xBF) &&\n                 (0x80 <= bytes[i + 3] && bytes[i + 3] <= 0xBF)\n                ) ||\n                (// plane 16\n                 bytes[i] == 0xF4 &&\n                 (0x80 <= bytes[i + 1] && bytes[i + 1] <= 0x8F) &&\n                 (0x80 <= bytes[i + 2] && bytes[i + 2] <= 0xBF) &&\n                 (0x80 <= bytes[i + 3] && bytes[i + 3] <= 0xBF)\n                )\n          ) {\n              i += 4;\n              continue;\n          }\n\n        return false;\n    }\n\n    return true;\n}\n", "'use strict';\nconst isUtf8 = require('is-utf8');\n\nmodule.exports = x => {\n\tif (!Buffer.isBuffer(x)) {\n\t\tthrow new TypeError('Expected a Buffer, got ' + typeof x);\n\t}\n\n\tif (x[0] === 0xEF && x[1] === 0xBB && x[2] === 0xBF && isUtf8(x)) {\n\t\treturn x.slice(3);\n\t}\n\n\treturn x;\n};\n", "'use strict';\n\nif (typeof process === 'undefined' ||\n    !process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = { nextTick: nextTick };\n} else {\n  module.exports = process\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n\n", "var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n", "module.exports = require('stream');\n", "/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\nfunction isArray(arg) {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return objectToString(arg) === '[object Array]';\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('buffer').Buffer.isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n", "if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n", "try {\n  var util = require('util');\n  /* istanbul ignore next */\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  /* istanbul ignore next */\n  module.exports = require('./inherits_browser.js');\n}\n", "'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Buffer = require('safe-buffer').Buffer;\nvar util = require('util');\n\nfunction copyBuffer(src, target, offset) {\n  src.copy(target, offset);\n}\n\nmodule.exports = function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  BufferList.prototype.push = function push(v) {\n    var entry = { data: v, next: null };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.unshift = function unshift(v) {\n    var entry = { data: v, next: this.head };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  BufferList.prototype.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  BufferList.prototype.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) {\n      ret += s + p.data;\n    }return ret;\n  };\n\n  BufferList.prototype.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    if (this.length === 1) return this.head.data;\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  };\n\n  return BufferList;\n}();\n\nif (util && util.inspect && util.inspect.custom) {\n  module.exports.prototype[util.inspect.custom] = function () {\n    var obj = util.inspect({ length: this.length });\n    return this.constructor.name + ' ' + obj;\n  };\n}", "'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {\n      pna.nextTick(emitErrorNT, this, err);\n    }\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      pna.nextTick(emitErrorNT, _this, err);\n      if (_this._writableState) {\n        _this._writableState.errorEmitted = true;\n      }\n    } else if (cb) {\n      cb(err);\n    }\n  });\n\n  return this;\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};", "\n/**\n * For Node.js, simply re-export the core `util.deprecate` function.\n */\n\nmodule.exports = require('util').deprecate;\n", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : pna.nextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var writableHwm = options.writableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (writableHwm || writableHwm === 0)) this.highWaterMark = writableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  pna.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    pna.nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    pna.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    pna.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      pna.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) pna.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n  if (state.corkedRequestsFree) {\n    state.corkedRequestsFree.next = corkReq;\n  } else {\n    state.corkedRequestsFree = corkReq;\n  }\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\n{\n  // avoid scope creep, the keys array can then be collected\n  var keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  pna.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});\n\nDuplex.prototype._destroy = function (err, cb) {\n  this.push(null);\n  this.end();\n\n  pna.nextTick(cb, err);\n};", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function (emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug = void 0;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/BufferList');\nvar destroyImpl = require('./internal/streams/destroy');\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var readableHwm = options.readableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (readableHwm || readableHwm === 0)) this.highWaterMark = readableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\n\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  this.push(null);\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      stream.emit('error', er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) stream.emit('error', new Error('stream.unshift() after end event'));else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        stream.emit('error', new Error('stream.push() after EOF'));\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n    }\n  }\n\n  return needMoreData(state);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    stream.emit('data', chunk);\n    stream.read(0);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) pna.nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    pna.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('_read() is not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) pna.nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = { hasUnpiped: false };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, unpipeInfo);\n    }return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this, unpipeInfo);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        pna.nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    pna.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._readableState.highWaterMark;\n  }\n});\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    pna.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) {\n    return this.emit('error', new Error('write callback called multiple times'));\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n\n  cb(er);\n\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function') {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('_transform() is not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  var _this2 = this;\n\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n    _this2.emit('close');\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (stream._transformState.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};", "var Stream = require('stream');\nif (process.env.READABLE_STREAM === 'disable' && Stream) {\n  module.exports = Stream;\n  exports = module.exports = Stream.Readable;\n  exports.Readable = Stream.Readable;\n  exports.Writable = Stream.Writable;\n  exports.Duplex = Stream.Duplex;\n  exports.Transform = Stream.Transform;\n  exports.PassThrough = Stream.PassThrough;\n  exports.Stream = Stream;\n} else {\n  exports = module.exports = require('./lib/_stream_readable.js');\n  exports.Stream = Stream || exports;\n  exports.Readable = exports;\n  exports.Writable = require('./lib/_stream_writable.js');\n  exports.Duplex = require('./lib/_stream_duplex.js');\n  exports.Transform = require('./lib/_stream_transform.js');\n  exports.PassThrough = require('./lib/_stream_passthrough.js');\n}\n", "'use strict';\nvar util = require('util');\nvar Duplex = require('readable-stream').Duplex;\n\nfunction FirstChunkStream(options, cb) {\n\tvar _this = this;\n\tvar _state = {\n\t\tsent: false,\n\t\tchunks: [],\n\t\tsize: 0\n\t};\n\n\tif (!(this instanceof FirstChunkStream)) {\n\t\treturn new FirstChunkStream(options, cb);\n\t}\n\n\toptions = options || {};\n\n\tif (!(cb instanceof Function)) {\n\t\tthrow new Error('FirstChunkStream constructor requires a callback as its second argument.');\n\t}\n\n\tif (typeof options.chunkLength !== 'number') {\n\t\tthrow new Error('FirstChunkStream constructor requires `options.chunkLength` to be a number.');\n\t}\n\n\tif (options.objectMode) {\n\t\tthrow new Error('FirstChunkStream doesn\\'t support `objectMode` yet.');\n\t}\n\n\tDuplex.call(this, options);\n\n\t// Initialize the internal state\n\t_state.manager = createReadStreamBackpressureManager(this);\n\n\t// Errors management\n\t// We need to execute the callback or emit en error dependending on the fact\n\t// the firstChunk is sent or not\n\t_state.errorHandler = function firstChunkStreamErrorHandler(err) {\n\t\tprocessCallback(err, Buffer.concat(_state.chunks, _state.size), _state.encoding, function () {});\n\t};\n\n\tthis.on('error', _state.errorHandler);\n\n\t// Callback management\n\tfunction processCallback(err, buf, encoding, done) {\n\t\t// When doing sync writes + emiting an errror it can happen that\n\t\t// Remove the error listener on the next tick if an error where fired\n\t\t// to avoid unwanted error throwing\n\t\tif (err) {\n\t\t\tsetImmediate(function () {\n\t\t\t\t_this.removeListener('error', _state.errorHandler);\n\t\t\t});\n\t\t} else {\n\t\t\t_this.removeListener('error', _state.errorHandler);\n\t\t}\n\n\t\t_state.sent = true;\n\n\t\tcb(err, buf, encoding, function (err, buf, encoding) {\n\t\t\tif (err) {\n\t\t\t\tsetImmediate(function () {\n\t\t\t\t\t_this.emit('error', err);\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!buf) {\n\t\t\t\tdone();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_state.manager.programPush(buf, encoding, done);\n\t\t});\n\t}\n\n\t// Writes management\n\tthis._write = function firstChunkStreamWrite(chunk, encoding, done) {\n\t\t_state.encoding = encoding;\n\n\t\tif (_state.sent) {\n\t\t\t_state.manager.programPush(chunk, _state.encoding, done);\n\t\t} else if (chunk.length < options.chunkLength - _state.size) {\n\t\t\t_state.chunks.push(chunk);\n\t\t\t_state.size += chunk.length;\n\t\t\tdone();\n\t\t} else {\n\t\t\t_state.chunks.push(chunk.slice(0, options.chunkLength - _state.size));\n\t\t\tchunk = chunk.slice(options.chunkLength - _state.size);\n\t\t\t_state.size += _state.chunks[_state.chunks.length - 1].length;\n\n\t\t\tprocessCallback(null, Buffer.concat(_state.chunks, _state.size), _state.encoding, function () {\n\t\t\t\tif (!chunk.length) {\n\t\t\t\t\tdone();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t_state.manager.programPush(chunk, _state.encoding, done);\n\t\t\t});\n\t\t}\n\t};\n\n\tthis.on('finish', function firstChunkStreamFinish() {\n\t\tif (!_state.sent) {\n\t\t\treturn processCallback(null, Buffer.concat(_state.chunks, _state.size), _state.encoding, function () {\n\t\t\t\t_state.manager.programPush(null, _state.encoding);\n\t\t\t});\n\t\t}\n\n\t\t_state.manager.programPush(null, _state.encoding);\n\t});\n}\n\nutil.inherits(FirstChunkStream, Duplex);\n\n// Utils to manage readable stream backpressure\nfunction createReadStreamBackpressureManager(readableStream) {\n\tvar manager = {\n\t\twaitPush: true,\n\t\tprogrammedPushs: [],\n\t\tprogramPush: function programPush(chunk, encoding, done) {\n\t\t\tdone = done || function () {};\n\t\t\t// Store the current write\n\t\t\tmanager.programmedPushs.push([chunk, encoding, done]);\n\t\t\t// Need to be async to avoid nested push attempts\n\t\t\t// Programm a push attempt\n\t\t\tsetImmediate(manager.attemptPush);\n\t\t\t// Let's say we're ready for a read\n\t\t\treadableStream.emit('readable');\n\t\t\treadableStream.emit('drain');\n\t\t},\n\t\tattemptPush: function () {\n\t\t\tvar nextPush;\n\n\t\t\tif (manager.waitPush) {\n\t\t\t\tif (manager.programmedPushs.length) {\n\t\t\t\t\tnextPush = manager.programmedPushs.shift();\n\t\t\t\t\tmanager.waitPush = readableStream.push(nextPush[0], nextPush[1]);\n\t\t\t\t\t(nextPush[2])();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetImmediate(function () {\n\t\t\t\t\t// Need to be async to avoid nested push attempts\n\t\t\t\t\treadableStream.emit('readable');\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\t// Patch the readable stream to manage reads\n\treadableStream._read = function streamFilterRestoreRead() {\n\t\tmanager.waitPush = true;\n\t\t// Need to be async to avoid nested push attempts\n\t\tsetImmediate(manager.attemptPush);\n\t};\n\n\treturn manager;\n}\n\nmodule.exports = FirstChunkStream;\n", "'use strict';\nvar isUtf8 = require('is-utf8');\n\nmodule.exports = function (x) {\n\t// Catches EFBBBF (UTF-8 BOM) because the buffer-to-string\n\t// conversion translates it to FEFF (UTF-16 BOM)\n\tif (typeof x === 'string' && x.charCodeAt(0) === 0xFEFF) {\n\t\treturn x.slice(1);\n\t}\n\n\tif (Buffer.isBuffer(x) && isUtf8(x) &&\n\t\tx[0] === 0xEF && x[1] === 0xBB && x[2] === 0xBF) {\n\t\treturn x.slice(3);\n\t}\n\n\treturn x;\n};\n", "'use strict';\nvar firstChunk = require('first-chunk-stream');\nvar stripBom = require('strip-bom');\n\nmodule.exports = function () {\n\treturn firstChunk({chunkLength: 3}, function (err, chunk, enc, cb) {\n\t\tif (err) {\n\t\t\tcb(err);\n\t\t\treturn;\n\t\t}\n\n\t\tcb(null, stripBom(chunk));\n\t});\n};\n", "var clone = (function() {\n'use strict';\n\nfunction _instanceof(obj, type) {\n  return type != null && obj instanceof type;\n}\n\nvar nativeMap;\ntry {\n  nativeMap = Map;\n} catch(_) {\n  // maybe a reference error because no `Map`. Give it a dummy value that no\n  // value will ever be an instanceof.\n  nativeMap = function() {};\n}\n\nvar nativeSet;\ntry {\n  nativeSet = Set;\n} catch(_) {\n  nativeSet = function() {};\n}\n\nvar nativePromise;\ntry {\n  nativePromise = Promise;\n} catch(_) {\n  nativePromise = function() {};\n}\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n *    should be cloned as well. Non-enumerable properties on the prototype\n *    chain will be ignored. (optional - false by default)\n*/\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    includeNonEnumerable = circular.includeNonEnumerable;\n    circular = circular.circular;\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth === 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      child = new nativeMap();\n    } else if (_instanceof(parent, nativeSet)) {\n      child = new nativeSet();\n    } else if (_instanceof(parent, nativePromise)) {\n      child = new nativePromise(function (resolve, reject) {\n        parent.then(function(value) {\n          resolve(_clone(value, depth - 1));\n        }, function(err) {\n          reject(_clone(err, depth - 1));\n        });\n      });\n    } else if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      if (Buffer.allocUnsafe) {\n        // Node.js >= 4.5.0\n        child = Buffer.allocUnsafe(parent.length);\n      } else {\n        // Older Node.js versions\n        child = new Buffer(parent.length);\n      }\n      parent.copy(child);\n      return child;\n    } else if (_instanceof(parent, Error)) {\n      child = Object.create(parent);\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      parent.forEach(function(value, key) {\n        var keyChild = _clone(key, depth - 1);\n        var valueChild = _clone(value, depth - 1);\n        child.set(keyChild, valueChild);\n      });\n    }\n    if (_instanceof(parent, nativeSet)) {\n      parent.forEach(function(value) {\n        var entryChild = _clone(value, depth - 1);\n        child.add(entryChild);\n      });\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(parent);\n      for (var i = 0; i < symbols.length; i++) {\n        // Don't need to worry about cloning a symbol because it is a primitive,\n        // like a number or string.\n        var symbol = symbols[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n          continue;\n        }\n        child[symbol] = _clone(parent[symbol], depth - 1);\n        if (!descriptor.enumerable) {\n          Object.defineProperty(child, symbol, {\n            enumerable: false\n          });\n        }\n      }\n    }\n\n    if (includeNonEnumerable) {\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\n      for (var i = 0; i < allPropertyNames.length; i++) {\n        var propertyName = allPropertyNames[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n        if (descriptor && descriptor.enumerable) {\n          continue;\n        }\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\n        Object.defineProperty(child, propertyName, {\n          enumerable: false\n        });\n      }\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n}\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n}\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n}\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n}\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n}\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n", "'use strict'\n\nvar PassThrough = require('readable-stream').PassThrough\nvar inherits = require('inherits')\nvar p = require('process-nextick-args')\n\nfunction Cloneable (stream, opts) {\n  if (!(this instanceof Cloneable)) {\n    return new Cloneable(stream, opts)\n  }\n\n  var objectMode = stream._readableState.objectMode\n  this._original = stream\n  this._clonesCount = 1\n\n  opts = opts || {}\n  opts.objectMode = objectMode\n\n  PassThrough.call(this, opts)\n\n  forwardDestroy(stream, this)\n\n  this.on('newListener', onData)\n  this.once('resume', onResume)\n\n  this._hasListener = true\n}\n\ninherits(Cloneable, PassThrough)\n\nfunction onData (event, listener) {\n  if (event === 'data' || event === 'readable') {\n    this._hasListener = false\n    this.removeListener('newListener', onData)\n    this.removeListener('resume', onResume)\n    p.nextTick(clonePiped, this)\n  }\n}\n\nfunction onResume () {\n  this._hasListener = false\n  this.removeListener('newListener', onData)\n  p.nextTick(clonePiped, this)\n}\n\nCloneable.prototype.clone = function () {\n  if (!this._original) {\n    throw new Error('already started')\n  }\n\n  this._clonesCount++\n\n  // the events added by the clone should not count\n  // for starting the flow\n  this.removeListener('newListener', onData)\n  var clone = new Clone(this)\n  if (this._hasListener) {\n    this.on('newListener', onData)\n  }\n\n  return clone\n}\n\nCloneable.prototype._destroy = function (err, cb) {\n  if (!err) {\n    this.push(null)\n    this.end()\n    this.emit('close')\n  }\n\n  p.nextTick(cb, err)\n}\n\nfunction forwardDestroy (src, dest) {\n  src.on('error', destroy)\n  src.on('close', onClose)\n\n  function destroy (err) {\n    src.removeListener('close', onClose)\n    dest.destroy(err)\n  }\n\n  function onClose () {\n    dest.end()\n  }\n}\n\nfunction clonePiped (that) {\n  if (--that._clonesCount === 0 && !that._readableState.destroyed) {\n    that._original.pipe(that)\n    that._original = undefined\n  }\n}\n\nfunction Clone (parent, opts) {\n  if (!(this instanceof Clone)) {\n    return new Clone(parent, opts)\n  }\n\n  var objectMode = parent._readableState.objectMode\n\n  opts = opts || {}\n  opts.objectMode = objectMode\n\n  this.parent = parent\n\n  PassThrough.call(this, opts)\n\n  forwardDestroy(parent, this)\n\n  parent.pipe(this)\n\n  // the events added by the clone should not count\n  // for starting the flow\n  // so we add the newListener handle after we are done\n  this.on('newListener', onDataClone)\n  this.on('resume', onResumeClone)\n}\n\nfunction onDataClone (event, listener) {\n  // We start the flow once all clones are piped or destroyed\n  if (event === 'data' || event === 'readable' || event === 'close') {\n    p.nextTick(clonePiped, this.parent)\n    this.removeListener('newListener', onDataClone)\n  }\n}\n\nfunction onResumeClone () {\n  this.removeListener('newListener', onDataClone)\n  p.nextTick(clonePiped, this.parent)\n}\n\ninherits(Clone, PassThrough)\n\nClone.prototype.clone = function () {\n  return this.parent.clone()\n}\n\nCloneable.isCloneable = function (stream) {\n  return stream instanceof Cloneable || stream instanceof Clone\n}\n\nClone.prototype._destroy = function (err, cb) {\n  if (!err) {\n    this.push(null)\n    this.end()\n    this.emit('close')\n  }\n\n  p.nextTick(cb, err)\n}\n\nmodule.exports = Cloneable\n", "'use strict';\n\nvar path = require('path');\n\nfunction replaceExt(npath, ext) {\n  if (typeof npath !== 'string') {\n    return npath;\n  }\n\n  if (npath.length === 0) {\n    return npath;\n  }\n\n  var nFileName = path.basename(npath, path.extname(npath)) + ext;\n  var nFilepath = path.join(path.dirname(npath), nFileName);\n\n  // Because `path.join` removes the head './' from the given path.\n  // This removal can cause a problem when passing the result to `require` or\n  // `import`.\n  if (startsWithSingleDot(npath)) {\n    return '.' + path.sep + nFilepath;\n  }\n\n  return nFilepath;\n}\n\nfunction startsWithSingleDot(fpath) {\n  var first2chars = fpath.slice(0, 2);\n  return (first2chars === '.' + path.sep) ||\n         (first2chars === './');\n}\n\nmodule.exports = replaceExt;\n", "var Stat = require('fs').Stats\n\nmodule.exports = cloneStats\n\nfunction cloneStats(stats) {\n  var replacement = new Stat\n\n  Object.keys(stats).forEach(function(key) {\n    replacement[key] = stats[key]\n  })\n\n  return replacement\n}\n", "'use strict';\n\nvar Buffer = require('buffer').Buffer;\n\nfunction hasFrom() {\n  // Node versions 5.x below 5.10 seem to have a `from` method\n  // However, it doesn't clone Buffers\n  // Luckily, it reports as `false` to hasOwnProperty\n  return (Buffer.hasOwnProperty('from') && typeof Buffer.from === 'function');\n}\n\nfunction cloneBuffer(buf) {\n  if (!Buffer.isBuffer(buf)) {\n    throw new Error('Can only clone Buffer.');\n  }\n\n  if (hasFrom()) {\n    return Buffer.from(buf);\n  }\n\n  var copy = new Buffer(buf.length);\n  buf.copy(copy);\n  return copy;\n}\n\ncloneBuffer.hasFrom = hasFrom;\n\nmodule.exports = cloneBuffer;\n", "var isWin = process.platform === 'win32';\n\nmodule.exports = function (str) {\n\tvar i = str.length - 1;\n\tif (i < 2) {\n\t\treturn str;\n\t}\n\twhile (isSeparator(str, i)) {\n\t\ti--;\n\t}\n\treturn str.substr(0, i + 1);\n};\n\nfunction isSeparator(str, i) {\n\tvar char = str[i];\n\treturn i > 0 && (char === '/' || (isWin && char === '\\\\'));\n}\n", "'use strict';\n\nfunction isStream(stream) {\n  if (!stream) {\n    return false;\n  }\n\n  if (typeof stream.pipe !== 'function') {\n    return false;\n  }\n\n  return true;\n}\n\nmodule.exports = isStream;\n", "'use strict';\n\nvar path = require('path');\n\nfunction normalize(str) {\n  return str === '' ? str : path.normalize(str);\n}\n\nmodule.exports = normalize;\n", "'use strict';\n\nfunction inspectStream(stream) {\n  var streamType = stream.constructor.name;\n  // Avoid StreamStream\n  if (streamType === 'Stream') {\n    streamType = '';\n  }\n\n  return '<' + streamType + 'Stream>';\n}\n\nmodule.exports = inspectStream;\n", "'use strict';\n\nvar path = require('path');\nvar util = require('util');\nvar isBuffer = require('buffer').Buffer.isBuffer;\n\nvar clone = require('clone');\nvar cloneable = require('cloneable-readable');\nvar replaceExt = require('replace-ext');\nvar cloneStats = require('clone-stats');\nvar cloneBuffer = require('clone-buffer');\nvar removeTrailingSep = require('remove-trailing-separator');\n\nvar isStream = require('./lib/is-stream');\nvar normalize = require('./lib/normalize');\nvar inspectStream = require('./lib/inspect-stream');\n\nvar builtInFields = [\n  '_contents', '_symlink', 'contents', 'stat', 'history', 'path',\n  '_base', 'base', '_cwd', 'cwd',\n];\n\nfunction File(file) {\n  var self = this;\n\n  if (!file) {\n    file = {};\n  }\n\n  // Stat = files stats object\n  this.stat = file.stat || null;\n\n  // Contents = stream, buffer, or null if not read\n  this.contents = file.contents || null;\n\n  // Replay path history to ensure proper normalization and trailing sep\n  var history = Array.prototype.slice.call(file.history || []);\n  if (file.path) {\n    history.push(file.path);\n  }\n  this.history = [];\n  history.forEach(function(path) {\n    self.path = path;\n  });\n\n  this.cwd = file.cwd || process.cwd();\n  this.base = file.base;\n\n  this._isVinyl = true;\n\n  this._symlink = null;\n\n  // Set custom properties\n  Object.keys(file).forEach(function(key) {\n    if (self.constructor.isCustomProp(key)) {\n      self[key] = file[key];\n    }\n  });\n}\n\nFile.prototype.isBuffer = function() {\n  return isBuffer(this.contents);\n};\n\nFile.prototype.isStream = function() {\n  return isStream(this.contents);\n};\n\nFile.prototype.isNull = function() {\n  return (this.contents === null);\n};\n\nFile.prototype.isDirectory = function() {\n  if (!this.isNull()) {\n    return false;\n  }\n\n  if (this.stat && typeof this.stat.isDirectory === 'function') {\n    return this.stat.isDirectory();\n  }\n\n  return false;\n};\n\nFile.prototype.isSymbolic = function() {\n  if (!this.isNull()) {\n    return false;\n  }\n\n  if (this.stat && typeof this.stat.isSymbolicLink === 'function') {\n    return this.stat.isSymbolicLink();\n  }\n\n  return false;\n};\n\nFile.prototype.clone = function(opt) {\n  var self = this;\n\n  if (typeof opt === 'boolean') {\n    opt = {\n      deep: opt,\n      contents: true,\n    };\n  } else if (!opt) {\n    opt = {\n      deep: true,\n      contents: true,\n    };\n  } else {\n    opt.deep = opt.deep === true;\n    opt.contents = opt.contents !== false;\n  }\n\n  // Clone our file contents\n  var contents;\n  if (this.isStream()) {\n    contents = this.contents.clone();\n  } else if (this.isBuffer()) {\n    contents = opt.contents ? cloneBuffer(this.contents) : this.contents;\n  }\n\n  var file = new this.constructor({\n    cwd: this.cwd,\n    base: this.base,\n    stat: (this.stat ? cloneStats(this.stat) : null),\n    history: this.history.slice(),\n    contents: contents,\n  });\n\n  if (this.isSymbolic()) {\n    file.symlink = this.symlink;\n  }\n\n  // Clone our custom properties\n  Object.keys(this).forEach(function(key) {\n    if (self.constructor.isCustomProp(key)) {\n      file[key] = opt.deep ? clone(self[key], true) : self[key];\n    }\n  });\n  return file;\n};\n\nFile.prototype.inspect = function() {\n  var inspect = [];\n\n  // Use relative path if possible\n  var filePath = this.path ? this.relative : null;\n\n  if (filePath) {\n    inspect.push('\"' + filePath + '\"');\n  }\n\n  if (this.isBuffer()) {\n    inspect.push(this.contents.inspect());\n  }\n\n  if (this.isStream()) {\n    inspect.push(inspectStream(this.contents));\n  }\n\n  return '<File ' + inspect.join(' ') + '>';\n};\n\n// Newer Node.js versions use this symbol for custom inspection.\nif (util.inspect.custom) {\n  File.prototype[util.inspect.custom] = File.prototype.inspect;\n}\n\nFile.isCustomProp = function(key) {\n  return builtInFields.indexOf(key) === -1;\n};\n\nFile.isVinyl = function(file) {\n  return (file && file._isVinyl === true) || false;\n};\n\n// Virtual attributes\n// Or stuff with extra logic\nObject.defineProperty(File.prototype, 'contents', {\n  get: function() {\n    return this._contents;\n  },\n  set: function(val) {\n    if (!isBuffer(val) && !isStream(val) && (val !== null)) {\n      throw new Error('File.contents can only be a Buffer, a Stream, or null.');\n    }\n\n    // Ask cloneable if the stream is a already a cloneable\n    // this avoid piping into many streams\n    // reducing the overhead of cloning\n    if (isStream(val) && !cloneable.isCloneable(val)) {\n      val = cloneable(val);\n    }\n\n    this._contents = val;\n  },\n});\n\nObject.defineProperty(File.prototype, 'cwd', {\n  get: function() {\n    return this._cwd;\n  },\n  set: function(cwd) {\n    if (!cwd || typeof cwd !== 'string') {\n      throw new Error('cwd must be a non-empty string.');\n    }\n    this._cwd = removeTrailingSep(normalize(cwd));\n  },\n});\n\nObject.defineProperty(File.prototype, 'base', {\n  get: function() {\n    return this._base || this._cwd;\n  },\n  set: function(base) {\n    if (base == null) {\n      delete this._base;\n      return;\n    }\n    if (typeof base !== 'string' || !base) {\n      throw new Error('base must be a non-empty string, or null/undefined.');\n    }\n    base = removeTrailingSep(normalize(base));\n    if (base !== this._cwd) {\n      this._base = base;\n    } else {\n      delete this._base;\n    }\n  },\n});\n\n// TODO: Should this be moved to vinyl-fs?\nObject.defineProperty(File.prototype, 'relative', {\n  get: function() {\n    if (!this.path) {\n      throw new Error('No path specified! Can not get relative.');\n    }\n    return path.relative(this.base, this.path);\n  },\n  set: function() {\n    throw new Error('File.relative is generated from the base and path attributes. Do not modify it.');\n  },\n});\n\nObject.defineProperty(File.prototype, 'dirname', {\n  get: function() {\n    if (!this.path) {\n      throw new Error('No path specified! Can not get dirname.');\n    }\n    return path.dirname(this.path);\n  },\n  set: function(dirname) {\n    if (!this.path) {\n      throw new Error('No path specified! Can not set dirname.');\n    }\n    this.path = path.join(dirname, this.basename);\n  },\n});\n\nObject.defineProperty(File.prototype, 'basename', {\n  get: function() {\n    if (!this.path) {\n      throw new Error('No path specified! Can not get basename.');\n    }\n    return path.basename(this.path);\n  },\n  set: function(basename) {\n    if (!this.path) {\n      throw new Error('No path specified! Can not set basename.');\n    }\n    this.path = path.join(this.dirname, basename);\n  },\n});\n\n// Property for getting/setting stem of the filename.\nObject.defineProperty(File.prototype, 'stem', {\n  get: function() {\n    if (!this.path) {\n      throw new Error('No path specified! Can not get stem.');\n    }\n    return path.basename(this.path, this.extname);\n  },\n  set: function(stem) {\n    if (!this.path) {\n      throw new Error('No path specified! Can not set stem.');\n    }\n    this.path = path.join(this.dirname, stem + this.extname);\n  },\n});\n\nObject.defineProperty(File.prototype, 'extname', {\n  get: function() {\n    if (!this.path) {\n      throw new Error('No path specified! Can not get extname.');\n    }\n    return path.extname(this.path);\n  },\n  set: function(extname) {\n    if (!this.path) {\n      throw new Error('No path specified! Can not set extname.');\n    }\n    this.path = replaceExt(this.path, extname);\n  },\n});\n\nObject.defineProperty(File.prototype, 'path', {\n  get: function() {\n    return this.history[this.history.length - 1];\n  },\n  set: function(path) {\n    if (typeof path !== 'string') {\n      throw new Error('path should be a string.');\n    }\n    path = removeTrailingSep(normalize(path));\n\n    // Record history only when path changed\n    if (path && path !== this.path) {\n      this.history.push(path);\n    }\n  },\n});\n\nObject.defineProperty(File.prototype, 'symlink', {\n  get: function() {\n    return this._symlink;\n  },\n  set: function(symlink) {\n    // TODO: should this set the mode to symbolic if set?\n    if (typeof symlink !== 'string') {\n      throw new Error('symlink should be a string');\n    }\n\n    this._symlink = removeTrailingSep(normalize(symlink));\n  },\n});\n\nmodule.exports = File;\n", "'use strict';\n\nvar processFn = function (fn, P, opts) {\n\treturn function () {\n\t\tvar that = this;\n\t\tvar args = new Array(arguments.length);\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\n\t\treturn new P(function (resolve, reject) {\n\t\t\targs.push(function (err, result) {\n\t\t\t\tif (err) {\n\t\t\t\t\treject(err);\n\t\t\t\t} else if (opts.multiArgs) {\n\t\t\t\t\tvar results = new Array(arguments.length - 1);\n\n\t\t\t\t\tfor (var i = 1; i < arguments.length; i++) {\n\t\t\t\t\t\tresults[i - 1] = arguments[i];\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve(results);\n\t\t\t\t} else {\n\t\t\t\t\tresolve(result);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfn.apply(that, args);\n\t\t});\n\t};\n};\n\nvar pify = module.exports = function (obj, P, opts) {\n\tif (typeof P !== 'function') {\n\t\topts = P;\n\t\tP = Promise;\n\t}\n\n\topts = opts || {};\n\topts.exclude = opts.exclude || [/.+Sync$/];\n\n\tvar filter = function (key) {\n\t\tvar match = function (pattern) {\n\t\t\treturn typeof pattern === 'string' ? key === pattern : pattern.test(key);\n\t\t};\n\n\t\treturn opts.include ? opts.include.some(match) : !opts.exclude.some(match);\n\t};\n\n\tvar ret = typeof obj === 'function' ? function () {\n\t\tif (opts.excludeMain) {\n\t\t\treturn obj.apply(this, arguments);\n\t\t}\n\n\t\treturn processFn(obj, P, opts).apply(this, arguments);\n\t} : {};\n\n\treturn Object.keys(obj).reduce(function (ret, key) {\n\t\tvar x = obj[key];\n\n\t\tret[key] = typeof x === 'function' && filter(key) ? processFn(x, P, opts) : x;\n\n\t\treturn ret;\n\t}, ret);\n};\n\npify.all = pify;\n", "'use strict';\nconst path = require('path');\nconst fs = require('graceful-fs');\nconst stripBomBuf = require('strip-bom-buf');\nconst stripBomStream = require('strip-bom-stream');\nconst File = require('vinyl');\nconst pify = require('pify');\n\nconst fsP = pify(fs);\n\nexports.read = (pth, opts) => {\n\topts = opts || {};\n\n\tconst cwd = opts.cwd || process.cwd();\n\tconst base = opts.base || cwd;\n\n\tpth = path.resolve(cwd, pth);\n\n\treturn fsP.stat(pth).then(stat => {\n\t\tconst file = new File({\n\t\t\tcwd,\n\t\t\tbase,\n\t\t\tpath: pth,\n\t\t\tstat\n\t\t});\n\n\t\tif (opts.read === false) {\n\t\t\treturn file;\n\t\t}\n\n\t\tif (opts.buffer === false) {\n\t\t\tfile.contents = fs.createReadStream(pth).pipe(stripBomStream());\n\t\t\treturn file;\n\t\t}\n\n\t\treturn fsP.readFile(pth).then(contents => {\n\t\t\tfile.contents = stripBomBuf(contents);\n\t\t\treturn file;\n\t\t});\n\t});\n};\n\nexports.readSync = (pth, opts) => {\n\topts = opts || {};\n\n\tconst cwd = opts.cwd || process.cwd();\n\tconst base = opts.base || cwd;\n\n\tpth = path.resolve(cwd, pth);\n\n\tlet contents;\n\n\tif (opts.read !== false) {\n\t\tcontents = opts.buffer === false ?\n\t\t\tfs.createReadStream(pth).pipe(stripBomStream()) :\n\t\t\tstripBomBuf(fs.readFileSync(pth));\n\t}\n\n\treturn new File({\n\t\tcwd,\n\t\tbase,\n\t\tpath: pth,\n\t\tstat: fs.statSync(pth),\n\t\tcontents\n\t});\n};\n", "'use strict';\nvar events = require('events');\nvar path = require('path');\nvar util = require('util');\nvar vinylFile = require('vinyl-file');\nvar File = require('vinyl');\nconst { PassThrough } = require('stream')\n\nexports.create = function () {\n  var store = {};\n\n  function createFile(filepath) {\n    return new File({\n      cwd: process.cwd(),\n      base: process.cwd(),\n      path: filepath,\n      contents: null\n    });\n  }\n\n  function load(filepath) {\n    var file;\n    try {\n      file = vinylFile.readSync(filepath);\n    } catch (err) {\n      file = createFile(filepath);\n    }\n    store[filepath] = file;\n    return file;\n  }\n\n  var Store = function () {\n    events.EventEmitter.apply(this, arguments);\n  };\n  util.inherits(Store, events.EventEmitter);\n\n  Store.prototype.get = function (filepath) {\n    filepath = path.resolve(filepath);\n    return store[filepath] || load(filepath);\n  };\n\n  Store.prototype.existsInMemory = function (filepath) {\n    filepath = path.resolve(filepath);\n    return !!store[filepath];\n  };\n\n  Store.prototype.add = function (file) {\n    store[file.path] = file;\n    this.emit('change', file.path);\n    return this;\n  };\n\n  Store.prototype.each = function (onEach) {\n    Object.keys(store).forEach(function (key, index) {\n      onEach(store[key], index);\n    });\n    return this;\n  };\n\n  Store.prototype.all = function () {\n    return Object.values(store);\n  };\n\n  Store.prototype.stream = function () {\n    const stream = new PassThrough({objectMode: true, autoDestroy: true});\n    setImmediate(function () {\n      this.each((file) => stream.write(file));\n      stream.end();\n    }.bind(this));\n    return stream;\n  };\n\n  return new Store();\n};\n", "'use strict';\n\nmodule.exports = function (filepath, options) {\n  options = options || {raw: false};\n  const file = this.store.get(filepath);\n\n  if (file.contents === null) {\n    if ('defaults' in options) {\n      return options.defaults;\n    }\n\n    throw new Error(filepath + ' doesn\\'t exist');\n  }\n\n  return options.raw ? file.contents : file.contents.toString();\n};\n", "'use strict';\n\nmodule.exports = function (filepath, defaults) {\n  if (this.exists(filepath)) {\n    try {\n      return JSON.parse(this.read(filepath));\n    } catch (error) {\n      throw new Error('Could not parse JSON in file: ' + filepath + '. Detail: ' + error.message);\n    }\n  } else {\n    return defaults;\n  }\n};\n", "'use strict';\n\nmodule.exports = function (filepath) {\n  const file = this.store.get(filepath);\n\n  return file.contents !== null;\n};\n", "const fs = require('fs');\n\nconst STATE = 'state';\n\nconst STATE_CLEARED = 'stateCleared';\n\nconst STATE_MODIFIED = 'modified';\n\nconst STATE_DELETED = 'deleted';\n\nconst IS_NEW = 'isNew';\n\nconst setFileState = (file, state) => {\n  file[STATE] = state;\n};\n\nconst isFileNew = file => {\n  if (file[IS_NEW] === undefined) {\n    file[IS_NEW] = !fs.existsSync(file.path);\n  }\n\n  return file[IS_NEW];\n};\n\nconst isFileStateModified = file => file[STATE] === STATE_MODIFIED;\n\nconst setModifiedFileState = file => setFileState(file, STATE_MODIFIED);\n\nconst isFileStateDeleted = file => file[STATE] === STATE_DELETED;\n\nconst setDeletedFileState = file => setFileState(file, STATE_DELETED);\n\nconst isFilePending = file => isFileStateModified(file) || (isFileStateDeleted(file) && !isFileNew(file));\n\nconst setCommittedFile = file => {\n  file.committed = true;\n};\n\nconst isFileCommitted = file => Boolean(file.committed);\n\nconst resetFileState = file => {\n  delete file[STATE];\n};\n\nconst clearFileState = file => {\n  if (file[STATE]) {\n    file[STATE_CLEARED] = file[STATE];\n  }\n\n  resetFileState(file);\n  delete file[IS_NEW];\n};\n\nconst hasState = file => Boolean(file[STATE]);\n\nconst hasClearedState = file => Boolean(file[STATE_CLEARED]);\n\nmodule.exports = {\n  STATE,\n  STATE_CLEARED,\n  STATE_MODIFIED,\n  STATE_DELETED,\n  isFileStateModified,\n  setModifiedFileState,\n  isFileStateDeleted,\n  setDeletedFileState,\n  setCommittedFile,\n  isFileCommitted,\n  isFileNew,\n  isFilePending,\n  resetFileState,\n  clearFileState,\n  hasState,\n  hasClearedState,\n};\n", "'use strict';\n\nconst assert = require('assert');\nconst {isFileStateModified, setModifiedFileState} = require('../state');\n\nmodule.exports = function (filepath, contents, stat) {\n  assert(\n    typeof contents === 'string' || Buffer.isBuffer(contents),\n    'Expected `contents` to be a String or a Buffer',\n  );\n\n  const file = this.store.get(filepath);\n  const newContents = Buffer.isBuffer(contents) ? contents : Buffer.from(contents);\n  if (\n    !isFileStateModified(file)\n    || !Buffer.isBuffer(file.contents)\n    || !newContents.equals(file.contents)\n    || (stat !== undefined && file.stat !== stat)\n  ) {\n    setModifiedFileState(file);\n    file.contents = newContents;\n    file.stat = stat;\n    this.store.add(file);\n  }\n\n  return file.contents.toString();\n};\n", "'use strict';\n\nconst DEFAULT_INDENTATION = 2;\n\nmodule.exports = function (filepath, contents, replacer, space) {\n  const jsonStr = JSON.stringify(contents, replacer || null, space || DEFAULT_INDENTATION) + '\\n';\n\n  return this.write(filepath, jsonStr);\n};\n", "/*!\n * @description Recursive object extending\n * @author Viacheslav Lotsmanov <lotsmanov89@gmail.com>\n * @license MIT\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2013-2018 Viacheslav Lotsmanov\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n * the Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n'use strict';\n\nfunction isSpecificValue(val) {\n\treturn (\n\t\tval instanceof Buffer\n\t\t|| val instanceof Date\n\t\t|| val instanceof RegExp\n\t) ? true : false;\n}\n\nfunction cloneSpecificValue(val) {\n\tif (val instanceof Buffer) {\n\t\tvar x = Buffer.alloc\n\t\t\t? Buffer.alloc(val.length)\n\t\t\t: new Buffer(val.length);\n\t\tval.copy(x);\n\t\treturn x;\n\t} else if (val instanceof Date) {\n\t\treturn new Date(val.getTime());\n\t} else if (val instanceof RegExp) {\n\t\treturn new RegExp(val);\n\t} else {\n\t\tthrow new Error('Unexpected situation');\n\t}\n}\n\n/**\n * Recursive cloning array.\n */\nfunction deepCloneArray(arr) {\n\tvar clone = [];\n\tarr.forEach(function (item, index) {\n\t\tif (typeof item === 'object' && item !== null) {\n\t\t\tif (Array.isArray(item)) {\n\t\t\t\tclone[index] = deepCloneArray(item);\n\t\t\t} else if (isSpecificValue(item)) {\n\t\t\t\tclone[index] = cloneSpecificValue(item);\n\t\t\t} else {\n\t\t\t\tclone[index] = deepExtend({}, item);\n\t\t\t}\n\t\t} else {\n\t\t\tclone[index] = item;\n\t\t}\n\t});\n\treturn clone;\n}\n\nfunction safeGetProperty(object, property) {\n\treturn property === '__proto__' ? undefined : object[property];\n}\n\n/**\n * Extening object that entered in first argument.\n *\n * Returns extended object or false if have no target object or incorrect type.\n *\n * If you wish to clone source object (without modify it), just use empty new\n * object as first argument, like this:\n *   deepExtend({}, yourObj_1, [yourObj_N]);\n */\nvar deepExtend = module.exports = function (/*obj_1, [obj_2], [obj_N]*/) {\n\tif (arguments.length < 1 || typeof arguments[0] !== 'object') {\n\t\treturn false;\n\t}\n\n\tif (arguments.length < 2) {\n\t\treturn arguments[0];\n\t}\n\n\tvar target = arguments[0];\n\n\t// convert arguments to array and cut off target object\n\tvar args = Array.prototype.slice.call(arguments, 1);\n\n\tvar val, src, clone;\n\n\targs.forEach(function (obj) {\n\t\t// skip argument if isn't an object, is null, or is an array\n\t\tif (typeof obj !== 'object' || obj === null || Array.isArray(obj)) {\n\t\t\treturn;\n\t\t}\n\n\t\tObject.keys(obj).forEach(function (key) {\n\t\t\tsrc = safeGetProperty(target, key); // source value\n\t\t\tval = safeGetProperty(obj, key); // new value\n\n\t\t\t// recursion prevention\n\t\t\tif (val === target) {\n\t\t\t\treturn;\n\n\t\t\t/**\n\t\t\t * if new value isn't object then just overwrite by new value\n\t\t\t * instead of extending.\n\t\t\t */\n\t\t\t} else if (typeof val !== 'object' || val === null) {\n\t\t\t\ttarget[key] = val;\n\t\t\t\treturn;\n\n\t\t\t// just clone arrays (and recursive clone objects inside)\n\t\t\t} else if (Array.isArray(val)) {\n\t\t\t\ttarget[key] = deepCloneArray(val);\n\t\t\t\treturn;\n\n\t\t\t// custom cloning and overwrite for specific objects\n\t\t\t} else if (isSpecificValue(val)) {\n\t\t\t\ttarget[key] = cloneSpecificValue(val);\n\t\t\t\treturn;\n\n\t\t\t// overwrite by new value if source isn't object or array\n\t\t\t} else if (typeof src !== 'object' || src === null || Array.isArray(src)) {\n\t\t\t\ttarget[key] = deepExtend({}, val);\n\t\t\t\treturn;\n\n\t\t\t// source value and new value is objects both, extending...\n\t\t\t} else {\n\t\t\t\ttarget[key] = deepExtend(src, val);\n\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\t});\n\n\treturn target;\n};\n", "'use strict';\n\nconst extend = require('deep-extend');\n\nmodule.exports = function (filepath, contents, replacer, space) {\n  const originalContent = this.readJSON(filepath, {});\n  const newContent = extend({}, originalContent, contents);\n\n  this.writeJSON(filepath, newContent, replacer, space);\n};\n", "'use strict';\n\nconst {EOL} = require('os');\n\nmodule.exports = function (to, contents, options) {\n  options = {\n    trimEnd: true,\n    separator: EOL,\n    ...options,\n  };\n\n  if (!this.exists(to) && options.create) {\n    this.write(to, contents);\n    return;\n  }\n\n  let currentContents = this.read(to);\n  if (options.trimEnd) {\n    currentContents = currentContents.replace(/\\s+$/, '');\n  }\n\n  this.write(to, currentContents + options.separator + contents);\n};\n", "/*\n * EJS Embedded JavaScript templates\n * Copyright 2112 Matthew Eernisse (mde@fleegix.org)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n*/\n\n/**\n * Private utility functions\n * @module utils\n * @private\n */\n\n'use strict';\n\nvar regExpChars = /[|\\\\{}()[\\]^$+*?.]/g;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar hasOwn = function (obj, key) { return hasOwnProperty.apply(obj, [key]); };\n\n/**\n * Escape characters reserved in regular expressions.\n *\n * If `string` is `undefined` or `null`, the empty string is returned.\n *\n * @param {String} string Input string\n * @return {String} Escaped string\n * @static\n * @private\n */\nexports.escapeRegExpChars = function (string) {\n  // istanbul ignore if\n  if (!string) {\n    return '';\n  }\n  return String(string).replace(regExpChars, '\\\\$&');\n};\n\nvar _ENCODE_HTML_RULES = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&#34;',\n  \"'\": '&#39;'\n};\nvar _MATCH_HTML = /[&<>'\"]/g;\n\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n}\n\n/**\n * Stringified version of constants used by {@link module:utils.escapeXML}.\n *\n * It is used in the process of generating {@link ClientFunction}s.\n *\n * @readonly\n * @type {String}\n */\n\nvar escapeFuncStr =\n  'var _ENCODE_HTML_RULES = {\\n'\n+ '      \"&\": \"&amp;\"\\n'\n+ '    , \"<\": \"&lt;\"\\n'\n+ '    , \">\": \"&gt;\"\\n'\n+ '    , \\'\"\\': \"&#34;\"\\n'\n+ '    , \"\\'\": \"&#39;\"\\n'\n+ '    }\\n'\n+ '  , _MATCH_HTML = /[&<>\\'\"]/g;\\n'\n+ 'function encode_char(c) {\\n'\n+ '  return _ENCODE_HTML_RULES[c] || c;\\n'\n+ '};\\n';\n\n/**\n * Escape characters reserved in XML.\n *\n * If `markup` is `undefined` or `null`, the empty string is returned.\n *\n * @implements {EscapeCallback}\n * @param {String} markup Input string\n * @return {String} Escaped string\n * @static\n * @private\n */\n\nexports.escapeXML = function (markup) {\n  return markup == undefined\n    ? ''\n    : String(markup)\n      .replace(_MATCH_HTML, encode_char);\n};\nexports.escapeXML.toString = function () {\n  return Function.prototype.toString.call(this) + ';\\n' + escapeFuncStr;\n};\n\n/**\n * Naive copy of properties from one object to another.\n * Does not recurse into non-scalar properties\n * Does not check to see if the property has a value before copying\n *\n * @param  {Object} to   Destination object\n * @param  {Object} from Source object\n * @return {Object}      Destination object\n * @static\n * @private\n */\nexports.shallowCopy = function (to, from) {\n  from = from || {};\n  if ((to !== null) && (to !== undefined)) {\n    for (var p in from) {\n      if (!hasOwn(from, p)) {\n        continue;\n      }\n      if (p === '__proto__' || p === 'constructor') {\n        continue;\n      }\n      to[p] = from[p];\n    }\n  }\n  return to;\n};\n\n/**\n * Naive copy of a list of key names, from one object to another.\n * Only copies property if it is actually defined\n * Does not recurse into non-scalar properties\n *\n * @param  {Object} to   Destination object\n * @param  {Object} from Source object\n * @param  {Array} list List of properties to copy\n * @return {Object}      Destination object\n * @static\n * @private\n */\nexports.shallowCopyFromList = function (to, from, list) {\n  list = list || [];\n  from = from || {};\n  if ((to !== null) && (to !== undefined)) {\n    for (var i = 0; i < list.length; i++) {\n      var p = list[i];\n      if (typeof from[p] != 'undefined') {\n        if (!hasOwn(from, p)) {\n          continue;\n        }\n        if (p === '__proto__' || p === 'constructor') {\n          continue;\n        }\n        to[p] = from[p];\n      }\n    }\n  }\n  return to;\n};\n\n/**\n * Simple in-process cache implementation. Does not implement limits of any\n * sort.\n *\n * @implements {Cache}\n * @static\n * @private\n */\nexports.cache = {\n  _data: {},\n  set: function (key, val) {\n    this._data[key] = val;\n  },\n  get: function (key) {\n    return this._data[key];\n  },\n  remove: function (key) {\n    delete this._data[key];\n  },\n  reset: function () {\n    this._data = {};\n  }\n};\n\n/**\n * Transforms hyphen case variable into camel case.\n *\n * @param {String} string Hyphen case string\n * @return {String} Camel case string\n * @static\n * @private\n */\nexports.hyphenToCamel = function (str) {\n  return str.replace(/-[a-z]/g, function (match) { return match[1].toUpperCase(); });\n};\n\n/**\n * Returns a null-prototype object in runtimes that support it\n *\n * @return {Object} Object, prototype will be set to null where possible\n * @static\n * @private\n */\nexports.createNullProtoObjWherePossible = (function () {\n  if (typeof Object.create == 'function') {\n    return function () {\n      return Object.create(null);\n    };\n  }\n  if (!({__proto__: null} instanceof Object)) {\n    return function () {\n      return {__proto__: null};\n    };\n  }\n  // Not possible, just pass through\n  return function () {\n    return {};\n  };\n})();\n\n\n", "/*\n * EJS Embedded JavaScript templates\n * Copyright 2112 Matthew Eernisse (mde@fleegix.org)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n*/\n\n'use strict';\n\n/**\n * @file Embedded JavaScript templating engine. {@link http://ejs.co}\n * @author Matthew Eernisse <mde@fleegix.org>\n * @author Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\n * @project EJS\n * @license {@link http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0}\n */\n\n/**\n * EJS internal functions.\n *\n * Technically this \"module\" lies in the same file as {@link module:ejs}, for\n * the sake of organization all the private functions re grouped into this\n * module.\n *\n * @module ejs-internal\n * @private\n */\n\n/**\n * Embedded JavaScript templating engine.\n *\n * @module ejs\n * @public\n */\n\n\nvar fs = require('fs');\nvar path = require('path');\nvar utils = require('./utils');\n\nvar scopeOptionWarned = false;\n/** @type {string} */\nvar _VERSION_STRING = require('../package.json').version;\nvar _DEFAULT_OPEN_DELIMITER = '<';\nvar _DEFAULT_CLOSE_DELIMITER = '>';\nvar _DEFAULT_DELIMITER = '%';\nvar _DEFAULT_LOCALS_NAME = 'locals';\nvar _NAME = 'ejs';\nvar _REGEX_STRING = '(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)';\nvar _OPTS_PASSABLE_WITH_DATA = ['delimiter', 'scope', 'context', 'debug', 'compileDebug',\n  'client', '_with', 'rmWhitespace', 'strict', 'filename', 'async'];\n// We don't allow 'cache' option to be passed in the data obj for\n// the normal `render` call, but this is where Express 2 & 3 put it\n// so we make an exception for `renderFile`\nvar _OPTS_PASSABLE_WITH_DATA_EXPRESS = _OPTS_PASSABLE_WITH_DATA.concat('cache');\nvar _BOM = /^\\uFEFF/;\nvar _JS_IDENTIFIER = /^[a-zA-Z_$][0-9a-zA-Z_$]*$/;\n\n/**\n * EJS template function cache. This can be a LRU object from lru-cache NPM\n * module. By default, it is {@link module:utils.cache}, a simple in-process\n * cache that grows continuously.\n *\n * @type {Cache}\n */\n\nexports.cache = utils.cache;\n\n/**\n * Custom file loader. Useful for template preprocessing or restricting access\n * to a certain part of the filesystem.\n *\n * @type {fileLoader}\n */\n\nexports.fileLoader = fs.readFileSync;\n\n/**\n * Name of the object containing the locals.\n *\n * This variable is overridden by {@link Options}`.localsName` if it is not\n * `undefined`.\n *\n * @type {String}\n * @public\n */\n\nexports.localsName = _DEFAULT_LOCALS_NAME;\n\n/**\n * Promise implementation -- defaults to the native implementation if available\n * This is mostly just for testability\n *\n * @type {PromiseConstructorLike}\n * @public\n */\n\nexports.promiseImpl = (new Function('return this;'))().Promise;\n\n/**\n * Get the path to the included file from the parent file path and the\n * specified path.\n *\n * @param {String}  name     specified path\n * @param {String}  filename parent file path\n * @param {Boolean} [isDir=false] whether the parent file path is a directory\n * @return {String}\n */\nexports.resolveInclude = function(name, filename, isDir) {\n  var dirname = path.dirname;\n  var extname = path.extname;\n  var resolve = path.resolve;\n  var includePath = resolve(isDir ? filename : dirname(filename), name);\n  var ext = extname(name);\n  if (!ext) {\n    includePath += '.ejs';\n  }\n  return includePath;\n};\n\n/**\n * Try to resolve file path on multiple directories\n *\n * @param  {String}        name  specified path\n * @param  {Array<String>} paths list of possible parent directory paths\n * @return {String}\n */\nfunction resolvePaths(name, paths) {\n  var filePath;\n  if (paths.some(function (v) {\n    filePath = exports.resolveInclude(name, v, true);\n    return fs.existsSync(filePath);\n  })) {\n    return filePath;\n  }\n}\n\n/**\n * Get the path to the included file by Options\n *\n * @param  {String}  path    specified path\n * @param  {Options} options compilation options\n * @return {String}\n */\nfunction getIncludePath(path, options) {\n  var includePath;\n  var filePath;\n  var views = options.views;\n  var match = /^[A-Za-z]+:\\\\|^\\//.exec(path);\n\n  // Abs path\n  if (match && match.length) {\n    path = path.replace(/^\\/*/, '');\n    if (Array.isArray(options.root)) {\n      includePath = resolvePaths(path, options.root);\n    } else {\n      includePath = exports.resolveInclude(path, options.root || '/', true);\n    }\n  }\n  // Relative paths\n  else {\n    // Look relative to a passed filename first\n    if (options.filename) {\n      filePath = exports.resolveInclude(path, options.filename);\n      if (fs.existsSync(filePath)) {\n        includePath = filePath;\n      }\n    }\n    // Then look in any views directories\n    if (!includePath && Array.isArray(views)) {\n      includePath = resolvePaths(path, views);\n    }\n    if (!includePath && typeof options.includer !== 'function') {\n      throw new Error('Could not find the include file \"' +\n          options.escapeFunction(path) + '\"');\n    }\n  }\n  return includePath;\n}\n\n/**\n * Get the template from a string or a file, either compiled on-the-fly or\n * read from cache (if enabled), and cache the template if needed.\n *\n * If `template` is not set, the file specified in `options.filename` will be\n * read.\n *\n * If `options.cache` is true, this function reads the file from\n * `options.filename` so it must be set prior to calling this function.\n *\n * @memberof module:ejs-internal\n * @param {Options} options   compilation options\n * @param {String} [template] template source\n * @return {(TemplateFunction|ClientFunction)}\n * Depending on the value of `options.client`, either type might be returned.\n * @static\n */\n\nfunction handleCache(options, template) {\n  var func;\n  var filename = options.filename;\n  var hasTemplate = arguments.length > 1;\n\n  if (options.cache) {\n    if (!filename) {\n      throw new Error('cache option requires a filename');\n    }\n    func = exports.cache.get(filename);\n    if (func) {\n      return func;\n    }\n    if (!hasTemplate) {\n      template = fileLoader(filename).toString().replace(_BOM, '');\n    }\n  }\n  else if (!hasTemplate) {\n    // istanbul ignore if: should not happen at all\n    if (!filename) {\n      throw new Error('Internal EJS error: no file name or template '\n                    + 'provided');\n    }\n    template = fileLoader(filename).toString().replace(_BOM, '');\n  }\n  func = exports.compile(template, options);\n  if (options.cache) {\n    exports.cache.set(filename, func);\n  }\n  return func;\n}\n\n/**\n * Try calling handleCache with the given options and data and call the\n * callback with the result. If an error occurs, call the callback with\n * the error. Used by renderFile().\n *\n * @memberof module:ejs-internal\n * @param {Options} options    compilation options\n * @param {Object} data        template data\n * @param {RenderFileCallback} cb callback\n * @static\n */\n\nfunction tryHandleCache(options, data, cb) {\n  var result;\n  if (!cb) {\n    if (typeof exports.promiseImpl == 'function') {\n      return new exports.promiseImpl(function (resolve, reject) {\n        try {\n          result = handleCache(options)(data);\n          resolve(result);\n        }\n        catch (err) {\n          reject(err);\n        }\n      });\n    }\n    else {\n      throw new Error('Please provide a callback function');\n    }\n  }\n  else {\n    try {\n      result = handleCache(options)(data);\n    }\n    catch (err) {\n      return cb(err);\n    }\n\n    cb(null, result);\n  }\n}\n\n/**\n * fileLoader is independent\n *\n * @param {String} filePath ejs file path.\n * @return {String} The contents of the specified file.\n * @static\n */\n\nfunction fileLoader(filePath){\n  return exports.fileLoader(filePath);\n}\n\n/**\n * Get the template function.\n *\n * If `options.cache` is `true`, then the template is cached.\n *\n * @memberof module:ejs-internal\n * @param {String}  path    path for the specified file\n * @param {Options} options compilation options\n * @return {(TemplateFunction|ClientFunction)}\n * Depending on the value of `options.client`, either type might be returned\n * @static\n */\n\nfunction includeFile(path, options) {\n  var opts = utils.shallowCopy(utils.createNullProtoObjWherePossible(), options);\n  opts.filename = getIncludePath(path, opts);\n  if (typeof options.includer === 'function') {\n    var includerResult = options.includer(path, opts.filename);\n    if (includerResult) {\n      if (includerResult.filename) {\n        opts.filename = includerResult.filename;\n      }\n      if (includerResult.template) {\n        return handleCache(opts, includerResult.template);\n      }\n    }\n  }\n  return handleCache(opts);\n}\n\n/**\n * Re-throw the given `err` in context to the `str` of ejs, `filename`, and\n * `lineno`.\n *\n * @implements {RethrowCallback}\n * @memberof module:ejs-internal\n * @param {Error}  err      Error object\n * @param {String} str      EJS source\n * @param {String} flnm     file name of the EJS file\n * @param {Number} lineno   line number of the error\n * @param {EscapeCallback} esc\n * @static\n */\n\nfunction rethrow(err, str, flnm, lineno, esc) {\n  var lines = str.split('\\n');\n  var start = Math.max(lineno - 3, 0);\n  var end = Math.min(lines.length, lineno + 3);\n  var filename = esc(flnm);\n  // Error context\n  var context = lines.slice(start, end).map(function (line, i){\n    var curr = i + start + 1;\n    return (curr == lineno ? ' >> ' : '    ')\n      + curr\n      + '| '\n      + line;\n  }).join('\\n');\n\n  // Alter exception message\n  err.path = filename;\n  err.message = (filename || 'ejs') + ':'\n    + lineno + '\\n'\n    + context + '\\n\\n'\n    + err.message;\n\n  throw err;\n}\n\nfunction stripSemi(str){\n  return str.replace(/;(\\s*$)/, '$1');\n}\n\n/**\n * Compile the given `str` of ejs into a template function.\n *\n * @param {String}  template EJS template\n *\n * @param {Options} [opts] compilation options\n *\n * @return {(TemplateFunction|ClientFunction)}\n * Depending on the value of `opts.client`, either type might be returned.\n * Note that the return type of the function also depends on the value of `opts.async`.\n * @public\n */\n\nexports.compile = function compile(template, opts) {\n  var templ;\n\n  // v1 compat\n  // 'scope' is 'context'\n  // FIXME: Remove this in a future version\n  if (opts && opts.scope) {\n    if (!scopeOptionWarned){\n      console.warn('`scope` option is deprecated and will be removed in EJS 3');\n      scopeOptionWarned = true;\n    }\n    if (!opts.context) {\n      opts.context = opts.scope;\n    }\n    delete opts.scope;\n  }\n  templ = new Template(template, opts);\n  return templ.compile();\n};\n\n/**\n * Render the given `template` of ejs.\n *\n * If you would like to include options but not data, you need to explicitly\n * call this function with `data` being an empty object or `null`.\n *\n * @param {String}   template EJS template\n * @param {Object}  [data={}] template data\n * @param {Options} [opts={}] compilation and rendering options\n * @return {(String|Promise<String>)}\n * Return value type depends on `opts.async`.\n * @public\n */\n\nexports.render = function (template, d, o) {\n  var data = d || utils.createNullProtoObjWherePossible();\n  var opts = o || utils.createNullProtoObjWherePossible();\n\n  // No options object -- if there are optiony names\n  // in the data, copy them to options\n  if (arguments.length == 2) {\n    utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA);\n  }\n\n  return handleCache(opts, template)(data);\n};\n\n/**\n * Render an EJS file at the given `path` and callback `cb(err, str)`.\n *\n * If you would like to include options but not data, you need to explicitly\n * call this function with `data` being an empty object or `null`.\n *\n * @param {String}             path     path to the EJS file\n * @param {Object}            [data={}] template data\n * @param {Options}           [opts={}] compilation and rendering options\n * @param {RenderFileCallback} cb callback\n * @public\n */\n\nexports.renderFile = function () {\n  var args = Array.prototype.slice.call(arguments);\n  var filename = args.shift();\n  var cb;\n  var opts = {filename: filename};\n  var data;\n  var viewOpts;\n\n  // Do we have a callback?\n  if (typeof arguments[arguments.length - 1] == 'function') {\n    cb = args.pop();\n  }\n  // Do we have data/opts?\n  if (args.length) {\n    // Should always have data obj\n    data = args.shift();\n    // Normal passed opts (data obj + opts obj)\n    if (args.length) {\n      // Use shallowCopy so we don't pollute passed in opts obj with new vals\n      utils.shallowCopy(opts, args.pop());\n    }\n    // Special casing for Express (settings + opts-in-data)\n    else {\n      // Express 3 and 4\n      if (data.settings) {\n        // Pull a few things from known locations\n        if (data.settings.views) {\n          opts.views = data.settings.views;\n        }\n        if (data.settings['view cache']) {\n          opts.cache = true;\n        }\n        // Undocumented after Express 2, but still usable, esp. for\n        // items that are unsafe to be passed along with data, like `root`\n        viewOpts = data.settings['view options'];\n        if (viewOpts) {\n          utils.shallowCopy(opts, viewOpts);\n        }\n      }\n      // Express 2 and lower, values set in app.locals, or people who just\n      // want to pass options in their data. NOTE: These values will override\n      // anything previously set in settings  or settings['view options']\n      utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA_EXPRESS);\n    }\n    opts.filename = filename;\n  }\n  else {\n    data = utils.createNullProtoObjWherePossible();\n  }\n\n  return tryHandleCache(opts, data, cb);\n};\n\n/**\n * Clear intermediate JavaScript cache. Calls {@link Cache#reset}.\n * @public\n */\n\n/**\n * EJS template class\n * @public\n */\nexports.Template = Template;\n\nexports.clearCache = function () {\n  exports.cache.reset();\n};\n\nfunction Template(text, opts) {\n  opts = opts || utils.createNullProtoObjWherePossible();\n  var options = utils.createNullProtoObjWherePossible();\n  this.templateText = text;\n  /** @type {string | null} */\n  this.mode = null;\n  this.truncate = false;\n  this.currentLine = 1;\n  this.source = '';\n  options.client = opts.client || false;\n  options.escapeFunction = opts.escape || opts.escapeFunction || utils.escapeXML;\n  options.compileDebug = opts.compileDebug !== false;\n  options.debug = !!opts.debug;\n  options.filename = opts.filename;\n  options.openDelimiter = opts.openDelimiter || exports.openDelimiter || _DEFAULT_OPEN_DELIMITER;\n  options.closeDelimiter = opts.closeDelimiter || exports.closeDelimiter || _DEFAULT_CLOSE_DELIMITER;\n  options.delimiter = opts.delimiter || exports.delimiter || _DEFAULT_DELIMITER;\n  options.strict = opts.strict || false;\n  options.context = opts.context;\n  options.cache = opts.cache || false;\n  options.rmWhitespace = opts.rmWhitespace;\n  options.root = opts.root;\n  options.includer = opts.includer;\n  options.outputFunctionName = opts.outputFunctionName;\n  options.localsName = opts.localsName || exports.localsName || _DEFAULT_LOCALS_NAME;\n  options.views = opts.views;\n  options.async = opts.async;\n  options.destructuredLocals = opts.destructuredLocals;\n  options.legacyInclude = typeof opts.legacyInclude != 'undefined' ? !!opts.legacyInclude : true;\n\n  if (options.strict) {\n    options._with = false;\n  }\n  else {\n    options._with = typeof opts._with != 'undefined' ? opts._with : true;\n  }\n\n  this.opts = options;\n\n  this.regex = this.createRegex();\n}\n\nTemplate.modes = {\n  EVAL: 'eval',\n  ESCAPED: 'escaped',\n  RAW: 'raw',\n  COMMENT: 'comment',\n  LITERAL: 'literal'\n};\n\nTemplate.prototype = {\n  createRegex: function () {\n    var str = _REGEX_STRING;\n    var delim = utils.escapeRegExpChars(this.opts.delimiter);\n    var open = utils.escapeRegExpChars(this.opts.openDelimiter);\n    var close = utils.escapeRegExpChars(this.opts.closeDelimiter);\n    str = str.replace(/%/g, delim)\n      .replace(/</g, open)\n      .replace(/>/g, close);\n    return new RegExp(str);\n  },\n\n  compile: function () {\n    /** @type {string} */\n    var src;\n    /** @type {ClientFunction} */\n    var fn;\n    var opts = this.opts;\n    var prepended = '';\n    var appended = '';\n    /** @type {EscapeCallback} */\n    var escapeFn = opts.escapeFunction;\n    /** @type {FunctionConstructor} */\n    var ctor;\n    /** @type {string} */\n    var sanitizedFilename = opts.filename ? JSON.stringify(opts.filename) : 'undefined';\n\n    if (!this.source) {\n      this.generateSource();\n      prepended +=\n        '  var __output = \"\";\\n' +\n        '  function __append(s) { if (s !== undefined && s !== null) __output += s }\\n';\n      if (opts.outputFunctionName) {\n        if (!_JS_IDENTIFIER.test(opts.outputFunctionName)) {\n          throw new Error('outputFunctionName is not a valid JS identifier.');\n        }\n        prepended += '  var ' + opts.outputFunctionName + ' = __append;' + '\\n';\n      }\n      if (opts.localsName && !_JS_IDENTIFIER.test(opts.localsName)) {\n        throw new Error('localsName is not a valid JS identifier.');\n      }\n      if (opts.destructuredLocals && opts.destructuredLocals.length) {\n        var destructuring = '  var __locals = (' + opts.localsName + ' || {}),\\n';\n        for (var i = 0; i < opts.destructuredLocals.length; i++) {\n          var name = opts.destructuredLocals[i];\n          if (!_JS_IDENTIFIER.test(name)) {\n            throw new Error('destructuredLocals[' + i + '] is not a valid JS identifier.');\n          }\n          if (i > 0) {\n            destructuring += ',\\n  ';\n          }\n          destructuring += name + ' = __locals.' + name;\n        }\n        prepended += destructuring + ';\\n';\n      }\n      if (opts._with !== false) {\n        prepended +=  '  with (' + opts.localsName + ' || {}) {' + '\\n';\n        appended += '  }' + '\\n';\n      }\n      appended += '  return __output;' + '\\n';\n      this.source = prepended + this.source + appended;\n    }\n\n    if (opts.compileDebug) {\n      src = 'var __line = 1' + '\\n'\n        + '  , __lines = ' + JSON.stringify(this.templateText) + '\\n'\n        + '  , __filename = ' + sanitizedFilename + ';' + '\\n'\n        + 'try {' + '\\n'\n        + this.source\n        + '} catch (e) {' + '\\n'\n        + '  rethrow(e, __lines, __filename, __line, escapeFn);' + '\\n'\n        + '}' + '\\n';\n    }\n    else {\n      src = this.source;\n    }\n\n    if (opts.client) {\n      src = 'escapeFn = escapeFn || ' + escapeFn.toString() + ';' + '\\n' + src;\n      if (opts.compileDebug) {\n        src = 'rethrow = rethrow || ' + rethrow.toString() + ';' + '\\n' + src;\n      }\n    }\n\n    if (opts.strict) {\n      src = '\"use strict\";\\n' + src;\n    }\n    if (opts.debug) {\n      console.log(src);\n    }\n    if (opts.compileDebug && opts.filename) {\n      src = src + '\\n'\n        + '//# sourceURL=' + sanitizedFilename + '\\n';\n    }\n\n    try {\n      if (opts.async) {\n        // Have to use generated function for this, since in envs without support,\n        // it breaks in parsing\n        try {\n          ctor = (new Function('return (async function(){}).constructor;'))();\n        }\n        catch(e) {\n          if (e instanceof SyntaxError) {\n            throw new Error('This environment does not support async/await');\n          }\n          else {\n            throw e;\n          }\n        }\n      }\n      else {\n        ctor = Function;\n      }\n      fn = new ctor(opts.localsName + ', escapeFn, include, rethrow', src);\n    }\n    catch(e) {\n      // istanbul ignore else\n      if (e instanceof SyntaxError) {\n        if (opts.filename) {\n          e.message += ' in ' + opts.filename;\n        }\n        e.message += ' while compiling ejs\\n\\n';\n        e.message += 'If the above error is not helpful, you may want to try EJS-Lint:\\n';\n        e.message += 'https://github.com/RyanZim/EJS-Lint';\n        if (!opts.async) {\n          e.message += '\\n';\n          e.message += 'Or, if you meant to create an async function, pass `async: true` as an option.';\n        }\n      }\n      throw e;\n    }\n\n    // Return a callable function which will execute the function\n    // created by the source-code, with the passed data as locals\n    // Adds a local `include` function which allows full recursive include\n    var returnedFn = opts.client ? fn : function anonymous(data) {\n      var include = function (path, includeData) {\n        var d = utils.shallowCopy(utils.createNullProtoObjWherePossible(), data);\n        if (includeData) {\n          d = utils.shallowCopy(d, includeData);\n        }\n        return includeFile(path, opts)(d);\n      };\n      return fn.apply(opts.context,\n        [data || utils.createNullProtoObjWherePossible(), escapeFn, include, rethrow]);\n    };\n    if (opts.filename && typeof Object.defineProperty === 'function') {\n      var filename = opts.filename;\n      var basename = path.basename(filename, path.extname(filename));\n      try {\n        Object.defineProperty(returnedFn, 'name', {\n          value: basename,\n          writable: false,\n          enumerable: false,\n          configurable: true\n        });\n      } catch (e) {/* ignore */}\n    }\n    return returnedFn;\n  },\n\n  generateSource: function () {\n    var opts = this.opts;\n\n    if (opts.rmWhitespace) {\n      // Have to use two separate replace here as `^` and `$` operators don't\n      // work well with `\\r` and empty lines don't work well with the `m` flag.\n      this.templateText =\n        this.templateText.replace(/[\\r\\n]+/g, '\\n').replace(/^\\s+|\\s+$/gm, '');\n    }\n\n    // Slurp spaces and tabs before <%_ and after _%>\n    this.templateText =\n      this.templateText.replace(/[ \\t]*<%_/gm, '<%_').replace(/_%>[ \\t]*/gm, '_%>');\n\n    var self = this;\n    var matches = this.parseTemplateText();\n    var d = this.opts.delimiter;\n    var o = this.opts.openDelimiter;\n    var c = this.opts.closeDelimiter;\n\n    if (matches && matches.length) {\n      matches.forEach(function (line, index) {\n        var closing;\n        // If this is an opening tag, check for closing tags\n        // FIXME: May end up with some false positives here\n        // Better to store modes as k/v with openDelimiter + delimiter as key\n        // Then this can simply check against the map\n        if ( line.indexOf(o + d) === 0        // If it is a tag\n          && line.indexOf(o + d + d) !== 0) { // and is not escaped\n          closing = matches[index + 2];\n          if (!(closing == d + c || closing == '-' + d + c || closing == '_' + d + c)) {\n            throw new Error('Could not find matching close tag for \"' + line + '\".');\n          }\n        }\n        self.scanLine(line);\n      });\n    }\n\n  },\n\n  parseTemplateText: function () {\n    var str = this.templateText;\n    var pat = this.regex;\n    var result = pat.exec(str);\n    var arr = [];\n    var firstPos;\n\n    while (result) {\n      firstPos = result.index;\n\n      if (firstPos !== 0) {\n        arr.push(str.substring(0, firstPos));\n        str = str.slice(firstPos);\n      }\n\n      arr.push(result[0]);\n      str = str.slice(result[0].length);\n      result = pat.exec(str);\n    }\n\n    if (str) {\n      arr.push(str);\n    }\n\n    return arr;\n  },\n\n  _addOutput: function (line) {\n    if (this.truncate) {\n      // Only replace single leading linebreak in the line after\n      // -%> tag -- this is the single, trailing linebreak\n      // after the tag that the truncation mode replaces\n      // Handle Win / Unix / old Mac linebreaks -- do the \\r\\n\n      // combo first in the regex-or\n      line = line.replace(/^(?:\\r\\n|\\r|\\n)/, '');\n      this.truncate = false;\n    }\n    if (!line) {\n      return line;\n    }\n\n    // Preserve literal slashes\n    line = line.replace(/\\\\/g, '\\\\\\\\');\n\n    // Convert linebreaks\n    line = line.replace(/\\n/g, '\\\\n');\n    line = line.replace(/\\r/g, '\\\\r');\n\n    // Escape double-quotes\n    // - this will be the delimiter during execution\n    line = line.replace(/\"/g, '\\\\\"');\n    this.source += '    ; __append(\"' + line + '\")' + '\\n';\n  },\n\n  scanLine: function (line) {\n    var self = this;\n    var d = this.opts.delimiter;\n    var o = this.opts.openDelimiter;\n    var c = this.opts.closeDelimiter;\n    var newLineCount = 0;\n\n    newLineCount = (line.split('\\n').length - 1);\n\n    switch (line) {\n    case o + d:\n    case o + d + '_':\n      this.mode = Template.modes.EVAL;\n      break;\n    case o + d + '=':\n      this.mode = Template.modes.ESCAPED;\n      break;\n    case o + d + '-':\n      this.mode = Template.modes.RAW;\n      break;\n    case o + d + '#':\n      this.mode = Template.modes.COMMENT;\n      break;\n    case o + d + d:\n      this.mode = Template.modes.LITERAL;\n      this.source += '    ; __append(\"' + line.replace(o + d + d, o + d) + '\")' + '\\n';\n      break;\n    case d + d + c:\n      this.mode = Template.modes.LITERAL;\n      this.source += '    ; __append(\"' + line.replace(d + d + c, d + c) + '\")' + '\\n';\n      break;\n    case d + c:\n    case '-' + d + c:\n    case '_' + d + c:\n      if (this.mode == Template.modes.LITERAL) {\n        this._addOutput(line);\n      }\n\n      this.mode = null;\n      this.truncate = line.indexOf('-') === 0 || line.indexOf('_') === 0;\n      break;\n    default:\n      // In script mode, depends on type of tag\n      if (this.mode) {\n        // If '//' is found without a line break, add a line break.\n        switch (this.mode) {\n        case Template.modes.EVAL:\n        case Template.modes.ESCAPED:\n        case Template.modes.RAW:\n          if (line.lastIndexOf('//') > line.lastIndexOf('\\n')) {\n            line += '\\n';\n          }\n        }\n        switch (this.mode) {\n        // Just executing code\n        case Template.modes.EVAL:\n          this.source += '    ; ' + line + '\\n';\n          break;\n          // Exec, esc, and output\n        case Template.modes.ESCAPED:\n          this.source += '    ; __append(escapeFn(' + stripSemi(line) + '))' + '\\n';\n          break;\n          // Exec and output\n        case Template.modes.RAW:\n          this.source += '    ; __append(' + stripSemi(line) + ')' + '\\n';\n          break;\n        case Template.modes.COMMENT:\n          // Do nothing\n          break;\n          // Literal <%% mode, append as raw output\n        case Template.modes.LITERAL:\n          this._addOutput(line);\n          break;\n        }\n      }\n      // In string mode, just add the output\n      else {\n        this._addOutput(line);\n      }\n    }\n\n    if (self.opts.compileDebug && newLineCount) {\n      this.currentLine += newLineCount;\n      this.source += '    ; __line = ' + this.currentLine + '\\n';\n    }\n  }\n};\n\n/**\n * Escape characters reserved in XML.\n *\n * This is simply an export of {@link module:utils.escapeXML}.\n *\n * If `markup` is `undefined` or `null`, the empty string is returned.\n *\n * @param {String} markup Input string\n * @return {String} Escaped string\n * @public\n * @func\n * */\nexports.escapeXML = utils.escapeXML;\n\n/**\n * Express.js support.\n *\n * This is an alias for {@link module:ejs.renderFile}, in order to support\n * Express.js out-of-the-box.\n *\n * @func\n */\n\nexports.__express = exports.renderFile;\n\n/**\n * Version of EJS.\n *\n * @readonly\n * @type {String}\n * @public\n */\n\nexports.VERSION = _VERSION_STRING;\n\n/**\n * Name for detection of EJS.\n *\n * @readonly\n * @type {String}\n * @public\n */\n\nexports.name = _NAME;\n\n/* istanbul ignore if */\nif (typeof window != 'undefined') {\n  window.ejs = exports;\n}\n", "'use strict';\n\nconst ejs = require('ejs');\n\nmodule.exports = function (to, contents, context, tplSettings, options) {\n  context = context || {};\n  tplSettings = tplSettings || {};\n\n  this.append(\n    to,\n    ejs.render(\n      contents.toString(),\n      context,\n      tplSettings,\n    ),\n    options);\n};\n", "'use strict';\n\nmodule.exports = (...arguments_) => {\n\treturn [...new Set([].concat(...arguments_))];\n};\n", "'use strict'\n/*\n * merge2\n * https://github.com/teambition/merge2\n *\n * Copyright (c) 2014-2020 Teambition\n * Licensed under the MIT license.\n */\nconst Stream = require('stream')\nconst PassThrough = Stream.PassThrough\nconst slice = Array.prototype.slice\n\nmodule.exports = merge2\n\nfunction merge2 () {\n  const streamsQueue = []\n  const args = slice.call(arguments)\n  let merging = false\n  let options = args[args.length - 1]\n\n  if (options && !Array.isArray(options) && options.pipe == null) {\n    args.pop()\n  } else {\n    options = {}\n  }\n\n  const doEnd = options.end !== false\n  const doPipeError = options.pipeError === true\n  if (options.objectMode == null) {\n    options.objectMode = true\n  }\n  if (options.highWaterMark == null) {\n    options.highWaterMark = 64 * 1024\n  }\n  const mergedStream = PassThrough(options)\n\n  function addStream () {\n    for (let i = 0, len = arguments.length; i < len; i++) {\n      streamsQueue.push(pauseStreams(arguments[i], options))\n    }\n    mergeStream()\n    return this\n  }\n\n  function mergeStream () {\n    if (merging) {\n      return\n    }\n    merging = true\n\n    let streams = streamsQueue.shift()\n    if (!streams) {\n      process.nextTick(endStream)\n      return\n    }\n    if (!Array.isArray(streams)) {\n      streams = [streams]\n    }\n\n    let pipesCount = streams.length + 1\n\n    function next () {\n      if (--pipesCount > 0) {\n        return\n      }\n      merging = false\n      mergeStream()\n    }\n\n    function pipe (stream) {\n      function onend () {\n        stream.removeListener('merge2UnpipeEnd', onend)\n        stream.removeListener('end', onend)\n        if (doPipeError) {\n          stream.removeListener('error', onerror)\n        }\n        next()\n      }\n      function onerror (err) {\n        mergedStream.emit('error', err)\n      }\n      // skip ended stream\n      if (stream._readableState.endEmitted) {\n        return next()\n      }\n\n      stream.on('merge2UnpipeEnd', onend)\n      stream.on('end', onend)\n\n      if (doPipeError) {\n        stream.on('error', onerror)\n      }\n\n      stream.pipe(mergedStream, { end: false })\n      // compatible for old stream\n      stream.resume()\n    }\n\n    for (let i = 0; i < streams.length; i++) {\n      pipe(streams[i])\n    }\n\n    next()\n  }\n\n  function endStream () {\n    merging = false\n    // emit 'queueDrain' when all streams merged.\n    mergedStream.emit('queueDrain')\n    if (doEnd) {\n      mergedStream.end()\n    }\n  }\n\n  mergedStream.setMaxListeners(0)\n  mergedStream.add = addStream\n  mergedStream.on('unpipe', function (stream) {\n    stream.emit('merge2UnpipeEnd')\n  })\n\n  if (args.length) {\n    addStream.apply(null, args)\n  }\n  return mergedStream\n}\n\n// check and pause streams for pipe.\nfunction pauseStreams (streams, options) {\n  if (!Array.isArray(streams)) {\n    // Backwards-compat with old-style streams\n    if (!streams._readableState && streams.pipe) {\n      streams = streams.pipe(PassThrough(options))\n    }\n    if (!streams._readableState || !streams.pause || !streams.pipe) {\n      throw new Error('Only readable stream can be merged.')\n    }\n    streams.pause()\n  } else {\n    for (let i = 0, len = streams.length; i < len; i++) {\n      streams[i] = pauseStreams(streams[i], options)\n    }\n  }\n  return streams\n}\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.splitWhen = exports.flatten = void 0;\r\nfunction flatten(items) {\r\n    return items.reduce((collection, item) => [].concat(collection, item), []);\r\n}\r\nexports.flatten = flatten;\r\nfunction splitWhen(items, predicate) {\r\n    const result = [[]];\r\n    let groupIndex = 0;\r\n    for (const item of items) {\r\n        if (predicate(item)) {\r\n            groupIndex++;\r\n            result[groupIndex] = [];\r\n        }\r\n        else {\r\n            result[groupIndex].push(item);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexports.splitWhen = splitWhen;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.isEnoentCodeError = void 0;\r\nfunction isEnoentCodeError(error) {\r\n    return error.code === 'ENOENT';\r\n}\r\nexports.isEnoentCodeError = isEnoentCodeError;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createDirentFromStats = void 0;\r\nclass DirentFromStats {\r\n    constructor(name, stats) {\r\n        this.name = name;\r\n        this.isBlockDevice = stats.isBlockDevice.bind(stats);\r\n        this.isCharacterDevice = stats.isCharacterDevice.bind(stats);\r\n        this.isDirectory = stats.isDirectory.bind(stats);\r\n        this.isFIFO = stats.isFIFO.bind(stats);\r\n        this.isFile = stats.isFile.bind(stats);\r\n        this.isSocket = stats.isSocket.bind(stats);\r\n        this.isSymbolicLink = stats.isSymbolicLink.bind(stats);\r\n    }\r\n}\r\nfunction createDirentFromStats(name, stats) {\r\n    return new DirentFromStats(name, stats);\r\n}\r\nexports.createDirentFromStats = createDirentFromStats;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.removeLeadingDotSegment = exports.escape = exports.makeAbsolute = exports.unixify = void 0;\r\nconst path = require(\"path\");\r\nconst LEADING_DOT_SEGMENT_CHARACTERS_COUNT = 2; // ./ or .\\\\\r\nconst UNESCAPED_GLOB_SYMBOLS_RE = /(\\\\?)([()*?[\\]{|}]|^!|[!+@](?=\\())/g;\r\n/**\r\n * Designed to work only with simple paths: `dir\\\\file`.\r\n */\r\nfunction unixify(filepath) {\r\n    return filepath.replace(/\\\\/g, '/');\r\n}\r\nexports.unixify = unixify;\r\nfunction makeAbsolute(cwd, filepath) {\r\n    return path.resolve(cwd, filepath);\r\n}\r\nexports.makeAbsolute = makeAbsolute;\r\nfunction escape(pattern) {\r\n    return pattern.replace(UNESCAPED_GLOB_SYMBOLS_RE, '\\\\$2');\r\n}\r\nexports.escape = escape;\r\nfunction removeLeadingDotSegment(entry) {\r\n    // We do not use `startsWith` because this is 10x slower than current implementation for some cases.\r\n    // eslint-disable-next-line @typescript-eslint/prefer-string-starts-ends-with\r\n    if (entry.charAt(0) === '.') {\r\n        const secondCharactery = entry.charAt(1);\r\n        if (secondCharactery === '/' || secondCharactery === '\\\\') {\r\n            return entry.slice(LEADING_DOT_SEGMENT_CHARACTERS_COUNT);\r\n        }\r\n    }\r\n    return entry;\r\n}\r\nexports.removeLeadingDotSegment = removeLeadingDotSegment;\r\n", "/*!\n * is-extglob <https://github.com/jonschlinkert/is-extglob>\n *\n * Copyright (c) 2014-2016, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\nmodule.exports = function isExtglob(str) {\n  if (typeof str !== 'string' || str === '') {\n    return false;\n  }\n\n  var match;\n  while ((match = /(\\\\).|([@?!+*]\\(.*\\))/g.exec(str))) {\n    if (match[2]) return true;\n    str = str.slice(match.index + match[0].length);\n  }\n\n  return false;\n};\n", "/*!\n * is-glob <https://github.com/jonschlinkert/is-glob>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nvar isExtglob = require('is-extglob');\nvar chars = { '{': '}', '(': ')', '[': ']'};\nvar strictCheck = function(str) {\n  if (str[0] === '!') {\n    return true;\n  }\n  var index = 0;\n  var pipeIndex = -2;\n  var closeSquareIndex = -2;\n  var closeCurlyIndex = -2;\n  var closeParenIndex = -2;\n  var backSlashIndex = -2;\n  while (index < str.length) {\n    if (str[index] === '*') {\n      return true;\n    }\n\n    if (str[index + 1] === '?' && /[\\].+)]/.test(str[index])) {\n      return true;\n    }\n\n    if (closeSquareIndex !== -1 && str[index] === '[' && str[index + 1] !== ']') {\n      if (closeSquareIndex < index) {\n        closeSquareIndex = str.indexOf(']', index);\n      }\n      if (closeSquareIndex > index) {\n        if (backSlashIndex === -1 || backSlashIndex > closeSquareIndex) {\n          return true;\n        }\n        backSlashIndex = str.indexOf('\\\\', index);\n        if (backSlashIndex === -1 || backSlashIndex > closeSquareIndex) {\n          return true;\n        }\n      }\n    }\n\n    if (closeCurlyIndex !== -1 && str[index] === '{' && str[index + 1] !== '}') {\n      closeCurlyIndex = str.indexOf('}', index);\n      if (closeCurlyIndex > index) {\n        backSlashIndex = str.indexOf('\\\\', index);\n        if (backSlashIndex === -1 || backSlashIndex > closeCurlyIndex) {\n          return true;\n        }\n      }\n    }\n\n    if (closeParenIndex !== -1 && str[index] === '(' && str[index + 1] === '?' && /[:!=]/.test(str[index + 2]) && str[index + 3] !== ')') {\n      closeParenIndex = str.indexOf(')', index);\n      if (closeParenIndex > index) {\n        backSlashIndex = str.indexOf('\\\\', index);\n        if (backSlashIndex === -1 || backSlashIndex > closeParenIndex) {\n          return true;\n        }\n      }\n    }\n\n    if (pipeIndex !== -1 && str[index] === '(' && str[index + 1] !== '|') {\n      if (pipeIndex < index) {\n        pipeIndex = str.indexOf('|', index);\n      }\n      if (pipeIndex !== -1 && str[pipeIndex + 1] !== ')') {\n        closeParenIndex = str.indexOf(')', pipeIndex);\n        if (closeParenIndex > pipeIndex) {\n          backSlashIndex = str.indexOf('\\\\', pipeIndex);\n          if (backSlashIndex === -1 || backSlashIndex > closeParenIndex) {\n            return true;\n          }\n        }\n      }\n    }\n\n    if (str[index] === '\\\\') {\n      var open = str[index + 1];\n      index += 2;\n      var close = chars[open];\n\n      if (close) {\n        var n = str.indexOf(close, index);\n        if (n !== -1) {\n          index = n + 1;\n        }\n      }\n\n      if (str[index] === '!') {\n        return true;\n      }\n    } else {\n      index++;\n    }\n  }\n  return false;\n};\n\nvar relaxedCheck = function(str) {\n  if (str[0] === '!') {\n    return true;\n  }\n  var index = 0;\n  while (index < str.length) {\n    if (/[*?{}()[\\]]/.test(str[index])) {\n      return true;\n    }\n\n    if (str[index] === '\\\\') {\n      var open = str[index + 1];\n      index += 2;\n      var close = chars[open];\n\n      if (close) {\n        var n = str.indexOf(close, index);\n        if (n !== -1) {\n          index = n + 1;\n        }\n      }\n\n      if (str[index] === '!') {\n        return true;\n      }\n    } else {\n      index++;\n    }\n  }\n  return false;\n};\n\nmodule.exports = function isGlob(str, options) {\n  if (typeof str !== 'string' || str === '') {\n    return false;\n  }\n\n  if (isExtglob(str)) {\n    return true;\n  }\n\n  var check = strictCheck;\n\n  // optionally relax check\n  if (options && options.strict === false) {\n    check = relaxedCheck;\n  }\n\n  return check(str);\n};\n", "'use strict';\n\nvar isGlob = require('is-glob');\nvar pathPosixDirname = require('path').posix.dirname;\nvar isWin32 = require('os').platform() === 'win32';\n\nvar slash = '/';\nvar backslash = /\\\\/g;\nvar escaped = /\\\\([!*?|[\\](){}])/g;\n\n/**\n * @param {string} str\n * @param {Object} opts\n * @param {boolean} [opts.flipBackslashes=true]\n */\nmodule.exports = function globParent(str, opts) {\n  var options = Object.assign({ flipBackslashes: true }, opts);\n\n  // flip windows path separators\n  if (options.flipBackslashes && isWin32 && str.indexOf(slash) < 0) {\n    str = str.replace(backslash, slash);\n  }\n\n  // special case for strings ending in enclosure containing path separator\n  if (isEnclosure(str)) {\n    str += slash;\n  }\n\n  // preserves full path in case of trailing path separator\n  str += 'a';\n\n  // remove path parts that are globby\n  do {\n    str = pathPosixDirname(str);\n  } while (isGlobby(str));\n\n  // remove escape chars and return result\n  return str.replace(escaped, '$1');\n};\n\nfunction isEnclosure(str) {\n  var lastChar = str.slice(-1);\n\n  var enclosureStart;\n  switch (lastChar) {\n    case '}':\n      enclosureStart = '{';\n      break;\n    case ']':\n      enclosureStart = '[';\n      break;\n    default:\n      return false;\n  }\n\n  var foundIndex = str.indexOf(enclosureStart);\n  if (foundIndex < 0) {\n    return false;\n  }\n\n  return str.slice(foundIndex + 1, -1).includes(slash);\n}\n\nfunction isGlobby(str) {\n  if (/\\([^()]+$/.test(str)) {\n    return true;\n  }\n  if (str[0] === '{' || str[0] === '[') {\n    return true;\n  }\n  if (/[^\\\\][{[]/.test(str)) {\n    return true;\n  }\n  return isGlob(str);\n}\n", "'use strict';\n\nexports.isInteger = num => {\n  if (typeof num === 'number') {\n    return Number.isInteger(num);\n  }\n  if (typeof num === 'string' && num.trim() !== '') {\n    return Number.isInteger(Number(num));\n  }\n  return false;\n};\n\n/**\n * Find a node of the given type\n */\n\nexports.find = (node, type) => node.nodes.find(node => node.type === type);\n\n/**\n * Find a node of the given type\n */\n\nexports.exceedsLimit = (min, max, step = 1, limit) => {\n  if (limit === false) return false;\n  if (!exports.isInteger(min) || !exports.isInteger(max)) return false;\n  return ((Number(max) - Number(min)) / Number(step)) >= limit;\n};\n\n/**\n * Escape the given node with '\\\\' before node.value\n */\n\nexports.escapeNode = (block, n = 0, type) => {\n  let node = block.nodes[n];\n  if (!node) return;\n\n  if ((type && node.type === type) || node.type === 'open' || node.type === 'close') {\n    if (node.escaped !== true) {\n      node.value = '\\\\' + node.value;\n      node.escaped = true;\n    }\n  }\n};\n\n/**\n * Returns true if the given brace node should be enclosed in literal braces\n */\n\nexports.encloseBrace = node => {\n  if (node.type !== 'brace') return false;\n  if ((node.commas >> 0 + node.ranges >> 0) === 0) {\n    node.invalid = true;\n    return true;\n  }\n  return false;\n};\n\n/**\n * Returns true if a brace node is invalid.\n */\n\nexports.isInvalidBrace = block => {\n  if (block.type !== 'brace') return false;\n  if (block.invalid === true || block.dollar) return true;\n  if ((block.commas >> 0 + block.ranges >> 0) === 0) {\n    block.invalid = true;\n    return true;\n  }\n  if (block.open !== true || block.close !== true) {\n    block.invalid = true;\n    return true;\n  }\n  return false;\n};\n\n/**\n * Returns true if a node is an open or close node\n */\n\nexports.isOpenOrClose = node => {\n  if (node.type === 'open' || node.type === 'close') {\n    return true;\n  }\n  return node.open === true || node.close === true;\n};\n\n/**\n * Reduce an array of text nodes.\n */\n\nexports.reduce = nodes => nodes.reduce((acc, node) => {\n  if (node.type === 'text') acc.push(node.value);\n  if (node.type === 'range') node.type = 'text';\n  return acc;\n}, []);\n\n/**\n * Flatten an array\n */\n\nexports.flatten = (...args) => {\n  const result = [];\n  const flat = arr => {\n    for (let i = 0; i < arr.length; i++) {\n      let ele = arr[i];\n      Array.isArray(ele) ? flat(ele, result) : ele !== void 0 && result.push(ele);\n    }\n    return result;\n  };\n  flat(args);\n  return result;\n};\n", "'use strict';\n\nconst utils = require('./utils');\n\nmodule.exports = (ast, options = {}) => {\n  let stringify = (node, parent = {}) => {\n    let invalidBlock = options.escapeInvalid && utils.isInvalidBrace(parent);\n    let invalidNode = node.invalid === true && options.escapeInvalid === true;\n    let output = '';\n\n    if (node.value) {\n      if ((invalidBlock || invalidNode) && utils.isOpenOrClose(node)) {\n        return '\\\\' + node.value;\n      }\n      return node.value;\n    }\n\n    if (node.value) {\n      return node.value;\n    }\n\n    if (node.nodes) {\n      for (let child of node.nodes) {\n        output += stringify(child);\n      }\n    }\n    return output;\n  };\n\n  return stringify(ast);\n};\n\n", "/*!\n * is-number <https://github.com/jonschlinkert/is-number>\n *\n * Copyright (c) 2014-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function(num) {\n  if (typeof num === 'number') {\n    return num - num === 0;\n  }\n  if (typeof num === 'string' && num.trim() !== '') {\n    return Number.isFinite ? Number.isFinite(+num) : isFinite(+num);\n  }\n  return false;\n};\n", "/*!\n * to-regex-range <https://github.com/micromatch/to-regex-range>\n *\n * Copyright (c) 2015-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nconst isNumber = require('is-number');\n\nconst toRegexRange = (min, max, options) => {\n  if (isNumber(min) === false) {\n    throw new TypeError('toRegexRange: expected the first argument to be a number');\n  }\n\n  if (max === void 0 || min === max) {\n    return String(min);\n  }\n\n  if (isNumber(max) === false) {\n    throw new TypeError('toRegexRange: expected the second argument to be a number.');\n  }\n\n  let opts = { relaxZeros: true, ...options };\n  if (typeof opts.strictZeros === 'boolean') {\n    opts.relaxZeros = opts.strictZeros === false;\n  }\n\n  let relax = String(opts.relaxZeros);\n  let shorthand = String(opts.shorthand);\n  let capture = String(opts.capture);\n  let wrap = String(opts.wrap);\n  let cacheKey = min + ':' + max + '=' + relax + shorthand + capture + wrap;\n\n  if (toRegexRange.cache.hasOwnProperty(cacheKey)) {\n    return toRegexRange.cache[cacheKey].result;\n  }\n\n  let a = Math.min(min, max);\n  let b = Math.max(min, max);\n\n  if (Math.abs(a - b) === 1) {\n    let result = min + '|' + max;\n    if (opts.capture) {\n      return `(${result})`;\n    }\n    if (opts.wrap === false) {\n      return result;\n    }\n    return `(?:${result})`;\n  }\n\n  let isPadded = hasPadding(min) || hasPadding(max);\n  let state = { min, max, a, b };\n  let positives = [];\n  let negatives = [];\n\n  if (isPadded) {\n    state.isPadded = isPadded;\n    state.maxLen = String(state.max).length;\n  }\n\n  if (a < 0) {\n    let newMin = b < 0 ? Math.abs(b) : 1;\n    negatives = splitToPatterns(newMin, Math.abs(a), state, opts);\n    a = state.a = 0;\n  }\n\n  if (b >= 0) {\n    positives = splitToPatterns(a, b, state, opts);\n  }\n\n  state.negatives = negatives;\n  state.positives = positives;\n  state.result = collatePatterns(negatives, positives, opts);\n\n  if (opts.capture === true) {\n    state.result = `(${state.result})`;\n  } else if (opts.wrap !== false && (positives.length + negatives.length) > 1) {\n    state.result = `(?:${state.result})`;\n  }\n\n  toRegexRange.cache[cacheKey] = state;\n  return state.result;\n};\n\nfunction collatePatterns(neg, pos, options) {\n  let onlyNegative = filterPatterns(neg, pos, '-', false, options) || [];\n  let onlyPositive = filterPatterns(pos, neg, '', false, options) || [];\n  let intersected = filterPatterns(neg, pos, '-?', true, options) || [];\n  let subpatterns = onlyNegative.concat(intersected).concat(onlyPositive);\n  return subpatterns.join('|');\n}\n\nfunction splitToRanges(min, max) {\n  let nines = 1;\n  let zeros = 1;\n\n  let stop = countNines(min, nines);\n  let stops = new Set([max]);\n\n  while (min <= stop && stop <= max) {\n    stops.add(stop);\n    nines += 1;\n    stop = countNines(min, nines);\n  }\n\n  stop = countZeros(max + 1, zeros) - 1;\n\n  while (min < stop && stop <= max) {\n    stops.add(stop);\n    zeros += 1;\n    stop = countZeros(max + 1, zeros) - 1;\n  }\n\n  stops = [...stops];\n  stops.sort(compare);\n  return stops;\n}\n\n/**\n * Convert a range to a regex pattern\n * @param {Number} `start`\n * @param {Number} `stop`\n * @return {String}\n */\n\nfunction rangeToPattern(start, stop, options) {\n  if (start === stop) {\n    return { pattern: start, count: [], digits: 0 };\n  }\n\n  let zipped = zip(start, stop);\n  let digits = zipped.length;\n  let pattern = '';\n  let count = 0;\n\n  for (let i = 0; i < digits; i++) {\n    let [startDigit, stopDigit] = zipped[i];\n\n    if (startDigit === stopDigit) {\n      pattern += startDigit;\n\n    } else if (startDigit !== '0' || stopDigit !== '9') {\n      pattern += toCharacterClass(startDigit, stopDigit, options);\n\n    } else {\n      count++;\n    }\n  }\n\n  if (count) {\n    pattern += options.shorthand === true ? '\\\\d' : '[0-9]';\n  }\n\n  return { pattern, count: [count], digits };\n}\n\nfunction splitToPatterns(min, max, tok, options) {\n  let ranges = splitToRanges(min, max);\n  let tokens = [];\n  let start = min;\n  let prev;\n\n  for (let i = 0; i < ranges.length; i++) {\n    let max = ranges[i];\n    let obj = rangeToPattern(String(start), String(max), options);\n    let zeros = '';\n\n    if (!tok.isPadded && prev && prev.pattern === obj.pattern) {\n      if (prev.count.length > 1) {\n        prev.count.pop();\n      }\n\n      prev.count.push(obj.count[0]);\n      prev.string = prev.pattern + toQuantifier(prev.count);\n      start = max + 1;\n      continue;\n    }\n\n    if (tok.isPadded) {\n      zeros = padZeros(max, tok, options);\n    }\n\n    obj.string = zeros + obj.pattern + toQuantifier(obj.count);\n    tokens.push(obj);\n    start = max + 1;\n    prev = obj;\n  }\n\n  return tokens;\n}\n\nfunction filterPatterns(arr, comparison, prefix, intersection, options) {\n  let result = [];\n\n  for (let ele of arr) {\n    let { string } = ele;\n\n    // only push if _both_ are negative...\n    if (!intersection && !contains(comparison, 'string', string)) {\n      result.push(prefix + string);\n    }\n\n    // or _both_ are positive\n    if (intersection && contains(comparison, 'string', string)) {\n      result.push(prefix + string);\n    }\n  }\n  return result;\n}\n\n/**\n * Zip strings\n */\n\nfunction zip(a, b) {\n  let arr = [];\n  for (let i = 0; i < a.length; i++) arr.push([a[i], b[i]]);\n  return arr;\n}\n\nfunction compare(a, b) {\n  return a > b ? 1 : b > a ? -1 : 0;\n}\n\nfunction contains(arr, key, val) {\n  return arr.some(ele => ele[key] === val);\n}\n\nfunction countNines(min, len) {\n  return Number(String(min).slice(0, -len) + '9'.repeat(len));\n}\n\nfunction countZeros(integer, zeros) {\n  return integer - (integer % Math.pow(10, zeros));\n}\n\nfunction toQuantifier(digits) {\n  let [start = 0, stop = ''] = digits;\n  if (stop || start > 1) {\n    return `{${start + (stop ? ',' + stop : '')}}`;\n  }\n  return '';\n}\n\nfunction toCharacterClass(a, b, options) {\n  return `[${a}${(b - a === 1) ? '' : '-'}${b}]`;\n}\n\nfunction hasPadding(str) {\n  return /^-?(0+)\\d/.test(str);\n}\n\nfunction padZeros(value, tok, options) {\n  if (!tok.isPadded) {\n    return value;\n  }\n\n  let diff = Math.abs(tok.maxLen - String(value).length);\n  let relax = options.relaxZeros !== false;\n\n  switch (diff) {\n    case 0:\n      return '';\n    case 1:\n      return relax ? '0?' : '0';\n    case 2:\n      return relax ? '0{0,2}' : '00';\n    default: {\n      return relax ? `0{0,${diff}}` : `0{${diff}}`;\n    }\n  }\n}\n\n/**\n * Cache\n */\n\ntoRegexRange.cache = {};\ntoRegexRange.clearCache = () => (toRegexRange.cache = {});\n\n/**\n * Expose `toRegexRange`\n */\n\nmodule.exports = toRegexRange;\n", "/*!\n * fill-range <https://github.com/jonschlinkert/fill-range>\n *\n * Copyright (c) 2014-present, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\nconst util = require('util');\nconst toRegexRange = require('to-regex-range');\n\nconst isObject = val => val !== null && typeof val === 'object' && !Array.isArray(val);\n\nconst transform = toNumber => {\n  return value => toNumber === true ? Number(value) : String(value);\n};\n\nconst isValidValue = value => {\n  return typeof value === 'number' || (typeof value === 'string' && value !== '');\n};\n\nconst isNumber = num => Number.isInteger(+num);\n\nconst zeros = input => {\n  let value = `${input}`;\n  let index = -1;\n  if (value[0] === '-') value = value.slice(1);\n  if (value === '0') return false;\n  while (value[++index] === '0');\n  return index > 0;\n};\n\nconst stringify = (start, end, options) => {\n  if (typeof start === 'string' || typeof end === 'string') {\n    return true;\n  }\n  return options.stringify === true;\n};\n\nconst pad = (input, maxLength, toNumber) => {\n  if (maxLength > 0) {\n    let dash = input[0] === '-' ? '-' : '';\n    if (dash) input = input.slice(1);\n    input = (dash + input.padStart(dash ? maxLength - 1 : maxLength, '0'));\n  }\n  if (toNumber === false) {\n    return String(input);\n  }\n  return input;\n};\n\nconst toMaxLen = (input, maxLength) => {\n  let negative = input[0] === '-' ? '-' : '';\n  if (negative) {\n    input = input.slice(1);\n    maxLength--;\n  }\n  while (input.length < maxLength) input = '0' + input;\n  return negative ? ('-' + input) : input;\n};\n\nconst toSequence = (parts, options) => {\n  parts.negatives.sort((a, b) => a < b ? -1 : a > b ? 1 : 0);\n  parts.positives.sort((a, b) => a < b ? -1 : a > b ? 1 : 0);\n\n  let prefix = options.capture ? '' : '?:';\n  let positives = '';\n  let negatives = '';\n  let result;\n\n  if (parts.positives.length) {\n    positives = parts.positives.join('|');\n  }\n\n  if (parts.negatives.length) {\n    negatives = `-(${prefix}${parts.negatives.join('|')})`;\n  }\n\n  if (positives && negatives) {\n    result = `${positives}|${negatives}`;\n  } else {\n    result = positives || negatives;\n  }\n\n  if (options.wrap) {\n    return `(${prefix}${result})`;\n  }\n\n  return result;\n};\n\nconst toRange = (a, b, isNumbers, options) => {\n  if (isNumbers) {\n    return toRegexRange(a, b, { wrap: false, ...options });\n  }\n\n  let start = String.fromCharCode(a);\n  if (a === b) return start;\n\n  let stop = String.fromCharCode(b);\n  return `[${start}-${stop}]`;\n};\n\nconst toRegex = (start, end, options) => {\n  if (Array.isArray(start)) {\n    let wrap = options.wrap === true;\n    let prefix = options.capture ? '' : '?:';\n    return wrap ? `(${prefix}${start.join('|')})` : start.join('|');\n  }\n  return toRegexRange(start, end, options);\n};\n\nconst rangeError = (...args) => {\n  return new RangeError('Invalid range arguments: ' + util.inspect(...args));\n};\n\nconst invalidRange = (start, end, options) => {\n  if (options.strictRanges === true) throw rangeError([start, end]);\n  return [];\n};\n\nconst invalidStep = (step, options) => {\n  if (options.strictRanges === true) {\n    throw new TypeError(`Expected step \"${step}\" to be a number`);\n  }\n  return [];\n};\n\nconst fillNumbers = (start, end, step = 1, options = {}) => {\n  let a = Number(start);\n  let b = Number(end);\n\n  if (!Number.isInteger(a) || !Number.isInteger(b)) {\n    if (options.strictRanges === true) throw rangeError([start, end]);\n    return [];\n  }\n\n  // fix negative zero\n  if (a === 0) a = 0;\n  if (b === 0) b = 0;\n\n  let descending = a > b;\n  let startString = String(start);\n  let endString = String(end);\n  let stepString = String(step);\n  step = Math.max(Math.abs(step), 1);\n\n  let padded = zeros(startString) || zeros(endString) || zeros(stepString);\n  let maxLen = padded ? Math.max(startString.length, endString.length, stepString.length) : 0;\n  let toNumber = padded === false && stringify(start, end, options) === false;\n  let format = options.transform || transform(toNumber);\n\n  if (options.toRegex && step === 1) {\n    return toRange(toMaxLen(start, maxLen), toMaxLen(end, maxLen), true, options);\n  }\n\n  let parts = { negatives: [], positives: [] };\n  let push = num => parts[num < 0 ? 'negatives' : 'positives'].push(Math.abs(num));\n  let range = [];\n  let index = 0;\n\n  while (descending ? a >= b : a <= b) {\n    if (options.toRegex === true && step > 1) {\n      push(a);\n    } else {\n      range.push(pad(format(a, index), maxLen, toNumber));\n    }\n    a = descending ? a - step : a + step;\n    index++;\n  }\n\n  if (options.toRegex === true) {\n    return step > 1\n      ? toSequence(parts, options)\n      : toRegex(range, null, { wrap: false, ...options });\n  }\n\n  return range;\n};\n\nconst fillLetters = (start, end, step = 1, options = {}) => {\n  if ((!isNumber(start) && start.length > 1) || (!isNumber(end) && end.length > 1)) {\n    return invalidRange(start, end, options);\n  }\n\n\n  let format = options.transform || (val => String.fromCharCode(val));\n  let a = `${start}`.charCodeAt(0);\n  let b = `${end}`.charCodeAt(0);\n\n  let descending = a > b;\n  let min = Math.min(a, b);\n  let max = Math.max(a, b);\n\n  if (options.toRegex && step === 1) {\n    return toRange(min, max, false, options);\n  }\n\n  let range = [];\n  let index = 0;\n\n  while (descending ? a >= b : a <= b) {\n    range.push(format(a, index));\n    a = descending ? a - step : a + step;\n    index++;\n  }\n\n  if (options.toRegex === true) {\n    return toRegex(range, null, { wrap: false, options });\n  }\n\n  return range;\n};\n\nconst fill = (start, end, step, options = {}) => {\n  if (end == null && isValidValue(start)) {\n    return [start];\n  }\n\n  if (!isValidValue(start) || !isValidValue(end)) {\n    return invalidRange(start, end, options);\n  }\n\n  if (typeof step === 'function') {\n    return fill(start, end, 1, { transform: step });\n  }\n\n  if (isObject(step)) {\n    return fill(start, end, 0, step);\n  }\n\n  let opts = { ...options };\n  if (opts.capture === true) opts.wrap = true;\n  step = step || opts.step || 1;\n\n  if (!isNumber(step)) {\n    if (step != null && !isObject(step)) return invalidStep(step, opts);\n    return fill(start, end, 1, step);\n  }\n\n  if (isNumber(start) && isNumber(end)) {\n    return fillNumbers(start, end, step, opts);\n  }\n\n  return fillLetters(start, end, Math.max(Math.abs(step), 1), opts);\n};\n\nmodule.exports = fill;\n", "'use strict';\n\nconst fill = require('fill-range');\nconst utils = require('./utils');\n\nconst compile = (ast, options = {}) => {\n  let walk = (node, parent = {}) => {\n    let invalidBlock = utils.isInvalidBrace(parent);\n    let invalidNode = node.invalid === true && options.escapeInvalid === true;\n    let invalid = invalidBlock === true || invalidNode === true;\n    let prefix = options.escapeInvalid === true ? '\\\\' : '';\n    let output = '';\n\n    if (node.isOpen === true) {\n      return prefix + node.value;\n    }\n    if (node.isClose === true) {\n      return prefix + node.value;\n    }\n\n    if (node.type === 'open') {\n      return invalid ? (prefix + node.value) : '(';\n    }\n\n    if (node.type === 'close') {\n      return invalid ? (prefix + node.value) : ')';\n    }\n\n    if (node.type === 'comma') {\n      return node.prev.type === 'comma' ? '' : (invalid ? node.value : '|');\n    }\n\n    if (node.value) {\n      return node.value;\n    }\n\n    if (node.nodes && node.ranges > 0) {\n      let args = utils.reduce(node.nodes);\n      let range = fill(...args, { ...options, wrap: false, toRegex: true });\n\n      if (range.length !== 0) {\n        return args.length > 1 && range.length > 1 ? `(${range})` : range;\n      }\n    }\n\n    if (node.nodes) {\n      for (let child of node.nodes) {\n        output += walk(child, node);\n      }\n    }\n    return output;\n  };\n\n  return walk(ast);\n};\n\nmodule.exports = compile;\n", "'use strict';\n\nconst fill = require('fill-range');\nconst stringify = require('./stringify');\nconst utils = require('./utils');\n\nconst append = (queue = '', stash = '', enclose = false) => {\n  let result = [];\n\n  queue = [].concat(queue);\n  stash = [].concat(stash);\n\n  if (!stash.length) return queue;\n  if (!queue.length) {\n    return enclose ? utils.flatten(stash).map(ele => `{${ele}}`) : stash;\n  }\n\n  for (let item of queue) {\n    if (Array.isArray(item)) {\n      for (let value of item) {\n        result.push(append(value, stash, enclose));\n      }\n    } else {\n      for (let ele of stash) {\n        if (enclose === true && typeof ele === 'string') ele = `{${ele}}`;\n        result.push(Array.isArray(ele) ? append(item, ele, enclose) : (item + ele));\n      }\n    }\n  }\n  return utils.flatten(result);\n};\n\nconst expand = (ast, options = {}) => {\n  let rangeLimit = options.rangeLimit === void 0 ? 1000 : options.rangeLimit;\n\n  let walk = (node, parent = {}) => {\n    node.queue = [];\n\n    let p = parent;\n    let q = parent.queue;\n\n    while (p.type !== 'brace' && p.type !== 'root' && p.parent) {\n      p = p.parent;\n      q = p.queue;\n    }\n\n    if (node.invalid || node.dollar) {\n      q.push(append(q.pop(), stringify(node, options)));\n      return;\n    }\n\n    if (node.type === 'brace' && node.invalid !== true && node.nodes.length === 2) {\n      q.push(append(q.pop(), ['{}']));\n      return;\n    }\n\n    if (node.nodes && node.ranges > 0) {\n      let args = utils.reduce(node.nodes);\n\n      if (utils.exceedsLimit(...args, options.step, rangeLimit)) {\n        throw new RangeError('expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.');\n      }\n\n      let range = fill(...args, options);\n      if (range.length === 0) {\n        range = stringify(node, options);\n      }\n\n      q.push(append(q.pop(), range));\n      node.nodes = [];\n      return;\n    }\n\n    let enclose = utils.encloseBrace(node);\n    let queue = node.queue;\n    let block = node;\n\n    while (block.type !== 'brace' && block.type !== 'root' && block.parent) {\n      block = block.parent;\n      queue = block.queue;\n    }\n\n    for (let i = 0; i < node.nodes.length; i++) {\n      let child = node.nodes[i];\n\n      if (child.type === 'comma' && node.type === 'brace') {\n        if (i === 1) queue.push('');\n        queue.push('');\n        continue;\n      }\n\n      if (child.type === 'close') {\n        q.push(append(q.pop(), queue, enclose));\n        continue;\n      }\n\n      if (child.value && child.type !== 'open') {\n        queue.push(append(queue.pop(), child.value));\n        continue;\n      }\n\n      if (child.nodes) {\n        walk(child, node);\n      }\n    }\n\n    return queue;\n  };\n\n  return utils.flatten(walk(ast));\n};\n\nmodule.exports = expand;\n", "'use strict';\n\nmodule.exports = {\n  MAX_LENGTH: 1024 * 64,\n\n  // Digits\n  CHAR_0: '0', /* 0 */\n  CHAR_9: '9', /* 9 */\n\n  // Alphabet chars.\n  CHAR_UPPERCASE_A: 'A', /* A */\n  CHAR_LOWERCASE_A: 'a', /* a */\n  CHAR_UPPERCASE_Z: 'Z', /* Z */\n  CHAR_LOWERCASE_Z: 'z', /* z */\n\n  CHAR_LEFT_PARENTHESES: '(', /* ( */\n  CHAR_RIGHT_PARENTHESES: ')', /* ) */\n\n  CHAR_ASTERISK: '*', /* * */\n\n  // Non-alphabetic chars.\n  CHAR_AMPERSAND: '&', /* & */\n  CHAR_AT: '@', /* @ */\n  CHAR_BACKSLASH: '\\\\', /* \\ */\n  CHAR_BACKTICK: '`', /* ` */\n  CHAR_CARRIAGE_RETURN: '\\r', /* \\r */\n  CHAR_CIRCUMFLEX_ACCENT: '^', /* ^ */\n  CHAR_COLON: ':', /* : */\n  CHAR_COMMA: ',', /* , */\n  CHAR_DOLLAR: '$', /* . */\n  CHAR_DOT: '.', /* . */\n  CHAR_DOUBLE_QUOTE: '\"', /* \" */\n  CHAR_EQUAL: '=', /* = */\n  CHAR_EXCLAMATION_MARK: '!', /* ! */\n  CHAR_FORM_FEED: '\\f', /* \\f */\n  CHAR_FORWARD_SLASH: '/', /* / */\n  CHAR_HASH: '#', /* # */\n  CHAR_HYPHEN_MINUS: '-', /* - */\n  CHAR_LEFT_ANGLE_BRACKET: '<', /* < */\n  CHAR_LEFT_CURLY_BRACE: '{', /* { */\n  CHAR_LEFT_SQUARE_BRACKET: '[', /* [ */\n  CHAR_LINE_FEED: '\\n', /* \\n */\n  CHAR_NO_BREAK_SPACE: '\\u00A0', /* \\u00A0 */\n  CHAR_PERCENT: '%', /* % */\n  CHAR_PLUS: '+', /* + */\n  CHAR_QUESTION_MARK: '?', /* ? */\n  CHAR_RIGHT_ANGLE_BRACKET: '>', /* > */\n  CHAR_RIGHT_CURLY_BRACE: '}', /* } */\n  CHAR_RIGHT_SQUARE_BRACKET: ']', /* ] */\n  CHAR_SEMICOLON: ';', /* ; */\n  CHAR_SINGLE_QUOTE: '\\'', /* ' */\n  CHAR_SPACE: ' ', /*   */\n  CHAR_TAB: '\\t', /* \\t */\n  CHAR_UNDERSCORE: '_', /* _ */\n  CHAR_VERTICAL_LINE: '|', /* | */\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE: '\\uFEFF' /* \\uFEFF */\n};\n", "'use strict';\n\nconst stringify = require('./stringify');\n\n/**\n * Constants\n */\n\nconst {\n  MAX_LENGTH,\n  CHAR_BACKSLASH, /* \\ */\n  CHAR_BACKTICK, /* ` */\n  CHAR_COMMA, /* , */\n  CHAR_DOT, /* . */\n  CHAR_LEFT_PARENTHESES, /* ( */\n  CHAR_RIGHT_PARENTHESES, /* ) */\n  CHAR_LEFT_CURLY_BRACE, /* { */\n  CHAR_RIGHT_CURLY_BRACE, /* } */\n  CHAR_LEFT_SQUARE_BRACKET, /* [ */\n  CHAR_RIGHT_SQUARE_BRACKET, /* ] */\n  CHAR_DOUBLE_QUOTE, /* \" */\n  CHAR_SINGLE_QUOTE, /* ' */\n  CHAR_NO_BREAK_SPACE,\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE\n} = require('./constants');\n\n/**\n * parse\n */\n\nconst parse = (input, options = {}) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  let opts = options || {};\n  let max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n  if (input.length > max) {\n    throw new SyntaxError(`Input length (${input.length}), exceeds max characters (${max})`);\n  }\n\n  let ast = { type: 'root', input, nodes: [] };\n  let stack = [ast];\n  let block = ast;\n  let prev = ast;\n  let brackets = 0;\n  let length = input.length;\n  let index = 0;\n  let depth = 0;\n  let value;\n  let memo = {};\n\n  /**\n   * Helpers\n   */\n\n  const advance = () => input[index++];\n  const push = node => {\n    if (node.type === 'text' && prev.type === 'dot') {\n      prev.type = 'text';\n    }\n\n    if (prev && prev.type === 'text' && node.type === 'text') {\n      prev.value += node.value;\n      return;\n    }\n\n    block.nodes.push(node);\n    node.parent = block;\n    node.prev = prev;\n    prev = node;\n    return node;\n  };\n\n  push({ type: 'bos' });\n\n  while (index < length) {\n    block = stack[stack.length - 1];\n    value = advance();\n\n    /**\n     * Invalid chars\n     */\n\n    if (value === CHAR_ZERO_WIDTH_NOBREAK_SPACE || value === CHAR_NO_BREAK_SPACE) {\n      continue;\n    }\n\n    /**\n     * Escaped chars\n     */\n\n    if (value === CHAR_BACKSLASH) {\n      push({ type: 'text', value: (options.keepEscaping ? value : '') + advance() });\n      continue;\n    }\n\n    /**\n     * Right square bracket (literal): ']'\n     */\n\n    if (value === CHAR_RIGHT_SQUARE_BRACKET) {\n      push({ type: 'text', value: '\\\\' + value });\n      continue;\n    }\n\n    /**\n     * Left square bracket: '['\n     */\n\n    if (value === CHAR_LEFT_SQUARE_BRACKET) {\n      brackets++;\n\n      let closed = true;\n      let next;\n\n      while (index < length && (next = advance())) {\n        value += next;\n\n        if (next === CHAR_LEFT_SQUARE_BRACKET) {\n          brackets++;\n          continue;\n        }\n\n        if (next === CHAR_BACKSLASH) {\n          value += advance();\n          continue;\n        }\n\n        if (next === CHAR_RIGHT_SQUARE_BRACKET) {\n          brackets--;\n\n          if (brackets === 0) {\n            break;\n          }\n        }\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Parentheses\n     */\n\n    if (value === CHAR_LEFT_PARENTHESES) {\n      block = push({ type: 'paren', nodes: [] });\n      stack.push(block);\n      push({ type: 'text', value });\n      continue;\n    }\n\n    if (value === CHAR_RIGHT_PARENTHESES) {\n      if (block.type !== 'paren') {\n        push({ type: 'text', value });\n        continue;\n      }\n      block = stack.pop();\n      push({ type: 'text', value });\n      block = stack[stack.length - 1];\n      continue;\n    }\n\n    /**\n     * Quotes: '|\"|`\n     */\n\n    if (value === CHAR_DOUBLE_QUOTE || value === CHAR_SINGLE_QUOTE || value === CHAR_BACKTICK) {\n      let open = value;\n      let next;\n\n      if (options.keepQuotes !== true) {\n        value = '';\n      }\n\n      while (index < length && (next = advance())) {\n        if (next === CHAR_BACKSLASH) {\n          value += next + advance();\n          continue;\n        }\n\n        if (next === open) {\n          if (options.keepQuotes === true) value += next;\n          break;\n        }\n\n        value += next;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Left curly brace: '{'\n     */\n\n    if (value === CHAR_LEFT_CURLY_BRACE) {\n      depth++;\n\n      let dollar = prev.value && prev.value.slice(-1) === '$' || block.dollar === true;\n      let brace = {\n        type: 'brace',\n        open: true,\n        close: false,\n        dollar,\n        depth,\n        commas: 0,\n        ranges: 0,\n        nodes: []\n      };\n\n      block = push(brace);\n      stack.push(block);\n      push({ type: 'open', value });\n      continue;\n    }\n\n    /**\n     * Right curly brace: '}'\n     */\n\n    if (value === CHAR_RIGHT_CURLY_BRACE) {\n      if (block.type !== 'brace') {\n        push({ type: 'text', value });\n        continue;\n      }\n\n      let type = 'close';\n      block = stack.pop();\n      block.close = true;\n\n      push({ type, value });\n      depth--;\n\n      block = stack[stack.length - 1];\n      continue;\n    }\n\n    /**\n     * Comma: ','\n     */\n\n    if (value === CHAR_COMMA && depth > 0) {\n      if (block.ranges > 0) {\n        block.ranges = 0;\n        let open = block.nodes.shift();\n        block.nodes = [open, { type: 'text', value: stringify(block) }];\n      }\n\n      push({ type: 'comma', value });\n      block.commas++;\n      continue;\n    }\n\n    /**\n     * Dot: '.'\n     */\n\n    if (value === CHAR_DOT && depth > 0 && block.commas === 0) {\n      let siblings = block.nodes;\n\n      if (depth === 0 || siblings.length === 0) {\n        push({ type: 'text', value });\n        continue;\n      }\n\n      if (prev.type === 'dot') {\n        block.range = [];\n        prev.value += value;\n        prev.type = 'range';\n\n        if (block.nodes.length !== 3 && block.nodes.length !== 5) {\n          block.invalid = true;\n          block.ranges = 0;\n          prev.type = 'text';\n          continue;\n        }\n\n        block.ranges++;\n        block.args = [];\n        continue;\n      }\n\n      if (prev.type === 'range') {\n        siblings.pop();\n\n        let before = siblings[siblings.length - 1];\n        before.value += prev.value + value;\n        prev = before;\n        block.ranges--;\n        continue;\n      }\n\n      push({ type: 'dot', value });\n      continue;\n    }\n\n    /**\n     * Text\n     */\n\n    push({ type: 'text', value });\n  }\n\n  // Mark imbalanced braces and brackets as invalid\n  do {\n    block = stack.pop();\n\n    if (block.type !== 'root') {\n      block.nodes.forEach(node => {\n        if (!node.nodes) {\n          if (node.type === 'open') node.isOpen = true;\n          if (node.type === 'close') node.isClose = true;\n          if (!node.nodes) node.type = 'text';\n          node.invalid = true;\n        }\n      });\n\n      // get the location of the block on parent.nodes (block's siblings)\n      let parent = stack[stack.length - 1];\n      let index = parent.nodes.indexOf(block);\n      // replace the (invalid) block with it's nodes\n      parent.nodes.splice(index, 1, ...block.nodes);\n    }\n  } while (stack.length > 0);\n\n  push({ type: 'eos' });\n  return ast;\n};\n\nmodule.exports = parse;\n", "'use strict';\n\nconst stringify = require('./lib/stringify');\nconst compile = require('./lib/compile');\nconst expand = require('./lib/expand');\nconst parse = require('./lib/parse');\n\n/**\n * Expand the given pattern or create a regex-compatible string.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces('{a,b,c}', { compile: true })); //=> ['(a|b|c)']\n * console.log(braces('{a,b,c}')); //=> ['a', 'b', 'c']\n * ```\n * @param {String} `str`\n * @param {Object} `options`\n * @return {String}\n * @api public\n */\n\nconst braces = (input, options = {}) => {\n  let output = [];\n\n  if (Array.isArray(input)) {\n    for (let pattern of input) {\n      let result = braces.create(pattern, options);\n      if (Array.isArray(result)) {\n        output.push(...result);\n      } else {\n        output.push(result);\n      }\n    }\n  } else {\n    output = [].concat(braces.create(input, options));\n  }\n\n  if (options && options.expand === true && options.nodupes === true) {\n    output = [...new Set(output)];\n  }\n  return output;\n};\n\n/**\n * Parse the given `str` with the given `options`.\n *\n * ```js\n * // braces.parse(pattern, [, options]);\n * const ast = braces.parse('a/{b,c}/d');\n * console.log(ast);\n * ```\n * @param {String} pattern Brace pattern to parse\n * @param {Object} options\n * @return {Object} Returns an AST\n * @api public\n */\n\nbraces.parse = (input, options = {}) => parse(input, options);\n\n/**\n * Creates a braces string from an AST, or an AST node.\n *\n * ```js\n * const braces = require('braces');\n * let ast = braces.parse('foo/{a,b}/bar');\n * console.log(stringify(ast.nodes[2])); //=> '{a,b}'\n * ```\n * @param {String} `input` Brace pattern or AST.\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.stringify = (input, options = {}) => {\n  if (typeof input === 'string') {\n    return stringify(braces.parse(input, options), options);\n  }\n  return stringify(input, options);\n};\n\n/**\n * Compiles a brace pattern into a regex-compatible, optimized string.\n * This method is called by the main [braces](#braces) function by default.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces.compile('a/{b,c}/d'));\n * //=> ['a/(b|c)/d']\n * ```\n * @param {String} `input` Brace pattern or AST.\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.compile = (input, options = {}) => {\n  if (typeof input === 'string') {\n    input = braces.parse(input, options);\n  }\n  return compile(input, options);\n};\n\n/**\n * Expands a brace pattern into an array. This method is called by the\n * main [braces](#braces) function when `options.expand` is true. Before\n * using this method it's recommended that you read the [performance notes](#performance))\n * and advantages of using [.compile](#compile) instead.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces.expand('a/{b,c}/d'));\n * //=> ['a/b/d', 'a/c/d'];\n * ```\n * @param {String} `pattern` Brace pattern\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.expand = (input, options = {}) => {\n  if (typeof input === 'string') {\n    input = braces.parse(input, options);\n  }\n\n  let result = expand(input, options);\n\n  // filter out empty strings if specified\n  if (options.noempty === true) {\n    result = result.filter(Boolean);\n  }\n\n  // filter out duplicates if specified\n  if (options.nodupes === true) {\n    result = [...new Set(result)];\n  }\n\n  return result;\n};\n\n/**\n * Processes a brace pattern and returns either an expanded array\n * (if `options.expand` is true), a highly optimized regex-compatible string.\n * This method is called by the main [braces](#braces) function.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces.create('user-{200..300}/project-{a,b,c}-{1..10}'))\n * //=> 'user-(20[0-9]|2[1-9][0-9]|300)/project-(a|b|c)-([1-9]|10)'\n * ```\n * @param {String} `pattern` Brace pattern\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.create = (input, options = {}) => {\n  if (input === '' || input.length < 3) {\n    return [input];\n  }\n\n return options.expand !== true\n    ? braces.compile(input, options)\n    : braces.expand(input, options);\n};\n\n/**\n * Expose \"braces\"\n */\n\nmodule.exports = braces;\n", "'use strict';\n\nconst path = require('path');\nconst WIN_SLASH = '\\\\\\\\/';\nconst WIN_NO_SLASH = `[^${WIN_SLASH}]`;\n\n/**\n * Posix glob regex\n */\n\nconst DOT_LITERAL = '\\\\.';\nconst PLUS_LITERAL = '\\\\+';\nconst QMARK_LITERAL = '\\\\?';\nconst SLASH_LITERAL = '\\\\/';\nconst ONE_CHAR = '(?=.)';\nconst QMARK = '[^/]';\nconst END_ANCHOR = `(?:${SLASH_LITERAL}|$)`;\nconst START_ANCHOR = `(?:^|${SLASH_LITERAL})`;\nconst DOTS_SLASH = `${DOT_LITERAL}{1,2}${END_ANCHOR}`;\nconst NO_DOT = `(?!${DOT_LITERAL})`;\nconst NO_DOTS = `(?!${START_ANCHOR}${DOTS_SLASH})`;\nconst NO_DOT_SLASH = `(?!${DOT_LITERAL}{0,1}${END_ANCHOR})`;\nconst NO_DOTS_SLASH = `(?!${DOTS_SLASH})`;\nconst QMARK_NO_DOT = `[^.${SLASH_LITERAL}]`;\nconst STAR = `${QMARK}*?`;\n\nconst POSIX_CHARS = {\n  DOT_LITERAL,\n  PLUS_LITERAL,\n  QMARK_LITERAL,\n  SLASH_LITERAL,\n  ONE_CHAR,\n  QMARK,\n  END_ANCHOR,\n  DOTS_SLASH,\n  NO_DOT,\n  NO_DOTS,\n  NO_DOT_SLASH,\n  NO_DOTS_SLASH,\n  QMARK_NO_DOT,\n  STAR,\n  START_ANCHOR\n};\n\n/**\n * Windows glob regex\n */\n\nconst WINDOWS_CHARS = {\n  ...POSIX_CHARS,\n\n  SLASH_LITERAL: `[${WIN_SLASH}]`,\n  QMARK: WIN_NO_SLASH,\n  STAR: `${WIN_NO_SLASH}*?`,\n  DOTS_SLASH: `${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$)`,\n  NO_DOT: `(?!${DOT_LITERAL})`,\n  NO_DOTS: `(?!(?:^|[${WIN_SLASH}])${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\n  NO_DOT_SLASH: `(?!${DOT_LITERAL}{0,1}(?:[${WIN_SLASH}]|$))`,\n  NO_DOTS_SLASH: `(?!${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\n  QMARK_NO_DOT: `[^.${WIN_SLASH}]`,\n  START_ANCHOR: `(?:^|[${WIN_SLASH}])`,\n  END_ANCHOR: `(?:[${WIN_SLASH}]|$)`\n};\n\n/**\n * POSIX Bracket Regex\n */\n\nconst POSIX_REGEX_SOURCE = {\n  alnum: 'a-zA-Z0-9',\n  alpha: 'a-zA-Z',\n  ascii: '\\\\x00-\\\\x7F',\n  blank: ' \\\\t',\n  cntrl: '\\\\x00-\\\\x1F\\\\x7F',\n  digit: '0-9',\n  graph: '\\\\x21-\\\\x7E',\n  lower: 'a-z',\n  print: '\\\\x20-\\\\x7E ',\n  punct: '\\\\-!\"#$%&\\'()\\\\*+,./:;<=>?@[\\\\]^_`{|}~',\n  space: ' \\\\t\\\\r\\\\n\\\\v\\\\f',\n  upper: 'A-Z',\n  word: 'A-Za-z0-9_',\n  xdigit: 'A-Fa-f0-9'\n};\n\nmodule.exports = {\n  MAX_LENGTH: 1024 * 64,\n  POSIX_REGEX_SOURCE,\n\n  // regular expressions\n  REGEX_BACKSLASH: /\\\\(?![*+?^${}(|)[\\]])/g,\n  REGEX_NON_SPECIAL_CHARS: /^[^@![\\].,$*+?^{}()|\\\\/]+/,\n  REGEX_SPECIAL_CHARS: /[-*+?.^${}(|)[\\]]/,\n  REGEX_SPECIAL_CHARS_BACKREF: /(\\\\?)((\\W)(\\3*))/g,\n  REGEX_SPECIAL_CHARS_GLOBAL: /([-*+?.^${}(|)[\\]])/g,\n  REGEX_REMOVE_BACKSLASH: /(?:\\[.*?[^\\\\]\\]|\\\\(?=.))/g,\n\n  // Replace globs with equivalent patterns to reduce parsing time.\n  REPLACEMENTS: {\n    '***': '*',\n    '**/**': '**',\n    '**/**/**': '**'\n  },\n\n  // Digits\n  CHAR_0: 48, /* 0 */\n  CHAR_9: 57, /* 9 */\n\n  // Alphabet chars.\n  CHAR_UPPERCASE_A: 65, /* A */\n  CHAR_LOWERCASE_A: 97, /* a */\n  CHAR_UPPERCASE_Z: 90, /* Z */\n  CHAR_LOWERCASE_Z: 122, /* z */\n\n  CHAR_LEFT_PARENTHESES: 40, /* ( */\n  CHAR_RIGHT_PARENTHESES: 41, /* ) */\n\n  CHAR_ASTERISK: 42, /* * */\n\n  // Non-alphabetic chars.\n  CHAR_AMPERSAND: 38, /* & */\n  CHAR_AT: 64, /* @ */\n  CHAR_BACKWARD_SLASH: 92, /* \\ */\n  CHAR_CARRIAGE_RETURN: 13, /* \\r */\n  CHAR_CIRCUMFLEX_ACCENT: 94, /* ^ */\n  CHAR_COLON: 58, /* : */\n  CHAR_COMMA: 44, /* , */\n  CHAR_DOT: 46, /* . */\n  CHAR_DOUBLE_QUOTE: 34, /* \" */\n  CHAR_EQUAL: 61, /* = */\n  CHAR_EXCLAMATION_MARK: 33, /* ! */\n  CHAR_FORM_FEED: 12, /* \\f */\n  CHAR_FORWARD_SLASH: 47, /* / */\n  CHAR_GRAVE_ACCENT: 96, /* ` */\n  CHAR_HASH: 35, /* # */\n  CHAR_HYPHEN_MINUS: 45, /* - */\n  CHAR_LEFT_ANGLE_BRACKET: 60, /* < */\n  CHAR_LEFT_CURLY_BRACE: 123, /* { */\n  CHAR_LEFT_SQUARE_BRACKET: 91, /* [ */\n  CHAR_LINE_FEED: 10, /* \\n */\n  CHAR_NO_BREAK_SPACE: 160, /* \\u00A0 */\n  CHAR_PERCENT: 37, /* % */\n  CHAR_PLUS: 43, /* + */\n  CHAR_QUESTION_MARK: 63, /* ? */\n  CHAR_RIGHT_ANGLE_BRACKET: 62, /* > */\n  CHAR_RIGHT_CURLY_BRACE: 125, /* } */\n  CHAR_RIGHT_SQUARE_BRACKET: 93, /* ] */\n  CHAR_SEMICOLON: 59, /* ; */\n  CHAR_SINGLE_QUOTE: 39, /* ' */\n  CHAR_SPACE: 32, /*   */\n  CHAR_TAB: 9, /* \\t */\n  CHAR_UNDERSCORE: 95, /* _ */\n  CHAR_VERTICAL_LINE: 124, /* | */\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE: 65279, /* \\uFEFF */\n\n  SEP: path.sep,\n\n  /**\n   * Create EXTGLOB_CHARS\n   */\n\n  extglobChars(chars) {\n    return {\n      '!': { type: 'negate', open: '(?:(?!(?:', close: `))${chars.STAR})` },\n      '?': { type: 'qmark', open: '(?:', close: ')?' },\n      '+': { type: 'plus', open: '(?:', close: ')+' },\n      '*': { type: 'star', open: '(?:', close: ')*' },\n      '@': { type: 'at', open: '(?:', close: ')' }\n    };\n  },\n\n  /**\n   * Create GLOB_CHARS\n   */\n\n  globChars(win32) {\n    return win32 === true ? WINDOWS_CHARS : POSIX_CHARS;\n  }\n};\n", "'use strict';\n\nconst path = require('path');\nconst win32 = process.platform === 'win32';\nconst {\n  REGEX_BACKSLASH,\n  REGEX_REMOVE_BACKSLASH,\n  REGEX_SPECIAL_CHARS,\n  REGEX_SPECIAL_CHARS_GLOBAL\n} = require('./constants');\n\nexports.isObject = val => val !== null && typeof val === 'object' && !Array.isArray(val);\nexports.hasRegexChars = str => REGEX_SPECIAL_CHARS.test(str);\nexports.isRegexChar = str => str.length === 1 && exports.hasRegexChars(str);\nexports.escapeRegex = str => str.replace(REGEX_SPECIAL_CHARS_GLOBAL, '\\\\$1');\nexports.toPosixSlashes = str => str.replace(REGEX_BACKSLASH, '/');\n\nexports.removeBackslashes = str => {\n  return str.replace(REGEX_REMOVE_BACKSLASH, match => {\n    return match === '\\\\' ? '' : match;\n  });\n};\n\nexports.supportsLookbehinds = () => {\n  const segs = process.version.slice(1).split('.').map(Number);\n  if (segs.length === 3 && segs[0] >= 9 || (segs[0] === 8 && segs[1] >= 10)) {\n    return true;\n  }\n  return false;\n};\n\nexports.isWindows = options => {\n  if (options && typeof options.windows === 'boolean') {\n    return options.windows;\n  }\n  return win32 === true || path.sep === '\\\\';\n};\n\nexports.escapeLast = (input, char, lastIdx) => {\n  const idx = input.lastIndexOf(char, lastIdx);\n  if (idx === -1) return input;\n  if (input[idx - 1] === '\\\\') return exports.escapeLast(input, char, idx - 1);\n  return `${input.slice(0, idx)}\\\\${input.slice(idx)}`;\n};\n\nexports.removePrefix = (input, state = {}) => {\n  let output = input;\n  if (output.startsWith('./')) {\n    output = output.slice(2);\n    state.prefix = './';\n  }\n  return output;\n};\n\nexports.wrapOutput = (input, state = {}, options = {}) => {\n  const prepend = options.contains ? '' : '^';\n  const append = options.contains ? '' : '$';\n\n  let output = `${prepend}(?:${input})${append}`;\n  if (state.negated === true) {\n    output = `(?:^(?!${output}).*$)`;\n  }\n  return output;\n};\n", "'use strict';\n\nconst utils = require('./utils');\nconst {\n  CHAR_ASTERISK,             /* * */\n  CHAR_AT,                   /* @ */\n  CHAR_BACKWARD_SLASH,       /* \\ */\n  CHAR_COMMA,                /* , */\n  CHAR_DOT,                  /* . */\n  CHAR_EXCLAMATION_MARK,     /* ! */\n  CHAR_FORWARD_SLASH,        /* / */\n  CHAR_LEFT_CURLY_BRACE,     /* { */\n  CHAR_LEFT_PARENTHESES,     /* ( */\n  CHAR_LEFT_SQUARE_BRACKET,  /* [ */\n  CHAR_PLUS,                 /* + */\n  CHAR_QUESTION_MARK,        /* ? */\n  CHAR_RIGHT_CURLY_BRACE,    /* } */\n  CHAR_RIGHT_PARENTHESES,    /* ) */\n  CHAR_RIGHT_SQUARE_BRACKET  /* ] */\n} = require('./constants');\n\nconst isPathSeparator = code => {\n  return code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH;\n};\n\nconst depth = token => {\n  if (token.isPrefix !== true) {\n    token.depth = token.isGlobstar ? Infinity : 1;\n  }\n};\n\n/**\n * Quickly scans a glob pattern and returns an object with a handful of\n * useful properties, like `isGlob`, `path` (the leading non-glob, if it exists),\n * `glob` (the actual pattern), `negated` (true if the path starts with `!` but not\n * with `!(`) and `negatedExtglob` (true if the path starts with `!(`).\n *\n * ```js\n * const pm = require('picomatch');\n * console.log(pm.scan('foo/bar/*.js'));\n * { isGlob: true, input: 'foo/bar/*.js', base: 'foo/bar', glob: '*.js' }\n * ```\n * @param {String} `str`\n * @param {Object} `options`\n * @return {Object} Returns an object with tokens and regex source string.\n * @api public\n */\n\nconst scan = (input, options) => {\n  const opts = options || {};\n\n  const length = input.length - 1;\n  const scanToEnd = opts.parts === true || opts.scanToEnd === true;\n  const slashes = [];\n  const tokens = [];\n  const parts = [];\n\n  let str = input;\n  let index = -1;\n  let start = 0;\n  let lastIndex = 0;\n  let isBrace = false;\n  let isBracket = false;\n  let isGlob = false;\n  let isExtglob = false;\n  let isGlobstar = false;\n  let braceEscaped = false;\n  let backslashes = false;\n  let negated = false;\n  let negatedExtglob = false;\n  let finished = false;\n  let braces = 0;\n  let prev;\n  let code;\n  let token = { value: '', depth: 0, isGlob: false };\n\n  const eos = () => index >= length;\n  const peek = () => str.charCodeAt(index + 1);\n  const advance = () => {\n    prev = code;\n    return str.charCodeAt(++index);\n  };\n\n  while (index < length) {\n    code = advance();\n    let next;\n\n    if (code === CHAR_BACKWARD_SLASH) {\n      backslashes = token.backslashes = true;\n      code = advance();\n\n      if (code === CHAR_LEFT_CURLY_BRACE) {\n        braceEscaped = true;\n      }\n      continue;\n    }\n\n    if (braceEscaped === true || code === CHAR_LEFT_CURLY_BRACE) {\n      braces++;\n\n      while (eos() !== true && (code = advance())) {\n        if (code === CHAR_BACKWARD_SLASH) {\n          backslashes = token.backslashes = true;\n          advance();\n          continue;\n        }\n\n        if (code === CHAR_LEFT_CURLY_BRACE) {\n          braces++;\n          continue;\n        }\n\n        if (braceEscaped !== true && code === CHAR_DOT && (code = advance()) === CHAR_DOT) {\n          isBrace = token.isBrace = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n\n          break;\n        }\n\n        if (braceEscaped !== true && code === CHAR_COMMA) {\n          isBrace = token.isBrace = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n\n          break;\n        }\n\n        if (code === CHAR_RIGHT_CURLY_BRACE) {\n          braces--;\n\n          if (braces === 0) {\n            braceEscaped = false;\n            isBrace = token.isBrace = true;\n            finished = true;\n            break;\n          }\n        }\n      }\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n\n    if (code === CHAR_FORWARD_SLASH) {\n      slashes.push(index);\n      tokens.push(token);\n      token = { value: '', depth: 0, isGlob: false };\n\n      if (finished === true) continue;\n      if (prev === CHAR_DOT && index === (start + 1)) {\n        start += 2;\n        continue;\n      }\n\n      lastIndex = index + 1;\n      continue;\n    }\n\n    if (opts.noext !== true) {\n      const isExtglobChar = code === CHAR_PLUS\n        || code === CHAR_AT\n        || code === CHAR_ASTERISK\n        || code === CHAR_QUESTION_MARK\n        || code === CHAR_EXCLAMATION_MARK;\n\n      if (isExtglobChar === true && peek() === CHAR_LEFT_PARENTHESES) {\n        isGlob = token.isGlob = true;\n        isExtglob = token.isExtglob = true;\n        finished = true;\n        if (code === CHAR_EXCLAMATION_MARK && index === start) {\n          negatedExtglob = true;\n        }\n\n        if (scanToEnd === true) {\n          while (eos() !== true && (code = advance())) {\n            if (code === CHAR_BACKWARD_SLASH) {\n              backslashes = token.backslashes = true;\n              code = advance();\n              continue;\n            }\n\n            if (code === CHAR_RIGHT_PARENTHESES) {\n              isGlob = token.isGlob = true;\n              finished = true;\n              break;\n            }\n          }\n          continue;\n        }\n        break;\n      }\n    }\n\n    if (code === CHAR_ASTERISK) {\n      if (prev === CHAR_ASTERISK) isGlobstar = token.isGlobstar = true;\n      isGlob = token.isGlob = true;\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n      break;\n    }\n\n    if (code === CHAR_QUESTION_MARK) {\n      isGlob = token.isGlob = true;\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n      break;\n    }\n\n    if (code === CHAR_LEFT_SQUARE_BRACKET) {\n      while (eos() !== true && (next = advance())) {\n        if (next === CHAR_BACKWARD_SLASH) {\n          backslashes = token.backslashes = true;\n          advance();\n          continue;\n        }\n\n        if (next === CHAR_RIGHT_SQUARE_BRACKET) {\n          isBracket = token.isBracket = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n          break;\n        }\n      }\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n\n    if (opts.nonegate !== true && code === CHAR_EXCLAMATION_MARK && index === start) {\n      negated = token.negated = true;\n      start++;\n      continue;\n    }\n\n    if (opts.noparen !== true && code === CHAR_LEFT_PARENTHESES) {\n      isGlob = token.isGlob = true;\n\n      if (scanToEnd === true) {\n        while (eos() !== true && (code = advance())) {\n          if (code === CHAR_LEFT_PARENTHESES) {\n            backslashes = token.backslashes = true;\n            code = advance();\n            continue;\n          }\n\n          if (code === CHAR_RIGHT_PARENTHESES) {\n            finished = true;\n            break;\n          }\n        }\n        continue;\n      }\n      break;\n    }\n\n    if (isGlob === true) {\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n  }\n\n  if (opts.noext === true) {\n    isExtglob = false;\n    isGlob = false;\n  }\n\n  let base = str;\n  let prefix = '';\n  let glob = '';\n\n  if (start > 0) {\n    prefix = str.slice(0, start);\n    str = str.slice(start);\n    lastIndex -= start;\n  }\n\n  if (base && isGlob === true && lastIndex > 0) {\n    base = str.slice(0, lastIndex);\n    glob = str.slice(lastIndex);\n  } else if (isGlob === true) {\n    base = '';\n    glob = str;\n  } else {\n    base = str;\n  }\n\n  if (base && base !== '' && base !== '/' && base !== str) {\n    if (isPathSeparator(base.charCodeAt(base.length - 1))) {\n      base = base.slice(0, -1);\n    }\n  }\n\n  if (opts.unescape === true) {\n    if (glob) glob = utils.removeBackslashes(glob);\n\n    if (base && backslashes === true) {\n      base = utils.removeBackslashes(base);\n    }\n  }\n\n  const state = {\n    prefix,\n    input,\n    start,\n    base,\n    glob,\n    isBrace,\n    isBracket,\n    isGlob,\n    isExtglob,\n    isGlobstar,\n    negated,\n    negatedExtglob\n  };\n\n  if (opts.tokens === true) {\n    state.maxDepth = 0;\n    if (!isPathSeparator(code)) {\n      tokens.push(token);\n    }\n    state.tokens = tokens;\n  }\n\n  if (opts.parts === true || opts.tokens === true) {\n    let prevIndex;\n\n    for (let idx = 0; idx < slashes.length; idx++) {\n      const n = prevIndex ? prevIndex + 1 : start;\n      const i = slashes[idx];\n      const value = input.slice(n, i);\n      if (opts.tokens) {\n        if (idx === 0 && start !== 0) {\n          tokens[idx].isPrefix = true;\n          tokens[idx].value = prefix;\n        } else {\n          tokens[idx].value = value;\n        }\n        depth(tokens[idx]);\n        state.maxDepth += tokens[idx].depth;\n      }\n      if (idx !== 0 || value !== '') {\n        parts.push(value);\n      }\n      prevIndex = i;\n    }\n\n    if (prevIndex && prevIndex + 1 < input.length) {\n      const value = input.slice(prevIndex + 1);\n      parts.push(value);\n\n      if (opts.tokens) {\n        tokens[tokens.length - 1].value = value;\n        depth(tokens[tokens.length - 1]);\n        state.maxDepth += tokens[tokens.length - 1].depth;\n      }\n    }\n\n    state.slashes = slashes;\n    state.parts = parts;\n  }\n\n  return state;\n};\n\nmodule.exports = scan;\n", "'use strict';\n\nconst constants = require('./constants');\nconst utils = require('./utils');\n\n/**\n * Constants\n */\n\nconst {\n  MAX_LENGTH,\n  POSIX_REGEX_SOURCE,\n  REGEX_NON_SPECIAL_CHARS,\n  REGEX_SPECIAL_CHARS_BACKREF,\n  REPLACEMENTS\n} = constants;\n\n/**\n * Helpers\n */\n\nconst expandRange = (args, options) => {\n  if (typeof options.expandRange === 'function') {\n    return options.expandRange(...args, options);\n  }\n\n  args.sort();\n  const value = `[${args.join('-')}]`;\n\n  try {\n    /* eslint-disable-next-line no-new */\n    new RegExp(value);\n  } catch (ex) {\n    return args.map(v => utils.escapeRegex(v)).join('..');\n  }\n\n  return value;\n};\n\n/**\n * Create the message for a syntax error\n */\n\nconst syntaxError = (type, char) => {\n  return `Missing ${type}: \"${char}\" - use \"\\\\\\\\${char}\" to match literal characters`;\n};\n\n/**\n * Parse the given input string.\n * @param {String} input\n * @param {Object} options\n * @return {Object}\n */\n\nconst parse = (input, options) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  input = REPLACEMENTS[input] || input;\n\n  const opts = { ...options };\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n\n  let len = input.length;\n  if (len > max) {\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\n  }\n\n  const bos = { type: 'bos', value: '', output: opts.prepend || '' };\n  const tokens = [bos];\n\n  const capture = opts.capture ? '' : '?:';\n  const win32 = utils.isWindows(options);\n\n  // create constants based on platform, for windows or posix\n  const PLATFORM_CHARS = constants.globChars(win32);\n  const EXTGLOB_CHARS = constants.extglobChars(PLATFORM_CHARS);\n\n  const {\n    DOT_LITERAL,\n    PLUS_LITERAL,\n    SLASH_LITERAL,\n    ONE_CHAR,\n    DOTS_SLASH,\n    NO_DOT,\n    NO_DOT_SLASH,\n    NO_DOTS_SLASH,\n    QMARK,\n    QMARK_NO_DOT,\n    STAR,\n    START_ANCHOR\n  } = PLATFORM_CHARS;\n\n  const globstar = opts => {\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\n  };\n\n  const nodot = opts.dot ? '' : NO_DOT;\n  const qmarkNoDot = opts.dot ? QMARK : QMARK_NO_DOT;\n  let star = opts.bash === true ? globstar(opts) : STAR;\n\n  if (opts.capture) {\n    star = `(${star})`;\n  }\n\n  // minimatch options support\n  if (typeof opts.noext === 'boolean') {\n    opts.noextglob = opts.noext;\n  }\n\n  const state = {\n    input,\n    index: -1,\n    start: 0,\n    dot: opts.dot === true,\n    consumed: '',\n    output: '',\n    prefix: '',\n    backtrack: false,\n    negated: false,\n    brackets: 0,\n    braces: 0,\n    parens: 0,\n    quotes: 0,\n    globstar: false,\n    tokens\n  };\n\n  input = utils.removePrefix(input, state);\n  len = input.length;\n\n  const extglobs = [];\n  const braces = [];\n  const stack = [];\n  let prev = bos;\n  let value;\n\n  /**\n   * Tokenizing helpers\n   */\n\n  const eos = () => state.index === len - 1;\n  const peek = state.peek = (n = 1) => input[state.index + n];\n  const advance = state.advance = () => input[++state.index] || '';\n  const remaining = () => input.slice(state.index + 1);\n  const consume = (value = '', num = 0) => {\n    state.consumed += value;\n    state.index += num;\n  };\n\n  const append = token => {\n    state.output += token.output != null ? token.output : token.value;\n    consume(token.value);\n  };\n\n  const negate = () => {\n    let count = 1;\n\n    while (peek() === '!' && (peek(2) !== '(' || peek(3) === '?')) {\n      advance();\n      state.start++;\n      count++;\n    }\n\n    if (count % 2 === 0) {\n      return false;\n    }\n\n    state.negated = true;\n    state.start++;\n    return true;\n  };\n\n  const increment = type => {\n    state[type]++;\n    stack.push(type);\n  };\n\n  const decrement = type => {\n    state[type]--;\n    stack.pop();\n  };\n\n  /**\n   * Push tokens onto the tokens array. This helper speeds up\n   * tokenizing by 1) helping us avoid backtracking as much as possible,\n   * and 2) helping us avoid creating extra tokens when consecutive\n   * characters are plain text. This improves performance and simplifies\n   * lookbehinds.\n   */\n\n  const push = tok => {\n    if (prev.type === 'globstar') {\n      const isBrace = state.braces > 0 && (tok.type === 'comma' || tok.type === 'brace');\n      const isExtglob = tok.extglob === true || (extglobs.length && (tok.type === 'pipe' || tok.type === 'paren'));\n\n      if (tok.type !== 'slash' && tok.type !== 'paren' && !isBrace && !isExtglob) {\n        state.output = state.output.slice(0, -prev.output.length);\n        prev.type = 'star';\n        prev.value = '*';\n        prev.output = star;\n        state.output += prev.output;\n      }\n    }\n\n    if (extglobs.length && tok.type !== 'paren') {\n      extglobs[extglobs.length - 1].inner += tok.value;\n    }\n\n    if (tok.value || tok.output) append(tok);\n    if (prev && prev.type === 'text' && tok.type === 'text') {\n      prev.value += tok.value;\n      prev.output = (prev.output || '') + tok.value;\n      return;\n    }\n\n    tok.prev = prev;\n    tokens.push(tok);\n    prev = tok;\n  };\n\n  const extglobOpen = (type, value) => {\n    const token = { ...EXTGLOB_CHARS[value], conditions: 1, inner: '' };\n\n    token.prev = prev;\n    token.parens = state.parens;\n    token.output = state.output;\n    const output = (opts.capture ? '(' : '') + token.open;\n\n    increment('parens');\n    push({ type, value, output: state.output ? '' : ONE_CHAR });\n    push({ type: 'paren', extglob: true, value: advance(), output });\n    extglobs.push(token);\n  };\n\n  const extglobClose = token => {\n    let output = token.close + (opts.capture ? ')' : '');\n    let rest;\n\n    if (token.type === 'negate') {\n      let extglobStar = star;\n\n      if (token.inner && token.inner.length > 1 && token.inner.includes('/')) {\n        extglobStar = globstar(opts);\n      }\n\n      if (extglobStar !== star || eos() || /^\\)+$/.test(remaining())) {\n        output = token.close = `)$))${extglobStar}`;\n      }\n\n      if (token.inner.includes('*') && (rest = remaining()) && /^\\.[^\\\\/.]+$/.test(rest)) {\n        // Any non-magical string (`.ts`) or even nested expression (`.{ts,tsx}`) can follow after the closing parenthesis.\n        // In this case, we need to parse the string and use it in the output of the original pattern.\n        // Suitable patterns: `/!(*.d).ts`, `/!(*.d).{ts,tsx}`, `**/!(*-dbg).@(js)`.\n        //\n        // Disabling the `fastpaths` option due to a problem with parsing strings as `.ts` in the pattern like `**/!(*.d).ts`.\n        const expression = parse(rest, { ...options, fastpaths: false }).output;\n\n        output = token.close = `)${expression})${extglobStar})`;\n      }\n\n      if (token.prev.type === 'bos') {\n        state.negatedExtglob = true;\n      }\n    }\n\n    push({ type: 'paren', extglob: true, value, output });\n    decrement('parens');\n  };\n\n  /**\n   * Fast paths\n   */\n\n  if (opts.fastpaths !== false && !/(^[*!]|[/()[\\]{}\"])/.test(input)) {\n    let backslashes = false;\n\n    let output = input.replace(REGEX_SPECIAL_CHARS_BACKREF, (m, esc, chars, first, rest, index) => {\n      if (first === '\\\\') {\n        backslashes = true;\n        return m;\n      }\n\n      if (first === '?') {\n        if (esc) {\n          return esc + first + (rest ? QMARK.repeat(rest.length) : '');\n        }\n        if (index === 0) {\n          return qmarkNoDot + (rest ? QMARK.repeat(rest.length) : '');\n        }\n        return QMARK.repeat(chars.length);\n      }\n\n      if (first === '.') {\n        return DOT_LITERAL.repeat(chars.length);\n      }\n\n      if (first === '*') {\n        if (esc) {\n          return esc + first + (rest ? star : '');\n        }\n        return star;\n      }\n      return esc ? m : `\\\\${m}`;\n    });\n\n    if (backslashes === true) {\n      if (opts.unescape === true) {\n        output = output.replace(/\\\\/g, '');\n      } else {\n        output = output.replace(/\\\\+/g, m => {\n          return m.length % 2 === 0 ? '\\\\\\\\' : (m ? '\\\\' : '');\n        });\n      }\n    }\n\n    if (output === input && opts.contains === true) {\n      state.output = input;\n      return state;\n    }\n\n    state.output = utils.wrapOutput(output, state, options);\n    return state;\n  }\n\n  /**\n   * Tokenize input until we reach end-of-string\n   */\n\n  while (!eos()) {\n    value = advance();\n\n    if (value === '\\u0000') {\n      continue;\n    }\n\n    /**\n     * Escaped characters\n     */\n\n    if (value === '\\\\') {\n      const next = peek();\n\n      if (next === '/' && opts.bash !== true) {\n        continue;\n      }\n\n      if (next === '.' || next === ';') {\n        continue;\n      }\n\n      if (!next) {\n        value += '\\\\';\n        push({ type: 'text', value });\n        continue;\n      }\n\n      // collapse slashes to reduce potential for exploits\n      const match = /^\\\\+/.exec(remaining());\n      let slashes = 0;\n\n      if (match && match[0].length > 2) {\n        slashes = match[0].length;\n        state.index += slashes;\n        if (slashes % 2 !== 0) {\n          value += '\\\\';\n        }\n      }\n\n      if (opts.unescape === true) {\n        value = advance();\n      } else {\n        value += advance();\n      }\n\n      if (state.brackets === 0) {\n        push({ type: 'text', value });\n        continue;\n      }\n    }\n\n    /**\n     * If we're inside a regex character class, continue\n     * until we reach the closing bracket.\n     */\n\n    if (state.brackets > 0 && (value !== ']' || prev.value === '[' || prev.value === '[^')) {\n      if (opts.posix !== false && value === ':') {\n        const inner = prev.value.slice(1);\n        if (inner.includes('[')) {\n          prev.posix = true;\n\n          if (inner.includes(':')) {\n            const idx = prev.value.lastIndexOf('[');\n            const pre = prev.value.slice(0, idx);\n            const rest = prev.value.slice(idx + 2);\n            const posix = POSIX_REGEX_SOURCE[rest];\n            if (posix) {\n              prev.value = pre + posix;\n              state.backtrack = true;\n              advance();\n\n              if (!bos.output && tokens.indexOf(prev) === 1) {\n                bos.output = ONE_CHAR;\n              }\n              continue;\n            }\n          }\n        }\n      }\n\n      if ((value === '[' && peek() !== ':') || (value === '-' && peek() === ']')) {\n        value = `\\\\${value}`;\n      }\n\n      if (value === ']' && (prev.value === '[' || prev.value === '[^')) {\n        value = `\\\\${value}`;\n      }\n\n      if (opts.posix === true && value === '!' && prev.value === '[') {\n        value = '^';\n      }\n\n      prev.value += value;\n      append({ value });\n      continue;\n    }\n\n    /**\n     * If we're inside a quoted string, continue\n     * until we reach the closing double quote.\n     */\n\n    if (state.quotes === 1 && value !== '\"') {\n      value = utils.escapeRegex(value);\n      prev.value += value;\n      append({ value });\n      continue;\n    }\n\n    /**\n     * Double quotes\n     */\n\n    if (value === '\"') {\n      state.quotes = state.quotes === 1 ? 0 : 1;\n      if (opts.keepQuotes === true) {\n        push({ type: 'text', value });\n      }\n      continue;\n    }\n\n    /**\n     * Parentheses\n     */\n\n    if (value === '(') {\n      increment('parens');\n      push({ type: 'paren', value });\n      continue;\n    }\n\n    if (value === ')') {\n      if (state.parens === 0 && opts.strictBrackets === true) {\n        throw new SyntaxError(syntaxError('opening', '('));\n      }\n\n      const extglob = extglobs[extglobs.length - 1];\n      if (extglob && state.parens === extglob.parens + 1) {\n        extglobClose(extglobs.pop());\n        continue;\n      }\n\n      push({ type: 'paren', value, output: state.parens ? ')' : '\\\\)' });\n      decrement('parens');\n      continue;\n    }\n\n    /**\n     * Square brackets\n     */\n\n    if (value === '[') {\n      if (opts.nobracket === true || !remaining().includes(']')) {\n        if (opts.nobracket !== true && opts.strictBrackets === true) {\n          throw new SyntaxError(syntaxError('closing', ']'));\n        }\n\n        value = `\\\\${value}`;\n      } else {\n        increment('brackets');\n      }\n\n      push({ type: 'bracket', value });\n      continue;\n    }\n\n    if (value === ']') {\n      if (opts.nobracket === true || (prev && prev.type === 'bracket' && prev.value.length === 1)) {\n        push({ type: 'text', value, output: `\\\\${value}` });\n        continue;\n      }\n\n      if (state.brackets === 0) {\n        if (opts.strictBrackets === true) {\n          throw new SyntaxError(syntaxError('opening', '['));\n        }\n\n        push({ type: 'text', value, output: `\\\\${value}` });\n        continue;\n      }\n\n      decrement('brackets');\n\n      const prevValue = prev.value.slice(1);\n      if (prev.posix !== true && prevValue[0] === '^' && !prevValue.includes('/')) {\n        value = `/${value}`;\n      }\n\n      prev.value += value;\n      append({ value });\n\n      // when literal brackets are explicitly disabled\n      // assume we should match with a regex character class\n      if (opts.literalBrackets === false || utils.hasRegexChars(prevValue)) {\n        continue;\n      }\n\n      const escaped = utils.escapeRegex(prev.value);\n      state.output = state.output.slice(0, -prev.value.length);\n\n      // when literal brackets are explicitly enabled\n      // assume we should escape the brackets to match literal characters\n      if (opts.literalBrackets === true) {\n        state.output += escaped;\n        prev.value = escaped;\n        continue;\n      }\n\n      // when the user specifies nothing, try to match both\n      prev.value = `(${capture}${escaped}|${prev.value})`;\n      state.output += prev.value;\n      continue;\n    }\n\n    /**\n     * Braces\n     */\n\n    if (value === '{' && opts.nobrace !== true) {\n      increment('braces');\n\n      const open = {\n        type: 'brace',\n        value,\n        output: '(',\n        outputIndex: state.output.length,\n        tokensIndex: state.tokens.length\n      };\n\n      braces.push(open);\n      push(open);\n      continue;\n    }\n\n    if (value === '}') {\n      const brace = braces[braces.length - 1];\n\n      if (opts.nobrace === true || !brace) {\n        push({ type: 'text', value, output: value });\n        continue;\n      }\n\n      let output = ')';\n\n      if (brace.dots === true) {\n        const arr = tokens.slice();\n        const range = [];\n\n        for (let i = arr.length - 1; i >= 0; i--) {\n          tokens.pop();\n          if (arr[i].type === 'brace') {\n            break;\n          }\n          if (arr[i].type !== 'dots') {\n            range.unshift(arr[i].value);\n          }\n        }\n\n        output = expandRange(range, opts);\n        state.backtrack = true;\n      }\n\n      if (brace.comma !== true && brace.dots !== true) {\n        const out = state.output.slice(0, brace.outputIndex);\n        const toks = state.tokens.slice(brace.tokensIndex);\n        brace.value = brace.output = '\\\\{';\n        value = output = '\\\\}';\n        state.output = out;\n        for (const t of toks) {\n          state.output += (t.output || t.value);\n        }\n      }\n\n      push({ type: 'brace', value, output });\n      decrement('braces');\n      braces.pop();\n      continue;\n    }\n\n    /**\n     * Pipes\n     */\n\n    if (value === '|') {\n      if (extglobs.length > 0) {\n        extglobs[extglobs.length - 1].conditions++;\n      }\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Commas\n     */\n\n    if (value === ',') {\n      let output = value;\n\n      const brace = braces[braces.length - 1];\n      if (brace && stack[stack.length - 1] === 'braces') {\n        brace.comma = true;\n        output = '|';\n      }\n\n      push({ type: 'comma', value, output });\n      continue;\n    }\n\n    /**\n     * Slashes\n     */\n\n    if (value === '/') {\n      // if the beginning of the glob is \"./\", advance the start\n      // to the current index, and don't add the \"./\" characters\n      // to the state. This greatly simplifies lookbehinds when\n      // checking for BOS characters like \"!\" and \".\" (not \"./\")\n      if (prev.type === 'dot' && state.index === state.start + 1) {\n        state.start = state.index + 1;\n        state.consumed = '';\n        state.output = '';\n        tokens.pop();\n        prev = bos; // reset \"prev\" to the first token\n        continue;\n      }\n\n      push({ type: 'slash', value, output: SLASH_LITERAL });\n      continue;\n    }\n\n    /**\n     * Dots\n     */\n\n    if (value === '.') {\n      if (state.braces > 0 && prev.type === 'dot') {\n        if (prev.value === '.') prev.output = DOT_LITERAL;\n        const brace = braces[braces.length - 1];\n        prev.type = 'dots';\n        prev.output += value;\n        prev.value += value;\n        brace.dots = true;\n        continue;\n      }\n\n      if ((state.braces + state.parens) === 0 && prev.type !== 'bos' && prev.type !== 'slash') {\n        push({ type: 'text', value, output: DOT_LITERAL });\n        continue;\n      }\n\n      push({ type: 'dot', value, output: DOT_LITERAL });\n      continue;\n    }\n\n    /**\n     * Question marks\n     */\n\n    if (value === '?') {\n      const isGroup = prev && prev.value === '(';\n      if (!isGroup && opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        extglobOpen('qmark', value);\n        continue;\n      }\n\n      if (prev && prev.type === 'paren') {\n        const next = peek();\n        let output = value;\n\n        if (next === '<' && !utils.supportsLookbehinds()) {\n          throw new Error('Node.js v10 or higher is required for regex lookbehinds');\n        }\n\n        if ((prev.value === '(' && !/[!=<:]/.test(next)) || (next === '<' && !/<([!=]|\\w+>)/.test(remaining()))) {\n          output = `\\\\${value}`;\n        }\n\n        push({ type: 'text', value, output });\n        continue;\n      }\n\n      if (opts.dot !== true && (prev.type === 'slash' || prev.type === 'bos')) {\n        push({ type: 'qmark', value, output: QMARK_NO_DOT });\n        continue;\n      }\n\n      push({ type: 'qmark', value, output: QMARK });\n      continue;\n    }\n\n    /**\n     * Exclamation\n     */\n\n    if (value === '!') {\n      if (opts.noextglob !== true && peek() === '(') {\n        if (peek(2) !== '?' || !/[!=<:]/.test(peek(3))) {\n          extglobOpen('negate', value);\n          continue;\n        }\n      }\n\n      if (opts.nonegate !== true && state.index === 0) {\n        negate();\n        continue;\n      }\n    }\n\n    /**\n     * Plus\n     */\n\n    if (value === '+') {\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        extglobOpen('plus', value);\n        continue;\n      }\n\n      if ((prev && prev.value === '(') || opts.regex === false) {\n        push({ type: 'plus', value, output: PLUS_LITERAL });\n        continue;\n      }\n\n      if ((prev && (prev.type === 'bracket' || prev.type === 'paren' || prev.type === 'brace')) || state.parens > 0) {\n        push({ type: 'plus', value });\n        continue;\n      }\n\n      push({ type: 'plus', value: PLUS_LITERAL });\n      continue;\n    }\n\n    /**\n     * Plain text\n     */\n\n    if (value === '@') {\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        push({ type: 'at', extglob: true, value, output: '' });\n        continue;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Plain text\n     */\n\n    if (value !== '*') {\n      if (value === '$' || value === '^') {\n        value = `\\\\${value}`;\n      }\n\n      const match = REGEX_NON_SPECIAL_CHARS.exec(remaining());\n      if (match) {\n        value += match[0];\n        state.index += match[0].length;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Stars\n     */\n\n    if (prev && (prev.type === 'globstar' || prev.star === true)) {\n      prev.type = 'star';\n      prev.star = true;\n      prev.value += value;\n      prev.output = star;\n      state.backtrack = true;\n      state.globstar = true;\n      consume(value);\n      continue;\n    }\n\n    let rest = remaining();\n    if (opts.noextglob !== true && /^\\([^?]/.test(rest)) {\n      extglobOpen('star', value);\n      continue;\n    }\n\n    if (prev.type === 'star') {\n      if (opts.noglobstar === true) {\n        consume(value);\n        continue;\n      }\n\n      const prior = prev.prev;\n      const before = prior.prev;\n      const isStart = prior.type === 'slash' || prior.type === 'bos';\n      const afterStar = before && (before.type === 'star' || before.type === 'globstar');\n\n      if (opts.bash === true && (!isStart || (rest[0] && rest[0] !== '/'))) {\n        push({ type: 'star', value, output: '' });\n        continue;\n      }\n\n      const isBrace = state.braces > 0 && (prior.type === 'comma' || prior.type === 'brace');\n      const isExtglob = extglobs.length && (prior.type === 'pipe' || prior.type === 'paren');\n      if (!isStart && prior.type !== 'paren' && !isBrace && !isExtglob) {\n        push({ type: 'star', value, output: '' });\n        continue;\n      }\n\n      // strip consecutive `/**/`\n      while (rest.slice(0, 3) === '/**') {\n        const after = input[state.index + 4];\n        if (after && after !== '/') {\n          break;\n        }\n        rest = rest.slice(3);\n        consume('/**', 3);\n      }\n\n      if (prior.type === 'bos' && eos()) {\n        prev.type = 'globstar';\n        prev.value += value;\n        prev.output = globstar(opts);\n        state.output = prev.output;\n        state.globstar = true;\n        consume(value);\n        continue;\n      }\n\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && !afterStar && eos()) {\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\n        prior.output = `(?:${prior.output}`;\n\n        prev.type = 'globstar';\n        prev.output = globstar(opts) + (opts.strictSlashes ? ')' : '|$)');\n        prev.value += value;\n        state.globstar = true;\n        state.output += prior.output + prev.output;\n        consume(value);\n        continue;\n      }\n\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && rest[0] === '/') {\n        const end = rest[1] !== void 0 ? '|$' : '';\n\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\n        prior.output = `(?:${prior.output}`;\n\n        prev.type = 'globstar';\n        prev.output = `${globstar(opts)}${SLASH_LITERAL}|${SLASH_LITERAL}${end})`;\n        prev.value += value;\n\n        state.output += prior.output + prev.output;\n        state.globstar = true;\n\n        consume(value + advance());\n\n        push({ type: 'slash', value: '/', output: '' });\n        continue;\n      }\n\n      if (prior.type === 'bos' && rest[0] === '/') {\n        prev.type = 'globstar';\n        prev.value += value;\n        prev.output = `(?:^|${SLASH_LITERAL}|${globstar(opts)}${SLASH_LITERAL})`;\n        state.output = prev.output;\n        state.globstar = true;\n        consume(value + advance());\n        push({ type: 'slash', value: '/', output: '' });\n        continue;\n      }\n\n      // remove single star from output\n      state.output = state.output.slice(0, -prev.output.length);\n\n      // reset previous token to globstar\n      prev.type = 'globstar';\n      prev.output = globstar(opts);\n      prev.value += value;\n\n      // reset output with globstar\n      state.output += prev.output;\n      state.globstar = true;\n      consume(value);\n      continue;\n    }\n\n    const token = { type: 'star', value, output: star };\n\n    if (opts.bash === true) {\n      token.output = '.*?';\n      if (prev.type === 'bos' || prev.type === 'slash') {\n        token.output = nodot + token.output;\n      }\n      push(token);\n      continue;\n    }\n\n    if (prev && (prev.type === 'bracket' || prev.type === 'paren') && opts.regex === true) {\n      token.output = value;\n      push(token);\n      continue;\n    }\n\n    if (state.index === state.start || prev.type === 'slash' || prev.type === 'dot') {\n      if (prev.type === 'dot') {\n        state.output += NO_DOT_SLASH;\n        prev.output += NO_DOT_SLASH;\n\n      } else if (opts.dot === true) {\n        state.output += NO_DOTS_SLASH;\n        prev.output += NO_DOTS_SLASH;\n\n      } else {\n        state.output += nodot;\n        prev.output += nodot;\n      }\n\n      if (peek() !== '*') {\n        state.output += ONE_CHAR;\n        prev.output += ONE_CHAR;\n      }\n    }\n\n    push(token);\n  }\n\n  while (state.brackets > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ']'));\n    state.output = utils.escapeLast(state.output, '[');\n    decrement('brackets');\n  }\n\n  while (state.parens > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ')'));\n    state.output = utils.escapeLast(state.output, '(');\n    decrement('parens');\n  }\n\n  while (state.braces > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', '}'));\n    state.output = utils.escapeLast(state.output, '{');\n    decrement('braces');\n  }\n\n  if (opts.strictSlashes !== true && (prev.type === 'star' || prev.type === 'bracket')) {\n    push({ type: 'maybe_slash', value: '', output: `${SLASH_LITERAL}?` });\n  }\n\n  // rebuild the output if we had to backtrack at any point\n  if (state.backtrack === true) {\n    state.output = '';\n\n    for (const token of state.tokens) {\n      state.output += token.output != null ? token.output : token.value;\n\n      if (token.suffix) {\n        state.output += token.suffix;\n      }\n    }\n  }\n\n  return state;\n};\n\n/**\n * Fast paths for creating regular expressions for common glob patterns.\n * This can significantly speed up processing and has very little downside\n * impact when none of the fast paths match.\n */\n\nparse.fastpaths = (input, options) => {\n  const opts = { ...options };\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n  const len = input.length;\n  if (len > max) {\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\n  }\n\n  input = REPLACEMENTS[input] || input;\n  const win32 = utils.isWindows(options);\n\n  // create constants based on platform, for windows or posix\n  const {\n    DOT_LITERAL,\n    SLASH_LITERAL,\n    ONE_CHAR,\n    DOTS_SLASH,\n    NO_DOT,\n    NO_DOTS,\n    NO_DOTS_SLASH,\n    STAR,\n    START_ANCHOR\n  } = constants.globChars(win32);\n\n  const nodot = opts.dot ? NO_DOTS : NO_DOT;\n  const slashDot = opts.dot ? NO_DOTS_SLASH : NO_DOT;\n  const capture = opts.capture ? '' : '?:';\n  const state = { negated: false, prefix: '' };\n  let star = opts.bash === true ? '.*?' : STAR;\n\n  if (opts.capture) {\n    star = `(${star})`;\n  }\n\n  const globstar = opts => {\n    if (opts.noglobstar === true) return star;\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\n  };\n\n  const create = str => {\n    switch (str) {\n      case '*':\n        return `${nodot}${ONE_CHAR}${star}`;\n\n      case '.*':\n        return `${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '*.*':\n        return `${nodot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '*/*':\n        return `${nodot}${star}${SLASH_LITERAL}${ONE_CHAR}${slashDot}${star}`;\n\n      case '**':\n        return nodot + globstar(opts);\n\n      case '**/*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${ONE_CHAR}${star}`;\n\n      case '**/*.*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '**/.*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      default: {\n        const match = /^(.*?)\\.(\\w+)$/.exec(str);\n        if (!match) return;\n\n        const source = create(match[1]);\n        if (!source) return;\n\n        return source + DOT_LITERAL + match[2];\n      }\n    }\n  };\n\n  const output = utils.removePrefix(input, state);\n  let source = create(output);\n\n  if (source && opts.strictSlashes !== true) {\n    source += `${SLASH_LITERAL}?`;\n  }\n\n  return source;\n};\n\nmodule.exports = parse;\n", "'use strict';\n\nconst path = require('path');\nconst scan = require('./scan');\nconst parse = require('./parse');\nconst utils = require('./utils');\nconst constants = require('./constants');\nconst isObject = val => val && typeof val === 'object' && !Array.isArray(val);\n\n/**\n * Creates a matcher function from one or more glob patterns. The\n * returned function takes a string to match as its first argument,\n * and returns true if the string is a match. The returned matcher\n * function also takes a boolean as the second argument that, when true,\n * returns an object with additional information.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch(glob[, options]);\n *\n * const isMatch = picomatch('*.!(*a)');\n * console.log(isMatch('a.a')); //=> false\n * console.log(isMatch('a.b')); //=> true\n * ```\n * @name picomatch\n * @param {String|Array} `globs` One or more glob patterns.\n * @param {Object=} `options`\n * @return {Function=} Returns a matcher function.\n * @api public\n */\n\nconst picomatch = (glob, options, returnState = false) => {\n  if (Array.isArray(glob)) {\n    const fns = glob.map(input => picomatch(input, options, returnState));\n    const arrayMatcher = str => {\n      for (const isMatch of fns) {\n        const state = isMatch(str);\n        if (state) return state;\n      }\n      return false;\n    };\n    return arrayMatcher;\n  }\n\n  const isState = isObject(glob) && glob.tokens && glob.input;\n\n  if (glob === '' || (typeof glob !== 'string' && !isState)) {\n    throw new TypeError('Expected pattern to be a non-empty string');\n  }\n\n  const opts = options || {};\n  const posix = utils.isWindows(options);\n  const regex = isState\n    ? picomatch.compileRe(glob, options)\n    : picomatch.makeRe(glob, options, false, true);\n\n  const state = regex.state;\n  delete regex.state;\n\n  let isIgnored = () => false;\n  if (opts.ignore) {\n    const ignoreOpts = { ...options, ignore: null, onMatch: null, onResult: null };\n    isIgnored = picomatch(opts.ignore, ignoreOpts, returnState);\n  }\n\n  const matcher = (input, returnObject = false) => {\n    const { isMatch, match, output } = picomatch.test(input, regex, options, { glob, posix });\n    const result = { glob, state, regex, posix, input, output, match, isMatch };\n\n    if (typeof opts.onResult === 'function') {\n      opts.onResult(result);\n    }\n\n    if (isMatch === false) {\n      result.isMatch = false;\n      return returnObject ? result : false;\n    }\n\n    if (isIgnored(input)) {\n      if (typeof opts.onIgnore === 'function') {\n        opts.onIgnore(result);\n      }\n      result.isMatch = false;\n      return returnObject ? result : false;\n    }\n\n    if (typeof opts.onMatch === 'function') {\n      opts.onMatch(result);\n    }\n    return returnObject ? result : true;\n  };\n\n  if (returnState) {\n    matcher.state = state;\n  }\n\n  return matcher;\n};\n\n/**\n * Test `input` with the given `regex`. This is used by the main\n * `picomatch()` function to test the input string.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.test(input, regex[, options]);\n *\n * console.log(picomatch.test('foo/bar', /^(?:([^/]*?)\\/([^/]*?))$/));\n * // { isMatch: true, match: [ 'foo/', 'foo', 'bar' ], output: 'foo/bar' }\n * ```\n * @param {String} `input` String to test.\n * @param {RegExp} `regex`\n * @return {Object} Returns an object with matching info.\n * @api public\n */\n\npicomatch.test = (input, regex, options, { glob, posix } = {}) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected input to be a string');\n  }\n\n  if (input === '') {\n    return { isMatch: false, output: '' };\n  }\n\n  const opts = options || {};\n  const format = opts.format || (posix ? utils.toPosixSlashes : null);\n  let match = input === glob;\n  let output = (match && format) ? format(input) : input;\n\n  if (match === false) {\n    output = format ? format(input) : input;\n    match = output === glob;\n  }\n\n  if (match === false || opts.capture === true) {\n    if (opts.matchBase === true || opts.basename === true) {\n      match = picomatch.matchBase(input, regex, options, posix);\n    } else {\n      match = regex.exec(output);\n    }\n  }\n\n  return { isMatch: Boolean(match), match, output };\n};\n\n/**\n * Match the basename of a filepath.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.matchBase(input, glob[, options]);\n * console.log(picomatch.matchBase('foo/bar.js', '*.js'); // true\n * ```\n * @param {String} `input` String to test.\n * @param {RegExp|String} `glob` Glob pattern or regex created by [.makeRe](#makeRe).\n * @return {Boolean}\n * @api public\n */\n\npicomatch.matchBase = (input, glob, options, posix = utils.isWindows(options)) => {\n  const regex = glob instanceof RegExp ? glob : picomatch.makeRe(glob, options);\n  return regex.test(path.basename(input));\n};\n\n/**\n * Returns true if **any** of the given glob `patterns` match the specified `string`.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.isMatch(string, patterns[, options]);\n *\n * console.log(picomatch.isMatch('a.a', ['b.*', '*.a'])); //=> true\n * console.log(picomatch.isMatch('a.a', 'b.*')); //=> false\n * ```\n * @param {String|Array} str The string to test.\n * @param {String|Array} patterns One or more glob patterns to use for matching.\n * @param {Object} [options] See available [options](#options).\n * @return {Boolean} Returns true if any patterns match `str`\n * @api public\n */\n\npicomatch.isMatch = (str, patterns, options) => picomatch(patterns, options)(str);\n\n/**\n * Parse a glob pattern to create the source string for a regular\n * expression.\n *\n * ```js\n * const picomatch = require('picomatch');\n * const result = picomatch.parse(pattern[, options]);\n * ```\n * @param {String} `pattern`\n * @param {Object} `options`\n * @return {Object} Returns an object with useful properties and output to be used as a regex source string.\n * @api public\n */\n\npicomatch.parse = (pattern, options) => {\n  if (Array.isArray(pattern)) return pattern.map(p => picomatch.parse(p, options));\n  return parse(pattern, { ...options, fastpaths: false });\n};\n\n/**\n * Scan a glob pattern to separate the pattern into segments.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.scan(input[, options]);\n *\n * const result = picomatch.scan('!./foo/*.js');\n * console.log(result);\n * { prefix: '!./',\n *   input: '!./foo/*.js',\n *   start: 3,\n *   base: 'foo',\n *   glob: '*.js',\n *   isBrace: false,\n *   isBracket: false,\n *   isGlob: true,\n *   isExtglob: false,\n *   isGlobstar: false,\n *   negated: true }\n * ```\n * @param {String} `input` Glob pattern to scan.\n * @param {Object} `options`\n * @return {Object} Returns an object with\n * @api public\n */\n\npicomatch.scan = (input, options) => scan(input, options);\n\n/**\n * Compile a regular expression from the `state` object returned by the\n * [parse()](#parse) method.\n *\n * @param {Object} `state`\n * @param {Object} `options`\n * @param {Boolean} `returnOutput` Intended for implementors, this argument allows you to return the raw output from the parser.\n * @param {Boolean} `returnState` Adds the state to a `state` property on the returned regex. Useful for implementors and debugging.\n * @return {RegExp}\n * @api public\n */\n\npicomatch.compileRe = (state, options, returnOutput = false, returnState = false) => {\n  if (returnOutput === true) {\n    return state.output;\n  }\n\n  const opts = options || {};\n  const prepend = opts.contains ? '' : '^';\n  const append = opts.contains ? '' : '$';\n\n  let source = `${prepend}(?:${state.output})${append}`;\n  if (state && state.negated === true) {\n    source = `^(?!${source}).*$`;\n  }\n\n  const regex = picomatch.toRegex(source, options);\n  if (returnState === true) {\n    regex.state = state;\n  }\n\n  return regex;\n};\n\n/**\n * Create a regular expression from a parsed glob pattern.\n *\n * ```js\n * const picomatch = require('picomatch');\n * const state = picomatch.parse('*.js');\n * // picomatch.compileRe(state[, options]);\n *\n * console.log(picomatch.compileRe(state));\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\n * ```\n * @param {String} `state` The object returned from the `.parse` method.\n * @param {Object} `options`\n * @param {Boolean} `returnOutput` Implementors may use this argument to return the compiled output, instead of a regular expression. This is not exposed on the options to prevent end-users from mutating the result.\n * @param {Boolean} `returnState` Implementors may use this argument to return the state from the parsed glob with the returned regular expression.\n * @return {RegExp} Returns a regex created from the given pattern.\n * @api public\n */\n\npicomatch.makeRe = (input, options = {}, returnOutput = false, returnState = false) => {\n  if (!input || typeof input !== 'string') {\n    throw new TypeError('Expected a non-empty string');\n  }\n\n  let parsed = { negated: false, fastpaths: true };\n\n  if (options.fastpaths !== false && (input[0] === '.' || input[0] === '*')) {\n    parsed.output = parse.fastpaths(input, options);\n  }\n\n  if (!parsed.output) {\n    parsed = parse(input, options);\n  }\n\n  return picomatch.compileRe(parsed, options, returnOutput, returnState);\n};\n\n/**\n * Create a regular expression from the given regex source string.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.toRegex(source[, options]);\n *\n * const { output } = picomatch.parse('*.js');\n * console.log(picomatch.toRegex(output));\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\n * ```\n * @param {String} `source` Regular expression source string.\n * @param {Object} `options`\n * @return {RegExp}\n * @api public\n */\n\npicomatch.toRegex = (source, options) => {\n  try {\n    const opts = options || {};\n    return new RegExp(source, opts.flags || (opts.nocase ? 'i' : ''));\n  } catch (err) {\n    if (options && options.debug === true) throw err;\n    return /$^/;\n  }\n};\n\n/**\n * Picomatch constants.\n * @return {Object}\n */\n\npicomatch.constants = constants;\n\n/**\n * Expose \"picomatch\"\n */\n\nmodule.exports = picomatch;\n", "'use strict';\n\nmodule.exports = require('./lib/picomatch');\n", "'use strict';\n\nconst util = require('util');\nconst braces = require('braces');\nconst picomatch = require('picomatch');\nconst utils = require('picomatch/lib/utils');\nconst isEmptyString = val => val === '' || val === './';\n\n/**\n * Returns an array of strings that match one or more glob patterns.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm(list, patterns[, options]);\n *\n * console.log(mm(['a.js', 'a.txt'], ['*.js']));\n * //=> [ 'a.js' ]\n * ```\n * @param {String|Array<string>} `list` List of strings to match.\n * @param {String|Array<string>} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `options` See available [options](#options)\n * @return {Array} Returns an array of matches\n * @summary false\n * @api public\n */\n\nconst micromatch = (list, patterns, options) => {\n  patterns = [].concat(patterns);\n  list = [].concat(list);\n\n  let omit = new Set();\n  let keep = new Set();\n  let items = new Set();\n  let negatives = 0;\n\n  let onResult = state => {\n    items.add(state.output);\n    if (options && options.onResult) {\n      options.onResult(state);\n    }\n  };\n\n  for (let i = 0; i < patterns.length; i++) {\n    let isMatch = picomatch(String(patterns[i]), { ...options, onResult }, true);\n    let negated = isMatch.state.negated || isMatch.state.negatedExtglob;\n    if (negated) negatives++;\n\n    for (let item of list) {\n      let matched = isMatch(item, true);\n\n      let match = negated ? !matched.isMatch : matched.isMatch;\n      if (!match) continue;\n\n      if (negated) {\n        omit.add(matched.output);\n      } else {\n        omit.delete(matched.output);\n        keep.add(matched.output);\n      }\n    }\n  }\n\n  let result = negatives === patterns.length ? [...items] : [...keep];\n  let matches = result.filter(item => !omit.has(item));\n\n  if (options && matches.length === 0) {\n    if (options.failglob === true) {\n      throw new Error(`No matches found for \"${patterns.join(', ')}\"`);\n    }\n\n    if (options.nonull === true || options.nullglob === true) {\n      return options.unescape ? patterns.map(p => p.replace(/\\\\/g, '')) : patterns;\n    }\n  }\n\n  return matches;\n};\n\n/**\n * Backwards compatibility\n */\n\nmicromatch.match = micromatch;\n\n/**\n * Returns a matcher function from the given glob `pattern` and `options`.\n * The returned function takes a string to match as its only argument and returns\n * true if the string is a match.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.matcher(pattern[, options]);\n *\n * const isMatch = mm.matcher('*.!(*a)');\n * console.log(isMatch('a.a')); //=> false\n * console.log(isMatch('a.b')); //=> true\n * ```\n * @param {String} `pattern` Glob pattern\n * @param {Object} `options`\n * @return {Function} Returns a matcher function.\n * @api public\n */\n\nmicromatch.matcher = (pattern, options) => picomatch(pattern, options);\n\n/**\n * Returns true if **any** of the given glob `patterns` match the specified `string`.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.isMatch(string, patterns[, options]);\n *\n * console.log(mm.isMatch('a.a', ['b.*', '*.a'])); //=> true\n * console.log(mm.isMatch('a.a', 'b.*')); //=> false\n * ```\n * @param {String} `str` The string to test.\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `[options]` See available [options](#options).\n * @return {Boolean} Returns true if any patterns match `str`\n * @api public\n */\n\nmicromatch.isMatch = (str, patterns, options) => picomatch(patterns, options)(str);\n\n/**\n * Backwards compatibility\n */\n\nmicromatch.any = micromatch.isMatch;\n\n/**\n * Returns a list of strings that _**do not match any**_ of the given `patterns`.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.not(list, patterns[, options]);\n *\n * console.log(mm.not(['a.a', 'b.b', 'c.c'], '*.a'));\n * //=> ['b.b', 'c.c']\n * ```\n * @param {Array} `list` Array of strings to match.\n * @param {String|Array} `patterns` One or more glob pattern to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Array} Returns an array of strings that **do not match** the given patterns.\n * @api public\n */\n\nmicromatch.not = (list, patterns, options = {}) => {\n  patterns = [].concat(patterns).map(String);\n  let result = new Set();\n  let items = [];\n\n  let onResult = state => {\n    if (options.onResult) options.onResult(state);\n    items.push(state.output);\n  };\n\n  let matches = new Set(micromatch(list, patterns, { ...options, onResult }));\n\n  for (let item of items) {\n    if (!matches.has(item)) {\n      result.add(item);\n    }\n  }\n  return [...result];\n};\n\n/**\n * Returns true if the given `string` contains the given pattern. Similar\n * to [.isMatch](#isMatch) but the pattern can match any part of the string.\n *\n * ```js\n * var mm = require('micromatch');\n * // mm.contains(string, pattern[, options]);\n *\n * console.log(mm.contains('aa/bb/cc', '*b'));\n * //=> true\n * console.log(mm.contains('aa/bb/cc', '*d'));\n * //=> false\n * ```\n * @param {String} `str` The string to match.\n * @param {String|Array} `patterns` Glob pattern to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Boolean} Returns true if any of the patterns matches any part of `str`.\n * @api public\n */\n\nmicromatch.contains = (str, pattern, options) => {\n  if (typeof str !== 'string') {\n    throw new TypeError(`Expected a string: \"${util.inspect(str)}\"`);\n  }\n\n  if (Array.isArray(pattern)) {\n    return pattern.some(p => micromatch.contains(str, p, options));\n  }\n\n  if (typeof pattern === 'string') {\n    if (isEmptyString(str) || isEmptyString(pattern)) {\n      return false;\n    }\n\n    if (str.includes(pattern) || (str.startsWith('./') && str.slice(2).includes(pattern))) {\n      return true;\n    }\n  }\n\n  return micromatch.isMatch(str, pattern, { ...options, contains: true });\n};\n\n/**\n * Filter the keys of the given object with the given `glob` pattern\n * and `options`. Does not attempt to match nested keys. If you need this feature,\n * use [glob-object][] instead.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.matchKeys(object, patterns[, options]);\n *\n * const obj = { aa: 'a', ab: 'b', ac: 'c' };\n * console.log(mm.matchKeys(obj, '*b'));\n * //=> { ab: 'b' }\n * ```\n * @param {Object} `object` The object with keys to filter.\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Object} Returns an object with only keys that match the given patterns.\n * @api public\n */\n\nmicromatch.matchKeys = (obj, patterns, options) => {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('Expected the first argument to be an object');\n  }\n  let keys = micromatch(Object.keys(obj), patterns, options);\n  let res = {};\n  for (let key of keys) res[key] = obj[key];\n  return res;\n};\n\n/**\n * Returns true if some of the strings in the given `list` match any of the given glob `patterns`.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.some(list, patterns[, options]);\n *\n * console.log(mm.some(['foo.js', 'bar.js'], ['*.js', '!foo.js']));\n * // true\n * console.log(mm.some(['foo.js'], ['*.js', '!foo.js']));\n * // false\n * ```\n * @param {String|Array} `list` The string or array of strings to test. Returns as soon as the first match is found.\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Boolean} Returns true if any `patterns` matches any of the strings in `list`\n * @api public\n */\n\nmicromatch.some = (list, patterns, options) => {\n  let items = [].concat(list);\n\n  for (let pattern of [].concat(patterns)) {\n    let isMatch = picomatch(String(pattern), options);\n    if (items.some(item => isMatch(item))) {\n      return true;\n    }\n  }\n  return false;\n};\n\n/**\n * Returns true if every string in the given `list` matches\n * any of the given glob `patterns`.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.every(list, patterns[, options]);\n *\n * console.log(mm.every('foo.js', ['foo.js']));\n * // true\n * console.log(mm.every(['foo.js', 'bar.js'], ['*.js']));\n * // true\n * console.log(mm.every(['foo.js', 'bar.js'], ['*.js', '!foo.js']));\n * // false\n * console.log(mm.every(['foo.js'], ['*.js', '!foo.js']));\n * // false\n * ```\n * @param {String|Array} `list` The string or array of strings to test.\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Boolean} Returns true if all `patterns` matches all of the strings in `list`\n * @api public\n */\n\nmicromatch.every = (list, patterns, options) => {\n  let items = [].concat(list);\n\n  for (let pattern of [].concat(patterns)) {\n    let isMatch = picomatch(String(pattern), options);\n    if (!items.every(item => isMatch(item))) {\n      return false;\n    }\n  }\n  return true;\n};\n\n/**\n * Returns true if **all** of the given `patterns` match\n * the specified string.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.all(string, patterns[, options]);\n *\n * console.log(mm.all('foo.js', ['foo.js']));\n * // true\n *\n * console.log(mm.all('foo.js', ['*.js', '!foo.js']));\n * // false\n *\n * console.log(mm.all('foo.js', ['*.js', 'foo.js']));\n * // true\n *\n * console.log(mm.all('foo.js', ['*.js', 'f*', '*o*', '*o.js']));\n * // true\n * ```\n * @param {String|Array} `str` The string to test.\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Boolean} Returns true if any patterns match `str`\n * @api public\n */\n\nmicromatch.all = (str, patterns, options) => {\n  if (typeof str !== 'string') {\n    throw new TypeError(`Expected a string: \"${util.inspect(str)}\"`);\n  }\n\n  return [].concat(patterns).every(p => picomatch(p, options)(str));\n};\n\n/**\n * Returns an array of matches captured by `pattern` in `string, or `null` if the pattern did not match.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.capture(pattern, string[, options]);\n *\n * console.log(mm.capture('test/*.js', 'test/foo.js'));\n * //=> ['foo']\n * console.log(mm.capture('test/*.js', 'foo/bar.css'));\n * //=> null\n * ```\n * @param {String} `glob` Glob pattern to use for matching.\n * @param {String} `input` String to match\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Array|null} Returns an array of captures if the input matches the glob pattern, otherwise `null`.\n * @api public\n */\n\nmicromatch.capture = (glob, input, options) => {\n  let posix = utils.isWindows(options);\n  let regex = picomatch.makeRe(String(glob), { ...options, capture: true });\n  let match = regex.exec(posix ? utils.toPosixSlashes(input) : input);\n\n  if (match) {\n    return match.slice(1).map(v => v === void 0 ? '' : v);\n  }\n};\n\n/**\n * Create a regular expression from the given glob `pattern`.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.makeRe(pattern[, options]);\n *\n * console.log(mm.makeRe('*.js'));\n * //=> /^(?:(\\.[\\\\\\/])?(?!\\.)(?=.)[^\\/]*?\\.js)$/\n * ```\n * @param {String} `pattern` A glob pattern to convert to regex.\n * @param {Object} `options`\n * @return {RegExp} Returns a regex created from the given pattern.\n * @api public\n */\n\nmicromatch.makeRe = (...args) => picomatch.makeRe(...args);\n\n/**\n * Scan a glob pattern to separate the pattern into segments. Used\n * by the [split](#split) method.\n *\n * ```js\n * const mm = require('micromatch');\n * const state = mm.scan(pattern[, options]);\n * ```\n * @param {String} `pattern`\n * @param {Object} `options`\n * @return {Object} Returns an object with\n * @api public\n */\n\nmicromatch.scan = (...args) => picomatch.scan(...args);\n\n/**\n * Parse a glob pattern to create the source string for a regular\n * expression.\n *\n * ```js\n * const mm = require('micromatch');\n * const state = mm.parse(pattern[, options]);\n * ```\n * @param {String} `glob`\n * @param {Object} `options`\n * @return {Object} Returns an object with useful properties and output to be used as regex source string.\n * @api public\n */\n\nmicromatch.parse = (patterns, options) => {\n  let res = [];\n  for (let pattern of [].concat(patterns || [])) {\n    for (let str of braces(String(pattern), options)) {\n      res.push(picomatch.parse(str, options));\n    }\n  }\n  return res;\n};\n\n/**\n * Process the given brace `pattern`.\n *\n * ```js\n * const { braces } = require('micromatch');\n * console.log(braces('foo/{a,b,c}/bar'));\n * //=> [ 'foo/(a|b|c)/bar' ]\n *\n * console.log(braces('foo/{a,b,c}/bar', { expand: true }));\n * //=> [ 'foo/a/bar', 'foo/b/bar', 'foo/c/bar' ]\n * ```\n * @param {String} `pattern` String with brace pattern to process.\n * @param {Object} `options` Any [options](#options) to change how expansion is performed. See the [braces][] library for all available options.\n * @return {Array}\n * @api public\n */\n\nmicromatch.braces = (pattern, options) => {\n  if (typeof pattern !== 'string') throw new TypeError('Expected a string');\n  if ((options && options.nobrace === true) || !/\\{.*\\}/.test(pattern)) {\n    return [pattern];\n  }\n  return braces(pattern, options);\n};\n\n/**\n * Expand braces\n */\n\nmicromatch.braceExpand = (pattern, options) => {\n  if (typeof pattern !== 'string') throw new TypeError('Expected a string');\n  return micromatch.braces(pattern, { ...options, expand: true });\n};\n\n/**\n * Expose micromatch\n */\n\nmodule.exports = micromatch;\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.matchAny = exports.convertPatternsToRe = exports.makeRe = exports.getPatternParts = exports.expandBraceExpansion = exports.expandPatternsWithBraceExpansion = exports.isAffectDepthOfReadingPattern = exports.endsWithSlashGlobStar = exports.hasGlobStar = exports.getBaseDirectory = exports.isPatternRelatedToParentDirectory = exports.getPatternsOutsideCurrentDirectory = exports.getPatternsInsideCurrentDirectory = exports.getPositivePatterns = exports.getNegativePatterns = exports.isPositivePattern = exports.isNegativePattern = exports.convertToNegativePattern = exports.convertToPositivePattern = exports.isDynamicPattern = exports.isStaticPattern = void 0;\r\nconst path = require(\"path\");\r\nconst globParent = require(\"glob-parent\");\r\nconst micromatch = require(\"micromatch\");\r\nconst GLOBSTAR = '**';\r\nconst ESCAPE_SYMBOL = '\\\\';\r\nconst COMMON_GLOB_SYMBOLS_RE = /[*?]|^!/;\r\nconst REGEX_CHARACTER_CLASS_SYMBOLS_RE = /\\[[^[]*]/;\r\nconst REGEX_GROUP_SYMBOLS_RE = /(?:^|[^!*+?@])\\([^(]*\\|[^|]*\\)/;\r\nconst GLOB_EXTENSION_SYMBOLS_RE = /[!*+?@]\\([^(]*\\)/;\r\nconst BRACE_EXPANSION_SEPARATORS_RE = /,|\\.\\./;\r\nfunction isStaticPattern(pattern, options = {}) {\r\n    return !isDynamicPattern(pattern, options);\r\n}\r\nexports.isStaticPattern = isStaticPattern;\r\nfunction isDynamicPattern(pattern, options = {}) {\r\n    /**\r\n     * A special case with an empty string is necessary for matching patterns that start with a forward slash.\r\n     * An empty string cannot be a dynamic pattern.\r\n     * For example, the pattern `/lib/*` will be spread into parts: '', 'lib', '*'.\r\n     */\r\n    if (pattern === '') {\r\n        return false;\r\n    }\r\n    /**\r\n     * When the `caseSensitiveMatch` option is disabled, all patterns must be marked as dynamic, because we cannot check\r\n     * filepath directly (without read directory).\r\n     */\r\n    if (options.caseSensitiveMatch === false || pattern.includes(ESCAPE_SYMBOL)) {\r\n        return true;\r\n    }\r\n    if (COMMON_GLOB_SYMBOLS_RE.test(pattern) || REGEX_CHARACTER_CLASS_SYMBOLS_RE.test(pattern) || REGEX_GROUP_SYMBOLS_RE.test(pattern)) {\r\n        return true;\r\n    }\r\n    if (options.extglob !== false && GLOB_EXTENSION_SYMBOLS_RE.test(pattern)) {\r\n        return true;\r\n    }\r\n    if (options.braceExpansion !== false && hasBraceExpansion(pattern)) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexports.isDynamicPattern = isDynamicPattern;\r\nfunction hasBraceExpansion(pattern) {\r\n    const openingBraceIndex = pattern.indexOf('{');\r\n    if (openingBraceIndex === -1) {\r\n        return false;\r\n    }\r\n    const closingBraceIndex = pattern.indexOf('}', openingBraceIndex + 1);\r\n    if (closingBraceIndex === -1) {\r\n        return false;\r\n    }\r\n    const braceContent = pattern.slice(openingBraceIndex, closingBraceIndex);\r\n    return BRACE_EXPANSION_SEPARATORS_RE.test(braceContent);\r\n}\r\nfunction convertToPositivePattern(pattern) {\r\n    return isNegativePattern(pattern) ? pattern.slice(1) : pattern;\r\n}\r\nexports.convertToPositivePattern = convertToPositivePattern;\r\nfunction convertToNegativePattern(pattern) {\r\n    return '!' + pattern;\r\n}\r\nexports.convertToNegativePattern = convertToNegativePattern;\r\nfunction isNegativePattern(pattern) {\r\n    return pattern.startsWith('!') && pattern[1] !== '(';\r\n}\r\nexports.isNegativePattern = isNegativePattern;\r\nfunction isPositivePattern(pattern) {\r\n    return !isNegativePattern(pattern);\r\n}\r\nexports.isPositivePattern = isPositivePattern;\r\nfunction getNegativePatterns(patterns) {\r\n    return patterns.filter(isNegativePattern);\r\n}\r\nexports.getNegativePatterns = getNegativePatterns;\r\nfunction getPositivePatterns(patterns) {\r\n    return patterns.filter(isPositivePattern);\r\n}\r\nexports.getPositivePatterns = getPositivePatterns;\r\n/**\r\n * Returns patterns that can be applied inside the current directory.\r\n *\r\n * @example\r\n * // ['./*', '*', 'a/*']\r\n * getPatternsInsideCurrentDirectory(['./*', '*', 'a/*', '../*', './../*'])\r\n */\r\nfunction getPatternsInsideCurrentDirectory(patterns) {\r\n    return patterns.filter((pattern) => !isPatternRelatedToParentDirectory(pattern));\r\n}\r\nexports.getPatternsInsideCurrentDirectory = getPatternsInsideCurrentDirectory;\r\n/**\r\n * Returns patterns to be expanded relative to (outside) the current directory.\r\n *\r\n * @example\r\n * // ['../*', './../*']\r\n * getPatternsInsideCurrentDirectory(['./*', '*', 'a/*', '../*', './../*'])\r\n */\r\nfunction getPatternsOutsideCurrentDirectory(patterns) {\r\n    return patterns.filter(isPatternRelatedToParentDirectory);\r\n}\r\nexports.getPatternsOutsideCurrentDirectory = getPatternsOutsideCurrentDirectory;\r\nfunction isPatternRelatedToParentDirectory(pattern) {\r\n    return pattern.startsWith('..') || pattern.startsWith('./..');\r\n}\r\nexports.isPatternRelatedToParentDirectory = isPatternRelatedToParentDirectory;\r\nfunction getBaseDirectory(pattern) {\r\n    return globParent(pattern, { flipBackslashes: false });\r\n}\r\nexports.getBaseDirectory = getBaseDirectory;\r\nfunction hasGlobStar(pattern) {\r\n    return pattern.includes(GLOBSTAR);\r\n}\r\nexports.hasGlobStar = hasGlobStar;\r\nfunction endsWithSlashGlobStar(pattern) {\r\n    return pattern.endsWith('/' + GLOBSTAR);\r\n}\r\nexports.endsWithSlashGlobStar = endsWithSlashGlobStar;\r\nfunction isAffectDepthOfReadingPattern(pattern) {\r\n    const basename = path.basename(pattern);\r\n    return endsWithSlashGlobStar(pattern) || isStaticPattern(basename);\r\n}\r\nexports.isAffectDepthOfReadingPattern = isAffectDepthOfReadingPattern;\r\nfunction expandPatternsWithBraceExpansion(patterns) {\r\n    return patterns.reduce((collection, pattern) => {\r\n        return collection.concat(expandBraceExpansion(pattern));\r\n    }, []);\r\n}\r\nexports.expandPatternsWithBraceExpansion = expandPatternsWithBraceExpansion;\r\nfunction expandBraceExpansion(pattern) {\r\n    return micromatch.braces(pattern, {\r\n        expand: true,\r\n        nodupes: true\r\n    });\r\n}\r\nexports.expandBraceExpansion = expandBraceExpansion;\r\nfunction getPatternParts(pattern, options) {\r\n    let { parts } = micromatch.scan(pattern, Object.assign(Object.assign({}, options), { parts: true }));\r\n    /**\r\n     * The scan method returns an empty array in some cases.\r\n     * See micromatch/picomatch#58 for more details.\r\n     */\r\n    if (parts.length === 0) {\r\n        parts = [pattern];\r\n    }\r\n    /**\r\n     * The scan method does not return an empty part for the pattern with a forward slash.\r\n     * This is another part of micromatch/picomatch#58.\r\n     */\r\n    if (parts[0].startsWith('/')) {\r\n        parts[0] = parts[0].slice(1);\r\n        parts.unshift('');\r\n    }\r\n    return parts;\r\n}\r\nexports.getPatternParts = getPatternParts;\r\nfunction makeRe(pattern, options) {\r\n    return micromatch.makeRe(pattern, options);\r\n}\r\nexports.makeRe = makeRe;\r\nfunction convertPatternsToRe(patterns, options) {\r\n    return patterns.map((pattern) => makeRe(pattern, options));\r\n}\r\nexports.convertPatternsToRe = convertPatternsToRe;\r\nfunction matchAny(entry, patternsRe) {\r\n    return patternsRe.some((patternRe) => patternRe.test(entry));\r\n}\r\nexports.matchAny = matchAny;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.merge = void 0;\r\nconst merge2 = require(\"merge2\");\r\nfunction merge(streams) {\r\n    const mergedStream = merge2(streams);\r\n    streams.forEach((stream) => {\r\n        stream.once('error', (error) => mergedStream.emit('error', error));\r\n    });\r\n    mergedStream.once('close', () => propagateCloseEventToSources(streams));\r\n    mergedStream.once('end', () => propagateCloseEventToSources(streams));\r\n    return mergedStream;\r\n}\r\nexports.merge = merge;\r\nfunction propagateCloseEventToSources(streams) {\r\n    streams.forEach((stream) => stream.emit('close'));\r\n}\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.isEmpty = exports.isString = void 0;\r\nfunction isString(input) {\r\n    return typeof input === 'string';\r\n}\r\nexports.isString = isString;\r\nfunction isEmpty(input) {\r\n    return input === '';\r\n}\r\nexports.isEmpty = isEmpty;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.string = exports.stream = exports.pattern = exports.path = exports.fs = exports.errno = exports.array = void 0;\r\nconst array = require(\"./array\");\r\nexports.array = array;\r\nconst errno = require(\"./errno\");\r\nexports.errno = errno;\r\nconst fs = require(\"./fs\");\r\nexports.fs = fs;\r\nconst path = require(\"./path\");\r\nexports.path = path;\r\nconst pattern = require(\"./pattern\");\r\nexports.pattern = pattern;\r\nconst stream = require(\"./stream\");\r\nexports.stream = stream;\r\nconst string = require(\"./string\");\r\nexports.string = string;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.convertPatternGroupToTask = exports.convertPatternGroupsToTasks = exports.groupPatternsByBaseDirectory = exports.getNegativePatternsAsPositive = exports.getPositivePatterns = exports.convertPatternsToTasks = exports.generate = void 0;\r\nconst utils = require(\"../utils\");\r\nfunction generate(patterns, settings) {\r\n    const positivePatterns = getPositivePatterns(patterns);\r\n    const negativePatterns = getNegativePatternsAsPositive(patterns, settings.ignore);\r\n    const staticPatterns = positivePatterns.filter((pattern) => utils.pattern.isStaticPattern(pattern, settings));\r\n    const dynamicPatterns = positivePatterns.filter((pattern) => utils.pattern.isDynamicPattern(pattern, settings));\r\n    const staticTasks = convertPatternsToTasks(staticPatterns, negativePatterns, /* dynamic */ false);\r\n    const dynamicTasks = convertPatternsToTasks(dynamicPatterns, negativePatterns, /* dynamic */ true);\r\n    return staticTasks.concat(dynamicTasks);\r\n}\r\nexports.generate = generate;\r\n/**\r\n * Returns tasks grouped by basic pattern directories.\r\n *\r\n * Patterns that can be found inside (`./`) and outside (`../`) the current directory are handled separately.\r\n * This is necessary because directory traversal starts at the base directory and goes deeper.\r\n */\r\nfunction convertPatternsToTasks(positive, negative, dynamic) {\r\n    const tasks = [];\r\n    const patternsOutsideCurrentDirectory = utils.pattern.getPatternsOutsideCurrentDirectory(positive);\r\n    const patternsInsideCurrentDirectory = utils.pattern.getPatternsInsideCurrentDirectory(positive);\r\n    const outsideCurrentDirectoryGroup = groupPatternsByBaseDirectory(patternsOutsideCurrentDirectory);\r\n    const insideCurrentDirectoryGroup = groupPatternsByBaseDirectory(patternsInsideCurrentDirectory);\r\n    tasks.push(...convertPatternGroupsToTasks(outsideCurrentDirectoryGroup, negative, dynamic));\r\n    /*\r\n     * For the sake of reducing future accesses to the file system, we merge all tasks within the current directory\r\n     * into a global task, if at least one pattern refers to the root (`.`). In this case, the global task covers the rest.\r\n     */\r\n    if ('.' in insideCurrentDirectoryGroup) {\r\n        tasks.push(convertPatternGroupToTask('.', patternsInsideCurrentDirectory, negative, dynamic));\r\n    }\r\n    else {\r\n        tasks.push(...convertPatternGroupsToTasks(insideCurrentDirectoryGroup, negative, dynamic));\r\n    }\r\n    return tasks;\r\n}\r\nexports.convertPatternsToTasks = convertPatternsToTasks;\r\nfunction getPositivePatterns(patterns) {\r\n    return utils.pattern.getPositivePatterns(patterns);\r\n}\r\nexports.getPositivePatterns = getPositivePatterns;\r\nfunction getNegativePatternsAsPositive(patterns, ignore) {\r\n    const negative = utils.pattern.getNegativePatterns(patterns).concat(ignore);\r\n    const positive = negative.map(utils.pattern.convertToPositivePattern);\r\n    return positive;\r\n}\r\nexports.getNegativePatternsAsPositive = getNegativePatternsAsPositive;\r\nfunction groupPatternsByBaseDirectory(patterns) {\r\n    const group = {};\r\n    return patterns.reduce((collection, pattern) => {\r\n        const base = utils.pattern.getBaseDirectory(pattern);\r\n        if (base in collection) {\r\n            collection[base].push(pattern);\r\n        }\r\n        else {\r\n            collection[base] = [pattern];\r\n        }\r\n        return collection;\r\n    }, group);\r\n}\r\nexports.groupPatternsByBaseDirectory = groupPatternsByBaseDirectory;\r\nfunction convertPatternGroupsToTasks(positive, negative, dynamic) {\r\n    return Object.keys(positive).map((base) => {\r\n        return convertPatternGroupToTask(base, positive[base], negative, dynamic);\r\n    });\r\n}\r\nexports.convertPatternGroupsToTasks = convertPatternGroupsToTasks;\r\nfunction convertPatternGroupToTask(base, positive, negative, dynamic) {\r\n    return {\r\n        dynamic,\r\n        positive,\r\n        negative,\r\n        base,\r\n        patterns: [].concat(positive, negative.map(utils.pattern.convertToNegativePattern))\r\n    };\r\n}\r\nexports.convertPatternGroupToTask = convertPatternGroupToTask;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.removeDuplicateSlashes = exports.transform = void 0;\r\n/**\r\n * Matches a sequence of two or more consecutive slashes, excluding the first two slashes at the beginning of the string.\r\n * The latter is due to the presence of the device path at the beginning of the UNC path.\r\n * @todo rewrite to negative lookbehind with the next major release.\r\n */\r\nconst DOUBLE_SLASH_RE = /(?!^)\\/{2,}/g;\r\nfunction transform(patterns) {\r\n    return patterns.map((pattern) => removeDuplicateSlashes(pattern));\r\n}\r\nexports.transform = transform;\r\n/**\r\n * This package only works with forward slashes as a path separator.\r\n * Because of this, we cannot use the standard `path.normalize` method, because on Windows platform it will use of backslashes.\r\n */\r\nfunction removeDuplicateSlashes(pattern) {\r\n    return pattern.replace(DOUBLE_SLASH_RE, '/');\r\n}\r\nexports.removeDuplicateSlashes = removeDuplicateSlashes;\r\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.read = void 0;\nfunction read(path, settings, callback) {\n    settings.fs.lstat(path, (lstatError, lstat) => {\n        if (lstatError !== null) {\n            callFailureCallback(callback, lstatError);\n            return;\n        }\n        if (!lstat.isSymbolicLink() || !settings.followSymbolicLink) {\n            callSuccessCallback(callback, lstat);\n            return;\n        }\n        settings.fs.stat(path, (statError, stat) => {\n            if (statError !== null) {\n                if (settings.throwErrorOnBrokenSymbolicLink) {\n                    callFailureCallback(callback, statError);\n                    return;\n                }\n                callSuccessCallback(callback, lstat);\n                return;\n            }\n            if (settings.markSymbolicLink) {\n                stat.isSymbolicLink = () => true;\n            }\n            callSuccessCallback(callback, stat);\n        });\n    });\n}\nexports.read = read;\nfunction callFailureCallback(callback, error) {\n    callback(error);\n}\nfunction callSuccessCallback(callback, result) {\n    callback(null, result);\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.read = void 0;\nfunction read(path, settings) {\n    const lstat = settings.fs.lstatSync(path);\n    if (!lstat.isSymbolicLink() || !settings.followSymbolicLink) {\n        return lstat;\n    }\n    try {\n        const stat = settings.fs.statSync(path);\n        if (settings.markSymbolicLink) {\n            stat.isSymbolicLink = () => true;\n        }\n        return stat;\n    }\n    catch (error) {\n        if (!settings.throwErrorOnBrokenSymbolicLink) {\n            return lstat;\n        }\n        throw error;\n    }\n}\nexports.read = read;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createFileSystemAdapter = exports.FILE_SYSTEM_ADAPTER = void 0;\nconst fs = require(\"fs\");\nexports.FILE_SYSTEM_ADAPTER = {\n    lstat: fs.lstat,\n    stat: fs.stat,\n    lstatSync: fs.lstatSync,\n    statSync: fs.statSync\n};\nfunction createFileSystemAdapter(fsMethods) {\n    if (fsMethods === undefined) {\n        return exports.FILE_SYSTEM_ADAPTER;\n    }\n    return Object.assign(Object.assign({}, exports.FILE_SYSTEM_ADAPTER), fsMethods);\n}\nexports.createFileSystemAdapter = createFileSystemAdapter;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fs = require(\"./adapters/fs\");\nclass Settings {\n    constructor(_options = {}) {\n        this._options = _options;\n        this.followSymbolicLink = this._getValue(this._options.followSymbolicLink, true);\n        this.fs = fs.createFileSystemAdapter(this._options.fs);\n        this.markSymbolicLink = this._getValue(this._options.markSymbolicLink, false);\n        this.throwErrorOnBrokenSymbolicLink = this._getValue(this._options.throwErrorOnBrokenSymbolicLink, true);\n    }\n    _getValue(option, value) {\n        return option !== null && option !== void 0 ? option : value;\n    }\n}\nexports.default = Settings;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.statSync = exports.stat = exports.Settings = void 0;\nconst async = require(\"./providers/async\");\nconst sync = require(\"./providers/sync\");\nconst settings_1 = require(\"./settings\");\nexports.Settings = settings_1.default;\nfunction stat(path, optionsOrSettingsOrCallback, callback) {\n    if (typeof optionsOrSettingsOrCallback === 'function') {\n        async.read(path, getSettings(), optionsOrSettingsOrCallback);\n        return;\n    }\n    async.read(path, getSettings(optionsOrSettingsOrCallback), callback);\n}\nexports.stat = stat;\nfunction statSync(path, optionsOrSettings) {\n    const settings = getSettings(optionsOrSettings);\n    return sync.read(path, settings);\n}\nexports.statSync = statSync;\nfunction getSettings(settingsOrOptions = {}) {\n    if (settingsOrOptions instanceof settings_1.default) {\n        return settingsOrOptions;\n    }\n    return new settings_1.default(settingsOrOptions);\n}\n", "/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nlet promise\n\nmodule.exports = typeof queueMicrotask === 'function'\n  ? queueMicrotask.bind(typeof window !== 'undefined' ? window : global)\n  // reuse resolved promise, and allocate it lazily\n  : cb => (promise || (promise = Promise.resolve()))\n    .then(cb)\n    .catch(err => setTimeout(() => { throw err }, 0))\n", "/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nmodule.exports = runParallel\n\nconst queueMicrotask = require('queue-microtask')\n\nfunction runParallel (tasks, cb) {\n  let results, pending, keys\n  let isSync = true\n\n  if (Array.isArray(tasks)) {\n    results = []\n    pending = tasks.length\n  } else {\n    keys = Object.keys(tasks)\n    results = {}\n    pending = keys.length\n  }\n\n  function done (err) {\n    function end () {\n      if (cb) cb(err, results)\n      cb = null\n    }\n    if (isSync) queueMicrotask(end)\n    else end()\n  }\n\n  function each (i, err, result) {\n    results[i] = result\n    if (--pending === 0 || err) {\n      done(err)\n    }\n  }\n\n  if (!pending) {\n    // empty\n    done(null)\n  } else if (keys) {\n    // object\n    keys.forEach(function (key) {\n      tasks[key](function (err, result) { each(key, err, result) })\n    })\n  } else {\n    // array\n    tasks.forEach(function (task, i) {\n      task(function (err, result) { each(i, err, result) })\n    })\n  }\n\n  isSync = false\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IS_SUPPORT_READDIR_WITH_FILE_TYPES = void 0;\nconst NODE_PROCESS_VERSION_PARTS = process.versions.node.split('.');\nif (NODE_PROCESS_VERSION_PARTS[0] === undefined || NODE_PROCESS_VERSION_PARTS[1] === undefined) {\n    throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);\n}\nconst MAJOR_VERSION = Number.parseInt(NODE_PROCESS_VERSION_PARTS[0], 10);\nconst MINOR_VERSION = Number.parseInt(NODE_PROCESS_VERSION_PARTS[1], 10);\nconst SUPPORTED_MAJOR_VERSION = 10;\nconst SUPPORTED_MINOR_VERSION = 10;\nconst IS_MATCHED_BY_MAJOR = MAJOR_VERSION > SUPPORTED_MAJOR_VERSION;\nconst IS_MATCHED_BY_MAJOR_AND_MINOR = MAJOR_VERSION === SUPPORTED_MAJOR_VERSION && MINOR_VERSION >= SUPPORTED_MINOR_VERSION;\n/**\n * IS `true` for Node.js 10.10 and greater.\n */\nexports.IS_SUPPORT_READDIR_WITH_FILE_TYPES = IS_MATCHED_BY_MAJOR || IS_MATCHED_BY_MAJOR_AND_MINOR;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createDirentFromStats = void 0;\nclass DirentFromStats {\n    constructor(name, stats) {\n        this.name = name;\n        this.isBlockDevice = stats.isBlockDevice.bind(stats);\n        this.isCharacterDevice = stats.isCharacterDevice.bind(stats);\n        this.isDirectory = stats.isDirectory.bind(stats);\n        this.isFIFO = stats.isFIFO.bind(stats);\n        this.isFile = stats.isFile.bind(stats);\n        this.isSocket = stats.isSocket.bind(stats);\n        this.isSymbolicLink = stats.isSymbolicLink.bind(stats);\n    }\n}\nfunction createDirentFromStats(name, stats) {\n    return new DirentFromStats(name, stats);\n}\nexports.createDirentFromStats = createDirentFromStats;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fs = void 0;\nconst fs = require(\"./fs\");\nexports.fs = fs;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.joinPathSegments = void 0;\nfunction joinPathSegments(a, b, separator) {\n    /**\n     * The correct handling of cases when the first segment is a root (`/`, `C:/`) or UNC path (`//?/C:/`).\n     */\n    if (a.endsWith(separator)) {\n        return a + b;\n    }\n    return a + separator + b;\n}\nexports.joinPathSegments = joinPathSegments;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readdir = exports.readdirWithFileTypes = exports.read = void 0;\nconst fsStat = require(\"@nodelib/fs.stat\");\nconst rpl = require(\"run-parallel\");\nconst constants_1 = require(\"../constants\");\nconst utils = require(\"../utils\");\nconst common = require(\"./common\");\nfunction read(directory, settings, callback) {\n    if (!settings.stats && constants_1.IS_SUPPORT_READDIR_WITH_FILE_TYPES) {\n        readdirWithFileTypes(directory, settings, callback);\n        return;\n    }\n    readdir(directory, settings, callback);\n}\nexports.read = read;\nfunction readdirWithFileTypes(directory, settings, callback) {\n    settings.fs.readdir(directory, { withFileTypes: true }, (readdirError, dirents) => {\n        if (readdirError !== null) {\n            callFailureCallback(callback, readdirError);\n            return;\n        }\n        const entries = dirents.map((dirent) => ({\n            dirent,\n            name: dirent.name,\n            path: common.joinPathSegments(directory, dirent.name, settings.pathSegmentSeparator)\n        }));\n        if (!settings.followSymbolicLinks) {\n            callSuccessCallback(callback, entries);\n            return;\n        }\n        const tasks = entries.map((entry) => makeRplTaskEntry(entry, settings));\n        rpl(tasks, (rplError, rplEntries) => {\n            if (rplError !== null) {\n                callFailureCallback(callback, rplError);\n                return;\n            }\n            callSuccessCallback(callback, rplEntries);\n        });\n    });\n}\nexports.readdirWithFileTypes = readdirWithFileTypes;\nfunction makeRplTaskEntry(entry, settings) {\n    return (done) => {\n        if (!entry.dirent.isSymbolicLink()) {\n            done(null, entry);\n            return;\n        }\n        settings.fs.stat(entry.path, (statError, stats) => {\n            if (statError !== null) {\n                if (settings.throwErrorOnBrokenSymbolicLink) {\n                    done(statError);\n                    return;\n                }\n                done(null, entry);\n                return;\n            }\n            entry.dirent = utils.fs.createDirentFromStats(entry.name, stats);\n            done(null, entry);\n        });\n    };\n}\nfunction readdir(directory, settings, callback) {\n    settings.fs.readdir(directory, (readdirError, names) => {\n        if (readdirError !== null) {\n            callFailureCallback(callback, readdirError);\n            return;\n        }\n        const tasks = names.map((name) => {\n            const path = common.joinPathSegments(directory, name, settings.pathSegmentSeparator);\n            return (done) => {\n                fsStat.stat(path, settings.fsStatSettings, (error, stats) => {\n                    if (error !== null) {\n                        done(error);\n                        return;\n                    }\n                    const entry = {\n                        name,\n                        path,\n                        dirent: utils.fs.createDirentFromStats(name, stats)\n                    };\n                    if (settings.stats) {\n                        entry.stats = stats;\n                    }\n                    done(null, entry);\n                });\n            };\n        });\n        rpl(tasks, (rplError, entries) => {\n            if (rplError !== null) {\n                callFailureCallback(callback, rplError);\n                return;\n            }\n            callSuccessCallback(callback, entries);\n        });\n    });\n}\nexports.readdir = readdir;\nfunction callFailureCallback(callback, error) {\n    callback(error);\n}\nfunction callSuccessCallback(callback, result) {\n    callback(null, result);\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readdir = exports.readdirWithFileTypes = exports.read = void 0;\nconst fsStat = require(\"@nodelib/fs.stat\");\nconst constants_1 = require(\"../constants\");\nconst utils = require(\"../utils\");\nconst common = require(\"./common\");\nfunction read(directory, settings) {\n    if (!settings.stats && constants_1.IS_SUPPORT_READDIR_WITH_FILE_TYPES) {\n        return readdirWithFileTypes(directory, settings);\n    }\n    return readdir(directory, settings);\n}\nexports.read = read;\nfunction readdirWithFileTypes(directory, settings) {\n    const dirents = settings.fs.readdirSync(directory, { withFileTypes: true });\n    return dirents.map((dirent) => {\n        const entry = {\n            dirent,\n            name: dirent.name,\n            path: common.joinPathSegments(directory, dirent.name, settings.pathSegmentSeparator)\n        };\n        if (entry.dirent.isSymbolicLink() && settings.followSymbolicLinks) {\n            try {\n                const stats = settings.fs.statSync(entry.path);\n                entry.dirent = utils.fs.createDirentFromStats(entry.name, stats);\n            }\n            catch (error) {\n                if (settings.throwErrorOnBrokenSymbolicLink) {\n                    throw error;\n                }\n            }\n        }\n        return entry;\n    });\n}\nexports.readdirWithFileTypes = readdirWithFileTypes;\nfunction readdir(directory, settings) {\n    const names = settings.fs.readdirSync(directory);\n    return names.map((name) => {\n        const entryPath = common.joinPathSegments(directory, name, settings.pathSegmentSeparator);\n        const stats = fsStat.statSync(entryPath, settings.fsStatSettings);\n        const entry = {\n            name,\n            path: entryPath,\n            dirent: utils.fs.createDirentFromStats(name, stats)\n        };\n        if (settings.stats) {\n            entry.stats = stats;\n        }\n        return entry;\n    });\n}\nexports.readdir = readdir;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createFileSystemAdapter = exports.FILE_SYSTEM_ADAPTER = void 0;\nconst fs = require(\"fs\");\nexports.FILE_SYSTEM_ADAPTER = {\n    lstat: fs.lstat,\n    stat: fs.stat,\n    lstatSync: fs.lstatSync,\n    statSync: fs.statSync,\n    readdir: fs.readdir,\n    readdirSync: fs.readdirSync\n};\nfunction createFileSystemAdapter(fsMethods) {\n    if (fsMethods === undefined) {\n        return exports.FILE_SYSTEM_ADAPTER;\n    }\n    return Object.assign(Object.assign({}, exports.FILE_SYSTEM_ADAPTER), fsMethods);\n}\nexports.createFileSystemAdapter = createFileSystemAdapter;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst path = require(\"path\");\nconst fsStat = require(\"@nodelib/fs.stat\");\nconst fs = require(\"./adapters/fs\");\nclass Settings {\n    constructor(_options = {}) {\n        this._options = _options;\n        this.followSymbolicLinks = this._getValue(this._options.followSymbolicLinks, false);\n        this.fs = fs.createFileSystemAdapter(this._options.fs);\n        this.pathSegmentSeparator = this._getValue(this._options.pathSegmentSeparator, path.sep);\n        this.stats = this._getValue(this._options.stats, false);\n        this.throwErrorOnBrokenSymbolicLink = this._getValue(this._options.throwErrorOnBrokenSymbolicLink, true);\n        this.fsStatSettings = new fsStat.Settings({\n            followSymbolicLink: this.followSymbolicLinks,\n            fs: this.fs,\n            throwErrorOnBrokenSymbolicLink: this.throwErrorOnBrokenSymbolicLink\n        });\n    }\n    _getValue(option, value) {\n        return option !== null && option !== void 0 ? option : value;\n    }\n}\nexports.default = Settings;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Settings = exports.scandirSync = exports.scandir = void 0;\nconst async = require(\"./providers/async\");\nconst sync = require(\"./providers/sync\");\nconst settings_1 = require(\"./settings\");\nexports.Settings = settings_1.default;\nfunction scandir(path, optionsOrSettingsOrCallback, callback) {\n    if (typeof optionsOrSettingsOrCallback === 'function') {\n        async.read(path, getSettings(), optionsOrSettingsOrCallback);\n        return;\n    }\n    async.read(path, getSettings(optionsOrSettingsOrCallback), callback);\n}\nexports.scandir = scandir;\nfunction scandirSync(path, optionsOrSettings) {\n    const settings = getSettings(optionsOrSettings);\n    return sync.read(path, settings);\n}\nexports.scandirSync = scandirSync;\nfunction getSettings(settingsOrOptions = {}) {\n    if (settingsOrOptions instanceof settings_1.default) {\n        return settingsOrOptions;\n    }\n    return new settings_1.default(settingsOrOptions);\n}\n", "'use strict'\n\nfunction reusify (Constructor) {\n  var head = new Constructor()\n  var tail = head\n\n  function get () {\n    var current = head\n\n    if (current.next) {\n      head = current.next\n    } else {\n      head = new Constructor()\n      tail = head\n    }\n\n    current.next = null\n\n    return current\n  }\n\n  function release (obj) {\n    tail.next = obj\n    tail = obj\n  }\n\n  return {\n    get: get,\n    release: release\n  }\n}\n\nmodule.exports = reusify\n", "'use strict'\n\n/* eslint-disable no-var */\n\nvar reusify = require('reusify')\n\nfunction fastqueue (context, worker, concurrency) {\n  if (typeof context === 'function') {\n    concurrency = worker\n    worker = context\n    context = null\n  }\n\n  if (concurrency < 1) {\n    throw new Error('fastqueue concurrency must be greater than 1')\n  }\n\n  var cache = reusify(Task)\n  var queueHead = null\n  var queueTail = null\n  var _running = 0\n  var errorHandler = null\n\n  var self = {\n    push: push,\n    drain: noop,\n    saturated: noop,\n    pause: pause,\n    paused: false,\n    concurrency: concurrency,\n    running: running,\n    resume: resume,\n    idle: idle,\n    length: length,\n    getQueue: getQueue,\n    unshift: unshift,\n    empty: noop,\n    kill: kill,\n    killAndDrain: killAndDrain,\n    error: error\n  }\n\n  return self\n\n  function running () {\n    return _running\n  }\n\n  function pause () {\n    self.paused = true\n  }\n\n  function length () {\n    var current = queueHead\n    var counter = 0\n\n    while (current) {\n      current = current.next\n      counter++\n    }\n\n    return counter\n  }\n\n  function getQueue () {\n    var current = queueHead\n    var tasks = []\n\n    while (current) {\n      tasks.push(current.value)\n      current = current.next\n    }\n\n    return tasks\n  }\n\n  function resume () {\n    if (!self.paused) return\n    self.paused = false\n    for (var i = 0; i < self.concurrency; i++) {\n      _running++\n      release()\n    }\n  }\n\n  function idle () {\n    return _running === 0 && self.length() === 0\n  }\n\n  function push (value, done) {\n    var current = cache.get()\n\n    current.context = context\n    current.release = release\n    current.value = value\n    current.callback = done || noop\n    current.errorHandler = errorHandler\n\n    if (_running === self.concurrency || self.paused) {\n      if (queueTail) {\n        queueTail.next = current\n        queueTail = current\n      } else {\n        queueHead = current\n        queueTail = current\n        self.saturated()\n      }\n    } else {\n      _running++\n      worker.call(context, current.value, current.worked)\n    }\n  }\n\n  function unshift (value, done) {\n    var current = cache.get()\n\n    current.context = context\n    current.release = release\n    current.value = value\n    current.callback = done || noop\n\n    if (_running === self.concurrency || self.paused) {\n      if (queueHead) {\n        current.next = queueHead\n        queueHead = current\n      } else {\n        queueHead = current\n        queueTail = current\n        self.saturated()\n      }\n    } else {\n      _running++\n      worker.call(context, current.value, current.worked)\n    }\n  }\n\n  function release (holder) {\n    if (holder) {\n      cache.release(holder)\n    }\n    var next = queueHead\n    if (next) {\n      if (!self.paused) {\n        if (queueTail === queueHead) {\n          queueTail = null\n        }\n        queueHead = next.next\n        next.next = null\n        worker.call(context, next.value, next.worked)\n        if (queueTail === null) {\n          self.empty()\n        }\n      } else {\n        _running--\n      }\n    } else if (--_running === 0) {\n      self.drain()\n    }\n  }\n\n  function kill () {\n    queueHead = null\n    queueTail = null\n    self.drain = noop\n  }\n\n  function killAndDrain () {\n    queueHead = null\n    queueTail = null\n    self.drain()\n    self.drain = noop\n  }\n\n  function error (handler) {\n    errorHandler = handler\n  }\n}\n\nfunction noop () {}\n\nfunction Task () {\n  this.value = null\n  this.callback = noop\n  this.next = null\n  this.release = noop\n  this.context = null\n  this.errorHandler = null\n\n  var self = this\n\n  this.worked = function worked (err, result) {\n    var callback = self.callback\n    var errorHandler = self.errorHandler\n    var val = self.value\n    self.value = null\n    self.callback = noop\n    if (self.errorHandler) {\n      errorHandler(err, val)\n    }\n    callback.call(self.context, err, result)\n    self.release(self)\n  }\n}\n\nfunction queueAsPromised (context, worker, concurrency) {\n  if (typeof context === 'function') {\n    concurrency = worker\n    worker = context\n    context = null\n  }\n\n  function asyncWrapper (arg, cb) {\n    worker.call(this, arg)\n      .then(function (res) {\n        cb(null, res)\n      }, cb)\n  }\n\n  var queue = fastqueue(context, asyncWrapper, concurrency)\n\n  var pushCb = queue.push\n  var unshiftCb = queue.unshift\n\n  queue.push = push\n  queue.unshift = unshift\n  queue.drained = drained\n\n  return queue\n\n  function push (value) {\n    var p = new Promise(function (resolve, reject) {\n      pushCb(value, function (err, result) {\n        if (err) {\n          reject(err)\n          return\n        }\n        resolve(result)\n      })\n    })\n\n    // Let's fork the promise chain to\n    // make the error bubble up to the user but\n    // not lead to a unhandledRejection\n    p.catch(noop)\n\n    return p\n  }\n\n  function unshift (value) {\n    var p = new Promise(function (resolve, reject) {\n      unshiftCb(value, function (err, result) {\n        if (err) {\n          reject(err)\n          return\n        }\n        resolve(result)\n      })\n    })\n\n    // Let's fork the promise chain to\n    // make the error bubble up to the user but\n    // not lead to a unhandledRejection\n    p.catch(noop)\n\n    return p\n  }\n\n  function drained () {\n    var previousDrain = queue.drain\n\n    var p = new Promise(function (resolve) {\n      queue.drain = function () {\n        previousDrain()\n        resolve()\n      }\n    })\n\n    return p\n  }\n}\n\nmodule.exports = fastqueue\nmodule.exports.promise = queueAsPromised\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.joinPathSegments = exports.replacePathSegmentSeparator = exports.isAppliedFilter = exports.isFatalError = void 0;\nfunction isFatalError(settings, error) {\n    if (settings.errorFilter === null) {\n        return true;\n    }\n    return !settings.errorFilter(error);\n}\nexports.isFatalError = isFatalError;\nfunction isAppliedFilter(filter, value) {\n    return filter === null || filter(value);\n}\nexports.isAppliedFilter = isAppliedFilter;\nfunction replacePathSegmentSeparator(filepath, separator) {\n    return filepath.split(/[/\\\\]/).join(separator);\n}\nexports.replacePathSegmentSeparator = replacePathSegmentSeparator;\nfunction joinPathSegments(a, b, separator) {\n    if (a === '') {\n        return b;\n    }\n    /**\n     * The correct handling of cases when the first segment is a root (`/`, `C:/`) or UNC path (`//?/C:/`).\n     */\n    if (a.endsWith(separator)) {\n        return a + b;\n    }\n    return a + separator + b;\n}\nexports.joinPathSegments = joinPathSegments;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst common = require(\"./common\");\nclass Reader {\n    constructor(_root, _settings) {\n        this._root = _root;\n        this._settings = _settings;\n        this._root = common.replacePathSegmentSeparator(_root, _settings.pathSegmentSeparator);\n    }\n}\nexports.default = Reader;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst events_1 = require(\"events\");\nconst fsScandir = require(\"@nodelib/fs.scandir\");\nconst fastq = require(\"fastq\");\nconst common = require(\"./common\");\nconst reader_1 = require(\"./reader\");\nclass AsyncReader extends reader_1.default {\n    constructor(_root, _settings) {\n        super(_root, _settings);\n        this._settings = _settings;\n        this._scandir = fsScandir.scandir;\n        this._emitter = new events_1.EventEmitter();\n        this._queue = fastq(this._worker.bind(this), this._settings.concurrency);\n        this._isFatalError = false;\n        this._isDestroyed = false;\n        this._queue.drain = () => {\n            if (!this._isFatalError) {\n                this._emitter.emit('end');\n            }\n        };\n    }\n    read() {\n        this._isFatalError = false;\n        this._isDestroyed = false;\n        setImmediate(() => {\n            this._pushToQueue(this._root, this._settings.basePath);\n        });\n        return this._emitter;\n    }\n    get isDestroyed() {\n        return this._isDestroyed;\n    }\n    destroy() {\n        if (this._isDestroyed) {\n            throw new Error('The reader is already destroyed');\n        }\n        this._isDestroyed = true;\n        this._queue.killAndDrain();\n    }\n    onEntry(callback) {\n        this._emitter.on('entry', callback);\n    }\n    onError(callback) {\n        this._emitter.once('error', callback);\n    }\n    onEnd(callback) {\n        this._emitter.once('end', callback);\n    }\n    _pushToQueue(directory, base) {\n        const queueItem = { directory, base };\n        this._queue.push(queueItem, (error) => {\n            if (error !== null) {\n                this._handleError(error);\n            }\n        });\n    }\n    _worker(item, done) {\n        this._scandir(item.directory, this._settings.fsScandirSettings, (error, entries) => {\n            if (error !== null) {\n                done(error, undefined);\n                return;\n            }\n            for (const entry of entries) {\n                this._handleEntry(entry, item.base);\n            }\n            done(null, undefined);\n        });\n    }\n    _handleError(error) {\n        if (this._isDestroyed || !common.isFatalError(this._settings, error)) {\n            return;\n        }\n        this._isFatalError = true;\n        this._isDestroyed = true;\n        this._emitter.emit('error', error);\n    }\n    _handleEntry(entry, base) {\n        if (this._isDestroyed || this._isFatalError) {\n            return;\n        }\n        const fullpath = entry.path;\n        if (base !== undefined) {\n            entry.path = common.joinPathSegments(base, entry.name, this._settings.pathSegmentSeparator);\n        }\n        if (common.isAppliedFilter(this._settings.entryFilter, entry)) {\n            this._emitEntry(entry);\n        }\n        if (entry.dirent.isDirectory() && common.isAppliedFilter(this._settings.deepFilter, entry)) {\n            this._pushToQueue(fullpath, base === undefined ? undefined : entry.path);\n        }\n    }\n    _emitEntry(entry) {\n        this._emitter.emit('entry', entry);\n    }\n}\nexports.default = AsyncReader;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst async_1 = require(\"../readers/async\");\nclass AsyncProvider {\n    constructor(_root, _settings) {\n        this._root = _root;\n        this._settings = _settings;\n        this._reader = new async_1.default(this._root, this._settings);\n        this._storage = [];\n    }\n    read(callback) {\n        this._reader.onError((error) => {\n            callFailureCallback(callback, error);\n        });\n        this._reader.onEntry((entry) => {\n            this._storage.push(entry);\n        });\n        this._reader.onEnd(() => {\n            callSuccessCallback(callback, this._storage);\n        });\n        this._reader.read();\n    }\n}\nexports.default = AsyncProvider;\nfunction callFailureCallback(callback, error) {\n    callback(error);\n}\nfunction callSuccessCallback(callback, entries) {\n    callback(null, entries);\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst stream_1 = require(\"stream\");\nconst async_1 = require(\"../readers/async\");\nclass StreamProvider {\n    constructor(_root, _settings) {\n        this._root = _root;\n        this._settings = _settings;\n        this._reader = new async_1.default(this._root, this._settings);\n        this._stream = new stream_1.Readable({\n            objectMode: true,\n            read: () => { },\n            destroy: () => {\n                if (!this._reader.isDestroyed) {\n                    this._reader.destroy();\n                }\n            }\n        });\n    }\n    read() {\n        this._reader.onError((error) => {\n            this._stream.emit('error', error);\n        });\n        this._reader.onEntry((entry) => {\n            this._stream.push(entry);\n        });\n        this._reader.onEnd(() => {\n            this._stream.push(null);\n        });\n        this._reader.read();\n        return this._stream;\n    }\n}\nexports.default = StreamProvider;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fsScandir = require(\"@nodelib/fs.scandir\");\nconst common = require(\"./common\");\nconst reader_1 = require(\"./reader\");\nclass SyncReader extends reader_1.default {\n    constructor() {\n        super(...arguments);\n        this._scandir = fsScandir.scandirSync;\n        this._storage = [];\n        this._queue = new Set();\n    }\n    read() {\n        this._pushToQueue(this._root, this._settings.basePath);\n        this._handleQueue();\n        return this._storage;\n    }\n    _pushToQueue(directory, base) {\n        this._queue.add({ directory, base });\n    }\n    _handleQueue() {\n        for (const item of this._queue.values()) {\n            this._handleDirectory(item.directory, item.base);\n        }\n    }\n    _handleDirectory(directory, base) {\n        try {\n            const entries = this._scandir(directory, this._settings.fsScandirSettings);\n            for (const entry of entries) {\n                this._handleEntry(entry, base);\n            }\n        }\n        catch (error) {\n            this._handleError(error);\n        }\n    }\n    _handleError(error) {\n        if (!common.isFatalError(this._settings, error)) {\n            return;\n        }\n        throw error;\n    }\n    _handleEntry(entry, base) {\n        const fullpath = entry.path;\n        if (base !== undefined) {\n            entry.path = common.joinPathSegments(base, entry.name, this._settings.pathSegmentSeparator);\n        }\n        if (common.isAppliedFilter(this._settings.entryFilter, entry)) {\n            this._pushToStorage(entry);\n        }\n        if (entry.dirent.isDirectory() && common.isAppliedFilter(this._settings.deepFilter, entry)) {\n            this._pushToQueue(fullpath, base === undefined ? undefined : entry.path);\n        }\n    }\n    _pushToStorage(entry) {\n        this._storage.push(entry);\n    }\n}\nexports.default = SyncReader;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst sync_1 = require(\"../readers/sync\");\nclass SyncProvider {\n    constructor(_root, _settings) {\n        this._root = _root;\n        this._settings = _settings;\n        this._reader = new sync_1.default(this._root, this._settings);\n    }\n    read() {\n        return this._reader.read();\n    }\n}\nexports.default = SyncProvider;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst path = require(\"path\");\nconst fsScandir = require(\"@nodelib/fs.scandir\");\nclass Settings {\n    constructor(_options = {}) {\n        this._options = _options;\n        this.basePath = this._getValue(this._options.basePath, undefined);\n        this.concurrency = this._getValue(this._options.concurrency, Number.POSITIVE_INFINITY);\n        this.deepFilter = this._getValue(this._options.deepFilter, null);\n        this.entryFilter = this._getValue(this._options.entryFilter, null);\n        this.errorFilter = this._getValue(this._options.errorFilter, null);\n        this.pathSegmentSeparator = this._getValue(this._options.pathSegmentSeparator, path.sep);\n        this.fsScandirSettings = new fsScandir.Settings({\n            followSymbolicLinks: this._options.followSymbolicLinks,\n            fs: this._options.fs,\n            pathSegmentSeparator: this._options.pathSegmentSeparator,\n            stats: this._options.stats,\n            throwErrorOnBrokenSymbolicLink: this._options.throwErrorOnBrokenSymbolicLink\n        });\n    }\n    _getValue(option, value) {\n        return option !== null && option !== void 0 ? option : value;\n    }\n}\nexports.default = Settings;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Settings = exports.walkStream = exports.walkSync = exports.walk = void 0;\nconst async_1 = require(\"./providers/async\");\nconst stream_1 = require(\"./providers/stream\");\nconst sync_1 = require(\"./providers/sync\");\nconst settings_1 = require(\"./settings\");\nexports.Settings = settings_1.default;\nfunction walk(directory, optionsOrSettingsOrCallback, callback) {\n    if (typeof optionsOrSettingsOrCallback === 'function') {\n        new async_1.default(directory, getSettings()).read(optionsOrSettingsOrCallback);\n        return;\n    }\n    new async_1.default(directory, getSettings(optionsOrSettingsOrCallback)).read(callback);\n}\nexports.walk = walk;\nfunction walkSync(directory, optionsOrSettings) {\n    const settings = getSettings(optionsOrSettings);\n    const provider = new sync_1.default(directory, settings);\n    return provider.read();\n}\nexports.walkSync = walkSync;\nfunction walkStream(directory, optionsOrSettings) {\n    const settings = getSettings(optionsOrSettings);\n    const provider = new stream_1.default(directory, settings);\n    return provider.read();\n}\nexports.walkStream = walkStream;\nfunction getSettings(settingsOrOptions = {}) {\n    if (settingsOrOptions instanceof settings_1.default) {\n        return settingsOrOptions;\n    }\n    return new settings_1.default(settingsOrOptions);\n}\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst path = require(\"path\");\r\nconst fsStat = require(\"@nodelib/fs.stat\");\r\nconst utils = require(\"../utils\");\r\nclass Reader {\r\n    constructor(_settings) {\r\n        this._settings = _settings;\r\n        this._fsStatSettings = new fsStat.Settings({\r\n            followSymbolicLink: this._settings.followSymbolicLinks,\r\n            fs: this._settings.fs,\r\n            throwErrorOnBrokenSymbolicLink: this._settings.followSymbolicLinks\r\n        });\r\n    }\r\n    _getFullEntryPath(filepath) {\r\n        return path.resolve(this._settings.cwd, filepath);\r\n    }\r\n    _makeEntry(stats, pattern) {\r\n        const entry = {\r\n            name: pattern,\r\n            path: pattern,\r\n            dirent: utils.fs.createDirentFromStats(pattern, stats)\r\n        };\r\n        if (this._settings.stats) {\r\n            entry.stats = stats;\r\n        }\r\n        return entry;\r\n    }\r\n    _isFatalError(error) {\r\n        return !utils.errno.isEnoentCodeError(error) && !this._settings.suppressErrors;\r\n    }\r\n}\r\nexports.default = Reader;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst stream_1 = require(\"stream\");\r\nconst fsStat = require(\"@nodelib/fs.stat\");\r\nconst fsWalk = require(\"@nodelib/fs.walk\");\r\nconst reader_1 = require(\"./reader\");\r\nclass ReaderStream extends reader_1.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._walkStream = fsWalk.walkStream;\r\n        this._stat = fsStat.stat;\r\n    }\r\n    dynamic(root, options) {\r\n        return this._walkStream(root, options);\r\n    }\r\n    static(patterns, options) {\r\n        const filepaths = patterns.map(this._getFullEntryPath, this);\r\n        const stream = new stream_1.PassThrough({ objectMode: true });\r\n        stream._write = (index, _enc, done) => {\r\n            return this._getEntry(filepaths[index], patterns[index], options)\r\n                .then((entry) => {\r\n                if (entry !== null && options.entryFilter(entry)) {\r\n                    stream.push(entry);\r\n                }\r\n                if (index === filepaths.length - 1) {\r\n                    stream.end();\r\n                }\r\n                done();\r\n            })\r\n                .catch(done);\r\n        };\r\n        for (let i = 0; i < filepaths.length; i++) {\r\n            stream.write(i);\r\n        }\r\n        return stream;\r\n    }\r\n    _getEntry(filepath, pattern, options) {\r\n        return this._getStat(filepath)\r\n            .then((stats) => this._makeEntry(stats, pattern))\r\n            .catch((error) => {\r\n            if (options.errorFilter(error)) {\r\n                return null;\r\n            }\r\n            throw error;\r\n        });\r\n    }\r\n    _getStat(filepath) {\r\n        return new Promise((resolve, reject) => {\r\n            this._stat(filepath, this._fsStatSettings, (error, stats) => {\r\n                return error === null ? resolve(stats) : reject(error);\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.default = ReaderStream;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst fsWalk = require(\"@nodelib/fs.walk\");\r\nconst reader_1 = require(\"./reader\");\r\nconst stream_1 = require(\"./stream\");\r\nclass ReaderAsync extends reader_1.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._walkAsync = fsWalk.walk;\r\n        this._readerStream = new stream_1.default(this._settings);\r\n    }\r\n    dynamic(root, options) {\r\n        return new Promise((resolve, reject) => {\r\n            this._walkAsync(root, options, (error, entries) => {\r\n                if (error === null) {\r\n                    resolve(entries);\r\n                }\r\n                else {\r\n                    reject(error);\r\n                }\r\n            });\r\n        });\r\n    }\r\n    async static(patterns, options) {\r\n        const entries = [];\r\n        const stream = this._readerStream.static(patterns, options);\r\n        // After #235, replace it with an asynchronous iterator.\r\n        return new Promise((resolve, reject) => {\r\n            stream.once('error', reject);\r\n            stream.on('data', (entry) => entries.push(entry));\r\n            stream.once('end', () => resolve(entries));\r\n        });\r\n    }\r\n}\r\nexports.default = ReaderAsync;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst utils = require(\"../../utils\");\r\nclass Matcher {\r\n    constructor(_patterns, _settings, _micromatchOptions) {\r\n        this._patterns = _patterns;\r\n        this._settings = _settings;\r\n        this._micromatchOptions = _micromatchOptions;\r\n        this._storage = [];\r\n        this._fillStorage();\r\n    }\r\n    _fillStorage() {\r\n        /**\r\n         * The original pattern may include `{,*,**,a/*}`, which will lead to problems with matching (unresolved level).\r\n         * So, before expand patterns with brace expansion into separated patterns.\r\n         */\r\n        const patterns = utils.pattern.expandPatternsWithBraceExpansion(this._patterns);\r\n        for (const pattern of patterns) {\r\n            const segments = this._getPatternSegments(pattern);\r\n            const sections = this._splitSegmentsIntoSections(segments);\r\n            this._storage.push({\r\n                complete: sections.length <= 1,\r\n                pattern,\r\n                segments,\r\n                sections\r\n            });\r\n        }\r\n    }\r\n    _getPatternSegments(pattern) {\r\n        const parts = utils.pattern.getPatternParts(pattern, this._micromatchOptions);\r\n        return parts.map((part) => {\r\n            const dynamic = utils.pattern.isDynamicPattern(part, this._settings);\r\n            if (!dynamic) {\r\n                return {\r\n                    dynamic: false,\r\n                    pattern: part\r\n                };\r\n            }\r\n            return {\r\n                dynamic: true,\r\n                pattern: part,\r\n                patternRe: utils.pattern.makeRe(part, this._micromatchOptions)\r\n            };\r\n        });\r\n    }\r\n    _splitSegmentsIntoSections(segments) {\r\n        return utils.array.splitWhen(segments, (segment) => segment.dynamic && utils.pattern.hasGlobStar(segment.pattern));\r\n    }\r\n}\r\nexports.default = Matcher;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst matcher_1 = require(\"./matcher\");\r\nclass PartialMatcher extends matcher_1.default {\r\n    match(filepath) {\r\n        const parts = filepath.split('/');\r\n        const levels = parts.length;\r\n        const patterns = this._storage.filter((info) => !info.complete || info.segments.length > levels);\r\n        for (const pattern of patterns) {\r\n            const section = pattern.sections[0];\r\n            /**\r\n             * In this case, the pattern has a globstar and we must read all directories unconditionally,\r\n             * but only if the level has reached the end of the first group.\r\n             *\r\n             * fixtures/{a,b}/**\r\n             *  ^ true/false  ^ always true\r\n            */\r\n            if (!pattern.complete && levels > section.length) {\r\n                return true;\r\n            }\r\n            const match = parts.every((part, index) => {\r\n                const segment = pattern.segments[index];\r\n                if (segment.dynamic && segment.patternRe.test(part)) {\r\n                    return true;\r\n                }\r\n                if (!segment.dynamic && segment.pattern === part) {\r\n                    return true;\r\n                }\r\n                return false;\r\n            });\r\n            if (match) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\nexports.default = PartialMatcher;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst utils = require(\"../../utils\");\r\nconst partial_1 = require(\"../matchers/partial\");\r\nclass DeepFilter {\r\n    constructor(_settings, _micromatchOptions) {\r\n        this._settings = _settings;\r\n        this._micromatchOptions = _micromatchOptions;\r\n    }\r\n    getFilter(basePath, positive, negative) {\r\n        const matcher = this._getMatcher(positive);\r\n        const negativeRe = this._getNegativePatternsRe(negative);\r\n        return (entry) => this._filter(basePath, entry, matcher, negativeRe);\r\n    }\r\n    _getMatcher(patterns) {\r\n        return new partial_1.default(patterns, this._settings, this._micromatchOptions);\r\n    }\r\n    _getNegativePatternsRe(patterns) {\r\n        const affectDepthOfReadingPatterns = patterns.filter(utils.pattern.isAffectDepthOfReadingPattern);\r\n        return utils.pattern.convertPatternsToRe(affectDepthOfReadingPatterns, this._micromatchOptions);\r\n    }\r\n    _filter(basePath, entry, matcher, negativeRe) {\r\n        if (this._isSkippedByDeep(basePath, entry.path)) {\r\n            return false;\r\n        }\r\n        if (this._isSkippedSymbolicLink(entry)) {\r\n            return false;\r\n        }\r\n        const filepath = utils.path.removeLeadingDotSegment(entry.path);\r\n        if (this._isSkippedByPositivePatterns(filepath, matcher)) {\r\n            return false;\r\n        }\r\n        return this._isSkippedByNegativePatterns(filepath, negativeRe);\r\n    }\r\n    _isSkippedByDeep(basePath, entryPath) {\r\n        /**\r\n         * Avoid unnecessary depth calculations when it doesn't matter.\r\n         */\r\n        if (this._settings.deep === Infinity) {\r\n            return false;\r\n        }\r\n        return this._getEntryLevel(basePath, entryPath) >= this._settings.deep;\r\n    }\r\n    _getEntryLevel(basePath, entryPath) {\r\n        const entryPathDepth = entryPath.split('/').length;\r\n        if (basePath === '') {\r\n            return entryPathDepth;\r\n        }\r\n        const basePathDepth = basePath.split('/').length;\r\n        return entryPathDepth - basePathDepth;\r\n    }\r\n    _isSkippedSymbolicLink(entry) {\r\n        return !this._settings.followSymbolicLinks && entry.dirent.isSymbolicLink();\r\n    }\r\n    _isSkippedByPositivePatterns(entryPath, matcher) {\r\n        return !this._settings.baseNameMatch && !matcher.match(entryPath);\r\n    }\r\n    _isSkippedByNegativePatterns(entryPath, patternsRe) {\r\n        return !utils.pattern.matchAny(entryPath, patternsRe);\r\n    }\r\n}\r\nexports.default = DeepFilter;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst utils = require(\"../../utils\");\r\nclass EntryFilter {\r\n    constructor(_settings, _micromatchOptions) {\r\n        this._settings = _settings;\r\n        this._micromatchOptions = _micromatchOptions;\r\n        this.index = new Map();\r\n    }\r\n    getFilter(positive, negative) {\r\n        const positiveRe = utils.pattern.convertPatternsToRe(positive, this._micromatchOptions);\r\n        const negativeRe = utils.pattern.convertPatternsToRe(negative, this._micromatchOptions);\r\n        return (entry) => this._filter(entry, positiveRe, negativeRe);\r\n    }\r\n    _filter(entry, positiveRe, negativeRe) {\r\n        if (this._settings.unique && this._isDuplicateEntry(entry)) {\r\n            return false;\r\n        }\r\n        if (this._onlyFileFilter(entry) || this._onlyDirectoryFilter(entry)) {\r\n            return false;\r\n        }\r\n        if (this._isSkippedByAbsoluteNegativePatterns(entry.path, negativeRe)) {\r\n            return false;\r\n        }\r\n        const filepath = this._settings.baseNameMatch ? entry.name : entry.path;\r\n        const isDirectory = entry.dirent.isDirectory();\r\n        const isMatched = this._isMatchToPatterns(filepath, positiveRe, isDirectory) && !this._isMatchToPatterns(entry.path, negativeRe, isDirectory);\r\n        if (this._settings.unique && isMatched) {\r\n            this._createIndexRecord(entry);\r\n        }\r\n        return isMatched;\r\n    }\r\n    _isDuplicateEntry(entry) {\r\n        return this.index.has(entry.path);\r\n    }\r\n    _createIndexRecord(entry) {\r\n        this.index.set(entry.path, undefined);\r\n    }\r\n    _onlyFileFilter(entry) {\r\n        return this._settings.onlyFiles && !entry.dirent.isFile();\r\n    }\r\n    _onlyDirectoryFilter(entry) {\r\n        return this._settings.onlyDirectories && !entry.dirent.isDirectory();\r\n    }\r\n    _isSkippedByAbsoluteNegativePatterns(entryPath, patternsRe) {\r\n        if (!this._settings.absolute) {\r\n            return false;\r\n        }\r\n        const fullpath = utils.path.makeAbsolute(this._settings.cwd, entryPath);\r\n        return utils.pattern.matchAny(fullpath, patternsRe);\r\n    }\r\n    _isMatchToPatterns(entryPath, patternsRe, isDirectory) {\r\n        const filepath = utils.path.removeLeadingDotSegment(entryPath);\r\n        // Trying to match files and directories by patterns.\r\n        const isMatched = utils.pattern.matchAny(filepath, patternsRe);\r\n        // A pattern with a trailling slash can be used for directory matching.\r\n        // To apply such pattern, we need to add a tralling slash to the path.\r\n        if (!isMatched && isDirectory) {\r\n            return utils.pattern.matchAny(filepath + '/', patternsRe);\r\n        }\r\n        return isMatched;\r\n    }\r\n}\r\nexports.default = EntryFilter;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst utils = require(\"../../utils\");\r\nclass ErrorFilter {\r\n    constructor(_settings) {\r\n        this._settings = _settings;\r\n    }\r\n    getFilter() {\r\n        return (error) => this._isNonFatalError(error);\r\n    }\r\n    _isNonFatalError(error) {\r\n        return utils.errno.isEnoentCodeError(error) || this._settings.suppressErrors;\r\n    }\r\n}\r\nexports.default = ErrorFilter;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst utils = require(\"../../utils\");\r\nclass EntryTransformer {\r\n    constructor(_settings) {\r\n        this._settings = _settings;\r\n    }\r\n    getTransformer() {\r\n        return (entry) => this._transform(entry);\r\n    }\r\n    _transform(entry) {\r\n        let filepath = entry.path;\r\n        if (this._settings.absolute) {\r\n            filepath = utils.path.makeAbsolute(this._settings.cwd, filepath);\r\n            filepath = utils.path.unixify(filepath);\r\n        }\r\n        if (this._settings.markDirectories && entry.dirent.isDirectory()) {\r\n            filepath += '/';\r\n        }\r\n        if (!this._settings.objectMode) {\r\n            return filepath;\r\n        }\r\n        return Object.assign(Object.assign({}, entry), { path: filepath });\r\n    }\r\n}\r\nexports.default = EntryTransformer;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst path = require(\"path\");\r\nconst deep_1 = require(\"./filters/deep\");\r\nconst entry_1 = require(\"./filters/entry\");\r\nconst error_1 = require(\"./filters/error\");\r\nconst entry_2 = require(\"./transformers/entry\");\r\nclass Provider {\r\n    constructor(_settings) {\r\n        this._settings = _settings;\r\n        this.errorFilter = new error_1.default(this._settings);\r\n        this.entryFilter = new entry_1.default(this._settings, this._getMicromatchOptions());\r\n        this.deepFilter = new deep_1.default(this._settings, this._getMicromatchOptions());\r\n        this.entryTransformer = new entry_2.default(this._settings);\r\n    }\r\n    _getRootDirectory(task) {\r\n        return path.resolve(this._settings.cwd, task.base);\r\n    }\r\n    _getReaderOptions(task) {\r\n        const basePath = task.base === '.' ? '' : task.base;\r\n        return {\r\n            basePath,\r\n            pathSegmentSeparator: '/',\r\n            concurrency: this._settings.concurrency,\r\n            deepFilter: this.deepFilter.getFilter(basePath, task.positive, task.negative),\r\n            entryFilter: this.entryFilter.getFilter(task.positive, task.negative),\r\n            errorFilter: this.errorFilter.getFilter(),\r\n            followSymbolicLinks: this._settings.followSymbolicLinks,\r\n            fs: this._settings.fs,\r\n            stats: this._settings.stats,\r\n            throwErrorOnBrokenSymbolicLink: this._settings.throwErrorOnBrokenSymbolicLink,\r\n            transform: this.entryTransformer.getTransformer()\r\n        };\r\n    }\r\n    _getMicromatchOptions() {\r\n        return {\r\n            dot: this._settings.dot,\r\n            matchBase: this._settings.baseNameMatch,\r\n            nobrace: !this._settings.braceExpansion,\r\n            nocase: !this._settings.caseSensitiveMatch,\r\n            noext: !this._settings.extglob,\r\n            noglobstar: !this._settings.globstar,\r\n            posix: true,\r\n            strictSlashes: false\r\n        };\r\n    }\r\n}\r\nexports.default = Provider;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst async_1 = require(\"../readers/async\");\r\nconst provider_1 = require(\"./provider\");\r\nclass ProviderAsync extends provider_1.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._reader = new async_1.default(this._settings);\r\n    }\r\n    async read(task) {\r\n        const root = this._getRootDirectory(task);\r\n        const options = this._getReaderOptions(task);\r\n        const entries = await this.api(root, task, options);\r\n        return entries.map((entry) => options.transform(entry));\r\n    }\r\n    api(root, task, options) {\r\n        if (task.dynamic) {\r\n            return this._reader.dynamic(root, options);\r\n        }\r\n        return this._reader.static(task.patterns, options);\r\n    }\r\n}\r\nexports.default = ProviderAsync;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst stream_1 = require(\"stream\");\r\nconst stream_2 = require(\"../readers/stream\");\r\nconst provider_1 = require(\"./provider\");\r\nclass ProviderStream extends provider_1.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._reader = new stream_2.default(this._settings);\r\n    }\r\n    read(task) {\r\n        const root = this._getRootDirectory(task);\r\n        const options = this._getReaderOptions(task);\r\n        const source = this.api(root, task, options);\r\n        const destination = new stream_1.Readable({ objectMode: true, read: () => { } });\r\n        source\r\n            .once('error', (error) => destination.emit('error', error))\r\n            .on('data', (entry) => destination.emit('data', options.transform(entry)))\r\n            .once('end', () => destination.emit('end'));\r\n        destination\r\n            .once('close', () => source.destroy());\r\n        return destination;\r\n    }\r\n    api(root, task, options) {\r\n        if (task.dynamic) {\r\n            return this._reader.dynamic(root, options);\r\n        }\r\n        return this._reader.static(task.patterns, options);\r\n    }\r\n}\r\nexports.default = ProviderStream;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst fsStat = require(\"@nodelib/fs.stat\");\r\nconst fsWalk = require(\"@nodelib/fs.walk\");\r\nconst reader_1 = require(\"./reader\");\r\nclass ReaderSync extends reader_1.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._walkSync = fsWalk.walkSync;\r\n        this._statSync = fsStat.statSync;\r\n    }\r\n    dynamic(root, options) {\r\n        return this._walkSync(root, options);\r\n    }\r\n    static(patterns, options) {\r\n        const entries = [];\r\n        for (const pattern of patterns) {\r\n            const filepath = this._getFullEntryPath(pattern);\r\n            const entry = this._getEntry(filepath, pattern, options);\r\n            if (entry === null || !options.entryFilter(entry)) {\r\n                continue;\r\n            }\r\n            entries.push(entry);\r\n        }\r\n        return entries;\r\n    }\r\n    _getEntry(filepath, pattern, options) {\r\n        try {\r\n            const stats = this._getStat(filepath);\r\n            return this._makeEntry(stats, pattern);\r\n        }\r\n        catch (error) {\r\n            if (options.errorFilter(error)) {\r\n                return null;\r\n            }\r\n            throw error;\r\n        }\r\n    }\r\n    _getStat(filepath) {\r\n        return this._statSync(filepath, this._fsStatSettings);\r\n    }\r\n}\r\nexports.default = ReaderSync;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst sync_1 = require(\"../readers/sync\");\r\nconst provider_1 = require(\"./provider\");\r\nclass ProviderSync extends provider_1.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._reader = new sync_1.default(this._settings);\r\n    }\r\n    read(task) {\r\n        const root = this._getRootDirectory(task);\r\n        const options = this._getReaderOptions(task);\r\n        const entries = this.api(root, task, options);\r\n        return entries.map(options.transform);\r\n    }\r\n    api(root, task, options) {\r\n        if (task.dynamic) {\r\n            return this._reader.dynamic(root, options);\r\n        }\r\n        return this._reader.static(task.patterns, options);\r\n    }\r\n}\r\nexports.default = ProviderSync;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DEFAULT_FILE_SYSTEM_ADAPTER = void 0;\r\nconst fs = require(\"fs\");\r\nconst os = require(\"os\");\r\n/**\r\n * The `os.cpus` method can return zero. We expect the number of cores to be greater than zero.\r\n * https://github.com/nodejs/node/blob/7faeddf23a98c53896f8b574a6e66589e8fb1eb8/lib/os.js#L106-L107\r\n */\r\nconst CPU_COUNT = Math.max(os.cpus().length, 1);\r\nexports.DEFAULT_FILE_SYSTEM_ADAPTER = {\r\n    lstat: fs.lstat,\r\n    lstatSync: fs.lstatSync,\r\n    stat: fs.stat,\r\n    statSync: fs.statSync,\r\n    readdir: fs.readdir,\r\n    readdirSync: fs.readdirSync\r\n};\r\nclass Settings {\r\n    constructor(_options = {}) {\r\n        this._options = _options;\r\n        this.absolute = this._getValue(this._options.absolute, false);\r\n        this.baseNameMatch = this._getValue(this._options.baseNameMatch, false);\r\n        this.braceExpansion = this._getValue(this._options.braceExpansion, true);\r\n        this.caseSensitiveMatch = this._getValue(this._options.caseSensitiveMatch, true);\r\n        this.concurrency = this._getValue(this._options.concurrency, CPU_COUNT);\r\n        this.cwd = this._getValue(this._options.cwd, process.cwd());\r\n        this.deep = this._getValue(this._options.deep, Infinity);\r\n        this.dot = this._getValue(this._options.dot, false);\r\n        this.extglob = this._getValue(this._options.extglob, true);\r\n        this.followSymbolicLinks = this._getValue(this._options.followSymbolicLinks, true);\r\n        this.fs = this._getFileSystemMethods(this._options.fs);\r\n        this.globstar = this._getValue(this._options.globstar, true);\r\n        this.ignore = this._getValue(this._options.ignore, []);\r\n        this.markDirectories = this._getValue(this._options.markDirectories, false);\r\n        this.objectMode = this._getValue(this._options.objectMode, false);\r\n        this.onlyDirectories = this._getValue(this._options.onlyDirectories, false);\r\n        this.onlyFiles = this._getValue(this._options.onlyFiles, true);\r\n        this.stats = this._getValue(this._options.stats, false);\r\n        this.suppressErrors = this._getValue(this._options.suppressErrors, false);\r\n        this.throwErrorOnBrokenSymbolicLink = this._getValue(this._options.throwErrorOnBrokenSymbolicLink, false);\r\n        this.unique = this._getValue(this._options.unique, true);\r\n        if (this.onlyDirectories) {\r\n            this.onlyFiles = false;\r\n        }\r\n        if (this.stats) {\r\n            this.objectMode = true;\r\n        }\r\n    }\r\n    _getValue(option, value) {\r\n        return option === undefined ? value : option;\r\n    }\r\n    _getFileSystemMethods(methods = {}) {\r\n        return Object.assign(Object.assign({}, exports.DEFAULT_FILE_SYSTEM_ADAPTER), methods);\r\n    }\r\n}\r\nexports.default = Settings;\r\n", "\"use strict\";\r\nconst taskManager = require(\"./managers/tasks\");\r\nconst patternManager = require(\"./managers/patterns\");\r\nconst async_1 = require(\"./providers/async\");\r\nconst stream_1 = require(\"./providers/stream\");\r\nconst sync_1 = require(\"./providers/sync\");\r\nconst settings_1 = require(\"./settings\");\r\nconst utils = require(\"./utils\");\r\nasync function FastGlob(source, options) {\r\n    assertPatternsInput(source);\r\n    const works = getWorks(source, async_1.default, options);\r\n    const result = await Promise.all(works);\r\n    return utils.array.flatten(result);\r\n}\r\n// https://github.com/typescript-eslint/typescript-eslint/issues/60\r\n// eslint-disable-next-line no-redeclare\r\n(function (FastGlob) {\r\n    function sync(source, options) {\r\n        assertPatternsInput(source);\r\n        const works = getWorks(source, sync_1.default, options);\r\n        return utils.array.flatten(works);\r\n    }\r\n    FastGlob.sync = sync;\r\n    function stream(source, options) {\r\n        assertPatternsInput(source);\r\n        const works = getWorks(source, stream_1.default, options);\r\n        /**\r\n         * The stream returned by the provider cannot work with an asynchronous iterator.\r\n         * To support asynchronous iterators, regardless of the number of tasks, we always multiplex streams.\r\n         * This affects performance (+25%). I don't see best solution right now.\r\n         */\r\n        return utils.stream.merge(works);\r\n    }\r\n    FastGlob.stream = stream;\r\n    function generateTasks(source, options) {\r\n        assertPatternsInput(source);\r\n        const patterns = patternManager.transform([].concat(source));\r\n        const settings = new settings_1.default(options);\r\n        return taskManager.generate(patterns, settings);\r\n    }\r\n    FastGlob.generateTasks = generateTasks;\r\n    function isDynamicPattern(source, options) {\r\n        assertPatternsInput(source);\r\n        const settings = new settings_1.default(options);\r\n        return utils.pattern.isDynamicPattern(source, settings);\r\n    }\r\n    FastGlob.isDynamicPattern = isDynamicPattern;\r\n    function escapePath(source) {\r\n        assertPatternsInput(source);\r\n        return utils.path.escape(source);\r\n    }\r\n    FastGlob.escapePath = escapePath;\r\n})(FastGlob || (FastGlob = {}));\r\nfunction getWorks(source, _Provider, options) {\r\n    const patterns = patternManager.transform([].concat(source));\r\n    const settings = new settings_1.default(options);\r\n    const tasks = taskManager.generate(patterns, settings);\r\n    const provider = new _Provider(settings);\r\n    return tasks.map(provider.read, provider);\r\n}\r\nfunction assertPatternsInput(input) {\r\n    const source = [].concat(input);\r\n    const isValidSource = source.every((item) => utils.string.isString(item) && !utils.string.isEmpty(item));\r\n    if (!isValidSource) {\r\n        throw new TypeError('Patterns must be a string (non empty) or an array of strings');\r\n    }\r\n}\r\nmodule.exports = FastGlob;\r\n", "'use strict';\nconst {promisify} = require('util');\nconst fs = require('fs');\n\nasync function isType(fsStatType, statsMethodName, filePath) {\n\tif (typeof filePath !== 'string') {\n\t\tthrow new TypeError(`Expected a string, got ${typeof filePath}`);\n\t}\n\n\ttry {\n\t\tconst stats = await promisify(fs[fsStatType])(filePath);\n\t\treturn stats[statsMethodName]();\n\t} catch (error) {\n\t\tif (error.code === 'ENOENT') {\n\t\t\treturn false;\n\t\t}\n\n\t\tthrow error;\n\t}\n}\n\nfunction isTypeSync(fsStatType, statsMethodName, filePath) {\n\tif (typeof filePath !== 'string') {\n\t\tthrow new TypeError(`Expected a string, got ${typeof filePath}`);\n\t}\n\n\ttry {\n\t\treturn fs[fsStatType](filePath)[statsMethodName]();\n\t} catch (error) {\n\t\tif (error.code === 'ENOENT') {\n\t\t\treturn false;\n\t\t}\n\n\t\tthrow error;\n\t}\n}\n\nexports.isFile = isType.bind(null, 'stat', 'isFile');\nexports.isDirectory = isType.bind(null, 'stat', 'isDirectory');\nexports.isSymlink = isType.bind(null, 'lstat', 'isSymbolicLink');\nexports.isFileSync = isTypeSync.bind(null, 'statSync', 'isFile');\nexports.isDirectorySync = isTypeSync.bind(null, 'statSync', 'isDirectory');\nexports.isSymlinkSync = isTypeSync.bind(null, 'lstatSync', 'isSymbolicLink');\n", "'use strict';\nconst path = require('path');\nconst pathType = require('path-type');\n\nconst getExtensions = extensions => extensions.length > 1 ? `{${extensions.join(',')}}` : extensions[0];\n\nconst getPath = (filepath, cwd) => {\n\tconst pth = filepath[0] === '!' ? filepath.slice(1) : filepath;\n\treturn path.isAbsolute(pth) ? pth : path.join(cwd, pth);\n};\n\nconst addExtensions = (file, extensions) => {\n\tif (path.extname(file)) {\n\t\treturn `**/${file}`;\n\t}\n\n\treturn `**/${file}.${getExtensions(extensions)}`;\n};\n\nconst getGlob = (directory, options) => {\n\tif (options.files && !Array.isArray(options.files)) {\n\t\tthrow new TypeError(`Expected \\`files\\` to be of type \\`Array\\` but received type \\`${typeof options.files}\\``);\n\t}\n\n\tif (options.extensions && !Array.isArray(options.extensions)) {\n\t\tthrow new TypeError(`Expected \\`extensions\\` to be of type \\`Array\\` but received type \\`${typeof options.extensions}\\``);\n\t}\n\n\tif (options.files && options.extensions) {\n\t\treturn options.files.map(x => path.posix.join(directory, addExtensions(x, options.extensions)));\n\t}\n\n\tif (options.files) {\n\t\treturn options.files.map(x => path.posix.join(directory, `**/${x}`));\n\t}\n\n\tif (options.extensions) {\n\t\treturn [path.posix.join(directory, `**/*.${getExtensions(options.extensions)}`)];\n\t}\n\n\treturn [path.posix.join(directory, '**')];\n};\n\nmodule.exports = async (input, options) => {\n\toptions = {\n\t\tcwd: process.cwd(),\n\t\t...options\n\t};\n\n\tif (typeof options.cwd !== 'string') {\n\t\tthrow new TypeError(`Expected \\`cwd\\` to be of type \\`string\\` but received type \\`${typeof options.cwd}\\``);\n\t}\n\n\tconst globs = await Promise.all([].concat(input).map(async x => {\n\t\tconst isDirectory = await pathType.isDirectory(getPath(x, options.cwd));\n\t\treturn isDirectory ? getGlob(x, options) : x;\n\t}));\n\n\treturn [].concat.apply([], globs); // eslint-disable-line prefer-spread\n};\n\nmodule.exports.sync = (input, options) => {\n\toptions = {\n\t\tcwd: process.cwd(),\n\t\t...options\n\t};\n\n\tif (typeof options.cwd !== 'string') {\n\t\tthrow new TypeError(`Expected \\`cwd\\` to be of type \\`string\\` but received type \\`${typeof options.cwd}\\``);\n\t}\n\n\tconst globs = [].concat(input).map(x => pathType.isDirectorySync(getPath(x, options.cwd)) ? getGlob(x, options) : x);\n\n\treturn [].concat.apply([], globs); // eslint-disable-line prefer-spread\n};\n", "// A simple implementation of make-array\nfunction makeArray (subject) {\n  return Array.isArray(subject)\n    ? subject\n    : [subject]\n}\n\nconst EMPTY = ''\nconst SPACE = ' '\nconst ESCAPE = '\\\\'\nconst REGEX_TEST_BLANK_LINE = /^\\s+$/\nconst REGEX_REPLACE_LEADING_EXCAPED_EXCLAMATION = /^\\\\!/\nconst REGEX_REPLACE_LEADING_EXCAPED_HASH = /^\\\\#/\nconst REGEX_SPLITALL_CRLF = /\\r?\\n/g\n// /foo,\n// ./foo,\n// ../foo,\n// .\n// ..\nconst REGEX_TEST_INVALID_PATH = /^\\.*\\/|^\\.+$/\n\nconst SLASH = '/'\nconst KEY_IGNORE = typeof Symbol !== 'undefined'\n  ? Symbol.for('node-ignore')\n  /* istanbul ignore next */\n  : 'node-ignore'\n\nconst define = (object, key, value) =>\n  Object.defineProperty(object, key, {value})\n\nconst REGEX_REGEXP_RANGE = /([0-z])-([0-z])/g\n\nconst RETURN_FALSE = () => false\n\n// Sanitize the range of a regular expression\n// The cases are complicated, see test cases for details\nconst sanitizeRange = range => range.replace(\n  REGEX_REGEXP_RANGE,\n  (match, from, to) => from.charCodeAt(0) <= to.charCodeAt(0)\n    ? match\n    // Invalid range (out of order) which is ok for gitignore rules but\n    //   fatal for JavaScript regular expression, so eliminate it.\n    : EMPTY\n)\n\n// See fixtures #59\nconst cleanRangeBackSlash = slashes => {\n  const {length} = slashes\n  return slashes.slice(0, length - length % 2)\n}\n\n// > If the pattern ends with a slash,\n// > it is removed for the purpose of the following description,\n// > but it would only find a match with a directory.\n// > In other words, foo/ will match a directory foo and paths underneath it,\n// > but will not match a regular file or a symbolic link foo\n// >  (this is consistent with the way how pathspec works in general in Git).\n// '`foo/`' will not match regular file '`foo`' or symbolic link '`foo`'\n// -> ignore-rules will not deal with it, because it costs extra `fs.stat` call\n//      you could use option `mark: true` with `glob`\n\n// '`foo/`' should not continue with the '`..`'\nconst REPLACERS = [\n\n  // > Trailing spaces are ignored unless they are quoted with backslash (\"\\\")\n  [\n    // (a\\ ) -> (a )\n    // (a  ) -> (a)\n    // (a \\ ) -> (a  )\n    /\\\\?\\s+$/,\n    match => match.indexOf('\\\\') === 0\n      ? SPACE\n      : EMPTY\n  ],\n\n  // replace (\\ ) with ' '\n  [\n    /\\\\\\s/g,\n    () => SPACE\n  ],\n\n  // Escape metacharacters\n  // which is written down by users but means special for regular expressions.\n\n  // > There are 12 characters with special meanings:\n  // > - the backslash \\,\n  // > - the caret ^,\n  // > - the dollar sign $,\n  // > - the period or dot .,\n  // > - the vertical bar or pipe symbol |,\n  // > - the question mark ?,\n  // > - the asterisk or star *,\n  // > - the plus sign +,\n  // > - the opening parenthesis (,\n  // > - the closing parenthesis ),\n  // > - and the opening square bracket [,\n  // > - the opening curly brace {,\n  // > These special characters are often called \"metacharacters\".\n  [\n    /[\\\\$.|*+(){^]/g,\n    match => `\\\\${match}`\n  ],\n\n  [\n    // > a question mark (?) matches a single character\n    /(?!\\\\)\\?/g,\n    () => '[^/]'\n  ],\n\n  // leading slash\n  [\n\n    // > A leading slash matches the beginning of the pathname.\n    // > For example, \"/*.c\" matches \"cat-file.c\" but not \"mozilla-sha1/sha1.c\".\n    // A leading slash matches the beginning of the pathname\n    /^\\//,\n    () => '^'\n  ],\n\n  // replace special metacharacter slash after the leading slash\n  [\n    /\\//g,\n    () => '\\\\/'\n  ],\n\n  [\n    // > A leading \"**\" followed by a slash means match in all directories.\n    // > For example, \"**/foo\" matches file or directory \"foo\" anywhere,\n    // > the same as pattern \"foo\".\n    // > \"**/foo/bar\" matches file or directory \"bar\" anywhere that is directly\n    // >   under directory \"foo\".\n    // Notice that the '*'s have been replaced as '\\\\*'\n    /^\\^*\\\\\\*\\\\\\*\\\\\\//,\n\n    // '**/foo' <-> 'foo'\n    () => '^(?:.*\\\\/)?'\n  ],\n\n  // starting\n  [\n    // there will be no leading '/'\n    //   (which has been replaced by section \"leading slash\")\n    // If starts with '**', adding a '^' to the regular expression also works\n    /^(?=[^^])/,\n    function startingReplacer () {\n      // If has a slash `/` at the beginning or middle\n      return !/\\/(?!$)/.test(this)\n        // > Prior to 2.22.1\n        // > If the pattern does not contain a slash /,\n        // >   Git treats it as a shell glob pattern\n        // Actually, if there is only a trailing slash,\n        //   git also treats it as a shell glob pattern\n\n        // After 2.22.1 (compatible but clearer)\n        // > If there is a separator at the beginning or middle (or both)\n        // > of the pattern, then the pattern is relative to the directory\n        // > level of the particular .gitignore file itself.\n        // > Otherwise the pattern may also match at any level below\n        // > the .gitignore level.\n        ? '(?:^|\\\\/)'\n\n        // > Otherwise, Git treats the pattern as a shell glob suitable for\n        // >   consumption by fnmatch(3)\n        : '^'\n    }\n  ],\n\n  // two globstars\n  [\n    // Use lookahead assertions so that we could match more than one `'/**'`\n    /\\\\\\/\\\\\\*\\\\\\*(?=\\\\\\/|$)/g,\n\n    // Zero, one or several directories\n    // should not use '*', or it will be replaced by the next replacer\n\n    // Check if it is not the last `'/**'`\n    (_, index, str) => index + 6 < str.length\n\n      // case: /**/\n      // > A slash followed by two consecutive asterisks then a slash matches\n      // >   zero or more directories.\n      // > For example, \"a/**/b\" matches \"a/b\", \"a/x/b\", \"a/x/y/b\" and so on.\n      // '/**/'\n      ? '(?:\\\\/[^\\\\/]+)*'\n\n      // case: /**\n      // > A trailing `\"/**\"` matches everything inside.\n\n      // #21: everything inside but it should not include the current folder\n      : '\\\\/.+'\n  ],\n\n  // intermediate wildcards\n  [\n    // Never replace escaped '*'\n    // ignore rule '\\*' will match the path '*'\n\n    // 'abc.*/' -> go\n    // 'abc.*'  -> skip this rule\n    /(^|[^\\\\]+)\\\\\\*(?=.+)/g,\n\n    // '*.js' matches '.js'\n    // '*.js' doesn't match 'abc'\n    (_, p1) => `${p1}[^\\\\/]*`\n  ],\n\n  [\n    // unescape, revert step 3 except for back slash\n    // For example, if a user escape a '\\\\*',\n    // after step 3, the result will be '\\\\\\\\\\\\*'\n    /\\\\\\\\\\\\(?=[$.|*+(){^])/g,\n    () => ESCAPE\n  ],\n\n  [\n    // '\\\\\\\\' -> '\\\\'\n    /\\\\\\\\/g,\n    () => ESCAPE\n  ],\n\n  [\n    // > The range notation, e.g. [a-zA-Z],\n    // > can be used to match one of the characters in a range.\n\n    // `\\` is escaped by step 3\n    /(\\\\)?\\[([^\\]/]*?)(\\\\*)($|\\])/g,\n    (match, leadEscape, range, endEscape, close) => leadEscape === ESCAPE\n      // '\\\\[bar]' -> '\\\\\\\\[bar\\\\]'\n      ? `\\\\[${range}${cleanRangeBackSlash(endEscape)}${close}`\n      : close === ']'\n        ? endEscape.length % 2 === 0\n          // A normal case, and it is a range notation\n          // '[bar]'\n          // '[bar\\\\\\\\]'\n          ? `[${sanitizeRange(range)}${endEscape}]`\n          // Invalid range notaton\n          // '[bar\\\\]' -> '[bar\\\\\\\\]'\n          : '[]'\n        : '[]'\n  ],\n\n  // ending\n  [\n    // 'js' will not match 'js.'\n    // 'ab' will not match 'abc'\n    /(?:[^*])$/,\n\n    // WTF!\n    // https://git-scm.com/docs/gitignore\n    // changes in [2.22.1](https://git-scm.com/docs/gitignore/2.22.1)\n    // which re-fixes #24, #38\n\n    // > If there is a separator at the end of the pattern then the pattern\n    // > will only match directories, otherwise the pattern can match both\n    // > files and directories.\n\n    // 'js*' will not match 'a.js'\n    // 'js/' will not match 'a.js'\n    // 'js' will match 'a.js' and 'a.js/'\n    match => /\\/$/.test(match)\n      // foo/ will not match 'foo'\n      ? `${match}$`\n      // foo matches 'foo' and 'foo/'\n      : `${match}(?=$|\\\\/$)`\n  ],\n\n  // trailing wildcard\n  [\n    /(\\^|\\\\\\/)?\\\\\\*$/,\n    (_, p1) => {\n      const prefix = p1\n        // '\\^':\n        // '/*' does not match EMPTY\n        // '/*' does not match everything\n\n        // '\\\\\\/':\n        // 'abc/*' does not match 'abc/'\n        ? `${p1}[^/]+`\n\n        // 'a*' matches 'a'\n        // 'a*' matches 'aa'\n        : '[^/]*'\n\n      return `${prefix}(?=$|\\\\/$)`\n    }\n  ],\n]\n\n// A simple cache, because an ignore rule only has only one certain meaning\nconst regexCache = Object.create(null)\n\n// @param {pattern}\nconst makeRegex = (pattern, ignoreCase) => {\n  let source = regexCache[pattern]\n\n  if (!source) {\n    source = REPLACERS.reduce(\n      (prev, current) => prev.replace(current[0], current[1].bind(pattern)),\n      pattern\n    )\n    regexCache[pattern] = source\n  }\n\n  return ignoreCase\n    ? new RegExp(source, 'i')\n    : new RegExp(source)\n}\n\nconst isString = subject => typeof subject === 'string'\n\n// > A blank line matches no files, so it can serve as a separator for readability.\nconst checkPattern = pattern => pattern\n  && isString(pattern)\n  && !REGEX_TEST_BLANK_LINE.test(pattern)\n\n  // > A line starting with # serves as a comment.\n  && pattern.indexOf('#') !== 0\n\nconst splitPattern = pattern => pattern.split(REGEX_SPLITALL_CRLF)\n\nclass IgnoreRule {\n  constructor (\n    origin,\n    pattern,\n    negative,\n    regex\n  ) {\n    this.origin = origin\n    this.pattern = pattern\n    this.negative = negative\n    this.regex = regex\n  }\n}\n\nconst createRule = (pattern, ignoreCase) => {\n  const origin = pattern\n  let negative = false\n\n  // > An optional prefix \"!\" which negates the pattern;\n  if (pattern.indexOf('!') === 0) {\n    negative = true\n    pattern = pattern.substr(1)\n  }\n\n  pattern = pattern\n  // > Put a backslash (\"\\\") in front of the first \"!\" for patterns that\n  // >   begin with a literal \"!\", for example, `\"\\!important!.txt\"`.\n  .replace(REGEX_REPLACE_LEADING_EXCAPED_EXCLAMATION, '!')\n  // > Put a backslash (\"\\\") in front of the first hash for patterns that\n  // >   begin with a hash.\n  .replace(REGEX_REPLACE_LEADING_EXCAPED_HASH, '#')\n\n  const regex = makeRegex(pattern, ignoreCase)\n\n  return new IgnoreRule(\n    origin,\n    pattern,\n    negative,\n    regex\n  )\n}\n\nconst throwError = (message, Ctor) => {\n  throw new Ctor(message)\n}\n\nconst checkPath = (path, originalPath, doThrow) => {\n  if (!isString(path)) {\n    return doThrow(\n      `path must be a string, but got \\`${originalPath}\\``,\n      TypeError\n    )\n  }\n\n  // We don't know if we should ignore EMPTY, so throw\n  if (!path) {\n    return doThrow(`path must not be empty`, TypeError)\n  }\n\n  // Check if it is a relative path\n  if (checkPath.isNotRelative(path)) {\n    const r = '`path.relative()`d'\n    return doThrow(\n      `path should be a ${r} string, but got \"${originalPath}\"`,\n      RangeError\n    )\n  }\n\n  return true\n}\n\nconst isNotRelative = path => REGEX_TEST_INVALID_PATH.test(path)\n\ncheckPath.isNotRelative = isNotRelative\ncheckPath.convert = p => p\n\nclass Ignore {\n  constructor ({\n    ignorecase = true,\n    ignoreCase = ignorecase,\n    allowRelativePaths = false\n  } = {}) {\n    define(this, KEY_IGNORE, true)\n\n    this._rules = []\n    this._ignoreCase = ignoreCase\n    this._allowRelativePaths = allowRelativePaths\n    this._initCache()\n  }\n\n  _initCache () {\n    this._ignoreCache = Object.create(null)\n    this._testCache = Object.create(null)\n  }\n\n  _addPattern (pattern) {\n    // #32\n    if (pattern && pattern[KEY_IGNORE]) {\n      this._rules = this._rules.concat(pattern._rules)\n      this._added = true\n      return\n    }\n\n    if (checkPattern(pattern)) {\n      const rule = createRule(pattern, this._ignoreCase)\n      this._added = true\n      this._rules.push(rule)\n    }\n  }\n\n  // @param {Array<string> | string | Ignore} pattern\n  add (pattern) {\n    this._added = false\n\n    makeArray(\n      isString(pattern)\n        ? splitPattern(pattern)\n        : pattern\n    ).forEach(this._addPattern, this)\n\n    // Some rules have just added to the ignore,\n    // making the behavior changed.\n    if (this._added) {\n      this._initCache()\n    }\n\n    return this\n  }\n\n  // legacy\n  addPattern (pattern) {\n    return this.add(pattern)\n  }\n\n  //          |           ignored : unignored\n  // negative |   0:0   |   0:1   |   1:0   |   1:1\n  // -------- | ------- | ------- | ------- | --------\n  //     0    |  TEST   |  TEST   |  SKIP   |    X\n  //     1    |  TESTIF |  SKIP   |  TEST   |    X\n\n  // - SKIP: always skip\n  // - TEST: always test\n  // - TESTIF: only test if checkUnignored\n  // - X: that never happen\n\n  // @param {boolean} whether should check if the path is unignored,\n  //   setting `checkUnignored` to `false` could reduce additional\n  //   path matching.\n\n  // @returns {TestResult} true if a file is ignored\n  _testOne (path, checkUnignored) {\n    let ignored = false\n    let unignored = false\n\n    this._rules.forEach(rule => {\n      const {negative} = rule\n      if (\n        unignored === negative && ignored !== unignored\n        || negative && !ignored && !unignored && !checkUnignored\n      ) {\n        return\n      }\n\n      const matched = rule.regex.test(path)\n\n      if (matched) {\n        ignored = !negative\n        unignored = negative\n      }\n    })\n\n    return {\n      ignored,\n      unignored\n    }\n  }\n\n  // @returns {TestResult}\n  _test (originalPath, cache, checkUnignored, slices) {\n    const path = originalPath\n      // Supports nullable path\n      && checkPath.convert(originalPath)\n\n    checkPath(\n      path,\n      originalPath,\n      this._allowRelativePaths\n        ? RETURN_FALSE\n        : throwError\n    )\n\n    return this._t(path, cache, checkUnignored, slices)\n  }\n\n  _t (path, cache, checkUnignored, slices) {\n    if (path in cache) {\n      return cache[path]\n    }\n\n    if (!slices) {\n      // path/to/a.js\n      // ['path', 'to', 'a.js']\n      slices = path.split(SLASH)\n    }\n\n    slices.pop()\n\n    // If the path has no parent directory, just test it\n    if (!slices.length) {\n      return cache[path] = this._testOne(path, checkUnignored)\n    }\n\n    const parent = this._t(\n      slices.join(SLASH) + SLASH,\n      cache,\n      checkUnignored,\n      slices\n    )\n\n    // If the path contains a parent directory, check the parent first\n    return cache[path] = parent.ignored\n      // > It is not possible to re-include a file if a parent directory of\n      // >   that file is excluded.\n      ? parent\n      : this._testOne(path, checkUnignored)\n  }\n\n  ignores (path) {\n    return this._test(path, this._ignoreCache, false).ignored\n  }\n\n  createFilter () {\n    return path => !this.ignores(path)\n  }\n\n  filter (paths) {\n    return makeArray(paths).filter(this.createFilter())\n  }\n\n  // @returns {TestResult}\n  test (path) {\n    return this._test(path, this._testCache, true)\n  }\n}\n\nconst factory = options => new Ignore(options)\n\nconst isPathValid = path =>\n  checkPath(path && checkPath.convert(path), path, RETURN_FALSE)\n\nfactory.isPathValid = isPathValid\n\n// Fixes typescript\nfactory.default = factory\n\nmodule.exports = factory\n\n// Windows\n// --------------------------------------------------------------\n/* istanbul ignore if  */\nif (\n  // Detect `process` so that it can run in browsers.\n  typeof process !== 'undefined'\n  && (\n    process.env && process.env.IGNORE_TEST_WIN32\n    || process.platform === 'win32'\n  )\n) {\n  /* eslint no-control-regex: \"off\" */\n  const makePosix = str => /^\\\\\\\\\\?\\\\/.test(str)\n  || /[\"<>|\\u0000-\\u001F]+/u.test(str)\n    ? str\n    : str.replace(/\\\\/g, '/')\n\n  checkPath.convert = makePosix\n\n  // 'C:\\\\foo'     <- 'C:\\\\foo' has been converted to 'C:/'\n  // 'd:\\\\foo'\n  const REGIX_IS_WINDOWS_PATH_ABSOLUTE = /^[a-z]:\\//i\n  checkPath.isNotRelative = path =>\n    REGIX_IS_WINDOWS_PATH_ABSOLUTE.test(path)\n    || isNotRelative(path)\n}\n", "'use strict';\nmodule.exports = path => {\n\tconst isExtendedLengthPath = /^\\\\\\\\\\?\\\\/.test(path);\n\tconst hasNonAscii = /[^\\u0000-\\u0080]+/.test(path); // eslint-disable-line no-control-regex\n\n\tif (isExtendedLengthPath || hasNonAscii) {\n\t\treturn path;\n\t}\n\n\treturn path.replace(/\\\\/g, '/');\n};\n", "'use strict';\nconst {promisify} = require('util');\nconst fs = require('fs');\nconst path = require('path');\nconst fastGlob = require('fast-glob');\nconst gitIgnore = require('ignore');\nconst slash = require('slash');\n\nconst DEFAULT_IGNORE = [\n\t'**/node_modules/**',\n\t'**/flow-typed/**',\n\t'**/coverage/**',\n\t'**/.git'\n];\n\nconst readFileP = promisify(fs.readFile);\n\nconst mapGitIgnorePatternTo = base => ignore => {\n\tif (ignore.startsWith('!')) {\n\t\treturn '!' + path.posix.join(base, ignore.slice(1));\n\t}\n\n\treturn path.posix.join(base, ignore);\n};\n\nconst parseGitIgnore = (content, options) => {\n\tconst base = slash(path.relative(options.cwd, path.dirname(options.fileName)));\n\n\treturn content\n\t\t.split(/\\r?\\n/)\n\t\t.filter(Boolean)\n\t\t.filter(line => !line.startsWith('#'))\n\t\t.map(mapGitIgnorePatternTo(base));\n};\n\nconst reduceIgnore = files => {\n\tconst ignores = gitIgnore();\n\tfor (const file of files) {\n\t\tignores.add(parseGitIgnore(file.content, {\n\t\t\tcwd: file.cwd,\n\t\t\tfileName: file.filePath\n\t\t}));\n\t}\n\n\treturn ignores;\n};\n\nconst ensureAbsolutePathForCwd = (cwd, p) => {\n\tcwd = slash(cwd);\n\tif (path.isAbsolute(p)) {\n\t\tif (slash(p).startsWith(cwd)) {\n\t\t\treturn p;\n\t\t}\n\n\t\tthrow new Error(`Path ${p} is not in cwd ${cwd}`);\n\t}\n\n\treturn path.join(cwd, p);\n};\n\nconst getIsIgnoredPredecate = (ignores, cwd) => {\n\treturn p => ignores.ignores(slash(path.relative(cwd, ensureAbsolutePathForCwd(cwd, p.path || p))));\n};\n\nconst getFile = async (file, cwd) => {\n\tconst filePath = path.join(cwd, file);\n\tconst content = await readFileP(filePath, 'utf8');\n\n\treturn {\n\t\tcwd,\n\t\tfilePath,\n\t\tcontent\n\t};\n};\n\nconst getFileSync = (file, cwd) => {\n\tconst filePath = path.join(cwd, file);\n\tconst content = fs.readFileSync(filePath, 'utf8');\n\n\treturn {\n\t\tcwd,\n\t\tfilePath,\n\t\tcontent\n\t};\n};\n\nconst normalizeOptions = ({\n\tignore = [],\n\tcwd = slash(process.cwd())\n} = {}) => {\n\treturn {ignore, cwd};\n};\n\nmodule.exports = async options => {\n\toptions = normalizeOptions(options);\n\n\tconst paths = await fastGlob('**/.gitignore', {\n\t\tignore: DEFAULT_IGNORE.concat(options.ignore),\n\t\tcwd: options.cwd\n\t});\n\n\tconst files = await Promise.all(paths.map(file => getFile(file, options.cwd)));\n\tconst ignores = reduceIgnore(files);\n\n\treturn getIsIgnoredPredecate(ignores, options.cwd);\n};\n\nmodule.exports.sync = options => {\n\toptions = normalizeOptions(options);\n\n\tconst paths = fastGlob.sync('**/.gitignore', {\n\t\tignore: DEFAULT_IGNORE.concat(options.ignore),\n\t\tcwd: options.cwd\n\t});\n\n\tconst files = paths.map(file => getFileSync(file, options.cwd));\n\tconst ignores = reduceIgnore(files);\n\n\treturn getIsIgnoredPredecate(ignores, options.cwd);\n};\n", "'use strict';\nconst {Transform} = require('stream');\n\nclass ObjectTransform extends Transform {\n\tconstructor() {\n\t\tsuper({\n\t\t\tobjectMode: true\n\t\t});\n\t}\n}\n\nclass FilterStream extends ObjectTransform {\n\tconstructor(filter) {\n\t\tsuper();\n\t\tthis._filter = filter;\n\t}\n\n\t_transform(data, encoding, callback) {\n\t\tif (this._filter(data)) {\n\t\t\tthis.push(data);\n\t\t}\n\n\t\tcallback();\n\t}\n}\n\nclass UniqueStream extends ObjectTransform {\n\tconstructor() {\n\t\tsuper();\n\t\tthis._pushed = new Set();\n\t}\n\n\t_transform(data, encoding, callback) {\n\t\tif (!this._pushed.has(data)) {\n\t\t\tthis.push(data);\n\t\t\tthis._pushed.add(data);\n\t\t}\n\n\t\tcallback();\n\t}\n}\n\nmodule.exports = {\n\tFilterStream,\n\tUniqueStream\n};\n", "'use strict';\nconst fs = require('fs');\nconst arrayUnion = require('array-union');\nconst merge2 = require('merge2');\nconst fastGlob = require('fast-glob');\nconst dirGlob = require('dir-glob');\nconst gitignore = require('./gitignore');\nconst {FilterStream, UniqueStream} = require('./stream-utils');\n\nconst DEFAULT_FILTER = () => false;\n\nconst isNegative = pattern => pattern[0] === '!';\n\nconst assertPatternsInput = patterns => {\n\tif (!patterns.every(pattern => typeof pattern === 'string')) {\n\t\tthrow new TypeError('Patterns must be a string or an array of strings');\n\t}\n};\n\nconst checkCwdOption = (options = {}) => {\n\tif (!options.cwd) {\n\t\treturn;\n\t}\n\n\tlet stat;\n\ttry {\n\t\tstat = fs.statSync(options.cwd);\n\t} catch {\n\t\treturn;\n\t}\n\n\tif (!stat.isDirectory()) {\n\t\tthrow new Error('The `cwd` option must be a path to a directory');\n\t}\n};\n\nconst getPathString = p => p.stats instanceof fs.Stats ? p.path : p;\n\nconst generateGlobTasks = (patterns, taskOptions) => {\n\tpatterns = arrayUnion([].concat(patterns));\n\tassertPatternsInput(patterns);\n\tcheckCwdOption(taskOptions);\n\n\tconst globTasks = [];\n\n\ttaskOptions = {\n\t\tignore: [],\n\t\texpandDirectories: true,\n\t\t...taskOptions\n\t};\n\n\tfor (const [index, pattern] of patterns.entries()) {\n\t\tif (isNegative(pattern)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst ignore = patterns\n\t\t\t.slice(index)\n\t\t\t.filter(pattern => isNegative(pattern))\n\t\t\t.map(pattern => pattern.slice(1));\n\n\t\tconst options = {\n\t\t\t...taskOptions,\n\t\t\tignore: taskOptions.ignore.concat(ignore)\n\t\t};\n\n\t\tglobTasks.push({pattern, options});\n\t}\n\n\treturn globTasks;\n};\n\nconst globDirs = (task, fn) => {\n\tlet options = {};\n\tif (task.options.cwd) {\n\t\toptions.cwd = task.options.cwd;\n\t}\n\n\tif (Array.isArray(task.options.expandDirectories)) {\n\t\toptions = {\n\t\t\t...options,\n\t\t\tfiles: task.options.expandDirectories\n\t\t};\n\t} else if (typeof task.options.expandDirectories === 'object') {\n\t\toptions = {\n\t\t\t...options,\n\t\t\t...task.options.expandDirectories\n\t\t};\n\t}\n\n\treturn fn(task.pattern, options);\n};\n\nconst getPattern = (task, fn) => task.options.expandDirectories ? globDirs(task, fn) : [task.pattern];\n\nconst getFilterSync = options => {\n\treturn options && options.gitignore ?\n\t\tgitignore.sync({cwd: options.cwd, ignore: options.ignore}) :\n\t\tDEFAULT_FILTER;\n};\n\nconst globToTask = task => glob => {\n\tconst {options} = task;\n\tif (options.ignore && Array.isArray(options.ignore) && options.expandDirectories) {\n\t\toptions.ignore = dirGlob.sync(options.ignore);\n\t}\n\n\treturn {\n\t\tpattern: glob,\n\t\toptions\n\t};\n};\n\nmodule.exports = async (patterns, options) => {\n\tconst globTasks = generateGlobTasks(patterns, options);\n\n\tconst getFilter = async () => {\n\t\treturn options && options.gitignore ?\n\t\t\tgitignore({cwd: options.cwd, ignore: options.ignore}) :\n\t\t\tDEFAULT_FILTER;\n\t};\n\n\tconst getTasks = async () => {\n\t\tconst tasks = await Promise.all(globTasks.map(async task => {\n\t\t\tconst globs = await getPattern(task, dirGlob);\n\t\t\treturn Promise.all(globs.map(globToTask(task)));\n\t\t}));\n\n\t\treturn arrayUnion(...tasks);\n\t};\n\n\tconst [filter, tasks] = await Promise.all([getFilter(), getTasks()]);\n\tconst paths = await Promise.all(tasks.map(task => fastGlob(task.pattern, task.options)));\n\n\treturn arrayUnion(...paths).filter(path_ => !filter(getPathString(path_)));\n};\n\nmodule.exports.sync = (patterns, options) => {\n\tconst globTasks = generateGlobTasks(patterns, options);\n\n\tconst tasks = [];\n\tfor (const task of globTasks) {\n\t\tconst newTask = getPattern(task, dirGlob.sync).map(globToTask(task));\n\t\ttasks.push(...newTask);\n\t}\n\n\tconst filter = getFilterSync(options);\n\n\tlet matches = [];\n\tfor (const task of tasks) {\n\t\tmatches = arrayUnion(matches, fastGlob.sync(task.pattern, task.options));\n\t}\n\n\treturn matches.filter(path_ => !filter(path_));\n};\n\nmodule.exports.stream = (patterns, options) => {\n\tconst globTasks = generateGlobTasks(patterns, options);\n\n\tconst tasks = [];\n\tfor (const task of globTasks) {\n\t\tconst newTask = getPattern(task, dirGlob.sync).map(globToTask(task));\n\t\ttasks.push(...newTask);\n\t}\n\n\tconst filter = getFilterSync(options);\n\tconst filterStream = new FilterStream(p => !filter(p));\n\tconst uniqueStream = new UniqueStream();\n\n\treturn merge2(tasks.map(task => fastGlob.stream(task.pattern, task.options)))\n\t\t.pipe(filterStream)\n\t\t.pipe(uniqueStream);\n};\n\nmodule.exports.generateGlobTasks = generateGlobTasks;\n\nmodule.exports.hasMagic = (patterns, options) => []\n\t.concat(patterns)\n\t.some(pattern => fastGlob.isDynamicPattern(pattern, options));\n\nmodule.exports.gitignore = gitignore;\n", "module.exports = function (xs, fn) {\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        var x = fn(xs[i], i);\n        if (isArray(x)) res.push.apply(res, x);\n        else res.push(x);\n    }\n    return res;\n};\n\nvar isArray = Array.isArray || function (xs) {\n    return Object.prototype.toString.call(xs) === '[object Array]';\n};\n", "'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    if(a===b) {\n      return [ai, bi];\n    }\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n", "var concatMap = require('concat-map');\nvar balanced = require('balanced-match');\n\nmodule.exports = expandTop;\n\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\n\nfunction numeric(str) {\n  return parseInt(str, 10) == str\n    ? parseInt(str, 10)\n    : str.charCodeAt(0);\n}\n\nfunction escapeBraces(str) {\n  return str.split('\\\\\\\\').join(escSlash)\n            .split('\\\\{').join(escOpen)\n            .split('\\\\}').join(escClose)\n            .split('\\\\,').join(escComma)\n            .split('\\\\.').join(escPeriod);\n}\n\nfunction unescapeBraces(str) {\n  return str.split(escSlash).join('\\\\')\n            .split(escOpen).join('{')\n            .split(escClose).join('}')\n            .split(escComma).join(',')\n            .split(escPeriod).join('.');\n}\n\n\n// Basically just str.split(\",\"), but handling cases\n// where we have nested braced sections, which should be\n// treated as individual members, like {a,{b,c},d}\nfunction parseCommaParts(str) {\n  if (!str)\n    return [''];\n\n  var parts = [];\n  var m = balanced('{', '}', str);\n\n  if (!m)\n    return str.split(',');\n\n  var pre = m.pre;\n  var body = m.body;\n  var post = m.post;\n  var p = pre.split(',');\n\n  p[p.length-1] += '{' + body + '}';\n  var postParts = parseCommaParts(post);\n  if (post.length) {\n    p[p.length-1] += postParts.shift();\n    p.push.apply(p, postParts);\n  }\n\n  parts.push.apply(parts, p);\n\n  return parts;\n}\n\nfunction expandTop(str) {\n  if (!str)\n    return [];\n\n  // I don't know why Bash 4.3 does this, but it does.\n  // Anything starting with {} will have the first two bytes preserved\n  // but *only* at the top level, so {},a}b will not expand to anything,\n  // but a{},b}c will be expanded to [a}c,abc].\n  // One could argue that this is a bug in Bash, but since the goal of\n  // this module is to match Bash's rules, we escape a leading {}\n  if (str.substr(0, 2) === '{}') {\n    str = '\\\\{\\\\}' + str.substr(2);\n  }\n\n  return expand(escapeBraces(str), true).map(unescapeBraces);\n}\n\nfunction identity(e) {\n  return e;\n}\n\nfunction embrace(str) {\n  return '{' + str + '}';\n}\nfunction isPadded(el) {\n  return /^-?0\\d/.test(el);\n}\n\nfunction lte(i, y) {\n  return i <= y;\n}\nfunction gte(i, y) {\n  return i >= y;\n}\n\nfunction expand(str, isTop) {\n  var expansions = [];\n\n  var m = balanced('{', '}', str);\n  if (!m || /\\$$/.test(m.pre)) return [str];\n\n  var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isSequence = isNumericSequence || isAlphaSequence;\n  var isOptions = m.body.indexOf(',') >= 0;\n  if (!isSequence && !isOptions) {\n    // {a},b}\n    if (m.post.match(/,.*\\}/)) {\n      str = m.pre + '{' + m.body + escClose + m.post;\n      return expand(str);\n    }\n    return [str];\n  }\n\n  var n;\n  if (isSequence) {\n    n = m.body.split(/\\.\\./);\n  } else {\n    n = parseCommaParts(m.body);\n    if (n.length === 1) {\n      // x{{a,b}}y ==> x{a}y x{b}y\n      n = expand(n[0], false).map(embrace);\n      if (n.length === 1) {\n        var post = m.post.length\n          ? expand(m.post, false)\n          : [''];\n        return post.map(function(p) {\n          return m.pre + n[0] + p;\n        });\n      }\n    }\n  }\n\n  // at this point, n is the parts, and we know it's not a comma set\n  // with a single entry.\n\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\n  var pre = m.pre;\n  var post = m.post.length\n    ? expand(m.post, false)\n    : [''];\n\n  var N;\n\n  if (isSequence) {\n    var x = numeric(n[0]);\n    var y = numeric(n[1]);\n    var width = Math.max(n[0].length, n[1].length)\n    var incr = n.length == 3\n      ? Math.abs(numeric(n[2]))\n      : 1;\n    var test = lte;\n    var reverse = y < x;\n    if (reverse) {\n      incr *= -1;\n      test = gte;\n    }\n    var pad = n.some(isPadded);\n\n    N = [];\n\n    for (var i = x; test(i, y); i += incr) {\n      var c;\n      if (isAlphaSequence) {\n        c = String.fromCharCode(i);\n        if (c === '\\\\')\n          c = '';\n      } else {\n        c = String(i);\n        if (pad) {\n          var need = width - c.length;\n          if (need > 0) {\n            var z = new Array(need + 1).join('0');\n            if (i < 0)\n              c = '-' + z + c.slice(1);\n            else\n              c = z + c;\n          }\n        }\n      }\n      N.push(c);\n    }\n  } else {\n    N = concatMap(n, function(el) { return expand(el, false) });\n  }\n\n  for (var j = 0; j < N.length; j++) {\n    for (var k = 0; k < post.length; k++) {\n      var expansion = pre + N[j] + post[k];\n      if (!isTop || isSequence || expansion)\n        expansions.push(expansion);\n    }\n  }\n\n  return expansions;\n}\n\n", "module.exports = minimatch\nminimatch.Minimatch = Minimatch\n\nvar path = (function () { try { return require('path') } catch (e) {}}()) || {\n  sep: '/'\n}\nminimatch.sep = path.sep\n\nvar GLOBSTAR = minimatch.GLOBSTAR = Minimatch.GLOBSTAR = {}\nvar expand = require('brace-expansion')\n\nvar plTypes = {\n  '!': { open: '(?:(?!(?:', close: '))[^/]*?)'},\n  '?': { open: '(?:', close: ')?' },\n  '+': { open: '(?:', close: ')+' },\n  '*': { open: '(?:', close: ')*' },\n  '@': { open: '(?:', close: ')' }\n}\n\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nvar qmark = '[^/]'\n\n// * => any number of characters\nvar star = qmark + '*?'\n\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nvar twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?'\n\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nvar twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?'\n\n// characters that need to be escaped in RegExp.\nvar reSpecials = charSet('().*{}+?[]^$\\\\!')\n\n// \"abc\" -> { a:true, b:true, c:true }\nfunction charSet (s) {\n  return s.split('').reduce(function (set, c) {\n    set[c] = true\n    return set\n  }, {})\n}\n\n// normalizes slashes.\nvar slashSplit = /\\/+/\n\nminimatch.filter = filter\nfunction filter (pattern, options) {\n  options = options || {}\n  return function (p, i, list) {\n    return minimatch(p, pattern, options)\n  }\n}\n\nfunction ext (a, b) {\n  b = b || {}\n  var t = {}\n  Object.keys(a).forEach(function (k) {\n    t[k] = a[k]\n  })\n  Object.keys(b).forEach(function (k) {\n    t[k] = b[k]\n  })\n  return t\n}\n\nminimatch.defaults = function (def) {\n  if (!def || typeof def !== 'object' || !Object.keys(def).length) {\n    return minimatch\n  }\n\n  var orig = minimatch\n\n  var m = function minimatch (p, pattern, options) {\n    return orig(p, pattern, ext(def, options))\n  }\n\n  m.Minimatch = function Minimatch (pattern, options) {\n    return new orig.Minimatch(pattern, ext(def, options))\n  }\n  m.Minimatch.defaults = function defaults (options) {\n    return orig.defaults(ext(def, options)).Minimatch\n  }\n\n  m.filter = function filter (pattern, options) {\n    return orig.filter(pattern, ext(def, options))\n  }\n\n  m.defaults = function defaults (options) {\n    return orig.defaults(ext(def, options))\n  }\n\n  m.makeRe = function makeRe (pattern, options) {\n    return orig.makeRe(pattern, ext(def, options))\n  }\n\n  m.braceExpand = function braceExpand (pattern, options) {\n    return orig.braceExpand(pattern, ext(def, options))\n  }\n\n  m.match = function (list, pattern, options) {\n    return orig.match(list, pattern, ext(def, options))\n  }\n\n  return m\n}\n\nMinimatch.defaults = function (def) {\n  return minimatch.defaults(def).Minimatch\n}\n\nfunction minimatch (p, pattern, options) {\n  assertValidPattern(pattern)\n\n  if (!options) options = {}\n\n  // shortcut: comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    return false\n  }\n\n  return new Minimatch(pattern, options).match(p)\n}\n\nfunction Minimatch (pattern, options) {\n  if (!(this instanceof Minimatch)) {\n    return new Minimatch(pattern, options)\n  }\n\n  assertValidPattern(pattern)\n\n  if (!options) options = {}\n\n  pattern = pattern.trim()\n\n  // windows support: need to use /, not \\\n  if (!options.allowWindowsEscape && path.sep !== '/') {\n    pattern = pattern.split(path.sep).join('/')\n  }\n\n  this.options = options\n  this.set = []\n  this.pattern = pattern\n  this.regexp = null\n  this.negate = false\n  this.comment = false\n  this.empty = false\n  this.partial = !!options.partial\n\n  // make the set of regexps etc.\n  this.make()\n}\n\nMinimatch.prototype.debug = function () {}\n\nMinimatch.prototype.make = make\nfunction make () {\n  var pattern = this.pattern\n  var options = this.options\n\n  // empty patterns and comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    this.comment = true\n    return\n  }\n  if (!pattern) {\n    this.empty = true\n    return\n  }\n\n  // step 1: figure out negation, etc.\n  this.parseNegate()\n\n  // step 2: expand braces\n  var set = this.globSet = this.braceExpand()\n\n  if (options.debug) this.debug = function debug() { console.error.apply(console, arguments) }\n\n  this.debug(this.pattern, set)\n\n  // step 3: now we have a set, so turn each one into a series of path-portion\n  // matching patterns.\n  // These will be regexps, except in the case of \"**\", which is\n  // set to the GLOBSTAR object for globstar behavior,\n  // and will not contain any / characters\n  set = this.globParts = set.map(function (s) {\n    return s.split(slashSplit)\n  })\n\n  this.debug(this.pattern, set)\n\n  // glob --> regexps\n  set = set.map(function (s, si, set) {\n    return s.map(this.parse, this)\n  }, this)\n\n  this.debug(this.pattern, set)\n\n  // filter out everything that didn't compile properly.\n  set = set.filter(function (s) {\n    return s.indexOf(false) === -1\n  })\n\n  this.debug(this.pattern, set)\n\n  this.set = set\n}\n\nMinimatch.prototype.parseNegate = parseNegate\nfunction parseNegate () {\n  var pattern = this.pattern\n  var negate = false\n  var options = this.options\n  var negateOffset = 0\n\n  if (options.nonegate) return\n\n  for (var i = 0, l = pattern.length\n    ; i < l && pattern.charAt(i) === '!'\n    ; i++) {\n    negate = !negate\n    negateOffset++\n  }\n\n  if (negateOffset) this.pattern = pattern.substr(negateOffset)\n  this.negate = negate\n}\n\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nminimatch.braceExpand = function (pattern, options) {\n  return braceExpand(pattern, options)\n}\n\nMinimatch.prototype.braceExpand = braceExpand\n\nfunction braceExpand (pattern, options) {\n  if (!options) {\n    if (this instanceof Minimatch) {\n      options = this.options\n    } else {\n      options = {}\n    }\n  }\n\n  pattern = typeof pattern === 'undefined'\n    ? this.pattern : pattern\n\n  assertValidPattern(pattern)\n\n  // Thanks to Yeting Li <https://github.com/yetingli> for\n  // improving this regexp to avoid a ReDOS vulnerability.\n  if (options.nobrace || !/\\{(?:(?!\\{).)*\\}/.test(pattern)) {\n    // shortcut. no need to expand.\n    return [pattern]\n  }\n\n  return expand(pattern)\n}\n\nvar MAX_PATTERN_LENGTH = 1024 * 64\nvar assertValidPattern = function (pattern) {\n  if (typeof pattern !== 'string') {\n    throw new TypeError('invalid pattern')\n  }\n\n  if (pattern.length > MAX_PATTERN_LENGTH) {\n    throw new TypeError('pattern is too long')\n  }\n}\n\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\nMinimatch.prototype.parse = parse\nvar SUBPARSE = {}\nfunction parse (pattern, isSub) {\n  assertValidPattern(pattern)\n\n  var options = this.options\n\n  // shortcuts\n  if (pattern === '**') {\n    if (!options.noglobstar)\n      return GLOBSTAR\n    else\n      pattern = '*'\n  }\n  if (pattern === '') return ''\n\n  var re = ''\n  var hasMagic = !!options.nocase\n  var escaping = false\n  // ? => one single character\n  var patternListStack = []\n  var negativeLists = []\n  var stateChar\n  var inClass = false\n  var reClassStart = -1\n  var classStart = -1\n  // . and .. never match anything that doesn't start with .,\n  // even when options.dot is set.\n  var patternStart = pattern.charAt(0) === '.' ? '' // anything\n  // not (start or / followed by . or .. followed by / or end)\n  : options.dot ? '(?!(?:^|\\\\\\/)\\\\.{1,2}(?:$|\\\\\\/))'\n  : '(?!\\\\.)'\n  var self = this\n\n  function clearStateChar () {\n    if (stateChar) {\n      // we had some state-tracking character\n      // that wasn't consumed by this pass.\n      switch (stateChar) {\n        case '*':\n          re += star\n          hasMagic = true\n        break\n        case '?':\n          re += qmark\n          hasMagic = true\n        break\n        default:\n          re += '\\\\' + stateChar\n        break\n      }\n      self.debug('clearStateChar %j %j', stateChar, re)\n      stateChar = false\n    }\n  }\n\n  for (var i = 0, len = pattern.length, c\n    ; (i < len) && (c = pattern.charAt(i))\n    ; i++) {\n    this.debug('%s\\t%s %s %j', pattern, i, re, c)\n\n    // skip over any that are escaped.\n    if (escaping && reSpecials[c]) {\n      re += '\\\\' + c\n      escaping = false\n      continue\n    }\n\n    switch (c) {\n      /* istanbul ignore next */\n      case '/': {\n        // completely not allowed, even escaped.\n        // Should already be path-split by now.\n        return false\n      }\n\n      case '\\\\':\n        clearStateChar()\n        escaping = true\n      continue\n\n      // the various stateChar values\n      // for the \"extglob\" stuff.\n      case '?':\n      case '*':\n      case '+':\n      case '@':\n      case '!':\n        this.debug('%s\\t%s %s %j <-- stateChar', pattern, i, re, c)\n\n        // all of those are literals inside a class, except that\n        // the glob [!a] means [^a] in regexp\n        if (inClass) {\n          this.debug('  in class')\n          if (c === '!' && i === classStart + 1) c = '^'\n          re += c\n          continue\n        }\n\n        // if we already have a stateChar, then it means\n        // that there was something like ** or +? in there.\n        // Handle the stateChar, then proceed with this one.\n        self.debug('call clearStateChar %j', stateChar)\n        clearStateChar()\n        stateChar = c\n        // if extglob is disabled, then +(asdf|foo) isn't a thing.\n        // just clear the statechar *now*, rather than even diving into\n        // the patternList stuff.\n        if (options.noext) clearStateChar()\n      continue\n\n      case '(':\n        if (inClass) {\n          re += '('\n          continue\n        }\n\n        if (!stateChar) {\n          re += '\\\\('\n          continue\n        }\n\n        patternListStack.push({\n          type: stateChar,\n          start: i - 1,\n          reStart: re.length,\n          open: plTypes[stateChar].open,\n          close: plTypes[stateChar].close\n        })\n        // negation is (?:(?!js)[^/]*)\n        re += stateChar === '!' ? '(?:(?!(?:' : '(?:'\n        this.debug('plType %j %j', stateChar, re)\n        stateChar = false\n      continue\n\n      case ')':\n        if (inClass || !patternListStack.length) {\n          re += '\\\\)'\n          continue\n        }\n\n        clearStateChar()\n        hasMagic = true\n        var pl = patternListStack.pop()\n        // negation is (?:(?!js)[^/]*)\n        // The others are (?:<pattern>)<type>\n        re += pl.close\n        if (pl.type === '!') {\n          negativeLists.push(pl)\n        }\n        pl.reEnd = re.length\n      continue\n\n      case '|':\n        if (inClass || !patternListStack.length || escaping) {\n          re += '\\\\|'\n          escaping = false\n          continue\n        }\n\n        clearStateChar()\n        re += '|'\n      continue\n\n      // these are mostly the same in regexp and glob\n      case '[':\n        // swallow any state-tracking char before the [\n        clearStateChar()\n\n        if (inClass) {\n          re += '\\\\' + c\n          continue\n        }\n\n        inClass = true\n        classStart = i\n        reClassStart = re.length\n        re += c\n      continue\n\n      case ']':\n        //  a right bracket shall lose its special\n        //  meaning and represent itself in\n        //  a bracket expression if it occurs\n        //  first in the list.  -- POSIX.2 2.8.3.2\n        if (i === classStart + 1 || !inClass) {\n          re += '\\\\' + c\n          escaping = false\n          continue\n        }\n\n        // handle the case where we left a class open.\n        // \"[z-a]\" is valid, equivalent to \"\\[z-a\\]\"\n        // split where the last [ was, make sure we don't have\n        // an invalid re. if so, re-walk the contents of the\n        // would-be class to re-translate any characters that\n        // were passed through as-is\n        // TODO: It would probably be faster to determine this\n        // without a try/catch and a new RegExp, but it's tricky\n        // to do safely.  For now, this is safe and works.\n        var cs = pattern.substring(classStart + 1, i)\n        try {\n          RegExp('[' + cs + ']')\n        } catch (er) {\n          // not a valid class!\n          var sp = this.parse(cs, SUBPARSE)\n          re = re.substr(0, reClassStart) + '\\\\[' + sp[0] + '\\\\]'\n          hasMagic = hasMagic || sp[1]\n          inClass = false\n          continue\n        }\n\n        // finish up the class.\n        hasMagic = true\n        inClass = false\n        re += c\n      continue\n\n      default:\n        // swallow any state char that wasn't consumed\n        clearStateChar()\n\n        if (escaping) {\n          // no need\n          escaping = false\n        } else if (reSpecials[c]\n          && !(c === '^' && inClass)) {\n          re += '\\\\'\n        }\n\n        re += c\n\n    } // switch\n  } // for\n\n  // handle the case where we left a class open.\n  // \"[abc\" is valid, equivalent to \"\\[abc\"\n  if (inClass) {\n    // split where the last [ was, and escape it\n    // this is a huge pita.  We now have to re-walk\n    // the contents of the would-be class to re-translate\n    // any characters that were passed through as-is\n    cs = pattern.substr(classStart + 1)\n    sp = this.parse(cs, SUBPARSE)\n    re = re.substr(0, reClassStart) + '\\\\[' + sp[0]\n    hasMagic = hasMagic || sp[1]\n  }\n\n  // handle the case where we had a +( thing at the *end*\n  // of the pattern.\n  // each pattern list stack adds 3 chars, and we need to go through\n  // and escape any | chars that were passed through as-is for the regexp.\n  // Go through and escape them, taking care not to double-escape any\n  // | chars that were already escaped.\n  for (pl = patternListStack.pop(); pl; pl = patternListStack.pop()) {\n    var tail = re.slice(pl.reStart + pl.open.length)\n    this.debug('setting tail', re, pl)\n    // maybe some even number of \\, then maybe 1 \\, followed by a |\n    tail = tail.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g, function (_, $1, $2) {\n      if (!$2) {\n        // the | isn't already escaped, so escape it.\n        $2 = '\\\\'\n      }\n\n      // need to escape all those slashes *again*, without escaping the\n      // one that we need for escaping the | character.  As it works out,\n      // escaping an even number of slashes can be done by simply repeating\n      // it exactly after itself.  That's why this trick works.\n      //\n      // I am sorry that you have to see this.\n      return $1 + $1 + $2 + '|'\n    })\n\n    this.debug('tail=%j\\n   %s', tail, tail, pl, re)\n    var t = pl.type === '*' ? star\n      : pl.type === '?' ? qmark\n      : '\\\\' + pl.type\n\n    hasMagic = true\n    re = re.slice(0, pl.reStart) + t + '\\\\(' + tail\n  }\n\n  // handle trailing things that only matter at the very end.\n  clearStateChar()\n  if (escaping) {\n    // trailing \\\\\n    re += '\\\\\\\\'\n  }\n\n  // only need to apply the nodot start if the re starts with\n  // something that could conceivably capture a dot\n  var addPatternStart = false\n  switch (re.charAt(0)) {\n    case '[': case '.': case '(': addPatternStart = true\n  }\n\n  // Hack to work around lack of negative lookbehind in JS\n  // A pattern like: *.!(x).!(y|z) needs to ensure that a name\n  // like 'a.xyz.yz' doesn't match.  So, the first negative\n  // lookahead, has to look ALL the way ahead, to the end of\n  // the pattern.\n  for (var n = negativeLists.length - 1; n > -1; n--) {\n    var nl = negativeLists[n]\n\n    var nlBefore = re.slice(0, nl.reStart)\n    var nlFirst = re.slice(nl.reStart, nl.reEnd - 8)\n    var nlLast = re.slice(nl.reEnd - 8, nl.reEnd)\n    var nlAfter = re.slice(nl.reEnd)\n\n    nlLast += nlAfter\n\n    // Handle nested stuff like *(*.js|!(*.json)), where open parens\n    // mean that we should *not* include the ) in the bit that is considered\n    // \"after\" the negated section.\n    var openParensBefore = nlBefore.split('(').length - 1\n    var cleanAfter = nlAfter\n    for (i = 0; i < openParensBefore; i++) {\n      cleanAfter = cleanAfter.replace(/\\)[+*?]?/, '')\n    }\n    nlAfter = cleanAfter\n\n    var dollar = ''\n    if (nlAfter === '' && isSub !== SUBPARSE) {\n      dollar = '$'\n    }\n    var newRe = nlBefore + nlFirst + nlAfter + dollar + nlLast\n    re = newRe\n  }\n\n  // if the re is not \"\" at this point, then we need to make sure\n  // it doesn't match against an empty path part.\n  // Otherwise a/* will match a/, which it should not.\n  if (re !== '' && hasMagic) {\n    re = '(?=.)' + re\n  }\n\n  if (addPatternStart) {\n    re = patternStart + re\n  }\n\n  // parsing just a piece of a larger pattern.\n  if (isSub === SUBPARSE) {\n    return [re, hasMagic]\n  }\n\n  // skip the regexp for non-magical patterns\n  // unescape anything in it, though, so that it'll be\n  // an exact match against a file etc.\n  if (!hasMagic) {\n    return globUnescape(pattern)\n  }\n\n  var flags = options.nocase ? 'i' : ''\n  try {\n    var regExp = new RegExp('^' + re + '$', flags)\n  } catch (er) /* istanbul ignore next - should be impossible */ {\n    // If it was an invalid regular expression, then it can't match\n    // anything.  This trick looks for a character after the end of\n    // the string, which is of course impossible, except in multi-line\n    // mode, but it's not a /m regex.\n    return new RegExp('$.')\n  }\n\n  regExp._glob = pattern\n  regExp._src = re\n\n  return regExp\n}\n\nminimatch.makeRe = function (pattern, options) {\n  return new Minimatch(pattern, options || {}).makeRe()\n}\n\nMinimatch.prototype.makeRe = makeRe\nfunction makeRe () {\n  if (this.regexp || this.regexp === false) return this.regexp\n\n  // at this point, this.set is a 2d array of partial\n  // pattern strings, or \"**\".\n  //\n  // It's better to use .match().  This function shouldn't\n  // be used, really, but it's pretty convenient sometimes,\n  // when you just want to work with a regex.\n  var set = this.set\n\n  if (!set.length) {\n    this.regexp = false\n    return this.regexp\n  }\n  var options = this.options\n\n  var twoStar = options.noglobstar ? star\n    : options.dot ? twoStarDot\n    : twoStarNoDot\n  var flags = options.nocase ? 'i' : ''\n\n  var re = set.map(function (pattern) {\n    return pattern.map(function (p) {\n      return (p === GLOBSTAR) ? twoStar\n      : (typeof p === 'string') ? regExpEscape(p)\n      : p._src\n    }).join('\\\\\\/')\n  }).join('|')\n\n  // must match entire pattern\n  // ending in a * or ** will make it less strict.\n  re = '^(?:' + re + ')$'\n\n  // can match anything, as long as it's not this.\n  if (this.negate) re = '^(?!' + re + ').*$'\n\n  try {\n    this.regexp = new RegExp(re, flags)\n  } catch (ex) /* istanbul ignore next - should be impossible */ {\n    this.regexp = false\n  }\n  return this.regexp\n}\n\nminimatch.match = function (list, pattern, options) {\n  options = options || {}\n  var mm = new Minimatch(pattern, options)\n  list = list.filter(function (f) {\n    return mm.match(f)\n  })\n  if (mm.options.nonull && !list.length) {\n    list.push(pattern)\n  }\n  return list\n}\n\nMinimatch.prototype.match = function match (f, partial) {\n  if (typeof partial === 'undefined') partial = this.partial\n  this.debug('match', f, this.pattern)\n  // short-circuit in the case of busted things.\n  // comments, etc.\n  if (this.comment) return false\n  if (this.empty) return f === ''\n\n  if (f === '/' && partial) return true\n\n  var options = this.options\n\n  // windows: need to use /, not \\\n  if (path.sep !== '/') {\n    f = f.split(path.sep).join('/')\n  }\n\n  // treat the test path as a set of pathparts.\n  f = f.split(slashSplit)\n  this.debug(this.pattern, 'split', f)\n\n  // just ONE of the pattern sets in this.set needs to match\n  // in order for it to be valid.  If negating, then just one\n  // match means that we have failed.\n  // Either way, return on the first hit.\n\n  var set = this.set\n  this.debug(this.pattern, 'set', set)\n\n  // Find the basename of the path by looking for the last non-empty segment\n  var filename\n  var i\n  for (i = f.length - 1; i >= 0; i--) {\n    filename = f[i]\n    if (filename) break\n  }\n\n  for (i = 0; i < set.length; i++) {\n    var pattern = set[i]\n    var file = f\n    if (options.matchBase && pattern.length === 1) {\n      file = [filename]\n    }\n    var hit = this.matchOne(file, pattern, partial)\n    if (hit) {\n      if (options.flipNegate) return true\n      return !this.negate\n    }\n  }\n\n  // didn't get any hits.  this is success if it's a negative\n  // pattern, failure otherwise.\n  if (options.flipNegate) return false\n  return this.negate\n}\n\n// set partial to true to test if, for example,\n// \"/a/b\" matches the start of \"/*/b/*/d\"\n// Partial means, if you run out of file before you run\n// out of pattern, then that's fine, as long as all\n// the parts match.\nMinimatch.prototype.matchOne = function (file, pattern, partial) {\n  var options = this.options\n\n  this.debug('matchOne',\n    { 'this': this, file: file, pattern: pattern })\n\n  this.debug('matchOne', file.length, pattern.length)\n\n  for (var fi = 0,\n      pi = 0,\n      fl = file.length,\n      pl = pattern.length\n      ; (fi < fl) && (pi < pl)\n      ; fi++, pi++) {\n    this.debug('matchOne loop')\n    var p = pattern[pi]\n    var f = file[fi]\n\n    this.debug(pattern, p, f)\n\n    // should be impossible.\n    // some invalid regexp stuff in the set.\n    /* istanbul ignore if */\n    if (p === false) return false\n\n    if (p === GLOBSTAR) {\n      this.debug('GLOBSTAR', [pattern, p, f])\n\n      // \"**\"\n      // a/**/b/**/c would match the following:\n      // a/b/x/y/z/c\n      // a/x/y/z/b/c\n      // a/b/x/b/x/c\n      // a/b/c\n      // To do this, take the rest of the pattern after\n      // the **, and see if it would match the file remainder.\n      // If so, return success.\n      // If not, the ** \"swallows\" a segment, and try again.\n      // This is recursively awful.\n      //\n      // a/**/b/**/c matching a/b/x/y/z/c\n      // - a matches a\n      // - doublestar\n      //   - matchOne(b/x/y/z/c, b/**/c)\n      //     - b matches b\n      //     - doublestar\n      //       - matchOne(x/y/z/c, c) -> no\n      //       - matchOne(y/z/c, c) -> no\n      //       - matchOne(z/c, c) -> no\n      //       - matchOne(c, c) yes, hit\n      var fr = fi\n      var pr = pi + 1\n      if (pr === pl) {\n        this.debug('** at the end')\n        // a ** at the end will just swallow the rest.\n        // We have found a match.\n        // however, it will not swallow /.x, unless\n        // options.dot is set.\n        // . and .. are *never* matched by **, for explosively\n        // exponential reasons.\n        for (; fi < fl; fi++) {\n          if (file[fi] === '.' || file[fi] === '..' ||\n            (!options.dot && file[fi].charAt(0) === '.')) return false\n        }\n        return true\n      }\n\n      // ok, let's see if we can swallow whatever we can.\n      while (fr < fl) {\n        var swallowee = file[fr]\n\n        this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee)\n\n        // XXX remove this slice.  Just pass the start index.\n        if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n          this.debug('globstar found match!', fr, fl, swallowee)\n          // found a match.\n          return true\n        } else {\n          // can't swallow \".\" or \"..\" ever.\n          // can only swallow \".foo\" when explicitly asked.\n          if (swallowee === '.' || swallowee === '..' ||\n            (!options.dot && swallowee.charAt(0) === '.')) {\n            this.debug('dot detected!', file, fr, pattern, pr)\n            break\n          }\n\n          // ** swallows a segment, and continue.\n          this.debug('globstar swallow a segment, and continue')\n          fr++\n        }\n      }\n\n      // no match was found.\n      // However, in partial mode, we can't say this is necessarily over.\n      // If there's more *pattern* left, then\n      /* istanbul ignore if */\n      if (partial) {\n        // ran out of file\n        this.debug('\\n>>> no match, partial?', file, fr, pattern, pr)\n        if (fr === fl) return true\n      }\n      return false\n    }\n\n    // something other than **\n    // non-magic patterns just have to match exactly\n    // patterns with magic have been turned into regexps.\n    var hit\n    if (typeof p === 'string') {\n      hit = f === p\n      this.debug('string match', p, f, hit)\n    } else {\n      hit = f.match(p)\n      this.debug('pattern match', p, f, hit)\n    }\n\n    if (!hit) return false\n  }\n\n  // Note: ending in / means that we'll get a final \"\"\n  // at the end of the pattern.  This can only match a\n  // corresponding \"\" at the end of the file.\n  // If the file ends in /, then it can only match a\n  // a pattern that ends in /, unless the pattern just\n  // doesn't have any more for it. But, a/b/ should *not*\n  // match \"a/b/*\", even though \"\" matches against the\n  // [^/]*? pattern, except in partial mode, where it might\n  // simply not be reached yet.\n  // However, a/b/ should still satisfy a/*\n\n  // now either we fell off the end of the pattern, or we're done.\n  if (fi === fl && pi === pl) {\n    // ran out of pattern and filename at the same time.\n    // an exact hit!\n    return true\n  } else if (fi === fl) {\n    // ran out of file, but still had pattern left.\n    // this is ok if we're doing the match as part of\n    // a glob fs traversal.\n    return partial\n  } else /* istanbul ignore else */ if (pi === pl) {\n    // ran out of pattern, still have file left.\n    // this is only acceptable if we're on the very last\n    // empty segment of a file with a trailing slash.\n    // a/* should match a/b/\n    return (fi === fl - 1) && (file[fi] === '')\n  }\n\n  // should be unreachable.\n  /* istanbul ignore next */\n  throw new Error('wtf?')\n}\n\n// replace stuff like \\* with *\nfunction globUnescape (s) {\n  return s.replace(/\\\\(.)/g, '$1')\n}\n\nfunction regExpEscape (s) {\n  return s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\n}\n", "'use strict';\n\nconst arrayDiffer = (array, ...values) => {\n\tconst rest = new Set([].concat(...values));\n\treturn array.filter(element => !rest.has(element));\n};\n\nmodule.exports = arrayDiffer;\n", "'use strict';\n\nconst arrify = value => {\n\tif (value === null || value === undefined) {\n\t\treturn [];\n\t}\n\n\tif (Array.isArray(value)) {\n\t\treturn value;\n\t}\n\n\tif (typeof value === 'string') {\n\t\treturn [value];\n\t}\n\n\tif (typeof value[Symbol.iterator] === 'function') {\n\t\treturn [...value];\n\t}\n\n\treturn [value];\n};\n\nmodule.exports = arrify;\n", "'use strict';\nconst minimatch = require('minimatch');\nconst arrayUnion = require('array-union');\nconst arrayDiffer = require('array-differ');\nconst arrify = require('arrify');\n\nmodule.exports = (list, patterns, options = {}) => {\n\tlist = arrify(list);\n\tpatterns = arrify(patterns);\n\n\tif (list.length === 0 || patterns.length === 0) {\n\t\treturn [];\n\t}\n\n\tlet result = [];\n\tfor (const item of list) {\n\t\tfor (let pattern of patterns) {\n\t\t\tlet process = arrayUnion;\n\n\t\t\tif (pattern[0] === '!') {\n\t\t\t\tpattern = pattern.slice(1);\n\t\t\t\tprocess = arrayDiffer;\n\t\t\t}\n\n\t\t\tresult = process(result, minimatch.match([item], pattern, options));\n\t\t}\n\t}\n\n\treturn result;\n};\n", "var path = require('path');\n\nmodule.exports = function (basedir, relfiles) {\n    if (relfiles) {\n        var files = relfiles.map(function (r) {\n            return path.resolve(basedir, r);\n        });\n    }\n    else {\n        var files = basedir;\n    }\n    \n    var res = files.slice(1).reduce(function (ps, file) {\n        if (!file.match(/^([A-Za-z]:)?\\/|\\\\/)) {\n            throw new Error('relative path without a basedir');\n        }\n        \n        var xs = file.split(/\\/+|\\\\+/);\n        for (\n            var i = 0;\n            ps[i] === xs[i] && i < Math.min(ps.length, xs.length);\n            i++\n        );\n        return ps.slice(0, i);\n    }, files[0].split(/\\/+|\\\\+/));\n    \n    // Windows correctly handles paths with forward-slashes\n    return res.length > 1 ? res.join('/') : '/'\n};\n", "/*!\n * normalize-path <https://github.com/jonschlinkert/normalize-path>\n *\n * Copyright (c) 2014-2018, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nmodule.exports = function(path, stripTrailing) {\n  if (typeof path !== 'string') {\n    throw new TypeError('expected path to be a string');\n  }\n\n  if (path === '\\\\' || path === '/') return '/';\n\n  var len = path.length;\n  if (len <= 1) return path;\n\n  // ensure that win32 namespaces has two leading slashes, so that the path is\n  // handled properly by the win32 version of path.parse() after being normalized\n  // https://msdn.microsoft.com/library/windows/desktop/aa365247(v=vs.85).aspx#namespaces\n  var prefix = '';\n  if (len > 4 && path[3] === '\\\\') {\n    var ch = path[2];\n    if ((ch === '?' || ch === '.') && path.slice(0, 2) === '\\\\\\\\') {\n      path = path.slice(2);\n      prefix = '//';\n    }\n  }\n\n  var segs = path.split(/[/\\\\]+/);\n  if (stripTrailing !== false && segs[segs.length - 1] === '') {\n    segs.pop();\n  }\n  return prefix + segs.join('/');\n};\n", "\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isBinaryFileSync = exports.isBinaryFile = void 0;\nconst fs = require(\"fs\");\nconst util_1 = require(\"util\");\nconst statAsync = util_1.promisify(fs.stat);\nconst openAsync = util_1.promisify(fs.open);\nconst closeAsync = util_1.promisify(fs.close);\nconst MAX_BYTES = 512;\n// A very basic non-exception raising reader. Read bytes and\n// at the end use hasError() to check whether this worked.\nclass Reader {\n    constructor(fileBuffer, size) {\n        this.fileBuffer = fileBuffer;\n        this.size = size;\n        this.offset = 0;\n        this.error = false;\n    }\n    hasError() {\n        return this.error;\n    }\n    nextByte() {\n        if (this.offset === this.size || this.hasError()) {\n            this.error = true;\n            return 0xff;\n        }\n        return this.fileBuffer[this.offset++];\n    }\n    next(len) {\n        const n = new Array();\n        for (let i = 0; i < len; i++) {\n            n[i] = this.nextByte();\n        }\n        return n;\n    }\n}\n// Read a Google Protobuf var(iable)int from the buffer.\nfunction readProtoVarInt(reader) {\n    let idx = 0;\n    let varInt = 0;\n    while (!reader.hasError()) {\n        const b = reader.nextByte();\n        varInt = varInt | ((b & 0x7f) << (7 * idx));\n        if ((b & 0x80) === 0) {\n            break;\n        }\n        idx++;\n    }\n    return varInt;\n}\n// Attempt to taste a full Google Protobuf message.\nfunction readProtoMessage(reader) {\n    const varInt = readProtoVarInt(reader);\n    const wireType = varInt & 0x7;\n    switch (wireType) {\n        case 0:\n            readProtoVarInt(reader);\n            return true;\n        case 1:\n            reader.next(8);\n            return true;\n        case 2:\n            const len = readProtoVarInt(reader);\n            reader.next(len);\n            return true;\n        case 5:\n            reader.next(4);\n            return true;\n    }\n    return false;\n}\n// Check whether this seems to be a valid protobuf file.\nfunction isBinaryProto(fileBuffer, totalBytes) {\n    const reader = new Reader(fileBuffer, totalBytes);\n    let numMessages = 0;\n    while (true) {\n        // Definitely not a valid protobuf\n        if (!readProtoMessage(reader) && !reader.hasError()) {\n            return false;\n        }\n        // Short read?\n        if (reader.hasError()) {\n            break;\n        }\n        numMessages++;\n    }\n    return numMessages > 0;\n}\nfunction isBinaryFile(file, size) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (isString(file)) {\n            const stat = yield statAsync(file);\n            isStatFile(stat);\n            const fileDescriptor = yield openAsync(file, 'r');\n            const allocBuffer = Buffer.alloc(MAX_BYTES);\n            // Read the file with no encoding for raw buffer access.\n            // NB: something is severely wrong with promisify, had to construct my own Promise\n            return new Promise((fulfill, reject) => {\n                fs.read(fileDescriptor, allocBuffer, 0, MAX_BYTES, 0, (err, bytesRead, _) => {\n                    closeAsync(fileDescriptor);\n                    if (err) {\n                        reject(err);\n                    }\n                    else {\n                        fulfill(isBinaryCheck(allocBuffer, bytesRead));\n                    }\n                });\n            });\n        }\n        else {\n            if (size === undefined) {\n                size = file.length;\n            }\n            return isBinaryCheck(file, size);\n        }\n    });\n}\nexports.isBinaryFile = isBinaryFile;\nfunction isBinaryFileSync(file, size) {\n    if (isString(file)) {\n        const stat = fs.statSync(file);\n        isStatFile(stat);\n        const fileDescriptor = fs.openSync(file, 'r');\n        const allocBuffer = Buffer.alloc(MAX_BYTES);\n        const bytesRead = fs.readSync(fileDescriptor, allocBuffer, 0, MAX_BYTES, 0);\n        fs.closeSync(fileDescriptor);\n        return isBinaryCheck(allocBuffer, bytesRead);\n    }\n    else {\n        if (size === undefined) {\n            size = file.length;\n        }\n        return isBinaryCheck(file, size);\n    }\n}\nexports.isBinaryFileSync = isBinaryFileSync;\nfunction isBinaryCheck(fileBuffer, bytesRead) {\n    // empty file. no clue what it is.\n    if (bytesRead === 0) {\n        return false;\n    }\n    let suspiciousBytes = 0;\n    const totalBytes = Math.min(bytesRead, MAX_BYTES);\n    // UTF-8 BOM\n    if (bytesRead >= 3 && fileBuffer[0] === 0xef && fileBuffer[1] === 0xbb && fileBuffer[2] === 0xbf) {\n        return false;\n    }\n    // UTF-32 BOM\n    if (bytesRead >= 4 &&\n        fileBuffer[0] === 0x00 &&\n        fileBuffer[1] === 0x00 &&\n        fileBuffer[2] === 0xfe &&\n        fileBuffer[3] === 0xff) {\n        return false;\n    }\n    // UTF-32 LE BOM\n    if (bytesRead >= 4 &&\n        fileBuffer[0] === 0xff &&\n        fileBuffer[1] === 0xfe &&\n        fileBuffer[2] === 0x00 &&\n        fileBuffer[3] === 0x00) {\n        return false;\n    }\n    // GB BOM\n    if (bytesRead >= 4 &&\n        fileBuffer[0] === 0x84 &&\n        fileBuffer[1] === 0x31 &&\n        fileBuffer[2] === 0x95 &&\n        fileBuffer[3] === 0x33) {\n        return false;\n    }\n    if (totalBytes >= 5 && fileBuffer.slice(0, 5).toString() === '%PDF-') {\n        /* PDF. This is binary. */\n        return true;\n    }\n    // UTF-16 BE BOM\n    if (bytesRead >= 2 && fileBuffer[0] === 0xfe && fileBuffer[1] === 0xff) {\n        return false;\n    }\n    // UTF-16 LE BOM\n    if (bytesRead >= 2 && fileBuffer[0] === 0xff && fileBuffer[1] === 0xfe) {\n        return false;\n    }\n    for (let i = 0; i < totalBytes; i++) {\n        if (fileBuffer[i] === 0) {\n            // NULL byte--it's binary!\n            return true;\n        }\n        else if ((fileBuffer[i] < 7 || fileBuffer[i] > 14) && (fileBuffer[i] < 32 || fileBuffer[i] > 127)) {\n            // UTF-8 detection\n            if (fileBuffer[i] > 193 && fileBuffer[i] < 224 && i + 1 < totalBytes) {\n                i++;\n                if (fileBuffer[i] > 127 && fileBuffer[i] < 192) {\n                    continue;\n                }\n            }\n            else if (fileBuffer[i] > 223 && fileBuffer[i] < 240 && i + 2 < totalBytes) {\n                i++;\n                if (fileBuffer[i] > 127 && fileBuffer[i] < 192 && fileBuffer[i + 1] > 127 && fileBuffer[i + 1] < 192) {\n                    i++;\n                    continue;\n                }\n            }\n            suspiciousBytes++;\n            // Read at least 32 fileBuffer before making a decision\n            if (i >= 32 && (suspiciousBytes * 100) / totalBytes > 10) {\n                return true;\n            }\n        }\n    }\n    if ((suspiciousBytes * 100) / totalBytes > 10) {\n        return true;\n    }\n    if (suspiciousBytes > 1 && isBinaryProto(fileBuffer, totalBytes)) {\n        return true;\n    }\n    return false;\n}\nfunction isString(x) {\n    return typeof x === 'string';\n}\nfunction isStatFile(stat) {\n    if (!stat.isFile()) {\n        throw new Error(`Path provided was not a file!`);\n    }\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** List of text file extensions */\nvar list = [\n    'Makefile',\n    'Rakefile',\n    'ada',\n    'adb',\n    'ads',\n    'applescript',\n    'as',\n    'ascx',\n    'asm',\n    'asmx',\n    'asp',\n    'aspx',\n    'atom',\n    'bas',\n    'bash',\n    'bashrc',\n    'bat',\n    'bbcolors',\n    'bdsgroup',\n    'bdsproj',\n    'bib',\n    'bowerrc',\n    'c',\n    'cbl',\n    'cc',\n    'cfc',\n    'cfg',\n    'cfm',\n    'cfml',\n    'cgi',\n    'clj',\n    'cls',\n    'cmake',\n    'cmd',\n    'cnf',\n    'cob',\n    'coffee',\n    'coffeekup',\n    'conf',\n    'cpp',\n    'cpt',\n    'cpy',\n    'crt',\n    'cs',\n    'csh',\n    'cson',\n    'csr',\n    'css',\n    'csslintrc',\n    'csv',\n    'ctl',\n    'curlrc',\n    'cxx',\n    'dart',\n    'dfm',\n    'diff',\n    'dof',\n    'dpk',\n    'dproj',\n    'dtd',\n    'eco',\n    'editorconfig',\n    'ejs',\n    'el',\n    'emacs',\n    'eml',\n    'ent',\n    'erb',\n    'erl',\n    'eslintignore',\n    'eslintrc',\n    'ex',\n    'exs',\n    'f',\n    'f03',\n    'f77',\n    'f90',\n    'f95',\n    'fish',\n    'for',\n    'fpp',\n    'frm',\n    'ftn',\n    'gemrc',\n    'gitattributes',\n    'gitconfig',\n    'gitignore',\n    'gitkeep',\n    'gitmodules',\n    'go',\n    'gpp',\n    'gradle',\n    'groovy',\n    'groupproj',\n    'grunit',\n    'gtmpl',\n    'gvimrc',\n    'h',\n    'haml',\n    'hbs',\n    'hgignore',\n    'hh',\n    'hpp',\n    'hrl',\n    'hs',\n    'hta',\n    'htaccess',\n    'htc',\n    'htm',\n    'html',\n    'htpasswd',\n    'hxx',\n    'iced',\n    'inc',\n    'ini',\n    'ino',\n    'int',\n    'irbrc',\n    'itcl',\n    'itermcolors',\n    'itk',\n    'jade',\n    'java',\n    'jhtm',\n    'jhtml',\n    'js',\n    'jscsrc',\n    'jshintignore',\n    'jshintrc',\n    'json',\n    'json5',\n    'jsonld',\n    'jsp',\n    'jspx',\n    'jsx',\n    'ksh',\n    'less',\n    'lhs',\n    'lisp',\n    'log',\n    'ls',\n    'lsp',\n    'lua',\n    'm',\n    'mak',\n    'map',\n    'markdown',\n    'master',\n    'md',\n    'mdown',\n    'mdwn',\n    'mdx',\n    'metadata',\n    'mht',\n    'mhtml',\n    'mjs',\n    'mk',\n    'mkd',\n    'mkdn',\n    'mkdown',\n    'ml',\n    'mli',\n    'mm',\n    'mxml',\n    'nfm',\n    'nfo',\n    'njk',\n    'noon',\n    'npmignore',\n    'npmrc',\n    'nvmrc',\n    'ops',\n    'pas',\n    'pasm',\n    'patch',\n    'pbxproj',\n    'pch',\n    'pem',\n    'pg',\n    'php',\n    'php3',\n    'php4',\n    'php5',\n    'phpt',\n    'phtml',\n    'pir',\n    'pl',\n    'pm',\n    'pmc',\n    'pod',\n    'pot',\n    'properties',\n    'props',\n    'pt',\n    'pug',\n    'py',\n    'r',\n    'rake',\n    'rb',\n    'rdoc',\n    'rdoc_options',\n    'resx',\n    'rhtml',\n    'rjs',\n    'rlib',\n    'rmd',\n    'ron',\n    'rs',\n    'rss',\n    'rst',\n    'rtf',\n    'rvmrc',\n    'rxml',\n    's',\n    'sass',\n    'scala',\n    'scm',\n    'scss',\n    'seestyle',\n    'sh',\n    'shtml',\n    'sls',\n    'spec',\n    'sql',\n    'sqlite',\n    'ss',\n    'sss',\n    'st',\n    'strings',\n    'sty',\n    'styl',\n    'stylus',\n    'sub',\n    'sublime-build',\n    'sublime-commands',\n    'sublime-completions',\n    'sublime-keymap',\n    'sublime-macro',\n    'sublime-menu',\n    'sublime-project',\n    'sublime-settings',\n    'sublime-workspace',\n    'sv',\n    'svc',\n    'svg',\n    't',\n    'tcl',\n    'tcsh',\n    'terminal',\n    'tex',\n    'text',\n    'textile',\n    'tg',\n    'tmLanguage',\n    'tmTheme',\n    'tmpl',\n    'tpl',\n    'ts',\n    'tsv',\n    'tsx',\n    'tt',\n    'tt2',\n    'ttml',\n    'txt',\n    'v',\n    'vb',\n    'vbs',\n    'vh',\n    'vhd',\n    'vhdl',\n    'vim',\n    'viminfo',\n    'vimrc',\n    'vue',\n    'webapp',\n    'wxml',\n    'wxss',\n    'x-php',\n    'xaml',\n    'xht',\n    'xhtml',\n    'xml',\n    'xs',\n    'xsd',\n    'xsl',\n    'xslt',\n    'yaml',\n    'yml',\n    'zsh',\n    'zshrc',\n];\nexports.default = list;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/** List of binary file extensions */\nvar list = [\n    'dds',\n    'eot',\n    'gif',\n    'ico',\n    'jar',\n    'jpeg',\n    'jpg',\n    'pdf',\n    'png',\n    'swf',\n    'tga',\n    'ttf',\n    'zip',\n];\nexports.default = list;\n", "'use strict';\n\nconst fs = require('fs');\nconst path = require('path');\nconst commondir = require('commondir');\nconst globby = require('globby');\nconst normalize = require('normalize-path');\nconst {Transform} = require('stream');\nconst {isBinaryFileSync} = require('isbinaryfile');\n\nconst {default: textextensions} = require('textextensions');\nconst {default: binaryextensions} = require('binaryextensions');\n\nfunction notNullOrExclusion(file) {\n  return file != null && file.charAt(0) !== '!';\n}\n\nexports.getCommonPath = function (filePath) {\n  if (Array.isArray(filePath)) {\n    filePath = filePath\n      .filter(notNullOrExclusion)\n      .map(this.getCommonPath.bind(this));\n\n    return commondir(filePath);\n  }\n\n  const globStartIndex = filePath.indexOf('*');\n  if (globStartIndex !== -1) {\n    filePath = filePath.substring(0, globStartIndex + 1);\n  } else if (fs.existsSync(filePath) && fs.statSync(filePath).isDirectory()) {\n    return filePath;\n  }\n\n  return path.dirname(filePath);\n};\n\nexports.globify = function (filePath) {\n  if (Array.isArray(filePath)) {\n    return filePath.reduce((memo, pattern) => memo.concat(this.globify(normalize(pattern))), []);\n  }\n\n  filePath = normalize(filePath);\n\n  if (globby.hasMagic(filePath)) {\n    return filePath;\n  }\n\n  if (!fs.existsSync(filePath)) {\n    // The target of a pattern who's not a glob and doesn't match an existing\n    // entity on the disk is ambiguous. As such, match both files and directories.\n    return [\n      filePath,\n      normalize(path.join(filePath, '**')),\n    ];\n  }\n\n  const fsStats = fs.statSync(filePath);\n  if (fsStats.isFile()) {\n    return filePath;\n  }\n\n  if (fsStats.isDirectory()) {\n    return normalize(path.join(filePath, '**'));\n  }\n\n  throw new Error('Only file path or directory path are supported.');\n};\n\nexports.createTransform = function (transform) {\n  const stream = new Transform({\n    objectMode: true,\n    transform(...args) {\n      return transform.apply(this, args);\n    },\n  });\n  return stream;\n};\n\nexports.isBinary = (filePath, newFileContents) => {\n  const extension = path.extname(filePath).replace(/^\\./, '') || path.basename(filePath);\n  if (binaryextensions.includes(extension)) {\n    return true;\n  }\n\n  if (textextensions.includes(extension)) {\n    return false;\n  }\n\n  return (\n    (fs.existsSync(filePath) && isBinaryFileSync(filePath))\n    || (newFileContents && isBinaryFileSync(Buffer.isBuffer(newFileContents) ? newFileContents : Buffer.from(newFileContents)))\n  );\n};\n", "'use strict';\n\nconst path = require('path');\nconst globby = require('globby');\nconst multimatch = require('multimatch');\nconst util = require('../util');\nconst {setDeletedFileState} = require('../state');\n\nfunction deleteFile(path, store) {\n  const file = store.get(path);\n  setDeletedFileState(file);\n  file.contents = null;\n  store.add(file);\n}\n\nmodule.exports = function (paths, options) {\n  if (!Array.isArray(paths)) {\n    paths = [paths];\n  }\n\n  paths = paths.map(filePath => path.resolve(filePath));\n  paths = util.globify(paths);\n  options = options || {};\n\n  const globOptions = options.globOptions || {};\n  const files = globby.sync(paths, globOptions);\n  files.forEach(file => {\n    deleteFile(file, this.store);\n  });\n\n  this.store.each(file => {\n    if (multimatch([file.path], paths).length !== 0) {\n      deleteFile(file.path, this.store);\n    }\n  });\n};\n", "'use strict';\n\nconst assert = require('assert');\nconst fs = require('fs');\nconst path = require('path');\nconst globby = require('globby');\nconst multimatch = require('multimatch');\nconst ejs = require('ejs');\nconst util = require('../util');\nconst normalize = require('normalize-path');\n\nfunction applyProcessingFunc(process, contents, filename) {\n  const output = process(contents, filename);\n  return Buffer.isBuffer(output) ? output : Buffer.from(output);\n}\n\nexports.copy = function (from, to, options, context, tplSettings) {\n  to = path.resolve(to);\n  options = options || {};\n  const fromGlob = util.globify(from);\n\n  let diskFiles = [];\n  if (options.noGlob) {\n    const fromFiles = Array.isArray(fromGlob) ? fromGlob : [fromGlob];\n    diskFiles = fromFiles.filter(filepath => fs.existsSync(filepath));\n  } else {\n    const globOptions = {...options.globOptions, nodir: true};\n    diskFiles = globby.sync(fromGlob, globOptions).map(file => path.resolve(file));\n  }\n\n  const storeFiles = [];\n  this.store.each(file => {\n    // The store may have a glob path and when we try to copy it will fail because not real file\n    if (!globby.hasMagic(normalize(file.path)) && multimatch([file.path], fromGlob).length !== 0 && !diskFiles.includes(file.path)) {\n      storeFiles.push(file.path);\n    }\n  });\n  const files = diskFiles.concat(storeFiles);\n\n  let generateDestination = () => to;\n  if (Array.isArray(from) || !this.exists(from) || (globby.hasMagic(normalize(from)) && !options.noGlob)) {\n    assert(\n      !this.exists(to) || fs.statSync(to).isDirectory(),\n      'When copying multiple files, provide a directory as destination',\n    );\n\n    const processDestinationPath = options.processDestinationPath || (path => path);\n    const root = util.getCommonPath(from);\n    generateDestination = filepath => {\n      const toFile = path.relative(root, filepath);\n      return processDestinationPath(path.join(to, toFile));\n    };\n  }\n\n  // Sanity checks: Makes sure we copy at least one file.\n  assert(options.ignoreNoMatch || files.length > 0, 'Trying to copy from a source that does not exist: ' + from);\n\n  files.forEach(file => {\n    let toFile = generateDestination(file);\n    if (context) {\n      toFile = ejs.render(toFile, context, tplSettings);\n    }\n\n    this._copySingle(file, toFile, options, context, tplSettings);\n  });\n};\n\nexports._copySingle = function (from, to, options = {}) {\n  assert(this.exists(from), 'Trying to copy from a source that does not exist: ' + from);\n\n  const file = this.store.get(from);\n\n  let {contents} = file;\n  if (options.process) {\n    contents = applyProcessingFunc(options.process, file.contents, file.path);\n  }\n\n  if (options.append) {\n    if (!this.store.existsInMemory) {\n      throw new Error('Current mem-fs is not compatible with append');\n    }\n\n    if (this.store.existsInMemory(to)) {\n      this.append(to, contents, {create: true, ...options});\n      return;\n    }\n  }\n\n  this.write(to, contents, file.stat);\n};\n", "'use strict';\n\nconst ejs = require('ejs');\nconst {isBinary} = require('../util');\n\nmodule.exports._processTpl = function ({contents, filename, context, tplSettings}) {\n  if (isBinary(filename, contents)) {\n    return contents;\n  }\n\n  return ejs.render(\n    contents.toString(),\n    context,\n    {\n      // Setting filename by default allow including partials.\n      filename,\n      ...tplSettings,\n    },\n  );\n};\n\nmodule.exports.copyTpl = function (from, to, context, tplSettings, options) {\n  context = context || {};\n  tplSettings = tplSettings || {};\n\n  this.copy(\n    from,\n    to,\n    {\n      processDestinationPath: path => path.replace(/.ejs$/, ''),\n      ...options,\n      process: (contents, filename) => this._processTpl({contents, filename, context, tplSettings}),\n    },\n    context,\n    tplSettings,\n  );\n};\n", "'use strict';\n\nconst assert = require('assert');\nconst fs = require('fs');\nconst fsPromises = require('fs').promises;\nconst path = require('path');\nconst globby = require('globby');\nconst multimatch = require('multimatch');\nconst ejs = require('ejs');\nconst util = require('../util');\nconst normalize = require('normalize-path');\n\nasync function applyProcessingFileFunc(processFile, filename) {\n  const output = await Promise.resolve(processFile.call(this, filename));\n  return Buffer.isBuffer(output) ? output : Buffer.from(output);\n}\n\nfunction renderFilepath(filepath, context, tplSettings) {\n  if (!context) {\n    return filepath;\n  }\n\n  return ejs.render(filepath, context, tplSettings);\n}\n\nasync function getOneFile(from) {\n  let oneFile;\n  if (typeof from === 'string') {\n    oneFile = from;\n  } else {\n    return undefined;\n  }\n\n  const resolved = path.resolve(oneFile);\n  try {\n    if ((await fsPromises.stat(resolved)).isFile()) {\n      return resolved;\n    }\n  } catch (_) {\n  }\n\n  return undefined;\n}\n\nexports.copyAsync = async function (from, to, options, context, tplSettings) {\n  to = path.resolve(to);\n  options = options || {};\n  const oneFile = await getOneFile(from);\n  if (oneFile) {\n    return this._copySingleAsync(oneFile, renderFilepath(to, context, tplSettings), options);\n  }\n\n  const fromGlob = util.globify(from);\n\n  const globOptions = {...options.globOptions, nodir: true};\n  const diskFiles = globby.sync(fromGlob, globOptions).map(filepath => path.resolve(filepath));\n  const storeFiles = [];\n  this.store.each(file => {\n    // The store may have a glob path and when we try to copy it will fail because not real file\n    if (!globby.hasMagic(normalize(file.path)) && multimatch([file.path], fromGlob).length !== 0 && !diskFiles.includes(file.path)) {\n      storeFiles.push(file.path);\n    }\n  });\n\n  let generateDestination = () => to;\n  if (Array.isArray(from) || !this.exists(from) || globby.hasMagic(normalize(from))) {\n    assert(\n      !this.exists(to) || fs.statSync(to).isDirectory(),\n      'When copying multiple files, provide a directory as destination',\n    );\n\n    const processDestinationPath = options.processDestinationPath || (path => path);\n    const root = util.getCommonPath(from);\n    generateDestination = filepath => {\n      const toFile = path.relative(root, filepath);\n      return processDestinationPath(path.join(to, toFile));\n    };\n  }\n\n  // Sanity checks: Makes sure we copy at least one file.\n  assert(options.ignoreNoMatch || diskFiles.length > 0 || storeFiles.length > 0, 'Trying to copy from a source that does not exist: ' + from);\n\n  await Promise.all([\n    ...diskFiles.map(file => this._copySingleAsync(file, renderFilepath(generateDestination(file), context, tplSettings), options)),\n    ...storeFiles.map(file => Promise.resolve(this._copySingle(file, renderFilepath(generateDestination(file), context, tplSettings), options))),\n  ]);\n};\n\nexports._copySingleAsync = async function (from, to, options = {}) {\n  if (!options.processFile) {\n    return this._copySingle(from, to, options);\n  }\n\n  const contents = await applyProcessingFileFunc.call(this, options.processFile, from);\n\n  if (options.append) {\n    if (!this.store.existsInMemory) {\n      throw new Error('Current mem-fs is not compatible with append');\n    }\n\n    if (this.store.existsInMemory(to)) {\n      this.append(to, contents, {create: true, ...options});\n      return;\n    }\n  }\n\n  const stat = await fsPromises.stat(from);\n  this.write(to, contents, stat);\n};\n", "'use strict';\n\nconst ejs = require('ejs');\nconst fs = require('fs').promises;\nconst {isBinary} = require('../util');\n\nmodule.exports = async function (from, to, context, tplSettings, options) {\n  context = context || {};\n  tplSettings = tplSettings || {};\n\n  await this.copyAsync(\n    from,\n    to,\n    {\n      processDestinationPath: path => path.replace(/.ejs$/, ''),\n      ...options,\n      async processFile(filename) {\n        if (isBinary(filename, null)) {\n          return fs.readFile(filename);\n        }\n\n        return ejs.renderFile(filename, context, tplSettings);\n      },\n      process: (contents, filename, destination) => this._processTpl({contents, filename, destination, context, tplSettings}),\n    },\n    context,\n    tplSettings,\n  );\n};\n", "'use strict';\n\nmodule.exports = function (from, to, options) {\n  this.copy(from, to, options);\n  this.delete(from, options);\n};\n", "const {createTransform} = require('./util');\nconst {isFilePending} = require('./state');\n\nconst createPendingFilesPassthrough = () => createTransform((file, _enc, cb) => {\n  // Don't process deleted file who haven't been commited yet.\n  cb(undefined, isFilePending(file) ? file : undefined);\n});\n\nconst createCommitTransform = memFsEditor => createTransform((file, _enc, cb) => {\n  memFsEditor.commitFileAsync(file).then(() => cb()).catch(error => cb(error));\n});\n\nmodule.exports = {createPendingFilesPassthrough, createCommitTransform};\n", "'use strict';\n\nconst {promisify} = require('util');\nconst {pipeline: _pipeline} = require('stream');\nconst pipeline = promisify(_pipeline);\n\nconst {createPendingFilesPassthrough, createCommitTransform} = require('../transform');\n\nmodule.exports = function (filters, stream, cb) {\n  if (typeof filters === 'function') {\n    cb = filters;\n    filters = [];\n    stream = undefined;\n  } else if (typeof stream === 'function') {\n    cb = stream;\n    stream = undefined;\n  }\n\n  stream = stream || this.store.stream();\n  filters = filters || [];\n\n  const promise = pipeline(\n    stream,\n    createPendingFilesPassthrough(),\n    ...filters,\n    createCommitTransform(this),\n  );\n  if (cb) {\n    return promise.then(() => cb(), cb);\n  }\n\n  return promise;\n};\n", "'use strict';\n\nconst fs = require('fs').promises;\nconst path = require('path');\nconst {clearFileState, isFileStateModified, isFileStateDeleted, setCommittedFile} = require('../state');\n\nasync function write(file) {\n  const dir = path.dirname(file.path);\n  try {\n    if (!(await fs.stat(dir)).isDirectory()) {\n      throw new Error(`${file.path} is not a directory`);\n    }\n  } catch (error) {\n    if (error.code === 'ENOENT') {\n      await fs.mkdir(dir, {recursive: true});\n    } else {\n      throw error;\n    }\n  }\n\n  const options = {};\n  if (file.stat) {\n    options.mode = file.stat.mode;\n  }\n\n  await fs.writeFile(file.path, file.contents, options);\n}\n\nasync function remove(file) {\n  const remove = fs.rm || fs.rmdir;\n  await remove(file.path, {recursive: true});\n}\n\nmodule.exports = async function (file) {\n  const existingFile = this.store.get(file.path);\n  if (!existingFile || existingFile !== file) {\n    this.store.add(file);\n  }\n\n  if (isFileStateModified(file)) {\n    setCommittedFile(file);\n    await write(file);\n  } else if (isFileStateDeleted(file)) {\n    setCommittedFile(file);\n    await remove(file);\n  }\n\n  clearFileState(file);\n};\n", "'use strict';\n\nconst path = require('path');\nconst normalize = require('normalize-path');\nconst minimatch = require('minimatch');\n\nconst {hasClearedState, hasState, STATE, STATE_CLEARED} = require('../state');\n\nmodule.exports = function (cwd = process.cwd(), filter = file => hasClearedState(file) || hasState(file)) {\n  if (typeof filter === 'string') {\n    const pattern = filter;\n    filter = file => minimatch(file.path, pattern);\n  }\n\n  return Object.fromEntries(\n    this.store.all().filter(file => filter(file, cwd)).map(file => {\n      const filePath = normalize(cwd ? path.relative(cwd, file.path) : file.path);\n      const fileDump = {\n        contents: file.contents ? file.contents.toString() : file.contents,\n      };\n      if (file[STATE]) {\n        fileDump[STATE] = file[STATE];\n      }\n\n      if (file[STATE_CLEARED]) {\n        fileDump[STATE_CLEARED] = file[STATE_CLEARED];\n      }\n\n      return [filePath, fileDump];\n    }),\n  );\n};\n", "'use strict';\n\nfunction EditionInterface(store) {\n  this.store = store;\n}\n\nEditionInterface.prototype.read = require('./actions/read.js');\nEditionInterface.prototype.readJSON = require('./actions/read-json.js');\nEditionInterface.prototype.exists = require('./actions/exists');\nEditionInterface.prototype.write = require('./actions/write.js');\nEditionInterface.prototype.writeJSON = require('./actions/write-json.js');\nEditionInterface.prototype.extendJSON = require('./actions/extend-json.js');\nEditionInterface.prototype.append = require('./actions/append.js');\nEditionInterface.prototype.appendTpl = require('./actions/append-tpl.js');\nEditionInterface.prototype.delete = require('./actions/delete.js');\nEditionInterface.prototype.copy = require('./actions/copy.js').copy;\nEditionInterface.prototype._copySingle = require('./actions/copy.js')._copySingle;\nEditionInterface.prototype.copyTpl = require('./actions/copy-tpl.js').copyTpl;\nEditionInterface.prototype._processTpl = require('./actions/copy-tpl.js')._processTpl;\nEditionInterface.prototype.copyAsync = require('./actions/copy-async.js').copyAsync;\nEditionInterface.prototype._copySingleAsync = require('./actions/copy-async.js')._copySingleAsync;\nEditionInterface.prototype.copyTplAsync = require('./actions/copy-tpl-async.js');\nEditionInterface.prototype.move = require('./actions/move.js');\nEditionInterface.prototype.commit = require('./actions/commit.js');\nEditionInterface.prototype.commitFileAsync = require('./actions/commit-file-async.js');\nEditionInterface.prototype.dump = require('./actions/dump.js');\n\nexports.create = function (store) {\n  return new EditionInterface(store);\n};\n\nexports.State = require('./state');\n", "// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\nmodule.exports = {\n  SEMVER_SPEC_VERSION,\n  MAX_LENGTH,\n  MAX_SAFE_INTEGER,\n  MAX_SAFE_COMPONENT_LENGTH\n}\n", "const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n", "const { MAX_SAFE_COMPONENT_LENGTH } = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst createToken = (name, value, isGlobal) => {\n  const index = R++\n  debug(index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*')\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+')\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\.0\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\.0\\.0-0\\\\s*$')\n", "// parse out just the options we care about so we always get a consistent\n// obj with keys in a consistent order.\nconst opts = ['includePrerelease', 'loose', 'rtl']\nconst parseOptions = options =>\n  !options ? {}\n  : typeof options !== 'object' ? { loose: true }\n  : opts.filter(k => options[k]).reduce((options, k) => {\n    options[k] = true\n    return options\n  }, {})\nmodule.exports = parseOptions\n", "const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers\n}\n", "const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier)\n        this.inc('pre', identifier)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier)\n        }\n        this.inc('pre', identifier)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre':\n        if (this.prerelease.length === 0) {\n          this.prerelease = [0]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            this.prerelease.push(0)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          if (this.prerelease[0] === identifier) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = [identifier, 0]\n            }\n          } else {\n            this.prerelease = [identifier, 0]\n          }\n        }\n        break\n\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.format()\n    this.raw = this.version\n    return this\n  }\n}\n\nmodule.exports = SemVer\n", "const {MAX_LENGTH} = require('../internal/constants')\nconst { re, t } = require('../internal/re')\nconst SemVer = require('../classes/semver')\n\nconst parseOptions = require('../internal/parse-options')\nconst parse = (version, options) => {\n  options = parseOptions(options)\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  const r = options.loose ? re[t.LOOSE] : re[t.FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nmodule.exports = parse\n", "const parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n", "const parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n", "const SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier) => {\n  if (typeof (options) === 'string') {\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(version, options).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n", "const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n", "const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n", "const parse = require('./parse')\nconst eq = require('./eq')\n\nconst diff = (version1, version2) => {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    const v1 = parse(version1)\n    const v2 = parse(version2)\n    const hasPre = v1.prerelease.length || v2.prerelease.length\n    const prefix = hasPre ? 'pre' : ''\n    const defaultResult = hasPre ? 'prerelease' : ''\n    for (const key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\nmodule.exports = diff\n", "const SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n", "const SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n", "const SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n", "const parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n", "const compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n", "const compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n", "const SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n", "const compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n", "const compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n", "const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n", "const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n", "const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n", "const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n", "const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n", "const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n", "const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst {re, t} = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    let next\n    while ((next = re[t.COERCERTL].exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1\n  }\n\n  if (match === null)\n    return null\n\n  return parse(`${match[2]}.${match[3] || '0'}.${match[4] || '0'}`, options)\n}\nmodule.exports = coerce\n", "'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n", "'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    walker = insert(this, walker, nodes[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n", "'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n", "// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.format()\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First, split based on boolean or ||\n    this.raw = range\n    this.set = range\n      .split(/\\s*\\|\\|\\s*/)\n      // map the range to a 2d array of comparators\n      .map(range => this.parseRange(range.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${range}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0)\n        this.set = [first]\n      else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.format()\n  }\n\n  format () {\n    this.range = this.set\n      .map((comps) => {\n        return comps.join(' ').trim()\n      })\n      .join('||')\n      .trim()\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    range = range.trim()\n\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts = Object.keys(this.options).join(',')\n    const memoKey = `parseRange:${memoOpts}:${range}`\n    const cached = cache.get(memoKey)\n    if (cached)\n      return cached\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range, re[t.COMPARATORTRIM])\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n\n    // normalize spaces\n    range = range.split(/\\s+/).join(' ')\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    const compRe = loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n      // in loose mode, throw out any that are not valid comparators\n      .filter(this.options.loose ? comp => !!comp.match(compRe) : () => true)\n      .map(comp => new Comparator(comp, this.options))\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const l = rangeList.length\n    const rangeMap = new Map()\n    for (const comp of rangeList) {\n      if (isNullSet(comp))\n        return [comp]\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has(''))\n      rangeMap.delete('')\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\nmodule.exports = Range\n\nconst LRU = require('lru-cache')\nconst cache = new LRU({ max: 1000 })\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace\n} = require('../internal/re')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\nconst replaceTildes = (comp, options) =>\n  comp.trim().split(/\\s+/).map((comp) => {\n    return replaceTilde(comp, options)\n  }).join(' ')\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\nconst replaceCarets = (comp, options) =>\n  comp.trim().split(/\\s+/).map((comp) => {\n    return replaceCaret(comp, options)\n  }).join(' ')\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map((comp) => {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<')\n        pr = '-0'\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp.trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return (`${from} ${to}`).trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n", "const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (!options || typeof options !== 'object') {\n      options = {\n        loose: !!options,\n        includePrerelease: false\n      }\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    const sameDirectionIncreasing =\n      (this.operator === '>=' || this.operator === '>') &&\n      (comp.operator === '>=' || comp.operator === '>')\n    const sameDirectionDecreasing =\n      (this.operator === '<=' || this.operator === '<') &&\n      (comp.operator === '<=' || comp.operator === '<')\n    const sameSemVer = this.semver.version === comp.semver.version\n    const differentDirectionsInclusive =\n      (this.operator === '>=' || this.operator === '<=') &&\n      (comp.operator === '>=' || comp.operator === '<=')\n    const oppositeDirectionsLessThan =\n      cmp(this.semver, '<', comp.semver, options) &&\n      (this.operator === '>=' || this.operator === '>') &&\n        (comp.operator === '<=' || comp.operator === '<')\n    const oppositeDirectionsGreaterThan =\n      cmp(this.semver, '>', comp.semver, options) &&\n      (this.operator === '<=' || this.operator === '<') &&\n        (comp.operator === '>=' || comp.operator === '>')\n\n    return (\n      sameDirectionIncreasing ||\n      sameDirectionDecreasing ||\n      (sameSemVer && differentDirectionsInclusive) ||\n      oppositeDirectionsLessThan ||\n      oppositeDirectionsGreaterThan\n    )\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst {re, t} = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n", "const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n", "const Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n", "const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n", "const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n", "const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin)))\n      minver = setMin\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n", "const Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n", "const SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst {ANY} = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n", "// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n", "const outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n", "const Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\nmodule.exports = intersects\n", "// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let min = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!min)\n        min = version\n    } else {\n      if (prev) {\n        set.push([min, prev])\n      }\n      prev = null\n      min = null\n    }\n  }\n  if (min)\n    set.push([min, null])\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max)\n      ranges.push(min)\n    else if (!max && min === v[0])\n      ranges.push('*')\n    else if (!max)\n      ranges.push(`>=${min}`)\n    else if (min === v[0])\n      ranges.push(`<=${max}`)\n    else\n      ranges.push(`${min} - ${max}`)\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n", "const Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom)\n    return true\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub)\n        continue OUTER\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull)\n      return false\n  }\n  return true\n}\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom)\n    return true\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY)\n      return true\n    else if (options.includePrerelease)\n      sub = [ new Comparator('>=0.0.0-0') ]\n    else\n      sub = [ new Comparator('>=0.0.0') ]\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease)\n      return true\n    else\n      dom = [ new Comparator('>=0.0.0') ]\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=')\n      gt = higherGT(gt, c, options)\n    else if (c.operator === '<' || c.operator === '<=')\n      lt = lowerLT(lt, c, options)\n    else\n      eqSet.add(c.semver)\n  }\n\n  if (eqSet.size > 1)\n    return null\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0)\n      return null\n    else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<='))\n      return null\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options))\n      return null\n\n    if (lt && !satisfies(eq, String(lt), options))\n      return null\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options))\n        return false\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt)\n          return false\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options))\n        return false\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt)\n          return false\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options))\n        return false\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0)\n      return false\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0)\n    return false\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0)\n    return false\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre)\n    return false\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a)\n    return b\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a)\n    return b\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n", "// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nmodule.exports = {\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: require('./internal/constants').SEMVER_SPEC_VERSION,\n  SemVer: require('./classes/semver'),\n  compareIdentifiers: require('./internal/identifiers').compareIdentifiers,\n  rcompareIdentifiers: require('./internal/identifiers').rcompareIdentifiers,\n  parse: require('./functions/parse'),\n  valid: require('./functions/valid'),\n  clean: require('./functions/clean'),\n  inc: require('./functions/inc'),\n  diff: require('./functions/diff'),\n  major: require('./functions/major'),\n  minor: require('./functions/minor'),\n  patch: require('./functions/patch'),\n  prerelease: require('./functions/prerelease'),\n  compare: require('./functions/compare'),\n  rcompare: require('./functions/rcompare'),\n  compareLoose: require('./functions/compare-loose'),\n  compareBuild: require('./functions/compare-build'),\n  sort: require('./functions/sort'),\n  rsort: require('./functions/rsort'),\n  gt: require('./functions/gt'),\n  lt: require('./functions/lt'),\n  eq: require('./functions/eq'),\n  neq: require('./functions/neq'),\n  gte: require('./functions/gte'),\n  lte: require('./functions/lte'),\n  cmp: require('./functions/cmp'),\n  coerce: require('./functions/coerce'),\n  Comparator: require('./classes/comparator'),\n  Range: require('./classes/range'),\n  satisfies: require('./functions/satisfies'),\n  toComparators: require('./ranges/to-comparators'),\n  maxSatisfying: require('./ranges/max-satisfying'),\n  minSatisfying: require('./ranges/min-satisfying'),\n  minVersion: require('./ranges/min-version'),\n  validRange: require('./ranges/valid'),\n  outside: require('./ranges/outside'),\n  gtr: require('./ranges/gtr'),\n  ltr: require('./ranges/ltr'),\n  intersects: require('./ranges/intersects'),\n  simplifyRange: require('./ranges/simplify'),\n  subset: require('./ranges/subset'),\n}\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getErrorMessage = exports.validateBasePath = exports.validateVersion = void 0;\nconst path_1 = require(\"path\");\nconst mem_fs_1 = require(\"mem-fs\");\nconst mem_fs_editor_1 = require(\"mem-fs-editor\");\nconst semver_1 = require(\"semver\");\n/**\n * Validate that the UI5 version requirement is valid.\n *\n * @param ui5Version - optional minimum required UI5 version\n * @returns true if the version is supported otherwise throws an error\n */\nfunction validateVersion(ui5Version) {\n    const minVersion = semver_1.coerce(ui5Version);\n    if (minVersion && minVersion.minor < 84) {\n        throw new Error('SAP Fiori elements for OData v4 is only supported starting with SAPUI5 1.84.');\n    }\n    return true;\n}\nexports.validateVersion = validateVersion;\n/**\n * Validates the provided base path.\n *\n * @param {string} basePath - the base path\n * @param {Editor} fs - the memfs editor instance\n * @returns true if the path is valid, otherwise, throws and error\n */\nfunction validateBasePath(basePath, fs) {\n    var _a, _b, _c;\n    if (!fs) {\n        fs = mem_fs_editor_1.create(mem_fs_1.create());\n    }\n    const manifestPath = path_1.join(basePath, 'webapp', 'manifest.json');\n    if (!fs.exists(manifestPath)) {\n        throw new Error(`Invalid project folder. Cannot find required file ${manifestPath}`);\n    }\n    else {\n        const manifest = fs.readJSON(manifestPath);\n        if ((((_c = (_b = (_a = manifest['sap.ui5']) === null || _a === void 0 ? void 0 : _a.dependencies) === null || _b === void 0 ? void 0 : _b.libs) === null || _c === void 0 ? void 0 : _c['sap.fe.templates']) !== undefined) === false) {\n            throw new Error('Dependency sap.fe.templates is missing in the manifest.json. Fiori elements FPM requires the SAP FE libraries.');\n        }\n    }\n    return true;\n}\nexports.validateBasePath = validateBasePath;\n/**\n * Returns the message property if the error is an instance of `Error` else a string representation of the error.\n *\n * @param error {Error | unknown} - the error instance\n * @returns {string} the error message\n */\nfunction getErrorMessage(error) {\n    return error instanceof Error ? error.message : String(error);\n}\nexports.getErrorMessage = getErrorMessage;\n//# sourceMappingURL=validate.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getDefaultFragmentContent = exports.setCommonDefaults = exports.FCL_ROUTER = void 0;\nconst path_1 = require(\"path\");\nexports.FCL_ROUTER = 'sap.f.routing.Router';\n/**\n * Sets the common default values for all custom elements.\n *\n * @param config custom element configuration object\n * @param {string} manifestPath - path to the project's manifest.json\n * @param {Manifest} manifest - the application manifest\n * @returns enhanced configuration\n */\nfunction setCommonDefaults(config, manifestPath, manifest) {\n    // enforce naming conventions\n    const firstChar = config.name[0];\n    config.name = firstChar.toUpperCase() + config.name.substring(1);\n    // set target folder if not provided\n    config.folder = config.folder || `ext/${firstChar.toLocaleLowerCase() + config.name.substring(1)}`;\n    // calculate namespace and path for generated artifacts\n    config.ns = `${manifest['sap.app'].id}.${config.folder.replace(/[\\/\\\\]/g, '.')}`;\n    config.path = path_1.join(path_1.dirname(manifestPath), config.folder);\n    return config;\n}\nexports.setCommonDefaults = setCommonDefaults;\n/**\n * Method to generate default content for xml fragment.\n *\n * @param {string} text - text of button or label\n * @param {string} [eventHandler] - event handler path\n *      if value is passed then \"Button\" control with 'press' event would be generated\n *      if value is not passed then \"Text\" control would be generated\n * @param {boolean} isController - controls if `controller` should be added to handler path\n * @returns default content for fragment\n */\nfunction getDefaultFragmentContent(text, eventHandler, isController = false) {\n    let content;\n    if (eventHandler) {\n        const parts = eventHandler.split('.');\n        const method = parts.pop();\n        const handler = `${parts.join('/')}${isController ? '.controller' : ''}`;\n        content = `<Button core:require=\"{ handler: '${handler}'}\" text=\"${text}\" press=\"handler.${method}\" />`;\n    }\n    else {\n        content = `<Text text=\"${text}\" />`;\n    }\n    return content;\n}\nexports.getDefaultFragmentContent = getDefaultFragmentContent;\n//# sourceMappingURL=defaults.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validatePageConfig = exports.getFclConfig = exports.getManifestJsonExtensionHelper = exports.generateRouteTarget = exports.generateRoutePattern = exports.PATTERN_SUFFIX = void 0;\nconst path_1 = require(\"path\");\nconst validate_1 = require(\"../common/validate\");\nconst defaults_1 = require(\"../common/defaults\");\n/**\n * Suffix for patterns to support arbitrary paramters\n */\nexports.PATTERN_SUFFIX = ':?query:';\n/**\n * Generates the pattern for a new route based on the input.\n *\n * @param routes existing routes\n * @param targetEntity entity of the target\n * @param nav navigation object\n * @returns the generated pattern as string\n */\nfunction generateRoutePattern(routes, targetEntity, nav) {\n    var _a;\n    const parts = [];\n    if ((nav === null || nav === void 0 ? void 0 : nav.sourcePage) && nav.navEntity) {\n        const sourceRoute = routes.find((route) => route.name === nav.sourcePage);\n        if (sourceRoute === null || sourceRoute === void 0 ? void 0 : sourceRoute.pattern) {\n            const basePattern = sourceRoute.pattern.replace(exports.PATTERN_SUFFIX, '');\n            if (basePattern) {\n                parts.push(basePattern);\n                parts.push('/');\n                parts.push(nav.navEntity);\n            }\n            else {\n                parts.push(targetEntity);\n            }\n        }\n        else {\n            throw new Error('Navigation source invalid');\n        }\n    }\n    else if (routes.length > 0) {\n        parts.push(targetEntity);\n    }\n    if (nav === null || nav === void 0 ? void 0 : nav.navKey) {\n        parts.push(`({${(_a = nav === null || nav === void 0 ? void 0 : nav.navEntity) !== null && _a !== void 0 ? _a : targetEntity}Key})`);\n    }\n    parts.push(exports.PATTERN_SUFFIX);\n    return parts.join('');\n}\nexports.generateRoutePattern = generateRoutePattern;\n/**\n * Generates the target property for a route based on exiting routes, configurations and the target's name.\n *\n * @param routes existing routes\n * @param name name of the target page\n * @param fcl optional flag if FCL is enabled\n * @param nav navigation object\n * @returns the target property of a route\n */\nfunction generateRouteTarget(routes, name, fcl, nav) {\n    var _a;\n    if (nav === null || nav === void 0 ? void 0 : nav.sourcePage) {\n        const sourceRoute = routes.find((route) => route.name === nav.sourcePage);\n        // FCL only supports 3 columns, therefore, show the page in fullscreen if it is the 4th level of navigation\n        if (fcl && ((_a = sourceRoute === null || sourceRoute === void 0 ? void 0 : sourceRoute.target) === null || _a === void 0 ? void 0 : _a.constructor) === Array && sourceRoute.target.length < 3) {\n            return [...sourceRoute.target, name];\n        }\n    }\n    return fcl ? [name] : name;\n}\nexports.generateRouteTarget = generateRouteTarget;\n/**\n * Create a function that can be used as JsonReplace when calling extendJson.\n *\n * @param config page configuration\n * @returns a JsonReplacer function for the usage in ejs\n */\nfunction getManifestJsonExtensionHelper(config) {\n    return (key, value) => {\n        var _a;\n        switch (key) {\n            case 'routing':\n                value.routes = (_a = value.routes) !== null && _a !== void 0 ? _a : [];\n                break;\n            case 'routes':\n                const routes = value;\n                routes.push({\n                    name: `${config.entity}${config.name}`,\n                    pattern: generateRoutePattern(routes, config.entity, config.navigation),\n                    target: generateRouteTarget(routes, `${config.entity}${config.name}`, config.fcl, config.navigation)\n                });\n                break;\n            default:\n                break;\n        }\n        return value;\n    };\n}\nexports.getManifestJsonExtensionHelper = getManifestJsonExtensionHelper;\n/**\n * Get the configuration parameters for the flexible column layout based on the given manifest and navigation config.\n *\n * @param manifest existing manifest\n * @param navigation navigation configuration that is to be added\n * @returns fcl configuration\n */\nfunction getFclConfig(manifest, navigation) {\n    var _a, _b, _c, _d, _e, _f;\n    const config = {};\n    if (((_c = (_b = (_a = manifest['sap.ui5']) === null || _a === void 0 ? void 0 : _a.routing) === null || _b === void 0 ? void 0 : _b.config) === null || _c === void 0 ? void 0 : _c.routerClass) === defaults_1.FCL_ROUTER) {\n        config.fcl = true;\n        if (navigation) {\n            const sourceRoute = (((_e = (_d = manifest['sap.ui5']) === null || _d === void 0 ? void 0 : _d.routing) === null || _e === void 0 ? void 0 : _e.routes) || []).find((route) => route.name === (navigation === null || navigation === void 0 ? void 0 : navigation.sourcePage));\n            config.controlAggregation =\n                ((_f = sourceRoute === null || sourceRoute === void 0 ? void 0 : sourceRoute.target) !== null && _f !== void 0 ? _f : []).length > 1 ? 'endColumnPages' : 'midColumnPages';\n        }\n        else {\n            config.controlAggregation = 'beginColumnPages';\n        }\n    }\n    return config;\n}\nexports.getFclConfig = getFclConfig;\n/**\n * Validate the input parameters for the generation of a custom or an object page.\n *\n * @param basePath - the base path\n * @param config - the custom page configuration\n * @param fs - the memfs editor instance\n * @returns the updated memfs editor instance\n */\nfunction validatePageConfig(basePath, config, fs) {\n    // common validators\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n    validate_1.validateBasePath(basePath, fs);\n    // validate config against the manifest\n    if ((_a = config.navigation) === null || _a === void 0 ? void 0 : _a.sourcePage) {\n        const manifest = fs.readJSON(path_1.join(basePath, 'webapp/manifest.json'));\n        if (!((_d = (_c = (_b = manifest['sap.ui5']) === null || _b === void 0 ? void 0 : _b.routing) === null || _c === void 0 ? void 0 : _c.targets) === null || _d === void 0 ? void 0 : _d[config.navigation.sourcePage])) {\n            throw new Error(`Could not find navigation source ${config.navigation.sourcePage}!`);\n        }\n        const routes = {};\n        if (((_g = (_f = (_e = manifest['sap.ui5']) === null || _e === void 0 ? void 0 : _e.routing) === null || _f === void 0 ? void 0 : _f.routes) === null || _g === void 0 ? void 0 : _g.constructor) === Array) {\n            manifest['sap.ui5'].routing.routes.forEach((routeWithName) => {\n                routes[routeWithName.name] = routeWithName;\n            });\n        }\n        else {\n            Object.assign(routes, (_k = (_j = (_h = manifest['sap.ui5']) === null || _h === void 0 ? void 0 : _h.routing) === null || _j === void 0 ? void 0 : _j.routes) !== null && _k !== void 0 ? _k : {});\n        }\n        const route = routes[config.navigation.sourcePage];\n        if (!route || !route.pattern || !route.target) {\n            throw new Error(`Invalid routing configuration for navigation source ${config.navigation.sourcePage}!`);\n        }\n    }\n    return fs;\n}\nexports.validatePageConfig = validatePageConfig;\n//# sourceMappingURL=common.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getTemplatePath = void 0;\nconst path_1 = require(\"path\");\n/**\n * Locates template files relative to the dist folder.\n * This helps to locate templates when this module is bundled and the dir structure is flattened, maintaining the relative paths.\n *\n * @param relativeTemplatePath - optional, the path of the required template relative to the ./templates folder. If not specified the root templates folder is returned.\n * @returns the path of the template specified or templates root folder\n */\nfunction getTemplatePath(relativeTemplatePath = '') {\n    return path_1.join(__dirname, '../templates', relativeTemplatePath);\n}\nexports.getTemplatePath = getTemplatePath;\n//# sourceMappingURL=templates.js.map", "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.addExtensionTypes = exports.insertTextAtPosition = exports.insertTextAtAbsolutePosition = void 0;\nconst os_1 = __importDefault(require(\"os\"));\nconst path_1 = require(\"path\");\nconst semver_1 = require(\"semver\");\nconst templates_1 = require(\"../templates\");\n/**\n * Method inserts passed text into content by char index position.\n * In case if position is out of range, then whitespaces would be created.\n * Negative positions are not supported.\n *\n * @param {string} text - text to insert\n * @param {string} content - target content for update\n * @param {number} position - Char index position to insert in\n * @returns new content with inserted text\n */\nfunction insertTextAtAbsolutePosition(text, content, position) {\n    if (position < 0) {\n        return content;\n    }\n    // Check if char position exist and create missing chars\n    const prepareCharIndex = Math.max(position - 1, 0);\n    while (prepareCharIndex > 0 && content[prepareCharIndex] === undefined) {\n        content += ' ';\n    }\n    return `${content.slice(0, position)}${text}${content.slice(position)}`;\n}\nexports.insertTextAtAbsolutePosition = insertTextAtAbsolutePosition;\n/**\n * Method inserts passed text into content by line and char position.\n * In case if position is out of range, then whitespaces would be created.\n * Negative positions are not supported.\n *\n * @param {string} text - text to insert\n * @param {string} content - target content for update\n * @param {FileContentPosition} position - Line and char position to insert in\n * @returns new content with inserted text\n */\nfunction insertTextAtPosition(text, content, position) {\n    if (position.line < 0 || position.character < 0) {\n        return content;\n    }\n    const lines = content.split(/\\r\\n|\\n/);\n    let targetLine = lines[position.line];\n    // Check if line position exist and create missing lines\n    while (targetLine === undefined) {\n        lines.push('');\n        targetLine = lines[position.line];\n    }\n    // Update line with inserting passed text\n    lines[position.line] = insertTextAtAbsolutePosition(text, lines[position.line], position.character);\n    return lines.join(os_1.default.EOL);\n}\nexports.insertTextAtPosition = insertTextAtPosition;\n/**\n * Adds type extensions for sap.fe types if an older version is used.\n * The types were fixed in 1.108 and downported to 1.102.\n *\n * @param basePath - the base path\n * @param minUI5Version - minimal required UI5 version\n * @param fs - the memfs editor instance\n */\nfunction addExtensionTypes(basePath, minUI5Version, fs) {\n    var _a;\n    const version = semver_1.minor((_a = semver_1.coerce(minUI5Version)) !== null && _a !== void 0 ? _a : '1.108.0');\n    const path = path_1.join(basePath, '/webapp/ext/sap.fe.d.ts');\n    if (version < 108 && version !== 102 && !fs.exists(path)) {\n        fs.copyTpl(templates_1.getTemplatePath('common/sap.fe.d.ts'), path, { version });\n    }\n}\nexports.addExtensionTypes = addExtensionTypes;\n//# sourceMappingURL=utils.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generate = exports.getTemplateRoot = exports.enhanceData = void 0;\nconst path_1 = require(\"path\");\nconst mem_fs_1 = require(\"mem-fs\");\nconst mem_fs_editor_1 = require(\"mem-fs-editor\");\nconst ejs_1 = require(\"ejs\");\nconst common_1 = require(\"./common\");\nconst defaults_1 = require(\"../common/defaults\");\nconst validate_1 = require(\"../common/validate\");\nconst templates_1 = require(\"../templates\");\nconst semver_1 = require(\"semver\");\nconst utils_1 = require(\"../common/utils\");\n/**\n * Enhances the provided custom page configuration with default data.\n *\n * @param data - a custom page configuration object\n * @param manifestPath - path to the application manifest\n * @param fs - mem-fs reference to be used for file access\n * @returns enhanced configuration\n */\nfunction enhanceData(data, manifestPath, fs) {\n    const manifest = fs.readJSON(manifestPath);\n    // set common defaults\n    const config = defaults_1.setCommonDefaults(data, manifestPath, manifest);\n    // set FCL configuration\n    const fclConfig = common_1.getFclConfig(manifest, config.navigation);\n    config.fcl = fclConfig.fcl;\n    config.controlAggregation = fclConfig.controlAggregation;\n    if (config.view === undefined) {\n        config.view = {\n            title: config.name\n        };\n    }\n    return config;\n}\nexports.enhanceData = enhanceData;\n/**\n * Validate the UI5 version and if valid return the root folder for the templates to be used.\n *\n * @param ui5Version - optional minimum required UI5 version\n * @returns root folder  containg the templates if the version is supported otherwise throws an error\n */\nfunction getTemplateRoot(ui5Version) {\n    const minVersion = semver_1.coerce(ui5Version);\n    if (!minVersion || minVersion.minor >= 94) {\n        return templates_1.getTemplatePath('/page/custom/1.94');\n    }\n    else {\n        return templates_1.getTemplatePath('/page/custom/1.84');\n    }\n}\nexports.getTemplateRoot = getTemplateRoot;\n/**\n * Add a custom page to an existing UI5 application.\n *\n * @param {string} basePath - the base path\n * @param {CustomPage} data - the custom page configuration\n * @param {Editor} [fs] - the memfs editor instance\n * @returns {Promise<Editor>} the updated memfs editor instance\n */\nfunction generate(basePath, data, fs) {\n    if (!fs) {\n        fs = mem_fs_editor_1.create(mem_fs_1.create());\n    }\n    validate_1.validateVersion(data.minUI5Version);\n    common_1.validatePageConfig(basePath, data, fs);\n    const manifestPath = path_1.join(basePath, 'webapp/manifest.json');\n    const config = enhanceData(data, manifestPath, fs);\n    // merge content into existing files\n    const root = getTemplateRoot(data.minUI5Version);\n    // enhance manifest.json\n    fs.extendJSON(manifestPath, JSON.parse(ejs_1.render(fs.read(path_1.join(root, `manifest.json`)), config, {})), common_1.getManifestJsonExtensionHelper(config));\n    // add extension content\n    const viewPath = path_1.join(config.path, `${config.name}.view.xml`);\n    if (!fs.exists(viewPath)) {\n        fs.copyTpl(path_1.join(root, 'ext/View.xml'), viewPath, config);\n    }\n    const ext = data.typescript ? 'ts' : 'js';\n    const controllerPath = path_1.join(config.path, `${config.name}.controller.${ext}`);\n    if (!fs.exists(controllerPath)) {\n        fs.copyTpl(path_1.join(root, `ext/Controller.${ext}`), controllerPath, config);\n    }\n    if (data.typescript) {\n        utils_1.addExtensionTypes(basePath, data.minUI5Version, fs);\n    }\n    return fs;\n}\nexports.generate = generate;\n//# sourceMappingURL=custom.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generate = void 0;\nconst path_1 = require(\"path\");\nconst mem_fs_1 = require(\"mem-fs\");\nconst mem_fs_editor_1 = require(\"mem-fs-editor\");\nconst ejs_1 = require(\"ejs\");\nconst common_1 = require(\"./common\");\nconst templates_1 = require(\"../templates\");\n/**\n * Enhances the provided list report configuration with default data.\n *\n * @param data - a list report configuration object\n * @param manifest - application manifest\n * @returns enhanced configuration\n */\nfunction enhanceData(data, manifest) {\n    const config = Object.assign(Object.assign(Object.assign({ settings: {} }, data), { name: 'ObjectPage' }), common_1.getFclConfig(manifest));\n    // move settings into correct possition in the manifest\n    config.settings.entitySet = data.entity;\n    config.settings.navigation = {};\n    // use standard file name if i18n enhancement required\n    if (config.settings.enhanceI18n === true) {\n        config.settings.enhanceI18n = `i18n/custom${config.entity}${config.name}.properties`;\n    }\n    return config;\n}\n/**\n * Add an object page to an existing UI5 application.\n *\n * @param basePath - the base path\n * @param data - the object page configuration\n * @param fs - the memfs editor instance\n * @returns the updated memfs editor instance\n */\nfunction generate(basePath, data, fs) {\n    if (!fs) {\n        fs = mem_fs_editor_1.create(mem_fs_1.create());\n    }\n    common_1.validatePageConfig(basePath, data, fs);\n    const manifestPath = path_1.join(basePath, 'webapp/manifest.json');\n    const manifest = fs.readJSON(manifestPath);\n    const config = enhanceData(data, manifest);\n    // enhance manifest.json\n    fs.extendJSON(manifestPath, JSON.parse(ejs_1.render(fs.read(templates_1.getTemplatePath('/page/object/manifest.json')), config, {})), common_1.getManifestJsonExtensionHelper(config));\n    return fs;\n}\nexports.generate = generate;\n//# sourceMappingURL=object.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generate = void 0;\nconst path_1 = require(\"path\");\nconst mem_fs_1 = require(\"mem-fs\");\nconst mem_fs_editor_1 = require(\"mem-fs-editor\");\nconst ejs_1 = require(\"ejs\");\nconst common_1 = require(\"./common\");\nconst templates_1 = require(\"../templates\");\n/**\n * Enhances the provided list report configuration with default data.\n *\n * @param data - a list report configuration object\n * @param manifest - application manifest\n * @returns enhanced configuration\n */\nfunction enhanceData(data, manifest) {\n    var _a, _b;\n    const config = Object.assign(Object.assign(Object.assign({ settings: {} }, data), { name: 'ListReport' }), common_1.getFclConfig(manifest));\n    // move settings into correct possition in the manifest\n    config.settings.entitySet = data.entity;\n    config.settings.navigation = {};\n    // use standard file name if i18n enhancement required\n    if (config.settings.enhanceI18n === true) {\n        config.settings.enhanceI18n = `i18n/custom${config.entity}${config.name}.properties`;\n    }\n    // move table settings into the correct structure\n    if (config.settings.tableSettings) {\n        config.settings.controlConfiguration = (_a = config.settings.controlConfiguration) !== null && _a !== void 0 ? _a : {};\n        config.settings.controlConfiguration['@com.sap.vocabularies.UI.v1.LineItem'] =\n            (_b = config.settings.controlConfiguration['@com.sap.vocabularies.UI.v1.LineItem']) !== null && _b !== void 0 ? _b : {};\n        config.settings.controlConfiguration['@com.sap.vocabularies.UI.v1.LineItem'].tableSettings =\n            config.settings.tableSettings;\n        delete config.settings.tableSettings;\n    }\n    return config;\n}\n/**\n * Add a ListReport to an existing UI5 application.\n *\n * @param basePath - the base path\n * @param data - the object page configuration\n * @param fs - the memfs editor instance\n * @returns the updated memfs editor instance\n */\nfunction generate(basePath, data, fs) {\n    if (!fs) {\n        fs = mem_fs_editor_1.create(mem_fs_1.create());\n    }\n    common_1.validatePageConfig(basePath, data, fs);\n    const manifestPath = path_1.join(basePath, 'webapp/manifest.json');\n    const manifest = fs.readJSON(manifestPath);\n    const config = enhanceData(data, manifest);\n    // enhance manifest.json\n    fs.extendJSON(manifestPath, JSON.parse(ejs_1.render(fs.read(templates_1.getTemplatePath('page/list/manifest.json')), config, {})), common_1.getManifestJsonExtensionHelper(config));\n    return fs;\n}\nexports.generate = generate;\n//# sourceMappingURL=list.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateListReport = exports.generateObjectPage = exports.generateCustomPage = exports.validatePageConfig = void 0;\nconst common_1 = require(\"./common\");\nObject.defineProperty(exports, \"validatePageConfig\", { enumerable: true, get: function () { return common_1.validatePageConfig; } });\nconst custom_1 = require(\"./custom\");\nObject.defineProperty(exports, \"generateCustomPage\", { enumerable: true, get: function () { return custom_1.generate; } });\nconst object_1 = require(\"./object\");\nObject.defineProperty(exports, \"generateObjectPage\", { enumerable: true, get: function () { return object_1.generate; } });\nconst list_1 = require(\"./list\");\nObject.defineProperty(exports, \"generateListReport\", { enumerable: true, get: function () { return list_1.generate; } });\n//# sourceMappingURL=index.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TargetControl = void 0;\nvar TargetControl;\n(function (TargetControl) {\n    TargetControl[\"header\"] = \"header\";\n    TargetControl[\"footer\"] = \"footer\";\n    TargetControl[\"section\"] = \"@com.sap.vocabularies.UI.v1.FieldGroup\";\n    TargetControl[\"table\"] = \"@com.sap.vocabularies.UI.v1.LineItem\";\n})(TargetControl = exports.TargetControl || (exports.TargetControl = {}));\n//# sourceMappingURL=types.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.applyEventHandlerConfiguration = exports.contextParameter = exports.defaultParameter = void 0;\nconst path_1 = require(\"path\");\nconst templates_1 = require(\"../templates\");\nconst utils_1 = require(\"../common/utils\");\n/**\n * Default values for the input parameters of newly created event handlers.\n */\nexports.defaultParameter = {\n    name: 'event',\n    description: 'the event object provided by the event provider',\n    importType: 'UI5Event',\n    importSource: 'sap/ui/base/Event'\n};\n/**\n * Values for the input parameters of newly created event handlers that are added as manifest actions.\n */\nexports.contextParameter = {\n    name: 'pageContext',\n    description: 'the context of the page on which the event was fired',\n    importType: 'Context',\n    importSource: 'sap/ui/model/odata/v4/Context'\n};\n/**\n * Method creates or updates handler js file and update 'settings.eventHandler' entry with namespace path entry to method.\n *\n * @param fs - the memfs editor instance\n * @param config - configuration\n * @param eventHandler - eventHandler for creation\n * @param controllerSuffix - append controller suffix to new file\n * @param typescript - create Typescript file instead of Javascript\n * @param parameters - parameter configurations for the event handler\n * @returns {string} full namespace path to method\n */\nfunction applyEventHandlerConfiguration(fs, config, eventHandler, controllerSuffix = false, typescript, parameters = exports.defaultParameter) {\n    if (typeof eventHandler === 'string') {\n        // Existing event handler is passed - no need for file creation/update\n        return eventHandler;\n    }\n    // New event handler function name - 'onPress' is default\n    let eventHandlerFnName = 'onPress';\n    let insertScript;\n    // By default - use config name for js file name\n    let fileName = `${config.name}`;\n    if (typeof eventHandler === 'object') {\n        if (eventHandler.fnName) {\n            eventHandlerFnName = eventHandler.fnName;\n        }\n        insertScript = eventHandler.insertScript;\n        if (eventHandler.fileName) {\n            // Use passed file name\n            fileName = eventHandler.fileName;\n        }\n    }\n    const ext = typescript ? 'ts' : 'js';\n    const controllerPath = path_1.join(config.path || '', `${fileName}${controllerSuffix ? '.controller' : ''}.${ext}`);\n    if (!fs.exists(controllerPath)) {\n        fs.copyTpl(templates_1.getTemplatePath(`common/EventHandler.${ext}`), controllerPath, {\n            eventHandlerFnName,\n            parameters\n        });\n    }\n    else if (insertScript) {\n        // Read current file content\n        let content = fs.read(controllerPath);\n        // Append content with additional script fragment\n        if (typeof insertScript.position === 'object') {\n            content = utils_1.insertTextAtPosition(insertScript.fragment, content, insertScript.position);\n        }\n        else {\n            content = utils_1.insertTextAtAbsolutePosition(insertScript.fragment, content, insertScript.position);\n        }\n        fs.write(controllerPath, content);\n    }\n    // Return full namespace path to method\n    return `${config.ns}.${fileName}.${eventHandlerFnName}`;\n}\nexports.applyEventHandlerConfiguration = applyEventHandlerConfiguration;\n//# sourceMappingURL=event-handler.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateCustomAction = exports.enhanceManifestAndGetActionsElementReference = void 0;\nconst mem_fs_1 = require(\"mem-fs\");\nconst mem_fs_editor_1 = require(\"mem-fs-editor\");\nconst types_1 = require(\"./types\");\nconst path_1 = require(\"path\");\nconst ejs_1 = require(\"ejs\");\nconst validate_1 = require(\"../common/validate\");\nconst defaults_1 = require(\"../common/defaults\");\nconst event_handler_1 = require(\"../common/event-handler\");\nconst templates_1 = require(\"../templates\");\n/**\n * Enhances the provided custom action configuration with default data.\n *\n * @param {CustomAction} data - a custom action configuration object\n * @param {string} manifestPath - path to the project's manifest.json\n * @param {Manifest} manifest - the application manifest\n * @returns enhanced configuration\n */\nfunction enhanceConfig(data, manifestPath, manifest) {\n    // clone input\n    const config = Object.assign(Object.assign({}, data), { target: Object.assign({}, data.target), settings: Object.assign({}, data.settings) });\n    defaults_1.setCommonDefaults(config, manifestPath, manifest);\n    // set default values for visibility and enabled\n    config.settings.enabled = config.settings.enabled || true;\n    config.settings.visible = config.settings.visible || true;\n    return config;\n}\n/**\n * Enhance the target object in the manifest with the required nested objects and return a reference to it.\n *\n * @param {Manifest} manifest - the application manifest\n * @param {CustomActionTarget} target - target element\n * @returns Actions object of the given target element.\n */\nfunction enhanceManifestAndGetActionsElementReference(manifest, target) {\n    const page = manifest['sap.ui5'].routing.targets[target.page];\n    page.options = page.options || {};\n    page.options.settings = page.options.settings || {};\n    if (target.control === types_1.TargetControl.header || target.control === types_1.TargetControl.footer) {\n        page.options.settings.content = page.options.settings.content || {};\n        page.options.settings.content[target.control] = page.options.settings.content[target.control] || {};\n        page.options.settings.content[target.control].actions =\n            page.options.settings.content[target.control].actions || {};\n        return page.options.settings.content[target.control].actions;\n    }\n    else {\n        const controlPrefix = target.navProperty ? target.navProperty + '/' : '';\n        const controlSuffix = target.qualifier ? '#' + target.qualifier : '';\n        const controlId = `${controlPrefix}${target.control}${controlSuffix}`;\n        page.options.settings.controlConfiguration = page.options.settings.controlConfiguration || {};\n        page.options.settings.controlConfiguration[controlId] =\n            page.options.settings.controlConfiguration[controlId] || {};\n        page.options.settings.controlConfiguration[controlId].actions =\n            page.options.settings.controlConfiguration[controlId].actions || {};\n        return page.options.settings.controlConfiguration[controlId].actions;\n    }\n}\nexports.enhanceManifestAndGetActionsElementReference = enhanceManifestAndGetActionsElementReference;\n/**\n * Add a custom page to an existing UI5 application.\n *\n * @param {string} basePath - the base path\n * @param {CustomAction} actionConfig - the custom action configuration\n * @param {Editor} [fs] - the memfs editor instance\n * @returns {Promise<Editor>} the updated memfs editor instance\n */\nfunction generateCustomAction(basePath, actionConfig, fs) {\n    validate_1.validateVersion(actionConfig.minUI5Version);\n    if (!fs) {\n        fs = mem_fs_editor_1.create(mem_fs_1.create());\n    }\n    validate_1.validateBasePath(basePath, fs);\n    const manifestPath = path_1.join(basePath, 'webapp/manifest.json');\n    const manifest = fs.readJSON(manifestPath);\n    const config = enhanceConfig(actionConfig, manifestPath, manifest);\n    // Apply event handler\n    if (config.eventHandler) {\n        config.eventHandler = event_handler_1.applyEventHandlerConfiguration(fs, config, config.eventHandler, false, config.typescript, event_handler_1.contextParameter);\n    }\n    // enhance manifest with action definition and controller reference\n    const actions = enhanceManifestAndGetActionsElementReference(manifest, config.target);\n    Object.assign(actions, JSON.parse(ejs_1.render(fs.read(templates_1.getTemplatePath(`action/manifest.action.json`)), config, {})));\n    fs.writeJSON(manifestPath, manifest);\n    return fs;\n}\nexports.generateCustomAction = generateCustomAction;\n//# sourceMappingURL=index.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateCustomColumn = exports.getManifestRoot = void 0;\nconst ejs_1 = require(\"ejs\");\nconst mem_fs_1 = require(\"mem-fs\");\nconst mem_fs_editor_1 = require(\"mem-fs-editor\");\nconst path_1 = require(\"path\");\nconst defaults_1 = require(\"../common/defaults\");\nconst validate_1 = require(\"../common/validate\");\nconst event_handler_1 = require(\"../common/event-handler\");\nconst templates_1 = require(\"../templates\");\nconst semver_1 = require(\"semver\");\n/**\n * Get the template folder for the given UI5 version.\n *\n * @param ui5Version required UI5 version.\n * @returns path to the template folder containing the manifest.json ejs template\n */\nfunction getManifestRoot(ui5Version) {\n    const minVersion = semver_1.coerce(ui5Version);\n    if (!minVersion || minVersion.minor >= 86) {\n        return templates_1.getTemplatePath('/column/1.86');\n    }\n    else if (minVersion.minor >= 85) {\n        return templates_1.getTemplatePath('/column/1.85');\n    }\n    else {\n        return templates_1.getTemplatePath('column/1.84');\n    }\n}\nexports.getManifestRoot = getManifestRoot;\n/**\n * Enhances the provided custom table column configuration with default data.\n *\n * @param {Editor} fs - the mem-fs editor instance\n * @param {CustomTableColumn} data - a custom column configuration object\n * @param {string} manifestPath - path to the project's manifest.json\n * @param {Manifest} manifest - the application manifest\n * @returns enhanced configuration\n */\nfunction enhanceConfig(fs, data, manifestPath, manifest) {\n    // clone input and set defaults\n    const config = Object.assign({}, data);\n    defaults_1.setCommonDefaults(config, manifestPath, manifest);\n    // Apply event handler\n    if (config.eventHandler) {\n        config.eventHandler = event_handler_1.applyEventHandlerConfiguration(fs, config, config.eventHandler, false, config.typescript);\n    }\n    // generate column content\n    const content = config.properties && config.properties.length > 0\n        ? `{=%{${config.properties.join(\"} + ' ' + %{\")}}}`\n        : 'Sample Text';\n    config.content = config.control || defaults_1.getDefaultFragmentContent(content, config.eventHandler);\n    return config;\n}\n/**\n * Add a custom column to an existing UI5 application.\n *\n * @returns {Promise<Editor>} the updated mem-fs editor instance\n * @param {string} basePath - the base path\n * @param {CustomTableColumn} customColumn - the custom column configuration\n * @param {Editor} [fs] - the mem-fs editor instance\n */\nfunction generateCustomColumn(basePath, customColumn, fs) {\n    validate_1.validateVersion(customColumn.minUI5Version);\n    if (!fs) {\n        fs = mem_fs_editor_1.create(mem_fs_1.create());\n    }\n    validate_1.validateBasePath(basePath, fs);\n    const manifestPath = path_1.join(basePath, 'webapp/manifest.json');\n    const manifest = fs.readJSON(manifestPath);\n    // merge with defaults\n    const completeColumn = enhanceConfig(fs, customColumn, manifestPath, manifest);\n    // enhance manifest with column definition\n    const manifestRoot = getManifestRoot(customColumn.minUI5Version);\n    const filledTemplate = ejs_1.render(fs.read(path_1.join(manifestRoot, `manifest.json`)), completeColumn, {});\n    fs.extendJSON(manifestPath, JSON.parse(filledTemplate));\n    // add fragment\n    const viewPath = path_1.join(completeColumn.path, `${completeColumn.name}.fragment.xml`);\n    if (completeColumn.control || !fs.exists(viewPath)) {\n        fs.copyTpl(templates_1.getTemplatePath('common/Fragment.xml'), viewPath, completeColumn);\n    }\n    return fs;\n}\nexports.generateCustomColumn = generateCustomColumn;\n//# sourceMappingURL=index.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateCustomSection = exports.getManifestRoot = void 0;\nconst mem_fs_1 = require(\"mem-fs\");\nconst mem_fs_editor_1 = require(\"mem-fs-editor\");\nconst path_1 = require(\"path\");\nconst ejs_1 = require(\"ejs\");\nconst validate_1 = require(\"../common/validate\");\nconst defaults_1 = require(\"../common/defaults\");\nconst event_handler_1 = require(\"../common/event-handler\");\nconst templates_1 = require(\"../templates\");\nconst semver_1 = require(\"semver\");\n/**\n * Get the template folder for the given UI5 version.\n *\n * @param ui5Version required UI5 version.\n * @returns path to the template folder containing the manifest.json ejs template\n */\nfunction getManifestRoot(ui5Version) {\n    const minVersion = semver_1.coerce(ui5Version);\n    if (!minVersion || minVersion.minor >= 86) {\n        return templates_1.getTemplatePath('/section/1.86');\n    }\n    else {\n        return templates_1.getTemplatePath('/section/1.85');\n    }\n}\nexports.getManifestRoot = getManifestRoot;\n/**\n * Get additional dependencies for fragment.xml template based on passed ui5 version.\n *\n * @param ui5Version required UI5 version.\n * @returns Additional dependencies for fragment.xml\n */\nfunction getAdditionalDependencies(ui5Version) {\n    const minVersion = semver_1.coerce(ui5Version);\n    return !minVersion || minVersion.minor >= 90 ? { 'xmlns:macros': 'sap.fe.macros' } : undefined;\n}\n/**\n * Enhances the provided custom section configuration with additonal data.\n *\n * @param {Editor} fs - the mem-fs editor instance\n * @param {CustomSection} data - a custom section configuration object\n * @param {string} manifestPath - path to the project's manifest.json\n * @param {Manifest} manifest - the application manifest\n * @returns enhanced configuration\n */\nfunction enhanceConfig(fs, data, manifestPath, manifest) {\n    const config = Object.assign({}, data);\n    defaults_1.setCommonDefaults(config, manifestPath, manifest);\n    // Apply event handler\n    if (config.eventHandler) {\n        config.eventHandler = event_handler_1.applyEventHandlerConfiguration(fs, config, config.eventHandler, false, config.typescript);\n    }\n    // generate section content\n    config.content = config.control || defaults_1.getDefaultFragmentContent(config.name, config.eventHandler);\n    // Additional dependencies to include into 'Fragment.xml'\n    config.dependencies = getAdditionalDependencies(config.minUI5Version);\n    return config;\n}\n/**\n * Add a custom section to an existing UI5 application.\n *\n * @param {string} basePath - the base path\n * @param {CustomSection} customSection - the custom section configuration\n * @param {Editor} [fs] - the mem-fs editor instance\n * @returns {Promise<Editor>} the updated mem-fs editor instance\n */\nfunction generateCustomSection(basePath, customSection, fs) {\n    validate_1.validateVersion(customSection.minUI5Version);\n    if (!fs) {\n        fs = mem_fs_editor_1.create(mem_fs_1.create());\n    }\n    validate_1.validateBasePath(basePath, fs);\n    const manifestPath = path_1.join(basePath, 'webapp/manifest.json');\n    const manifest = fs.readJSON(manifestPath);\n    // merge with defaults\n    const completeSection = enhanceConfig(fs, customSection, manifestPath, manifest);\n    // enhance manifest with section definition\n    const manifestRoot = getManifestRoot(customSection.minUI5Version);\n    const filledTemplate = ejs_1.render(fs.read(path_1.join(manifestRoot, `manifest.json`)), completeSection, {});\n    fs.extendJSON(manifestPath, JSON.parse(filledTemplate));\n    // add fragment\n    const viewPath = path_1.join(completeSection.path, `${completeSection.name}.fragment.xml`);\n    if (!fs.exists(viewPath)) {\n        fs.copyTpl(templates_1.getTemplatePath('common/Fragment.xml'), viewPath, completeSection);\n    }\n    return fs;\n}\nexports.generateCustomSection = generateCustomSection;\n//# sourceMappingURL=index.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateCustomView = void 0;\nconst mem_fs_1 = require(\"mem-fs\");\nconst mem_fs_editor_1 = require(\"mem-fs-editor\");\nconst path_1 = require(\"path\");\nconst ejs_1 = require(\"ejs\");\nconst validate_1 = require(\"../common/validate\");\nconst defaults_1 = require(\"../common/defaults\");\nconst event_handler_1 = require(\"../common/event-handler\");\nconst templates_1 = require(\"../templates\");\n/**\n * Enhances the provided custom view configuration with default data.\n *\n * @param {Editor} fs - the mem-fs editor instance\n * @param {CustomView} data - a custom view configuration object\n * @param {string} manifestPath - path to the project's manifest.json\n * @param {Manifest} manifest - the application manifest\n * @returns enhanced configuration\n */\nfunction enhanceConfig(fs, data, manifestPath, manifest) {\n    var _a, _b, _c, _d, _e;\n    const config = Object.assign({}, data);\n    defaults_1.setCommonDefaults(config, manifestPath, manifest);\n    // Apply event handler\n    if (config.eventHandler) {\n        config.eventHandler = event_handler_1.applyEventHandlerConfiguration(fs, config, config.eventHandler, true, config.typescript);\n    }\n    // existing views\n    const existingViews = (_e = (_d = ((_c = (_b = (_a = manifest['sap.ui5']) === null || _a === void 0 ? void 0 : _a.routing) === null || _b === void 0 ? void 0 : _b.targets) === null || _c === void 0 ? void 0 : _c[data.target])\n        .options) === null || _d === void 0 ? void 0 : _d.settings) === null || _e === void 0 ? void 0 : _e.views;\n    if (existingViews) {\n        config.views = existingViews;\n    }\n    // generate view content\n    if (typeof config.control === 'string') {\n        config.content = config.control;\n    }\n    else {\n        config.content = defaults_1.getDefaultFragmentContent(config.name, config.eventHandler, true);\n    }\n    return config;\n}\n/**\n * Add a custom view to an existing UI5 application.\n *\n * @param {string} basePath - the base path\n * @param {CustomView} customView - the custom view configuration\n * @param {Editor} [fs] - the mem-fs editor instance\n * @returns {Promise<Editor>} the updated mem-fs editor instance\n */\nfunction generateCustomView(basePath, customView, fs) {\n    validate_1.validateVersion(customView.minUI5Version);\n    if (!fs) {\n        fs = mem_fs_editor_1.create(mem_fs_1.create());\n    }\n    validate_1.validateBasePath(basePath, fs);\n    const manifestPath = path_1.join(basePath, 'webapp/manifest.json');\n    const manifest = fs.readJSON(manifestPath);\n    // merge with defaults\n    const completeView = enhanceConfig(fs, customView, manifestPath, manifest);\n    // enhance manifest with view definition\n    const filledTemplate = ejs_1.render(fs.read(templates_1.getTemplatePath('view/manifest.json')), completeView, {});\n    fs.extendJSON(manifestPath, JSON.parse(filledTemplate));\n    // add fragment\n    const viewPath = path_1.join(completeView.path, `${completeView.name}.fragment.xml`);\n    if (completeView.control === true) {\n        fs.copyTpl(templates_1.getTemplatePath('view/ext/CustomViewWithTable.xml'), viewPath, completeView);\n    }\n    else if (!fs.exists(viewPath)) {\n        fs.copyTpl(templates_1.getTemplatePath('common/Fragment.xml'), viewPath, completeView);\n    }\n    return fs;\n}\nexports.generateCustomView = generateCustomView;\n//# sourceMappingURL=index.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.enableFPM = exports.MIN_VERSION = void 0;\nconst mem_fs_1 = require(\"mem-fs\");\nconst mem_fs_editor_1 = require(\"mem-fs-editor\");\nconst path_1 = require(\"path\");\nconst semver_1 = require(\"semver\");\nconst defaults_1 = require(\"../common/defaults\");\nconst templates_1 = require(\"../templates\");\nconst utils_1 = require(\"../common/utils\");\nexports.MIN_VERSION = '1.94.0';\n/**\n * Enable the flexible programming model for an application.\n *\n * @param {string} basePath - the base path\n * @param {FPMConfig} config - the FPM configuration\n * @param {Editor} [fs] - the mem-fs editor instance\n * @returns {Promise<Editor>} the updated mem-fs editor instance\n */\nfunction enableFPM(basePath, config = {}, fs) {\n    var _a, _b, _c, _d, _e, _f;\n    if (!fs) {\n        fs = mem_fs_editor_1.create(mem_fs_1.create());\n    }\n    const manifestPath = path_1.join(basePath, 'webapp/manifest.json');\n    if (!fs.exists(manifestPath)) {\n        throw new Error(`Invalid project folder. Cannot find required file ${manifestPath}`);\n    }\n    const manifest = fs.readJSON(manifestPath);\n    // add FE libs is not yet added\n    if (!((_c = (_b = (_a = manifest['sap.ui5']) === null || _a === void 0 ? void 0 : _a.dependencies) === null || _b === void 0 ? void 0 : _b.libs) === null || _c === void 0 ? void 0 : _c['sap.fe.templates'])) {\n        fs.extendJSON(manifestPath, {\n            'sap.ui5': {\n                dependencies: {\n                    libs: {\n                        'sap.fe.templates': {}\n                    }\n                }\n            }\n        });\n    }\n    // if a minUI5Version is set and it is smaller than the minimum required, increase it\n    const minUI5Version = (_e = (_d = manifest['sap.ui5']) === null || _d === void 0 ? void 0 : _d.dependencies) === null || _e === void 0 ? void 0 : _e.minUI5Version;\n    if (minUI5Version && semver_1.valid(minUI5Version) && semver_1.lt(minUI5Version, exports.MIN_VERSION)) {\n        fs.extendJSON(manifestPath, {\n            'sap.ui5': {\n                dependencies: {\n                    minUI5Version: exports.MIN_VERSION\n                }\n            }\n        });\n    }\n    // add type extensions if required\n    if (config.typescript) {\n        utils_1.addExtensionTypes(basePath, (_f = manifest['sap.ui5']) === null || _f === void 0 ? void 0 : _f.dependencies.minUI5Version, fs);\n    }\n    // enable FCL if requested\n    if (config.fcl) {\n        fs.extendJSON(manifestPath, {\n            'sap.ui5': {\n                rootView: {\n                    viewName: 'sap.fe.templates.RootContainer.view.Fcl',\n                    type: 'XML',\n                    async: true,\n                    id: 'appRootView'\n                },\n                routing: {\n                    config: {\n                        routerClass: defaults_1.FCL_ROUTER\n                    }\n                }\n            }\n        });\n    }\n    // replace Component.js\n    if (config.replaceAppComponent) {\n        const ext = config.typescript ? 'ts' : 'js';\n        const componentTemplate = templates_1.getTemplatePath(`/app/Component.${ext}`);\n        fs.copyTpl(componentTemplate, path_1.join(basePath, `webapp/Component.${ext}`), manifest['sap.app']);\n    }\n    return fs;\n}\nexports.enableFPM = enableFPM;\n//# sourceMappingURL=index.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BuildingBlockType = void 0;\n/**\n * Building block type.\n *\n * @enum {string}\n */\nvar BuildingBlockType;\n(function (BuildingBlockType) {\n    BuildingBlockType[\"FilterBar\"] = \"filter-bar\";\n    BuildingBlockType[\"Chart\"] = \"chart\";\n    BuildingBlockType[\"Field\"] = \"field\";\n})(BuildingBlockType = exports.BuildingBlockType || (exports.BuildingBlockType = {}));\n//# sourceMappingURL=types.js.map", "'use strict'\n\n/**\n * \"Shallow freezes\" an object to render it immutable.\n * Uses `Object.freeze` if available,\n * otherwise the immutability is only in the type.\n *\n * Is used to create \"enum like\" objects.\n *\n * @template T\n * @param {T} object the object to freeze\n * @param {Pick<ObjectConstructor, 'freeze'> = Object} oc `Object` by default,\n * \t\t\t\tallows to inject custom object constructor for tests\n * @returns {Readonly<T>}\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\n */\nfunction freeze(object, oc) {\n\tif (oc === undefined) {\n\t\toc = Object\n\t}\n\treturn oc && typeof oc.freeze === 'function' ? oc.freeze(object) : object\n}\n\n/**\n * Since we can not rely on `Object.assign` we provide a simplified version\n * that is sufficient for our needs.\n *\n * @param {Object} target\n * @param {Object | null | undefined} source\n *\n * @returns {Object} target\n * @throws TypeError if target is not an object\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n * @see https://tc39.es/ecma262/multipage/fundamental-objects.html#sec-object.assign\n */\nfunction assign(target, source) {\n\tif (target === null || typeof target !== 'object') {\n\t\tthrow new TypeError('target is not an object')\n\t}\n\tfor (var key in source) {\n\t\tif (Object.prototype.hasOwnProperty.call(source, key)) {\n\t\t\ttarget[key] = source[key]\n\t\t}\n\t}\n\treturn target\n}\n\n/**\n * All mime types that are allowed as input to `DOMParser.parseFromString`\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString#Argument02 MDN\n * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#domparsersupportedtype WHATWG HTML Spec\n * @see DOMParser.prototype.parseFromString\n */\nvar MIME_TYPE = freeze({\n\t/**\n\t * `text/html`, the only mime type that triggers treating an XML document as HTML.\n\t *\n\t * @see DOMParser.SupportedType.isHTML\n\t * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n\t * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring WHATWG HTML Spec\n\t */\n\tHTML: 'text/html',\n\n\t/**\n\t * Helper method to check a mime type if it indicates an HTML document\n\t *\n\t * @param {string} [value]\n\t * @returns {boolean}\n\t *\n\t * @see https://www.iana.org/assignments/media-types/text/html IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/HTML Wikipedia\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/parseFromString MDN\n\t * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-domparser-parsefromstring \t */\n\tisHTML: function (value) {\n\t\treturn value === MIME_TYPE.HTML\n\t},\n\n\t/**\n\t * `application/xml`, the standard mime type for XML documents.\n\t *\n\t * @see https://www.iana.org/assignments/media-types/application/xml IANA MimeType registration\n\t * @see https://tools.ietf.org/html/rfc7303#section-9.1 RFC 7303\n\t * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n\t */\n\tXML_APPLICATION: 'application/xml',\n\n\t/**\n\t * `text/html`, an alias for `application/xml`.\n\t *\n\t * @see https://tools.ietf.org/html/rfc7303#section-9.2 RFC 7303\n\t * @see https://www.iana.org/assignments/media-types/text/xml IANA MimeType registration\n\t * @see https://en.wikipedia.org/wiki/XML_and_MIME Wikipedia\n\t */\n\tXML_TEXT: 'text/xml',\n\n\t/**\n\t * `application/xhtml+xml`, indicates an XML document that has the default HTML namespace,\n\t * but is parsed as an XML document.\n\t *\n\t * @see https://www.iana.org/assignments/media-types/application/xhtml+xml IANA MimeType registration\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument WHATWG DOM Spec\n\t * @see https://en.wikipedia.org/wiki/XHTML Wikipedia\n\t */\n\tXML_XHTML_APPLICATION: 'application/xhtml+xml',\n\n\t/**\n\t * `image/svg+xml`,\n\t *\n\t * @see https://www.iana.org/assignments/media-types/image/svg+xml IANA MimeType registration\n\t * @see https://www.w3.org/TR/SVG11/ W3C SVG 1.1\n\t * @see https://en.wikipedia.org/wiki/Scalable_Vector_Graphics Wikipedia\n\t */\n\tXML_SVG_IMAGE: 'image/svg+xml',\n})\n\n/**\n * Namespaces that are used in this code base.\n *\n * @see http://www.w3.org/TR/REC-xml-names\n */\nvar NAMESPACE = freeze({\n\t/**\n\t * The XHTML namespace.\n\t *\n\t * @see http://www.w3.org/1999/xhtml\n\t */\n\tHTML: 'http://www.w3.org/1999/xhtml',\n\n\t/**\n\t * Checks if `uri` equals `NAMESPACE.HTML`.\n\t *\n\t * @param {string} [uri]\n\t *\n\t * @see NAMESPACE.HTML\n\t */\n\tisHTML: function (uri) {\n\t\treturn uri === NAMESPACE.HTML\n\t},\n\n\t/**\n\t * The SVG namespace.\n\t *\n\t * @see http://www.w3.org/2000/svg\n\t */\n\tSVG: 'http://www.w3.org/2000/svg',\n\n\t/**\n\t * The `xml:` namespace.\n\t *\n\t * @see http://www.w3.org/XML/1998/namespace\n\t */\n\tXML: 'http://www.w3.org/XML/1998/namespace',\n\n\t/**\n\t * The `xmlns:` namespace\n\t *\n\t * @see https://www.w3.org/2000/xmlns/\n\t */\n\tXMLNS: 'http://www.w3.org/2000/xmlns/',\n})\n\nexports.assign = assign;\nexports.freeze = freeze;\nexports.MIME_TYPE = MIME_TYPE;\nexports.NAMESPACE = NAMESPACE;\n", "var conventions = require(\"./conventions\");\n\nvar NAMESPACE = conventions.NAMESPACE;\n\n/**\n * A prerequisite for `[].filter`, to drop elements that are empty\n * @param {string} input\n * @returns {boolean}\n */\nfunction notEmptyString (input) {\n\treturn input !== ''\n}\n/**\n * @see https://infra.spec.whatwg.org/#split-on-ascii-whitespace\n * @see https://infra.spec.whatwg.org/#ascii-whitespace\n *\n * @param {string} input\n * @returns {string[]} (can be empty)\n */\nfunction splitOnASCIIWhitespace(input) {\n\t// U+0009 TAB, U+000A LF, U+000C FF, U+000D CR, U+0020 SPACE\n\treturn input ? input.split(/[\\t\\n\\f\\r ]+/).filter(notEmptyString) : []\n}\n\n/**\n * Adds element as a key to current if it is not already present.\n *\n * @param {Record<string, boolean | undefined>} current\n * @param {string} element\n * @returns {Record<string, boolean | undefined>}\n */\nfunction orderedSetReducer (current, element) {\n\tif (!current.hasOwnProperty(element)) {\n\t\tcurrent[element] = true;\n\t}\n\treturn current;\n}\n\n/**\n * @see https://infra.spec.whatwg.org/#ordered-set\n * @param {string} input\n * @returns {string[]}\n */\nfunction toOrderedSet(input) {\n\tif (!input) return [];\n\tvar list = splitOnASCIIWhitespace(input);\n\treturn Object.keys(list.reduce(orderedSetReducer, {}))\n}\n\n/**\n * Uses `list.indexOf` to implement something like `Array.prototype.includes`,\n * which we can not rely on being available.\n *\n * @param {any[]} list\n * @returns {function(any): boolean}\n */\nfunction arrayIncludes (list) {\n\treturn function(element) {\n\t\treturn list && list.indexOf(element) !== -1;\n\t}\n}\n\nfunction copy(src,dest){\n\tfor(var p in src){\n\t\tif (Object.prototype.hasOwnProperty.call(src, p)) {\n\t\t\tdest[p] = src[p];\n\t\t}\n\t}\n}\n\n/**\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\n */\nfunction _extends(Class,Super){\n\tvar pt = Class.prototype;\n\tif(!(pt instanceof Super)){\n\t\tfunction t(){};\n\t\tt.prototype = Super.prototype;\n\t\tt = new t();\n\t\tcopy(pt,t);\n\t\tClass.prototype = pt = t;\n\t}\n\tif(pt.constructor != Class){\n\t\tif(typeof Class != 'function'){\n\t\t\tconsole.error(\"unknown Class:\"+Class)\n\t\t}\n\t\tpt.constructor = Class\n\t}\n}\n\n// Node Types\nvar NodeType = {}\nvar ELEMENT_NODE                = NodeType.ELEMENT_NODE                = 1;\nvar ATTRIBUTE_NODE              = NodeType.ATTRIBUTE_NODE              = 2;\nvar TEXT_NODE                   = NodeType.TEXT_NODE                   = 3;\nvar CDATA_SECTION_NODE          = NodeType.CDATA_SECTION_NODE          = 4;\nvar ENTITY_REFERENCE_NODE       = NodeType.ENTITY_REFERENCE_NODE       = 5;\nvar ENTITY_NODE                 = NodeType.ENTITY_NODE                 = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE                = NodeType.COMMENT_NODE                = 8;\nvar DOCUMENT_NODE               = NodeType.DOCUMENT_NODE               = 9;\nvar DOCUMENT_TYPE_NODE          = NodeType.DOCUMENT_TYPE_NODE          = 10;\nvar DOCUMENT_FRAGMENT_NODE      = NodeType.DOCUMENT_FRAGMENT_NODE      = 11;\nvar NOTATION_NODE               = NodeType.NOTATION_NODE               = 12;\n\n// ExceptionCode\nvar ExceptionCode = {}\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR              = ExceptionCode.INDEX_SIZE_ERR              = ((ExceptionMessage[1]=\"Index size error\"),1);\nvar DOMSTRING_SIZE_ERR          = ExceptionCode.DOMSTRING_SIZE_ERR          = ((ExceptionMessage[2]=\"DOMString size error\"),2);\nvar HIERARCHY_REQUEST_ERR       = ExceptionCode.HIERARCHY_REQUEST_ERR       = ((ExceptionMessage[3]=\"Hierarchy request error\"),3);\nvar WRONG_DOCUMENT_ERR          = ExceptionCode.WRONG_DOCUMENT_ERR          = ((ExceptionMessage[4]=\"Wrong document\"),4);\nvar INVALID_CHARACTER_ERR       = ExceptionCode.INVALID_CHARACTER_ERR       = ((ExceptionMessage[5]=\"Invalid character\"),5);\nvar NO_DATA_ALLOWED_ERR         = ExceptionCode.NO_DATA_ALLOWED_ERR         = ((ExceptionMessage[6]=\"No data allowed\"),6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7]=\"No modification allowed\"),7);\nvar NOT_FOUND_ERR               = ExceptionCode.NOT_FOUND_ERR               = ((ExceptionMessage[8]=\"Not found\"),8);\nvar NOT_SUPPORTED_ERR           = ExceptionCode.NOT_SUPPORTED_ERR           = ((ExceptionMessage[9]=\"Not supported\"),9);\nvar INUSE_ATTRIBUTE_ERR         = ExceptionCode.INUSE_ATTRIBUTE_ERR         = ((ExceptionMessage[10]=\"Attribute in use\"),10);\n//level2\nvar INVALID_STATE_ERR        \t= ExceptionCode.INVALID_STATE_ERR        \t= ((ExceptionMessage[11]=\"Invalid state\"),11);\nvar SYNTAX_ERR               \t= ExceptionCode.SYNTAX_ERR               \t= ((ExceptionMessage[12]=\"Syntax error\"),12);\nvar INVALID_MODIFICATION_ERR \t= ExceptionCode.INVALID_MODIFICATION_ERR \t= ((ExceptionMessage[13]=\"Invalid modification\"),13);\nvar NAMESPACE_ERR            \t= ExceptionCode.NAMESPACE_ERR           \t= ((ExceptionMessage[14]=\"Invalid namespace\"),14);\nvar INVALID_ACCESS_ERR       \t= ExceptionCode.INVALID_ACCESS_ERR      \t= ((ExceptionMessage[15]=\"Invalid access\"),15);\n\n/**\n * DOM Level 2\n * Object DOMException\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\n */\nfunction DOMException(code, message) {\n\tif(message instanceof Error){\n\t\tvar error = message;\n\t}else{\n\t\terror = this;\n\t\tError.call(this, ExceptionMessage[code]);\n\t\tthis.message = ExceptionMessage[code];\n\t\tif(Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n\t}\n\terror.code = code;\n\tif(message) this.message = this.message + \": \" + message;\n\treturn error;\n};\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode,DOMException)\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\n * The items in the NodeList are accessible via an integral index, starting from 0.\n */\nfunction NodeList() {\n};\nNodeList.prototype = {\n\t/**\n\t * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\n\t * @standard level1\n\t */\n\tlength:0,\n\t/**\n\t * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\n\t * @standard level1\n\t * @param index  unsigned long\n\t *   Index into the collection.\n\t * @return Node\n\t * \tThe node at the indexth position in the NodeList, or null if that is not a valid index.\n\t */\n\titem: function(index) {\n\t\treturn this[index] || null;\n\t},\n\ttoString:function(isHTML,nodeFilter){\n\t\tfor(var buf = [], i = 0;i<this.length;i++){\n\t\t\tserializeToString(this[i],buf,isHTML,nodeFilter);\n\t\t}\n\t\treturn buf.join('');\n\t},\n\t/**\n\t * @private\n\t * @param {function (Node):boolean} predicate\n\t * @returns {Node | undefined}\n\t */\n\tfind: function (predicate) {\n\t\treturn Array.prototype.find.call(this, predicate);\n\t},\n\t/**\n\t * @private\n\t * @param {function (Node):boolean} predicate\n\t * @returns {Node[]}\n\t */\n\tfilter: function (predicate) {\n\t\treturn Array.prototype.filter.call(this, predicate);\n\t},\n\t/**\n\t * @private\n\t * @param {Node} item\n\t * @returns {number}\n\t */\n\tindexOf: function (item) {\n\t\treturn Array.prototype.indexOf.call(this, item);\n\t},\n};\n\nfunction LiveNodeList(node,refresh){\n\tthis._node = node;\n\tthis._refresh = refresh\n\t_updateLiveList(this);\n}\nfunction _updateLiveList(list){\n\tvar inc = list._node._inc || list._node.ownerDocument._inc;\n\tif(list._inc != inc){\n\t\tvar ls = list._refresh(list._node);\n\t\t//console.log(ls.length)\n\t\t__set__(list,'length',ls.length);\n\t\tcopy(ls,list);\n\t\tlist._inc = inc;\n\t}\n}\nLiveNodeList.prototype.item = function(i){\n\t_updateLiveList(this);\n\treturn this[i];\n}\n\n_extends(LiveNodeList,NodeList);\n\n/**\n * Objects implementing the NamedNodeMap interface are used\n * to represent collections of nodes that can be accessed by name.\n * Note that NamedNodeMap does not inherit from NodeList;\n * NamedNodeMaps are not maintained in any particular order.\n * Objects contained in an object implementing NamedNodeMap may also be accessed by an ordinal index,\n * but this is simply to allow convenient enumeration of the contents of a NamedNodeMap,\n * and does not imply that the DOM specifies an order to these Nodes.\n * NamedNodeMap objects in the DOM are live.\n * used for attributes or DocumentType entities\n */\nfunction NamedNodeMap() {\n};\n\nfunction _findNodeIndex(list,node){\n\tvar i = list.length;\n\twhile(i--){\n\t\tif(list[i] === node){return i}\n\t}\n}\n\nfunction _addNamedNode(el,list,newAttr,oldAttr){\n\tif(oldAttr){\n\t\tlist[_findNodeIndex(list,oldAttr)] = newAttr;\n\t}else{\n\t\tlist[list.length++] = newAttr;\n\t}\n\tif(el){\n\t\tnewAttr.ownerElement = el;\n\t\tvar doc = el.ownerDocument;\n\t\tif(doc){\n\t\t\toldAttr && _onRemoveAttribute(doc,el,oldAttr);\n\t\t\t_onAddAttribute(doc,el,newAttr);\n\t\t}\n\t}\n}\nfunction _removeNamedNode(el,list,attr){\n\t//console.log('remove attr:'+attr)\n\tvar i = _findNodeIndex(list,attr);\n\tif(i>=0){\n\t\tvar lastIndex = list.length-1\n\t\twhile(i<lastIndex){\n\t\t\tlist[i] = list[++i]\n\t\t}\n\t\tlist.length = lastIndex;\n\t\tif(el){\n\t\t\tvar doc = el.ownerDocument;\n\t\t\tif(doc){\n\t\t\t\t_onRemoveAttribute(doc,el,attr);\n\t\t\t\tattr.ownerElement = null;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tthrow new DOMException(NOT_FOUND_ERR,new Error(el.tagName+'@'+attr))\n\t}\n}\nNamedNodeMap.prototype = {\n\tlength:0,\n\titem:NodeList.prototype.item,\n\tgetNamedItem: function(key) {\n//\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\n//\t\t\treturn null;\n//\t\t}\n\t\t//console.log()\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar attr = this[i];\n\t\t\t//console.log(attr.nodeName,key)\n\t\t\tif(attr.nodeName == key){\n\t\t\t\treturn attr;\n\t\t\t}\n\t\t}\n\t},\n\tsetNamedItem: function(attr) {\n\t\tvar el = attr.ownerElement;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\tvar oldAttr = this.getNamedItem(attr.nodeName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\t/* returns Node */\n\tsetNamedItemNS: function(attr) {// raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n\t\tvar el = attr.ownerElement, oldAttr;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\toldAttr = this.getNamedItemNS(attr.namespaceURI,attr.localName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\n\t/* returns Node */\n\tremoveNamedItem: function(key) {\n\t\tvar attr = this.getNamedItem(key);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\n\n\t},// raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n\n\t//for level2\n\tremoveNamedItemNS:function(namespaceURI,localName){\n\t\tvar attr = this.getNamedItemNS(namespaceURI,localName);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t},\n\tgetNamedItemNS: function(namespaceURI, localName) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar node = this[i];\n\t\t\tif(node.localName == localName && node.namespaceURI == namespaceURI){\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n};\n\n/**\n * The DOMImplementation interface represents an object providing methods\n * which are not dependent on any particular document.\n * Such an object is returned by the `Document.implementation` property.\n *\n * __The individual methods describe the differences compared to the specs.__\n *\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation MDN\n * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490 DOM Level 1 Core (Initial)\n * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-102161490 DOM Level 2 Core\n * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#ID-102161490 DOM Level 3 Core\n * @see https://dom.spec.whatwg.org/#domimplementation DOM Living Standard\n */\nfunction DOMImplementation() {\n}\n\nDOMImplementation.prototype = {\n\t/**\n\t * The DOMImplementation.hasFeature() method returns a Boolean flag indicating if a given feature is supported.\n\t * The different implementations fairly diverged in what kind of features were reported.\n\t * The latest version of the spec settled to force this method to always return true, where the functionality was accurate and in use.\n\t *\n\t * @deprecated It is deprecated and modern browsers return true in all cases.\n\t *\n\t * @param {string} feature\n\t * @param {string} [version]\n\t * @returns {boolean} always true\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/hasFeature MDN\n\t * @see https://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-5CED94D7 DOM Level 1 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-hasfeature DOM Living Standard\n\t */\n\thasFeature: function(feature, version) {\n\t\t\treturn true;\n\t},\n\t/**\n\t * Creates an XML Document object of the specified type with its document element.\n\t *\n\t * __It behaves slightly different from the description in the living standard__:\n\t * - There is no interface/class `XMLDocument`, it returns a `Document` instance.\n\t * - `contentType`, `encoding`, `mode`, `origin`, `url` fields are currently not declared.\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string|null} namespaceURI\n\t * @param {string} qualifiedName\n\t * @param {DocumentType=null} doctype\n\t * @returns {Document}\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocument MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocument DOM Level 2 Core (initial)\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocument  DOM Level 2 Core\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocument: function(namespaceURI,  qualifiedName, doctype){\n\t\tvar doc = new Document();\n\t\tdoc.implementation = this;\n\t\tdoc.childNodes = new NodeList();\n\t\tdoc.doctype = doctype || null;\n\t\tif (doctype){\n\t\t\tdoc.appendChild(doctype);\n\t\t}\n\t\tif (qualifiedName){\n\t\t\tvar root = doc.createElementNS(namespaceURI, qualifiedName);\n\t\t\tdoc.appendChild(root);\n\t\t}\n\t\treturn doc;\n\t},\n\t/**\n\t * Returns a doctype, with the given `qualifiedName`, `publicId`, and `systemId`.\n\t *\n\t * __This behavior is slightly different from the in the specs__:\n\t * - this implementation is not validating names or qualified names\n\t *   (when parsing XML strings, the SAX parser takes care of that)\n\t *\n\t * @param {string} qualifiedName\n\t * @param {string} [publicId]\n\t * @param {string} [systemId]\n\t * @returns {DocumentType} which can either be used with `DOMImplementation.createDocument` upon document creation\n\t * \t\t\t\t  or can be put into the document via methods like `Node.insertBefore()` or `Node.replaceChild()`\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMImplementation/createDocumentType MDN\n\t * @see https://www.w3.org/TR/DOM-Level-2-Core/core.html#Level-2-Core-DOM-createDocType DOM Level 2 Core\n\t * @see https://dom.spec.whatwg.org/#dom-domimplementation-createdocumenttype DOM Living Standard\n\t *\n\t * @see https://dom.spec.whatwg.org/#validate-and-extract DOM: Validate and extract\n\t * @see https://www.w3.org/TR/xml/#NT-NameStartChar XML Spec: Names\n\t * @see https://www.w3.org/TR/xml-names/#ns-qualnames XML Namespaces: Qualified names\n\t */\n\tcreateDocumentType: function(qualifiedName, publicId, systemId){\n\t\tvar node = new DocumentType();\n\t\tnode.name = qualifiedName;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.publicId = publicId || '';\n\t\tnode.systemId = systemId || '';\n\n\t\treturn node;\n\t}\n};\n\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\n */\n\nfunction Node() {\n};\n\nNode.prototype = {\n\tfirstChild : null,\n\tlastChild : null,\n\tpreviousSibling : null,\n\tnextSibling : null,\n\tattributes : null,\n\tparentNode : null,\n\tchildNodes : null,\n\townerDocument : null,\n\tnodeValue : null,\n\tnamespaceURI : null,\n\tprefix : null,\n\tlocalName : null,\n\t// Modified in DOM Level 2:\n\tinsertBefore:function(newChild, refChild){//raises\n\t\treturn _insertBefore(this,newChild,refChild);\n\t},\n\treplaceChild:function(newChild, oldChild){//raises\n\t\tthis.insertBefore(newChild,oldChild);\n\t\tif(oldChild){\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t},\n\tremoveChild:function(oldChild){\n\t\treturn _removeChild(this,oldChild);\n\t},\n\tappendChild:function(newChild){\n\t\treturn this.insertBefore(newChild,null);\n\t},\n\thasChildNodes:function(){\n\t\treturn this.firstChild != null;\n\t},\n\tcloneNode:function(deep){\n\t\treturn cloneNode(this.ownerDocument||this,this,deep);\n\t},\n\t// Modified in DOM Level 2:\n\tnormalize:function(){\n\t\tvar child = this.firstChild;\n\t\twhile(child){\n\t\t\tvar next = child.nextSibling;\n\t\t\tif(next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE){\n\t\t\t\tthis.removeChild(next);\n\t\t\t\tchild.appendData(next.data);\n\t\t\t}else{\n\t\t\t\tchild.normalize();\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t}\n\t},\n  \t// Introduced in DOM Level 2:\n\tisSupported:function(feature, version){\n\t\treturn this.ownerDocument.implementation.hasFeature(feature,version);\n\t},\n    // Introduced in DOM Level 2:\n    hasAttributes:function(){\n    \treturn this.attributes.length>0;\n    },\n\t/**\n\t * Look up the prefix associated to the given namespace URI, starting from this node.\n\t * **The default namespace declarations are ignored by this method.**\n\t * See Namespace Prefix Lookup for details on the algorithm used by this method.\n\t *\n\t * _Note: The implementation seems to be incomplete when compared to the algorithm described in the specs._\n\t *\n\t * @param {string | null} namespaceURI\n\t * @returns {string | null}\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/core.html#Node3-lookupNamespacePrefix\n\t * @see https://www.w3.org/TR/DOM-Level-3-Core/namespaces-algorithms.html#lookupNamespacePrefixAlgo\n\t * @see https://dom.spec.whatwg.org/#dom-node-lookupprefix\n\t * @see https://github.com/xmldom/xmldom/issues/322\n\t */\n    lookupPrefix:function(namespaceURI){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tfor(var n in map){\n\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(map, n) && map[n] === namespaceURI) {\n\t\t\t\t\t\t\treturn n;\n\t\t\t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    lookupNamespaceURI:function(prefix){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tif(Object.prototype.hasOwnProperty.call(map, prefix)){\n    \t\t\t\treturn map[prefix] ;\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    isDefaultNamespace:function(namespaceURI){\n    \tvar prefix = this.lookupPrefix(namespaceURI);\n    \treturn prefix == null;\n    }\n};\n\n\nfunction _xmlEncoder(c){\n\treturn c == '<' && '&lt;' ||\n         c == '>' && '&gt;' ||\n         c == '&' && '&amp;' ||\n         c == '\"' && '&quot;' ||\n         '&#'+c.charCodeAt()+';'\n}\n\n\ncopy(NodeType,Node);\ncopy(NodeType,Node.prototype);\n\n/**\n * @param callback return true for continue,false for break\n * @return boolean true: break visit;\n */\nfunction _visitNode(node,callback){\n\tif(callback(node)){\n\t\treturn true;\n\t}\n\tif(node = node.firstChild){\n\t\tdo{\n\t\t\tif(_visitNode(node,callback)){return true}\n        }while(node=node.nextSibling)\n    }\n}\n\n\n\nfunction Document(){\n}\n\nfunction _onAddAttribute(doc,el,newAttr){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tel._nsMap[newAttr.prefix?newAttr.localName:''] = newAttr.value\n\t}\n}\n\nfunction _onRemoveAttribute(doc,el,newAttr,remove){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns === NAMESPACE.XMLNS){\n\t\t//update namespace\n\t\tdelete el._nsMap[newAttr.prefix?newAttr.localName:'']\n\t}\n}\n\n/**\n * Updates `el.childNodes`, updating the indexed items and it's `length`.\n * Passing `newChild` means it will be appended.\n * Otherwise it's assumed that an item has been removed,\n * and `el.firstNode` and it's `.nextSibling` are used\n * to walk the current list of child nodes.\n *\n * @param {Document} doc\n * @param {Node} el\n * @param {Node} [newChild]\n * @private\n */\nfunction _onUpdateChild (doc, el, newChild) {\n\tif(doc && doc._inc){\n\t\tdoc._inc++;\n\t\t//update childNodes\n\t\tvar cs = el.childNodes;\n\t\tif (newChild) {\n\t\t\tcs[cs.length++] = newChild;\n\t\t} else {\n\t\t\tvar child = el.firstChild;\n\t\t\tvar i = 0;\n\t\t\twhile (child) {\n\t\t\t\tcs[i++] = child;\n\t\t\t\tchild = child.nextSibling;\n\t\t\t}\n\t\t\tcs.length = i;\n\t\t\tdelete cs[cs.length];\n\t\t}\n\t}\n}\n\n/**\n * Removes the connections between `parentNode` and `child`\n * and any existing `child.previousSibling` or `child.nextSibling`.\n *\n * @see https://github.com/xmldom/xmldom/issues/135\n * @see https://github.com/xmldom/xmldom/issues/145\n *\n * @param {Node} parentNode\n * @param {Node} child\n * @returns {Node} the child that was removed.\n * @private\n */\nfunction _removeChild (parentNode, child) {\n\tvar previous = child.previousSibling;\n\tvar next = child.nextSibling;\n\tif (previous) {\n\t\tprevious.nextSibling = next;\n\t} else {\n\t\tparentNode.firstChild = next;\n\t}\n\tif (next) {\n\t\tnext.previousSibling = previous;\n\t} else {\n\t\tparentNode.lastChild = previous;\n\t}\n\tchild.parentNode = null;\n\tchild.previousSibling = null;\n\tchild.nextSibling = null;\n\t_onUpdateChild(parentNode.ownerDocument, parentNode);\n\treturn child;\n}\n\n/**\n * Returns `true` if `node` can be a parent for insertion.\n * @param {Node} node\n * @returns {boolean}\n */\nfunction hasValidParentNodeType(node) {\n\treturn (\n\t\tnode &&\n\t\t(node.nodeType === Node.DOCUMENT_NODE || node.nodeType === Node.DOCUMENT_FRAGMENT_NODE || node.nodeType === Node.ELEMENT_NODE)\n\t);\n}\n\n/**\n * Returns `true` if `node` can be inserted according to it's `nodeType`.\n * @param {Node} node\n * @returns {boolean}\n */\nfunction hasInsertableNodeType(node) {\n\treturn (\n\t\tnode &&\n\t\t(isElementNode(node) ||\n\t\t\tisTextNode(node) ||\n\t\t\tisDocTypeNode(node) ||\n\t\t\tnode.nodeType === Node.DOCUMENT_FRAGMENT_NODE ||\n\t\t\tnode.nodeType === Node.COMMENT_NODE ||\n\t\t\tnode.nodeType === Node.PROCESSING_INSTRUCTION_NODE)\n\t);\n}\n\n/**\n * Returns true if `node` is a DOCTYPE node\n * @param {Node} node\n * @returns {boolean}\n */\nfunction isDocTypeNode(node) {\n\treturn node && node.nodeType === Node.DOCUMENT_TYPE_NODE;\n}\n\n/**\n * Returns true if the node is an element\n * @param {Node} node\n * @returns {boolean}\n */\nfunction isElementNode(node) {\n\treturn node && node.nodeType === Node.ELEMENT_NODE;\n}\n/**\n * Returns true if `node` is a text node\n * @param {Node} node\n * @returns {boolean}\n */\nfunction isTextNode(node) {\n\treturn node && node.nodeType === Node.TEXT_NODE;\n}\n\n/**\n * Check if en element node can be inserted before `child`, or at the end if child is falsy,\n * according to the presence and position of a doctype node on the same level.\n *\n * @param {Document} doc The document node\n * @param {Node} child the node that would become the nextSibling if the element would be inserted\n * @returns {boolean} `true` if an element can be inserted before child\n * @private\n * https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n */\nfunction isElementInsertionPossible(doc, child) {\n\tvar parentChildNodes = doc.childNodes || [];\n\tif (parentChildNodes.find(isElementNode) || isDocTypeNode(child)) {\n\t\treturn false;\n\t}\n\tvar docTypeNode = parentChildNodes.find(isDocTypeNode);\n\treturn !(child && docTypeNode && parentChildNodes.indexOf(docTypeNode) > parentChildNodes.indexOf(child));\n}\n/**\n * @private\n * @param {Node} parent the parent node to insert `node` into\n * @param {Node} node the node to insert\n * @param {Node=} child the node that should become the `nextSibling` of `node`\n * @returns {Node}\n * @throws DOMException for several node combinations that would create a DOM that is not well-formed.\n * @throws DOMException if `child` is provided but is not a child of `parent`.\n * @see https://dom.spec.whatwg.org/#concept-node-ensure-pre-insertion-validity\n */\nfunction _insertBefore(parent, node, child) {\n\tif (!hasValidParentNodeType(parent)) {\n\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Unexpected parent node type ' + parent.nodeType);\n\t}\n\tif (child && child.parentNode !== parent) {\n\t\tthrow new DOMException(NOT_FOUND_ERR, 'child not in parent');\n\t}\n\tif (\n\t\t!hasInsertableNodeType(node) ||\n\t\t// the sax parser currently adds top level text nodes, this will be fixed in 0.9.0\n\t\t// || (node.nodeType === Node.TEXT_NODE && parent.nodeType === Node.DOCUMENT_NODE)\n\t\t(isDocTypeNode(node) && parent.nodeType !== Node.DOCUMENT_NODE)\n\t) {\n\t\tthrow new DOMException(\n\t\t\tHIERARCHY_REQUEST_ERR,\n\t\t\t'Unexpected node type ' + node.nodeType + ' for parent node type ' + parent.nodeType\n\t\t);\n\t}\n\tvar parentChildNodes = parent.childNodes || [];\n\tvar nodeChildNodes = node.childNodes || [];\n\tif (parent.nodeType === Node.DOCUMENT_NODE) {\n\t\tif (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n\t\t\tlet nodeChildElements = nodeChildNodes.filter(isElementNode);\n\t\t\tif (nodeChildElements.length > 1 || nodeChildNodes.find(isTextNode)) {\n\t\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'More than one element or text in fragment');\n\t\t\t}\n\t\t\tif (nodeChildElements.length === 1 && !isElementInsertionPossible(parent, child)) {\n\t\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Element in fragment can not be inserted before doctype');\n\t\t\t}\n\t\t}\n\t\tif (isElementNode(node)) {\n\t\t\tif (parentChildNodes.find(isElementNode) || !isElementInsertionPossible(parent, child)) {\n\t\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one element can be added and only after doctype');\n\t\t\t}\n\t\t}\n\t\tif (isDocTypeNode(node)) {\n\t\t\tif (parentChildNodes.find(isDocTypeNode)) {\n\t\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Only one doctype is allowed');\n\t\t\t}\n\t\t\tlet parentElementChild = parentChildNodes.find(isElementNode);\n\t\t\tif (child && parentChildNodes.indexOf(parentElementChild) < parentChildNodes.indexOf(child)) {\n\t\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Doctype can only be inserted before an element');\n\t\t\t}\n\t\t\tif (!child && parentElementChild) {\n\t\t\t\tthrow new DOMException(HIERARCHY_REQUEST_ERR, 'Doctype can not be appended since element is present');\n\t\t\t}\n\t\t}\n\t}\n\n\tvar cp = node.parentNode;\n\tif(cp){\n\t\tcp.removeChild(node);//remove and update\n\t}\n\tif(node.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\tvar newFirst = node.firstChild;\n\t\tif (newFirst == null) {\n\t\t\treturn node;\n\t\t}\n\t\tvar newLast = node.lastChild;\n\t}else{\n\t\tnewFirst = newLast = node;\n\t}\n\tvar pre = child ? child.previousSibling : parent.lastChild;\n\n\tnewFirst.previousSibling = pre;\n\tnewLast.nextSibling = child;\n\n\n\tif(pre){\n\t\tpre.nextSibling = newFirst;\n\t}else{\n\t\tparent.firstChild = newFirst;\n\t}\n\tif(child == null){\n\t\tparent.lastChild = newLast;\n\t}else{\n\t\tchild.previousSibling = newLast;\n\t}\n\tdo{\n\t\tnewFirst.parentNode = parent;\n\t}while(newFirst !== newLast && (newFirst= newFirst.nextSibling))\n\t_onUpdateChild(parent.ownerDocument||parent, parent);\n\t//console.log(parent.lastChild.nextSibling == null)\n\tif (node.nodeType == DOCUMENT_FRAGMENT_NODE) {\n\t\tnode.firstChild = node.lastChild = null;\n\t}\n\treturn node;\n}\n\n/**\n * Appends `newChild` to `parentNode`.\n * If `newChild` is already connected to a `parentNode` it is first removed from it.\n *\n * @see https://github.com/xmldom/xmldom/issues/135\n * @see https://github.com/xmldom/xmldom/issues/145\n * @param {Node} parentNode\n * @param {Node} newChild\n * @returns {Node}\n * @private\n */\nfunction _appendSingleChild (parentNode, newChild) {\n\tif (newChild.parentNode) {\n\t\tnewChild.parentNode.removeChild(newChild);\n\t}\n\tnewChild.parentNode = parentNode;\n\tnewChild.previousSibling = parentNode.lastChild;\n\tnewChild.nextSibling = null;\n\tif (newChild.previousSibling) {\n\t\tnewChild.previousSibling.nextSibling = newChild;\n\t} else {\n\t\tparentNode.firstChild = newChild;\n\t}\n\tparentNode.lastChild = newChild;\n\t_onUpdateChild(parentNode.ownerDocument, parentNode, newChild);\n\treturn newChild;\n}\n\nDocument.prototype = {\n\t//implementation : null,\n\tnodeName :  '#document',\n\tnodeType :  DOCUMENT_NODE,\n\t/**\n\t * The DocumentType node of the document.\n\t *\n\t * @readonly\n\t * @type DocumentType\n\t */\n\tdoctype :  null,\n\tdocumentElement :  null,\n\t_inc : 1,\n\n\tinsertBefore :  function(newChild, refChild){//raises\n\t\tif(newChild.nodeType == DOCUMENT_FRAGMENT_NODE){\n\t\t\tvar child = newChild.firstChild;\n\t\t\twhile(child){\n\t\t\t\tvar next = child.nextSibling;\n\t\t\t\tthis.insertBefore(child,refChild);\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}\n\t\t_insertBefore(this, newChild, refChild);\n\t\tnewChild.ownerDocument = this;\n\t\tif (this.documentElement === null && newChild.nodeType === ELEMENT_NODE) {\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\n\t\treturn newChild;\n\t},\n\tremoveChild :  function(oldChild){\n\t\tif(this.documentElement == oldChild){\n\t\t\tthis.documentElement = null;\n\t\t}\n\t\treturn _removeChild(this,oldChild);\n\t},\n\t// Introduced in DOM Level 2:\n\timportNode : function(importedNode,deep){\n\t\treturn importNode(this,importedNode,deep);\n\t},\n\t// Introduced in DOM Level 2:\n\tgetElementById :\tfunction(id){\n\t\tvar rtv = null;\n\t\t_visitNode(this.documentElement,function(node){\n\t\t\tif(node.nodeType == ELEMENT_NODE){\n\t\t\t\tif(node.getAttribute('id') == id){\n\t\t\t\t\trtv = node;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\treturn rtv;\n\t},\n\n\t/**\n\t * The `getElementsByClassName` method of `Document` interface returns an array-like object\n\t * of all child elements which have **all** of the given class name(s).\n\t *\n\t * Returns an empty list if `classeNames` is an empty string or only contains HTML white space characters.\n\t *\n\t *\n\t * Warning: This is a live LiveNodeList.\n\t * Changes in the DOM will reflect in the array as the changes occur.\n\t * If an element selected by this array no longer qualifies for the selector,\n\t * it will automatically be removed. Be aware of this for iteration purposes.\n\t *\n\t * @param {string} classNames is a string representing the class name(s) to match; multiple class names are separated by (ASCII-)whitespace\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByClassName\n\t * @see https://dom.spec.whatwg.org/#concept-getelementsbyclassname\n\t */\n\tgetElementsByClassName: function(classNames) {\n\t\tvar classNamesSet = toOrderedSet(classNames)\n\t\treturn new LiveNodeList(this, function(base) {\n\t\t\tvar ls = [];\n\t\t\tif (classNamesSet.length > 0) {\n\t\t\t\t_visitNode(base.documentElement, function(node) {\n\t\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE) {\n\t\t\t\t\t\tvar nodeClassNames = node.getAttribute('class')\n\t\t\t\t\t\t// can be null if the attribute does not exist\n\t\t\t\t\t\tif (nodeClassNames) {\n\t\t\t\t\t\t\t// before splitting and iterating just compare them for the most common case\n\t\t\t\t\t\t\tvar matches = classNames === nodeClassNames;\n\t\t\t\t\t\t\tif (!matches) {\n\t\t\t\t\t\t\t\tvar nodeClassNamesSet = toOrderedSet(nodeClassNames)\n\t\t\t\t\t\t\t\tmatches = classNamesSet.every(arrayIncludes(nodeClassNamesSet))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(matches) {\n\t\t\t\t\t\t\t\tls.push(node);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn ls;\n\t\t});\n\t},\n\n\t//document factory method:\n\tcreateElement :\tfunction(tagName){\n\t\tvar node = new Element();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = tagName;\n\t\tnode.tagName = tagName;\n\t\tnode.localName = tagName;\n\t\tnode.childNodes = new NodeList();\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateDocumentFragment :\tfunction(){\n\t\tvar node = new DocumentFragment();\n\t\tnode.ownerDocument = this;\n\t\tnode.childNodes = new NodeList();\n\t\treturn node;\n\t},\n\tcreateTextNode :\tfunction(data){\n\t\tvar node = new Text();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateComment :\tfunction(data){\n\t\tvar node = new Comment();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateCDATASection :\tfunction(data){\n\t\tvar node = new CDATASection();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateProcessingInstruction :\tfunction(target,data){\n\t\tvar node = new ProcessingInstruction();\n\t\tnode.ownerDocument = this;\n\t\tnode.tagName = node.target = target;\n\t\tnode.nodeValue= node.data = data;\n\t\treturn node;\n\t},\n\tcreateAttribute :\tfunction(name){\n\t\tvar node = new Attr();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.name = name;\n\t\tnode.nodeName\t= name;\n\t\tnode.localName = name;\n\t\tnode.specified = true;\n\t\treturn node;\n\t},\n\tcreateEntityReference :\tfunction(name){\n\t\tvar node = new EntityReference();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.nodeName\t= name;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateElementNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Element();\n\t\tvar pl = qualifiedName.split(':');\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tnode.childNodes = new NodeList();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.tagName = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateAttributeNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Attr();\n\t\tvar pl = qualifiedName.split(':');\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.name = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tnode.specified = true;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\treturn node;\n\t}\n};\n_extends(Document,Node);\n\n\nfunction Element() {\n\tthis._nsMap = {};\n};\nElement.prototype = {\n\tnodeType : ELEMENT_NODE,\n\thasAttribute : function(name){\n\t\treturn this.getAttributeNode(name)!=null;\n\t},\n\tgetAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\treturn attr && attr.value || '';\n\t},\n\tgetAttributeNode : function(name){\n\t\treturn this.attributes.getNamedItem(name);\n\t},\n\tsetAttribute : function(name, value){\n\t\tvar attr = this.ownerDocument.createAttribute(name);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tremoveAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name)\n\t\tattr && this.removeAttributeNode(attr);\n\t},\n\n\t//four real opeartion method\n\tappendChild:function(newChild){\n\t\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\t\treturn this.insertBefore(newChild,null);\n\t\t}else{\n\t\t\treturn _appendSingleChild(this,newChild);\n\t\t}\n\t},\n\tsetAttributeNode : function(newAttr){\n\t\treturn this.attributes.setNamedItem(newAttr);\n\t},\n\tsetAttributeNodeNS : function(newAttr){\n\t\treturn this.attributes.setNamedItemNS(newAttr);\n\t},\n\tremoveAttributeNode : function(oldAttr){\n\t\t//console.log(this == oldAttr.ownerElement)\n\t\treturn this.attributes.removeNamedItem(oldAttr.nodeName);\n\t},\n\t//get real attribute name,and remove it by removeAttributeNode\n\tremoveAttributeNS : function(namespaceURI, localName){\n\t\tvar old = this.getAttributeNodeNS(namespaceURI, localName);\n\t\told && this.removeAttributeNode(old);\n\t},\n\n\thasAttributeNS : function(namespaceURI, localName){\n\t\treturn this.getAttributeNodeNS(namespaceURI, localName)!=null;\n\t},\n\tgetAttributeNS : function(namespaceURI, localName){\n\t\tvar attr = this.getAttributeNodeNS(namespaceURI, localName);\n\t\treturn attr && attr.value || '';\n\t},\n\tsetAttributeNS : function(namespaceURI, qualifiedName, value){\n\t\tvar attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tgetAttributeNodeNS : function(namespaceURI, localName){\n\t\treturn this.attributes.getNamedItemNS(namespaceURI, localName);\n\t},\n\n\tgetElementsByTagName : function(tagName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t},\n\tgetElementsByTagNameNS : function(namespaceURI, localName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\n\t\t});\n\t}\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n\n_extends(Element,Node);\nfunction Attr() {\n};\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n_extends(Attr,Node);\n\n\nfunction CharacterData() {\n};\nCharacterData.prototype = {\n\tdata : '',\n\tsubstringData : function(offset, count) {\n\t\treturn this.data.substring(offset, offset+count);\n\t},\n\tappendData: function(text) {\n\t\ttext = this.data+text;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t},\n\tinsertData: function(offset,text) {\n\t\tthis.replaceData(offset,0,text);\n\n\t},\n\tappendChild:function(newChild){\n\t\tthrow new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])\n\t},\n\tdeleteData: function(offset, count) {\n\t\tthis.replaceData(offset,count,\"\");\n\t},\n\treplaceData: function(offset, count, text) {\n\t\tvar start = this.data.substring(0,offset);\n\t\tvar end = this.data.substring(offset+count);\n\t\ttext = start + text + end;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t}\n}\n_extends(CharacterData,Node);\nfunction Text() {\n};\nText.prototype = {\n\tnodeName : \"#text\",\n\tnodeType : TEXT_NODE,\n\tsplitText : function(offset) {\n\t\tvar text = this.data;\n\t\tvar newText = text.substring(offset);\n\t\ttext = text.substring(0, offset);\n\t\tthis.data = this.nodeValue = text;\n\t\tthis.length = text.length;\n\t\tvar newNode = this.ownerDocument.createTextNode(newText);\n\t\tif(this.parentNode){\n\t\t\tthis.parentNode.insertBefore(newNode, this.nextSibling);\n\t\t}\n\t\treturn newNode;\n\t}\n}\n_extends(Text,CharacterData);\nfunction Comment() {\n};\nComment.prototype = {\n\tnodeName : \"#comment\",\n\tnodeType : COMMENT_NODE\n}\n_extends(Comment,CharacterData);\n\nfunction CDATASection() {\n};\nCDATASection.prototype = {\n\tnodeName : \"#cdata-section\",\n\tnodeType : CDATA_SECTION_NODE\n}\n_extends(CDATASection,CharacterData);\n\n\nfunction DocumentType() {\n};\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n_extends(DocumentType,Node);\n\nfunction Notation() {\n};\nNotation.prototype.nodeType = NOTATION_NODE;\n_extends(Notation,Node);\n\nfunction Entity() {\n};\nEntity.prototype.nodeType = ENTITY_NODE;\n_extends(Entity,Node);\n\nfunction EntityReference() {\n};\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n_extends(EntityReference,Node);\n\nfunction DocumentFragment() {\n};\nDocumentFragment.prototype.nodeName =\t\"#document-fragment\";\nDocumentFragment.prototype.nodeType =\tDOCUMENT_FRAGMENT_NODE;\n_extends(DocumentFragment,Node);\n\n\nfunction ProcessingInstruction() {\n}\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n_extends(ProcessingInstruction,Node);\nfunction XMLSerializer(){}\nXMLSerializer.prototype.serializeToString = function(node,isHtml,nodeFilter){\n\treturn nodeSerializeToString.call(node,isHtml,nodeFilter);\n}\nNode.prototype.toString = nodeSerializeToString;\nfunction nodeSerializeToString(isHtml,nodeFilter){\n\tvar buf = [];\n\tvar refNode = this.nodeType == 9 && this.documentElement || this;\n\tvar prefix = refNode.prefix;\n\tvar uri = refNode.namespaceURI;\n\n\tif(uri && prefix == null){\n\t\t//console.log(prefix)\n\t\tvar prefix = refNode.lookupPrefix(uri);\n\t\tif(prefix == null){\n\t\t\t//isHTML = true;\n\t\t\tvar visibleNamespaces=[\n\t\t\t{namespace:uri,prefix:null}\n\t\t\t//{namespace:uri,prefix:''}\n\t\t\t]\n\t\t}\n\t}\n\tserializeToString(this,buf,isHtml,nodeFilter,visibleNamespaces);\n\t//console.log('###',this.nodeType,uri,prefix,buf.join(''))\n\treturn buf.join('');\n}\n\nfunction needNamespaceDefine(node, isHTML, visibleNamespaces) {\n\tvar prefix = node.prefix || '';\n\tvar uri = node.namespaceURI;\n\t// According to [Namespaces in XML 1.0](https://www.w3.org/TR/REC-xml-names/#ns-using) ,\n\t// and more specifically https://www.w3.org/TR/REC-xml-names/#nsc-NoPrefixUndecl :\n\t// > In a namespace declaration for a prefix [...], the attribute value MUST NOT be empty.\n\t// in a similar manner [Namespaces in XML 1.1](https://www.w3.org/TR/xml-names11/#ns-using)\n\t// and more specifically https://www.w3.org/TR/xml-names11/#nsc-NSDeclared :\n\t// > [...] Furthermore, the attribute value [...] must not be an empty string.\n\t// so serializing empty namespace value like xmlns:ds=\"\" would produce an invalid XML document.\n\tif (!uri) {\n\t\treturn false;\n\t}\n\tif (prefix === \"xml\" && uri === NAMESPACE.XML || uri === NAMESPACE.XMLNS) {\n\t\treturn false;\n\t}\n\n\tvar i = visibleNamespaces.length\n\twhile (i--) {\n\t\tvar ns = visibleNamespaces[i];\n\t\t// get namespace prefix\n\t\tif (ns.prefix === prefix) {\n\t\t\treturn ns.namespace !== uri;\n\t\t}\n\t}\n\treturn true;\n}\n/**\n * Well-formed constraint: No < in Attribute Values\n * > The replacement text of any entity referred to directly or indirectly\n * > in an attribute value must not contain a <.\n * @see https://www.w3.org/TR/xml11/#CleanAttrVals\n * @see https://www.w3.org/TR/xml11/#NT-AttValue\n *\n * Literal whitespace other than space that appear in attribute values\n * are serialized as their entity references, so they will be preserved.\n * (In contrast to whitespace literals in the input which are normalized to spaces)\n * @see https://www.w3.org/TR/xml11/#AVNormalize\n * @see https://w3c.github.io/DOM-Parsing/#serializing-an-element-s-attributes\n */\nfunction addSerializedAttribute(buf, qualifiedName, value) {\n\tbuf.push(' ', qualifiedName, '=\"', value.replace(/[<>&\"\\t\\n\\r]/g, _xmlEncoder), '\"')\n}\n\nfunction serializeToString(node,buf,isHTML,nodeFilter,visibleNamespaces){\n\tif (!visibleNamespaces) {\n\t\tvisibleNamespaces = [];\n\t}\n\n\tif(nodeFilter){\n\t\tnode = nodeFilter(node);\n\t\tif(node){\n\t\t\tif(typeof node == 'string'){\n\t\t\t\tbuf.push(node);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}else{\n\t\t\treturn;\n\t\t}\n\t\t//buf.sort.apply(attrs, attributeSorter);\n\t}\n\n\tswitch(node.nodeType){\n\tcase ELEMENT_NODE:\n\t\tvar attrs = node.attributes;\n\t\tvar len = attrs.length;\n\t\tvar child = node.firstChild;\n\t\tvar nodeName = node.tagName;\n\n\t\tisHTML = NAMESPACE.isHTML(node.namespaceURI) || isHTML\n\n\t\tvar prefixedNodeName = nodeName\n\t\tif (!isHTML && !node.prefix && node.namespaceURI) {\n\t\t\tvar defaultNS\n\t\t\t// lookup current default ns from `xmlns` attribute\n\t\t\tfor (var ai = 0; ai < attrs.length; ai++) {\n\t\t\t\tif (attrs.item(ai).name === 'xmlns') {\n\t\t\t\t\tdefaultNS = attrs.item(ai).value\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!defaultNS) {\n\t\t\t\t// lookup current default ns in visibleNamespaces\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.prefix === '' && namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tdefaultNS = namespace.namespace\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (defaultNS !== node.namespaceURI) {\n\t\t\t\tfor (var nsi = visibleNamespaces.length - 1; nsi >= 0; nsi--) {\n\t\t\t\t\tvar namespace = visibleNamespaces[nsi]\n\t\t\t\t\tif (namespace.namespace === node.namespaceURI) {\n\t\t\t\t\t\tif (namespace.prefix) {\n\t\t\t\t\t\t\tprefixedNodeName = namespace.prefix + ':' + nodeName\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tbuf.push('<', prefixedNodeName);\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\t// add namespaces for attributes\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (attr.prefix == 'xmlns') {\n\t\t\t\tvisibleNamespaces.push({ prefix: attr.localName, namespace: attr.value });\n\t\t\t}else if(attr.nodeName == 'xmlns'){\n\t\t\t\tvisibleNamespaces.push({ prefix: '', namespace: attr.value });\n\t\t\t}\n\t\t}\n\n\t\tfor(var i=0;i<len;i++){\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (needNamespaceDefine(attr,isHTML, visibleNamespaces)) {\n\t\t\t\tvar prefix = attr.prefix||'';\n\t\t\t\tvar uri = attr.namespaceURI;\n\t\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t\t}\n\t\t\tserializeToString(attr,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t}\n\n\t\t// add namespace for current node\n\t\tif (nodeName === prefixedNodeName && needNamespaceDefine(node, isHTML, visibleNamespaces)) {\n\t\t\tvar prefix = node.prefix||'';\n\t\t\tvar uri = node.namespaceURI;\n\t\t\taddSerializedAttribute(buf, prefix ? 'xmlns:' + prefix : \"xmlns\", uri);\n\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t}\n\n\t\tif(child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)){\n\t\t\tbuf.push('>');\n\t\t\t//if is cdata child node\n\t\t\tif(isHTML && /^script$/i.test(nodeName)){\n\t\t\t\twhile(child){\n\t\t\t\t\tif(child.data){\n\t\t\t\t\t\tbuf.push(child.data);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\t}\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}else\n\t\t\t{\n\t\t\t\twhile(child){\n\t\t\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuf.push('</',prefixedNodeName,'>');\n\t\t}else{\n\t\t\tbuf.push('/>');\n\t\t}\n\t\t// remove added visible namespaces\n\t\t//visibleNamespaces.length = startVisibleNamespaces;\n\t\treturn;\n\tcase DOCUMENT_NODE:\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tserializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces.slice());\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t\treturn;\n\tcase ATTRIBUTE_NODE:\n\t\treturn addSerializedAttribute(buf, node.name, node.value);\n\tcase TEXT_NODE:\n\t\t/**\n\t\t * The ampersand character (&) and the left angle bracket (<) must not appear in their literal form,\n\t\t * except when used as markup delimiters, or within a comment, a processing instruction, or a CDATA section.\n\t\t * If they are needed elsewhere, they must be escaped using either numeric character references or the strings\n\t\t * `&amp;` and `&lt;` respectively.\n\t\t * The right angle bracket (>) may be represented using the string \" &gt; \", and must, for compatibility,\n\t\t * be escaped using either `&gt;` or a character reference when it appears in the string `]]>` in content,\n\t\t * when that string is not marking the end of a CDATA section.\n\t\t *\n\t\t * In the content of elements, character data is any string of characters\n\t\t * which does not contain the start-delimiter of any markup\n\t\t * and does not include the CDATA-section-close delimiter, `]]>`.\n\t\t *\n\t\t * @see https://www.w3.org/TR/xml/#NT-CharData\n\t\t * @see https://w3c.github.io/DOM-Parsing/#xml-serializing-a-text-node\n\t\t */\n\t\treturn buf.push(node.data\n\t\t\t.replace(/[<&>]/g,_xmlEncoder)\n\t\t);\n\tcase CDATA_SECTION_NODE:\n\t\treturn buf.push( '<![CDATA[',node.data,']]>');\n\tcase COMMENT_NODE:\n\t\treturn buf.push( \"<!--\",node.data,\"-->\");\n\tcase DOCUMENT_TYPE_NODE:\n\t\tvar pubid = node.publicId;\n\t\tvar sysid = node.systemId;\n\t\tbuf.push('<!DOCTYPE ',node.name);\n\t\tif(pubid){\n\t\t\tbuf.push(' PUBLIC ', pubid);\n\t\t\tif (sysid && sysid!='.') {\n\t\t\t\tbuf.push(' ', sysid);\n\t\t\t}\n\t\t\tbuf.push('>');\n\t\t}else if(sysid && sysid!='.'){\n\t\t\tbuf.push(' SYSTEM ', sysid, '>');\n\t\t}else{\n\t\t\tvar sub = node.internalSubset;\n\t\t\tif(sub){\n\t\t\t\tbuf.push(\" [\",sub,\"]\");\n\t\t\t}\n\t\t\tbuf.push(\">\");\n\t\t}\n\t\treturn;\n\tcase PROCESSING_INSTRUCTION_NODE:\n\t\treturn buf.push( \"<?\",node.target,\" \",node.data,\"?>\");\n\tcase ENTITY_REFERENCE_NODE:\n\t\treturn buf.push( '&',node.nodeName,';');\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE:\n\tdefault:\n\t\tbuf.push('??',node.nodeName);\n\t}\n}\nfunction importNode(doc,node,deep){\n\tvar node2;\n\tswitch (node.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tnode2 = node.cloneNode(false);\n\t\tnode2.ownerDocument = doc;\n\t\t//var attrs = node2.attributes;\n\t\t//var len = attrs.length;\n\t\t//for(var i=0;i<len;i++){\n\t\t\t//node2.setAttributeNodeNS(importNode(doc,attrs.item(i),deep));\n\t\t//}\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t\tbreak;\n\t//case ENTITY_REFERENCE_NODE:\n\t//case PROCESSING_INSTRUCTION_NODE:\n\t////case TEXT_NODE:\n\t//case CDATA_SECTION_NODE:\n\t//case COMMENT_NODE:\n\t//\tdeep = false;\n\t//\tbreak;\n\t//case DOCUMENT_NODE:\n\t//case DOCUMENT_TYPE_NODE:\n\t//cannot be imported.\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE\uFF1A\n\t//can not hit in level3\n\t//default:throw e;\n\t}\n\tif(!node2){\n\t\tnode2 = node.cloneNode(false);//false\n\t}\n\tnode2.ownerDocument = doc;\n\tnode2.parentNode = null;\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(importNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n//\n//var _relationMap = {firstChild:1,lastChild:1,previousSibling:1,nextSibling:1,\n//\t\t\t\t\tattributes:1,childNodes:1,parentNode:1,documentElement:1,doctype,};\nfunction cloneNode(doc,node,deep){\n\tvar node2 = new node.constructor();\n\tfor (var n in node) {\n\t\tif (Object.prototype.hasOwnProperty.call(node, n)) {\n\t\t\tvar v = node[n];\n\t\t\tif (typeof v != \"object\") {\n\t\t\t\tif (v != node2[n]) {\n\t\t\t\t\tnode2[n] = v;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tif(node.childNodes){\n\t\tnode2.childNodes = new NodeList();\n\t}\n\tnode2.ownerDocument = doc;\n\tswitch (node2.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tvar attrs\t= node.attributes;\n\t\tvar attrs2\t= node2.attributes = new NamedNodeMap();\n\t\tvar len = attrs.length\n\t\tattrs2._ownerElement = node2;\n\t\tfor(var i=0;i<len;i++){\n\t\t\tnode2.setAttributeNode(cloneNode(doc,attrs.item(i),true));\n\t\t}\n\t\tbreak;;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t}\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(cloneNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n\nfunction __set__(object,key,value){\n\tobject[key] = value\n}\n//do dynamic\ntry{\n\tif(Object.defineProperty){\n\t\tObject.defineProperty(LiveNodeList.prototype,'length',{\n\t\t\tget:function(){\n\t\t\t\t_updateLiveList(this);\n\t\t\t\treturn this.$$length;\n\t\t\t}\n\t\t});\n\n\t\tObject.defineProperty(Node.prototype,'textContent',{\n\t\t\tget:function(){\n\t\t\t\treturn getTextContent(this);\n\t\t\t},\n\n\t\t\tset:function(data){\n\t\t\t\tswitch(this.nodeType){\n\t\t\t\tcase ELEMENT_NODE:\n\t\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\t\twhile(this.firstChild){\n\t\t\t\t\t\tthis.removeChild(this.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tif(data || String(data)){\n\t\t\t\t\t\tthis.appendChild(this.ownerDocument.createTextNode(data));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.data = data;\n\t\t\t\t\tthis.value = data;\n\t\t\t\t\tthis.nodeValue = data;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\tfunction getTextContent(node){\n\t\t\tswitch(node.nodeType){\n\t\t\tcase ELEMENT_NODE:\n\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\tvar buf = [];\n\t\t\t\tnode = node.firstChild;\n\t\t\t\twhile(node){\n\t\t\t\t\tif(node.nodeType!==7 && node.nodeType !==8){\n\t\t\t\t\t\tbuf.push(getTextContent(node));\n\t\t\t\t\t}\n\t\t\t\t\tnode = node.nextSibling;\n\t\t\t\t}\n\t\t\t\treturn buf.join('');\n\t\t\tdefault:\n\t\t\t\treturn node.nodeValue;\n\t\t\t}\n\t\t}\n\n\t\t__set__ = function(object,key,value){\n\t\t\t//console.log(value)\n\t\t\tobject['$$'+key] = value\n\t\t}\n\t}\n}catch(e){//ie8\n}\n\n//if(typeof require == 'function'){\n\texports.DocumentType = DocumentType;\n\texports.DOMException = DOMException;\n\texports.DOMImplementation = DOMImplementation;\n\texports.Element = Element;\n\texports.Node = Node;\n\texports.NodeList = NodeList;\n\texports.XMLSerializer = XMLSerializer;\n//}\n", "var freeze = require('./conventions').freeze;\n\n/**\n * The entities that are predefined in every XML document.\n *\n * @see https://www.w3.org/TR/2006/REC-xml11-20060816/#sec-predefined-ent W3C XML 1.1\n * @see https://www.w3.org/TR/2008/REC-xml-20081126/#sec-predefined-ent W3C XML 1.0\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Predefined_entities_in_XML Wikipedia\n */\nexports.XML_ENTITIES = freeze({amp:'&', apos:\"'\", gt:'>', lt:'<', quot:'\"'})\n\n/**\n * A map of currently 241 entities that are detected in an HTML document.\n * They contain all entries from `XML_ENTITIES`.\n *\n * @see XML_ENTITIES\n * @see DOMParser.parseFromString\n * @see DOMImplementation.prototype.createHTMLDocument\n * @see https://html.spec.whatwg.org/#named-character-references WHATWG HTML(5) Spec\n * @see https://www.w3.org/TR/xml-entity-names/ W3C XML Entity Names\n * @see https://www.w3.org/TR/html4/sgml/entities.html W3C HTML4/SGML\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Character_entity_references_in_HTML Wikipedia (HTML)\n * @see https://en.wikipedia.org/wiki/List_of_XML_and_HTML_character_entity_references#Entities_representing_special_characters_in_XHTML Wikpedia (XHTML)\n */\nexports.HTML_ENTITIES = freeze({\n       lt: '<',\n       gt: '>',\n       amp: '&',\n       quot: '\"',\n       apos: \"'\",\n       Agrave: \"\u00C0\",\n       Aacute: \"\u00C1\",\n       Acirc: \"\u00C2\",\n       Atilde: \"\u00C3\",\n       Auml: \"\u00C4\",\n       Aring: \"\u00C5\",\n       AElig: \"\u00C6\",\n       Ccedil: \"\u00C7\",\n       Egrave: \"\u00C8\",\n       Eacute: \"\u00C9\",\n       Ecirc: \"\u00CA\",\n       Euml: \"\u00CB\",\n       Igrave: \"\u00CC\",\n       Iacute: \"\u00CD\",\n       Icirc: \"\u00CE\",\n       Iuml: \"\u00CF\",\n       ETH: \"\u00D0\",\n       Ntilde: \"\u00D1\",\n       Ograve: \"\u00D2\",\n       Oacute: \"\u00D3\",\n       Ocirc: \"\u00D4\",\n       Otilde: \"\u00D5\",\n       Ouml: \"\u00D6\",\n       Oslash: \"\u00D8\",\n       Ugrave: \"\u00D9\",\n       Uacute: \"\u00DA\",\n       Ucirc: \"\u00DB\",\n       Uuml: \"\u00DC\",\n       Yacute: \"\u00DD\",\n       THORN: \"\u00DE\",\n       szlig: \"\u00DF\",\n       agrave: \"\u00E0\",\n       aacute: \"\u00E1\",\n       acirc: \"\u00E2\",\n       atilde: \"\u00E3\",\n       auml: \"\u00E4\",\n       aring: \"\u00E5\",\n       aelig: \"\u00E6\",\n       ccedil: \"\u00E7\",\n       egrave: \"\u00E8\",\n       eacute: \"\u00E9\",\n       ecirc: \"\u00EA\",\n       euml: \"\u00EB\",\n       igrave: \"\u00EC\",\n       iacute: \"\u00ED\",\n       icirc: \"\u00EE\",\n       iuml: \"\u00EF\",\n       eth: \"\u00F0\",\n       ntilde: \"\u00F1\",\n       ograve: \"\u00F2\",\n       oacute: \"\u00F3\",\n       ocirc: \"\u00F4\",\n       otilde: \"\u00F5\",\n       ouml: \"\u00F6\",\n       oslash: \"\u00F8\",\n       ugrave: \"\u00F9\",\n       uacute: \"\u00FA\",\n       ucirc: \"\u00FB\",\n       uuml: \"\u00FC\",\n       yacute: \"\u00FD\",\n       thorn: \"\u00FE\",\n       yuml: \"\u00FF\",\n       nbsp: \"\\u00a0\",\n       iexcl: \"\u00A1\",\n       cent: \"\u00A2\",\n       pound: \"\u00A3\",\n       curren: \"\u00A4\",\n       yen: \"\u00A5\",\n       brvbar: \"\u00A6\",\n       sect: \"\u00A7\",\n       uml: \"\u00A8\",\n       copy: \"\u00A9\",\n       ordf: \"\u00AA\",\n       laquo: \"\u00AB\",\n       not: \"\u00AC\",\n       shy: \"\u00AD\u00AD\",\n       reg: \"\u00AE\",\n       macr: \"\u00AF\",\n       deg: \"\u00B0\",\n       plusmn: \"\u00B1\",\n       sup2: \"\u00B2\",\n       sup3: \"\u00B3\",\n       acute: \"\u00B4\",\n       micro: \"\u00B5\",\n       para: \"\u00B6\",\n       middot: \"\u00B7\",\n       cedil: \"\u00B8\",\n       sup1: \"\u00B9\",\n       ordm: \"\u00BA\",\n       raquo: \"\u00BB\",\n       frac14: \"\u00BC\",\n       frac12: \"\u00BD\",\n       frac34: \"\u00BE\",\n       iquest: \"\u00BF\",\n       times: \"\u00D7\",\n       divide: \"\u00F7\",\n       forall: \"\u2200\",\n       part: \"\u2202\",\n       exist: \"\u2203\",\n       empty: \"\u2205\",\n       nabla: \"\u2207\",\n       isin: \"\u2208\",\n       notin: \"\u2209\",\n       ni: \"\u220B\",\n       prod: \"\u220F\",\n       sum: \"\u2211\",\n       minus: \"\u2212\",\n       lowast: \"\u2217\",\n       radic: \"\u221A\",\n       prop: \"\u221D\",\n       infin: \"\u221E\",\n       ang: \"\u2220\",\n       and: \"\u2227\",\n       or: \"\u2228\",\n       cap: \"\u2229\",\n       cup: \"\u222A\",\n       'int': \"\u222B\",\n       there4: \"\u2234\",\n       sim: \"\u223C\",\n       cong: \"\u2245\",\n       asymp: \"\u2248\",\n       ne: \"\u2260\",\n       equiv: \"\u2261\",\n       le: \"\u2264\",\n       ge: \"\u2265\",\n       sub: \"\u2282\",\n       sup: \"\u2283\",\n       nsub: \"\u2284\",\n       sube: \"\u2286\",\n       supe: \"\u2287\",\n       oplus: \"\u2295\",\n       otimes: \"\u2297\",\n       perp: \"\u22A5\",\n       sdot: \"\u22C5\",\n       Alpha: \"\u0391\",\n       Beta: \"\u0392\",\n       Gamma: \"\u0393\",\n       Delta: \"\u0394\",\n       Epsilon: \"\u0395\",\n       Zeta: \"\u0396\",\n       Eta: \"\u0397\",\n       Theta: \"\u0398\",\n       Iota: \"\u0399\",\n       Kappa: \"\u039A\",\n       Lambda: \"\u039B\",\n       Mu: \"\u039C\",\n       Nu: \"\u039D\",\n       Xi: \"\u039E\",\n       Omicron: \"\u039F\",\n       Pi: \"\u03A0\",\n       Rho: \"\u03A1\",\n       Sigma: \"\u03A3\",\n       Tau: \"\u03A4\",\n       Upsilon: \"\u03A5\",\n       Phi: \"\u03A6\",\n       Chi: \"\u03A7\",\n       Psi: \"\u03A8\",\n       Omega: \"\u03A9\",\n       alpha: \"\u03B1\",\n       beta: \"\u03B2\",\n       gamma: \"\u03B3\",\n       delta: \"\u03B4\",\n       epsilon: \"\u03B5\",\n       zeta: \"\u03B6\",\n       eta: \"\u03B7\",\n       theta: \"\u03B8\",\n       iota: \"\u03B9\",\n       kappa: \"\u03BA\",\n       lambda: \"\u03BB\",\n       mu: \"\u03BC\",\n       nu: \"\u03BD\",\n       xi: \"\u03BE\",\n       omicron: \"\u03BF\",\n       pi: \"\u03C0\",\n       rho: \"\u03C1\",\n       sigmaf: \"\u03C2\",\n       sigma: \"\u03C3\",\n       tau: \"\u03C4\",\n       upsilon: \"\u03C5\",\n       phi: \"\u03C6\",\n       chi: \"\u03C7\",\n       psi: \"\u03C8\",\n       omega: \"\u03C9\",\n       thetasym: \"\u03D1\",\n       upsih: \"\u03D2\",\n       piv: \"\u03D6\",\n       OElig: \"\u0152\",\n       oelig: \"\u0153\",\n       Scaron: \"\u0160\",\n       scaron: \"\u0161\",\n       Yuml: \"\u0178\",\n       fnof: \"\u0192\",\n       circ: \"\u02C6\",\n       tilde: \"\u02DC\",\n       ensp: \"\u2002\",\n       emsp: \"\u2003\",\n       thinsp: \"\u2009\",\n       zwnj: \"\u200C\",\n       zwj: \"\u200D\",\n       lrm: \"\u200E\",\n       rlm: \"\u200F\",\n       ndash: \"\u2013\",\n       mdash: \"\u2014\",\n       lsquo: \"\u2018\",\n       rsquo: \"\u2019\",\n       sbquo: \"\u201A\",\n       ldquo: \"\u201C\",\n       rdquo: \"\u201D\",\n       bdquo: \"\u201E\",\n       dagger: \"\u2020\",\n       Dagger: \"\u2021\",\n       bull: \"\u2022\",\n       hellip: \"\u2026\",\n       permil: \"\u2030\",\n       prime: \"\u2032\",\n       Prime: \"\u2033\",\n       lsaquo: \"\u2039\",\n       rsaquo: \"\u203A\",\n       oline: \"\u203E\",\n       euro: \"\u20AC\",\n       trade: \"\u2122\",\n       larr: \"\u2190\",\n       uarr: \"\u2191\",\n       rarr: \"\u2192\",\n       darr: \"\u2193\",\n       harr: \"\u2194\",\n       crarr: \"\u21B5\",\n       lceil: \"\u2308\",\n       rceil: \"\u2309\",\n       lfloor: \"\u230A\",\n       rfloor: \"\u230B\",\n       loz: \"\u25CA\",\n       spades: \"\u2660\",\n       clubs: \"\u2663\",\n       hearts: \"\u2665\",\n       diams: \"\u2666\"\n});\n\n/**\n * @deprecated use `HTML_ENTITIES` instead\n * @see HTML_ENTITIES\n */\nexports.entityMap = exports.HTML_ENTITIES\n", "var NAMESPACE = require(\"./conventions\").NAMESPACE;\n\n//[4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n//[4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\n//[5]   \tName\t   ::=   \tNameStartChar (NameChar)*\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]///\\u10000-\\uEFFFF\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\"+nameStartChar.source.slice(1,-1)+\"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\");\nvar tagNamePattern = new RegExp('^'+nameStartChar.source+nameChar.source+'*(?:\\:'+nameStartChar.source+nameChar.source+'*)?$');\n//var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\n//var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\n\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\nvar S_TAG = 0;//tag name offerring\nvar S_ATTR = 1;//attr name offerring\nvar S_ATTR_SPACE=2;//attr name end and space offer\nvar S_EQ = 3;//=space?\nvar S_ATTR_NOQUOT_VALUE = 4;//attr value(no quot value only)\nvar S_ATTR_END = 5;//attr value end and no space(quot end)\nvar S_TAG_SPACE = 6;//(attr value end || tag end ) && (space offer)\nvar S_TAG_CLOSE = 7;//closed el<el />\n\n/**\n * Creates an error that will not be caught by XMLReader aka the SAX parser.\n *\n * @param {string} message\n * @param {any?} locator Optional, can provide details about the location in the source\n * @constructor\n */\nfunction ParseError(message, locator) {\n\tthis.message = message\n\tthis.locator = locator\n\tif(Error.captureStackTrace) Error.captureStackTrace(this, ParseError);\n}\nParseError.prototype = new Error();\nParseError.prototype.name = ParseError.name\n\nfunction XMLReader(){\n\n}\n\nXMLReader.prototype = {\n\tparse:function(source,defaultNSMap,entityMap){\n\t\tvar domBuilder = this.domBuilder;\n\t\tdomBuilder.startDocument();\n\t\t_copy(defaultNSMap ,defaultNSMap = {})\n\t\tparse(source,defaultNSMap,entityMap,\n\t\t\t\tdomBuilder,this.errorHandler);\n\t\tdomBuilder.endDocument();\n\t}\n}\nfunction parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){\n\tfunction fixedFromCharCode(code) {\n\t\t// String.prototype.fromCharCode does not supports\n\t\t// > 2 bytes unicode chars directly\n\t\tif (code > 0xffff) {\n\t\t\tcode -= 0x10000;\n\t\t\tvar surrogate1 = 0xd800 + (code >> 10)\n\t\t\t\t, surrogate2 = 0xdc00 + (code & 0x3ff);\n\n\t\t\treturn String.fromCharCode(surrogate1, surrogate2);\n\t\t} else {\n\t\t\treturn String.fromCharCode(code);\n\t\t}\n\t}\n\tfunction entityReplacer(a){\n\t\tvar k = a.slice(1,-1);\n\t\tif (Object.hasOwnProperty.call(entityMap, k)) {\n\t\t\treturn entityMap[k];\n\t\t}else if(k.charAt(0) === '#'){\n\t\t\treturn fixedFromCharCode(parseInt(k.substr(1).replace('x','0x')))\n\t\t}else{\n\t\t\terrorHandler.error('entity not found:'+a);\n\t\t\treturn a;\n\t\t}\n\t}\n\tfunction appendText(end){//has some bugs\n\t\tif(end>start){\n\t\t\tvar xt = source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\tlocator&&position(start);\n\t\t\tdomBuilder.characters(xt,0,end-start);\n\t\t\tstart = end\n\t\t}\n\t}\n\tfunction position(p,m){\n\t\twhile(p>=lineEnd && (m = linePattern.exec(source))){\n\t\t\tlineStart = m.index;\n\t\t\tlineEnd = lineStart + m[0].length;\n\t\t\tlocator.lineNumber++;\n\t\t\t//console.log('line++:',locator,startPos,endPos)\n\t\t}\n\t\tlocator.columnNumber = p-lineStart+1;\n\t}\n\tvar lineStart = 0;\n\tvar lineEnd = 0;\n\tvar linePattern = /.*(?:\\r\\n?|\\n)|.*$/g\n\tvar locator = domBuilder.locator;\n\n\tvar parseStack = [{currentNSMap:defaultNSMapCopy}]\n\tvar closeMap = {};\n\tvar start = 0;\n\twhile(true){\n\t\ttry{\n\t\t\tvar tagStart = source.indexOf('<',start);\n\t\t\tif(tagStart<0){\n\t\t\t\tif(!source.substr(start).match(/^\\s*$/)){\n\t\t\t\t\tvar doc = domBuilder.doc;\n\t    \t\t\tvar text = doc.createTextNode(source.substr(start));\n\t    \t\t\tdoc.appendChild(text);\n\t    \t\t\tdomBuilder.currentElement = text;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(tagStart>start){\n\t\t\t\tappendText(tagStart);\n\t\t\t}\n\t\t\tswitch(source.charAt(tagStart+1)){\n\t\t\tcase '/':\n\t\t\t\tvar end = source.indexOf('>',tagStart+3);\n\t\t\t\tvar tagName = source.substring(tagStart + 2, end).replace(/[ \\t\\n\\r]+$/g, '');\n\t\t\t\tvar config = parseStack.pop();\n\t\t\t\tif(end<0){\n\n\t        \t\ttagName = source.substring(tagStart+2).replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' is not complete:'+config.tagName);\n\t        \t\tend = tagStart+1+tagName.length;\n\t        \t}else if(tagName.match(/\\s</)){\n\t        \t\ttagName = tagName.replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' maybe not complete');\n\t        \t\tend = tagStart+1+tagName.length;\n\t\t\t\t}\n\t\t\t\tvar localNSMap = config.localNSMap;\n\t\t\t\tvar endMatch = config.tagName == tagName;\n\t\t\t\tvar endIgnoreCaseMach = endMatch || config.tagName&&config.tagName.toLowerCase() == tagName.toLowerCase()\n\t\t        if(endIgnoreCaseMach){\n\t\t        \tdomBuilder.endElement(config.uri,config.localName,tagName);\n\t\t\t\t\tif(localNSMap){\n\t\t\t\t\t\tfor (var prefix in localNSMap) {\n\t\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(localNSMap, prefix)) {\n\t\t\t\t\t\t\t\tdomBuilder.endPrefixMapping(prefix);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!endMatch){\n\t\t            \terrorHandler.fatalError(\"end tag name: \"+tagName+' is not match the current start tagName:'+config.tagName ); // No known test case\n\t\t\t\t\t}\n\t\t        }else{\n\t\t        \tparseStack.push(config)\n\t\t        }\n\n\t\t\t\tend++;\n\t\t\t\tbreak;\n\t\t\t\t// end elment\n\t\t\tcase '?':// <?...?>\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseInstruction(source,tagStart,domBuilder);\n\t\t\t\tbreak;\n\t\t\tcase '!':// <!doctype,<![CDATA,<!--\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseDCC(source,tagStart,domBuilder,errorHandler);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tvar el = new ElementAttributes();\n\t\t\t\tvar currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\t\t\t\t//elStartEnd\n\t\t\t\tvar end = parseElementStartPart(source,tagStart,el,currentNSMap,entityReplacer,errorHandler);\n\t\t\t\tvar len = el.length;\n\n\n\t\t\t\tif(!el.closed && fixSelfClosed(source,end,el.tagName,closeMap)){\n\t\t\t\t\tel.closed = true;\n\t\t\t\t\tif(!entityMap.nbsp){\n\t\t\t\t\t\terrorHandler.warning('unclosed xml attribute');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(locator && len){\n\t\t\t\t\tvar locator2 = copyLocator(locator,{});\n\t\t\t\t\t//try{//attribute position fixed\n\t\t\t\t\tfor(var i = 0;i<len;i++){\n\t\t\t\t\t\tvar a = el[i];\n\t\t\t\t\t\tposition(a.offset);\n\t\t\t\t\t\ta.locator = copyLocator(locator,{});\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator2\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator;\n\t\t\t\t}else{\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (NAMESPACE.isHTML(el.uri) && !el.closed) {\n\t\t\t\t\tend = parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)\n\t\t\t\t} else {\n\t\t\t\t\tend++;\n\t\t\t\t}\n\t\t\t}\n\t\t}catch(e){\n\t\t\tif (e instanceof ParseError) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t\terrorHandler.error('element parse error: '+e)\n\t\t\tend = -1;\n\t\t}\n\t\tif(end>start){\n\t\t\tstart = end;\n\t\t}else{\n\t\t\t//TODO: \u8FD9\u91CC\u6709\u53EF\u80FDsax\u56DE\u9000\uFF0C\u6709\u4F4D\u7F6E\u9519\u8BEF\u98CE\u9669\n\t\t\tappendText(Math.max(tagStart,start)+1);\n\t\t}\n\t}\n}\nfunction copyLocator(f,t){\n\tt.lineNumber = f.lineNumber;\n\tt.columnNumber = f.columnNumber;\n\treturn t;\n}\n\n/**\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\n */\nfunction parseElementStartPart(source,start,el,currentNSMap,entityReplacer,errorHandler){\n\n\t/**\n\t * @param {string} qname\n\t * @param {string} value\n\t * @param {number} startIndex\n\t */\n\tfunction addAttribute(qname, value, startIndex) {\n\t\tif (el.attributeNames.hasOwnProperty(qname)) {\n\t\t\terrorHandler.fatalError('Attribute ' + qname + ' redefined')\n\t\t}\n\t\tel.addValue(\n\t\t\tqname,\n\t\t\t// @see https://www.w3.org/TR/xml/#AVNormalize\n\t\t\t// since the xmldom sax parser does not \"interpret\" DTD the following is not implemented:\n\t\t\t// - recursive replacement of (DTD) entity references\n\t\t\t// - trimming and collapsing multiple spaces into a single one for attributes that are not of type CDATA\n\t\t\tvalue.replace(/[\\t\\n\\r]/g, ' ').replace(/&#?\\w+;/g, entityReplacer),\n\t\t\tstartIndex\n\t\t)\n\t}\n\tvar attrName;\n\tvar value;\n\tvar p = ++start;\n\tvar s = S_TAG;//status\n\twhile(true){\n\t\tvar c = source.charAt(p);\n\t\tswitch(c){\n\t\tcase '=':\n\t\t\tif(s === S_ATTR){//attrName\n\t\t\t\tattrName = source.slice(start,p);\n\t\t\t\ts = S_EQ;\n\t\t\t}else if(s === S_ATTR_SPACE){\n\t\t\t\ts = S_EQ;\n\t\t\t}else{\n\t\t\t\t//fatalError: equal must after attrName or space after attrName\n\t\t\t\tthrow new Error('attribute equal must after attrName'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '\\'':\n\t\tcase '\"':\n\t\t\tif(s === S_EQ || s === S_ATTR //|| s == S_ATTR_SPACE\n\t\t\t\t){//equal\n\t\t\t\tif(s === S_ATTR){\n\t\t\t\t\terrorHandler.warning('attribute value must after \"=\"')\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t}\n\t\t\t\tstart = p+1;\n\t\t\t\tp = source.indexOf(c,start)\n\t\t\t\tif(p>0){\n\t\t\t\t\tvalue = source.slice(start, p);\n\t\t\t\t\taddAttribute(attrName, value, start-1);\n\t\t\t\t\ts = S_ATTR_END;\n\t\t\t\t}else{\n\t\t\t\t\t//fatalError: no end quot match\n\t\t\t\t\tthrow new Error('attribute value no end \\''+c+'\\' match');\n\t\t\t\t}\n\t\t\t}else if(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\tvalue = source.slice(start, p);\n\t\t\t\taddAttribute(attrName, value, start);\n\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed start quot('+c+')!!');\n\t\t\t\tstart = p+1;\n\t\t\t\ts = S_ATTR_END\n\t\t\t}else{\n\t\t\t\t//fatalError: no equal before\n\t\t\t\tthrow new Error('attribute value must after \"=\"'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '/':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\ts =S_TAG_CLOSE;\n\t\t\t\tel.closed = true;\n\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\tcase S_ATTR:\n\t\t\tcase S_ATTR_SPACE:\n\t\t\t\tbreak;\n\t\t\t//case S_EQ:\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"attribute invalid close char('/')\") // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase ''://end document\n\t\t\terrorHandler.error('unexpected end of input');\n\t\t\tif(s == S_TAG){\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\t}\n\t\t\treturn p;\n\t\tcase '>':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\tbreak;//normal\n\t\t\tcase S_ATTR_NOQUOT_VALUE://Compatible state\n\t\t\tcase S_ATTR:\n\t\t\t\tvalue = source.slice(start,p);\n\t\t\t\tif(value.slice(-1) === '/'){\n\t\t\t\t\tel.closed  = true;\n\t\t\t\t\tvalue = value.slice(0,-1)\n\t\t\t\t}\n\t\t\tcase S_ATTR_SPACE:\n\t\t\t\tif(s === S_ATTR_SPACE){\n\t\t\t\t\tvalue = attrName;\n\t\t\t\t}\n\t\t\t\tif(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!');\n\t\t\t\t\taddAttribute(attrName, value, start)\n\t\t\t\t}else{\n\t\t\t\t\tif(!NAMESPACE.isHTML(currentNSMap['']) || !value.match(/^(?:disabled|checked|selected)$/i)){\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed value!! \"'+value+'\" instead!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(value, value, start)\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase S_EQ:\n\t\t\t\tthrow new Error('attribute value missed!!');\n\t\t\t}\n//\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\n\t\t\treturn p;\n\t\t/*xml space '\\x20' | #x9 | #xD | #xA; */\n\t\tcase '\\u0080':\n\t\t\tc = ' ';\n\t\tdefault:\n\t\t\tif(c<= ' '){//space\n\t\t\t\tswitch(s){\n\t\t\t\tcase S_TAG:\n\t\t\t\t\tel.setTagName(source.slice(start,p));//tagName\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR:\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t\ts = S_ATTR_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\t\t\tvar value = source.slice(start, p);\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\n\t\t\t\t\taddAttribute(attrName, value, start)\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\t//case S_TAG_SPACE:\n\t\t\t\t//case S_EQ:\n\t\t\t\t//case S_ATTR_SPACE:\n\t\t\t\t//\tvoid();break;\n\t\t\t\t//case S_TAG_CLOSE:\n\t\t\t\t\t//ignore warning\n\t\t\t\t}\n\t\t\t}else{//not space\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\n\t\t\t\tswitch(s){\n\t\t\t\t//case S_TAG:void();break;\n\t\t\t\t//case S_ATTR:void();break;\n\t\t\t\t//case S_ATTR_NOQUOT_VALUE:void();break;\n\t\t\t\tcase S_ATTR_SPACE:\n\t\t\t\t\tvar tagName =  el.tagName;\n\t\t\t\t\tif (!NAMESPACE.isHTML(currentNSMap['']) || !attrName.match(/^(?:disabled|checked|selected)$/i)) {\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed value!! \"'+attrName+'\" instead2!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(attrName, attrName, start);\n\t\t\t\t\tstart = p;\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\terrorHandler.warning('attribute space is required\"'+attrName+'\"!!')\n\t\t\t\tcase S_TAG_SPACE:\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_EQ:\n\t\t\t\t\ts = S_ATTR_NOQUOT_VALUE;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_TAG_CLOSE:\n\t\t\t\t\tthrow new Error(\"elements closed character '/' and '>' must be connected to\");\n\t\t\t\t}\n\t\t\t}\n\t\t}//end outer switch\n\t\t//console.log('p++',p)\n\t\tp++;\n\t}\n}\n/**\n * @return true if has new namespace define\n */\nfunction appendElement(el,domBuilder,currentNSMap){\n\tvar tagName = el.tagName;\n\tvar localNSMap = null;\n\t//var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\tvar i = el.length;\n\twhile(i--){\n\t\tvar a = el[i];\n\t\tvar qName = a.qName;\n\t\tvar value = a.value;\n\t\tvar nsp = qName.indexOf(':');\n\t\tif(nsp>0){\n\t\t\tvar prefix = a.prefix = qName.slice(0,nsp);\n\t\t\tvar localName = qName.slice(nsp+1);\n\t\t\tvar nsPrefix = prefix === 'xmlns' && localName\n\t\t}else{\n\t\t\tlocalName = qName;\n\t\t\tprefix = null\n\t\t\tnsPrefix = qName === 'xmlns' && ''\n\t\t}\n\t\t//can not set prefix,because prefix !== ''\n\t\ta.localName = localName ;\n\t\t//prefix == null for no ns prefix attribute\n\t\tif(nsPrefix !== false){//hack!!\n\t\t\tif(localNSMap == null){\n\t\t\t\tlocalNSMap = {}\n\t\t\t\t//console.log(currentNSMap,0)\n\t\t\t\t_copy(currentNSMap,currentNSMap={})\n\t\t\t\t//console.log(currentNSMap,1)\n\t\t\t}\n\t\t\tcurrentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\n\t\t\ta.uri = NAMESPACE.XMLNS\n\t\t\tdomBuilder.startPrefixMapping(nsPrefix, value)\n\t\t}\n\t}\n\tvar i = el.length;\n\twhile(i--){\n\t\ta = el[i];\n\t\tvar prefix = a.prefix;\n\t\tif(prefix){//no prefix attribute has no namespace\n\t\t\tif(prefix === 'xml'){\n\t\t\t\ta.uri = NAMESPACE.XML;\n\t\t\t}if(prefix !== 'xmlns'){\n\t\t\t\ta.uri = currentNSMap[prefix || '']\n\n\t\t\t\t//{console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\n\t\t\t}\n\t\t}\n\t}\n\tvar nsp = tagName.indexOf(':');\n\tif(nsp>0){\n\t\tprefix = el.prefix = tagName.slice(0,nsp);\n\t\tlocalName = el.localName = tagName.slice(nsp+1);\n\t}else{\n\t\tprefix = null;//important!!\n\t\tlocalName = el.localName = tagName;\n\t}\n\t//no prefix element has default namespace\n\tvar ns = el.uri = currentNSMap[prefix || ''];\n\tdomBuilder.startElement(ns,localName,tagName,el);\n\t//endPrefixMapping and startPrefixMapping have not any help for dom builder\n\t//localNSMap = null\n\tif(el.closed){\n\t\tdomBuilder.endElement(ns,localName,tagName);\n\t\tif(localNSMap){\n\t\t\tfor (prefix in localNSMap) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(localNSMap, prefix)) {\n\t\t\t\t\tdomBuilder.endPrefixMapping(prefix);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}else{\n\t\tel.currentNSMap = currentNSMap;\n\t\tel.localNSMap = localNSMap;\n\t\t//parseStack.push(el);\n\t\treturn true;\n\t}\n}\nfunction parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){\n\tif(/^(?:script|textarea)$/i.test(tagName)){\n\t\tvar elEndStart =  source.indexOf('</'+tagName+'>',elStartEnd);\n\t\tvar text = source.substring(elStartEnd+1,elEndStart);\n\t\tif(/[&<]/.test(text)){\n\t\t\tif(/^script$/i.test(tagName)){\n\t\t\t\t//if(!/\\]\\]>/.test(text)){\n\t\t\t\t\t//lexHandler.startCDATA();\n\t\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\t\t//lexHandler.endCDATA();\n\t\t\t\t\treturn elEndStart;\n\t\t\t\t//}\n\t\t\t}//}else{//text area\n\t\t\t\ttext = text.replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\treturn elEndStart;\n\t\t\t//}\n\n\t\t}\n\t}\n\treturn elStartEnd+1;\n}\nfunction fixSelfClosed(source,elStartEnd,tagName,closeMap){\n\t//if(tagName in closeMap){\n\tvar pos = closeMap[tagName];\n\tif(pos == null){\n\t\t//console.log(tagName)\n\t\tpos =  source.lastIndexOf('</'+tagName+'>')\n\t\tif(pos<elStartEnd){//\u5FD8\u8BB0\u95ED\u5408\n\t\t\tpos = source.lastIndexOf('</'+tagName)\n\t\t}\n\t\tcloseMap[tagName] =pos\n\t}\n\treturn pos<elStartEnd;\n\t//}\n}\n\nfunction _copy (source, target) {\n\tfor (var n in source) {\n\t\tif (Object.prototype.hasOwnProperty.call(source, n)) {\n\t\t\ttarget[n] = source[n];\n\t\t}\n\t}\n}\n\nfunction parseDCC(source,start,domBuilder,errorHandler){//sure start with '<!'\n\tvar next= source.charAt(start+2)\n\tswitch(next){\n\tcase '-':\n\t\tif(source.charAt(start + 3) === '-'){\n\t\t\tvar end = source.indexOf('-->',start+4);\n\t\t\t//append comment source.substring(4,end)//<!--\n\t\t\tif(end>start){\n\t\t\t\tdomBuilder.comment(source,start+4,end-start-4);\n\t\t\t\treturn end+3;\n\t\t\t}else{\n\t\t\t\terrorHandler.error(\"Unclosed comment\");\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}else{\n\t\t\t//error\n\t\t\treturn -1;\n\t\t}\n\tdefault:\n\t\tif(source.substr(start+3,6) == 'CDATA['){\n\t\t\tvar end = source.indexOf(']]>',start+9);\n\t\t\tdomBuilder.startCDATA();\n\t\t\tdomBuilder.characters(source,start+9,end-start-9);\n\t\t\tdomBuilder.endCDATA()\n\t\t\treturn end+3;\n\t\t}\n\t\t//<!DOCTYPE\n\t\t//startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId)\n\t\tvar matchs = split(source,start);\n\t\tvar len = matchs.length;\n\t\tif(len>1 && /!doctype/i.test(matchs[0][0])){\n\t\t\tvar name = matchs[1][0];\n\t\t\tvar pubid = false;\n\t\t\tvar sysid = false;\n\t\t\tif(len>3){\n\t\t\t\tif(/^public$/i.test(matchs[2][0])){\n\t\t\t\t\tpubid = matchs[3][0];\n\t\t\t\t\tsysid = len>4 && matchs[4][0];\n\t\t\t\t}else if(/^system$/i.test(matchs[2][0])){\n\t\t\t\t\tsysid = matchs[3][0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar lastMatch = matchs[len-1]\n\t\t\tdomBuilder.startDTD(name, pubid, sysid);\n\t\t\tdomBuilder.endDTD();\n\n\t\t\treturn lastMatch.index+lastMatch[0].length\n\t\t}\n\t}\n\treturn -1;\n}\n\n\n\nfunction parseInstruction(source,start,domBuilder){\n\tvar end = source.indexOf('?>',start);\n\tif(end){\n\t\tvar match = source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\n\t\tif(match){\n\t\t\tvar len = match[0].length;\n\t\t\tdomBuilder.processingInstruction(match[1], match[2]) ;\n\t\t\treturn end+2;\n\t\t}else{//error\n\t\t\treturn -1;\n\t\t}\n\t}\n\treturn -1;\n}\n\nfunction ElementAttributes(){\n\tthis.attributeNames = {}\n}\nElementAttributes.prototype = {\n\tsetTagName:function(tagName){\n\t\tif(!tagNamePattern.test(tagName)){\n\t\t\tthrow new Error('invalid tagName:'+tagName)\n\t\t}\n\t\tthis.tagName = tagName\n\t},\n\taddValue:function(qName, value, offset) {\n\t\tif(!tagNamePattern.test(qName)){\n\t\t\tthrow new Error('invalid attribute:'+qName)\n\t\t}\n\t\tthis.attributeNames[qName] = this.length;\n\t\tthis[this.length++] = {qName:qName,value:value,offset:offset}\n\t},\n\tlength:0,\n\tgetLocalName:function(i){return this[i].localName},\n\tgetLocator:function(i){return this[i].locator},\n\tgetQName:function(i){return this[i].qName},\n\tgetURI:function(i){return this[i].uri},\n\tgetValue:function(i){return this[i].value}\n//\t,getIndex:function(uri, localName)){\n//\t\tif(localName){\n//\n//\t\t}else{\n//\t\t\tvar qName = uri\n//\t\t}\n//\t},\n//\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\n//\tgetType:function(uri,localName){}\n//\tgetType:function(i){},\n}\n\n\n\nfunction split(source,start){\n\tvar match;\n\tvar buf = [];\n\tvar reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\n\treg.lastIndex = start;\n\treg.exec(source);//skip <\n\twhile(match = reg.exec(source)){\n\t\tbuf.push(match);\n\t\tif(match[1])return buf;\n\t}\n}\n\nexports.XMLReader = XMLReader;\nexports.ParseError = ParseError;\n", "var conventions = require(\"./conventions\");\nvar dom = require('./dom')\nvar entities = require('./entities');\nvar sax = require('./sax');\n\nvar DOMImplementation = dom.DOMImplementation;\n\nvar NAMESPACE = conventions.NAMESPACE;\n\nvar ParseError = sax.ParseError;\nvar XMLReader = sax.XMLReader;\n\n/**\n * Normalizes line ending according to https://www.w3.org/TR/xml11/#sec-line-ends:\n *\n * > XML parsed entities are often stored in computer files which,\n * > for editing convenience, are organized into lines.\n * > These lines are typically separated by some combination\n * > of the characters CARRIAGE RETURN (#xD) and LINE FEED (#xA).\n * >\n * > To simplify the tasks of applications, the XML processor must behave\n * > as if it normalized all line breaks in external parsed entities (including the document entity)\n * > on input, before parsing, by translating all of the following to a single #xA character:\n * >\n * > 1. the two-character sequence #xD #xA\n * > 2. the two-character sequence #xD #x85\n * > 3. the single character #x85\n * > 4. the single character #x2028\n * > 5. any #xD character that is not immediately followed by #xA or #x85.\n *\n * @param {string} input\n * @returns {string}\n */\nfunction normalizeLineEndings(input) {\n\treturn input\n\t\t.replace(/\\r[\\n\\u0085]/g, '\\n')\n\t\t.replace(/[\\r\\u0085\\u2028]/g, '\\n')\n}\n\n/**\n * @typedef Locator\n * @property {number} [columnNumber]\n * @property {number} [lineNumber]\n */\n\n/**\n * @typedef DOMParserOptions\n * @property {DOMHandler} [domBuilder]\n * @property {Function} [errorHandler]\n * @property {(string) => string} [normalizeLineEndings] used to replace line endings before parsing\n * \t\t\t\t\t\tdefaults to `normalizeLineEndings`\n * @property {Locator} [locator]\n * @property {Record<string, string>} [xmlns]\n *\n * @see normalizeLineEndings\n */\n\n/**\n * The DOMParser interface provides the ability to parse XML or HTML source code\n * from a string into a DOM `Document`.\n *\n * _xmldom is different from the spec in that it allows an `options` parameter,\n * to override the default behavior._\n *\n * @param {DOMParserOptions} [options]\n * @constructor\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/API/DOMParser\n * @see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-parsing-and-serialization\n */\nfunction DOMParser(options){\n\tthis.options = options ||{locator:{}};\n}\n\nDOMParser.prototype.parseFromString = function(source,mimeType){\n\tvar options = this.options;\n\tvar sax =  new XMLReader();\n\tvar domBuilder = options.domBuilder || new DOMHandler();//contentHandler and LexicalHandler\n\tvar errorHandler = options.errorHandler;\n\tvar locator = options.locator;\n\tvar defaultNSMap = options.xmlns||{};\n\tvar isHTML = /\\/x?html?$/.test(mimeType);//mimeType.toLowerCase().indexOf('html') > -1;\n  \tvar entityMap = isHTML ? entities.HTML_ENTITIES : entities.XML_ENTITIES;\n\tif(locator){\n\t\tdomBuilder.setDocumentLocator(locator)\n\t}\n\n\tsax.errorHandler = buildErrorHandler(errorHandler,domBuilder,locator);\n\tsax.domBuilder = options.domBuilder || domBuilder;\n\tif(isHTML){\n\t\tdefaultNSMap[''] = NAMESPACE.HTML;\n\t}\n\tdefaultNSMap.xml = defaultNSMap.xml || NAMESPACE.XML;\n\tvar normalize = options.normalizeLineEndings || normalizeLineEndings;\n\tif (source && typeof source === 'string') {\n\t\tsax.parse(\n\t\t\tnormalize(source),\n\t\t\tdefaultNSMap,\n\t\t\tentityMap\n\t\t)\n\t} else {\n\t\tsax.errorHandler.error('invalid doc source')\n\t}\n\treturn domBuilder.doc;\n}\nfunction buildErrorHandler(errorImpl,domBuilder,locator){\n\tif(!errorImpl){\n\t\tif(domBuilder instanceof DOMHandler){\n\t\t\treturn domBuilder;\n\t\t}\n\t\terrorImpl = domBuilder ;\n\t}\n\tvar errorHandler = {}\n\tvar isCallback = errorImpl instanceof Function;\n\tlocator = locator||{}\n\tfunction build(key){\n\t\tvar fn = errorImpl[key];\n\t\tif(!fn && isCallback){\n\t\t\tfn = errorImpl.length == 2?function(msg){errorImpl(key,msg)}:errorImpl;\n\t\t}\n\t\terrorHandler[key] = fn && function(msg){\n\t\t\tfn('[xmldom '+key+']\\t'+msg+_locator(locator));\n\t\t}||function(){};\n\t}\n\tbuild('warning');\n\tbuild('error');\n\tbuild('fatalError');\n\treturn errorHandler;\n}\n\n//console.log('#\\n\\n\\n\\n\\n\\n\\n####')\n/**\n * +ContentHandler+ErrorHandler\n * +LexicalHandler+EntityResolver2\n * -DeclHandler-DTDHandler\n *\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\n */\nfunction DOMHandler() {\n    this.cdata = false;\n}\nfunction position(locator,node){\n\tnode.lineNumber = locator.lineNumber;\n\tnode.columnNumber = locator.columnNumber;\n}\n/**\n * @see org.xml.sax.ContentHandler#startDocument\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\n */\nDOMHandler.prototype = {\n\tstartDocument : function() {\n    \tthis.doc = new DOMImplementation().createDocument(null, null, null);\n    \tif (this.locator) {\n        \tthis.doc.documentURI = this.locator.systemId;\n    \t}\n\t},\n\tstartElement:function(namespaceURI, localName, qName, attrs) {\n\t\tvar doc = this.doc;\n\t    var el = doc.createElementNS(namespaceURI, qName||localName);\n\t    var len = attrs.length;\n\t    appendElement(this, el);\n\t    this.currentElement = el;\n\n\t\tthis.locator && position(this.locator,el)\n\t    for (var i = 0 ; i < len; i++) {\n\t        var namespaceURI = attrs.getURI(i);\n\t        var value = attrs.getValue(i);\n\t        var qName = attrs.getQName(i);\n\t\t\tvar attr = doc.createAttributeNS(namespaceURI, qName);\n\t\t\tthis.locator &&position(attrs.getLocator(i),attr);\n\t\t\tattr.value = attr.nodeValue = value;\n\t\t\tel.setAttributeNode(attr)\n\t    }\n\t},\n\tendElement:function(namespaceURI, localName, qName) {\n\t\tvar current = this.currentElement\n\t\tvar tagName = current.tagName;\n\t\tthis.currentElement = current.parentNode;\n\t},\n\tstartPrefixMapping:function(prefix, uri) {\n\t},\n\tendPrefixMapping:function(prefix) {\n\t},\n\tprocessingInstruction:function(target, data) {\n\t    var ins = this.doc.createProcessingInstruction(target, data);\n\t    this.locator && position(this.locator,ins)\n\t    appendElement(this, ins);\n\t},\n\tignorableWhitespace:function(ch, start, length) {\n\t},\n\tcharacters:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t\t//console.log(chars)\n\t\tif(chars){\n\t\t\tif (this.cdata) {\n\t\t\t\tvar charNode = this.doc.createCDATASection(chars);\n\t\t\t} else {\n\t\t\t\tvar charNode = this.doc.createTextNode(chars);\n\t\t\t}\n\t\t\tif(this.currentElement){\n\t\t\t\tthis.currentElement.appendChild(charNode);\n\t\t\t}else if(/^\\s*$/.test(chars)){\n\t\t\t\tthis.doc.appendChild(charNode);\n\t\t\t\t//process xml\n\t\t\t}\n\t\t\tthis.locator && position(this.locator,charNode)\n\t\t}\n\t},\n\tskippedEntity:function(name) {\n\t},\n\tendDocument:function() {\n\t\tthis.doc.normalize();\n\t},\n\tsetDocumentLocator:function (locator) {\n\t    if(this.locator = locator){// && !('lineNumber' in locator)){\n\t    \tlocator.lineNumber = 0;\n\t    }\n\t},\n\t//LexicalHandler\n\tcomment:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t    var comm = this.doc.createComment(chars);\n\t    this.locator && position(this.locator,comm)\n\t    appendElement(this, comm);\n\t},\n\n\tstartCDATA:function() {\n\t    //used in characters() methods\n\t    this.cdata = true;\n\t},\n\tendCDATA:function() {\n\t    this.cdata = false;\n\t},\n\n\tstartDTD:function(name, publicId, systemId) {\n\t\tvar impl = this.doc.implementation;\n\t    if (impl && impl.createDocumentType) {\n\t        var dt = impl.createDocumentType(name, publicId, systemId);\n\t        this.locator && position(this.locator,dt)\n\t        appendElement(this, dt);\n\t\t\t\t\tthis.doc.doctype = dt;\n\t    }\n\t},\n\t/**\n\t * @see org.xml.sax.ErrorHandler\n\t * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\n\t */\n\twarning:function(error) {\n\t\tconsole.warn('[xmldom warning]\\t'+error,_locator(this.locator));\n\t},\n\terror:function(error) {\n\t\tconsole.error('[xmldom error]\\t'+error,_locator(this.locator));\n\t},\n\tfatalError:function(error) {\n\t\tthrow new ParseError(error, this.locator);\n\t}\n}\nfunction _locator(l){\n\tif(l){\n\t\treturn '\\n@'+(l.systemId ||'')+'#[line:'+l.lineNumber+',col:'+l.columnNumber+']'\n\t}\n}\nfunction _toString(chars,start,length){\n\tif(typeof chars == 'string'){\n\t\treturn chars.substr(start,length)\n\t}else{//java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n\t\tif(chars.length >= start+length || start){\n\t\t\treturn new java.lang.String(chars,start,length)+'';\n\t\t}\n\t\treturn chars;\n\t}\n}\n\n/*\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\n * used method of org.xml.sax.ext.LexicalHandler:\n *  #comment(chars, start, length)\n *  #startCDATA()\n *  #endCDATA()\n *  #startDTD(name, publicId, systemId)\n *\n *\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\n *  #endDTD()\n *  #startEntity(name)\n *  #endEntity(name)\n *\n *\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\n * IGNORED method of org.xml.sax.ext.DeclHandler\n * \t#attributeDecl(eName, aName, type, mode, value)\n *  #elementDecl(name, model)\n *  #externalEntityDecl(name, publicId, systemId)\n *  #internalEntityDecl(name, value)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\n * IGNORED method of org.xml.sax.EntityResolver2\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\n *  #resolveEntity(publicId, systemId)\n *  #getExternalSubset(name, baseURI)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\n * IGNORED method of org.xml.sax.DTDHandler\n *  #notationDecl(name, publicId, systemId) {};\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\n */\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g,function(key){\n\tDOMHandler.prototype[key] = function(){return null}\n})\n\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\nfunction appendElement (hander,node) {\n    if (!hander.currentElement) {\n        hander.doc.appendChild(node);\n    } else {\n        hander.currentElement.appendChild(node);\n    }\n}//appendChild and setAttributeNS are preformance key\n\nexports.__DOMHandler = DOMHandler;\nexports.normalizeLineEndings = normalizeLineEndings;\nexports.DOMParser = DOMParser;\n", "var dom = require('./dom')\nexports.DOMImplementation = dom.DOMImplementation\nexports.XMLSerializer = dom.XMLSerializer\nexports.DOMParser = require('./dom-parser').DOMParser\n", "/*\r\n * xpath.js\r\n *\r\n * An XPath 1.0 library for JavaScript.\r\n *\r\n * Cameron McCormack <cam (at) mcc.id.au>\r\n *\r\n * This work is licensed under the MIT License.\r\n *\r\n * Revision 20: April 26, 2011\r\n *   Fixed a typo resulting in FIRST_ORDERED_NODE_TYPE results being wrong,\r\n *   thanks to <shi_a009 (at) hotmail.com>.\r\n *\r\n * Revision 19: November 29, 2005\r\n *   Nodesets now store their nodes in a height balanced tree, increasing\r\n *   performance for the common case of selecting nodes in document order,\r\n *   thanks to S\u00E9bastien Cramatte <contact (at) zeninteractif.com>.\r\n *   AVL tree code adapted from Raimund Neumann <rnova (at) gmx.net>.\r\n *\r\n * Revision 18: October 27, 2005\r\n *   DOM 3 XPath support.  Caveats:\r\n *     - namespace prefixes aren't resolved in XPathEvaluator.createExpression,\r\n *       but in XPathExpression.evaluate.\r\n *     - XPathResult.invalidIteratorState is not implemented.\r\n *\r\n * Revision 17: October 25, 2005\r\n *   Some core XPath function fixes and a patch to avoid crashing certain\r\n *   versions of MSXML in PathExpr.prototype.getOwnerElement, thanks to\r\n *   S\u00E9bastien Cramatte <contact (at) zeninteractif.com>.\r\n *\r\n * Revision 16: September 22, 2005\r\n *   Workarounds for some IE 5.5 deficiencies.\r\n *   Fixed problem with prefix node tests on attribute nodes.\r\n *\r\n * Revision 15: May 21, 2005\r\n *   Fixed problem with QName node tests on elements with an xmlns=\"...\".\r\n *\r\n * Revision 14: May 19, 2005\r\n *   Fixed QName node tests on attribute node regression.\r\n *\r\n * Revision 13: May 3, 2005\r\n *   Node tests are case insensitive now if working in an HTML DOM.\r\n *\r\n * Revision 12: April 26, 2005\r\n *   Updated licence.  Slight code changes to enable use of Dean\r\n *   Edwards' script compression, http://dean.edwards.name/packer/ .\r\n *\r\n * Revision 11: April 23, 2005\r\n *   Fixed bug with 'and' and 'or' operators, fix thanks to\r\n *   Sandy McArthur <sandy (at) mcarthur.org>.\r\n *\r\n * Revision 10: April 15, 2005\r\n *   Added support for a virtual root node, supposedly helpful for\r\n *   implementing XForms.  Fixed problem with QName node tests and\r\n *   the parent axis.\r\n *\r\n * Revision 9: March 17, 2005\r\n *   Namespace resolver tweaked so using the document node as the context\r\n *   for namespace lookups is equivalent to using the document element.\r\n *\r\n * Revision 8: February 13, 2005\r\n *   Handle implicit declaration of 'xmlns' namespace prefix.\r\n *   Fixed bug when comparing nodesets.\r\n *   Instance data can now be associated with a FunctionResolver, and\r\n *     workaround for MSXML not supporting 'localName' and 'getElementById',\r\n *     thanks to Grant Gongaware.\r\n *   Fix a few problems when the context node is the root node.\r\n *\r\n * Revision 7: February 11, 2005\r\n *   Default namespace resolver fix from Grant Gongaware\r\n *   <grant (at) gongaware.com>.\r\n *\r\n * Revision 6: February 10, 2005\r\n *   Fixed bug in 'number' function.\r\n *\r\n * Revision 5: February 9, 2005\r\n *   Fixed bug where text nodes not getting converted to string values.\r\n *\r\n * Revision 4: January 21, 2005\r\n *   Bug in 'name' function, fix thanks to Bill Edney.\r\n *   Fixed incorrect processing of namespace nodes.\r\n *   Fixed NamespaceResolver to resolve 'xml' namespace.\r\n *   Implemented union '|' operator.\r\n *\r\n * Revision 3: January 14, 2005\r\n *   Fixed bug with nodeset comparisons, bug lexing < and >.\r\n *\r\n * Revision 2: October 26, 2004\r\n *   QName node test namespace handling fixed.  Few other bug fixes.\r\n *\r\n * Revision 1: August 13, 2004\r\n *   Bug fixes from William J. Edney <bedney (at) technicalpursuit.com>.\r\n *   Added minimal licence.\r\n *\r\n * Initial version: June 14, 2004\r\n */\r\n\r\n// non-node wrapper\r\nvar xpath = (typeof exports === 'undefined') ? {} : exports;\r\n\r\n(function (exports) {\r\n    \"use strict\";\r\n\r\n    // functional helpers\r\n    function curry(func) {\r\n        var slice = Array.prototype.slice,\r\n            totalargs = func.length,\r\n            partial = function (args, fn) {\r\n                return function () {\r\n                    return fn.apply(this, args.concat(slice.call(arguments)));\r\n                }\r\n            },\r\n            fn = function () {\r\n                var args = slice.call(arguments);\r\n                return (args.length < totalargs) ?\r\n                    partial(args, fn) :\r\n                    func.apply(this, slice.apply(arguments, [0, totalargs]));\r\n            };\r\n        return fn;\r\n    }\r\n\r\n    var forEach = function (f, xs) {\r\n        for (var i = 0; i < xs.length; i += 1) {\r\n            f(xs[i], i, xs);\r\n        }\r\n    };\r\n\r\n    var reduce = function (f, seed, xs) {\r\n        var acc = seed;\r\n\r\n        forEach(function (x, i) { acc = f(acc, x, i); }, xs);\r\n\r\n        return acc;\r\n    };\r\n\r\n    var map = function (f, xs) {\r\n        var mapped = new Array(xs.length);\r\n\r\n        forEach(function (x, i) { mapped[i] = f(x); }, xs);\r\n\r\n        return mapped;\r\n    };\r\n\r\n    var filter = function (f, xs) {\r\n        var filtered = [];\r\n\r\n        forEach(function (x, i) { if (f(x, i)) { filtered.push(x); } }, xs);\r\n\r\n        return filtered;\r\n    };\r\n\r\n    var includes = function (values, value) {\r\n        for (var i = 0; i < values.length; i += 1) {\r\n            if (values[i] === value) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n    function always(value) { return function () { return value; } }\r\n\r\n    function toString(x) { return x.toString(); }\r\n    var join = function (s, xs) { return xs.join(s); };\r\n    var wrap = function (pref, suf, str) { return pref + str + suf; };\r\n\r\n    var prototypeConcat = Array.prototype.concat;\r\n\r\n    // .apply() fails above a certain number of arguments - https://github.com/goto100/xpath/pull/98\r\n    var MAX_ARGUMENT_LENGTH = 32767;\r\n\r\n    function flatten(arr) {\r\n        var result = [];\r\n\r\n        for (var start = 0; start < arr.length; start += MAX_ARGUMENT_LENGTH) {\r\n            var chunk = arr.slice(start, start + MAX_ARGUMENT_LENGTH);\r\n            \r\n            result = prototypeConcat.apply(result, chunk);\r\n        }\r\n        \r\n        return result;\r\n    }\r\n\r\n    function assign(target, varArgs) { // .length of function is 2\r\n        var to = Object(target);\r\n\r\n        for (var index = 1; index < arguments.length; index++) {\r\n            var nextSource = arguments[index];\r\n\r\n            if (nextSource != null) { // Skip over if undefined or null\r\n                for (var nextKey in nextSource) {\r\n                    // Avoid bugs when hasOwnProperty is shadowed\r\n                    if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n                        to[nextKey] = nextSource[nextKey];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return to;\r\n    }\r\n\r\n    // XPathParser ///////////////////////////////////////////////////////////////\r\n\r\n    XPathParser.prototype = new Object();\r\n    XPathParser.prototype.constructor = XPathParser;\r\n    XPathParser.superclass = Object.prototype;\r\n\r\n    function XPathParser() {\r\n        this.init();\r\n    }\r\n\r\n    XPathParser.prototype.init = function () {\r\n        this.reduceActions = [];\r\n\r\n        this.reduceActions[3] = function (rhs) {\r\n            return new OrOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[5] = function (rhs) {\r\n            return new AndOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[7] = function (rhs) {\r\n            return new EqualsOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[8] = function (rhs) {\r\n            return new NotEqualOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[10] = function (rhs) {\r\n            return new LessThanOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[11] = function (rhs) {\r\n            return new GreaterThanOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[12] = function (rhs) {\r\n            return new LessThanOrEqualOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[13] = function (rhs) {\r\n            return new GreaterThanOrEqualOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[15] = function (rhs) {\r\n            return new PlusOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[16] = function (rhs) {\r\n            return new MinusOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[18] = function (rhs) {\r\n            return new MultiplyOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[19] = function (rhs) {\r\n            return new DivOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[20] = function (rhs) {\r\n            return new ModOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[22] = function (rhs) {\r\n            return new UnaryMinusOperation(rhs[1]);\r\n        };\r\n        this.reduceActions[24] = function (rhs) {\r\n            return new BarOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[25] = function (rhs) {\r\n            return new PathExpr(undefined, undefined, rhs[0]);\r\n        };\r\n        this.reduceActions[27] = function (rhs) {\r\n            rhs[0].locationPath = rhs[2];\r\n            return rhs[0];\r\n        };\r\n        this.reduceActions[28] = function (rhs) {\r\n            rhs[0].locationPath = rhs[2];\r\n            rhs[0].locationPath.steps.unshift(new Step(Step.DESCENDANTORSELF, NodeTest.nodeTest, []));\r\n            return rhs[0];\r\n        };\r\n        this.reduceActions[29] = function (rhs) {\r\n            return new PathExpr(rhs[0], [], undefined);\r\n        };\r\n        this.reduceActions[30] = function (rhs) {\r\n            if (Utilities.instance_of(rhs[0], PathExpr)) {\r\n                if (rhs[0].filterPredicates == undefined) {\r\n                    rhs[0].filterPredicates = [];\r\n                }\r\n                rhs[0].filterPredicates.push(rhs[1]);\r\n                return rhs[0];\r\n            } else {\r\n                return new PathExpr(rhs[0], [rhs[1]], undefined);\r\n            }\r\n        };\r\n        this.reduceActions[32] = function (rhs) {\r\n            return rhs[1];\r\n        };\r\n        this.reduceActions[33] = function (rhs) {\r\n            return new XString(rhs[0]);\r\n        };\r\n        this.reduceActions[34] = function (rhs) {\r\n            return new XNumber(rhs[0]);\r\n        };\r\n        this.reduceActions[36] = function (rhs) {\r\n            return new FunctionCall(rhs[0], []);\r\n        };\r\n        this.reduceActions[37] = function (rhs) {\r\n            return new FunctionCall(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[38] = function (rhs) {\r\n            return [rhs[0]];\r\n        };\r\n        this.reduceActions[39] = function (rhs) {\r\n            rhs[2].unshift(rhs[0]);\r\n            return rhs[2];\r\n        };\r\n        this.reduceActions[43] = function (rhs) {\r\n            return new LocationPath(true, []);\r\n        };\r\n        this.reduceActions[44] = function (rhs) {\r\n            rhs[1].absolute = true;\r\n            return rhs[1];\r\n        };\r\n        this.reduceActions[46] = function (rhs) {\r\n            return new LocationPath(false, [rhs[0]]);\r\n        };\r\n        this.reduceActions[47] = function (rhs) {\r\n            rhs[0].steps.push(rhs[2]);\r\n            return rhs[0];\r\n        };\r\n        this.reduceActions[49] = function (rhs) {\r\n            return new Step(rhs[0], rhs[1], []);\r\n        };\r\n        this.reduceActions[50] = function (rhs) {\r\n            return new Step(Step.CHILD, rhs[0], []);\r\n        };\r\n        this.reduceActions[51] = function (rhs) {\r\n            return new Step(rhs[0], rhs[1], rhs[2]);\r\n        };\r\n        this.reduceActions[52] = function (rhs) {\r\n            return new Step(Step.CHILD, rhs[0], rhs[1]);\r\n        };\r\n        this.reduceActions[54] = function (rhs) {\r\n            return [rhs[0]];\r\n        };\r\n        this.reduceActions[55] = function (rhs) {\r\n            rhs[1].unshift(rhs[0]);\r\n            return rhs[1];\r\n        };\r\n        this.reduceActions[56] = function (rhs) {\r\n            if (rhs[0] == \"ancestor\") {\r\n                return Step.ANCESTOR;\r\n            } else if (rhs[0] == \"ancestor-or-self\") {\r\n                return Step.ANCESTORORSELF;\r\n            } else if (rhs[0] == \"attribute\") {\r\n                return Step.ATTRIBUTE;\r\n            } else if (rhs[0] == \"child\") {\r\n                return Step.CHILD;\r\n            } else if (rhs[0] == \"descendant\") {\r\n                return Step.DESCENDANT;\r\n            } else if (rhs[0] == \"descendant-or-self\") {\r\n                return Step.DESCENDANTORSELF;\r\n            } else if (rhs[0] == \"following\") {\r\n                return Step.FOLLOWING;\r\n            } else if (rhs[0] == \"following-sibling\") {\r\n                return Step.FOLLOWINGSIBLING;\r\n            } else if (rhs[0] == \"namespace\") {\r\n                return Step.NAMESPACE;\r\n            } else if (rhs[0] == \"parent\") {\r\n                return Step.PARENT;\r\n            } else if (rhs[0] == \"preceding\") {\r\n                return Step.PRECEDING;\r\n            } else if (rhs[0] == \"preceding-sibling\") {\r\n                return Step.PRECEDINGSIBLING;\r\n            } else if (rhs[0] == \"self\") {\r\n                return Step.SELF;\r\n            }\r\n            return -1;\r\n        };\r\n        this.reduceActions[57] = function (rhs) {\r\n            return Step.ATTRIBUTE;\r\n        };\r\n        this.reduceActions[59] = function (rhs) {\r\n            if (rhs[0] == \"comment\") {\r\n                return NodeTest.commentTest;\r\n            } else if (rhs[0] == \"text\") {\r\n                return NodeTest.textTest;\r\n            } else if (rhs[0] == \"processing-instruction\") {\r\n                return NodeTest.anyPiTest;\r\n            } else if (rhs[0] == \"node\") {\r\n                return NodeTest.nodeTest;\r\n            }\r\n            return new NodeTest(-1, undefined);\r\n        };\r\n        this.reduceActions[60] = function (rhs) {\r\n            return new NodeTest.PITest(rhs[2]);\r\n        };\r\n        this.reduceActions[61] = function (rhs) {\r\n            return rhs[1];\r\n        };\r\n        this.reduceActions[63] = function (rhs) {\r\n            rhs[1].absolute = true;\r\n            rhs[1].steps.unshift(new Step(Step.DESCENDANTORSELF, NodeTest.nodeTest, []));\r\n            return rhs[1];\r\n        };\r\n        this.reduceActions[64] = function (rhs) {\r\n            rhs[0].steps.push(new Step(Step.DESCENDANTORSELF, NodeTest.nodeTest, []));\r\n            rhs[0].steps.push(rhs[2]);\r\n            return rhs[0];\r\n        };\r\n        this.reduceActions[65] = function (rhs) {\r\n            return new Step(Step.SELF, NodeTest.nodeTest, []);\r\n        };\r\n        this.reduceActions[66] = function (rhs) {\r\n            return new Step(Step.PARENT, NodeTest.nodeTest, []);\r\n        };\r\n        this.reduceActions[67] = function (rhs) {\r\n            return new VariableReference(rhs[1]);\r\n        };\r\n        this.reduceActions[68] = function (rhs) {\r\n            return NodeTest.nameTestAny;\r\n        };\r\n        this.reduceActions[69] = function (rhs) {\r\n            return new NodeTest.NameTestPrefixAny(rhs[0].split(':')[0]);\r\n        };\r\n        this.reduceActions[70] = function (rhs) {\r\n            return new NodeTest.NameTestQName(rhs[0]);\r\n        };\r\n    };\r\n\r\n    XPathParser.actionTable = [\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \"                 s                  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr  r  \",\r\n        \"                rrrrr               \",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \"rs  rrrrrrrr s  sssssrrrrrr  rrs rs \",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \"                            s       \",\r\n        \"                            s       \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"  s                                 \",\r\n        \"                            s       \",\r\n        \" s           s  sssss          s  s \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr  r  \",\r\n        \"a                                   \",\r\n        \"r       s                    rr  r  \",\r\n        \"r      sr                    rr  r  \",\r\n        \"r   s  rr            s       rr  r  \",\r\n        \"r   rssrr            rss     rr  r  \",\r\n        \"r   rrrrr            rrrss   rr  r  \",\r\n        \"r   rrrrrsss         rrrrr   rr  r  \",\r\n        \"r   rrrrrrrr         rrrrr   rr  r  \",\r\n        \"r   rrrrrrrr         rrrrrs  rr  r  \",\r\n        \"r   rrrrrrrr         rrrrrr  rr  r  \",\r\n        \"r   rrrrrrrr         rrrrrr  rr  r  \",\r\n        \"r  srrrrrrrr         rrrrrrs rr sr  \",\r\n        \"r  srrrrrrrr         rrrrrrs rr  r  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"r   rrrrrrrr         rrrrrr  rr  r  \",\r\n        \"r   rrrrrrrr         rrrrrr  rr  r  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr  r  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr  r  \",\r\n        \"                sssss               \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr sr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr  r  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"                             s      \",\r\n        \"r  srrrrrrrr         rrrrrrs rr  r  \",\r\n        \"r   rrrrrrrr         rrrrr   rr  r  \",\r\n        \"              s                     \",\r\n        \"                             s      \",\r\n        \"                rrrrr               \",\r\n        \" s s        sssssssss    s sss s  ss\",\r\n        \"r  srrrrrrrr         rrrrrrs rr  r  \",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss      ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s           s  sssss          s  s \",\r\n        \" s           s  sssss          s  s \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \" s           s  sssss          s  s \",\r\n        \" s           s  sssss          s  s \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr sr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr sr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr  r  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"                             s      \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"                             rr     \",\r\n        \"                             s      \",\r\n        \"                             rs     \",\r\n        \"r      sr                    rr  r  \",\r\n        \"r   s  rr            s       rr  r  \",\r\n        \"r   rssrr            rss     rr  r  \",\r\n        \"r   rssrr            rss     rr  r  \",\r\n        \"r   rrrrr            rrrss   rr  r  \",\r\n        \"r   rrrrr            rrrss   rr  r  \",\r\n        \"r   rrrrr            rrrss   rr  r  \",\r\n        \"r   rrrrr            rrrss   rr  r  \",\r\n        \"r   rrrrrsss         rrrrr   rr  r  \",\r\n        \"r   rrrrrsss         rrrrr   rr  r  \",\r\n        \"r   rrrrrrrr         rrrrr   rr  r  \",\r\n        \"r   rrrrrrrr         rrrrr   rr  r  \",\r\n        \"r   rrrrrrrr         rrrrr   rr  r  \",\r\n        \"r   rrrrrrrr         rrrrrr  rr  r  \",\r\n        \"                                 r  \",\r\n        \"                                 s  \",\r\n        \"r  srrrrrrrr         rrrrrrs rr  r  \",\r\n        \"r  srrrrrrrr         rrrrrrs rr  r  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr  r  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr  r  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr  r  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr  r  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"                             r      \"\r\n    ];\r\n\r\n    XPathParser.actionTableNumber = [\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \"                 J                  \",\r\n        \"a  aaaaaaaaa         aaaaaaa aa  a  \",\r\n        \"                YYYYY               \",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \"K1  KKKKKKKK .  +*)('KKKKKK  KK# K\\\" \",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \"                            N       \",\r\n        \"                            O       \",\r\n        \"e  eeeeeeeee         eeeeeee ee ee  \",\r\n        \"f  fffffffff         fffffff ff ff  \",\r\n        \"d  ddddddddd         ddddddd dd dd  \",\r\n        \"B  BBBBBBBBB         BBBBBBB BB BB  \",\r\n        \"A  AAAAAAAAA         AAAAAAA AA AA  \",\r\n        \"  P                                 \",\r\n        \"                            Q       \",\r\n        \" 1           .  +*)('          #  \\\" \",\r\n        \"b  bbbbbbbbb         bbbbbbb bb  b  \",\r\n        \"                                    \",\r\n        \"!       S                    !!  !  \",\r\n        \"\\\"      T\\\"                    \\\"\\\"  \\\"  \",\r\n        \"$   V  $$            U       $$  $  \",\r\n        \"&   &ZY&&            &XW     &&  &  \",\r\n        \")   )))))            )))\\\\[   ))  )  \",\r\n        \".   ....._^]         .....   ..  .  \",\r\n        \"1   11111111         11111   11  1  \",\r\n        \"5   55555555         55555`  55  5  \",\r\n        \"7   77777777         777777  77  7  \",\r\n        \"9   99999999         999999  99  9  \",\r\n        \":  c::::::::         ::::::b :: a:  \",\r\n        \"I  fIIIIIIII         IIIIIIe II  I  \",\r\n        \"=  =========         ======= == ==  \",\r\n        \"?  ?????????         ??????? ?? ??  \",\r\n        \"C  CCCCCCCCC         CCCCCCC CC CC  \",\r\n        \"J   JJJJJJJJ         JJJJJJ  JJ  J  \",\r\n        \"M   MMMMMMMM         MMMMMM  MM  M  \",\r\n        \"N  NNNNNNNNN         NNNNNNN NN  N  \",\r\n        \"P  PPPPPPPPP         PPPPPPP PP  P  \",\r\n        \"                +*)('               \",\r\n        \"R  RRRRRRRRR         RRRRRRR RR aR  \",\r\n        \"U  UUUUUUUUU         UUUUUUU UU  U  \",\r\n        \"Z  ZZZZZZZZZ         ZZZZZZZ ZZ ZZ  \",\r\n        \"c  ccccccccc         ccccccc cc cc  \",\r\n        \"                             j      \",\r\n        \"L  fLLLLLLLL         LLLLLLe LL  L  \",\r\n        \"6   66666666         66666   66  6  \",\r\n        \"              k                     \",\r\n        \"                             l      \",\r\n        \"                XXXXX               \",\r\n        \" 1 0        /.-,+*)('    & %$m #  \\\"!\",\r\n        \"_  f________         ______e __  _  \",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('      %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1           .  +*)('          #  \\\" \",\r\n        \" 1           .  +*)('          #  \\\" \",\r\n        \">  >>>>>>>>>         >>>>>>> >> >>  \",\r\n        \" 1           .  +*)('          #  \\\" \",\r\n        \" 1           .  +*)('          #  \\\" \",\r\n        \"Q  QQQQQQQQQ         QQQQQQQ QQ aQ  \",\r\n        \"V  VVVVVVVVV         VVVVVVV VV aV  \",\r\n        \"T  TTTTTTTTT         TTTTTTT TT  T  \",\r\n        \"@  @@@@@@@@@         @@@@@@@ @@ @@  \",\r\n        \"                             \\x87      \",\r\n        \"[  [[[[[[[[[         [[[[[[[ [[ [[  \",\r\n        \"D  DDDDDDDDD         DDDDDDD DD DD  \",\r\n        \"                             HH     \",\r\n        \"                             \\x88      \",\r\n        \"                             F\\x89     \",\r\n        \"#      T#                    ##  #  \",\r\n        \"%   V  %%            U       %%  %  \",\r\n        \"'   'ZY''            'XW     ''  '  \",\r\n        \"(   (ZY((            (XW     ((  (  \",\r\n        \"+   +++++            +++\\\\[   ++  +  \",\r\n        \"*   *****            ***\\\\[   **  *  \",\r\n        \"-   -----            ---\\\\[   --  -  \",\r\n        \",   ,,,,,            ,,,\\\\[   ,,  ,  \",\r\n        \"0   00000_^]         00000   00  0  \",\r\n        \"/   /////_^]         /////   //  /  \",\r\n        \"2   22222222         22222   22  2  \",\r\n        \"3   33333333         33333   33  3  \",\r\n        \"4   44444444         44444   44  4  \",\r\n        \"8   88888888         888888  88  8  \",\r\n        \"                                 ^  \",\r\n        \"                                 \\x8a  \",\r\n        \";  f;;;;;;;;         ;;;;;;e ;;  ;  \",\r\n        \"<  f<<<<<<<<         <<<<<<e <<  <  \",\r\n        \"O  OOOOOOOOO         OOOOOOO OO  O  \",\r\n        \"`  `````````         ``````` ``  `  \",\r\n        \"S  SSSSSSSSS         SSSSSSS SS  S  \",\r\n        \"W  WWWWWWWWW         WWWWWWW WW  W  \",\r\n        \"\\\\  \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\         \\\\\\\\\\\\\\\\\\\\\\\\\\\\ \\\\\\\\ \\\\\\\\  \",\r\n        \"E  EEEEEEEEE         EEEEEEE EE EE  \",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \"]  ]]]]]]]]]         ]]]]]]] ]] ]]  \",\r\n        \"                             G      \"\r\n    ];\r\n\r\n    XPathParser.gotoTable = [\r\n        \"3456789:;<=>?@ AB  CDEFGH IJ \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"L456789:;<=>?@ AB  CDEFGH IJ \",\r\n        \"            M        EFGH IJ \",\r\n        \"       N;<=>?@ AB  CDEFGH IJ \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"            S        EFGH IJ \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"              e              \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                        h  J \",\r\n        \"              i          j   \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"o456789:;<=>?@ ABpqCDEFGH IJ \",\r\n        \"                             \",\r\n        \"  r6789:;<=>?@ AB  CDEFGH IJ \",\r\n        \"   s789:;<=>?@ AB  CDEFGH IJ \",\r\n        \"    t89:;<=>?@ AB  CDEFGH IJ \",\r\n        \"    u89:;<=>?@ AB  CDEFGH IJ \",\r\n        \"     v9:;<=>?@ AB  CDEFGH IJ \",\r\n        \"     w9:;<=>?@ AB  CDEFGH IJ \",\r\n        \"     x9:;<=>?@ AB  CDEFGH IJ \",\r\n        \"     y9:;<=>?@ AB  CDEFGH IJ \",\r\n        \"      z:;<=>?@ AB  CDEFGH IJ \",\r\n        \"      {:;<=>?@ AB  CDEFGH IJ \",\r\n        \"       |;<=>?@ AB  CDEFGH IJ \",\r\n        \"       };<=>?@ AB  CDEFGH IJ \",\r\n        \"       ~;<=>?@ AB  CDEFGH IJ \",\r\n        \"         \\x7f=>?@ AB  CDEFGH IJ \",\r\n        \"\\x80456789:;<=>?@ AB  CDEFGH IJ\\x81\",\r\n        \"            \\x82        EFGH IJ \",\r\n        \"            \\x83        EFGH IJ \",\r\n        \"                             \",\r\n        \"                     \\x84 GH IJ \",\r\n        \"                     \\x85 GH IJ \",\r\n        \"              i          \\x86   \",\r\n        \"              i          \\x87   \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"o456789:;<=>?@ AB\\x8cqCDEFGH IJ \",\r\n        \"                             \",\r\n        \"                             \"\r\n    ];\r\n\r\n    XPathParser.productions = [\r\n        [1, 1, 2],\r\n        [2, 1, 3],\r\n        [3, 1, 4],\r\n        [3, 3, 3, -9, 4],\r\n        [4, 1, 5],\r\n        [4, 3, 4, -8, 5],\r\n        [5, 1, 6],\r\n        [5, 3, 5, -22, 6],\r\n        [5, 3, 5, -5, 6],\r\n        [6, 1, 7],\r\n        [6, 3, 6, -23, 7],\r\n        [6, 3, 6, -24, 7],\r\n        [6, 3, 6, -6, 7],\r\n        [6, 3, 6, -7, 7],\r\n        [7, 1, 8],\r\n        [7, 3, 7, -25, 8],\r\n        [7, 3, 7, -26, 8],\r\n        [8, 1, 9],\r\n        [8, 3, 8, -12, 9],\r\n        [8, 3, 8, -11, 9],\r\n        [8, 3, 8, -10, 9],\r\n        [9, 1, 10],\r\n        [9, 2, -26, 9],\r\n        [10, 1, 11],\r\n        [10, 3, 10, -27, 11],\r\n        [11, 1, 12],\r\n        [11, 1, 13],\r\n        [11, 3, 13, -28, 14],\r\n        [11, 3, 13, -4, 14],\r\n        [13, 1, 15],\r\n        [13, 2, 13, 16],\r\n        [15, 1, 17],\r\n        [15, 3, -29, 2, -30],\r\n        [15, 1, -15],\r\n        [15, 1, -16],\r\n        [15, 1, 18],\r\n        [18, 3, -13, -29, -30],\r\n        [18, 4, -13, -29, 19, -30],\r\n        [19, 1, 20],\r\n        [19, 3, 20, -31, 19],\r\n        [20, 1, 2],\r\n        [12, 1, 14],\r\n        [12, 1, 21],\r\n        [21, 1, -28],\r\n        [21, 2, -28, 14],\r\n        [21, 1, 22],\r\n        [14, 1, 23],\r\n        [14, 3, 14, -28, 23],\r\n        [14, 1, 24],\r\n        [23, 2, 25, 26],\r\n        [23, 1, 26],\r\n        [23, 3, 25, 26, 27],\r\n        [23, 2, 26, 27],\r\n        [23, 1, 28],\r\n        [27, 1, 16],\r\n        [27, 2, 16, 27],\r\n        [25, 2, -14, -3],\r\n        [25, 1, -32],\r\n        [26, 1, 29],\r\n        [26, 3, -20, -29, -30],\r\n        [26, 4, -21, -29, -15, -30],\r\n        [16, 3, -33, 30, -34],\r\n        [30, 1, 2],\r\n        [22, 2, -4, 14],\r\n        [24, 3, 14, -4, 23],\r\n        [28, 1, -35],\r\n        [28, 1, -2],\r\n        [17, 2, -36, -18],\r\n        [29, 1, -17],\r\n        [29, 1, -19],\r\n        [29, 1, -18]\r\n    ];\r\n\r\n    XPathParser.DOUBLEDOT = 2;\r\n    XPathParser.DOUBLECOLON = 3;\r\n    XPathParser.DOUBLESLASH = 4;\r\n    XPathParser.NOTEQUAL = 5;\r\n    XPathParser.LESSTHANOREQUAL = 6;\r\n    XPathParser.GREATERTHANOREQUAL = 7;\r\n    XPathParser.AND = 8;\r\n    XPathParser.OR = 9;\r\n    XPathParser.MOD = 10;\r\n    XPathParser.DIV = 11;\r\n    XPathParser.MULTIPLYOPERATOR = 12;\r\n    XPathParser.FUNCTIONNAME = 13;\r\n    XPathParser.AXISNAME = 14;\r\n    XPathParser.LITERAL = 15;\r\n    XPathParser.NUMBER = 16;\r\n    XPathParser.ASTERISKNAMETEST = 17;\r\n    XPathParser.QNAME = 18;\r\n    XPathParser.NCNAMECOLONASTERISK = 19;\r\n    XPathParser.NODETYPE = 20;\r\n    XPathParser.PROCESSINGINSTRUCTIONWITHLITERAL = 21;\r\n    XPathParser.EQUALS = 22;\r\n    XPathParser.LESSTHAN = 23;\r\n    XPathParser.GREATERTHAN = 24;\r\n    XPathParser.PLUS = 25;\r\n    XPathParser.MINUS = 26;\r\n    XPathParser.BAR = 27;\r\n    XPathParser.SLASH = 28;\r\n    XPathParser.LEFTPARENTHESIS = 29;\r\n    XPathParser.RIGHTPARENTHESIS = 30;\r\n    XPathParser.COMMA = 31;\r\n    XPathParser.AT = 32;\r\n    XPathParser.LEFTBRACKET = 33;\r\n    XPathParser.RIGHTBRACKET = 34;\r\n    XPathParser.DOT = 35;\r\n    XPathParser.DOLLAR = 36;\r\n\r\n    XPathParser.prototype.tokenize = function (s1) {\r\n        var types = [];\r\n        var values = [];\r\n        var s = s1 + '\\0';\r\n\r\n        var pos = 0;\r\n        var c = s.charAt(pos++);\r\n        while (1) {\r\n            while (c == ' ' || c == '\\t' || c == '\\r' || c == '\\n') {\r\n                c = s.charAt(pos++);\r\n            }\r\n            if (c == '\\0' || pos >= s.length) {\r\n                break;\r\n            }\r\n\r\n            if (c == '(') {\r\n                types.push(XPathParser.LEFTPARENTHESIS);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n            if (c == ')') {\r\n                types.push(XPathParser.RIGHTPARENTHESIS);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n            if (c == '[') {\r\n                types.push(XPathParser.LEFTBRACKET);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n            if (c == ']') {\r\n                types.push(XPathParser.RIGHTBRACKET);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n            if (c == '@') {\r\n                types.push(XPathParser.AT);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n            if (c == ',') {\r\n                types.push(XPathParser.COMMA);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n            if (c == '|') {\r\n                types.push(XPathParser.BAR);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n            if (c == '+') {\r\n                types.push(XPathParser.PLUS);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n            if (c == '-') {\r\n                types.push(XPathParser.MINUS);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n            if (c == '=') {\r\n                types.push(XPathParser.EQUALS);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n            if (c == '$') {\r\n                types.push(XPathParser.DOLLAR);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n\r\n            if (c == '.') {\r\n                c = s.charAt(pos++);\r\n                if (c == '.') {\r\n                    types.push(XPathParser.DOUBLEDOT);\r\n                    values.push(\"..\");\r\n                    c = s.charAt(pos++);\r\n                    continue;\r\n                }\r\n                if (c >= '0' && c <= '9') {\r\n                    var number = \".\" + c;\r\n                    c = s.charAt(pos++);\r\n                    while (c >= '0' && c <= '9') {\r\n                        number += c;\r\n                        c = s.charAt(pos++);\r\n                    }\r\n                    types.push(XPathParser.NUMBER);\r\n                    values.push(number);\r\n                    continue;\r\n                }\r\n                types.push(XPathParser.DOT);\r\n                values.push('.');\r\n                continue;\r\n            }\r\n\r\n            if (c == '\\'' || c == '\"') {\r\n                var delimiter = c;\r\n                var literal = \"\";\r\n                while (pos < s.length && (c = s.charAt(pos)) !== delimiter) {\r\n                    literal += c;\r\n                    pos += 1;\r\n                }\r\n                if (c !== delimiter) {\r\n                    throw XPathException.fromMessage(\"Unterminated string literal: \" + delimiter + literal);\r\n                }\r\n                pos += 1;\r\n                types.push(XPathParser.LITERAL);\r\n                values.push(literal);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n\r\n            if (c >= '0' && c <= '9') {\r\n                var number = c;\r\n                c = s.charAt(pos++);\r\n                while (c >= '0' && c <= '9') {\r\n                    number += c;\r\n                    c = s.charAt(pos++);\r\n                }\r\n                if (c == '.') {\r\n                    if (s.charAt(pos) >= '0' && s.charAt(pos) <= '9') {\r\n                        number += c;\r\n                        number += s.charAt(pos++);\r\n                        c = s.charAt(pos++);\r\n                        while (c >= '0' && c <= '9') {\r\n                            number += c;\r\n                            c = s.charAt(pos++);\r\n                        }\r\n                    }\r\n                }\r\n                types.push(XPathParser.NUMBER);\r\n                values.push(number);\r\n                continue;\r\n            }\r\n\r\n            if (c == '*') {\r\n                if (types.length > 0) {\r\n                    var last = types[types.length - 1];\r\n                    if (last != XPathParser.AT\r\n                        && last != XPathParser.DOUBLECOLON\r\n                        && last != XPathParser.LEFTPARENTHESIS\r\n                        && last != XPathParser.LEFTBRACKET\r\n                        && last != XPathParser.AND\r\n                        && last != XPathParser.OR\r\n                        && last != XPathParser.MOD\r\n                        && last != XPathParser.DIV\r\n                        && last != XPathParser.MULTIPLYOPERATOR\r\n                        && last != XPathParser.SLASH\r\n                        && last != XPathParser.DOUBLESLASH\r\n                        && last != XPathParser.BAR\r\n                        && last != XPathParser.PLUS\r\n                        && last != XPathParser.MINUS\r\n                        && last != XPathParser.EQUALS\r\n                        && last != XPathParser.NOTEQUAL\r\n                        && last != XPathParser.LESSTHAN\r\n                        && last != XPathParser.LESSTHANOREQUAL\r\n                        && last != XPathParser.GREATERTHAN\r\n                        && last != XPathParser.GREATERTHANOREQUAL) {\r\n                        types.push(XPathParser.MULTIPLYOPERATOR);\r\n                        values.push(c);\r\n                        c = s.charAt(pos++);\r\n                        continue;\r\n                    }\r\n                }\r\n                types.push(XPathParser.ASTERISKNAMETEST);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n\r\n            if (c == ':') {\r\n                if (s.charAt(pos) == ':') {\r\n                    types.push(XPathParser.DOUBLECOLON);\r\n                    values.push(\"::\");\r\n                    pos++;\r\n                    c = s.charAt(pos++);\r\n                    continue;\r\n                }\r\n            }\r\n\r\n            if (c == '/') {\r\n                c = s.charAt(pos++);\r\n                if (c == '/') {\r\n                    types.push(XPathParser.DOUBLESLASH);\r\n                    values.push(\"//\");\r\n                    c = s.charAt(pos++);\r\n                    continue;\r\n                }\r\n                types.push(XPathParser.SLASH);\r\n                values.push('/');\r\n                continue;\r\n            }\r\n\r\n            if (c == '!') {\r\n                if (s.charAt(pos) == '=') {\r\n                    types.push(XPathParser.NOTEQUAL);\r\n                    values.push(\"!=\");\r\n                    pos++;\r\n                    c = s.charAt(pos++);\r\n                    continue;\r\n                }\r\n            }\r\n\r\n            if (c == '<') {\r\n                if (s.charAt(pos) == '=') {\r\n                    types.push(XPathParser.LESSTHANOREQUAL);\r\n                    values.push(\"<=\");\r\n                    pos++;\r\n                    c = s.charAt(pos++);\r\n                    continue;\r\n                }\r\n                types.push(XPathParser.LESSTHAN);\r\n                values.push('<');\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n\r\n            if (c == '>') {\r\n                if (s.charAt(pos) == '=') {\r\n                    types.push(XPathParser.GREATERTHANOREQUAL);\r\n                    values.push(\">=\");\r\n                    pos++;\r\n                    c = s.charAt(pos++);\r\n                    continue;\r\n                }\r\n                types.push(XPathParser.GREATERTHAN);\r\n                values.push('>');\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n\r\n            if (c == '_' || Utilities.isLetter(c.charCodeAt(0))) {\r\n                var name = c;\r\n                c = s.charAt(pos++);\r\n                while (Utilities.isNCNameChar(c.charCodeAt(0))) {\r\n                    name += c;\r\n                    c = s.charAt(pos++);\r\n                }\r\n                if (types.length > 0) {\r\n                    var last = types[types.length - 1];\r\n                    if (last != XPathParser.AT\r\n                        && last != XPathParser.DOUBLECOLON\r\n                        && last != XPathParser.LEFTPARENTHESIS\r\n                        && last != XPathParser.LEFTBRACKET\r\n                        && last != XPathParser.AND\r\n                        && last != XPathParser.OR\r\n                        && last != XPathParser.MOD\r\n                        && last != XPathParser.DIV\r\n                        && last != XPathParser.MULTIPLYOPERATOR\r\n                        && last != XPathParser.SLASH\r\n                        && last != XPathParser.DOUBLESLASH\r\n                        && last != XPathParser.BAR\r\n                        && last != XPathParser.PLUS\r\n                        && last != XPathParser.MINUS\r\n                        && last != XPathParser.EQUALS\r\n                        && last != XPathParser.NOTEQUAL\r\n                        && last != XPathParser.LESSTHAN\r\n                        && last != XPathParser.LESSTHANOREQUAL\r\n                        && last != XPathParser.GREATERTHAN\r\n                        && last != XPathParser.GREATERTHANOREQUAL) {\r\n                        if (name == \"and\") {\r\n                            types.push(XPathParser.AND);\r\n                            values.push(name);\r\n                            continue;\r\n                        }\r\n                        if (name == \"or\") {\r\n                            types.push(XPathParser.OR);\r\n                            values.push(name);\r\n                            continue;\r\n                        }\r\n                        if (name == \"mod\") {\r\n                            types.push(XPathParser.MOD);\r\n                            values.push(name);\r\n                            continue;\r\n                        }\r\n                        if (name == \"div\") {\r\n                            types.push(XPathParser.DIV);\r\n                            values.push(name);\r\n                            continue;\r\n                        }\r\n                    }\r\n                }\r\n                if (c == ':') {\r\n                    if (s.charAt(pos) == '*') {\r\n                        types.push(XPathParser.NCNAMECOLONASTERISK);\r\n                        values.push(name + \":*\");\r\n                        pos++;\r\n                        c = s.charAt(pos++);\r\n                        continue;\r\n                    }\r\n                    if (s.charAt(pos) == '_' || Utilities.isLetter(s.charCodeAt(pos))) {\r\n                        name += ':';\r\n                        c = s.charAt(pos++);\r\n                        while (Utilities.isNCNameChar(c.charCodeAt(0))) {\r\n                            name += c;\r\n                            c = s.charAt(pos++);\r\n                        }\r\n                        if (c == '(') {\r\n                            types.push(XPathParser.FUNCTIONNAME);\r\n                            values.push(name);\r\n                            continue;\r\n                        }\r\n                        types.push(XPathParser.QNAME);\r\n                        values.push(name);\r\n                        continue;\r\n                    }\r\n                    if (s.charAt(pos) == ':') {\r\n                        types.push(XPathParser.AXISNAME);\r\n                        values.push(name);\r\n                        continue;\r\n                    }\r\n                }\r\n                if (c == '(') {\r\n                    if (name == \"comment\" || name == \"text\" || name == \"node\") {\r\n                        types.push(XPathParser.NODETYPE);\r\n                        values.push(name);\r\n                        continue;\r\n                    }\r\n                    if (name == \"processing-instruction\") {\r\n                        if (s.charAt(pos) == ')') {\r\n                            types.push(XPathParser.NODETYPE);\r\n                        } else {\r\n                            types.push(XPathParser.PROCESSINGINSTRUCTIONWITHLITERAL);\r\n                        }\r\n                        values.push(name);\r\n                        continue;\r\n                    }\r\n                    types.push(XPathParser.FUNCTIONNAME);\r\n                    values.push(name);\r\n                    continue;\r\n                }\r\n                types.push(XPathParser.QNAME);\r\n                values.push(name);\r\n                continue;\r\n            }\r\n\r\n            throw new Error(\"Unexpected character \" + c);\r\n        }\r\n        types.push(1);\r\n        values.push(\"[EOF]\");\r\n        return [types, values];\r\n    };\r\n\r\n    XPathParser.SHIFT = 's';\r\n    XPathParser.REDUCE = 'r';\r\n    XPathParser.ACCEPT = 'a';\r\n\r\n    XPathParser.prototype.parse = function (s) {\r\n        var types;\r\n        var values;\r\n        var res = this.tokenize(s);\r\n        if (res == undefined) {\r\n            return undefined;\r\n        }\r\n        types = res[0];\r\n        values = res[1];\r\n        var tokenPos = 0;\r\n        var state = [];\r\n        var tokenType = [];\r\n        var tokenValue = [];\r\n        var s;\r\n        var a;\r\n        var t;\r\n\r\n        state.push(0);\r\n        tokenType.push(1);\r\n        tokenValue.push(\"_S\");\r\n\r\n        a = types[tokenPos];\r\n        t = values[tokenPos++];\r\n        while (1) {\r\n            s = state[state.length - 1];\r\n            switch (XPathParser.actionTable[s].charAt(a - 1)) {\r\n                case XPathParser.SHIFT:\r\n                    tokenType.push(-a);\r\n                    tokenValue.push(t);\r\n                    state.push(XPathParser.actionTableNumber[s].charCodeAt(a - 1) - 32);\r\n                    a = types[tokenPos];\r\n                    t = values[tokenPos++];\r\n                    break;\r\n                case XPathParser.REDUCE:\r\n                    var num = XPathParser.productions[XPathParser.actionTableNumber[s].charCodeAt(a - 1) - 32][1];\r\n                    var rhs = [];\r\n                    for (var i = 0; i < num; i++) {\r\n                        tokenType.pop();\r\n                        rhs.unshift(tokenValue.pop());\r\n                        state.pop();\r\n                    }\r\n                    var s_ = state[state.length - 1];\r\n                    tokenType.push(XPathParser.productions[XPathParser.actionTableNumber[s].charCodeAt(a - 1) - 32][0]);\r\n                    if (this.reduceActions[XPathParser.actionTableNumber[s].charCodeAt(a - 1) - 32] == undefined) {\r\n                        tokenValue.push(rhs[0]);\r\n                    } else {\r\n                        tokenValue.push(this.reduceActions[XPathParser.actionTableNumber[s].charCodeAt(a - 1) - 32](rhs));\r\n                    }\r\n                    state.push(XPathParser.gotoTable[s_].charCodeAt(XPathParser.productions[XPathParser.actionTableNumber[s].charCodeAt(a - 1) - 32][0] - 2) - 33);\r\n                    break;\r\n                case XPathParser.ACCEPT:\r\n                    return new XPath(tokenValue.pop());\r\n                default:\r\n                    throw new Error(\"XPath parse error\");\r\n            }\r\n        }\r\n    };\r\n\r\n    // XPath /////////////////////////////////////////////////////////////////////\r\n\r\n    XPath.prototype = new Object();\r\n    XPath.prototype.constructor = XPath;\r\n    XPath.superclass = Object.prototype;\r\n\r\n    function XPath(e) {\r\n        this.expression = e;\r\n    }\r\n\r\n    XPath.prototype.toString = function () {\r\n        return this.expression.toString();\r\n    };\r\n\r\n    function setIfUnset(obj, prop, value) {\r\n        if (!(prop in obj)) {\r\n            obj[prop] = value;\r\n        }\r\n    }\r\n\r\n    XPath.prototype.evaluate = function (c) {\r\n        c.contextNode = c.expressionContextNode;\r\n        c.contextSize = 1;\r\n        c.contextPosition = 1;\r\n\r\n        // [2017-11-25] Removed usage of .implementation.hasFeature() since it does\r\n        //              not reliably detect HTML DOMs (always returns false in xmldom and true in browsers)\r\n        if (c.isHtml) {\r\n            setIfUnset(c, 'caseInsensitive', true);\r\n            setIfUnset(c, 'allowAnyNamespaceForNoPrefix', true);\r\n        }\r\n\r\n        setIfUnset(c, 'caseInsensitive', false);\r\n\r\n        return this.expression.evaluate(c);\r\n    };\r\n\r\n    XPath.XML_NAMESPACE_URI = \"http://www.w3.org/XML/1998/namespace\";\r\n    XPath.XMLNS_NAMESPACE_URI = \"http://www.w3.org/2000/xmlns/\";\r\n\r\n    // Expression ////////////////////////////////////////////////////////////////\r\n\r\n    Expression.prototype = new Object();\r\n    Expression.prototype.constructor = Expression;\r\n    Expression.superclass = Object.prototype;\r\n\r\n    function Expression() {\r\n    }\r\n\r\n    Expression.prototype.init = function () {\r\n    };\r\n\r\n    Expression.prototype.toString = function () {\r\n        return \"<Expression>\";\r\n    };\r\n\r\n    Expression.prototype.evaluate = function (c) {\r\n        throw new Error(\"Could not evaluate expression.\");\r\n    };\r\n\r\n    // UnaryOperation ////////////////////////////////////////////////////////////\r\n\r\n    UnaryOperation.prototype = new Expression();\r\n    UnaryOperation.prototype.constructor = UnaryOperation;\r\n    UnaryOperation.superclass = Expression.prototype;\r\n\r\n    function UnaryOperation(rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(rhs);\r\n        }\r\n    }\r\n\r\n    UnaryOperation.prototype.init = function (rhs) {\r\n        this.rhs = rhs;\r\n    };\r\n\r\n    // UnaryMinusOperation ///////////////////////////////////////////////////////\r\n\r\n    UnaryMinusOperation.prototype = new UnaryOperation();\r\n    UnaryMinusOperation.prototype.constructor = UnaryMinusOperation;\r\n    UnaryMinusOperation.superclass = UnaryOperation.prototype;\r\n\r\n    function UnaryMinusOperation(rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(rhs);\r\n        }\r\n    }\r\n\r\n    UnaryMinusOperation.prototype.init = function (rhs) {\r\n        UnaryMinusOperation.superclass.init.call(this, rhs);\r\n    };\r\n\r\n    UnaryMinusOperation.prototype.evaluate = function (c) {\r\n        return this.rhs.evaluate(c).number().negate();\r\n    };\r\n\r\n    UnaryMinusOperation.prototype.toString = function () {\r\n        return \"-\" + this.rhs.toString();\r\n    };\r\n\r\n    // BinaryOperation ///////////////////////////////////////////////////////////\r\n\r\n    BinaryOperation.prototype = new Expression();\r\n    BinaryOperation.prototype.constructor = BinaryOperation;\r\n    BinaryOperation.superclass = Expression.prototype;\r\n\r\n    function BinaryOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    BinaryOperation.prototype.init = function (lhs, rhs) {\r\n        this.lhs = lhs;\r\n        this.rhs = rhs;\r\n    };\r\n\r\n    // OrOperation ///////////////////////////////////////////////////////////////\r\n\r\n    OrOperation.prototype = new BinaryOperation();\r\n    OrOperation.prototype.constructor = OrOperation;\r\n    OrOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function OrOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    OrOperation.prototype.init = function (lhs, rhs) {\r\n        OrOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    OrOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" or \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    OrOperation.prototype.evaluate = function (c) {\r\n        var b = this.lhs.evaluate(c).bool();\r\n        if (b.booleanValue()) {\r\n            return b;\r\n        }\r\n        return this.rhs.evaluate(c).bool();\r\n    };\r\n\r\n    // AndOperation //////////////////////////////////////////////////////////////\r\n\r\n    AndOperation.prototype = new BinaryOperation();\r\n    AndOperation.prototype.constructor = AndOperation;\r\n    AndOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function AndOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    AndOperation.prototype.init = function (lhs, rhs) {\r\n        AndOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    AndOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" and \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    AndOperation.prototype.evaluate = function (c) {\r\n        var b = this.lhs.evaluate(c).bool();\r\n        if (!b.booleanValue()) {\r\n            return b;\r\n        }\r\n        return this.rhs.evaluate(c).bool();\r\n    };\r\n\r\n    // EqualsOperation ///////////////////////////////////////////////////////////\r\n\r\n    EqualsOperation.prototype = new BinaryOperation();\r\n    EqualsOperation.prototype.constructor = EqualsOperation;\r\n    EqualsOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function EqualsOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    EqualsOperation.prototype.init = function (lhs, rhs) {\r\n        EqualsOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    EqualsOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" = \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    EqualsOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).equals(this.rhs.evaluate(c));\r\n    };\r\n\r\n    // NotEqualOperation /////////////////////////////////////////////////////////\r\n\r\n    NotEqualOperation.prototype = new BinaryOperation();\r\n    NotEqualOperation.prototype.constructor = NotEqualOperation;\r\n    NotEqualOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function NotEqualOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    NotEqualOperation.prototype.init = function (lhs, rhs) {\r\n        NotEqualOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    NotEqualOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" != \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    NotEqualOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).notequal(this.rhs.evaluate(c));\r\n    };\r\n\r\n    // LessThanOperation /////////////////////////////////////////////////////////\r\n\r\n    LessThanOperation.prototype = new BinaryOperation();\r\n    LessThanOperation.prototype.constructor = LessThanOperation;\r\n    LessThanOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function LessThanOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    LessThanOperation.prototype.init = function (lhs, rhs) {\r\n        LessThanOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    LessThanOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).lessthan(this.rhs.evaluate(c));\r\n    };\r\n\r\n    LessThanOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" < \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    // GreaterThanOperation //////////////////////////////////////////////////////\r\n\r\n    GreaterThanOperation.prototype = new BinaryOperation();\r\n    GreaterThanOperation.prototype.constructor = GreaterThanOperation;\r\n    GreaterThanOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function GreaterThanOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    GreaterThanOperation.prototype.init = function (lhs, rhs) {\r\n        GreaterThanOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    GreaterThanOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).greaterthan(this.rhs.evaluate(c));\r\n    };\r\n\r\n    GreaterThanOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" > \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    // LessThanOrEqualOperation //////////////////////////////////////////////////\r\n\r\n    LessThanOrEqualOperation.prototype = new BinaryOperation();\r\n    LessThanOrEqualOperation.prototype.constructor = LessThanOrEqualOperation;\r\n    LessThanOrEqualOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function LessThanOrEqualOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    LessThanOrEqualOperation.prototype.init = function (lhs, rhs) {\r\n        LessThanOrEqualOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    LessThanOrEqualOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).lessthanorequal(this.rhs.evaluate(c));\r\n    };\r\n\r\n    LessThanOrEqualOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" <= \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    // GreaterThanOrEqualOperation ///////////////////////////////////////////////\r\n\r\n    GreaterThanOrEqualOperation.prototype = new BinaryOperation();\r\n    GreaterThanOrEqualOperation.prototype.constructor = GreaterThanOrEqualOperation;\r\n    GreaterThanOrEqualOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function GreaterThanOrEqualOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    GreaterThanOrEqualOperation.prototype.init = function (lhs, rhs) {\r\n        GreaterThanOrEqualOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    GreaterThanOrEqualOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).greaterthanorequal(this.rhs.evaluate(c));\r\n    };\r\n\r\n    GreaterThanOrEqualOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" >= \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    // PlusOperation /////////////////////////////////////////////////////////////\r\n\r\n    PlusOperation.prototype = new BinaryOperation();\r\n    PlusOperation.prototype.constructor = PlusOperation;\r\n    PlusOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function PlusOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    PlusOperation.prototype.init = function (lhs, rhs) {\r\n        PlusOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    PlusOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).number().plus(this.rhs.evaluate(c).number());\r\n    };\r\n\r\n    PlusOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" + \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    // MinusOperation ////////////////////////////////////////////////////////////\r\n\r\n    MinusOperation.prototype = new BinaryOperation();\r\n    MinusOperation.prototype.constructor = MinusOperation;\r\n    MinusOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function MinusOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    MinusOperation.prototype.init = function (lhs, rhs) {\r\n        MinusOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    MinusOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).number().minus(this.rhs.evaluate(c).number());\r\n    };\r\n\r\n    MinusOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" - \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    // MultiplyOperation /////////////////////////////////////////////////////////\r\n\r\n    MultiplyOperation.prototype = new BinaryOperation();\r\n    MultiplyOperation.prototype.constructor = MultiplyOperation;\r\n    MultiplyOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function MultiplyOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    MultiplyOperation.prototype.init = function (lhs, rhs) {\r\n        MultiplyOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    MultiplyOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).number().multiply(this.rhs.evaluate(c).number());\r\n    };\r\n\r\n    MultiplyOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" * \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    // DivOperation //////////////////////////////////////////////////////////////\r\n\r\n    DivOperation.prototype = new BinaryOperation();\r\n    DivOperation.prototype.constructor = DivOperation;\r\n    DivOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function DivOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    DivOperation.prototype.init = function (lhs, rhs) {\r\n        DivOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    DivOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).number().div(this.rhs.evaluate(c).number());\r\n    };\r\n\r\n    DivOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" div \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    // ModOperation //////////////////////////////////////////////////////////////\r\n\r\n    ModOperation.prototype = new BinaryOperation();\r\n    ModOperation.prototype.constructor = ModOperation;\r\n    ModOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function ModOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    ModOperation.prototype.init = function (lhs, rhs) {\r\n        ModOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    ModOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).number().mod(this.rhs.evaluate(c).number());\r\n    };\r\n\r\n    ModOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" mod \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    // BarOperation //////////////////////////////////////////////////////////////\r\n\r\n    BarOperation.prototype = new BinaryOperation();\r\n    BarOperation.prototype.constructor = BarOperation;\r\n    BarOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function BarOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    BarOperation.prototype.init = function (lhs, rhs) {\r\n        BarOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    BarOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).nodeset().union(this.rhs.evaluate(c).nodeset());\r\n    };\r\n\r\n    BarOperation.prototype.toString = function () {\r\n        return map(toString, [this.lhs, this.rhs]).join(' | ');\r\n    };\r\n\r\n    // PathExpr //////////////////////////////////////////////////////////////////\r\n\r\n    PathExpr.prototype = new Expression();\r\n    PathExpr.prototype.constructor = PathExpr;\r\n    PathExpr.superclass = Expression.prototype;\r\n\r\n    function PathExpr(filter, filterPreds, locpath) {\r\n        if (arguments.length > 0) {\r\n            this.init(filter, filterPreds, locpath);\r\n        }\r\n    }\r\n\r\n    PathExpr.prototype.init = function (filter, filterPreds, locpath) {\r\n        PathExpr.superclass.init.call(this);\r\n        this.filter = filter;\r\n        this.filterPredicates = filterPreds;\r\n        this.locationPath = locpath;\r\n    };\r\n\r\n    /**\r\n     * Returns the topmost node of the tree containing node\r\n     */\r\n    function findRoot(node) {\r\n        while (node && node.parentNode) {\r\n            node = node.parentNode;\r\n        }\r\n\r\n        return node;\r\n    }\r\n\r\n    PathExpr.applyPredicates = function (predicates, c, nodes) {\r\n        if (predicates.length === 0) {\r\n            return nodes;\r\n        }\r\n\r\n        var ctx = c.extend({});\r\n\r\n        return reduce(\r\n            function (inNodes, pred) {\r\n                ctx.contextSize = inNodes.length;\r\n\r\n                return filter(\r\n                    function (node, i) {\r\n                        ctx.contextNode = node;\r\n                        ctx.contextPosition = i + 1;\r\n\r\n                        return PathExpr.predicateMatches(pred, ctx);\r\n                    },\r\n                    inNodes\r\n                );\r\n            },\r\n            nodes,\r\n            predicates\r\n        );\r\n    };\r\n\r\n    PathExpr.getRoot = function (xpc, nodes) {\r\n        var firstNode = nodes[0];\r\n\r\n        if (firstNode.nodeType === 9 /*Node.DOCUMENT_NODE*/) {\r\n            return firstNode;\r\n        }\r\n\r\n        if (xpc.virtualRoot) {\r\n            return xpc.virtualRoot;\r\n        }\r\n\r\n        var ownerDoc = firstNode.ownerDocument;\r\n\r\n        if (ownerDoc) {\r\n            return ownerDoc;\r\n        }\r\n\r\n        // IE 5.5 doesn't have ownerDocument?\r\n        var n = firstNode;\r\n        while (n.parentNode != null) {\r\n            n = n.parentNode;\r\n        }\r\n        return n;\r\n    }\r\n\r\n    PathExpr.applyStep = function (step, xpc, node) {\r\n        var self = this;\r\n        var newNodes = [];\r\n        xpc.contextNode = node;\r\n\r\n        switch (step.axis) {\r\n            case Step.ANCESTOR:\r\n                // look at all the ancestor nodes\r\n                if (xpc.contextNode === xpc.virtualRoot) {\r\n                    break;\r\n                }\r\n                var m;\r\n                if (xpc.contextNode.nodeType == 2 /*Node.ATTRIBUTE_NODE*/) {\r\n                    m = PathExpr.getOwnerElement(xpc.contextNode);\r\n                } else {\r\n                    m = xpc.contextNode.parentNode;\r\n                }\r\n                while (m != null) {\r\n                    if (step.nodeTest.matches(m, xpc)) {\r\n                        newNodes.push(m);\r\n                    }\r\n                    if (m === xpc.virtualRoot) {\r\n                        break;\r\n                    }\r\n                    m = m.parentNode;\r\n                }\r\n                break;\r\n\r\n            case Step.ANCESTORORSELF:\r\n                // look at all the ancestor nodes and the current node\r\n                for (var m = xpc.contextNode; m != null; m = m.nodeType == 2 /*Node.ATTRIBUTE_NODE*/ ? PathExpr.getOwnerElement(m) : m.parentNode) {\r\n                    if (step.nodeTest.matches(m, xpc)) {\r\n                        newNodes.push(m);\r\n                    }\r\n                    if (m === xpc.virtualRoot) {\r\n                        break;\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case Step.ATTRIBUTE:\r\n                // look at the attributes\r\n                var nnm = xpc.contextNode.attributes;\r\n                if (nnm != null) {\r\n                    for (var k = 0; k < nnm.length; k++) {\r\n                        var m = nnm.item(k);\r\n                        if (step.nodeTest.matches(m, xpc)) {\r\n                            newNodes.push(m);\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case Step.CHILD:\r\n                // look at all child elements\r\n                for (var m = xpc.contextNode.firstChild; m != null; m = m.nextSibling) {\r\n                    if (step.nodeTest.matches(m, xpc)) {\r\n                        newNodes.push(m);\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case Step.DESCENDANT:\r\n                // look at all descendant nodes\r\n                var st = [xpc.contextNode.firstChild];\r\n                while (st.length > 0) {\r\n                    for (var m = st.pop(); m != null;) {\r\n                        if (step.nodeTest.matches(m, xpc)) {\r\n                            newNodes.push(m);\r\n                        }\r\n                        if (m.firstChild != null) {\r\n                            st.push(m.nextSibling);\r\n                            m = m.firstChild;\r\n                        } else {\r\n                            m = m.nextSibling;\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case Step.DESCENDANTORSELF:\r\n                // look at self\r\n                if (step.nodeTest.matches(xpc.contextNode, xpc)) {\r\n                    newNodes.push(xpc.contextNode);\r\n                }\r\n                // look at all descendant nodes\r\n                var st = [xpc.contextNode.firstChild];\r\n                while (st.length > 0) {\r\n                    for (var m = st.pop(); m != null;) {\r\n                        if (step.nodeTest.matches(m, xpc)) {\r\n                            newNodes.push(m);\r\n                        }\r\n                        if (m.firstChild != null) {\r\n                            st.push(m.nextSibling);\r\n                            m = m.firstChild;\r\n                        } else {\r\n                            m = m.nextSibling;\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case Step.FOLLOWING:\r\n                if (xpc.contextNode === xpc.virtualRoot) {\r\n                    break;\r\n                }\r\n                var st = [];\r\n                if (xpc.contextNode.firstChild != null) {\r\n                    st.unshift(xpc.contextNode.firstChild);\r\n                } else {\r\n                    st.unshift(xpc.contextNode.nextSibling);\r\n                }\r\n                for (var m = xpc.contextNode.parentNode; m != null && m.nodeType != 9 /*Node.DOCUMENT_NODE*/ && m !== xpc.virtualRoot; m = m.parentNode) {\r\n                    st.unshift(m.nextSibling);\r\n                }\r\n                do {\r\n                    for (var m = st.pop(); m != null;) {\r\n                        if (step.nodeTest.matches(m, xpc)) {\r\n                            newNodes.push(m);\r\n                        }\r\n                        if (m.firstChild != null) {\r\n                            st.push(m.nextSibling);\r\n                            m = m.firstChild;\r\n                        } else {\r\n                            m = m.nextSibling;\r\n                        }\r\n                    }\r\n                } while (st.length > 0);\r\n                break;\r\n\r\n            case Step.FOLLOWINGSIBLING:\r\n                if (xpc.contextNode === xpc.virtualRoot) {\r\n                    break;\r\n                }\r\n                for (var m = xpc.contextNode.nextSibling; m != null; m = m.nextSibling) {\r\n                    if (step.nodeTest.matches(m, xpc)) {\r\n                        newNodes.push(m);\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case Step.NAMESPACE:\r\n                var n = {};\r\n                if (xpc.contextNode.nodeType == 1 /*Node.ELEMENT_NODE*/) {\r\n                    n[\"xml\"] = XPath.XML_NAMESPACE_URI;\r\n                    n[\"xmlns\"] = XPath.XMLNS_NAMESPACE_URI;\r\n                    for (var m = xpc.contextNode; m != null && m.nodeType == 1 /*Node.ELEMENT_NODE*/; m = m.parentNode) {\r\n                        for (var k = 0; k < m.attributes.length; k++) {\r\n                            var attr = m.attributes.item(k);\r\n                            var nm = String(attr.name);\r\n                            if (nm == \"xmlns\") {\r\n                                if (n[\"\"] == undefined) {\r\n                                    n[\"\"] = attr.value;\r\n                                }\r\n                            } else if (nm.length > 6 && nm.substring(0, 6) == \"xmlns:\") {\r\n                                var pre = nm.substring(6, nm.length);\r\n                                if (n[pre] == undefined) {\r\n                                    n[pre] = attr.value;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    for (var pre in n) {\r\n                        var nsn = new XPathNamespace(pre, n[pre], xpc.contextNode);\r\n                        if (step.nodeTest.matches(nsn, xpc)) {\r\n                            newNodes.push(nsn);\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case Step.PARENT:\r\n                m = null;\r\n                if (xpc.contextNode !== xpc.virtualRoot) {\r\n                    if (xpc.contextNode.nodeType == 2 /*Node.ATTRIBUTE_NODE*/) {\r\n                        m = PathExpr.getOwnerElement(xpc.contextNode);\r\n                    } else {\r\n                        m = xpc.contextNode.parentNode;\r\n                    }\r\n                }\r\n                if (m != null && step.nodeTest.matches(m, xpc)) {\r\n                    newNodes.push(m);\r\n                }\r\n                break;\r\n\r\n            case Step.PRECEDING:\r\n                var st;\r\n                if (xpc.virtualRoot != null) {\r\n                    st = [xpc.virtualRoot];\r\n                } else {\r\n                    // cannot rely on .ownerDocument because the node may be in a document fragment\r\n                    st = [findRoot(xpc.contextNode)];\r\n                }\r\n                outer: while (st.length > 0) {\r\n                    for (var m = st.pop(); m != null;) {\r\n                        if (m == xpc.contextNode) {\r\n                            break outer;\r\n                        }\r\n                        if (step.nodeTest.matches(m, xpc)) {\r\n                            newNodes.unshift(m);\r\n                        }\r\n                        if (m.firstChild != null) {\r\n                            st.push(m.nextSibling);\r\n                            m = m.firstChild;\r\n                        } else {\r\n                            m = m.nextSibling;\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case Step.PRECEDINGSIBLING:\r\n                if (xpc.contextNode === xpc.virtualRoot) {\r\n                    break;\r\n                }\r\n                for (var m = xpc.contextNode.previousSibling; m != null; m = m.previousSibling) {\r\n                    if (step.nodeTest.matches(m, xpc)) {\r\n                        newNodes.push(m);\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case Step.SELF:\r\n                if (step.nodeTest.matches(xpc.contextNode, xpc)) {\r\n                    newNodes.push(xpc.contextNode);\r\n                }\r\n                break;\r\n\r\n            default:\r\n        }\r\n\r\n        return newNodes;\r\n    };\r\n\r\n    function applyStepWithPredicates(step, xpc, node) {\r\n        return PathExpr.applyPredicates(\r\n            step.predicates,\r\n            xpc,\r\n            PathExpr.applyStep(step, xpc, node)\r\n        );\r\n    }\r\n\r\n    function applyStepToNodes(context, nodes, step) {\r\n        return flatten(\r\n            map(\r\n                applyStepWithPredicates.bind(null, step, context),\r\n                nodes\r\n            )\r\n        );\r\n    }\r\n\r\n    PathExpr.applySteps = function (steps, xpc, nodes) {\r\n        return reduce(\r\n            applyStepToNodes.bind(null, xpc),\r\n            nodes,\r\n            steps\r\n        );\r\n    }\r\n\r\n    PathExpr.prototype.applyFilter = function (c, xpc) {\r\n        if (!this.filter) {\r\n            return { nodes: [c.contextNode] };\r\n        }\r\n\r\n        var ns = this.filter.evaluate(c);\r\n\r\n        if (!Utilities.instance_of(ns, XNodeSet)) {\r\n            if (this.filterPredicates != null && this.filterPredicates.length > 0 || this.locationPath != null) {\r\n                throw new Error(\"Path expression filter must evaluate to a nodeset if predicates or location path are used\");\r\n            }\r\n\r\n            return { nonNodes: ns };\r\n        }\r\n\r\n        return {\r\n            nodes: PathExpr.applyPredicates(this.filterPredicates || [], xpc, ns.toUnsortedArray())\r\n        };\r\n    };\r\n\r\n    PathExpr.applyLocationPath = function (locationPath, xpc, nodes) {\r\n        if (!locationPath) {\r\n            return nodes;\r\n        }\r\n\r\n        var startNodes = locationPath.absolute ? [PathExpr.getRoot(xpc, nodes)] : nodes;\r\n\r\n        return PathExpr.applySteps(locationPath.steps, xpc, startNodes);\r\n    };\r\n\r\n    PathExpr.prototype.evaluate = function (c) {\r\n        var xpc = assign(new XPathContext(), c);\r\n\r\n        var filterResult = this.applyFilter(c, xpc);\r\n\r\n        if ('nonNodes' in filterResult) {\r\n            return filterResult.nonNodes;\r\n        }\r\n\r\n        var ns = new XNodeSet();\r\n        ns.addArray(PathExpr.applyLocationPath(this.locationPath, xpc, filterResult.nodes));\r\n        return ns;\r\n    };\r\n\r\n    PathExpr.predicateMatches = function (pred, c) {\r\n        var res = pred.evaluate(c);\r\n\r\n        return Utilities.instance_of(res, XNumber)\r\n            ? c.contextPosition === res.numberValue()\r\n            : res.booleanValue();\r\n    };\r\n\r\n    PathExpr.predicateString = function (predicate) {\r\n        return wrap('[', ']', predicate.toString());\r\n    }\r\n\r\n    PathExpr.predicatesString = function (predicates) {\r\n        return join(\r\n            '',\r\n            map(PathExpr.predicateString, predicates)\r\n        );\r\n    }\r\n\r\n    PathExpr.prototype.toString = function () {\r\n        if (this.filter != undefined) {\r\n            var filterStr = toString(this.filter);\r\n\r\n            if (Utilities.instance_of(this.filter, XString)) {\r\n                return wrap(\"'\", \"'\", filterStr);\r\n            }\r\n            if (this.filterPredicates != undefined && this.filterPredicates.length) {\r\n                return wrap('(', ')', filterStr) +\r\n                    PathExpr.predicatesString(this.filterPredicates);\r\n            }\r\n            if (this.locationPath != undefined) {\r\n                return filterStr +\r\n                    (this.locationPath.absolute ? '' : '/') +\r\n                    toString(this.locationPath);\r\n            }\r\n\r\n            return filterStr;\r\n        }\r\n\r\n        return toString(this.locationPath);\r\n    };\r\n\r\n    PathExpr.getOwnerElement = function (n) {\r\n        // DOM 2 has ownerElement\r\n        if (n.ownerElement) {\r\n            return n.ownerElement;\r\n        }\r\n        // DOM 1 Internet Explorer can use selectSingleNode (ironically)\r\n        try {\r\n            if (n.selectSingleNode) {\r\n                return n.selectSingleNode(\"..\");\r\n            }\r\n        } catch (e) {\r\n        }\r\n        // Other DOM 1 implementations must use this egregious search\r\n        var doc = n.nodeType == 9 /*Node.DOCUMENT_NODE*/\r\n            ? n\r\n            : n.ownerDocument;\r\n        var elts = doc.getElementsByTagName(\"*\");\r\n        for (var i = 0; i < elts.length; i++) {\r\n            var elt = elts.item(i);\r\n            var nnm = elt.attributes;\r\n            for (var j = 0; j < nnm.length; j++) {\r\n                var an = nnm.item(j);\r\n                if (an === n) {\r\n                    return elt;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n\r\n    // LocationPath //////////////////////////////////////////////////////////////\r\n\r\n    LocationPath.prototype = new Object();\r\n    LocationPath.prototype.constructor = LocationPath;\r\n    LocationPath.superclass = Object.prototype;\r\n\r\n    function LocationPath(abs, steps) {\r\n        if (arguments.length > 0) {\r\n            this.init(abs, steps);\r\n        }\r\n    }\r\n\r\n    LocationPath.prototype.init = function (abs, steps) {\r\n        this.absolute = abs;\r\n        this.steps = steps;\r\n    };\r\n\r\n    LocationPath.prototype.toString = function () {\r\n        return (\r\n            (this.absolute ? '/' : '') +\r\n            map(toString, this.steps).join('/')\r\n        );\r\n    };\r\n\r\n    // Step //////////////////////////////////////////////////////////////////////\r\n\r\n    Step.prototype = new Object();\r\n    Step.prototype.constructor = Step;\r\n    Step.superclass = Object.prototype;\r\n\r\n    function Step(axis, nodetest, preds) {\r\n        if (arguments.length > 0) {\r\n            this.init(axis, nodetest, preds);\r\n        }\r\n    }\r\n\r\n    Step.prototype.init = function (axis, nodetest, preds) {\r\n        this.axis = axis;\r\n        this.nodeTest = nodetest;\r\n        this.predicates = preds;\r\n    };\r\n\r\n    Step.prototype.toString = function () {\r\n        return Step.STEPNAMES[this.axis] +\r\n            \"::\" +\r\n            this.nodeTest.toString() +\r\n            PathExpr.predicatesString(this.predicates);\r\n    };\r\n\r\n\r\n    Step.ANCESTOR = 0;\r\n    Step.ANCESTORORSELF = 1;\r\n    Step.ATTRIBUTE = 2;\r\n    Step.CHILD = 3;\r\n    Step.DESCENDANT = 4;\r\n    Step.DESCENDANTORSELF = 5;\r\n    Step.FOLLOWING = 6;\r\n    Step.FOLLOWINGSIBLING = 7;\r\n    Step.NAMESPACE = 8;\r\n    Step.PARENT = 9;\r\n    Step.PRECEDING = 10;\r\n    Step.PRECEDINGSIBLING = 11;\r\n    Step.SELF = 12;\r\n\r\n    Step.STEPNAMES = reduce(function (acc, x) { return acc[x[0]] = x[1], acc; }, {}, [\r\n        [Step.ANCESTOR, 'ancestor'],\r\n        [Step.ANCESTORORSELF, 'ancestor-or-self'],\r\n        [Step.ATTRIBUTE, 'attribute'],\r\n        [Step.CHILD, 'child'],\r\n        [Step.DESCENDANT, 'descendant'],\r\n        [Step.DESCENDANTORSELF, 'descendant-or-self'],\r\n        [Step.FOLLOWING, 'following'],\r\n        [Step.FOLLOWINGSIBLING, 'following-sibling'],\r\n        [Step.NAMESPACE, 'namespace'],\r\n        [Step.PARENT, 'parent'],\r\n        [Step.PRECEDING, 'preceding'],\r\n        [Step.PRECEDINGSIBLING, 'preceding-sibling'],\r\n        [Step.SELF, 'self']\r\n    ]);\r\n\r\n    // NodeTest //////////////////////////////////////////////////////////////////\r\n\r\n    NodeTest.prototype = new Object();\r\n    NodeTest.prototype.constructor = NodeTest;\r\n    NodeTest.superclass = Object.prototype;\r\n\r\n    function NodeTest(type, value) {\r\n        if (arguments.length > 0) {\r\n            this.init(type, value);\r\n        }\r\n    }\r\n\r\n    NodeTest.prototype.init = function (type, value) {\r\n        this.type = type;\r\n        this.value = value;\r\n    };\r\n\r\n    NodeTest.prototype.toString = function () {\r\n        return \"<unknown nodetest type>\";\r\n    };\r\n\r\n    NodeTest.prototype.matches = function (n, xpc) {\r\n        console.warn('unknown node test type');\r\n    };\r\n\r\n    NodeTest.NAMETESTANY = 0;\r\n    NodeTest.NAMETESTPREFIXANY = 1;\r\n    NodeTest.NAMETESTQNAME = 2;\r\n    NodeTest.COMMENT = 3;\r\n    NodeTest.TEXT = 4;\r\n    NodeTest.PI = 5;\r\n    NodeTest.NODE = 6;\r\n\r\n    NodeTest.isNodeType = function (types) {\r\n        return function (node) {\r\n            return includes(types, node.nodeType);\r\n        };\r\n    };\r\n\r\n    NodeTest.makeNodeTestType = function (type, members, ctor) {\r\n        var newType = ctor || function () { };\r\n\r\n        newType.prototype = new NodeTest(type);\r\n        newType.prototype.constructor = newType;\r\n\r\n        assign(newType.prototype, members);\r\n\r\n        return newType;\r\n    };\r\n    // create invariant node test for certain node types\r\n    NodeTest.makeNodeTypeTest = function (type, nodeTypes, stringVal) {\r\n        return new (NodeTest.makeNodeTestType(type, {\r\n            matches: NodeTest.isNodeType(nodeTypes),\r\n            toString: always(stringVal)\r\n        }))();\r\n    };\r\n\r\n    NodeTest.hasPrefix = function (node) {\r\n        return node.prefix || (node.nodeName || node.tagName).indexOf(':') !== -1;\r\n    };\r\n\r\n    NodeTest.isElementOrAttribute = NodeTest.isNodeType([1, 2]);\r\n    NodeTest.nameSpaceMatches = function (prefix, xpc, n) {\r\n        var nNamespace = (n.namespaceURI || '');\r\n\r\n        if (!prefix) {\r\n            return !nNamespace || (xpc.allowAnyNamespaceForNoPrefix && !NodeTest.hasPrefix(n));\r\n        }\r\n\r\n        var ns = xpc.namespaceResolver.getNamespace(prefix, xpc.expressionContextNode);\r\n\r\n        if (ns == null) {\r\n            throw new Error(\"Cannot resolve QName \" + prefix);\r\n        }\r\n\r\n        return ns === nNamespace;\r\n    };\r\n    NodeTest.localNameMatches = function (localName, xpc, n) {\r\n        var nLocalName = (n.localName || n.nodeName);\r\n\r\n        return xpc.caseInsensitive\r\n            ? localName.toLowerCase() === nLocalName.toLowerCase()\r\n            : localName === nLocalName;\r\n    };\r\n\r\n    NodeTest.NameTestPrefixAny = NodeTest.makeNodeTestType(\r\n        NodeTest.NAMETESTPREFIXANY,\r\n        {\r\n            matches: function (n, xpc) {\r\n                return NodeTest.isElementOrAttribute(n) &&\r\n                    NodeTest.nameSpaceMatches(this.prefix, xpc, n);\r\n            },\r\n            toString: function () {\r\n                return this.prefix + \":*\";\r\n            }\r\n        },\r\n        function NameTestPrefixAny(prefix) { this.prefix = prefix; }\r\n    );\r\n\r\n    NodeTest.NameTestQName = NodeTest.makeNodeTestType(\r\n        NodeTest.NAMETESTQNAME,\r\n        {\r\n            matches: function (n, xpc) {\r\n                return NodeTest.isNodeType([1, 2, XPathNamespace.XPATH_NAMESPACE_NODE])(n) &&\r\n                    NodeTest.nameSpaceMatches(this.prefix, xpc, n) &&\r\n                    NodeTest.localNameMatches(this.localName, xpc, n);\r\n            },\r\n            toString: function () {\r\n                return this.name;\r\n            }\r\n        },\r\n        function NameTestQName(name) {\r\n            var nameParts = name.split(':');\r\n\r\n            this.name = name;\r\n            this.prefix = nameParts.length > 1 ? nameParts[0] : null;\r\n            this.localName = nameParts[nameParts.length > 1 ? 1 : 0];\r\n        }\r\n    );\r\n\r\n    NodeTest.PITest = NodeTest.makeNodeTestType(NodeTest.PI, {\r\n        matches: function (n, xpc) {\r\n            return NodeTest.isNodeType([7])(n) && (n.target || n.nodeName) === this.name;\r\n        },\r\n        toString: function () {\r\n            return wrap('processing-instruction(\"', '\")', this.name);\r\n        }\r\n    }, function (name) { this.name = name; })\r\n\r\n    // singletons\r\n\r\n    // elements, attributes, namespaces\r\n    NodeTest.nameTestAny = NodeTest.makeNodeTypeTest(NodeTest.NAMETESTANY, [1, 2, XPathNamespace.XPATH_NAMESPACE_NODE], '*');\r\n    // text, cdata\r\n    NodeTest.textTest = NodeTest.makeNodeTypeTest(NodeTest.TEXT, [3, 4], 'text()');\r\n    NodeTest.commentTest = NodeTest.makeNodeTypeTest(NodeTest.COMMENT, [8], 'comment()');\r\n    // elements, attributes, text, cdata, PIs, comments, document nodes\r\n    NodeTest.nodeTest = NodeTest.makeNodeTypeTest(NodeTest.NODE, [1, 2, 3, 4, 7, 8, 9], 'node()');\r\n    NodeTest.anyPiTest = NodeTest.makeNodeTypeTest(NodeTest.PI, [7], 'processing-instruction()');\r\n\r\n    // VariableReference /////////////////////////////////////////////////////////\r\n\r\n    VariableReference.prototype = new Expression();\r\n    VariableReference.prototype.constructor = VariableReference;\r\n    VariableReference.superclass = Expression.prototype;\r\n\r\n    function VariableReference(v) {\r\n        if (arguments.length > 0) {\r\n            this.init(v);\r\n        }\r\n    }\r\n\r\n    VariableReference.prototype.init = function (v) {\r\n        this.variable = v;\r\n    };\r\n\r\n    VariableReference.prototype.toString = function () {\r\n        return \"$\" + this.variable;\r\n    };\r\n\r\n    VariableReference.prototype.evaluate = function (c) {\r\n        var parts = Utilities.resolveQName(this.variable, c.namespaceResolver, c.contextNode, false);\r\n\r\n        if (parts[0] == null) {\r\n            throw new Error(\"Cannot resolve QName \" + fn);\r\n        }\r\n        var result = c.variableResolver.getVariable(parts[1], parts[0]);\r\n        if (!result) {\r\n            throw XPathException.fromMessage(\"Undeclared variable: \" + this.toString());\r\n        }\r\n        return result;\r\n    };\r\n\r\n    // FunctionCall //////////////////////////////////////////////////////////////\r\n\r\n    FunctionCall.prototype = new Expression();\r\n    FunctionCall.prototype.constructor = FunctionCall;\r\n    FunctionCall.superclass = Expression.prototype;\r\n\r\n    function FunctionCall(fn, args) {\r\n        if (arguments.length > 0) {\r\n            this.init(fn, args);\r\n        }\r\n    }\r\n\r\n    FunctionCall.prototype.init = function (fn, args) {\r\n        this.functionName = fn;\r\n        this.arguments = args;\r\n    };\r\n\r\n    FunctionCall.prototype.toString = function () {\r\n        var s = this.functionName + \"(\";\r\n        for (var i = 0; i < this.arguments.length; i++) {\r\n            if (i > 0) {\r\n                s += \", \";\r\n            }\r\n            s += this.arguments[i].toString();\r\n        }\r\n        return s + \")\";\r\n    };\r\n\r\n    FunctionCall.prototype.evaluate = function (c) {\r\n        var f = FunctionResolver.getFunctionFromContext(this.functionName, c);\r\n\r\n        if (!f) {\r\n            throw new Error(\"Unknown function \" + this.functionName);\r\n        }\r\n\r\n        var a = [c].concat(this.arguments);\r\n        return f.apply(c.functionResolver.thisArg, a);\r\n    };\r\n\r\n    // Operators /////////////////////////////////////////////////////////////////\r\n\r\n    var Operators = new Object();\r\n\r\n    Operators.equals = function (l, r) {\r\n        return l.equals(r);\r\n    };\r\n\r\n    Operators.notequal = function (l, r) {\r\n        return l.notequal(r);\r\n    };\r\n\r\n    Operators.lessthan = function (l, r) {\r\n        return l.lessthan(r);\r\n    };\r\n\r\n    Operators.greaterthan = function (l, r) {\r\n        return l.greaterthan(r);\r\n    };\r\n\r\n    Operators.lessthanorequal = function (l, r) {\r\n        return l.lessthanorequal(r);\r\n    };\r\n\r\n    Operators.greaterthanorequal = function (l, r) {\r\n        return l.greaterthanorequal(r);\r\n    };\r\n\r\n    // XString ///////////////////////////////////////////////////////////////////\r\n\r\n    XString.prototype = new Expression();\r\n    XString.prototype.constructor = XString;\r\n    XString.superclass = Expression.prototype;\r\n\r\n    function XString(s) {\r\n        if (arguments.length > 0) {\r\n            this.init(s);\r\n        }\r\n    }\r\n\r\n    XString.prototype.init = function (s) {\r\n        this.str = String(s);\r\n    };\r\n\r\n    XString.prototype.toString = function () {\r\n        return this.str;\r\n    };\r\n\r\n    XString.prototype.evaluate = function (c) {\r\n        return this;\r\n    };\r\n\r\n    XString.prototype.string = function () {\r\n        return this;\r\n    };\r\n\r\n    XString.prototype.number = function () {\r\n        return new XNumber(this.str);\r\n    };\r\n\r\n    XString.prototype.bool = function () {\r\n        return new XBoolean(this.str);\r\n    };\r\n\r\n    XString.prototype.nodeset = function () {\r\n        throw new Error(\"Cannot convert string to nodeset\");\r\n    };\r\n\r\n    XString.prototype.stringValue = function () {\r\n        return this.str;\r\n    };\r\n\r\n    XString.prototype.numberValue = function () {\r\n        return this.number().numberValue();\r\n    };\r\n\r\n    XString.prototype.booleanValue = function () {\r\n        return this.bool().booleanValue();\r\n    };\r\n\r\n    XString.prototype.equals = function (r) {\r\n        if (Utilities.instance_of(r, XBoolean)) {\r\n            return this.bool().equals(r);\r\n        }\r\n        if (Utilities.instance_of(r, XNumber)) {\r\n            return this.number().equals(r);\r\n        }\r\n        if (Utilities.instance_of(r, XNodeSet)) {\r\n            return r.compareWithString(this, Operators.equals);\r\n        }\r\n        return new XBoolean(this.str == r.str);\r\n    };\r\n\r\n    XString.prototype.notequal = function (r) {\r\n        if (Utilities.instance_of(r, XBoolean)) {\r\n            return this.bool().notequal(r);\r\n        }\r\n        if (Utilities.instance_of(r, XNumber)) {\r\n            return this.number().notequal(r);\r\n        }\r\n        if (Utilities.instance_of(r, XNodeSet)) {\r\n            return r.compareWithString(this, Operators.notequal);\r\n        }\r\n        return new XBoolean(this.str != r.str);\r\n    };\r\n\r\n    XString.prototype.lessthan = function (r) {\r\n        return this.number().lessthan(r);\r\n    };\r\n\r\n    XString.prototype.greaterthan = function (r) {\r\n        return this.number().greaterthan(r);\r\n    };\r\n\r\n    XString.prototype.lessthanorequal = function (r) {\r\n        return this.number().lessthanorequal(r);\r\n    };\r\n\r\n    XString.prototype.greaterthanorequal = function (r) {\r\n        return this.number().greaterthanorequal(r);\r\n    };\r\n\r\n    // XNumber ///////////////////////////////////////////////////////////////////\r\n\r\n    XNumber.prototype = new Expression();\r\n    XNumber.prototype.constructor = XNumber;\r\n    XNumber.superclass = Expression.prototype;\r\n\r\n    function XNumber(n) {\r\n        if (arguments.length > 0) {\r\n            this.init(n);\r\n        }\r\n    }\r\n\r\n    XNumber.prototype.init = function (n) {\r\n        this.num = typeof n === \"string\" ? this.parse(n) : Number(n);\r\n    };\r\n\r\n    XNumber.prototype.numberFormat = /^\\s*-?[0-9]*\\.?[0-9]+\\s*$/;\r\n\r\n    XNumber.prototype.parse = function (s) {\r\n        // XPath representation of numbers is more restrictive than what Number() or parseFloat() allow\r\n        return this.numberFormat.test(s) ? parseFloat(s) : Number.NaN;\r\n    };\r\n\r\n    function padSmallNumber(numberStr) {\r\n        var parts = numberStr.split('e-');\r\n        var base = parts[0].replace('.', '');\r\n        var exponent = Number(parts[1]);\r\n\r\n        for (var i = 0; i < exponent - 1; i += 1) {\r\n            base = '0' + base;\r\n        }\r\n\r\n        return '0.' + base;\r\n    }\r\n\r\n    function padLargeNumber(numberStr) {\r\n        var parts = numberStr.split('e');\r\n        var base = parts[0].replace('.', '');\r\n        var exponent = Number(parts[1]);\r\n        var zerosToAppend = exponent + 1 - base.length;\r\n\r\n        for (var i = 0; i < zerosToAppend; i += 1) {\r\n            base += '0';\r\n        }\r\n\r\n        return base;\r\n    }\r\n\r\n    XNumber.prototype.toString = function () {\r\n        var strValue = this.num.toString();\r\n\r\n        if (strValue.indexOf('e-') !== -1) {\r\n            return padSmallNumber(strValue);\r\n        }\r\n\r\n        if (strValue.indexOf('e') !== -1) {\r\n            return padLargeNumber(strValue);\r\n        }\r\n\r\n        return strValue;\r\n    };\r\n\r\n    XNumber.prototype.evaluate = function (c) {\r\n        return this;\r\n    };\r\n\r\n    XNumber.prototype.string = function () {\r\n\r\n\r\n        return new XString(this.toString());\r\n    };\r\n\r\n    XNumber.prototype.number = function () {\r\n        return this;\r\n    };\r\n\r\n    XNumber.prototype.bool = function () {\r\n        return new XBoolean(this.num);\r\n    };\r\n\r\n    XNumber.prototype.nodeset = function () {\r\n        throw new Error(\"Cannot convert number to nodeset\");\r\n    };\r\n\r\n    XNumber.prototype.stringValue = function () {\r\n        return this.string().stringValue();\r\n    };\r\n\r\n    XNumber.prototype.numberValue = function () {\r\n        return this.num;\r\n    };\r\n\r\n    XNumber.prototype.booleanValue = function () {\r\n        return this.bool().booleanValue();\r\n    };\r\n\r\n    XNumber.prototype.negate = function () {\r\n        return new XNumber(-this.num);\r\n    };\r\n\r\n    XNumber.prototype.equals = function (r) {\r\n        if (Utilities.instance_of(r, XBoolean)) {\r\n            return this.bool().equals(r);\r\n        }\r\n        if (Utilities.instance_of(r, XString)) {\r\n            return this.equals(r.number());\r\n        }\r\n        if (Utilities.instance_of(r, XNodeSet)) {\r\n            return r.compareWithNumber(this, Operators.equals);\r\n        }\r\n        return new XBoolean(this.num == r.num);\r\n    };\r\n\r\n    XNumber.prototype.notequal = function (r) {\r\n        if (Utilities.instance_of(r, XBoolean)) {\r\n            return this.bool().notequal(r);\r\n        }\r\n        if (Utilities.instance_of(r, XString)) {\r\n            return this.notequal(r.number());\r\n        }\r\n        if (Utilities.instance_of(r, XNodeSet)) {\r\n            return r.compareWithNumber(this, Operators.notequal);\r\n        }\r\n        return new XBoolean(this.num != r.num);\r\n    };\r\n\r\n    XNumber.prototype.lessthan = function (r) {\r\n        if (Utilities.instance_of(r, XNodeSet)) {\r\n            return r.compareWithNumber(this, Operators.greaterthan);\r\n        }\r\n        if (Utilities.instance_of(r, XBoolean) || Utilities.instance_of(r, XString)) {\r\n            return this.lessthan(r.number());\r\n        }\r\n        return new XBoolean(this.num < r.num);\r\n    };\r\n\r\n    XNumber.prototype.greaterthan = function (r) {\r\n        if (Utilities.instance_of(r, XNodeSet)) {\r\n            return r.compareWithNumber(this, Operators.lessthan);\r\n        }\r\n        if (Utilities.instance_of(r, XBoolean) || Utilities.instance_of(r, XString)) {\r\n            return this.greaterthan(r.number());\r\n        }\r\n        return new XBoolean(this.num > r.num);\r\n    };\r\n\r\n    XNumber.prototype.lessthanorequal = function (r) {\r\n        if (Utilities.instance_of(r, XNodeSet)) {\r\n            return r.compareWithNumber(this, Operators.greaterthanorequal);\r\n        }\r\n        if (Utilities.instance_of(r, XBoolean) || Utilities.instance_of(r, XString)) {\r\n            return this.lessthanorequal(r.number());\r\n        }\r\n        return new XBoolean(this.num <= r.num);\r\n    };\r\n\r\n    XNumber.prototype.greaterthanorequal = function (r) {\r\n        if (Utilities.instance_of(r, XNodeSet)) {\r\n            return r.compareWithNumber(this, Operators.lessthanorequal);\r\n        }\r\n        if (Utilities.instance_of(r, XBoolean) || Utilities.instance_of(r, XString)) {\r\n            return this.greaterthanorequal(r.number());\r\n        }\r\n        return new XBoolean(this.num >= r.num);\r\n    };\r\n\r\n    XNumber.prototype.plus = function (r) {\r\n        return new XNumber(this.num + r.num);\r\n    };\r\n\r\n    XNumber.prototype.minus = function (r) {\r\n        return new XNumber(this.num - r.num);\r\n    };\r\n\r\n    XNumber.prototype.multiply = function (r) {\r\n        return new XNumber(this.num * r.num);\r\n    };\r\n\r\n    XNumber.prototype.div = function (r) {\r\n        return new XNumber(this.num / r.num);\r\n    };\r\n\r\n    XNumber.prototype.mod = function (r) {\r\n        return new XNumber(this.num % r.num);\r\n    };\r\n\r\n    // XBoolean //////////////////////////////////////////////////////////////////\r\n\r\n    XBoolean.prototype = new Expression();\r\n    XBoolean.prototype.constructor = XBoolean;\r\n    XBoolean.superclass = Expression.prototype;\r\n\r\n    function XBoolean(b) {\r\n        if (arguments.length > 0) {\r\n            this.init(b);\r\n        }\r\n    }\r\n\r\n    XBoolean.prototype.init = function (b) {\r\n        this.b = Boolean(b);\r\n    };\r\n\r\n    XBoolean.prototype.toString = function () {\r\n        return this.b.toString();\r\n    };\r\n\r\n    XBoolean.prototype.evaluate = function (c) {\r\n        return this;\r\n    };\r\n\r\n    XBoolean.prototype.string = function () {\r\n        return new XString(this.b);\r\n    };\r\n\r\n    XBoolean.prototype.number = function () {\r\n        return new XNumber(this.b);\r\n    };\r\n\r\n    XBoolean.prototype.bool = function () {\r\n        return this;\r\n    };\r\n\r\n    XBoolean.prototype.nodeset = function () {\r\n        throw new Error(\"Cannot convert boolean to nodeset\");\r\n    };\r\n\r\n    XBoolean.prototype.stringValue = function () {\r\n        return this.string().stringValue();\r\n    };\r\n\r\n    XBoolean.prototype.numberValue = function () {\r\n        return this.number().numberValue();\r\n    };\r\n\r\n    XBoolean.prototype.booleanValue = function () {\r\n        return this.b;\r\n    };\r\n\r\n    XBoolean.prototype.not = function () {\r\n        return new XBoolean(!this.b);\r\n    };\r\n\r\n    XBoolean.prototype.equals = function (r) {\r\n        if (Utilities.instance_of(r, XString) || Utilities.instance_of(r, XNumber)) {\r\n            return this.equals(r.bool());\r\n        }\r\n        if (Utilities.instance_of(r, XNodeSet)) {\r\n            return r.compareWithBoolean(this, Operators.equals);\r\n        }\r\n        return new XBoolean(this.b == r.b);\r\n    };\r\n\r\n    XBoolean.prototype.notequal = function (r) {\r\n        if (Utilities.instance_of(r, XString) || Utilities.instance_of(r, XNumber)) {\r\n            return this.notequal(r.bool());\r\n        }\r\n        if (Utilities.instance_of(r, XNodeSet)) {\r\n            return r.compareWithBoolean(this, Operators.notequal);\r\n        }\r\n        return new XBoolean(this.b != r.b);\r\n    };\r\n\r\n    XBoolean.prototype.lessthan = function (r) {\r\n        return this.number().lessthan(r);\r\n    };\r\n\r\n    XBoolean.prototype.greaterthan = function (r) {\r\n        return this.number().greaterthan(r);\r\n    };\r\n\r\n    XBoolean.prototype.lessthanorequal = function (r) {\r\n        return this.number().lessthanorequal(r);\r\n    };\r\n\r\n    XBoolean.prototype.greaterthanorequal = function (r) {\r\n        return this.number().greaterthanorequal(r);\r\n    };\r\n\r\n    XBoolean.true_ = new XBoolean(true);\r\n    XBoolean.false_ = new XBoolean(false);\r\n\r\n    // AVLTree ///////////////////////////////////////////////////////////////////\r\n\r\n    AVLTree.prototype = new Object();\r\n    AVLTree.prototype.constructor = AVLTree;\r\n    AVLTree.superclass = Object.prototype;\r\n\r\n    function AVLTree(n) {\r\n        this.init(n);\r\n    }\r\n\r\n    AVLTree.prototype.init = function (n) {\r\n        this.left = null;\r\n        this.right = null;\r\n        this.node = n;\r\n        this.depth = 1;\r\n    };\r\n\r\n    AVLTree.prototype.balance = function () {\r\n        var ldepth = this.left == null ? 0 : this.left.depth;\r\n        var rdepth = this.right == null ? 0 : this.right.depth;\r\n\r\n        if (ldepth > rdepth + 1) {\r\n            // LR or LL rotation\r\n            var lldepth = this.left.left == null ? 0 : this.left.left.depth;\r\n            var lrdepth = this.left.right == null ? 0 : this.left.right.depth;\r\n\r\n            if (lldepth < lrdepth) {\r\n                // LR rotation consists of a RR rotation of the left child\r\n                this.left.rotateRR();\r\n                // plus a LL rotation of this node, which happens anyway\r\n            }\r\n            this.rotateLL();\r\n        } else if (ldepth + 1 < rdepth) {\r\n            // RR or RL rorarion\r\n            var rrdepth = this.right.right == null ? 0 : this.right.right.depth;\r\n            var rldepth = this.right.left == null ? 0 : this.right.left.depth;\r\n\r\n            if (rldepth > rrdepth) {\r\n                // RR rotation consists of a LL rotation of the right child\r\n                this.right.rotateLL();\r\n                // plus a RR rotation of this node, which happens anyway\r\n            }\r\n            this.rotateRR();\r\n        }\r\n    };\r\n\r\n    AVLTree.prototype.rotateLL = function () {\r\n        // the left side is too long => rotate from the left (_not_ leftwards)\r\n        var nodeBefore = this.node;\r\n        var rightBefore = this.right;\r\n        this.node = this.left.node;\r\n        this.right = this.left;\r\n        this.left = this.left.left;\r\n        this.right.left = this.right.right;\r\n        this.right.right = rightBefore;\r\n        this.right.node = nodeBefore;\r\n        this.right.updateInNewLocation();\r\n        this.updateInNewLocation();\r\n    };\r\n\r\n    AVLTree.prototype.rotateRR = function () {\r\n        // the right side is too long => rotate from the right (_not_ rightwards)\r\n        var nodeBefore = this.node;\r\n        var leftBefore = this.left;\r\n        this.node = this.right.node;\r\n        this.left = this.right;\r\n        this.right = this.right.right;\r\n        this.left.right = this.left.left;\r\n        this.left.left = leftBefore;\r\n        this.left.node = nodeBefore;\r\n        this.left.updateInNewLocation();\r\n        this.updateInNewLocation();\r\n    };\r\n\r\n    AVLTree.prototype.updateInNewLocation = function () {\r\n        this.getDepthFromChildren();\r\n    };\r\n\r\n    AVLTree.prototype.getDepthFromChildren = function () {\r\n        this.depth = this.node == null ? 0 : 1;\r\n        if (this.left != null) {\r\n            this.depth = this.left.depth + 1;\r\n        }\r\n        if (this.right != null && this.depth <= this.right.depth) {\r\n            this.depth = this.right.depth + 1;\r\n        }\r\n    };\r\n\r\n    function nodeOrder(n1, n2) {\r\n        if (n1 === n2) {\r\n            return 0;\r\n        }\r\n\r\n        if (n1.compareDocumentPosition) {\r\n            var cpos = n1.compareDocumentPosition(n2);\r\n\r\n            if (cpos & 0x01) {\r\n                // not in the same document; return an arbitrary result (is there a better way to do this)\r\n                return 1;\r\n            }\r\n            if (cpos & 0x0A) {\r\n                // n2 precedes or contains n1\r\n                return 1;\r\n            }\r\n            if (cpos & 0x14) {\r\n                // n2 follows or is contained by n1\r\n                return -1;\r\n            }\r\n\r\n            return 0;\r\n        }\r\n\r\n        var d1 = 0,\r\n            d2 = 0;\r\n        for (var m1 = n1; m1 != null; m1 = m1.parentNode || m1.ownerElement) {\r\n            d1++;\r\n        }\r\n        for (var m2 = n2; m2 != null; m2 = m2.parentNode || m2.ownerElement) {\r\n            d2++;\r\n        }\r\n\r\n        // step up to same depth\r\n        if (d1 > d2) {\r\n            while (d1 > d2) {\r\n                n1 = n1.parentNode || n1.ownerElement;\r\n                d1--;\r\n            }\r\n            if (n1 === n2) {\r\n                return 1;\r\n            }\r\n        } else if (d2 > d1) {\r\n            while (d2 > d1) {\r\n                n2 = n2.parentNode || n2.ownerElement;\r\n                d2--;\r\n            }\r\n            if (n1 === n2) {\r\n                return -1;\r\n            }\r\n        }\r\n\r\n        var n1Par = n1.parentNode || n1.ownerElement,\r\n            n2Par = n2.parentNode || n2.ownerElement;\r\n\r\n        // find common parent\r\n        while (n1Par !== n2Par) {\r\n            n1 = n1Par;\r\n            n2 = n2Par;\r\n            n1Par = n1.parentNode || n1.ownerElement;\r\n            n2Par = n2.parentNode || n2.ownerElement;\r\n        }\r\n\r\n        var n1isAttr = Utilities.isAttribute(n1);\r\n        var n2isAttr = Utilities.isAttribute(n2);\r\n\r\n        if (n1isAttr && !n2isAttr) {\r\n            return -1;\r\n        }\r\n        if (!n1isAttr && n2isAttr) {\r\n            return 1;\r\n        }\r\n\r\n        if (n1Par) {\r\n            var cn = n1isAttr ? n1Par.attributes : n1Par.childNodes,\r\n                len = cn.length;\r\n            for (var i = 0; i < len; i += 1) {\r\n                var n = cn[i];\r\n                if (n === n1) {\r\n                    return -1;\r\n                }\r\n                if (n === n2) {\r\n                    return 1;\r\n                }\r\n            }\r\n        }\r\n\r\n        throw new Error('Unexpected: could not determine node order');\r\n    }\r\n\r\n    AVLTree.prototype.add = function (n) {\r\n        if (n === this.node) {\r\n            return false;\r\n        }\r\n\r\n        var o = nodeOrder(n, this.node);\r\n\r\n        var ret = false;\r\n        if (o == -1) {\r\n            if (this.left == null) {\r\n                this.left = new AVLTree(n);\r\n                ret = true;\r\n            } else {\r\n                ret = this.left.add(n);\r\n                if (ret) {\r\n                    this.balance();\r\n                }\r\n            }\r\n        } else if (o == 1) {\r\n            if (this.right == null) {\r\n                this.right = new AVLTree(n);\r\n                ret = true;\r\n            } else {\r\n                ret = this.right.add(n);\r\n                if (ret) {\r\n                    this.balance();\r\n                }\r\n            }\r\n        }\r\n\r\n        if (ret) {\r\n            this.getDepthFromChildren();\r\n        }\r\n        return ret;\r\n    };\r\n\r\n    // XNodeSet //////////////////////////////////////////////////////////////////\r\n\r\n    XNodeSet.prototype = new Expression();\r\n    XNodeSet.prototype.constructor = XNodeSet;\r\n    XNodeSet.superclass = Expression.prototype;\r\n\r\n    function XNodeSet() {\r\n        this.init();\r\n    }\r\n\r\n    XNodeSet.prototype.init = function () {\r\n        this.tree = null;\r\n        this.nodes = [];\r\n        this.size = 0;\r\n    };\r\n\r\n    XNodeSet.prototype.toString = function () {\r\n        var p = this.first();\r\n        if (p == null) {\r\n            return \"\";\r\n        }\r\n        return this.stringForNode(p);\r\n    };\r\n\r\n    XNodeSet.prototype.evaluate = function (c) {\r\n        return this;\r\n    };\r\n\r\n    XNodeSet.prototype.string = function () {\r\n        return new XString(this.toString());\r\n    };\r\n\r\n    XNodeSet.prototype.stringValue = function () {\r\n        return this.toString();\r\n    };\r\n\r\n    XNodeSet.prototype.number = function () {\r\n        return new XNumber(this.string());\r\n    };\r\n\r\n    XNodeSet.prototype.numberValue = function () {\r\n        return Number(this.string());\r\n    };\r\n\r\n    XNodeSet.prototype.bool = function () {\r\n        return new XBoolean(this.booleanValue());\r\n    };\r\n\r\n    XNodeSet.prototype.booleanValue = function () {\r\n        return !!this.size;\r\n    };\r\n\r\n    XNodeSet.prototype.nodeset = function () {\r\n        return this;\r\n    };\r\n\r\n    XNodeSet.prototype.stringForNode = function (n) {\r\n        if (n.nodeType == 9   /*Node.DOCUMENT_NODE*/ ||\r\n            n.nodeType == 1   /*Node.ELEMENT_NODE */ ||\r\n            n.nodeType === 11 /*Node.DOCUMENT_FRAGMENT*/) {\r\n            return this.stringForContainerNode(n);\r\n        }\r\n        if (n.nodeType === 2 /* Node.ATTRIBUTE_NODE */) {\r\n            return n.value || n.nodeValue;\r\n        }\r\n        if (n.isNamespaceNode) {\r\n            return n.namespace;\r\n        }\r\n        return n.nodeValue;\r\n    };\r\n\r\n    XNodeSet.prototype.stringForContainerNode = function (n) {\r\n        var s = \"\";\r\n        for (var n2 = n.firstChild; n2 != null; n2 = n2.nextSibling) {\r\n            var nt = n2.nodeType;\r\n            //  Element,    Text,       CDATA,      Document,   Document Fragment\r\n            if (nt === 1 || nt === 3 || nt === 4 || nt === 9 || nt === 11) {\r\n                s += this.stringForNode(n2);\r\n            }\r\n        }\r\n        return s;\r\n    };\r\n\r\n    XNodeSet.prototype.buildTree = function () {\r\n        if (!this.tree && this.nodes.length) {\r\n            this.tree = new AVLTree(this.nodes[0]);\r\n            for (var i = 1; i < this.nodes.length; i += 1) {\r\n                this.tree.add(this.nodes[i]);\r\n            }\r\n        }\r\n\r\n        return this.tree;\r\n    };\r\n\r\n    XNodeSet.prototype.first = function () {\r\n        var p = this.buildTree();\r\n        if (p == null) {\r\n            return null;\r\n        }\r\n        while (p.left != null) {\r\n            p = p.left;\r\n        }\r\n        return p.node;\r\n    };\r\n\r\n    XNodeSet.prototype.add = function (n) {\r\n        for (var i = 0; i < this.nodes.length; i += 1) {\r\n            if (n === this.nodes[i]) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        this.tree = null;\r\n        this.nodes.push(n);\r\n        this.size += 1;\r\n    };\r\n\r\n    XNodeSet.prototype.addArray = function (ns) {\r\n        var self = this;\r\n\r\n        forEach(function (x) { self.add(x); }, ns);\r\n    };\r\n\r\n    /**\r\n     * Returns an array of the node set's contents in document order\r\n     */\r\n    XNodeSet.prototype.toArray = function () {\r\n        var a = [];\r\n        this.toArrayRec(this.buildTree(), a);\r\n        return a;\r\n    };\r\n\r\n    XNodeSet.prototype.toArrayRec = function (t, a) {\r\n        if (t != null) {\r\n            this.toArrayRec(t.left, a);\r\n            a.push(t.node);\r\n            this.toArrayRec(t.right, a);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Returns an array of the node set's contents in arbitrary order\r\n     */\r\n    XNodeSet.prototype.toUnsortedArray = function () {\r\n        return this.nodes.slice();\r\n    };\r\n\r\n    XNodeSet.prototype.compareWithString = function (r, o) {\r\n        var a = this.toUnsortedArray();\r\n        for (var i = 0; i < a.length; i++) {\r\n            var n = a[i];\r\n            var l = new XString(this.stringForNode(n));\r\n            var res = o(l, r);\r\n            if (res.booleanValue()) {\r\n                return res;\r\n            }\r\n        }\r\n        return new XBoolean(false);\r\n    };\r\n\r\n    XNodeSet.prototype.compareWithNumber = function (r, o) {\r\n        var a = this.toUnsortedArray();\r\n        for (var i = 0; i < a.length; i++) {\r\n            var n = a[i];\r\n            var l = new XNumber(this.stringForNode(n));\r\n            var res = o(l, r);\r\n            if (res.booleanValue()) {\r\n                return res;\r\n            }\r\n        }\r\n        return new XBoolean(false);\r\n    };\r\n\r\n    XNodeSet.prototype.compareWithBoolean = function (r, o) {\r\n        return o(this.bool(), r);\r\n    };\r\n\r\n    XNodeSet.prototype.compareWithNodeSet = function (r, o) {\r\n        var arr = this.toUnsortedArray();\r\n        var oInvert = function (lop, rop) { return o(rop, lop); };\r\n\r\n        for (var i = 0; i < arr.length; i++) {\r\n            var l = new XString(this.stringForNode(arr[i]));\r\n\r\n            var res = r.compareWithString(l, oInvert);\r\n            if (res.booleanValue()) {\r\n                return res;\r\n            }\r\n        }\r\n\r\n        return new XBoolean(false);\r\n    };\r\n\r\n    XNodeSet.compareWith = curry(function (o, r) {\r\n        if (Utilities.instance_of(r, XString)) {\r\n            return this.compareWithString(r, o);\r\n        }\r\n        if (Utilities.instance_of(r, XNumber)) {\r\n            return this.compareWithNumber(r, o);\r\n        }\r\n        if (Utilities.instance_of(r, XBoolean)) {\r\n            return this.compareWithBoolean(r, o);\r\n        }\r\n        return this.compareWithNodeSet(r, o);\r\n    });\r\n\r\n    XNodeSet.prototype.equals = XNodeSet.compareWith(Operators.equals);\r\n    XNodeSet.prototype.notequal = XNodeSet.compareWith(Operators.notequal);\r\n    XNodeSet.prototype.lessthan = XNodeSet.compareWith(Operators.lessthan);\r\n    XNodeSet.prototype.greaterthan = XNodeSet.compareWith(Operators.greaterthan);\r\n    XNodeSet.prototype.lessthanorequal = XNodeSet.compareWith(Operators.lessthanorequal);\r\n    XNodeSet.prototype.greaterthanorequal = XNodeSet.compareWith(Operators.greaterthanorequal);\r\n\r\n    XNodeSet.prototype.union = function (r) {\r\n        var ns = new XNodeSet();\r\n        ns.addArray(this.toUnsortedArray());\r\n        ns.addArray(r.toUnsortedArray());\r\n        return ns;\r\n    };\r\n\r\n    // XPathNamespace ////////////////////////////////////////////////////////////\r\n\r\n    XPathNamespace.prototype = new Object();\r\n    XPathNamespace.prototype.constructor = XPathNamespace;\r\n    XPathNamespace.superclass = Object.prototype;\r\n\r\n    function XPathNamespace(pre, ns, p) {\r\n        this.isXPathNamespace = true;\r\n        this.ownerDocument = p.ownerDocument;\r\n        this.nodeName = \"#namespace\";\r\n        this.prefix = pre;\r\n        this.localName = pre;\r\n        this.namespaceURI = ns;\r\n        this.nodeValue = ns;\r\n        this.ownerElement = p;\r\n        this.nodeType = XPathNamespace.XPATH_NAMESPACE_NODE;\r\n    }\r\n\r\n    XPathNamespace.prototype.toString = function () {\r\n        return \"{ \\\"\" + this.prefix + \"\\\", \\\"\" + this.namespaceURI + \"\\\" }\";\r\n    };\r\n\r\n    // XPathContext //////////////////////////////////////////////////////////////\r\n\r\n    XPathContext.prototype = new Object();\r\n    XPathContext.prototype.constructor = XPathContext;\r\n    XPathContext.superclass = Object.prototype;\r\n\r\n    function XPathContext(vr, nr, fr) {\r\n        this.variableResolver = vr != null ? vr : new VariableResolver();\r\n        this.namespaceResolver = nr != null ? nr : new NamespaceResolver();\r\n        this.functionResolver = fr != null ? fr : new FunctionResolver();\r\n    }\r\n\r\n    XPathContext.prototype.extend = function (newProps) {\r\n        return assign(new XPathContext(), this, newProps);\r\n    };\r\n\r\n    // VariableResolver //////////////////////////////////////////////////////////\r\n\r\n    VariableResolver.prototype = new Object();\r\n    VariableResolver.prototype.constructor = VariableResolver;\r\n    VariableResolver.superclass = Object.prototype;\r\n\r\n    function VariableResolver() {\r\n    }\r\n\r\n    VariableResolver.prototype.getVariable = function (ln, ns) {\r\n        return null;\r\n    };\r\n\r\n    // FunctionResolver //////////////////////////////////////////////////////////\r\n\r\n    FunctionResolver.prototype = new Object();\r\n    FunctionResolver.prototype.constructor = FunctionResolver;\r\n    FunctionResolver.superclass = Object.prototype;\r\n\r\n    function FunctionResolver(thisArg) {\r\n        this.thisArg = thisArg != null ? thisArg : Functions;\r\n        this.functions = new Object();\r\n        this.addStandardFunctions();\r\n    }\r\n\r\n    FunctionResolver.prototype.addStandardFunctions = function () {\r\n        this.functions[\"{}last\"] = Functions.last;\r\n        this.functions[\"{}position\"] = Functions.position;\r\n        this.functions[\"{}count\"] = Functions.count;\r\n        this.functions[\"{}id\"] = Functions.id;\r\n        this.functions[\"{}local-name\"] = Functions.localName;\r\n        this.functions[\"{}namespace-uri\"] = Functions.namespaceURI;\r\n        this.functions[\"{}name\"] = Functions.name;\r\n        this.functions[\"{}string\"] = Functions.string;\r\n        this.functions[\"{}concat\"] = Functions.concat;\r\n        this.functions[\"{}starts-with\"] = Functions.startsWith;\r\n        this.functions[\"{}contains\"] = Functions.contains;\r\n        this.functions[\"{}substring-before\"] = Functions.substringBefore;\r\n        this.functions[\"{}substring-after\"] = Functions.substringAfter;\r\n        this.functions[\"{}substring\"] = Functions.substring;\r\n        this.functions[\"{}string-length\"] = Functions.stringLength;\r\n        this.functions[\"{}normalize-space\"] = Functions.normalizeSpace;\r\n        this.functions[\"{}translate\"] = Functions.translate;\r\n        this.functions[\"{}boolean\"] = Functions.boolean_;\r\n        this.functions[\"{}not\"] = Functions.not;\r\n        this.functions[\"{}true\"] = Functions.true_;\r\n        this.functions[\"{}false\"] = Functions.false_;\r\n        this.functions[\"{}lang\"] = Functions.lang;\r\n        this.functions[\"{}number\"] = Functions.number;\r\n        this.functions[\"{}sum\"] = Functions.sum;\r\n        this.functions[\"{}floor\"] = Functions.floor;\r\n        this.functions[\"{}ceiling\"] = Functions.ceiling;\r\n        this.functions[\"{}round\"] = Functions.round;\r\n    };\r\n\r\n    FunctionResolver.prototype.addFunction = function (ns, ln, f) {\r\n        this.functions[\"{\" + ns + \"}\" + ln] = f;\r\n    };\r\n\r\n    FunctionResolver.getFunctionFromContext = function (qName, context) {\r\n        var parts = Utilities.resolveQName(qName, context.namespaceResolver, context.contextNode, false);\r\n\r\n        if (parts[0] === null) {\r\n            throw new Error(\"Cannot resolve QName \" + name);\r\n        }\r\n\r\n        return context.functionResolver.getFunction(parts[1], parts[0]);\r\n    };\r\n\r\n    FunctionResolver.prototype.getFunction = function (localName, namespace) {\r\n        return this.functions[\"{\" + namespace + \"}\" + localName];\r\n    };\r\n\r\n    // NamespaceResolver /////////////////////////////////////////////////////////\r\n\r\n    NamespaceResolver.prototype = new Object();\r\n    NamespaceResolver.prototype.constructor = NamespaceResolver;\r\n    NamespaceResolver.superclass = Object.prototype;\r\n\r\n    function NamespaceResolver() {\r\n    }\r\n\r\n    NamespaceResolver.prototype.getNamespace = function (prefix, n) {\r\n        if (prefix == \"xml\") {\r\n            return XPath.XML_NAMESPACE_URI;\r\n        } else if (prefix == \"xmlns\") {\r\n            return XPath.XMLNS_NAMESPACE_URI;\r\n        }\r\n        if (n.nodeType == 9 /*Node.DOCUMENT_NODE*/) {\r\n            n = n.documentElement;\r\n        } else if (n.nodeType == 2 /*Node.ATTRIBUTE_NODE*/) {\r\n            n = PathExpr.getOwnerElement(n);\r\n        } else if (n.nodeType != 1 /*Node.ELEMENT_NODE*/) {\r\n            n = n.parentNode;\r\n        }\r\n        while (n != null && n.nodeType == 1 /*Node.ELEMENT_NODE*/) {\r\n            var nnm = n.attributes;\r\n            for (var i = 0; i < nnm.length; i++) {\r\n                var a = nnm.item(i);\r\n                var aname = a.name || a.nodeName;\r\n                if ((aname === \"xmlns\" && prefix === \"\")\r\n                    || aname === \"xmlns:\" + prefix) {\r\n                    return String(a.value || a.nodeValue);\r\n                }\r\n            }\r\n            n = n.parentNode;\r\n        }\r\n        return null;\r\n    };\r\n\r\n    // Functions /////////////////////////////////////////////////////////////////\r\n\r\n    var Functions = new Object();\r\n\r\n    Functions.last = function (c) {\r\n        if (arguments.length != 1) {\r\n            throw new Error(\"Function last expects ()\");\r\n        }\r\n\r\n        return new XNumber(c.contextSize);\r\n    };\r\n\r\n    Functions.position = function (c) {\r\n        if (arguments.length != 1) {\r\n            throw new Error(\"Function position expects ()\");\r\n        }\r\n\r\n        return new XNumber(c.contextPosition);\r\n    };\r\n\r\n    Functions.count = function () {\r\n        var c = arguments[0];\r\n        var ns;\r\n        if (arguments.length != 2 || !Utilities.instance_of(ns = arguments[1].evaluate(c), XNodeSet)) {\r\n            throw new Error(\"Function count expects (node-set)\");\r\n        }\r\n        return new XNumber(ns.size);\r\n    };\r\n\r\n    Functions.id = function () {\r\n        var c = arguments[0];\r\n        var id;\r\n        if (arguments.length != 2) {\r\n            throw new Error(\"Function id expects (object)\");\r\n        }\r\n        id = arguments[1].evaluate(c);\r\n        if (Utilities.instance_of(id, XNodeSet)) {\r\n            id = id.toArray().join(\" \");\r\n        } else {\r\n            id = id.stringValue();\r\n        }\r\n        var ids = id.split(/[\\x0d\\x0a\\x09\\x20]+/);\r\n        var count = 0;\r\n        var ns = new XNodeSet();\r\n        var doc = c.contextNode.nodeType == 9 /*Node.DOCUMENT_NODE*/\r\n            ? c.contextNode\r\n            : c.contextNode.ownerDocument;\r\n        for (var i = 0; i < ids.length; i++) {\r\n            var n;\r\n            if (doc.getElementById) {\r\n                n = doc.getElementById(ids[i]);\r\n            } else {\r\n                n = Utilities.getElementById(doc, ids[i]);\r\n            }\r\n            if (n != null) {\r\n                ns.add(n);\r\n                count++;\r\n            }\r\n        }\r\n        return ns;\r\n    };\r\n\r\n    Functions.localName = function (c, eNode) {\r\n        var n;\r\n\r\n        if (arguments.length == 1) {\r\n            n = c.contextNode;\r\n        } else if (arguments.length == 2) {\r\n            n = eNode.evaluate(c).first();\r\n        } else {\r\n            throw new Error(\"Function local-name expects (node-set?)\");\r\n        }\r\n\r\n        if (n == null) {\r\n            return new XString(\"\");\r\n        }\r\n\r\n        return new XString(\r\n            n.localName ||     //  standard elements and attributes\r\n            n.baseName ||     //  IE\r\n            n.target ||     //  processing instructions\r\n            n.nodeName ||     //  DOM1 elements\r\n            \"\"                 //  fallback\r\n        );\r\n    };\r\n\r\n    Functions.namespaceURI = function () {\r\n        var c = arguments[0];\r\n        var n;\r\n        if (arguments.length == 1) {\r\n            n = c.contextNode;\r\n        } else if (arguments.length == 2) {\r\n            n = arguments[1].evaluate(c).first();\r\n        } else {\r\n            throw new Error(\"Function namespace-uri expects (node-set?)\");\r\n        }\r\n        if (n == null) {\r\n            return new XString(\"\");\r\n        }\r\n        return new XString(n.namespaceURI);\r\n    };\r\n\r\n    Functions.name = function () {\r\n        var c = arguments[0];\r\n        var n;\r\n        if (arguments.length == 1) {\r\n            n = c.contextNode;\r\n        } else if (arguments.length == 2) {\r\n            n = arguments[1].evaluate(c).first();\r\n        } else {\r\n            throw new Error(\"Function name expects (node-set?)\");\r\n        }\r\n        if (n == null) {\r\n            return new XString(\"\");\r\n        }\r\n        if (n.nodeType == 1 /*Node.ELEMENT_NODE*/) {\r\n            return new XString(n.nodeName);\r\n        } else if (n.nodeType == 2 /*Node.ATTRIBUTE_NODE*/) {\r\n            return new XString(n.name || n.nodeName);\r\n        } else if (n.nodeType === 7 /*Node.PROCESSING_INSTRUCTION_NODE*/) {\r\n            return new XString(n.target || n.nodeName);\r\n        } else if (n.localName == null) {\r\n            return new XString(\"\");\r\n        } else {\r\n            return new XString(n.localName);\r\n        }\r\n    };\r\n\r\n    Functions.string = function () {\r\n        var c = arguments[0];\r\n        if (arguments.length == 1) {\r\n            return new XString(XNodeSet.prototype.stringForNode(c.contextNode));\r\n        } else if (arguments.length == 2) {\r\n            return arguments[1].evaluate(c).string();\r\n        }\r\n        throw new Error(\"Function string expects (object?)\");\r\n    };\r\n\r\n    Functions.concat = function (c) {\r\n        if (arguments.length < 3) {\r\n            throw new Error(\"Function concat expects (string, string[, string]*)\");\r\n        }\r\n        var s = \"\";\r\n        for (var i = 1; i < arguments.length; i++) {\r\n            s += arguments[i].evaluate(c).stringValue();\r\n        }\r\n        return new XString(s);\r\n    };\r\n\r\n    Functions.startsWith = function () {\r\n        var c = arguments[0];\r\n        if (arguments.length != 3) {\r\n            throw new Error(\"Function startsWith expects (string, string)\");\r\n        }\r\n        var s1 = arguments[1].evaluate(c).stringValue();\r\n        var s2 = arguments[2].evaluate(c).stringValue();\r\n        return new XBoolean(s1.substring(0, s2.length) == s2);\r\n    };\r\n\r\n    Functions.contains = function () {\r\n        var c = arguments[0];\r\n        if (arguments.length != 3) {\r\n            throw new Error(\"Function contains expects (string, string)\");\r\n        }\r\n        var s1 = arguments[1].evaluate(c).stringValue();\r\n        var s2 = arguments[2].evaluate(c).stringValue();\r\n        return new XBoolean(s1.indexOf(s2) !== -1);\r\n    };\r\n\r\n    Functions.substringBefore = function () {\r\n        var c = arguments[0];\r\n        if (arguments.length != 3) {\r\n            throw new Error(\"Function substring-before expects (string, string)\");\r\n        }\r\n        var s1 = arguments[1].evaluate(c).stringValue();\r\n        var s2 = arguments[2].evaluate(c).stringValue();\r\n        return new XString(s1.substring(0, s1.indexOf(s2)));\r\n    };\r\n\r\n    Functions.substringAfter = function () {\r\n        var c = arguments[0];\r\n        if (arguments.length != 3) {\r\n            throw new Error(\"Function substring-after expects (string, string)\");\r\n        }\r\n        var s1 = arguments[1].evaluate(c).stringValue();\r\n        var s2 = arguments[2].evaluate(c).stringValue();\r\n        if (s2.length == 0) {\r\n            return new XString(s1);\r\n        }\r\n        var i = s1.indexOf(s2);\r\n        if (i == -1) {\r\n            return new XString(\"\");\r\n        }\r\n        return new XString(s1.substring(i + s2.length));\r\n    };\r\n\r\n    Functions.substring = function () {\r\n        var c = arguments[0];\r\n        if (!(arguments.length == 3 || arguments.length == 4)) {\r\n            throw new Error(\"Function substring expects (string, number, number?)\");\r\n        }\r\n        var s = arguments[1].evaluate(c).stringValue();\r\n        var n1 = Math.round(arguments[2].evaluate(c).numberValue()) - 1;\r\n        var n2 = arguments.length == 4 ? n1 + Math.round(arguments[3].evaluate(c).numberValue()) : undefined;\r\n        return new XString(s.substring(n1, n2));\r\n    };\r\n\r\n    Functions.stringLength = function () {\r\n        var c = arguments[0];\r\n        var s;\r\n        if (arguments.length == 1) {\r\n            s = XNodeSet.prototype.stringForNode(c.contextNode);\r\n        } else if (arguments.length == 2) {\r\n            s = arguments[1].evaluate(c).stringValue();\r\n        } else {\r\n            throw new Error(\"Function string-length expects (string?)\");\r\n        }\r\n        return new XNumber(s.length);\r\n    };\r\n\r\n    Functions.normalizeSpace = function () {\r\n        var c = arguments[0];\r\n        var s;\r\n        if (arguments.length == 1) {\r\n            s = XNodeSet.prototype.stringForNode(c.contextNode);\r\n        } else if (arguments.length == 2) {\r\n            s = arguments[1].evaluate(c).stringValue();\r\n        } else {\r\n            throw new Error(\"Function normalize-space expects (string?)\");\r\n        }\r\n        var i = 0;\r\n        var j = s.length - 1;\r\n        while (Utilities.isSpace(s.charCodeAt(j))) {\r\n            j--;\r\n        }\r\n        var t = \"\";\r\n        while (i <= j && Utilities.isSpace(s.charCodeAt(i))) {\r\n            i++;\r\n        }\r\n        while (i <= j) {\r\n            if (Utilities.isSpace(s.charCodeAt(i))) {\r\n                t += \" \";\r\n                while (i <= j && Utilities.isSpace(s.charCodeAt(i))) {\r\n                    i++;\r\n                }\r\n            } else {\r\n                t += s.charAt(i);\r\n                i++;\r\n            }\r\n        }\r\n        return new XString(t);\r\n    };\r\n\r\n    Functions.translate = function (c, eValue, eFrom, eTo) {\r\n        if (arguments.length != 4) {\r\n            throw new Error(\"Function translate expects (string, string, string)\");\r\n        }\r\n\r\n        var value = eValue.evaluate(c).stringValue();\r\n        var from = eFrom.evaluate(c).stringValue();\r\n        var to = eTo.evaluate(c).stringValue();\r\n\r\n        var cMap = reduce(function (acc, ch, i) {\r\n            if (!(ch in acc)) {\r\n                acc[ch] = i > to.length ? '' : to[i];\r\n            }\r\n            return acc;\r\n        }, {}, from);\r\n\r\n        var t = join(\r\n            '',\r\n            map(function (ch) {\r\n                return ch in cMap ? cMap[ch] : ch;\r\n            }, value)\r\n        );\r\n\r\n        return new XString(t);\r\n    };\r\n\r\n    Functions.boolean_ = function () {\r\n        var c = arguments[0];\r\n        if (arguments.length != 2) {\r\n            throw new Error(\"Function boolean expects (object)\");\r\n        }\r\n        return arguments[1].evaluate(c).bool();\r\n    };\r\n\r\n    Functions.not = function (c, eValue) {\r\n        if (arguments.length != 2) {\r\n            throw new Error(\"Function not expects (object)\");\r\n        }\r\n        return eValue.evaluate(c).bool().not();\r\n    };\r\n\r\n    Functions.true_ = function () {\r\n        if (arguments.length != 1) {\r\n            throw new Error(\"Function true expects ()\");\r\n        }\r\n        return XBoolean.true_;\r\n    };\r\n\r\n    Functions.false_ = function () {\r\n        if (arguments.length != 1) {\r\n            throw new Error(\"Function false expects ()\");\r\n        }\r\n        return XBoolean.false_;\r\n    };\r\n\r\n    Functions.lang = function () {\r\n        var c = arguments[0];\r\n        if (arguments.length != 2) {\r\n            throw new Error(\"Function lang expects (string)\");\r\n        }\r\n        var lang;\r\n        for (var n = c.contextNode; n != null && n.nodeType != 9 /*Node.DOCUMENT_NODE*/; n = n.parentNode) {\r\n            var a = n.getAttributeNS(XPath.XML_NAMESPACE_URI, \"lang\");\r\n            if (a != null) {\r\n                lang = String(a);\r\n                break;\r\n            }\r\n        }\r\n        if (lang == null) {\r\n            return XBoolean.false_;\r\n        }\r\n        var s = arguments[1].evaluate(c).stringValue();\r\n        return new XBoolean(lang.substring(0, s.length) == s\r\n            && (lang.length == s.length || lang.charAt(s.length) == '-'));\r\n    };\r\n\r\n    Functions.number = function () {\r\n        var c = arguments[0];\r\n        if (!(arguments.length == 1 || arguments.length == 2)) {\r\n            throw new Error(\"Function number expects (object?)\");\r\n        }\r\n        if (arguments.length == 1) {\r\n            return new XNumber(XNodeSet.prototype.stringForNode(c.contextNode));\r\n        }\r\n        return arguments[1].evaluate(c).number();\r\n    };\r\n\r\n    Functions.sum = function () {\r\n        var c = arguments[0];\r\n        var ns;\r\n        if (arguments.length != 2 || !Utilities.instance_of((ns = arguments[1].evaluate(c)), XNodeSet)) {\r\n            throw new Error(\"Function sum expects (node-set)\");\r\n        }\r\n        ns = ns.toUnsortedArray();\r\n        var n = 0;\r\n        for (var i = 0; i < ns.length; i++) {\r\n            n += new XNumber(XNodeSet.prototype.stringForNode(ns[i])).numberValue();\r\n        }\r\n        return new XNumber(n);\r\n    };\r\n\r\n    Functions.floor = function () {\r\n        var c = arguments[0];\r\n        if (arguments.length != 2) {\r\n            throw new Error(\"Function floor expects (number)\");\r\n        }\r\n        return new XNumber(Math.floor(arguments[1].evaluate(c).numberValue()));\r\n    };\r\n\r\n    Functions.ceiling = function () {\r\n        var c = arguments[0];\r\n        if (arguments.length != 2) {\r\n            throw new Error(\"Function ceiling expects (number)\");\r\n        }\r\n        return new XNumber(Math.ceil(arguments[1].evaluate(c).numberValue()));\r\n    };\r\n\r\n    Functions.round = function () {\r\n        var c = arguments[0];\r\n        if (arguments.length != 2) {\r\n            throw new Error(\"Function round expects (number)\");\r\n        }\r\n        return new XNumber(Math.round(arguments[1].evaluate(c).numberValue()));\r\n    };\r\n\r\n    // Utilities /////////////////////////////////////////////////////////////////\r\n\r\n    var Utilities = new Object();\r\n\r\n    Utilities.isAttribute = function (val) {\r\n        return val && (val.nodeType === 2 || val.ownerElement);\r\n    }\r\n\r\n    Utilities.splitQName = function (qn) {\r\n        var i = qn.indexOf(\":\");\r\n        if (i == -1) {\r\n            return [null, qn];\r\n        }\r\n        return [qn.substring(0, i), qn.substring(i + 1)];\r\n    };\r\n\r\n    Utilities.resolveQName = function (qn, nr, n, useDefault) {\r\n        var parts = Utilities.splitQName(qn);\r\n        if (parts[0] != null) {\r\n            parts[0] = nr.getNamespace(parts[0], n);\r\n        } else {\r\n            if (useDefault) {\r\n                parts[0] = nr.getNamespace(\"\", n);\r\n                if (parts[0] == null) {\r\n                    parts[0] = \"\";\r\n                }\r\n            } else {\r\n                parts[0] = \"\";\r\n            }\r\n        }\r\n        return parts;\r\n    };\r\n\r\n    Utilities.isSpace = function (c) {\r\n        return c == 0x9 || c == 0xd || c == 0xa || c == 0x20;\r\n    };\r\n\r\n    Utilities.isLetter = function (c) {\r\n        return c >= 0x0041 && c <= 0x005A ||\r\n            c >= 0x0061 && c <= 0x007A ||\r\n            c >= 0x00C0 && c <= 0x00D6 ||\r\n            c >= 0x00D8 && c <= 0x00F6 ||\r\n            c >= 0x00F8 && c <= 0x00FF ||\r\n            c >= 0x0100 && c <= 0x0131 ||\r\n            c >= 0x0134 && c <= 0x013E ||\r\n            c >= 0x0141 && c <= 0x0148 ||\r\n            c >= 0x014A && c <= 0x017E ||\r\n            c >= 0x0180 && c <= 0x01C3 ||\r\n            c >= 0x01CD && c <= 0x01F0 ||\r\n            c >= 0x01F4 && c <= 0x01F5 ||\r\n            c >= 0x01FA && c <= 0x0217 ||\r\n            c >= 0x0250 && c <= 0x02A8 ||\r\n            c >= 0x02BB && c <= 0x02C1 ||\r\n            c == 0x0386 ||\r\n            c >= 0x0388 && c <= 0x038A ||\r\n            c == 0x038C ||\r\n            c >= 0x038E && c <= 0x03A1 ||\r\n            c >= 0x03A3 && c <= 0x03CE ||\r\n            c >= 0x03D0 && c <= 0x03D6 ||\r\n            c == 0x03DA ||\r\n            c == 0x03DC ||\r\n            c == 0x03DE ||\r\n            c == 0x03E0 ||\r\n            c >= 0x03E2 && c <= 0x03F3 ||\r\n            c >= 0x0401 && c <= 0x040C ||\r\n            c >= 0x040E && c <= 0x044F ||\r\n            c >= 0x0451 && c <= 0x045C ||\r\n            c >= 0x045E && c <= 0x0481 ||\r\n            c >= 0x0490 && c <= 0x04C4 ||\r\n            c >= 0x04C7 && c <= 0x04C8 ||\r\n            c >= 0x04CB && c <= 0x04CC ||\r\n            c >= 0x04D0 && c <= 0x04EB ||\r\n            c >= 0x04EE && c <= 0x04F5 ||\r\n            c >= 0x04F8 && c <= 0x04F9 ||\r\n            c >= 0x0531 && c <= 0x0556 ||\r\n            c == 0x0559 ||\r\n            c >= 0x0561 && c <= 0x0586 ||\r\n            c >= 0x05D0 && c <= 0x05EA ||\r\n            c >= 0x05F0 && c <= 0x05F2 ||\r\n            c >= 0x0621 && c <= 0x063A ||\r\n            c >= 0x0641 && c <= 0x064A ||\r\n            c >= 0x0671 && c <= 0x06B7 ||\r\n            c >= 0x06BA && c <= 0x06BE ||\r\n            c >= 0x06C0 && c <= 0x06CE ||\r\n            c >= 0x06D0 && c <= 0x06D3 ||\r\n            c == 0x06D5 ||\r\n            c >= 0x06E5 && c <= 0x06E6 ||\r\n            c >= 0x0905 && c <= 0x0939 ||\r\n            c == 0x093D ||\r\n            c >= 0x0958 && c <= 0x0961 ||\r\n            c >= 0x0985 && c <= 0x098C ||\r\n            c >= 0x098F && c <= 0x0990 ||\r\n            c >= 0x0993 && c <= 0x09A8 ||\r\n            c >= 0x09AA && c <= 0x09B0 ||\r\n            c == 0x09B2 ||\r\n            c >= 0x09B6 && c <= 0x09B9 ||\r\n            c >= 0x09DC && c <= 0x09DD ||\r\n            c >= 0x09DF && c <= 0x09E1 ||\r\n            c >= 0x09F0 && c <= 0x09F1 ||\r\n            c >= 0x0A05 && c <= 0x0A0A ||\r\n            c >= 0x0A0F && c <= 0x0A10 ||\r\n            c >= 0x0A13 && c <= 0x0A28 ||\r\n            c >= 0x0A2A && c <= 0x0A30 ||\r\n            c >= 0x0A32 && c <= 0x0A33 ||\r\n            c >= 0x0A35 && c <= 0x0A36 ||\r\n            c >= 0x0A38 && c <= 0x0A39 ||\r\n            c >= 0x0A59 && c <= 0x0A5C ||\r\n            c == 0x0A5E ||\r\n            c >= 0x0A72 && c <= 0x0A74 ||\r\n            c >= 0x0A85 && c <= 0x0A8B ||\r\n            c == 0x0A8D ||\r\n            c >= 0x0A8F && c <= 0x0A91 ||\r\n            c >= 0x0A93 && c <= 0x0AA8 ||\r\n            c >= 0x0AAA && c <= 0x0AB0 ||\r\n            c >= 0x0AB2 && c <= 0x0AB3 ||\r\n            c >= 0x0AB5 && c <= 0x0AB9 ||\r\n            c == 0x0ABD ||\r\n            c == 0x0AE0 ||\r\n            c >= 0x0B05 && c <= 0x0B0C ||\r\n            c >= 0x0B0F && c <= 0x0B10 ||\r\n            c >= 0x0B13 && c <= 0x0B28 ||\r\n            c >= 0x0B2A && c <= 0x0B30 ||\r\n            c >= 0x0B32 && c <= 0x0B33 ||\r\n            c >= 0x0B36 && c <= 0x0B39 ||\r\n            c == 0x0B3D ||\r\n            c >= 0x0B5C && c <= 0x0B5D ||\r\n            c >= 0x0B5F && c <= 0x0B61 ||\r\n            c >= 0x0B85 && c <= 0x0B8A ||\r\n            c >= 0x0B8E && c <= 0x0B90 ||\r\n            c >= 0x0B92 && c <= 0x0B95 ||\r\n            c >= 0x0B99 && c <= 0x0B9A ||\r\n            c == 0x0B9C ||\r\n            c >= 0x0B9E && c <= 0x0B9F ||\r\n            c >= 0x0BA3 && c <= 0x0BA4 ||\r\n            c >= 0x0BA8 && c <= 0x0BAA ||\r\n            c >= 0x0BAE && c <= 0x0BB5 ||\r\n            c >= 0x0BB7 && c <= 0x0BB9 ||\r\n            c >= 0x0C05 && c <= 0x0C0C ||\r\n            c >= 0x0C0E && c <= 0x0C10 ||\r\n            c >= 0x0C12 && c <= 0x0C28 ||\r\n            c >= 0x0C2A && c <= 0x0C33 ||\r\n            c >= 0x0C35 && c <= 0x0C39 ||\r\n            c >= 0x0C60 && c <= 0x0C61 ||\r\n            c >= 0x0C85 && c <= 0x0C8C ||\r\n            c >= 0x0C8E && c <= 0x0C90 ||\r\n            c >= 0x0C92 && c <= 0x0CA8 ||\r\n            c >= 0x0CAA && c <= 0x0CB3 ||\r\n            c >= 0x0CB5 && c <= 0x0CB9 ||\r\n            c == 0x0CDE ||\r\n            c >= 0x0CE0 && c <= 0x0CE1 ||\r\n            c >= 0x0D05 && c <= 0x0D0C ||\r\n            c >= 0x0D0E && c <= 0x0D10 ||\r\n            c >= 0x0D12 && c <= 0x0D28 ||\r\n            c >= 0x0D2A && c <= 0x0D39 ||\r\n            c >= 0x0D60 && c <= 0x0D61 ||\r\n            c >= 0x0E01 && c <= 0x0E2E ||\r\n            c == 0x0E30 ||\r\n            c >= 0x0E32 && c <= 0x0E33 ||\r\n            c >= 0x0E40 && c <= 0x0E45 ||\r\n            c >= 0x0E81 && c <= 0x0E82 ||\r\n            c == 0x0E84 ||\r\n            c >= 0x0E87 && c <= 0x0E88 ||\r\n            c == 0x0E8A ||\r\n            c == 0x0E8D ||\r\n            c >= 0x0E94 && c <= 0x0E97 ||\r\n            c >= 0x0E99 && c <= 0x0E9F ||\r\n            c >= 0x0EA1 && c <= 0x0EA3 ||\r\n            c == 0x0EA5 ||\r\n            c == 0x0EA7 ||\r\n            c >= 0x0EAA && c <= 0x0EAB ||\r\n            c >= 0x0EAD && c <= 0x0EAE ||\r\n            c == 0x0EB0 ||\r\n            c >= 0x0EB2 && c <= 0x0EB3 ||\r\n            c == 0x0EBD ||\r\n            c >= 0x0EC0 && c <= 0x0EC4 ||\r\n            c >= 0x0F40 && c <= 0x0F47 ||\r\n            c >= 0x0F49 && c <= 0x0F69 ||\r\n            c >= 0x10A0 && c <= 0x10C5 ||\r\n            c >= 0x10D0 && c <= 0x10F6 ||\r\n            c == 0x1100 ||\r\n            c >= 0x1102 && c <= 0x1103 ||\r\n            c >= 0x1105 && c <= 0x1107 ||\r\n            c == 0x1109 ||\r\n            c >= 0x110B && c <= 0x110C ||\r\n            c >= 0x110E && c <= 0x1112 ||\r\n            c == 0x113C ||\r\n            c == 0x113E ||\r\n            c == 0x1140 ||\r\n            c == 0x114C ||\r\n            c == 0x114E ||\r\n            c == 0x1150 ||\r\n            c >= 0x1154 && c <= 0x1155 ||\r\n            c == 0x1159 ||\r\n            c >= 0x115F && c <= 0x1161 ||\r\n            c == 0x1163 ||\r\n            c == 0x1165 ||\r\n            c == 0x1167 ||\r\n            c == 0x1169 ||\r\n            c >= 0x116D && c <= 0x116E ||\r\n            c >= 0x1172 && c <= 0x1173 ||\r\n            c == 0x1175 ||\r\n            c == 0x119E ||\r\n            c == 0x11A8 ||\r\n            c == 0x11AB ||\r\n            c >= 0x11AE && c <= 0x11AF ||\r\n            c >= 0x11B7 && c <= 0x11B8 ||\r\n            c == 0x11BA ||\r\n            c >= 0x11BC && c <= 0x11C2 ||\r\n            c == 0x11EB ||\r\n            c == 0x11F0 ||\r\n            c == 0x11F9 ||\r\n            c >= 0x1E00 && c <= 0x1E9B ||\r\n            c >= 0x1EA0 && c <= 0x1EF9 ||\r\n            c >= 0x1F00 && c <= 0x1F15 ||\r\n            c >= 0x1F18 && c <= 0x1F1D ||\r\n            c >= 0x1F20 && c <= 0x1F45 ||\r\n            c >= 0x1F48 && c <= 0x1F4D ||\r\n            c >= 0x1F50 && c <= 0x1F57 ||\r\n            c == 0x1F59 ||\r\n            c == 0x1F5B ||\r\n            c == 0x1F5D ||\r\n            c >= 0x1F5F && c <= 0x1F7D ||\r\n            c >= 0x1F80 && c <= 0x1FB4 ||\r\n            c >= 0x1FB6 && c <= 0x1FBC ||\r\n            c == 0x1FBE ||\r\n            c >= 0x1FC2 && c <= 0x1FC4 ||\r\n            c >= 0x1FC6 && c <= 0x1FCC ||\r\n            c >= 0x1FD0 && c <= 0x1FD3 ||\r\n            c >= 0x1FD6 && c <= 0x1FDB ||\r\n            c >= 0x1FE0 && c <= 0x1FEC ||\r\n            c >= 0x1FF2 && c <= 0x1FF4 ||\r\n            c >= 0x1FF6 && c <= 0x1FFC ||\r\n            c == 0x2126 ||\r\n            c >= 0x212A && c <= 0x212B ||\r\n            c == 0x212E ||\r\n            c >= 0x2180 && c <= 0x2182 ||\r\n            c >= 0x3041 && c <= 0x3094 ||\r\n            c >= 0x30A1 && c <= 0x30FA ||\r\n            c >= 0x3105 && c <= 0x312C ||\r\n            c >= 0xAC00 && c <= 0xD7A3 ||\r\n            c >= 0x4E00 && c <= 0x9FA5 ||\r\n            c == 0x3007 ||\r\n            c >= 0x3021 && c <= 0x3029;\r\n    };\r\n\r\n    Utilities.isNCNameChar = function (c) {\r\n        return c >= 0x0030 && c <= 0x0039\r\n            || c >= 0x0660 && c <= 0x0669\r\n            || c >= 0x06F0 && c <= 0x06F9\r\n            || c >= 0x0966 && c <= 0x096F\r\n            || c >= 0x09E6 && c <= 0x09EF\r\n            || c >= 0x0A66 && c <= 0x0A6F\r\n            || c >= 0x0AE6 && c <= 0x0AEF\r\n            || c >= 0x0B66 && c <= 0x0B6F\r\n            || c >= 0x0BE7 && c <= 0x0BEF\r\n            || c >= 0x0C66 && c <= 0x0C6F\r\n            || c >= 0x0CE6 && c <= 0x0CEF\r\n            || c >= 0x0D66 && c <= 0x0D6F\r\n            || c >= 0x0E50 && c <= 0x0E59\r\n            || c >= 0x0ED0 && c <= 0x0ED9\r\n            || c >= 0x0F20 && c <= 0x0F29\r\n            || c == 0x002E\r\n            || c == 0x002D\r\n            || c == 0x005F\r\n            || Utilities.isLetter(c)\r\n            || c >= 0x0300 && c <= 0x0345\r\n            || c >= 0x0360 && c <= 0x0361\r\n            || c >= 0x0483 && c <= 0x0486\r\n            || c >= 0x0591 && c <= 0x05A1\r\n            || c >= 0x05A3 && c <= 0x05B9\r\n            || c >= 0x05BB && c <= 0x05BD\r\n            || c == 0x05BF\r\n            || c >= 0x05C1 && c <= 0x05C2\r\n            || c == 0x05C4\r\n            || c >= 0x064B && c <= 0x0652\r\n            || c == 0x0670\r\n            || c >= 0x06D6 && c <= 0x06DC\r\n            || c >= 0x06DD && c <= 0x06DF\r\n            || c >= 0x06E0 && c <= 0x06E4\r\n            || c >= 0x06E7 && c <= 0x06E8\r\n            || c >= 0x06EA && c <= 0x06ED\r\n            || c >= 0x0901 && c <= 0x0903\r\n            || c == 0x093C\r\n            || c >= 0x093E && c <= 0x094C\r\n            || c == 0x094D\r\n            || c >= 0x0951 && c <= 0x0954\r\n            || c >= 0x0962 && c <= 0x0963\r\n            || c >= 0x0981 && c <= 0x0983\r\n            || c == 0x09BC\r\n            || c == 0x09BE\r\n            || c == 0x09BF\r\n            || c >= 0x09C0 && c <= 0x09C4\r\n            || c >= 0x09C7 && c <= 0x09C8\r\n            || c >= 0x09CB && c <= 0x09CD\r\n            || c == 0x09D7\r\n            || c >= 0x09E2 && c <= 0x09E3\r\n            || c == 0x0A02\r\n            || c == 0x0A3C\r\n            || c == 0x0A3E\r\n            || c == 0x0A3F\r\n            || c >= 0x0A40 && c <= 0x0A42\r\n            || c >= 0x0A47 && c <= 0x0A48\r\n            || c >= 0x0A4B && c <= 0x0A4D\r\n            || c >= 0x0A70 && c <= 0x0A71\r\n            || c >= 0x0A81 && c <= 0x0A83\r\n            || c == 0x0ABC\r\n            || c >= 0x0ABE && c <= 0x0AC5\r\n            || c >= 0x0AC7 && c <= 0x0AC9\r\n            || c >= 0x0ACB && c <= 0x0ACD\r\n            || c >= 0x0B01 && c <= 0x0B03\r\n            || c == 0x0B3C\r\n            || c >= 0x0B3E && c <= 0x0B43\r\n            || c >= 0x0B47 && c <= 0x0B48\r\n            || c >= 0x0B4B && c <= 0x0B4D\r\n            || c >= 0x0B56 && c <= 0x0B57\r\n            || c >= 0x0B82 && c <= 0x0B83\r\n            || c >= 0x0BBE && c <= 0x0BC2\r\n            || c >= 0x0BC6 && c <= 0x0BC8\r\n            || c >= 0x0BCA && c <= 0x0BCD\r\n            || c == 0x0BD7\r\n            || c >= 0x0C01 && c <= 0x0C03\r\n            || c >= 0x0C3E && c <= 0x0C44\r\n            || c >= 0x0C46 && c <= 0x0C48\r\n            || c >= 0x0C4A && c <= 0x0C4D\r\n            || c >= 0x0C55 && c <= 0x0C56\r\n            || c >= 0x0C82 && c <= 0x0C83\r\n            || c >= 0x0CBE && c <= 0x0CC4\r\n            || c >= 0x0CC6 && c <= 0x0CC8\r\n            || c >= 0x0CCA && c <= 0x0CCD\r\n            || c >= 0x0CD5 && c <= 0x0CD6\r\n            || c >= 0x0D02 && c <= 0x0D03\r\n            || c >= 0x0D3E && c <= 0x0D43\r\n            || c >= 0x0D46 && c <= 0x0D48\r\n            || c >= 0x0D4A && c <= 0x0D4D\r\n            || c == 0x0D57\r\n            || c == 0x0E31\r\n            || c >= 0x0E34 && c <= 0x0E3A\r\n            || c >= 0x0E47 && c <= 0x0E4E\r\n            || c == 0x0EB1\r\n            || c >= 0x0EB4 && c <= 0x0EB9\r\n            || c >= 0x0EBB && c <= 0x0EBC\r\n            || c >= 0x0EC8 && c <= 0x0ECD\r\n            || c >= 0x0F18 && c <= 0x0F19\r\n            || c == 0x0F35\r\n            || c == 0x0F37\r\n            || c == 0x0F39\r\n            || c == 0x0F3E\r\n            || c == 0x0F3F\r\n            || c >= 0x0F71 && c <= 0x0F84\r\n            || c >= 0x0F86 && c <= 0x0F8B\r\n            || c >= 0x0F90 && c <= 0x0F95\r\n            || c == 0x0F97\r\n            || c >= 0x0F99 && c <= 0x0FAD\r\n            || c >= 0x0FB1 && c <= 0x0FB7\r\n            || c == 0x0FB9\r\n            || c >= 0x20D0 && c <= 0x20DC\r\n            || c == 0x20E1\r\n            || c >= 0x302A && c <= 0x302F\r\n            || c == 0x3099\r\n            || c == 0x309A\r\n            || c == 0x00B7\r\n            || c == 0x02D0\r\n            || c == 0x02D1\r\n            || c == 0x0387\r\n            || c == 0x0640\r\n            || c == 0x0E46\r\n            || c == 0x0EC6\r\n            || c == 0x3005\r\n            || c >= 0x3031 && c <= 0x3035\r\n            || c >= 0x309D && c <= 0x309E\r\n            || c >= 0x30FC && c <= 0x30FE;\r\n    };\r\n\r\n    Utilities.coalesceText = function (n) {\r\n        for (var m = n.firstChild; m != null; m = m.nextSibling) {\r\n            if (m.nodeType == 3 /*Node.TEXT_NODE*/ || m.nodeType == 4 /*Node.CDATA_SECTION_NODE*/) {\r\n                var s = m.nodeValue;\r\n                var first = m;\r\n                m = m.nextSibling;\r\n                while (m != null && (m.nodeType == 3 /*Node.TEXT_NODE*/ || m.nodeType == 4 /*Node.CDATA_SECTION_NODE*/)) {\r\n                    s += m.nodeValue;\r\n                    var del = m;\r\n                    m = m.nextSibling;\r\n                    del.parentNode.removeChild(del);\r\n                }\r\n                if (first.nodeType == 4 /*Node.CDATA_SECTION_NODE*/) {\r\n                    var p = first.parentNode;\r\n                    if (first.nextSibling == null) {\r\n                        p.removeChild(first);\r\n                        p.appendChild(p.ownerDocument.createTextNode(s));\r\n                    } else {\r\n                        var next = first.nextSibling;\r\n                        p.removeChild(first);\r\n                        p.insertBefore(p.ownerDocument.createTextNode(s), next);\r\n                    }\r\n                } else {\r\n                    first.nodeValue = s;\r\n                }\r\n                if (m == null) {\r\n                    break;\r\n                }\r\n            } else if (m.nodeType == 1 /*Node.ELEMENT_NODE*/) {\r\n                Utilities.coalesceText(m);\r\n            }\r\n        }\r\n    };\r\n\r\n    Utilities.instance_of = function (o, c) {\r\n        while (o != null) {\r\n            if (o.constructor === c) {\r\n                return true;\r\n            }\r\n            if (o === Object) {\r\n                return false;\r\n            }\r\n            o = o.constructor.superclass;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    Utilities.getElementById = function (n, id) {\r\n        // Note that this does not check the DTD to check for actual\r\n        // attributes of type ID, so this may be a bit wrong.\r\n        if (n.nodeType == 1 /*Node.ELEMENT_NODE*/) {\r\n            if (n.getAttribute(\"id\") == id\r\n                || n.getAttributeNS(null, \"id\") == id) {\r\n                return n;\r\n            }\r\n        }\r\n        for (var m = n.firstChild; m != null; m = m.nextSibling) {\r\n            var res = Utilities.getElementById(m, id);\r\n            if (res != null) {\r\n                return res;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n\r\n    // XPathException ////////////////////////////////////////////////////////////\r\n\r\n    var XPathException = (function () {\r\n        function getMessage(code, exception) {\r\n            var msg = exception ? \": \" + exception.toString() : \"\";\r\n            switch (code) {\r\n                case XPathException.INVALID_EXPRESSION_ERR:\r\n                    return \"Invalid expression\" + msg;\r\n                case XPathException.TYPE_ERR:\r\n                    return \"Type error\" + msg;\r\n            }\r\n            return null;\r\n        }\r\n\r\n        function XPathException(code, error, message) {\r\n            var err = Error.call(this, getMessage(code, error) || message);\r\n\r\n            err.code = code;\r\n            err.exception = error;\r\n\r\n            return err;\r\n        }\r\n\r\n        XPathException.prototype = Object.create(Error.prototype);\r\n        XPathException.prototype.constructor = XPathException;\r\n        XPathException.superclass = Error;\r\n\r\n        XPathException.prototype.toString = function () {\r\n            return this.message;\r\n        };\r\n\r\n        XPathException.fromMessage = function (message, error) {\r\n            return new XPathException(null, error, message);\r\n        };\r\n\r\n        XPathException.INVALID_EXPRESSION_ERR = 51;\r\n        XPathException.TYPE_ERR = 52;\r\n\r\n        return XPathException;\r\n    })();\r\n\r\n    // XPathExpression ///////////////////////////////////////////////////////////\r\n\r\n    XPathExpression.prototype = {};\r\n    XPathExpression.prototype.constructor = XPathExpression;\r\n    XPathExpression.superclass = Object.prototype;\r\n\r\n    function XPathExpression(e, r, p) {\r\n        this.xpath = p.parse(e);\r\n        this.context = new XPathContext();\r\n        this.context.namespaceResolver = new XPathNSResolverWrapper(r);\r\n    }\r\n\r\n    XPathExpression.getOwnerDocument = function (n) {\r\n        return n.nodeType === 9 /*Node.DOCUMENT_NODE*/ ? n : n.ownerDocument;\r\n    }\r\n\r\n    XPathExpression.detectHtmlDom = function (n) {\r\n        if (!n) { return false; }\r\n\r\n        var doc = XPathExpression.getOwnerDocument(n);\r\n\r\n        try {\r\n            return doc.implementation.hasFeature(\"HTML\", \"2.0\");\r\n        } catch (e) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    XPathExpression.prototype.evaluate = function (n, t, res) {\r\n        this.context.expressionContextNode = n;\r\n        // backward compatibility - no reliable way to detect whether the DOM is HTML, but\r\n        // this library has been using this method up until now, so we will continue to use it\r\n        // ONLY when using an XPathExpression\r\n        this.context.caseInsensitive = XPathExpression.detectHtmlDom(n);\r\n\r\n        var result = this.xpath.evaluate(this.context);\r\n        return new XPathResult(result, t);\r\n    }\r\n\r\n    // XPathNSResolverWrapper ////////////////////////////////////////////////////\r\n\r\n    XPathNSResolverWrapper.prototype = {};\r\n    XPathNSResolverWrapper.prototype.constructor = XPathNSResolverWrapper;\r\n    XPathNSResolverWrapper.superclass = Object.prototype;\r\n\r\n    function XPathNSResolverWrapper(r) {\r\n        this.xpathNSResolver = r;\r\n    }\r\n\r\n    XPathNSResolverWrapper.prototype.getNamespace = function (prefix, n) {\r\n        if (this.xpathNSResolver == null) {\r\n            return null;\r\n        }\r\n        return this.xpathNSResolver.lookupNamespaceURI(prefix);\r\n    };\r\n\r\n    // NodeXPathNSResolver ///////////////////////////////////////////////////////\r\n\r\n    NodeXPathNSResolver.prototype = {};\r\n    NodeXPathNSResolver.prototype.constructor = NodeXPathNSResolver;\r\n    NodeXPathNSResolver.superclass = Object.prototype;\r\n\r\n    function NodeXPathNSResolver(n) {\r\n        this.node = n;\r\n        this.namespaceResolver = new NamespaceResolver();\r\n    }\r\n\r\n    NodeXPathNSResolver.prototype.lookupNamespaceURI = function (prefix) {\r\n        return this.namespaceResolver.getNamespace(prefix, this.node);\r\n    };\r\n\r\n    // XPathResult ///////////////////////////////////////////////////////////////\r\n\r\n    XPathResult.prototype = {};\r\n    XPathResult.prototype.constructor = XPathResult;\r\n    XPathResult.superclass = Object.prototype;\r\n\r\n    function XPathResult(v, t) {\r\n        if (t == XPathResult.ANY_TYPE) {\r\n            if (v.constructor === XString) {\r\n                t = XPathResult.STRING_TYPE;\r\n            } else if (v.constructor === XNumber) {\r\n                t = XPathResult.NUMBER_TYPE;\r\n            } else if (v.constructor === XBoolean) {\r\n                t = XPathResult.BOOLEAN_TYPE;\r\n            } else if (v.constructor === XNodeSet) {\r\n                t = XPathResult.UNORDERED_NODE_ITERATOR_TYPE;\r\n            }\r\n        }\r\n        this.resultType = t;\r\n        switch (t) {\r\n            case XPathResult.NUMBER_TYPE:\r\n                this.numberValue = v.numberValue();\r\n                return;\r\n            case XPathResult.STRING_TYPE:\r\n                this.stringValue = v.stringValue();\r\n                return;\r\n            case XPathResult.BOOLEAN_TYPE:\r\n                this.booleanValue = v.booleanValue();\r\n                return;\r\n            case XPathResult.ANY_UNORDERED_NODE_TYPE:\r\n            case XPathResult.FIRST_ORDERED_NODE_TYPE:\r\n                if (v.constructor === XNodeSet) {\r\n                    this.singleNodeValue = v.first();\r\n                    return;\r\n                }\r\n                break;\r\n            case XPathResult.UNORDERED_NODE_ITERATOR_TYPE:\r\n            case XPathResult.ORDERED_NODE_ITERATOR_TYPE:\r\n                if (v.constructor === XNodeSet) {\r\n                    this.invalidIteratorState = false;\r\n                    this.nodes = v.toArray();\r\n                    this.iteratorIndex = 0;\r\n                    return;\r\n                }\r\n                break;\r\n            case XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE:\r\n            case XPathResult.ORDERED_NODE_SNAPSHOT_TYPE:\r\n                if (v.constructor === XNodeSet) {\r\n                    this.nodes = v.toArray();\r\n                    this.snapshotLength = this.nodes.length;\r\n                    return;\r\n                }\r\n                break;\r\n        }\r\n        throw new XPathException(XPathException.TYPE_ERR);\r\n    };\r\n\r\n    XPathResult.prototype.iterateNext = function () {\r\n        if (this.resultType != XPathResult.UNORDERED_NODE_ITERATOR_TYPE\r\n            && this.resultType != XPathResult.ORDERED_NODE_ITERATOR_TYPE) {\r\n            throw new XPathException(XPathException.TYPE_ERR);\r\n        }\r\n        return this.nodes[this.iteratorIndex++];\r\n    };\r\n\r\n    XPathResult.prototype.snapshotItem = function (i) {\r\n        if (this.resultType != XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE\r\n            && this.resultType != XPathResult.ORDERED_NODE_SNAPSHOT_TYPE) {\r\n            throw new XPathException(XPathException.TYPE_ERR);\r\n        }\r\n        return this.nodes[i];\r\n    };\r\n\r\n    XPathResult.ANY_TYPE = 0;\r\n    XPathResult.NUMBER_TYPE = 1;\r\n    XPathResult.STRING_TYPE = 2;\r\n    XPathResult.BOOLEAN_TYPE = 3;\r\n    XPathResult.UNORDERED_NODE_ITERATOR_TYPE = 4;\r\n    XPathResult.ORDERED_NODE_ITERATOR_TYPE = 5;\r\n    XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE = 6;\r\n    XPathResult.ORDERED_NODE_SNAPSHOT_TYPE = 7;\r\n    XPathResult.ANY_UNORDERED_NODE_TYPE = 8;\r\n    XPathResult.FIRST_ORDERED_NODE_TYPE = 9;\r\n\r\n    // DOM 3 XPath support ///////////////////////////////////////////////////////\r\n\r\n    function installDOM3XPathSupport(doc, p) {\r\n        doc.createExpression = function (e, r) {\r\n            try {\r\n                return new XPathExpression(e, r, p);\r\n            } catch (e) {\r\n                throw new XPathException(XPathException.INVALID_EXPRESSION_ERR, e);\r\n            }\r\n        };\r\n        doc.createNSResolver = function (n) {\r\n            return new NodeXPathNSResolver(n);\r\n        };\r\n        doc.evaluate = function (e, cn, r, t, res) {\r\n            if (t < 0 || t > 9) {\r\n                throw { code: 0, toString: function () { return \"Request type not supported\"; } };\r\n            }\r\n            return doc.createExpression(e, r, p).evaluate(cn, t, res);\r\n        };\r\n    };\r\n\r\n    // ---------------------------------------------------------------------------\r\n\r\n    // Install DOM 3 XPath support for the current document.\r\n    try {\r\n        var shouldInstall = true;\r\n        try {\r\n            if (document.implementation\r\n                && document.implementation.hasFeature\r\n                && document.implementation.hasFeature(\"XPath\", null)) {\r\n                shouldInstall = false;\r\n            }\r\n        } catch (e) {\r\n        }\r\n        if (shouldInstall) {\r\n            installDOM3XPathSupport(document, new XPathParser());\r\n        }\r\n    } catch (e) {\r\n    }\r\n\r\n    // ---------------------------------------------------------------------------\r\n    // exports for node.js\r\n\r\n    installDOM3XPathSupport(exports, new XPathParser());\r\n\r\n    (function () {\r\n        var parser = new XPathParser();\r\n\r\n        var defaultNSResolver = new NamespaceResolver();\r\n        var defaultFunctionResolver = new FunctionResolver();\r\n        var defaultVariableResolver = new VariableResolver();\r\n\r\n        function makeNSResolverFromFunction(func) {\r\n            return {\r\n                getNamespace: function (prefix, node) {\r\n                    var ns = func(prefix, node);\r\n\r\n                    return ns || defaultNSResolver.getNamespace(prefix, node);\r\n                }\r\n            };\r\n        }\r\n\r\n        function makeNSResolverFromObject(obj) {\r\n            return makeNSResolverFromFunction(obj.getNamespace.bind(obj));\r\n        }\r\n\r\n        function makeNSResolverFromMap(map) {\r\n            return makeNSResolverFromFunction(function (prefix) {\r\n                return map[prefix];\r\n            });\r\n        }\r\n\r\n        function makeNSResolver(resolver) {\r\n            if (resolver && typeof resolver.getNamespace === \"function\") {\r\n                return makeNSResolverFromObject(resolver);\r\n            }\r\n\r\n            if (typeof resolver === \"function\") {\r\n                return makeNSResolverFromFunction(resolver);\r\n            }\r\n\r\n            // assume prefix -> uri mapping\r\n            if (typeof resolver === \"object\") {\r\n                return makeNSResolverFromMap(resolver);\r\n            }\r\n\r\n            return defaultNSResolver;\r\n        }\r\n\r\n        /** Converts native JavaScript types to their XPath library equivalent */\r\n        function convertValue(value) {\r\n            if (value === null ||\r\n                typeof value === \"undefined\" ||\r\n                value instanceof XString ||\r\n                value instanceof XBoolean ||\r\n                value instanceof XNumber ||\r\n                value instanceof XNodeSet) {\r\n                return value;\r\n            }\r\n\r\n            switch (typeof value) {\r\n                case \"string\": return new XString(value);\r\n                case \"boolean\": return new XBoolean(value);\r\n                case \"number\": return new XNumber(value);\r\n            }\r\n\r\n            // assume node(s)\r\n            var ns = new XNodeSet();\r\n            ns.addArray([].concat(value));\r\n            return ns;\r\n        }\r\n\r\n        function makeEvaluator(func) {\r\n            return function (context) {\r\n                var args = Array.prototype.slice.call(arguments, 1).map(function (arg) {\r\n                    return arg.evaluate(context);\r\n                });\r\n                var result = func.apply(this, [].concat(context, args));\r\n                return convertValue(result);\r\n            };\r\n        }\r\n\r\n        function makeFunctionResolverFromFunction(func) {\r\n            return {\r\n                getFunction: function (name, namespace) {\r\n                    var found = func(name, namespace);\r\n                    if (found) {\r\n                        return makeEvaluator(found);\r\n                    }\r\n                    return defaultFunctionResolver.getFunction(name, namespace);\r\n                }\r\n            };\r\n        }\r\n\r\n        function makeFunctionResolverFromObject(obj) {\r\n            return makeFunctionResolverFromFunction(obj.getFunction.bind(obj));\r\n        }\r\n\r\n        function makeFunctionResolverFromMap(map) {\r\n            return makeFunctionResolverFromFunction(function (name) {\r\n                return map[name];\r\n            });\r\n        }\r\n\r\n        function makeFunctionResolver(resolver) {\r\n            if (resolver && typeof resolver.getFunction === \"function\") {\r\n                return makeFunctionResolverFromObject(resolver);\r\n            }\r\n\r\n            if (typeof resolver === \"function\") {\r\n                return makeFunctionResolverFromFunction(resolver);\r\n            }\r\n\r\n            // assume map\r\n            if (typeof resolver === \"object\") {\r\n                return makeFunctionResolverFromMap(resolver);\r\n            }\r\n\r\n            return defaultFunctionResolver;\r\n        }\r\n\r\n        function makeVariableResolverFromFunction(func) {\r\n            return {\r\n                getVariable: function (name, namespace) {\r\n                    var value = func(name, namespace);\r\n                    return convertValue(value);\r\n                }\r\n            };\r\n        }\r\n\r\n        function makeVariableResolver(resolver) {\r\n            if (resolver) {\r\n                if (typeof resolver.getVariable === \"function\") {\r\n                    return makeVariableResolverFromFunction(resolver.getVariable.bind(resolver));\r\n                }\r\n\r\n                if (typeof resolver === \"function\") {\r\n                    return makeVariableResolverFromFunction(resolver);\r\n                }\r\n\r\n                // assume map\r\n                if (typeof resolver === \"object\") {\r\n                    return makeVariableResolverFromFunction(function (name) {\r\n                        return resolver[name];\r\n                    });\r\n                }\r\n            }\r\n\r\n            return defaultVariableResolver;\r\n        }\r\n\r\n        function copyIfPresent(prop, dest, source) {\r\n            if (prop in source) { dest[prop] = source[prop]; }\r\n        }\r\n\r\n        function makeContext(options) {\r\n            var context = new XPathContext();\r\n\r\n            if (options) {\r\n                context.namespaceResolver = makeNSResolver(options.namespaces);\r\n                context.functionResolver = makeFunctionResolver(options.functions);\r\n                context.variableResolver = makeVariableResolver(options.variables);\r\n                context.expressionContextNode = options.node;\r\n                copyIfPresent('allowAnyNamespaceForNoPrefix', context, options);\r\n                copyIfPresent('isHtml', context, options);\r\n            } else {\r\n                context.namespaceResolver = defaultNSResolver;\r\n            }\r\n\r\n            return context;\r\n        }\r\n\r\n        function evaluate(parsedExpression, options) {\r\n            var context = makeContext(options);\r\n\r\n            return parsedExpression.evaluate(context);\r\n        }\r\n\r\n        var evaluatorPrototype = {\r\n            evaluate: function (options) {\r\n                return evaluate(this.expression, options);\r\n            }\r\n\r\n            , evaluateNumber: function (options) {\r\n                return this.evaluate(options).numberValue();\r\n            }\r\n\r\n            , evaluateString: function (options) {\r\n                return this.evaluate(options).stringValue();\r\n            }\r\n\r\n            , evaluateBoolean: function (options) {\r\n                return this.evaluate(options).booleanValue();\r\n            }\r\n\r\n            , evaluateNodeSet: function (options) {\r\n                return this.evaluate(options).nodeset();\r\n            }\r\n\r\n            , select: function (options) {\r\n                return this.evaluateNodeSet(options).toArray()\r\n            }\r\n\r\n            , select1: function (options) {\r\n                return this.select(options)[0];\r\n            }\r\n        };\r\n\r\n        function parse(xpath) {\r\n            var parsed = parser.parse(xpath);\r\n\r\n            return Object.create(evaluatorPrototype, {\r\n                expression: {\r\n                    value: parsed\r\n                }\r\n            });\r\n        }\r\n\r\n        exports.parse = parse;\r\n    })();\r\n\r\n    assign(\r\n        exports,\r\n        {\r\n            XPath,\r\n            XPathParser,\r\n            XPathResult,\r\n\r\n            Step,\r\n            PathExpr,\r\n            NodeTest,\r\n            LocationPath,\r\n\r\n            OrOperation,\r\n            AndOperation,\r\n\r\n            BarOperation,\r\n\r\n            EqualsOperation,\r\n            NotEqualOperation,\r\n            LessThanOperation,\r\n            GreaterThanOperation,\r\n            LessThanOrEqualOperation,\r\n            GreaterThanOrEqualOperation,\r\n\r\n            PlusOperation,\r\n            MinusOperation,\r\n            MultiplyOperation,\r\n            DivOperation,\r\n            ModOperation,\r\n            UnaryMinusOperation,\r\n\r\n            FunctionCall,\r\n            VariableReference,\r\n\r\n            XPathContext,\r\n\r\n            XNodeSet,\r\n            XBoolean,\r\n            XString,\r\n            XNumber,\r\n\r\n            NamespaceResolver,\r\n            FunctionResolver,\r\n            VariableResolver,\r\n\r\n            Utilities,\r\n        }\r\n    );\r\n\r\n    // helper\r\n    exports.select = function (e, doc, single) {\r\n        return exports.selectWithResolver(e, doc, null, single);\r\n    };\r\n\r\n    exports.useNamespaces = function (mappings) {\r\n        var resolver = {\r\n            mappings: mappings || {},\r\n            lookupNamespaceURI: function (prefix) {\r\n                return this.mappings[prefix];\r\n            }\r\n        };\r\n\r\n        return function (e, doc, single) {\r\n            return exports.selectWithResolver(e, doc, resolver, single);\r\n        };\r\n    };\r\n\r\n    exports.selectWithResolver = function (e, doc, resolver, single) {\r\n        var expression = new XPathExpression(e, resolver, new XPathParser());\r\n        var type = XPathResult.ANY_TYPE;\r\n\r\n        var result = expression.evaluate(doc, type, null);\r\n\r\n        if (result.resultType == XPathResult.STRING_TYPE) {\r\n            result = result.stringValue;\r\n        }\r\n        else if (result.resultType == XPathResult.NUMBER_TYPE) {\r\n            result = result.numberValue;\r\n        }\r\n        else if (result.resultType == XPathResult.BOOLEAN_TYPE) {\r\n            result = result.booleanValue;\r\n        }\r\n        else {\r\n            result = result.nodes;\r\n            if (single) {\r\n                result = result[0];\r\n            }\r\n        }\r\n\r\n        return result;\r\n    };\r\n\r\n    exports.select1 = function (e, doc) {\r\n        return exports.select(e, doc, true);\r\n    };\r\n\r\n    // end non-node wrapper\r\n})(xpath);\r\n", "/**\n * @typedef {Object} ParsingOptions\n *  @property {function(node)} filter Returns false to exclude a node. Default is true.\n */\n\n/**\n * Parse the given XML string into an object.\n *\n * @param {String} xml\n * @param {ParsingOptions} [options]\n * @return {Object}\n * @api public\n */\nfunction parse(xml, options = {}) {\n\n    options.filter = options.filter || (() => true);\n\n    function nextChild() {\n        return tag() || content() || comment() || cdata();\n    }\n\n    function nextRootChild() {\n        match(/\\s*/);\n        return tag(true) || comment() || doctype() || processingInstruction(false);\n    }\n\n    function document() {\n        const decl = declaration();\n        const children = [];\n        let documentRootNode;\n        let child = nextRootChild();\n\n        while (child) {\n            if (child.node.type === 'Element') {\n                if (documentRootNode) {\n                    throw new Error('Found multiple root nodes');\n                }\n                documentRootNode = child.node;\n            }\n\n            if (!child.excluded) {\n                children.push(child.node);\n            }\n\n            child = nextRootChild();\n        }\n\n        if (!documentRootNode) {\n            throw new Error('Failed to parse XML');\n        }\n\n        return {\n            declaration: decl ? decl.node : null,\n            root: documentRootNode,\n            children\n        };\n    }\n\n    function declaration() {\n        return processingInstruction(true);\n    }\n\n    function processingInstruction(matchDeclaration) {\n        const m = matchDeclaration ? match(/^<\\?(xml)\\s*/) : match(/^<\\?([\\w-:.]+)\\s*/);\n        if (!m) return;\n\n        // tag\n        const node = {\n            name: m[1],\n            type: 'ProcessingInstruction',\n            attributes: {}\n        };\n\n        // attributes\n        while (!(eos() || is('?>'))) {\n            const attr = attribute();\n            if (!attr) return node;\n            node.attributes[attr.name] = attr.value;\n        }\n\n        match(/\\?>/);\n\n        return {\n            excluded: matchDeclaration ? false : options.filter(node) === false,\n            node\n        };\n    }\n\n    function tag(matchRoot) {\n        const m = match(/^<([\\w-:.]+)\\s*/);\n        if (!m) return;\n\n        // name\n        const node = {\n            type: 'Element',\n            name: m[1],\n            attributes: {},\n            children: []\n        };\n\n        // attributes\n        while (!(eos() || is('>') || is('?>') || is('/>'))) {\n            const attr = attribute();\n            if (!attr) return node;\n            node.attributes[attr.name] = attr.value;\n        }\n\n        const excluded = matchRoot ? false : options.filter(node) === false;\n\n        // self closing tag\n        if (match(/^\\s*\\/>/)) {\n            node.children = null;\n            return {\n                excluded,\n                node\n            };\n        }\n\n        match(/\\??>/);\n\n        if (!excluded) {\n            // children\n            let child = nextChild();\n            while (child) {\n                if (!child.excluded) {\n                    node.children.push(child.node);\n                }\n                child = nextChild();\n            }\n        }\n\n        // closing\n        match(/^<\\/[\\w-:.]+>/);\n\n        return {\n            excluded,\n            node\n        };\n    }\n\n    function doctype() {\n        const m = match(/^<!DOCTYPE\\s+[^>]*>/);\n        if (m) {\n            const node = {\n                type: 'DocumentType',\n                content: m[0]\n            };\n            return {\n                excluded: options.filter(node) === false,\n                node\n            };\n        }\n    }\n\n    function cdata() {\n        if (xml.startsWith('<![CDATA[')) {\n            const endPositionStart = xml.indexOf(']]>');\n            if (endPositionStart > -1) {\n                const endPositionFinish  = endPositionStart + 3;\n                const node = {\n                    type: 'CDATA',\n                    content: xml.substring(0, endPositionFinish)\n                };\n                xml = xml.slice(endPositionFinish);\n                return {\n                    excluded: options.filter(node) === false,\n                    node\n                };\n            }\n        }\n    }\n\n    function comment() {\n        const m = match(/^<!--[\\s\\S]*?-->/);\n        if (m) {\n            const node = {\n                type: 'Comment',\n                content: m[0]\n            };\n            return {\n                excluded: options.filter(node) === false,\n                node\n            };\n        }\n    }\n\n    function content() {\n        const m = match(/^([^<]+)/);\n        if (m) {\n            const node = {\n                type: 'Text',\n                content: m[1]\n            };\n            return {\n                excluded: options.filter(node) === false,\n                node\n            };\n        }\n    }\n\n    function attribute() {\n        const m = match(/([\\w-:.]+)\\s*=\\s*(\"[^\"]*\"|'[^']*'|\\w+)\\s*/);\n        if (!m) return;\n        return {name: m[1], value: strip(m[2])}\n    }\n\n    /**\n     * Strip quotes from `val`.\n     */\n    function strip(val) {\n        return val.replace(/^['\"]|['\"]$/g, '');\n    }\n\n    /**\n     * Match `re` and advance the string.\n     */\n    function match(re) {\n        const m = xml.match(re);\n        if (!m) return;\n        xml = xml.slice(m[0].length);\n        return m;\n    }\n\n    /**\n     * End-of-source.\n     */\n    function eos() {\n        return 0 === xml.length;\n    }\n\n    /**\n     * Check for `prefix`.\n     */\n    function is(prefix) {\n        return 0 === xml.indexOf(prefix);\n    }\n\n    xml = xml.trim();\n\n    return document();\n}\n\nmodule.exports = parse;\n", "/**\n * @typedef {Object} XMLFormatterOptions\n *  @property {String} [indentation='    '] The value used for indentation\n *  @property {function(node): boolean} [filter] Return false to exclude the node.\n *  @property {Boolean} [collapseContent=false] True to keep content in the same line as the element. Only works if element contains at least one text node\n *  @property {String} [lineSeparator='\\r\\n'] The line separator to use\n *  @property {String} [whiteSpaceAtEndOfSelfclosingTag=false] to either end ad self closing tag with `<tag/>` or `<tag />`\n */\n\n/**\n * @typedef {Object} XMLFormatterState\n * @param {String} content\n * @param {Number} level\n * @param {XMLFormatterOptions} options\n */\n\n/**\n * @param {XMLFormatterState} state\n * @return {void}\n */\nfunction newLine(state) {\n    if (!state.options.indentation && !state.options.lineSeparator) return;\n    state.content += state.options.lineSeparator;\n    let i;\n    for (i = 0; i < state.level; i++) {\n        state.content += state.options.indentation;\n    }\n}\n\n/**\n * @param {XMLFormatterState} state\n * @param {String} content\n * @return {void}\n */\nfunction appendContent(state, content) {\n    state.content += content;\n}\n\n/**\n * @param {Object} node\n * @param {XMLFormatterState} state\n * @param {Boolean} preserveSpace\n * @return {void}\n */\nfunction processNode(node, state, preserveSpace) {\n    if (typeof node.content === 'string') {\n        processContentNode(node, state, preserveSpace);\n    } else if (node.type === 'Element') {\n        processElementNode(node, state, preserveSpace);\n    } else if (node.type === 'ProcessingInstruction') {\n        processProcessingIntruction(node, state, preserveSpace);\n    } else {\n        throw new Error('Unknown node type: ' + node.type);\n    }\n}\n\n/**\n * @param {Object} node\n * @param {XMLFormatterState} state\n * @param {Boolean} preserveSpace\n * @return {void}\n */\nfunction processContentNode(node, state, preserveSpace) {\n    if (!preserveSpace) {\n        node.content = node.content.trim();\n    }\n    if (node.content.length > 0) {\n        if (!preserveSpace && state.content.length > 0) {\n            newLine(state);\n        }\n        appendContent(state, node.content);\n    }\n}\n\n/**\n * @param {Object} node\n * @param {XMLFormatterState} state\n * @param {Boolean} preserveSpace\n * @return {void}\n */\nfunction processElementNode(node, state, preserveSpace) {\n    if (!preserveSpace && state.content.length > 0) {\n        newLine(state);\n    }\n\n    appendContent(state, '<' + node.name);\n    processAttributes(state, node.attributes);\n\n    if (node.children === null) {\n        const selfClosingNodeClosingTag = state.options.whiteSpaceAtEndOfSelfclosingTag ? ' />' : '/>'\n        // self-closing node\n        appendContent(state, selfClosingNodeClosingTag);\n    } else if (node.children.length === 0) {\n        // empty node\n        appendContent(state, '></' + node.name + '>');\n    } else {\n\n        appendContent(state, '>');\n\n        state.level++;\n\n        let nodePreserveSpace = node.attributes['xml:space'] === 'preserve';\n\n        if (!nodePreserveSpace && state.options.collapseContent) {\n            let containsTextNodes = false;\n            let containsTextNodesWithLineBreaks = false;\n            let containsNonTextNodes = false;\n\n            node.children.forEach(function(child, index) {\n                if (child.type === 'Text') {\n                    if (child.content.includes('\\n')) {\n                        containsTextNodesWithLineBreaks = true;\n                        child.content = child.content.trim();\n                    } else if (index === 0 || index === node.children.length - 1) {\n                        if (child.content.trim().length === 0) {\n                            // If the text node is at the start or end and is empty, it should be ignored when formatting\n                            child.content = '';\n                        }\n                    }\n                    if (child.content.length > 0) {\n                        containsTextNodes = true;\n                    }\n                } else if (child.type === 'CDATA') {\n                    containsTextNodes = true;\n                } else {\n                    containsNonTextNodes = true;\n                }\n            });\n\n            if (containsTextNodes && (!containsNonTextNodes || !containsTextNodesWithLineBreaks)) {\n                nodePreserveSpace = true;\n            }\n        }\n\n        node.children.forEach(function(child) {\n            processNode(child, state, preserveSpace || nodePreserveSpace, state.options);\n        });\n\n        state.level--;\n\n        if (!preserveSpace && !nodePreserveSpace) {\n            newLine(state);\n        }\n        appendContent(state, '</' + node.name + '>');\n    }\n}\n\n/**\n * @param {XMLFormatterState} state\n * @param {Record<String, String>} attributes\n * @return {void}\n */\nfunction processAttributes(state, attributes) {\n    Object.keys(attributes).forEach(function(attr) {\n        const escaped = attributes[attr].replace(/\"/g, '&quot;');\n        appendContent(state, ' ' + attr + '=\"' + escaped + '\"');\n    });\n}\n\n/**\n * @param {Object} node\n * @param {XMLFormatterState} state\n * @return {void}\n */\nfunction processProcessingIntruction(node, state) {\n    if (state.content.length > 0) {\n        newLine(state);\n    }\n    appendContent(state, '<?' + node.name);\n    processAttributes(state, node.attributes);\n    appendContent(state, '?>');\n}\n\n\n/**\n * Converts the given XML into human readable format.\n *\n * @param {String} xml\n * @param {XMLFormatterOptions} options\n * @returns {string}\n */\nfunction format(xml, options = {}) {\n    options.indentation = 'indentation' in options ? options.indentation : '    ';\n    options.collapseContent = options.collapseContent === true;\n    options.lineSeparator = 'lineSeparator' in options ? options.lineSeparator : '\\r\\n';\n    options.whiteSpaceAtEndOfSelfclosingTag = !!options.whiteSpaceAtEndOfSelfclosingTag;\n\n    const parser = require('xml-parser-xo');\n    const parsedXml = parser(xml, {filter: options.filter});\n    const state = {content: '', level: 0, options: options};\n\n    if (parsedXml.declaration) {\n        processProcessingIntruction(parsedXml.declaration, state);\n    }\n\n    parsedXml.children.forEach(function(child) {\n        processNode(child, state, false);\n    });\n\n    return state.content\n        .replace(/\\r\\n/g, '\\n')\n        .replace(/\\n/g, options.lineSeparator);\n}\n\n\nmodule.exports = format;\n", "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateBuildingBlock = void 0;\nconst mem_fs_1 = require(\"mem-fs\");\nconst mem_fs_editor_1 = require(\"mem-fs-editor\");\nconst ejs_1 = require(\"ejs\");\nconst path_1 = require(\"path\");\nconst xmldom_1 = require(\"@xmldom/xmldom\");\nconst xpath = __importStar(require(\"xpath\"));\nconst xml_formatter_1 = __importDefault(require(\"xml-formatter\"));\nconst validate_1 = require(\"../common/validate\");\nconst templates_1 = require(\"../templates\");\n/**\n * Generates a building block into the provided xml view file.\n *\n * @param {string} basePath - the base path\n * @param {BuildingBlockConfig} config - the building block configuration parameters\n * @param {Editor} [fs] - the memfs editor instance\n * @returns {Editor} the updated memfs editor instance\n */\nfunction generateBuildingBlock(basePath, config, fs) {\n    // Validate the base and view paths\n    if (!fs) {\n        fs = mem_fs_editor_1.create(mem_fs_1.create());\n    }\n    validate_1.validateBasePath(basePath, fs);\n    if (!fs.exists(path_1.join(basePath, config.viewOrFragmentPath))) {\n        throw new Error(`Invalid view path ${config.viewOrFragmentPath}.`);\n    }\n    // Read the view xml and template files and update contents of the view xml file\n    const xmlDocument = getUI5XmlDocument(basePath, config.viewOrFragmentPath, fs);\n    const templateDocument = getTemplateDocument(config.buildingBlockData, xmlDocument, fs);\n    fs = updateViewFile(basePath, config.viewOrFragmentPath, config.aggregationPath, xmlDocument, templateDocument, fs);\n    return fs;\n}\nexports.generateBuildingBlock = generateBuildingBlock;\n/**\n * Returns the UI5 xml file document (view/fragment).\n *\n * @param {string} basePath - the base path\n * @param {string} viewPath - the path of the xml view relative to the base path\n * @param {Editor} fs - the memfs editor instance\n * @returns {Document} the view xml file document\n */\nfunction getUI5XmlDocument(basePath, viewPath, fs) {\n    let viewContent;\n    try {\n        viewContent = fs.read(path_1.join(basePath, viewPath));\n    }\n    catch (error) {\n        throw new Error(`Unable to read xml view file. Details: ${validate_1.getErrorMessage(error)}`);\n    }\n    const errorHandler = (level, message) => {\n        throw new Error(`Unable to parse xml view file. Details: [${level}] - ${message}`);\n    };\n    // Parse the xml view content\n    let viewDocument;\n    try {\n        viewDocument = new xmldom_1.DOMParser({ errorHandler }).parseFromString(viewContent);\n    }\n    catch (error) {\n        throw new Error(`Unable to parse xml view file. Details: ${validate_1.getErrorMessage(error)}`);\n    }\n    return viewDocument;\n}\n/**\n * Returns the macros namespace from the xml document if it exists or creates a new one and returns it.\n *\n * @param {Document} ui5XmlDocument - the view/fragment xml file document\n * @returns {string} the macros namespace\n */\nfunction getOrAddMacrosNamespace(ui5XmlDocument) {\n    const namespaceMap = ui5XmlDocument.firstChild._nsMap;\n    const macrosNamespaceEntry = Object.entries(namespaceMap).find(([_, value]) => value === 'sap.fe.macros');\n    if (!macrosNamespaceEntry) {\n        ui5XmlDocument.firstChild._nsMap['macros'] = 'sap.fe.macros';\n        ui5XmlDocument.documentElement.setAttributeNS('http://www.w3.org/2000/xmlns/', 'xmlns:macros', 'sap.fe.macros');\n    }\n    return macrosNamespaceEntry ? macrosNamespaceEntry[0] : 'macros';\n}\n/**\n * Returns the template xml file document.\n *\n * @param {BuildingBlock} buildingBlockData - the building block data\n * @param {Document} viewDocument - the view xml file document\n * @param {Editor} fs - the memfs editor instance\n * @returns {Document} the template xml file document\n */\nfunction getTemplateDocument(buildingBlockData, viewDocument, fs) {\n    const templateFolderName = buildingBlockData.buildingBlockType;\n    const templateFilePath = templates_1.getTemplatePath(`/building-block/${templateFolderName}/View.xml`);\n    const templateContent = ejs_1.render(fs.read(templateFilePath), {\n        macrosNamespace: getOrAddMacrosNamespace(viewDocument),\n        data: buildingBlockData\n    }, {});\n    const errorHandler = (level, message) => {\n        throw new Error(`Unable to parse template file with building block data. Details: [${level}] - ${message}`);\n    };\n    // Parse the rendered template content\n    let templateDocument;\n    try {\n        templateDocument = new xmldom_1.DOMParser({ errorHandler }).parseFromString(templateContent);\n    }\n    catch (error) {\n        throw new Error(`Unable to parse template file with building block data. Details: ${validate_1.getErrorMessage(error)}`);\n    }\n    return templateDocument;\n}\n/**\n * Updates the view file by inserting the template as a child of the element specified in the aggregated xpath.\n *\n * @param {string} basePath - the base path\n * @param {string} viewPath - the path of the xml view relative to the base path\n * @param {string} aggregationPath - the aggregation xpath\n * @param {Document} viewDocument - the view xml document\n * @param {Document} templateDocument - the template xml document\n * @param {Editor} [fs] - the memfs editor instance\n * @returns {Editor} the updated memfs editor instance\n */\nfunction updateViewFile(basePath, viewPath, aggregationPath, viewDocument, templateDocument, fs) {\n    const xpathSelect = xpath.useNamespaces(viewDocument.firstChild._nsMap);\n    // Find target aggregated element and append template as child\n    const targetNodes = xpathSelect(aggregationPath, viewDocument);\n    if (targetNodes && targetNodes.length > 0) {\n        const targetNode = targetNodes[0];\n        const sourceNode = viewDocument.importNode(templateDocument.documentElement, true);\n        targetNode.appendChild(sourceNode);\n        // Serialize and format new view xml document\n        const newXmlContent = new xmldom_1.XMLSerializer().serializeToString(viewDocument);\n        fs.write(path_1.join(basePath, viewPath), xml_formatter_1.default(newXmlContent));\n    }\n    else {\n        throw new Error(`Aggregation control not found ${aggregationPath}.`);\n    }\n    return fs;\n}\n//# sourceMappingURL=index.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ControllerExtensionPageType = void 0;\n/**\n * Controller extension's associated page type.\n *\n * @enum {string}\n */\nvar ControllerExtensionPageType;\n(function (ControllerExtensionPageType) {\n    ControllerExtensionPageType[\"ObjectPage\"] = \"ObjectPage\";\n    ControllerExtensionPageType[\"ListReport\"] = \"ListReport\";\n})(ControllerExtensionPageType = exports.ControllerExtensionPageType || (exports.ControllerExtensionPageType = {}));\n//# sourceMappingURL=types.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateControllerExtension = exports.UI5_CONTROLLER_EXTENSION_OBJECT_PAGE = exports.UI5_CONTROLLER_EXTENSION_LIST_REPORT = void 0;\nconst mem_fs_1 = require(\"mem-fs\");\nconst mem_fs_editor_1 = require(\"mem-fs-editor\");\nconst path_1 = require(\"path\");\nconst ejs_1 = require(\"ejs\");\nconst types_1 = require(\"./types\");\nconst validate_1 = require(\"../common/validate\");\nconst defaults_1 = require(\"../common/defaults\");\nconst templates_1 = require(\"../templates\");\nconst utils_1 = require(\"../common/utils\");\nexports.UI5_CONTROLLER_EXTENSION_LIST_REPORT = 'sap.fe.templates.ListReport.ListReportController';\nexports.UI5_CONTROLLER_EXTENSION_OBJECT_PAGE = 'sap.fe.templates.ObjectPage.ObjectPageController';\nconst UI5_CONTROLLER_EXTENSIONS = 'sap.ui.controllerExtensions';\nconst EXTENSION_PAGE_TYPE_MAP = new Map([\n    [types_1.ControllerExtensionPageType.ListReport, exports.UI5_CONTROLLER_EXTENSION_LIST_REPORT],\n    [types_1.ControllerExtensionPageType.ObjectPage, exports.UI5_CONTROLLER_EXTENSION_OBJECT_PAGE]\n]);\n/**\n * A function appends passed array of values with new value if value does not exist in array.\n *\n * @param values - array of values\n * @param value - value to append\n * @returns Array of values\n */\nfunction appendUniqueEntryToArray(values, value) {\n    if (!values.includes(value)) {\n        values.push(value);\n    }\n    return values;\n}\n/**\n * A function returns existing controller extension from manifest for passed extension id.\n *\n * @param {Manifest} manifest - manifest\n * @param {string} extensionId - extension id\n * @returns {ManifestControllerExtension | undefined} Existing controller extension\n */\nfunction getExistingControllerExtension(manifest, extensionId) {\n    var _a, _b, _c;\n    const extensions = (_c = (_b = (_a = manifest['sap.ui5']) === null || _a === void 0 ? void 0 : _a.extends) === null || _b === void 0 ? void 0 : _b.extensions) === null || _c === void 0 ? void 0 : _c[UI5_CONTROLLER_EXTENSIONS];\n    if (extensions === null || extensions === void 0 ? void 0 : extensions.hasOwnProperty(extensionId)) {\n        return extensions[extensionId];\n    }\n    return undefined;\n}\n/**\n * Method enhances the provided controller extension by handling existing controller extension entry from manifest.\n * Logic applies following:\n * 1. Handles public property \"overwrite\" - if we should append or overwrite existing controller names.\n * 2. Detects transition from \"controllerName\" to \"controllerNames\" when new controller is appended to exiusting entry with property \"controllerNames\".\n * 3. Adds new controller entry to \"controllerNames\" array.\n *\n * @param {ManifestControllerExtension} manifestExtension - controller extension from manifest\n * @param {InternalControllerExtension} config - internal controller extension configuration\n * @param {string} controllerName - full name of new controller to add or replace/overwrite\n */\nfunction handleExistingManifestExtension(manifestExtension, config, controllerName) {\n    if (config.overwrite) {\n        if (manifestExtension.controllerNames) {\n            // Delete \"controllerNames\" from manifest because it will be overwritten by single controllerName\n            config.deleteProperty = 'controllerNames';\n        }\n        // Do not need append new controller with existing - exit further handling\n        return;\n    }\n    // Append new controller extension with existing controllers\n    if (manifestExtension.controllerName && manifestExtension.controllerName !== config.controllerName) {\n        // Manifest has single controller - transfer it into array\n        config.controllerNames = manifestExtension.controllerNames ? [...manifestExtension.controllerNames] : [];\n        // Check before append\n        appendUniqueEntryToArray(config.controllerNames, manifestExtension.controllerName);\n        appendUniqueEntryToArray(config.controllerNames, controllerName);\n        // Delete \"controllerName\" from manifest\n        config.deleteProperty = 'controllerName';\n    }\n    else if (manifestExtension.controllerNames && !manifestExtension.controllerNames.includes(controllerName)) {\n        // Manifest has array of controllers - append new entry\n        config.controllerNames = appendUniqueEntryToArray([...manifestExtension.controllerNames], controllerName);\n    }\n}\n/**\n * Method enhances the provided controller extension configuration with default and additional data.\n *\n * @param {string} extensionName - a controller extension configuration object\n * @returns {ControllerExtensionPageTarget | undefined} Page configuration object if extension name is assigned to supported page type.\n */\nfunction resolvePageDataFromExtension(extensionName) {\n    for (const [key, value] of EXTENSION_PAGE_TYPE_MAP) {\n        if (extensionName.startsWith(value)) {\n            return {\n                pageType: key\n            };\n        }\n    }\n    return undefined;\n}\n/**\n * Method enhances the provided controller extension configuration with default and additional data.\n *\n * @param {ControllerExtension} data - a controller extension configuration object\n * @param {string} manifestPath - path to the project's manifest.json\n * @param {Manifest} manifest - the application manifest\n * @returns enhanced configuration\n */\nfunction enhanceConfig(data, manifestPath, manifest) {\n    // clone input\n    const config = Object.assign({}, data);\n    // Apply default data\n    defaults_1.setCommonDefaults(config, manifestPath, manifest);\n    // Create `controllerName` with full path/namespace\n    config.controllerName = `${config.ns}.${config.name}`;\n    // Resolve controller extension id/key\n    let extensionId;\n    if (typeof config.extension === 'object') {\n        // Use default as List Report\n        config.extension.pageType = config.extension.pageType || types_1.ControllerExtensionPageType.ListReport;\n        const { pageType, pageId } = config.extension;\n        extensionId = EXTENSION_PAGE_TYPE_MAP.get(pageType) || exports.UI5_CONTROLLER_EXTENSION_LIST_REPORT;\n        if (pageId) {\n            // Prepend project id\n            extensionId = `${extensionId}#${manifest['sap.app'].id}::${pageId}`;\n        }\n    }\n    else {\n        // Try to resolve page type from manual extension\n        extensionId = config.extension;\n        config.extension = resolvePageDataFromExtension(config.extension) || config.extension;\n    }\n    config.extensionId = extensionId;\n    // Get existing controller extension entry from manifest\n    const manifestExtension = getExistingControllerExtension(manifest, extensionId);\n    // If controller extension already exists in manifest - append new controller\n    if (manifestExtension) {\n        handleExistingManifestExtension(manifestExtension, config, config.controllerName);\n    }\n    return config;\n}\n/**\n * A function that transforms JSON object during JSON.stringify call.\n * Method is used to remove 'controllerName' or 'controllerNames' properties from manifest in case when we have transition from 'controllerName' to 'controllerNames'.\n *\n * @param {InternalControllerExtension} config - a controller extension configuration object\n * @returns Json replacer method\n */\nfunction getManifestReplacer(config) {\n    let isRoot = true;\n    const { deleteProperty } = config;\n    if (!deleteProperty) {\n        // No request to delete any property\n        return undefined;\n    }\n    return (key, value) => {\n        // Handle only root - more stable solution instead of checking 'key'\n        if (key === '' && isRoot) {\n            isRoot = false;\n            const extension = getExistingControllerExtension(value, config.extensionId);\n            if (extension) {\n                delete extension[deleteProperty];\n            }\n        }\n        return value;\n    };\n}\n/**\n * Add a controller extension to an existing UI5 application.\n *\n * @param {string} basePath - the base path\n * @param {ControllerExtension} controllerConfig - the controller extension configuration\n * @param {Editor} [fs] - the memfs editor instance\n * @returns {Editor} the updated memfs editor instance\n */\nfunction generateControllerExtension(basePath, controllerConfig, fs) {\n    // Validate the base and view paths\n    if (!fs) {\n        fs = mem_fs_editor_1.create(mem_fs_1.create());\n    }\n    validate_1.validateBasePath(basePath, fs);\n    const manifestPath = path_1.join(basePath, 'webapp/manifest.json');\n    const manifest = fs.readJSON(manifestPath);\n    // merge with defaults\n    const internalConfig = enhanceConfig(controllerConfig, manifestPath, manifest);\n    // enhance manifest with view definition\n    const filledTemplate = ejs_1.render(fs.read(templates_1.getTemplatePath('controller-extension/manifest.json')), internalConfig, {});\n    fs.extendJSON(manifestPath, JSON.parse(filledTemplate), getManifestReplacer(internalConfig));\n    // add controller js file\n    const ext = controllerConfig.typescript ? 'ts' : 'js';\n    const viewPath = path_1.join(internalConfig.path, `${internalConfig.name}.controller.${ext}`);\n    if (!fs.exists(viewPath)) {\n        fs.copyTpl(templates_1.getTemplatePath(`controller-extension/Controller.${ext}`), viewPath, internalConfig);\n    }\n    if (controllerConfig.typescript) {\n        utils_1.addExtensionTypes(basePath, controllerConfig.minUI5Version, fs);\n    }\n    return fs;\n}\nexports.generateControllerExtension = generateControllerExtension;\n//# sourceMappingURL=index.js.map", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateControllerExtension = exports.ControllerExtensionPageType = exports.generateBuildingBlock = exports.BuildingBlockType = exports.validateVersion = exports.validateBasePath = exports.enableFPM = exports.generateCustomView = exports.generateCustomSection = exports.generateCustomColumn = exports.generateCustomAction = exports.TargetControl = exports.generateListReport = exports.generateObjectPage = exports.generateCustomPage = void 0;\nvar page_1 = require(\"./page\");\nObject.defineProperty(exports, \"generateCustomPage\", { enumerable: true, get: function () { return page_1.generateCustomPage; } });\nObject.defineProperty(exports, \"generateObjectPage\", { enumerable: true, get: function () { return page_1.generateObjectPage; } });\nObject.defineProperty(exports, \"generateListReport\", { enumerable: true, get: function () { return page_1.generateListReport; } });\nvar types_1 = require(\"./action/types\");\nObject.defineProperty(exports, \"TargetControl\", { enumerable: true, get: function () { return types_1.TargetControl; } });\nvar action_1 = require(\"./action\");\nObject.defineProperty(exports, \"generateCustomAction\", { enumerable: true, get: function () { return action_1.generateCustomAction; } });\nvar column_1 = require(\"./column\");\nObject.defineProperty(exports, \"generateCustomColumn\", { enumerable: true, get: function () { return column_1.generateCustomColumn; } });\nvar section_1 = require(\"./section\");\nObject.defineProperty(exports, \"generateCustomSection\", { enumerable: true, get: function () { return section_1.generateCustomSection; } });\nvar view_1 = require(\"./view\");\nObject.defineProperty(exports, \"generateCustomView\", { enumerable: true, get: function () { return view_1.generateCustomView; } });\nvar app_1 = require(\"./app\");\nObject.defineProperty(exports, \"enableFPM\", { enumerable: true, get: function () { return app_1.enableFPM; } });\nvar validate_1 = require(\"./common/validate\");\nObject.defineProperty(exports, \"validateBasePath\", { enumerable: true, get: function () { return validate_1.validateBasePath; } });\nObject.defineProperty(exports, \"validateVersion\", { enumerable: true, get: function () { return validate_1.validateVersion; } });\nvar types_2 = require(\"./building-block/types\");\nObject.defineProperty(exports, \"BuildingBlockType\", { enumerable: true, get: function () { return types_2.BuildingBlockType; } });\nvar building_block_1 = require(\"./building-block\");\nObject.defineProperty(exports, \"generateBuildingBlock\", { enumerable: true, get: function () { return building_block_1.generateBuildingBlock; } });\nvar types_3 = require(\"./controller-extension/types\");\nObject.defineProperty(exports, \"ControllerExtensionPageType\", { enumerable: true, get: function () { return types_3.ControllerExtensionPageType; } });\nvar controller_extension_1 = require(\"./controller-extension\");\nObject.defineProperty(exports, \"generateControllerExtension\", { enumerable: true, get: function () { return controller_extension_1.generateControllerExtension; } });\n//# sourceMappingURL=index.js.map", "export * from './common';\nexport * from './apiTypes';\nexport * as v2 from './v2';\nexport * as v4 from './v4';\n", "import type { FlexibleColumnLayoutType, ManifestSettingsType } from './types';\n\nexport enum PageType {\n    ObjectPage = 'ObjectPage',\n    ListReport = 'ListReport',\n    OverviewPage = 'OverviewPage',\n    CustomPage = 'CustomPage',\n    AnalyticalListPage = 'AnalyticalListPage'\n}\n\nexport enum PageTypeV4 {\n    ObjectPage = 'ObjectPage',\n    ListReport = 'ListReport',\n    CustomPage = 'CustomPage',\n    FPMCustomPage = 'FPMCustomPage',\n    AnalyticalListPage = 'AnalyticalListPage'\n}\n\nexport const PAGETYPE_VIEW_EXTENSION_TEMPLATE_MAP: Map<PageType, string> = new Map([\n    [PageType.ListReport, 'sap.suite.ui.generic.template.ListReport.view.ListReport'],\n    [PageType.AnalyticalListPage, 'sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage'],\n    [PageType.ObjectPage, 'sap.suite.ui.generic.template.ObjectPage.view.Details']\n]);\n\nexport interface PageConfig {\n    $schema?: string;\n}\n\nexport interface CustomPageConfig extends PageConfig {\n    $filePath?: string;\n}\n\nexport interface PageBase {\n    name?: string;\n    entitySet?: string;\n    navigationProperty?: string;\n    config?: PageConfig;\n    navigation?: { [property: string]: string | object };\n    variantManagement?: string;\n    defaultLayoutType?: FlexibleColumnLayoutType;\n}\n\nexport enum FioriElementsVersion {\n    v2 = 'v2',\n    v4 = 'v4'\n}\nexport enum OdataVersion {\n    v2 = 'v2',\n    v4 = 'v4'\n}\nexport interface Target {\n    fioriElements: FioriElementsVersion;\n    odata: OdataVersion;\n}\n\nexport interface PagesBase {\n    [key: string]: PageBase;\n}\nexport interface SapUiGenericAppPageSettings {\n    [key: string]: ManifestSettingsType;\n}\n\nexport interface SapUiGenericApp {\n    pages: SapUiGenericAppPage[] | SapUiGenericAppPageMap;\n    _version?: string;\n    settings?: object;\n}\n\nexport interface SapUiGenericAppPage {\n    entitySet: string;\n    navigationProperty?: string;\n    component: {\n        name: string;\n        settings?: SapUiGenericAppPageSettings;\n    };\n    pages?: SapUiGenericAppPage[] | { [pageId: string]: SapUiGenericAppPage };\n}\n\nexport interface SapUiGenericAppPageMap {\n    [key: string]: SapUiGenericAppPage;\n}\n\nexport interface SapUiGenericApp {\n    pages: SapUiGenericAppPage[] | SapUiGenericAppPageMap;\n    _version?: string;\n    settings?: object;\n}\n", "import type { AnnotationTerm, EntityType } from '@sap-ux/vocabularies-types';\nimport type { CollectionFacet, ReferenceFacet, ReferenceURLFacet } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport type { Manifest } from './webapp/manifest';\n\nexport enum FlexibleColumnLayoutType {\n    OneColumn = 'OneColumn',\n    TwoColumnsBeginExpanded = 'TwoColumnsBeginExpanded',\n    TwoColumnsMidExpanded = 'TwoColumnsMidExpanded',\n    MidColumnFullScreen = 'MidColumnFullScreen',\n    ThreeColumnsMidExpanded = 'ThreeColumnsMidExpanded',\n    ThreeColumnsEndExpanded = 'ThreeColumnsEndExpanded',\n    ThreeColumnsMidExpandedEndHidden = 'ThreeColumnsMidExpandedEndHidden',\n    ThreeColumnsBeginExpandedEndHidden = 'ThreeColumnsBeginExpandedEndHidden',\n    EndColumnFullScreen = 'EndColumnFullScreen'\n}\n\nexport const enum FlexChangeLayer {\n    Vendor = 'VENDOR',\n    Customer = 'CUSTOMER_BASE'\n}\n\nexport type ManifestSettingsType = boolean | number | string | object;\n\n/**\n * Type for all available schema types, e.g. Application, ListReport, ObjectPage, ...\n */\nexport enum SchemaType {\n    Application = 'Application',\n    ObjectPage = 'ObjectPage',\n    ListReport = 'ListReport',\n    OverviewPage = 'OverviewPage',\n    AnalyticalListPage = 'AnalyticalListPage',\n    FreestylePage = 'FreestylePage'\n}\n\nexport enum ExportArtifacts {\n    flex = 'flex',\n    manifest = 'manifest'\n}\n\nexport enum ALPViewType {\n    Primary = 'primary',\n    Secondary = 'secondary'\n}\n\nexport enum SectionType {\n    Section = 'Section',\n    SubSection = 'SubSection',\n    HeaderSection = 'HeaderSection'\n}\n\nexport enum ArtifactType {\n    Manifest = 'Manifest',\n    FlexChange = 'FlexChange',\n    Annotation = 'Annotation',\n    Fragment = 'Fragment'\n}\n\nexport enum ControlType {\n    Table = 'sap.m.Table',\n    TableColumn = 'sap.m.Column',\n    SmartTable = 'sap.ui.comp.smarttable.SmartTable',\n    SmartFilterBar = 'sap.ui.comp.smartfilterbar.SmartFilterBar',\n    SmartChart = 'sap.ui.comp.smartchart.SmartChart',\n    Group = 'sap.ui.comp.smartform.Group',\n    GroupElement = 'sap.ui.comp.smartform.GroupElement',\n    Button = 'sap.m.Button',\n    ToolbarButton = 'sap.m.OverflowToolbarButton',\n    Avatar = 'sap.f.Avatar',\n    ObjectPageDynamicHeaderTitle = 'sap.uxap.ObjectPageDynamicHeaderTitle',\n    ObjectPageGridProperties = 'sap.ui.layout.GridData',\n    ObjectPageHeader = 'sap.uxap.ObjectPageHeader',\n    ObjectPageLayout = 'sap.uxap.ObjectPageLayout',\n    HeaderAction = 'sap.uxap.ObjectPageHeaderActionButton',\n    DynamicPage = 'sap.f.DynamicPage',\n    Form = 'sap.ui.layout.form',\n    Chart = 'sap.suite.ui.microchart',\n    Section = 'sap.uxap.ObjectPageSection',\n    SubSection = 'sap.uxap.ObjectPageSubSection'\n}\n\nexport interface ChangeContent {\n    property: string;\n    newValue?: ManifestSettingsType;\n    newBinding?: string | object;\n}\n\nexport enum Visualization {\n    LineItem = 'LineItem',\n    Chart = 'Chart'\n}\n\nexport type anyFacetType =\n    | AnnotationTerm<CollectionFacet>\n    | AnnotationTerm<ReferenceFacet>\n    | AnnotationTerm<ReferenceURLFacet>;\n\nexport enum DirName {\n    Sapux = 'src',\n    Schemas = '.schemas',\n    Pages = 'pages',\n    Webapp = 'webapp',\n    Temp = '.tmp',\n    Changes = 'changes',\n    LocalService = 'localService',\n    Controller = 'controller',\n    View = 'view',\n    Fragment = 'fragment',\n    Ext = 'ext',\n    VSCode = '.vscode'\n}\nexport enum FileName {\n    App = 'app.json'\n}\nexport const FacetTitlePrefix = 'Facet ID: ';\nexport const ActionTitlePrefix = 'Action ID: ';\n\nexport interface FileData {\n    dataSourceUri: string;\n    fileContent: string;\n}\n\nexport interface ExportResults {\n    flexChanges: string[];\n    manifest: Manifest;\n    fragments: FileData[];\n}\n\n/**\n * Taken over from https://github.com/sap-staging/ui5-flexibility-utils/blob/origin/master/src/changeUtils.js\n */\nexport interface ChangeDefinition {\n    controlId: string; // ID of the control containing all prefixes excluding the application ID prefix\n    controlType: string; // This is NOT in the API so far, but we need it\n    type: string; // Change type, i.e. <code>propertyChange</code>\n    content: ChangeContent; // Content of the change needed by the corresponding change handler\n    isCustomer: boolean; // Flag indicating whether the project is related to a customer project\n    sapui5Version: string; // SAPUI5 version for which the change is created\n    creatingTool: string; // Name of the tool calling this function for support reasons\n    id: string; // UID of the change;\n    reference: string; // Reference to the application;\n    appVersion: string; // Version of the application;\n    creation: string; // String with the creation timestamp;\n}\n/**\n * Taken over from https://github.com/sap-staging/ui5-flexibility-utils/blob/origin/master/src/changeUtils.js\n */\nexport interface ChangeDefinitionInCreation {\n    controlId: string; // ID of the control containing all prefixes excluding the application ID prefix\n    controlType: string; // This is NOT in the API so far, but we need it\n    type?: string; // Change type, i.e. <code>propertyChange</code>\n    content: ChangeContent; // Content of the change needed by the corresponding change handler\n    isCustomer?: boolean; // Flag indicating whether the project is related to a customer project\n    sapui5Version?: string; // SAPUI5 version for which the change is created\n    creatingTool?: string; // Name of the tool calling this function (this is needed for support reasons)\n}\n\nexport type CreateFlexChange = (change: ChangeDefinitionInCreation, manifest: Manifest) => string;\nexport type exportFlexValue = (flexChange: ChangeDefinitionInCreation, configObject: object, key: string) => void;\nexport type importFlexValue = (flexChange: ChangeDefinitionInCreation, configObject: object, key: string) => void;\n\nexport type ControlTypeFunction = () => ControlType;\nexport type ControlIdFunction = (\n    baseId: string,\n    idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    controlType?: ControlTypeFunction,\n    title?: string\n) => string;\n\nexport interface FlexAdapter {\n    controlId: ControlIdFunction;\n    controlType: ControlTypeFunction;\n    createFlexChange: CreateFlexChange;\n    exportFlexValue?: exportFlexValue;\n    importFlexValue?: importFlexValue;\n}\n\nexport type ManifestPath = (pageKeys?: string[], manifest?: Manifest, ...pathParts) => string;\n\nexport type ExportHandlerFunction = (\n    manifestSection: unknown,\n    configObject: unknown,\n    key: string,\n    manifestKey?: string,\n    ...pathParts: string[]\n) => unknown;\n\nexport interface ManifestConverter {\n    path: ManifestPath;\n    key?: string;\n    import?:\n        | ((manifestSection: unknown, sectionId?: string, propertyKey?: string, breadcrumbs?: string[]) => unknown)\n        | boolean;\n    export?: ExportHandlerFunction | boolean;\n    delete?:\n        | ((\n              manifestSection: unknown,\n              configObject: unknown,\n              key: string,\n              manifestKey: string,\n              syncRuleKey?: string,\n              config?: object\n          ) => unknown)\n        | boolean;\n}\n\nexport interface SyncRule {\n    flex?: FlexAdapter;\n    manifest?: ManifestConverter;\n    generate?: (schema: object, definition: object, propertyName: string) => unknown;\n}\n\nexport interface Content {\n    property: string;\n    oldValue?: ManifestSettingsType;\n    newValue: ManifestSettingsType;\n}\nexport interface Selector {\n    id: string;\n    type: string;\n    idIsLocal?: boolean;\n}\n\nexport interface PageLayoutInformation {\n    id: string;\n    pageId: string;\n}\n\nexport interface FakeLRepSettings {\n    isKeyUser: boolean;\n    isAtoAvailable: boolean;\n    isProductiveSystem: boolean;\n}\n\nexport interface ValidityInformation {\n    since: string;\n    deprecated?: Deprecated;\n}\n\nexport interface DeprecatedProperties {\n    [key: string]: ValidityInformation;\n}\n\nexport interface Deprecated {\n    since: string;\n    text?: string;\n}\n\nexport enum FacetBase {\n    LineItem = 'LineItem',\n    CollectionFacet = 'CollectionFacet',\n    Chart = 'Chart',\n    Form = 'Form',\n    Identification = 'Identification',\n    DataPoint = 'DataPoint',\n    Address = 'Address',\n    Contact = 'Contact',\n    PresentationVariant = 'PresentationVariant',\n    Unknown = ''\n}\n\nexport interface FacetConfig {\n    base: FacetBase;\n    lineItem?: string[];\n    Label?: string;\n    ID?: string;\n    entityType?: EntityType;\n    annotationPath?: string;\n    target?: object;\n    facets?: FacetConfigs;\n    namespace?: string;\n}\n\nexport interface SubSectionConfig {\n    base: FacetBase;\n    Label?: string;\n    ID?: string;\n    facets: FacetConfigs;\n    annotationPath?: string;\n    entityType?: EntityType;\n    target?: object;\n    namespace?: string;\n}\n\nexport interface FacetConfigs {\n    [key: string]: FacetConfig | SubSectionConfig;\n}\n\nexport interface File {\n    dataSourceUri: string;\n    fileContent: string;\n}\n\nexport interface Files {\n    [name: string]: object;\n}\n\nexport interface FacetSection {\n    key: string;\n    label?: string;\n    ID?: string;\n    custom?: boolean;\n    entityType?: EntityType;\n    namespace?: string;\n}\n\nexport interface SchemaFilePath {\n    filename: string;\n    path: string;\n}\n\nexport interface ObjectPageSectionData {\n    target: string;\n    key?: string;\n}\n\nexport const BindingPropertyRegexAsString = \"^{[A-Za-z0-9{}&$!@#%? _|,<>'()[\\\\]\\\\/:=.]+}$\";\n\nexport enum ViewTemplateType {\n    ResponsiveTableColumnsExtension = 'ResponsiveTableColumnsExtension',\n    AnalyticalTableColumnsExtension = 'AnalyticalTableColumnsExtension',\n    TreeTableColumnsExtension = 'TreeTableColumnsExtension',\n    GridTableColumnsExtension = 'GridTableColumnsExtension',\n    ResponsiveTableCellsExtension = 'ResponsiveTableCellsExtension'\n}\n\n//Definitions for elements in app schema\nexport enum DefinitionName {\n    Action = 'Action',\n    Actions = 'Actions',\n    ActionsLR = 'Actions<LineItems>',\n    ALPChart = 'ALPChart',\n    ALPChartView = 'ALPChartView',\n    ALPTable = 'ALPTable',\n    ALPTableView = 'ALPTableView',\n    AnalyticalListPageFilterBar = 'AnalyticalListPageFilterBar',\n    AnnotationPathAsObject = 'AnnotationPathAsObject',\n    ChartToolBarAction = 'ChartToolBarAction',\n    CommonHeaderFacetSettings = 'CommonHeaderFacetSettings',\n    CustomFormActionOP = 'CustomFormActionOP',\n    CustomTableAction = 'CustomTableAction',\n    CustomTableActionOP = 'CustomTableActionOP',\n    CustomColumn = 'TableCustomColumn',\n    CustomColumnOP = 'TableCustomColumnOP',\n    CustomColumns = 'TableCustomColumns',\n    CustomSections = 'CustomSections',\n    FieldPath = 'FieldPath',\n    Field = 'Field',\n    Fields = 'Fields',\n    Fields4Dialog = 'Fields4Dialog',\n    FilterBar = 'FilterBar',\n    Footer = 'Footer',\n    FooterAction = 'FooterAction',\n    FooterActionV4 = 'FooterActionV4',\n    FooterActions = 'FooterActions',\n    FooterActionsLR = 'FooterActions<LineItems>',\n    Form = 'Form',\n    FormAction = 'FormAction',\n    GenericActions = 'GenericActions',\n    GenericColumnsOP = 'GenericColumnsOP',\n    GenericFooter = 'GenericFooter',\n    GenericSections = 'GenericSections',\n    HeaderActions = 'HeaderActions',\n    HeaderActionV4 = 'HeaderActionV4',\n    HeaderSections = 'HeaderSections',\n    LineItems = 'LineItems',\n    LineItemsOfView = 'LineItemsOfView',\n    ListReportFilterBar = 'ListReportFilterBar',\n    LRTableView = 'LRTableView',\n    LRChartView = 'LRChartView',\n    MultiEditV2 = 'MultiEdit',\n    MultiTableModeV4 = 'MultiTableModeV4',\n    ObjectPageChart = 'ObjectPageChart',\n    ObjectPageCustomSectionFragment = 'ObjectPageCustomSectionFragment',\n    ObjectPageForm = 'ObjectPageForm',\n    ObjectPageFooter = 'ObjectPageFooter',\n    ObjectPageFooterAction = 'ObjectPageFooterAction',\n    ObjectPageFooterActions = 'ObjectPageFooterActions',\n    ObjectPageHeader = 'ObjectPageHeader',\n    ObjectPageHeaderSectionForm = 'ObjectPageHeaderSectionForm',\n    ObjectPageHeaderSectionChart = 'ObjectPageHeaderSectionChart',\n    ObjectPageHeaderSectionDataPoint = 'ObjectPageHeaderSectionDataPoint',\n    ObjectPageHeaderSectionContact = 'ObjectPageHeaderSectionContact',\n    ObjectPageHeaderSectionAddress = 'ObjectPageHeaderSectionAddress',\n    ObjectPageLayout = 'ObjectPageLayout',\n    ObjectPagePresentationVariant = 'ObjectPagePresentationVariant',\n    ObjectPageSectionAddress = 'ObjectPageSectionAddress',\n    ObjectPageSectionChart = 'ObjectPageSectionChart',\n    ObjectPageSectionContact = 'ObjectPageSectionContact',\n    ObjectPageSectionDataPoint = 'ObjectPageSectionDataPoint',\n    ObjectPageSectionForm = 'ObjectPageSectionForm',\n    ObjectPageSectionPresentationVariant = 'ObjectPageSectionPresentationVariant',\n    ObjectPageSectionTableV4 = 'ObjectPageSectionTableV4',\n    ObjectPageSubSections = 'ObjectPageSubSections',\n    ObjectPageTable = 'ObjectPageTable',\n    ObjectPageTableColumn = 'ObjectPageTableColumn',\n    ObjectPageToolBar = 'ObjectPageToolBar',\n    ObjectPageToolBarAction = 'ObjectPageToolBarAction',\n    ObjectPageToolBarActions = 'ObjectPageToolBarActions',\n    Position = 'Position',\n    PositionOP = 'PositionOP',\n    QuickVariant = 'QuickVariant',\n    QuickVariantSelectionOP = 'QuickVariantSelectionOP',\n    QuickVariantSelectionV4OP = 'QuickVariantSelectionV4OP',\n    RelatedFacetKeys = 'RelatedFacetKeys',\n    Sections = 'Sections',\n    SectionActions = 'SectionActions',\n    SelectionFields = 'SelectionFields',\n    Table = 'Table',\n    TableSPV = 'TableSPV',\n    TableColumn = 'TableColumn',\n    TableViewExtension = 'TableViewExtension',\n    ToolBarAction = 'ToolBarAction',\n    ToolBarLR = 'ToolBar<LineItems>',\n    ToolBar = 'ToolBar',\n    ViewTableColumn = 'ViewTableColumn',\n    ViewCustomColumn = 'ViewTableCustomColumn',\n    ViewCustomAction = 'ViewTableCustomAction',\n    ViewChartToolBar = 'ViewChartToolBar',\n    ViewToolBarAction = 'ViewToolBarAction',\n    ViewPosition = 'ViewPosition',\n    ViewCustomActionPosition = 'ViewCustomActionPosition',\n    CustomActionPosition = 'CustomActionPosition',\n    CustomActionPositionOP = 'CustomActionPositionOP'\n}\n\nexport enum PropertyName {\n    actions = 'actions',\n    annotationPath = 'annotationPath',\n    chart = 'chart',\n    defaultPath = 'defaultPath',\n    defaultTemplateAnnotationPath = 'defaultTemplateAnnotationPath',\n    sections = 'sections',\n    table = 'table',\n    views = 'views',\n    header = 'header',\n    footer = 'footer'\n}\n\nexport enum SchemaTag {\n    annotationPath = 'annotationPath',\n    annotationType = 'annotationType',\n    artifactType = 'artifactType',\n    controlType = 'controlType',\n    dataType = 'dataType',\n    fullyQualifiedName = 'fullyQualifiedName',\n    hidden = 'hidden',\n    isViewNode = 'isViewNode',\n    key = 'key',\n    keys = 'keys',\n    target = 'target',\n    propertyIndex = 'propertyIndex'\n}\n\nexport enum SchemaKeyName {\n    id = 'ID',\n    value = 'Value',\n    action = 'Action',\n    target = 'Target',\n    key = 'Key'\n}\n\nexport const METADATAPATH = 'webapp/localService/metadata.xml';\nexport const MANIFESTPATH = 'webapp/manifest.json';\nexport const VOCWITHSLASH = '/@com.sap.vocabularies';\nexport const VOCWITHCOLONS = '::@com.sap.vocabularies';\nexport const UIVOCABULARY = 'com.sap.vocabularies.UI.v1';\nexport const UIVOCABULARYDOT = 'com.sap.vocabularies.UI.v1.';\nexport const UIVOCABULARYALPHADOT = '@com.sap.vocabularies.UI.v1.';\nexport const QUICKVARPATH = '/quickVariantSelection';\nexport const QUICKVARPATHX = '/quickVariantSelectionX';\nexport const DATESETTINGSPATH = '/filterSettings/dateSettings';\nexport const FRAGMENTNAMEPART = '.fragment.';\n", "import type { Target } from './page';\nimport type { Pages as PagesV2, AppSettings as AppSettingsV2 } from '../v2';\nimport type { Pages as PagesV4, AppSettings as AppSettingsV4 } from '../v4';\nimport type { FlexibleColumnLayoutType } from './types';\n\nexport enum DraftDiscardEnabledSettings {\n    restricted = 'restricted'\n}\nexport interface DraftDiscardConfirmationSettings {\n    /**\n     * Allows applications to turn off the discard draft confirmation popup in various scenarios\n     */\n    enabled: DraftDiscardEnabledSettings;\n}\n\nexport enum TableColumnVerticalAlignment {\n    Top = 'Top',\n    Middle = 'Middle',\n    Bottom = 'Bottom'\n}\n\nexport enum StatePreservationMode {\n    persistence = 'persistence',\n    discovery = 'discovery'\n}\n\nexport interface Application {\n    $schema?: string;\n    id?: string;\n    pages?: PagesV2 | PagesV4;\n    home?: string;\n    target?: Target;\n    settings?: AppSettingsV2 | AppSettingsV4;\n}\n\nexport enum FlexibleColumnLayoutAggregations {\n    BeginColumnPages = 'beginColumnPages',\n    MidColumnPages = 'midColumnPages',\n    EndColumnPages = 'endColumnPages'\n}\n\nexport interface FlexibleColumnLayout {\n    defaultTwoColumnLayoutType?: FlexibleColumnLayoutType;\n    defaultThreeColumnLayoutType?: FlexibleColumnLayoutType;\n}\n\nexport interface CommonAppSettings {\n    /**\n     * To change the application header, in your project artifacts, change the i18n property file\n     * for your app under webapp/i18n/i18n.properties ->appTitle. Then, refer to the title as\n     * {{appTitle}} in the sap.app section of the manifest file.\n     * @i18nClassification TIT: Title of the application\n     */\n    title?: string;\n    /**\n     * To change the application header, in your project artifacts, change the i18n property file\n     * for your app under webapp/i18n/i18n.properties ->appDescription. Then, refer to the description\n     * as {{appDescription}} in the sap.app section of the manifest file.\n     * @i18nClassification TIT: Description of the application\n     */\n    description?: string;\n    /**\n     * To enable key user adaptation for the application, set the flexEnabled property to \"true\".\n     */\n    flexEnabled?: boolean;\n}\n", "import type { SapUiAppV2 } from '../../../v2/webapp/manifest/sapUiPageV2';\nimport type { SapUi5 as SapUi5V2 } from '../../../v2/webapp/manifest/sapUi5';\nimport type { SapUi as SapUiV2 } from '../../../v2/webapp/manifest/sapUi';\nimport type { SapOvp } from './sapOvp';\nimport type { SapUi5V4 } from '../../../v4/webapp/manifest/sapUi5';\nimport type { ManifestSettingsType } from '../../types';\n\nexport enum DataSourceType {\n    OData = 'OData',\n    ODataAnnotation = 'ODataAnnotation'\n}\n\nexport type ODataVersionType = '2.0' | '4.0';\n\nexport interface Inbound {\n    signature?: {\n        parameters: {};\n        additionalParameters: 'allowed';\n    };\n    semanticObject?: string;\n    action?: string;\n    title?: string;\n    subTitle?: string;\n    icon?: '';\n}\n\nexport interface CrossNavigation {\n    inbounds?: {\n        [key: string]: Inbound;\n    };\n}\n\nexport interface SapAppSourceTemplate {\n    id: string;\n    version?: string;\n    toolsId?: string;\n}\n\nexport interface SapApp {\n    id?: string;\n    title?: string;\n    type?: string;\n    description?: string;\n    dataSources?: SapAppDataSources | SapAppDataSourcesWithOptions;\n    offline?: boolean;\n    resources?: string;\n    sourceTemplate?: SapAppSourceTemplate;\n    crossNavigation?: CrossNavigation;\n}\n\nexport interface SapAppDataSources {\n    [key: string]: SapAppDataSource;\n    mainService: SapAppDataSource;\n}\n\nexport interface SapAppDataSource {\n    uri: string;\n    type: DataSourceType;\n    settings: SapAppDataSourceSettings;\n}\n\nexport interface SapAppDataSourceWithOptions extends SapAppDataSource {\n    isLocal: boolean;\n    order: number;\n    isActive: boolean;\n}\n\nexport interface SapAppDataSourcesWithOptions {\n    [key: string]: SapAppDataSourceWithOptions;\n}\n\nexport interface SapAppDataSourceSettings {\n    [key: string]: ManifestSettingsType;\n    annotations?: string[];\n    localUri?: string;\n    odataVersion?: ODataVersionType;\n}\n\nexport enum ManifestSection {\n    ui = 'sap.ui',\n    app = 'sap.app',\n    generic = 'sap.ui.generic.app',\n    ovp = 'sap.ovp',\n    ui5 = 'sap.ui5'\n}\n\nexport const GENERICAPPSETTINGS = `${ManifestSection.generic}/settings`;\n\nexport interface Manifest {\n    _version?: string;\n    'sap.ui'?: SapUiV2;\n    'sap.app'?: SapApp;\n    'sap.ui.generic.app'?: SapUiAppV2;\n    'sap.ovp'?: SapOvp;\n    'sap.ui5'?: SapUi5V2 | SapUi5V4;\n}\n", "import type { FlexibleColumnLayoutAggregations } from '../../Application';\nimport type { FlexibleColumnLayoutType } from '../../types';\n\nexport const FIORI_FCL_ROOT_VIEW_NAME = 'sap.fe.templates.RootContainer.view.Fcl';\n\nexport const FIORI_FCL_ROOT_ID = 'appRootView';\n\nexport enum ViewTypes {\n    XML = 'XML',\n    HTML = 'HTML',\n    JSON = 'JSON'\n    /** Deprecated as of version 1.90\n     * JS\n     * */\n}\n\nexport interface SapUi5RootView {\n    viewName: typeof FIORI_FCL_ROOT_VIEW_NAME | string;\n    type: ViewTypes;\n    id: typeof FIORI_FCL_ROOT_ID | string;\n    async?: boolean;\n}\n\nexport interface SapUi5OdataModel {\n    preload?: boolean;\n    dataSource: string;\n    settings?: {\n        bundleUrl?: string;\n        bundleName?: string;\n    };\n}\n\nexport interface SapUi5ResourceModel {\n    type: string;\n    uri?: string;\n}\n\nexport type SapUi5RoutingRouteTarget = string | string[];\n\nexport interface SapUi5RoutingRoute {\n    name: string;\n    pattern: string;\n    target: SapUi5RoutingRouteTarget;\n    layout?: FlexibleColumnLayoutType;\n}\n\nexport const SAPUI5_VIEW_CLASS = 'sap.ui.core.mvc.View';\nexport const SAPUI5_FRAGMENT_CLASS = 'sap.ui.core.Fragment';\n\nexport interface SapUi5ViewPath {\n    key: string;\n    annotationPath?: string;\n    entitySet?: string;\n    label?: string;\n    template?: string;\n    keepPreviousPersonalization?: boolean;\n    visible?: string;\n}\n\nexport interface SapUi5RoutingTargetSettingsViews {\n    shownCounts?: boolean;\n    paths?: Array<SapUi5ViewPath>;\n}\n\nexport interface SapUi5RoutingTargetNavigation {\n    detail: object;\n}\n\nexport interface SapUi5RoutingTargetSettings {\n    entitySet?: string;\n    navigation?: { [key: string]: SapUi5RoutingTargetNavigation };\n    content?: {\n        header?: {\n            facets?: {};\n        };\n        body?: {\n            sections?: {};\n        };\n        footer?: {\n            actions?: {};\n        };\n        controlConfiguration?: {};\n    };\n    variantManagement?: string;\n    controlConfiguration?: object;\n    viewPath?: string;\n    views?: SapUi5RoutingTargetSettingsViews;\n}\n\nexport interface SapUi5RoutingTargetBase {\n    options?: {\n        settings: SapUi5RoutingTargetSettings;\n    };\n    controlAggregation?: FlexibleColumnLayoutAggregations;\n    contextPattern?: string;\n}\n\nexport interface SapUi5RoutingTarget extends SapUi5RoutingTargetBase {\n    type: string;\n    id: string;\n    name: string;\n}\n\nexport interface Dependencies {\n    minUI5Version?: string;\n    libs?: { [key: string]: { lazy?: boolean } };\n    components?: { [key: string]: { lazy?: boolean } };\n}\n", "import type { Definition } from 'typescript-json-schema';\nimport type { ConvertedMetadata, EntitySet } from '@sap-ux/vocabularies-types';\nimport type { Editor } from 'mem-fs-editor';\nimport type {\n    CustomPage as FPMCustomPage,\n    CustomTableColumn as FPMCustomTableColumn,\n    CustomSection as FPMCustomSection,\n    ObjectPage as FPMObjectPage,\n    CustomAction as FPMCustomAction,\n    CustomView as FPMCustomView,\n    ControllerExtension as FPMControllerExtension\n} from '@sap-ux/fe-fpm-writer';\nimport type { FioriElementsVersion, Manifest, v2, v4, File } from '.';\nimport type { SchemaType, FileData, FlexChangeLayer, ExportResults } from './common/types';\n\n// Export types from fpm-writer\nexport { ControllerExtensionPageType, TargetControl as CustomActionTargetControl } from '@sap-ux/fe-fpm-writer';\n\nexport type MessageMetadataType = (object | string | number)[];\n\nexport const enum LogSeverity {\n    Error = 'error',\n    Warning = 'warning',\n    Info = 'info'\n}\n\nexport const LogSeverityLabel = {\n    [LogSeverity.Error]: 'Error',\n    [LogSeverity.Warning]: 'Warning',\n    [LogSeverity.Info]: 'Information'\n};\n\nexport type LogMessage = string | object | undefined;\n\nexport interface RangePosition {\n    line: number;\n    character: number;\n}\nexport interface Range {\n    start: RangePosition;\n    end: RangePosition;\n}\n\nexport interface Location {\n    path: string;\n    range?: Range | string[];\n}\n\n/**\n * Interface used to define a logger for the specificaton API\n */\nexport interface ExtensionLogger {\n    info: (message: string, ...meta: MessageMetadataType) => void;\n    warning: (message: string, ...meta: MessageMetadataType) => void;\n    error: (message: string, ...meta: MessageMetadataType) => void;\n}\n\n/**\n * Types for V2 schema generation\n */\nexport type GenerateListReportV2 = {\n    [SchemaType.ListReport]: {\n        genericSchema: object;\n        entitySet: string;\n        annotations: FileData[];\n        manifest: object;\n        fragments: FileData[];\n        logger?: ExtensionLogger;\n    };\n};\n\nexport type GenerateObjectPageV2 = {\n    [SchemaType.ObjectPage]: {\n        genericSchema: object;\n        entitySet: string;\n        annotations: FileData[];\n        manifest: object;\n        fragments: FileData[];\n        logger?: ExtensionLogger;\n    };\n};\n\nexport type GenerateOverviewPageV2 = {\n    [SchemaType.OverviewPage]: {\n        genericSchema: object;\n        logger?: ExtensionLogger;\n    };\n};\n\nexport type GenerateAnalyticalListPageV2 = {\n    [SchemaType.AnalyticalListPage]: {\n        genericSchema: object;\n        entitySet: string;\n        annotations: object[];\n        manifest: object;\n        fragments: FileData[];\n        logger?: ExtensionLogger;\n    };\n};\n\nexport type GenerateSchemaV2Type =\n    | GenerateListReportV2\n    | GenerateObjectPageV2\n    | GenerateOverviewPageV2\n    | GenerateAnalyticalListPageV2;\n\nexport interface GenerateSchemaV2 {\n    [FioriElementsVersion.v2]: GenerateSchemaV2Type;\n}\n\n/**\n * Types for V4 schema generation\n */\nexport type GenerateListReportV4 = {\n    [SchemaType.ListReport]: {\n        genericSchema: object;\n        entitySet: string;\n        annotations: FileData[];\n        logger?: ExtensionLogger;\n        manifest?: object;\n    };\n};\n\nexport type GenerateObjectPageV4 = {\n    [SchemaType.ObjectPage]: {\n        genericSchema: object;\n        entitySet: string;\n        annotations: FileData[];\n        manifest: object;\n        logger?: ExtensionLogger;\n    };\n};\n\nexport type GenerateAnalyticalListPageV4 = {\n    [SchemaType.AnalyticalListPage]: {\n        genericSchema: object;\n        entitySet: string;\n        annotations: FileData[];\n        logger?: ExtensionLogger;\n        manifest?: object;\n    };\n};\n\nexport type GenerateFreestylePageV4 = {\n    [SchemaType.FreestylePage]: {\n        genericSchema: object;\n        annotations: FileData[];\n        manifest: object;\n        logger?: ExtensionLogger;\n    };\n};\n\nexport type GenerateSchemaV4Type =\n    | GenerateListReportV4\n    | GenerateObjectPageV4\n    | GenerateAnalyticalListPageV4\n    | GenerateFreestylePageV4;\n\nexport interface GenerateSchemaV4 {\n    [FioriElementsVersion.v4]: GenerateSchemaV4Type;\n}\n\n/**\n * Union types for schema generation\n */\nexport type GenerateSchemaParameters = GenerateSchemaV2 | GenerateSchemaV4;\n\n/**\n * Types for v2 export\n */\nexport type ExportListReportV2Parameters = {\n    appId: string;\n    page: v2.Page;\n    manifest: object;\n    jsonSchema: object;\n    fragments?: FileData[];\n    logger?: ExtensionLogger;\n};\nexport type ExportListReportV2 = {\n    [SchemaType.ListReport]: ExportListReportV2Parameters;\n};\n\nexport type ExportAnalyticalListPageV2Parameters = ExportListReportV2Parameters;\nexport type ExportAnalyticalListPageV2 = {\n    [SchemaType.AnalyticalListPage]: ExportAnalyticalListPageV2Parameters;\n};\n\nexport type ExportOverviewPageV2Parameters = {\n    page: v2.Page;\n    manifest: object;\n    jsonSchema: object;\n    logger?: ExtensionLogger;\n};\nexport type ExportOverviewPageV2 = {\n    [SchemaType.OverviewPage]: ExportOverviewPageV2Parameters;\n};\n\nexport type ExportObjectPageV2Parameters = {\n    appId: string;\n    page: v2.Page;\n    manifest: object;\n    jsonSchema: object;\n    fragments?: FileData[];\n    logger?: ExtensionLogger;\n};\nexport type ExportObjectPageV2 = {\n    [SchemaType.ObjectPage]: ExportObjectPageV2Parameters;\n};\n\nexport type ExportAppV2 = {\n    [SchemaType.Application]: {\n        application: v2.ApplicationV2;\n        manifest: object;\n        jsonSchema: object;\n        logger?: ExtensionLogger;\n    };\n};\n\n/**\n * Types for v4 export\n */\nexport type ExportListReportV4Parameters = {\n    appId: string;\n    page: v4.PageV4;\n    manifest: object;\n    jsonSchema: object;\n    logger?: ExtensionLogger;\n    appRootPath?: string;\n};\nexport type ExportListReportV4 = {\n    [SchemaType.ListReport]: ExportListReportV4Parameters;\n};\n\nexport type ExportAnalyticalListPageV4Parameters = ExportListReportV4Parameters;\n\nexport type ExportAnalyticalListPageV4 = {\n    [SchemaType.AnalyticalListPage]: ExportAnalyticalListPageV4Parameters;\n};\n\nexport type ExportObjectPageV4Parameters = {\n    appId: string;\n    page: v4.Page;\n    manifest: object;\n    jsonSchema: object;\n    logger?: ExtensionLogger;\n    appRootPath?: string;\n};\nexport type ExportObjectPageV4 = {\n    [SchemaType.ObjectPage]: ExportObjectPageV4Parameters;\n};\n\nexport type ExportAppV4 = {\n    [SchemaType.Application]: {\n        application: v4.ApplicationV4;\n        manifest: object;\n        jsonSchema: object;\n        logger?: ExtensionLogger;\n    };\n};\n\nexport type ExportParametersV4Type = ExportListReportV4 | ExportObjectPageV4 | ExportAppV4 | ExportAnalyticalListPageV4;\n\nexport interface ExportParametersV4 {\n    [FioriElementsVersion.v4]: ExportParametersV4Type;\n}\n\nexport interface UI5Version {\n    ui5Version?: string;\n    layer?: FlexChangeLayer;\n}\n\nexport type ExportParametersV2Type =\n    | ExportListReportV2\n    | ExportObjectPageV2\n    | ExportOverviewPageV2\n    | ExportAppV2\n    | ExportAnalyticalListPageV2;\n\nexport interface ExportParametersV2 {\n    [FioriElementsVersion.v2]: ExportParametersV2Type;\n}\n\n/**\n * Union types for export\n */\nexport type ExportConfigParameters = UI5Version & (ExportParametersV2 | ExportParametersV4);\n\n/**\n * Types for v2 import\n */\nexport type ImportListReportV2Parameters = {\n    manifest: object;\n    flex: string[];\n    jsonSchema: object;\n    fragments?: FileData[];\n    logger?: ExtensionLogger;\n};\nexport type ImportListReportV2 = {\n    [SchemaType.ListReport]: ImportListReportV2Parameters;\n};\n\nexport type ImportObjectPageV2Parameters = {\n    manifest: object;\n    flex: string[];\n    jsonSchema: object;\n    entitySet: string;\n    fragments?: FileData[];\n    logger?: ExtensionLogger;\n};\nexport type ImportObjectPageV2 = {\n    [SchemaType.ObjectPage]: ImportObjectPageV2Parameters;\n};\n\nexport type ImportOverviewPageV2Parameters = {\n    manifest: object;\n    jsonSchema: object;\n    logger?: ExtensionLogger;\n};\nexport type ImportOverviewPageV2 = {\n    [SchemaType.OverviewPage]: ImportOverviewPageV2Parameters;\n};\n\nexport type ImportALPV2Parameters = ImportListReportV2Parameters;\nexport type ImportAnalyticalListPageV2 = {\n    [SchemaType.AnalyticalListPage]: ImportALPV2Parameters;\n};\n\n/**\n * Types for v4 import\n */\nexport type ImportListReportV4Parameters = {\n    manifest: object;\n    jsonSchema: Definition;\n    logger?: ExtensionLogger;\n};\nexport type ImportListReportV4 = {\n    [SchemaType.ListReport]: ImportListReportV4Parameters;\n};\n\nexport type ImportObjectPageV4Parameters = {\n    manifest: object;\n    jsonSchema: Definition;\n    routingId: string;\n    logger?: ExtensionLogger;\n};\nexport type ImportObjectPageV4 = {\n    [SchemaType.ObjectPage]: ImportObjectPageV4Parameters;\n};\n\nexport type ImportAnalyticalListPageV4Parameters = ImportListReportV4Parameters;\nexport type ImportAnalyticalListPageV4 = {\n    [SchemaType.AnalyticalListPage]: ImportAnalyticalListPageV4Parameters;\n};\n\nexport type ImportParametersV4Type = ImportListReportV4 | ImportObjectPageV4 | ImportAnalyticalListPageV4;\n\nexport interface ImportParametersV4 {\n    [FioriElementsVersion.v4]: ImportParametersV4Type;\n}\n\nexport type ImportParametersV2Type =\n    | ImportListReportV2\n    | ImportObjectPageV2\n    | ImportOverviewPageV2\n    | ImportAnalyticalListPageV2;\nexport interface ImportParametersV2 {\n    [FioriElementsVersion.v2]: ImportParametersV2Type;\n}\n\nexport type ImportResultsV2 =\n    | v2.ListReportConfigV2\n    | v2.ObjectPageConfigV2\n    | v2.OverviewPageConfigV2\n    | v2.AnalyticalListPageConfigV2;\nexport type ImportResultsV4 = v4.ListReportConfigV4 | v4.ObjectPageConfigV4;\n\nexport type ImportConfigParameters = ImportParametersV2 | ImportParametersV4;\nexport type ImportResults = ImportResultsV2 | ImportResultsV4;\n\n/**\n * Types for project import\n */\nexport interface ImportProjectParameters {\n    manifest: Manifest;\n    annotations: FileData[];\n    flex?: string[];\n    fragments?: FileData[];\n    logger?: ExtensionLogger;\n}\n\nexport enum TemplateType {\n    ListReportObjectPageV2 = 'ListReportObjectPageV2',\n    ListReportObjectPageV4 = 'ListReportObjectPageV4',\n    OverviewPageV2 = 'OverviewPageV2',\n    AnalyticalListPageV2 = 'AnalyticalListPageV2',\n    AnalyticalListPageV4 = 'AnalyticalListPageV4',\n    FreestylePageV4 = 'FreestylePageV4'\n}\n\nexport interface GenerateAppSchemaParameters {\n    templateType: TemplateType;\n    manifest: Manifest;\n    serviceAVT: ConvertedMetadata;\n    fioriElementsVersion: FioriElementsVersion;\n    entitySet?: EntitySet;\n    fragments?: FileData[];\n    logger?: ExtensionLogger;\n}\n\nexport enum CustomExtensionType {\n    CustomPage = 'CustomPage',\n    CustomColumn = 'CustomColumn',\n    CustomSection = 'CustomSection',\n    ObjectPage = 'ObjectPage',\n    CustomAction = 'CustomAction',\n    CustomView = 'CustomView',\n    ControllerExtension = 'ControllerExtension'\n}\n\nexport interface GenerateCustomExtensionParams {\n    customExtension: CustomExtensionType;\n    basePath: string;\n    data: CustomExtensionData;\n    fsEditor?: Editor;\n}\n\nexport type CustomExtensionData =\n    | FPMCustomPage\n    | FPMCustomTableColumn\n    | FPMCustomSection\n    | FPMObjectPage\n    | FPMCustomAction\n    | FPMCustomView\n    | FPMControllerExtension;\n\n/**\n * API Version\n */\nexport interface ApiVersion {\n    version?: string;\n    fpmWriter?: string;\n}\n\n/**\n * API interface\n */\nexport interface Specification {\n    getGenericSchema: (FioriElementsVersion, SchemaType) => Promise<JSON>;\n    generateSchema: (GenerateSchemaParameters) => object;\n    exportConfig: (ExportConfigParameters) => ExportResults;\n    importConfig: (ImportConfigParameters) => ImportResults;\n    importProject: (ImportProjectParameters) => Promise<File[]>;\n    getApiVersion: () => ApiVersion;\n    importProjectSchema: (ImportProjectParameters) => Promise<File[]>;\n    generateCustomExtension: (GenerateCustomExtensionParams) => Editor;\n}\n", "export * from './controls';\nexport * from './webapp';\nexport * from './page';\nexport * from './pages';\nexport * from './overviewPage';\nexport * from './application';\nexport * from './ApplicationV2';\n", "/**\n * Represents the card default grid size in columns and rows\n */\nexport type DefaultSpanDef =\n    | {\n          /**\n           * Represents the card width calculated based on window width.\n           */\n          cols: number;\n          /**\n           * Represents the number of line items to display for table and list cards.\n           */\n          rows: number;\n          /**\n           * Set showOnlyHeader to true to render only the card header.\n           */\n          showOnlyHeader?: boolean;\n          /**\n           * To show more lines of text in the title you can configure this property (maximum allowed: 3 lines).\n           */\n          minimumTitleRow?: number;\n          /**\n           * To show more lines of text in the sub-title you can configure this property (maximum allowed: 2 lines).\n           */\n          minimumSubTitleRow?: number;\n      }\n    | 'auto';\n\nexport interface TabSetting {\n    /**\n     * Represents the annotation path.\n     */\n    annotationPath?: string;\n    /**\n     * Represents the selection annotation path.\n     */\n    selectionAnnotationPath?: string;\n    /**\n     * Represents the chart annotation path.\n     */\n    chartAnnotationPath?: string;\n    /**\n     * Represents the presentation annotation path.\n     */\n    presentationAnnotationPath?: string;\n    /**\n     * Represents the data point annotation path.\n     */\n    dataPointAnnotationPath?: string;\n    /**\n     * Represents the identification annotation path.\n     */\n    identificationAnnotationPath?: string;\n    /**\n     * Represents the dynamic subtitle annotation path\n     */\n    dynamicSubtitleAnnotationPath?: string;\n    /**\n     * Represents the drop down value to be shown\n     */\n    value?: string;\n    /**\n     * This property is responsible for setting specific chart settings.\n     */\n    chartProperties?: {\n        plotArea?: PlotAreaDef;\n    };\n    /**\n     * Represents the configuration to customize the column stacked chart.\n     */\n    colorPalette?:\n        | {\n              [k: string]: any;\n          }[]\n        | {\n              [k: string]: any;\n          };\n    [k: string]: any;\n}\n\nexport interface CommonCardSettings {\n    /**\n     * Represents the dominant entity set that will be displayed in the given card.\n     */\n    entitySet?: string;\n    /**\n     * The language-dependent title of the card, used in the card header.\n     * @i18nClassification TIT: Title of the card, used in the card header\n     */\n    title: string;\n    /**\n     * The language-dependent subtitle of the card, used in the card header.\n     * @i18nClassification TIT: Subtitle of the card, used in the card header\n     */\n    subTitle?: string;\n    /**\n     * Represents the identification annotation path.\n     */\n    identificationAnnotationPath?: string;\n    /**\n     * Represents the selection annotation path.\n     */\n    selectionAnnotationPath?: string;\n    /**\n     * Represents the presentation annotation path.\n     */\n    presentationAnnotationPath?: string;\n    /**\n     * The category of the card, as used in the card header.\n     */\n    category?: string;\n    /**\n     * To load cards with specific requirements, define a default size as part of the card definition in the descriptor file.\n     */\n    defaultSpan?: DefaultSpanDef;\n    /**\n     * Define an authorization check at card level.\n     */\n    requireAppAuthorization?: string;\n    /**\n     * Represents the card with view switch control.\n     */\n    tabs?: [TabSetting, ...TabSetting[]];\n    /**\n     * add $Select parameter in data fetch URL\n     */\n    addODataSelect?: boolean;\n}\n\nexport enum ChartCardType {\n    cardBubble = 'cardBubble',\n    cardchartsline = 'cardchartsline',\n    cardchartsdonut = 'cardchartsdonut'\n}\n\nexport enum CardTemplateType {\n    analytical = 'sap.ovp.cards.charts.analytical',\n    analyticalv4 = 'sap.ovp.cards.v4.charts.analytical',\n    list = 'sap.ovp.cards.list',\n    listv4 = 'sap.ovp.cards.v4.list',\n    linklist = 'sap.ovp.cards.linklist',\n    linklistv4 = 'sap.ovp.cards.v4.linklist',\n    table = 'sap.ovp.cards.table',\n    tablev4 = 'sap.ovp.cards.v4.table',\n    stack = 'sap.ovp.cards.stack'\n}\n\nexport const cardTemplateTypeMap = {\n    'sap.ovp.cards.charts.analytical': 'AnalyticalCard',\n    'sap.ovp.cards.v4.charts.analytical': 'AnalyticalCard',\n    'sap.ovp.cards.list': 'ListCard',\n    'sap.ovp.cards.v4.list': 'ListCard',\n    'sap.ovp.cards.linklist': 'LinklistCard',\n    'sap.ovp.cards.v4.linklist': 'LinklistCard',\n    'sap.ovp.cards.table': 'TableCard',\n    'sap.ovp.cards.v4.table': 'TableCard',\n    'sap.ovp.cards.stack': 'StackCard'\n};\n\nexport enum CardSettingsType {\n    analyticalCardSettings = 'analyticalCardSettings',\n    analyticalCardSettingsv4 = 'analyticalCardSettingsv4',\n    listCardSettings = 'listCardSettings',\n    listCardSettingsv4 = 'listCardSettingsv4',\n    stackCardSettings = 'stackCardSettings',\n    linkListCardSettings = 'linkListCardSettings',\n    tableCardSettings = 'tableCardSettings',\n    tableCardSettingsv4 = 'tableCardSettingsv4'\n}\n\nexport enum MeasureAggregateValues {\n    average = 'average',\n    max = 'max',\n    min = 'min',\n    sum = 'sum',\n    count = '$count'\n}\n\nexport interface MeasureAggregateSettings {\n    Axis1?: MeasureAggregateValues;\n    Axis2?: MeasureAggregateValues;\n    Axis3?: MeasureAggregateValues;\n}\n\n/**\n * Custom Card\n * @isViewNode true\n */\nexport interface CustomCard {\n    /**\n     * Represents the model for the card\n     */\n    model: string;\n    /**\n     * Represents the card component path to use for this card.\n     * @TJS-pattern ^(?!(sap.ovp.cards.charts.analytical|sap.ovp.cards.v4.charts.analytical|sap.ovp.cards.linklist|sap.ovp.cards.v4.linklist|sap.ovp.cards.list|sap.ovp.cards.v4.list|sap.ovp.cards.stack|sap.ovp.cards.table|sap.ovp.cards.v4.table)$).*$\n     */\n    template: string; // due the extension concept for cards, this can be any string\n    /**\n     * Represents the properties that are passed to the custom card.\n     */\n    settings?: CustomCardSettings;\n}\n/**\n * List Card\n * @isViewNode true\n * @controlProperty template\n */\nexport interface ListCard {\n    /**\n     * Represents the model for the List Card\n     */\n    model: string;\n    /**\n     * Represents the card component path to use for this List Card.\n     */\n    template: CardTemplateType.list | CardTemplateType.listv4;\n    /**\n     * Represents the properties that are passed to the list card.\n     */\n    listCardSettings: ListCardSettings;\n}\n\n/**\n * Stack Card\n * @isViewNode true\n * @controlProperty template\n */\nexport interface StackCard {\n    /**\n     * Represents the model for the StackCard.\n     */\n    model: string;\n    /**\n     * Represents the Stack Card component path to use for this card.\n     */\n    template: CardTemplateType.stack;\n    /**\n     * Represents the properties that are passed to the stack card.\n     */\n    stackCardSettings: StackCardSettings;\n}\n\n/**\n * Link List Card\n * @isViewNode true\n * @controlProperty template\n */\nexport interface LinklistCard {\n    /**\n     * Represents the model for the Link list Card.\n     */\n    model?: string;\n    /**\n     * Represents the Link list Card component path to use for this card.\n     */\n    template: CardTemplateType.linklist | CardTemplateType.linklistv4;\n    /**\n     * Represents the properties that are passed to the link list card.\n     */\n    linkListCardSettings: LinkListCardSettings;\n}\n\n/**\n * Table Card\n * @isViewNode true\n * @controlProperty template\n */\nexport interface TableCard {\n    /**\n     * Represents the model for the TableCard.\n     */\n    model: string;\n    /**\n     * Represents the Table Card component path to use for this card.\n     */\n    template: CardTemplateType.table | CardTemplateType.tablev4;\n    /**\n     * Represents the properties that are passed to the table card.\n     */\n    tableCardSettings: TableCardSettings;\n    /**\n     * If you set disableTableCardFlexibility to true, then at runtime, DataField records are sorted according to the importance set in the com.sap.vocabularies.UI.v1.ImportanceType annotation, and their order of entry.\n     * If you set disableTableCardFlexibility to false, then at runtime, table columns are sorted according to the importance set in the com.sap.vocabularies.UI.v1.ImportanceType annotation, and their order of entry.\n     */\n    disableTableCardFlexibility?: boolean;\n}\n\n/**\n * Analytical Card\n * @isViewNode true\n * @controlProperty template\n */\nexport interface AnalyticalCard {\n    /**\n     * Represents the model for the Analytical Card\n     */\n    model: string;\n    /**\n     * Represents the Analytical Card component path to use for this card.\n     */\n    template: CardTemplateType.analytical | CardTemplateType.analyticalv4;\n    /**\n     * Represents the properties that are passed to the analytical card.\n     */\n    analyticalCardSettings: AnalyticalCardSettings | AnalyticalCardSettingsv4;\n}\n\nexport type CustomCardNavigationType = 'dataPointNav' | 'chartNav' | 'headerNav' | 'noHeaderNav';\n\n/**\n * @displayName settings\n */\nexport interface CustomCardSettings extends CommonCardSettings {\n    /**\n     * Represents the user defined string in placeholder card.\n     */\n    itemText?: string;\n    /**\n     * Represents things like people, number of items.\n     */\n    valueSelectionInfo?: string;\n    /**\n     * Represents the static content that will be displayed in this card.\n     */\n    staticContent?: {\n        [k: string]: any;\n    }[];\n    /**\n     * Represents the flavor of the list to use in this card. The flavor can be bar chart, carousel or standard.\n     */\n    listFlavor?: 'standard' | 'bar' | 'carousel';\n    /**\n     * Represents the type of list to use for this card. The list can be extended to display more information or condensed to take up less space on the card.\n     */\n    listType?: 'extended' | 'condensed';\n    /**\n     * Represents the sort key for the entity set.\n     */\n    sortBy?: string;\n    /**\n     * Represents the sort order for the entity set.\n     */\n    sortOrder?: 'ascending' | 'descending';\n    /**\n     * Represents the annotation path.\n     */\n    annotationPath?: string;\n    /**\n     * Represents the chart annotation path.\n     */\n    chartAnnotationPath?: string;\n    /**\n     * Represents the data point annotation path.\n     */\n    dataPointAnnotationPath?: string;\n    /**\n     * Represents the KPI annotation path.\n     */\n    kpiAnnotationPath?: string;\n    /**\n     * Represents the selection presentation annotation path.\n     */\n    selectionPresentationAnnotationPath?: string;\n    /**\n     * Represents the dynamic subtitle annotation path.\n     */\n    dynamicSubtitleAnnotationPath?: string;\n    /**\n     * Represents the flag to indicate priority of number formatting over sap text.\n     */\n    ignoreSapText?: boolean;\n    /**\n     * Represents the Object Stream properties - properties that are passed to the Object Stream cards.\n     */\n    objectStreamCardsSettings?: {\n        /**\n         * If this flag is set to true, the first action on the footer of the quick view card will be a navigation action.\n         * If the flag is set to false, the navigation action on the footer of the quick view card isn't displayed. Other actions are shown instead.\n         * The default value of the flag is false.\n         */\n        showFirstActionInFooter?: boolean;\n        /**\n         * Represents the annotation path.\n         */\n        annotationPath?: string;\n    };\n    /**\n     * Represents the flag to indicate the use of object number/smart field.\n     */\n    enableLocaleCurrencyFormatting?: boolean;\n    /**\n     * Represents the configuration to alter the navigation mode in OVP Analytical Cards.\n     */\n    navigation?: CustomCardNavigationType;\n    /**\n     * Represents a switch to Show or Hide Filters in Cards Headers in OVP application.\n     */\n    showFilterInHeader?: boolean;\n    /**\n     * Represents a switch to Show or Hide Sorting in Cards Headers in OVP application.\n     */\n    showSortingInHeader?: boolean;\n    /**\n     * Flag for enabling images in a condensed list card.\n     */\n    imageSupported?: boolean;\n    /**\n     * Flag for show line item detail in list and table card.\n     */\n    showLineItemDetail?: boolean;\n    /**\n     * This property is responsible for showing and hiding text labels on the geo spots.\n     */\n    showLabelText?: boolean;\n    /**\n     * This property is responsible for passing custom parameters present in the entity set to the navigating application.\n     */\n    customParams?: string;\n    /**\n     * This property is responsible for setting specific chart settings.\n     */\n    chartProperties?: {\n        plotArea?: PlotAreaDef;\n    };\n    /**\n     * Represents the configuration to customize the column stacked chart.\n     */\n    colorPalette?:\n        | {\n              [k: string]: any;\n          }[]\n        | {\n              [k: string]: any;\n          };\n    [k: string]: any;\n}\n\n/**\n * @displayName settings\n */\nexport interface AnalyticalCardSettings extends CommonCardSettings {\n    /**\n     * Represents the chart annotation path.\n     */\n    chartAnnotationPath?: string;\n    /**\n     * Represents the data point annotation path.\n     */\n    dataPointAnnotationPath?: string;\n    /**\n     * Represents things like people, number of items.\n     */\n    valueSelectionInfo?: string;\n}\n\n/**\n * @displayName settings\n */\nexport interface AnalyticalCardSettingsv4 extends AnalyticalCardSettings {\n    /**\n     *\n     */\n    measureAggregate?: MeasureAggregateSettings;\n}\n\nexport enum ListFlavorType {\n    standard = 'standard',\n    bar = 'bar',\n    carousel = 'carousel'\n}\n\nexport enum ListTypeType {\n    extended = 'extended',\n    condensed = 'condensed'\n}\n\nexport enum SortOrderType {\n    ascending = 'ascending',\n    descending = 'descending'\n}\n\n/**\n * @displayName settings\n */\nexport interface ListCardSettings extends CommonCardSettings {\n    /**\n     * Represents the flavor of the list to use in this card. The flavor can be bar chart, carousel or standard.\n     */\n    listFlavor?: ListFlavorType;\n    /**\n     * Represents the type of list to use for this card. The list can be extended to display more information or condensed to take up less space on the card.\n     */\n    listType?: ListTypeType;\n    /**\n     * Represents the annotation path.\n     */\n    annotationPath?: string;\n    /**\n     * Represents things like people, number of items.\n     */\n    valueSelectionInfo?: string;\n    /**\n     * Defines the property by which the list shall be sorted.\n     */\n    sortBy?: string;\n    /**\n     * Defines the sort order.\n     */\n    sortOrder?: SortOrderType;\n    /**\n     * Represents the data point annotation path.\n     */\n    dataPointAnnotationPath?: string;\n    /**\n     * Flag for show line item detail in list and table card.\n     */\n    showLineItemDetail?: boolean;\n}\n\n/**\n * @displayName settings\n */\nexport interface StackCardSettings extends CommonCardSettings {\n    /**\n     * Represents the user defined string in placeholder card.\n     */\n    itemText?: string;\n    /**\n     * The navigation property used to display information from a secondary entity set.\n     */\n    objectStreamCardsNavigationProperty?: string;\n    /**\n     * Configures additional settings for the cards displayed in the object stream.\n     */\n    objectStreamCardsSettings?: {\n        /**\n         * If this flag is set to true, the first action on the footer of the quick view card will be a navigation action.\n         * If the flag is set to false, the navigation action on the footer of the quick view card isn't displayed. Other actions are shown instead.\n         * The default value of the flag is false.\n         */\n        showFirstActionInFooter?: boolean;\n        /**\n         * Represents the annotation path.\n         */\n        annotationPath?: string;\n    };\n}\n\n/**\n * @displayName settings\n */\nexport interface TableCardSettings extends CommonCardSettings {\n    /**\n     * Represents the annotation path.\n     */\n    annotationPath?: string;\n    /**\n     * Represents the flavor of the list to use in this card. The flavor can be bar chart, carousel or standard.\n     */\n    listFlavor?: ListFlavorType;\n    /**\n     * Represents the type of list to use for this card. The list can be extended to display more information or condensed to take up less space on the card.\n     */\n    listType?: ListTypeType;\n    /**\n     * Represents the data point annotation path.\n     */\n    dataPointAnnotationPath?: string;\n    /**\n     * Represents the selection presentation annotation path.\n     */\n    selectionPresentationAnnotationPath?: string;\n    /**\n     * Represents things like people, number of items.\n     */\n    valueSelectionInfo?: string;\n    /**\n     * Defines the property by which the list shall be sorted.\n     */\n    sortBy?: string;\n    /**\n     * Defines the sort order.\n     */\n    sortOrder?: SortOrderType;\n    /**\n     * Flag for show line item detail in list and table card.\n     */\n    showLineItemDetail?: boolean;\n}\n\nexport enum LinkListFlavorType {\n    standard = 'standard',\n    carousel = 'carousel'\n}\n\n/**\n * @displayName settings\n */\nexport interface LinkListCardSettings extends CommonCardSettings {\n    /**\n     * The targetUri is a URI defining the link to a quick view, related application or external resource.\n     */\n    targetUri?: string;\n    /**\n     * listFlavor represents the flavor of the list to use in this card. The flavor can be bar chart, carousel or standard.\n     */\n    listFlavor?: LinkListFlavorType;\n    /**\n     * sortBy defines the property by which the list shall be sorted.\n     */\n    sortBy?: string;\n    /**\n     * sortOrder defines the sort order. Valid values are 'ascending' or 'descending'\n     */\n    sortOrder?: SortOrderType;\n    /**\n     * headerAnnotationPath represents the path to a HeaderInfo annotation.\n     */\n    headerAnnotationPath?: string;\n    /**\n     * staticContent represents the static content of a static link list card.\n     */\n    staticContent?: StaticContent[];\n    /**\n     * Represents the annotation path.\n     */\n    annotationPath?: string;\n}\n\nexport interface StaticContent {\n    /**\n     * The language-dependent title of the StaticContent.\n     * @i18nClassification TIT: Title of the StaticContent\n     */\n    title: string;\n    /**\n     * The language-dependent subtitle of the StaticContent.\n     * @i18nClassification TIT: Subtitle of the StaticContent\n     */\n    subTitle?: string;\n    /**\n     * The uri for the image of the StaticContent.\n     */\n    imageUri?: string;\n    /**\n     * The uri for the target of the StaticContent.\n     */\n    targetUri?: string;\n    /**\n     * The alternative text for the image of the StaticContent.\n     * @i18nClassification ALT: The alternative text for the image of the StaticContent\n     */\n    imageAltText?: string;\n    /**\n     * Used to provide intent based navigation.\n     */\n    semanticObject?: string;\n    /**\n     * Used to provide intent based navigation.\n     */\n    action?: string;\n    /**\n     * Open static content in a new window.\n     */\n    openInNewWindow?: boolean;\n}\n/**\n * Plot area is a parent property which defines multiple other properties for smoothness and marker size.\n */\nexport interface PlotAreaDef {\n    /**\n     * isSmoothed represents whether smoother curves are required or not.\n     */\n    isSmoothed?: boolean;\n    /**\n     * markerSize represents the size of the markers in scatter plots.\n     */\n    markerSize?: number;\n    /**\n     * dataLabel is a parent property that defines other properties for type.\n     */\n    dataLabel?: {\n        /**\n         * The data label type defines whether to display percentage values or actual counts in the donut chart.\n         */\n        type?: 'value' | 'percentage';\n    };\n}\n", "export const enum DateRangeType {\n    DATERANGE = 'DATERANGE',\n    DATE = 'DATE',\n    FROM = 'FROM',\n    TO = 'TO',\n    DAYS = 'DAYS',\n    LASTDAYS = 'LASTDAYS',\n    LASTWEEKS = 'LASTWEEKS',\n    WEEK = 'WEEK',\n    LASTMONTHS = 'LASTMONTHS',\n    MONTH = 'MONTH',\n    QUARTER = 'QUARTER',\n    LASTQUARTERS = 'LASTQUARTERS',\n    LASTYEARS = 'LASTYEARS',\n    LASTYEAR = 'LASTYEAR',\n    YEAR = 'YEAR',\n    NEXTDAYS = 'NEXTDAYS',\n    NEXTWEEKS = 'NEXTWEEKS',\n    NEXTMONTHS = 'NEXTMONTHS',\n    NEXTQUARTERS = 'NEXTQUARTERS',\n    NEXTYEARS = 'NEXTYEARS',\n    NEXT = 'NEXT',\n    SPECIFICMONTH = 'SPECIFICMONTH',\n    YESTERDAY = 'YESTERDAY',\n    YEARTODATE = 'YEARTODATE',\n    TODAY = 'TODAY',\n    TOMORROW = 'TOMORROW',\n    THISWEEK = 'THISWEEK',\n    LASTWEEK = 'LASTWEEK',\n    LAST2WEEKS = 'LAST2WEEKS',\n    LAST3WEEKS = 'LAST3WEEKS',\n    LAST4WEEKS = 'LAST4WEEKS',\n    LAST5WEEKS = 'LAST5WEEKS',\n    NEXTWEEK = 'NEXTWEEK',\n    NEXT2WEEKS = 'NEXT2WEEKS',\n    NEXT3WEEKS = 'NEXT3WEEKS',\n    NEXT4WEEKS = 'NEXT4WEEKS',\n    NEXT5WEEKS = 'NEXT5WEEKS',\n    THISMONTH = 'THISMONTH',\n    LASTMONTH = 'LASTMONTH',\n    NEXTMONTH = 'NEXTMONTH',\n    THISQUARTER = 'THISQUARTER',\n    LASTQUARTER = 'LASTQUARTER',\n    NEXTQUARTER = 'NEXTQUARTER',\n    QUARTER1 = 'QUARTER1',\n    QUARTER2 = 'QUARTER2',\n    QUARTER3 = 'QUARTER3',\n    QUARTER4 = 'QUARTER4',\n    TODAYFROMTO = 'TODAYFROMTO'\n}\n\nexport const enum DefaultDateRangeValueType {\n    YESTERDAY = 'YESTERDAY',\n    TODAY = 'TODAY',\n    THISWEEK = 'THISWEEK',\n    LASTWEEK = 'LASTWEEK',\n    THISMONTH = 'THISMONTH',\n    TOMORROW = 'TOMORROW',\n    LASTMONTH = 'LASTMONTH',\n    THISQUARTER = 'THISQUARTER',\n    LASTQUARTER = 'LASTQUARTER',\n    THISYEAR = 'THISYEAR',\n    LASTYEAR = 'LASTYEAR',\n    LAST2WEEKS = 'LAST2WEEKS',\n    LAST3WEEKS = 'LAST3WEEKS',\n    LAST4WEEKS = 'LAST4WEEKS',\n    LAST5WEEKS = 'LAST5WEEKS',\n    YEARTODATE = 'YEARTODATE',\n    QUARTER1 = 'QUARTER1',\n    QUARTER2 = 'QUARTER2',\n    QUARTER3 = 'QUARTER3',\n    QUARTER4 = 'QUARTER4',\n    DATETOYEAR = 'DATETOYEAR'\n}\n\n/**\n * Filter Field\n * @isViewNode true\n */\nexport type SelectionField = {} | SelectionFieldDateSettings;\n\n/**\n * Filter Field for Date Settings\n * @isViewNode true\n */\nexport interface SelectionFieldDateSettings {\n    /**\n     * The selectedValues property is a set of standard date range values that you want to include or exclude.\n     */\n    selectedValues?: DateRangeType[];\n    /**\n     * The exclude property is set to True by default. This means excluding all values given as selectedValues from the list of date range filters. If the exclude property is set to False, the application shows only selected values in the list of date range filters.\n     */\n    exclude?: boolean;\n    /**\n     * This property references a JS class, which you use to modify the date range value list. You can either remove standard data range values or add custom values.\n     * The customDateRangeImplementation setting takes priority followed by filter and selectedValues when excluding date range types.\n     */\n    customDateRangeImplementation?: string;\n    /**\n     * You can use the filter settings to include and exclude specific date range values.\n     */\n    filter?: FilterType[];\n    /**\n     * You can set a default value for semantic date range.\n     */\n    defaultValue?: DefaultDateRange;\n}\n\n/**\n * Filter Fields\n * @isViewNode true\n */\nexport interface SelectionFields {\n    [key: string]: SelectionField;\n}\n\nexport type FilterTypeCategory = {\n    /**\n     * Choose 'key' to define filter values for single values of the date range type, or 'category' to filter by a whole subset.\n     */\n    path: 'category';\n    /**\n     * The 'contains' string specifies a filter describing a set of values of the date range type.\n     */\n    contains?: string;\n    /**\n     * Defines a single value of the standard date range type.\n     */\n    equals?: DateRangeType[];\n    /**\n     * The exclude property is set to True by default. This means excluding all values given as selectedValues from the list of date range filters. If the exclude property is set to False, the application shows only selected values in the list of date range filters.\n     */\n    exclude?: boolean;\n};\n\nexport type FilterTypeKey = {\n    /**\n     * Choose 'key' to define filter values for single values of the date range, or 'category' to filter by a whole subset.\n     */\n    path: 'key';\n    /**\n     * The 'contains' string specifies a filter describing a set of values of the date range type.\n     */\n    contains?: string;\n    /**\n     * Defines a single value of the standard date range type.\n     */\n    equals?: DateRangeType[];\n    /**\n     * The exclude property is set to True by default. This means excluding all values given as selectedValues from the list of date range filters. If the exclude property is set to False, the application shows only selected values in the list of date range filters.\n     */\n    exclude?: boolean;\n};\n\nexport type FilterType = FilterTypeKey | FilterTypeCategory;\n\nexport interface DefaultDateRange {\n    /**\n     * The operation property is the value that will be set for semantic date range.\n     */\n    operation: DefaultDateRangeValueType;\n}\n\nexport interface DateRange {\n    /**\n     * If set to true all date fields with filter restriction interval will be treated as DateTimeRange filters.\n     */\n    useDateRange?: boolean;\n    /**\n     * The selectedValues property is a set of standard date range values that you want to include or exclude.\n     */\n    selectedValues?: DateRangeType[];\n    /**\n     * The exclude property is set to True by default. This means excluding all values given as selectedValues from the list of date range filters. If the exclude property is set to False, the application shows only selected values in the list of date range filters.\n     */\n    exclude?: boolean;\n}\n\nexport interface CommonFilterBar {\n    /**\n     * Controls whether smart variant management is active. Default is true.\n     */\n    smartVariantManagement?: boolean;\n    /**\n     * If liveMode is set, the search will be automatically triggered when a filter value is set.\n     */\n\n    liveMode?: boolean;\n    /**\n     * If you set the flag to true, then standard variant management is not available in the app. The app name is displayed instead.\n     * If you set the flag to false or if the flag is not at all contained in the manifest of the app, the standard variant management is available and can be enabled or disabled.\n     */\n    variantManagementHidden?: boolean;\n    /**\n     * You can choose an app-specific title by setting the corresponding value for the subTitleIfVariantMgmtHidden property.\n     * @i18nClassification TIT: Subtitle if variant management is hidden\n     */\n    subTitleIfVariantMgmtHidden?: string;\n    /**\n     * Use to set date settings for fields in smart filter bar\n     */\n    dateSettings?: DateRange;\n    /**\n     * Handles visibility of the Clear button on the FilterBar.\n     */\n    showClearOnFB?: boolean;\n    /**\n     * Handles visibility of the Filter button on the FilterBar.\n     */\n    showFilterConfiguration?: boolean;\n    /**\n     * Handles visibility of the Restore button on the FilterBar.\n     */\n    showRestoreOnFB?: boolean;\n    /**\n     * @isViewNode true\n     * Selection Fields\n     */\n    selectionFields?: SelectionFields;\n}\n\n/**\n * Filter Bar\n * @isViewNode true\n */\nexport interface ListReportFilterBar extends CommonFilterBar {\n    /**\n     * Lets you to add default values for FilterBar using SelectionVariant annotation\n     */\n    annotationPath?: string;\n}\n\n/**\n * Filter Bar\n * @isViewNode true\n */\nexport interface AnalyticalListPageFilterBar extends CommonFilterBar {\n    /**\n     * Go button is displayed for compact filters when this is set to true\n     */\n    showGoButtonOnFilterBar?: boolean;\n    /**\n     * Lets you to add default values for FilterBar using SelectionVariant annotation\n     */\n    filterDefaultsFromSelectionVariant?: boolean;\n}\n", "import type { SAPUI5_FRAGMENT_CLASS } from '../../common/webapp/manifest/sapUi5';\nimport type { ToolBar } from './ToolBar';\nimport type { Action } from './Action';\nimport type { PopinLayout } from 'sap/m/library';\nimport type { smarttable } from 'sap/ui/comp/library';\nimport type { TextAlign } from 'sap/ui/core/library';\n\n/**\n * Column\n * @isViewNode true\n */\nexport interface TableColumn {\n    /**\n     * The width property defines the width of the column.\n     */\n    width?: string;\n    /**\n     * The hAlign property defines the horizontal alignment of the column content.\n     */\n    hAlign?: TextAlign;\n}\n\n/**\n * Column Action\n * @isViewNode true\n */\nexport interface TableColumnAction extends Action, TableColumn {}\n\n/**\n * Custom Column\n * @isViewNode true\n */\nexport interface TableCustomColumn {\n    /**\n     * In case the fragment needs to be re-used for multiple tabs, the id property must be set to make the ids unique.\n     * @artifactType Fragment\n     */\n    id?: string;\n    /**\n     * The label of the custom column, preferably as an i18n key.\n     * @i18nClassification COL: Custom column header text\n     * @artifactType Fragment\n     */\n    text?: string;\n    /**\n     * The column key\n     * @artifactType Fragment\n     */\n    columnKey: string;\n    /**\n     * The index of the column in the overall collection; if undefined, the custom column will be added at the end of the table.\n     * @minimum 0\n     * @hidden true\n     * @artifactType Fragment\n     */\n    columnIndex?: number;\n    /**\n     * If the content of your custom column refers to a property (such as{Price}), you need to include a corresponding 'leadingProperty' entry in the column definition.\n     * @artifactType Fragment\n     */\n    leadingProperty?: string;\n    /**\n     * The UI5 control used for your extension\n     * @artifactType Manifest\n     */\n    className: typeof SAPUI5_FRAGMENT_CLASS;\n    /**\n     * The relative path to your fragment with path segments separated by '.'. The first element is the app ID.\n     * @artifactType Manifest\n     */\n    fragmentName: string;\n    /**\n     * In case of a responsive table, you additionally need to specify a fragment for the table cells.\n     * @artifactType Manifest\n     */\n    cellsFragmentName?: string;\n    /**\n     * If you use QuickVariantSelectionX, you need to define the extensions per tab. 'tabKey' is the key provided when defining the QuickVariantSelectionX.\n     * @artifactType Manifest\n     */\n    tabKey?: string;\n    /**\n     * Type of custom column view extension.\n     * @artifactType Manifest\n     */\n    extensionType: TableColumnExtensionTypeV2;\n}\n\nexport enum customColumnViewTypes {\n    XML = 'XML'\n}\n\nexport enum TableTypeV2 {\n    ResponsiveTable = 'ResponsiveTable',\n    GridTable = 'GridTable',\n    AnalyticalTable = 'AnalyticalTable',\n    TreeTable = 'TreeTable'\n}\n\nexport enum TableColumnExtensionTypeV2 {\n    ResponsiveTableColumnsExtension = 'ResponsiveTableColumnsExtension',\n    AnalyticalTableColumnsExtension = 'AnalyticalTableColumnsExtension',\n    TreeTableColumnsExtension = 'TreeTableColumnsExtension',\n    GridTableColumnsExtension = 'GridTableColumnsExtension'\n}\n\nexport type AnyTableType =\n    | TableTypeV2.AnalyticalTable\n    | TableTypeV2.ResponsiveTable\n    | TableTypeV2.GridTable\n    | TableTypeV2.TreeTable;\nexport type AnyTable = AnalyticalTable | ResponsiveTable | GridTable | TreeTable;\n\n/**\n * Custom Columns\n * @isViewNode true\n */\nexport type TableCustomColumns = Array<TableCustomColumn>;\n\nexport interface GenericColumns {\n    [key: string]: TableColumn | TableCustomColumns | TableColumnAction;\n}\n\nexport interface QuickVariant {\n    /**\n     * A key entry that is used for initializing the corresponding SegmentedButton item. This entry is mandatory.\n     */\n    key: string;\n    /**\n     * Use annotationPath to define a specific variant that points to a SelectionVariant or SelectionPresentationVariant annotation.\n     */\n    annotationPath: string;\n}\n\nexport interface QuickVariantX extends QuickVariant {\n    /**\n     * Represents the entity set that will be displayed in this variant\n     */\n    entitySet: string;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n    /**\n     * The 'Select All' button is disabled by default. To enable it, set selectAll to true.\n     */\n    selectAll?: boolean;\n    /**\n     * If new data needs to be loaded from the back-end system for this, the number of lines to be loaded is restricted to the specified limit. The default value for this limit is 200. If selectAll is true, the selection limit is not evaluated.\n     */\n    selectionLimit?: number;\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: AnyTableType;\n    /**\n     * To enable navigation for charts, you have to set the property to \"true\" and maintain an internal navigation target in the manifest.\n     */\n    showItemNavigationOnChart?: boolean;\n    /**\n     *  Used to enable inline deletion in a responsive table of list report and object page\n     */\n    inlineDelete?: boolean;\n}\n\nexport interface QuickVariantSelection {\n    /**\n     * To show the number of records available, set showCounts to true.\n     */\n    showCounts?: boolean;\n    /**\n     * The variants section contains a set of entries that point to SelectionVariants or SelectionPresentationVariants defined in the annotations.\n     */\n    variants: {\n        [key: number]: QuickVariant;\n    };\n}\n\nexport interface QuickVariantSelectionX extends QuickVariantSelection {\n    /**\n     * When set to true, this enables automatic binding of the table with either the tableBindingPath (if it exists) or the entitySet property.\n     */\n    enableAutoBinding?: boolean;\n    /**\n     * The variants section contains a set of entries that point to SelectionVariants or SelectionPresentationVariants defined in the annotations.\n     */\n    variants: {\n        [key: number]: QuickVariantX;\n    };\n}\n\nexport interface CreateWithFilters {\n    /**\n     * For the new create action to use the filter settings as input, set strategy to \"extension\" and implement the extension function as mentioned in help.sap.com for SAP S/4 HANA, section \u201CPrefilling Fields When Creating a New Entity Using an Extension Point\u201C.\n     */\n    strategy: Strategy;\n}\n\nexport enum Strategy {\n    extension = 'extension'\n}\n\nexport interface MultiEdit {\n    /**\n     * When multiEdit is enabled, by default the dialog displays editable fields corresponding to columns that are currently displayed in the table.\n     */\n    enabled?: boolean;\n    /**\n     * Use annotationPath to define a mass edit dialog that points to a FieldGroup annotation with a qualifier.\n     */\n    annotationPath?: string;\n    /**\n     * You can choose to hide certain fields from being displayed in key user adaptation and restrict them from being added to the Mass Edit dialog.\n     */\n    ignoredFields?: IgnoredFieldsType[];\n}\n\nexport const enum IgnoredFieldsType {\n    GENERICPROPERTY = 'GENERICPROPERTY'\n}\n\nexport enum DefaultContentView {\n    charttable = 'charttable',\n    chart = 'chart',\n    table = 'table'\n}\n\nexport enum DefaultFilterMode {\n    visual = 'visual',\n    compact = 'compact'\n}\n\nexport enum LoadDataOnAppLaunchSettings {\n    always = 'always',\n    never = 'never',\n    ifAnyFilterExist = 'ifAnyFilterExist'\n}\n\nexport interface DataLoadSettings {\n    /**\n     * Change the default behavior for autoloading of data.\n     * For multi-view scenarios, you can also change the setting enableAutobinding to False under quickVariantSelectionX instead of using the loadDataOnAppLaunch setting.\n     */\n    loadDataOnAppLaunch: LoadDataOnAppLaunchSettings;\n}\n\nexport interface CreationFieldKeys {\n    [key: string]: FieldPath;\n}\n\nexport interface FieldPath {\n    path: string;\n}\n\nexport interface Fields4Dialog {\n    fields: CreationFieldKeys;\n}\n\nexport interface CommonTableSettings<COLS = GenericColumns> {\n    /**\n     * You can enable the creation of objects that have a maximum of 8 data fields through a dialog in the list report page.\n     */\n    createWithParameterDialog?: Fields4Dialog;\n    /**\n     * The 'Select All' button is disabled by default. To enable it, set selectAll to true.\n     */\n    selectAll?: boolean;\n    /**\n     * If new data needs to be loaded from the back-end system for this, the number of lines to be loaded is restricted to the specified limit. The default value for this limit is 200. If selectAll is true, the selection limit is not evaluated.\n     */\n    selectionLimit?: number;\n    /**\n     * The showTablePersonalisation attribute can be set to false to hide the table personalization button.\n     */\n    showTablePersonalisation?: boolean;\n    /**\n     * useExportToExcel must be set to true if you want to export data to a spreadsheet application, for example Microsoft Excel.\n     */\n    useExportToExcel?: boolean;\n    /**\n     * Specifies the type of export to be used in the SmartTable control. UI5Client is the default option.\n     */\n    exportType?: smarttable.ExportType;\n    /**\n     * Set to false if the table does not occupy the entire space available in the container.\n     */\n    fitContainer?: boolean;\n    /**\n     * With quickVariantSelection you can switch on the multiple view feature. It links to variants you must have added to your annotations beforehand.\n     */\n    quickVariantSelection?: QuickVariantSelection;\n    /**\n     * Switch on the multiple view feature (Multiple table mode with charts) and link to the variants you have added to your annotations.\n     */\n    quickVariantSelectionX?: QuickVariantSelectionX;\n    /**\n     * For analytical tables, grid tables and tree tables you can define a condensed table layout by setting condensedTableLayout to true.\n     */\n    condensedTableLayout?: boolean;\n    /**\n     * If you have enabled harmonized variant management, by default, you cannot set a filter in the table personalization settings.\n     * To enable filtering, set the enableTableFilterInPageVariant property to true.\n     */\n    enableTableFilterInPageVariant?: boolean;\n    /**\n     * Change the default behavior for autoloading of data.\n     */\n    dataLoadSettings?: DataLoadSettings;\n    /**\n     * Tool Bar\n     */\n    toolBar?: ToolBar;\n    /**\n     * Columns\n     * @isViewNode true\n     */\n    columns?: COLS;\n}\n\nexport interface ResponsiveTableCommonSettings extends CommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.ResponsiveTable;\n    /**\n     * Set includeItemInSelection to true if you want items to be selectable when they are clicked rather than after the selection control has been set.\n     */\n    includeItemInSelection?: boolean;\n    /**\n     * popinLayout defines the layout in which the table pop-in rows are rendered.\n     */\n    popinLayout?: PopinLayout;\n    /**\n     * createWithFilters adds a new create action that uses the filter settings as input.\n     */\n    createWithFilters?: CreateWithFilters;\n    /**\n     * In the list report and on the object page, you can enable buttons to display and hide draft values. By default, these buttons are hidden. To enable them, set the showDraftToggle flag to true.\n     */\n    showDraftToggle?: boolean;\n    /**\n     * growingThreshold defines the number of items to be requested from the model for each grow. This property can only be used if the growing property is set to true.\n     */\n    growingThreshold?: number;\n    /**\n     * Allows you to edit a single object or multiple objects using a dialog in the list report page.\n     */\n    multiEdit?: MultiEdit;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ResponsiveTableWithMultiSelect extends ResponsiveTableCommonSettings {\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ResponsiveTableWithInlineDelete extends ResponsiveTableCommonSettings {\n    /**\n     *  Used to enable inline deletion in a responsive table of list report and object page\n     */\n    inlineDelete?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ResponsiveTable\n    extends ResponsiveTableCommonSettings,\n        ResponsiveTableWithMultiSelect,\n        ResponsiveTableWithInlineDelete {}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface TreeTable extends CommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.TreeTable;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n    /**\n     * In the list report and on the object page, you can enable buttons to display and hide draft values. By default, these buttons are hidden. To enable them, set the showDraftToggle flag to true.\n     */\n    showDraftToggle?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface AnalyticalTable extends CommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.AnalyticalTable;\n    /**\n     * Represents the SelectionPresentationVariant qualifier. ALP looks for SelectionPresentationVariant with this qualifier and if not found, it looks for PresentationVariant with this qualifier.\n     */\n    qualifier?: string;\n    /**\n     * Determines the visualization of content area\n     */\n    defaultContentView?: DefaultContentView;\n    /**\n     * Determines the filter mode that is used\n     */\n    defaultFilterMode?: DefaultFilterMode;\n    /**\n     * Lets you define title for the content area\n     * @i18nClassification TIT: Title for the content area\n     */\n    contentTitle?: string;\n    /**\n     * All filter fields will be set as in parameter\n     */\n    allFiltersAsInParameters?: boolean;\n    //TODO keyPerformanceIndicators\n    /**\n     * createWithFilters adds a new create action that uses the filter settings as input.\n     */\n    createWithFilters?: CreateWithFilters;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n    /**\n     * In the list report and on the object page, you can enable buttons to display and hide draft values. By default, these buttons are hidden. To enable them, set the showDraftToggle flag to true.\n     */\n    showDraftToggle?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface TableALPCommonSettings extends CommonTableSettings {\n    /**\n     * Represents the SelectionPresentationVariant qualifier. ALP looks for SelectionPresentationVariant with this qualifier and if not found, it looks for PresentationVariant with this qualifier.\n     */\n    qualifier?: string;\n    /**\n     * Determines the visualization of content area\n     */\n    defaultContentView?: DefaultContentView;\n    /**\n     * Determines the filter mode that is used\n     */\n    defaultFilterMode?: DefaultFilterMode;\n    /**\n     * Lets you define title for the content area\n     * @i18nClassification TIT: Title for the content area\n     */\n    contentTitle?: string;\n    /**\n     * This setting allows developer to determine chart / table interaction. 'true' would mean chart act as filter for table, 'false' would mean that matching table rows are highlighted but table is not filtered.\n     */\n    autoHide?: boolean;\n    /**\n     * All filter fields will be set as in parameter\n     */\n    allFiltersAsInParameters?: boolean;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ALPResponsiveTable extends TableALPCommonSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.ResponsiveTable;\n    /**\n     * growingThreshold defines the number of items to be requested from the model for each grow. This property can only be used if the growing property is set to true.\n     */\n    growingThreshold?: number;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ALPGridTable extends TableALPCommonSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.GridTable;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ALPAnalyticalTable extends TableALPCommonSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.AnalyticalTable;\n}\n\nexport interface TableALP extends ALPResponsiveTable, ALPGridTable, ALPAnalyticalTable {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.ResponsiveTable & TableTypeV2.GridTable & TableTypeV2.AnalyticalTable;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface GridTable extends CommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.GridTable;\n    /**\n     * createWithFilters adds a new create action that uses the filter settings as input.\n     */\n    createWithFilters?: CreateWithFilters;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n    /**\n     * In the list report and on the object page, you can enable buttons to display and hide draft values. By default, these buttons are hidden. To enable them, set the showDraftToggle flag to true.\n     */\n    showDraftToggle?: boolean;\n}\n", "export enum ChartType {\n    bar = 'bar',\n    column = 'column',\n    line = 'line',\n    combination = 'combination',\n    pie = 'pie',\n    donut = 'donut',\n    scatter = 'scatter',\n    bubble = 'bubble',\n    heatmap = 'heatmap',\n    bullet = 'bullet',\n    verticalBullet = 'vertical_bullet',\n    stackedBar = 'stacked_bar',\n    stackedColumn = 'stacked_column',\n    stackedCombination = 'stacked_combination',\n    horizontalStackedCombination = 'horizontal_stacked_combination',\n    dualBar = 'dual_bar',\n    dualColumn = 'dual_column',\n    dualLine = 'dual_line',\n    dualStackedBar = 'dual_stacked_bar',\n    dualStackedColumn = 'dual_stacked_column',\n    dualCombination = 'dual_combination',\n    dualStackedCombination = 'dual_stacked_combination',\n    dualHorizontalCombination = 'dual_horizontal_combination',\n    dualHorizontalStackedCombination = 'dual_horizontal_stacked_combination',\n    hundredStackedBar = '100_stacked_bar',\n    hundredStackedColumn = '100_stacked_column',\n    hundredDualStackedBar = '100_dual_stacked_bar',\n    hundredDualStackedColumn = '100_dual_stacked_column',\n    waterfall = 'waterfall',\n    horizontalWaterfall = 'horizontal_waterfall'\n}\n\n/**\n * Chart\n * @isViewNode true\n */\nexport interface ChartSettings {\n    /**\n     * Controls the visibility of the legend button.\n     */\n    showLegendButton?: boolean;\n    /**\n     * Controls the visibility of the chart download button.\n     */\n    showDownloadButton?: boolean;\n    /**\n     * Controls the visibility of the chart type button.\n     */\n    showChartTypeSelectionButton?: boolean;\n    /**\n     * Comma-separated value fields do not showup in the list of available chart types.\n     */\n    ignoredChartTypes?: ChartType[];\n    /**\n     * Controls the visibility of the data label.\n     */\n    showDataLabel?: boolean;\n}\n", "import type {\n    ObjectPageResponsiveTableWithMultiSelect,\n    ObjectPageResponsiveTableWithInlineDelete,\n    ObjectPageAnalyticalTable,\n    ObjectPageGridTable,\n    ObjectPageTreeTable,\n    ObjectPageChart,\n    ObjectPageForm\n} from './index';\nimport type { ViewTypes, SAPUI5_FRAGMENT_CLASS, SAPUI5_VIEW_CLASS } from '../../common/webapp/manifest/sapUi5';\n\n/**\n * Section\n * @isViewNode true\n */\nexport interface ObjectPageSectionV2 {\n    /**\n     * Whether the section should be visible on the screen.\n     */\n    visible?: boolean;\n}\n\n/**\n * Form\n * @isViewNode true\n */\nexport interface ObjectPageSectionFormV2 extends ObjectPageSectionV2 {\n    form?: ObjectPageForm;\n}\n\nexport type AnyObjectPageTableType =\n    | ObjectPageResponsiveTableWithMultiSelect\n    | ObjectPageResponsiveTableWithInlineDelete\n    | ObjectPageAnalyticalTable\n    | ObjectPageGridTable\n    | ObjectPageTreeTable;\n\n/**\n * Table\n * @isViewNode true\n */\nexport interface ObjectPageSectionTableV2 extends ObjectPageSectionV2 {\n    table?: AnyObjectPageTableType;\n}\n\n/**\n * Chart\n * @isViewNode true\n */\nexport interface ObjectPageSectionChartV2 extends ObjectPageSectionV2 {\n    chart?: ObjectPageChart;\n}\n\nexport interface ObjectPageSectionContactV2 extends ObjectPageSectionV2 {\n    /**\n     * Contact\n     *  @isViewNode true\n     */\n    contact?: object;\n}\n\nexport interface ObjectPageSectionAddressV2 extends ObjectPageSectionV2 {\n    /**\n     * Address\n     *  @isViewNode true\n     */\n    address?: object;\n}\n\nexport interface ObjectPageSubSectionContactV2 extends ObjectPageSectionV2 {\n    /**\n     * Contact\n     *  @isViewNode true\n     */\n    contact?: object;\n}\n\nexport interface ObjectPageSubSectionAddressV2 extends ObjectPageSectionV2 {\n    /**\n     * Address\n     *  @isViewNode true\n     */\n    address?: object;\n}\n\nexport type AnySubSectionType =\n    | ObjectPageSectionTableV2\n    | ObjectPageSectionChartV2\n    | ObjectPageSectionFormV2\n    | ObjectPageSubSectionContactV2\n    | ObjectPageSubSectionAddressV2;\n\nexport interface GenericSubSections {\n    [key: string]: AnySubSectionType;\n}\n\n/**\n * Subsection\n * @isViewNode true\n */\nexport interface ObjectPageSubSectionV2 extends ObjectPageSectionV2 {\n    subsections?: GenericSubSections;\n}\n\nexport type AnySectionType =\n    | ObjectPageSectionTableV2\n    | ObjectPageSectionChartV2\n    | ObjectPageSectionFormV2\n    | ObjectPageSectionContactV2\n    | ObjectPageSectionAddressV2\n    | ObjectPageSectionV2\n    | ObjectPageSubSectionV2;\n\nexport interface GenericSections {\n    [key: string]: AnySectionType;\n}\n\nexport type CustomSectionTypeV2 = ObjectPageCustomSectionView | ObjectPageCustomSectionFragment;\n\n/**\n * Custom Sections\n * @isViewNode true\n */\nexport interface CustomSections {\n    custom?: CustomSectionTypeV2[];\n}\n\nexport interface ObjectPageCustomSectionBase {\n    relatedFacet: string;\n    relativePosition: SectionPosition;\n    /**\n     * The label of the custom section, preferably as an i18n key\n     * @i18nClassification TIT: Custom section title\n     */\n    title: string;\n}\n\n/**\n * View\n * @isViewNode true\n */\nexport interface ObjectPageCustomSectionView extends ObjectPageCustomSectionBase {\n    className: typeof SAPUI5_VIEW_CLASS;\n    viewName: string;\n    type: ViewTypes;\n}\n\n/**\n * Fragment\n * @isViewNode true\n */\nexport interface ObjectPageCustomSectionFragment extends ObjectPageCustomSectionBase {\n    className: typeof SAPUI5_FRAGMENT_CLASS;\n    fragmentName: string;\n    type: ExtensionFragmentTypes;\n}\n\nexport enum SectionPosition {\n    AfterFacet = 'AfterFacet',\n    BeforeFacet = 'BeforeFacet',\n    ReplaceFacet = 'ReplaceFacet'\n}\n\nexport enum ExtensionFragmentTypes {\n    XML = 'XML'\n}\n", "import type { GenericColumns, TableTypeV2, QuickVariant } from './Table';\nimport type { ObjectPageToolBar } from './ObjectPageToolBar';\nimport type { PopinLayout } from 'sap/m/library';\nimport type { smarttable } from 'sap/ui/comp/library';\n\nexport interface QuickVariantSelectionOP {\n    /**\n     * To show the number of records available, set showCounts to true.\n     */\n    showCounts?: boolean;\n    /**\n     * The variants section contains a set of entries that point to SelectionVariants or SelectionPresentationVariants defined in the annotations.\n     */\n    variants: {\n        [key: number]: QuickVariant;\n    };\n}\n\nexport interface FieldPathOP {\n    path: string;\n}\n\nexport interface CreationFieldKeysOP {\n    [key: string]: FieldPathOP;\n}\n\nexport interface Fields4DialogOP {\n    fields: CreationFieldKeysOP;\n}\n\nexport enum CreateMode {\n    inline = 'inline'\n}\n\nexport interface ObjectPageCommonTableSettings<COLS = GenericColumns> {\n    /**\n     * You can enable the creation of objects that have a maximum of 8 data fields through a dialog in the list report page.\n     */\n    createWithParameterDialog?: Fields4DialogOP;\n    /**\n     *  With editable you can control if a table can be edited. It should be set to false for smart tables with non-editable content.\n     */\n    editable?: boolean;\n    /**\n     * The 'Select All' button is disabled by default. To enable it, set selectAll to true.\n     */\n    selectAll?: boolean;\n    /**\n     * If new data needs to be loaded from the back-end system for this, the number of lines to be loaded is restricted to the specified limit. The default value for this limit is 200. If selectAll is true, the selection limit is not evaluated.\n     */\n    selectionLimit?: number;\n    /**\n     * With quickVariantSelection you can switch on the multiple view feature. It links to variants you must have been added to your annotations before.\n     */\n    quickVariantSelection?: QuickVariantSelectionOP;\n    /**\n     * useExportToExcel must be set to true if you want to export data to a spreadsheet application, for example Microsoft Excel.\n     */\n    useExportToExcel?: boolean;\n    /**\n     * Specifies the type of export to be used in the SmartTable control. UI5Client is the default option.\n     */\n    exportType?: smarttable.ExportType;\n    /**\n     * Use createMode 'inline' to enable inline creation of table entries for draft enabled applications.\n     */\n    createMode?: CreateMode;\n    /**\n     * If createMode is set to inline, you can use this setting to disable the default sort order.\n     */\n    disableDefaultInlineCreateSort?: boolean;\n    /**\n     * To enable variant management for a specific table on an object page.\n     */\n    variantManagement?: boolean;\n    /**\n     * Tool Bar\n     */\n    toolBar?: ObjectPageToolBar;\n    /**\n     * Columns\n     */\n    columns?: COLS;\n}\n\n/**\n * @controlProperty type\n */\nexport interface ObjectPageResponsiveTableCommonSettings extends ObjectPageCommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.ResponsiveTable;\n    /**\n     * Set includeItemInSelection to true if you want items to be selectable when clicked, rather than after the selection control has been set.\n     */\n    includeItemInSelection?: boolean;\n    /**\n     * popinLayout defines the layout in which the table pop-in rows shall be rendered.\n     */\n    popinLayout?: PopinLayout;\n    /**\n     * growingThreshold defines the number of items to be requested from the model for each grow. This property can only be used if the growing property is set to true.\n     */\n    growingThreshold?: number;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageResponsiveTableWithMultiSelect extends ObjectPageResponsiveTableCommonSettings {\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageResponsiveTableWithInlineDelete extends ObjectPageResponsiveTableCommonSettings {\n    /**\n     *  Used to enable inline deletion in a responsive table of list report and object page\n     */\n    inlineDelete?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageResponsiveTable\n    extends ObjectPageResponsiveTableCommonSettings,\n        ObjectPageResponsiveTableWithMultiSelect,\n        ObjectPageResponsiveTableWithInlineDelete {}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageAnalyticalTable extends ObjectPageCommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.AnalyticalTable;\n    /**\n     * For the analytical table, grid table and tree table you can decide on a condensed table layout by setting condensedTableLayout to true.\n     */\n    condensedTableLayout?: boolean;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageGridTable extends ObjectPageCommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.GridTable;\n    /**\n     * For the analytical table, grid table and tree table you can decide on a condensed table layout by setting condensedTableLayout to true.\n     */\n    condensedTableLayout?: boolean;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageTreeTable extends ObjectPageCommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.TreeTable;\n    /**\n     * For the analytical table, grid table and tree table you can decide on a condensed table layout by setting condensedTableLayout to true.\n     */\n    condensedTableLayout?: boolean;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n", "import type { SapUiGenericAppPageSettings } from '../../../common/page';\nimport type { FlexibleColumnLayout, FlexibleColumnLayoutType } from '../../../common';\n\nexport interface SapUiAppV2 {\n    pages: SapUiAppPagesV2;\n    _version?: string;\n    settings?: SapUiAppSettingsV2;\n}\n\nexport interface SapUiAppPagesV2 {\n    [key: string]: SapUiAppPageV2;\n}\n\nexport const FE_TEMPLATE_V2 = 'sap.suite.ui.generic.template';\nexport const FE_TEMPLATE_V2_OBJECT_PAGE = 'sap.suite.ui.generic.template.ObjectPage';\nexport const FE_TEMPLATE_V2_LIST_REPORT = 'sap.suite.ui.generic.template.ListReport';\nexport const FE_TEMPLATE_V2_ALP = 'sap.suite.ui.generic.template.AnalyticalListPage';\n\nexport interface SapUiAppPageV2 {\n    entitySet?: string;\n    navigationProperty?: string;\n    component?: {\n        name: string;\n        list?: boolean;\n        settings?: SapUiGenericAppPageSettings;\n        sections?: {\n            sectionIds?: SapUiGenericAppPageSettings;\n        };\n    };\n    pages?: SapUiAppPagesV2;\n    defaultLayoutType?: FlexibleColumnLayoutType;\n}\n\nexport interface SapUiAppSettingsV2 {\n    flexibleColumnLayout?: FlexibleColumnLayout;\n}\n", "import type {\n    SapUi5RootView,\n    SapUi5OdataModel,\n    SapUi5ResourceModel,\n    SapUi5RoutingRoute,\n    SAPUI5_FRAGMENT_CLASS,\n    SAPUI5_VIEW_CLASS,\n    ViewTypes,\n    SapUi5RoutingTargetBase,\n    SapUi5RoutingTarget,\n    Dependencies\n} from '../../../common/webapp/manifest/sapUi5';\nimport type { ManifestSection } from '../../..';\n\nexport interface SapUi5 {\n    flexEnabled?: boolean;\n    resources?: object;\n    dependencies?: Dependencies;\n    models?: { [key: string]: SapUi5OdataModel | SapUi5ResourceModel };\n    routing?: SapUi5RoutingV2;\n    [key: string]: string | object | boolean;\n    rootView?: SapUi5RootView;\n    extends?: SapUi5Extends;\n}\n\nexport interface SapUi5RoutingV2 {\n    routes?: SapUi5RoutingRoute[];\n    targets: SapUi5RoutingTargetsV2;\n}\n\nexport interface SapUi5RoutingTargetsV2 {\n    [key: string]: SapUi5RoutingTarget | SapUi5RoutingTargetCustomPageV2;\n}\n\nexport interface SapUi5RoutingTargetCustomPageV2 extends SapUi5RoutingTargetBase {\n    viewId: string;\n    viewName: string;\n    viewLevel?: number;\n    title?: string;\n}\n\n// SAPUI5 EXTENDS\nexport const SAPUI5_VIEW_EXTENSION = 'sap.ui.viewExtensions';\nexport const SAPUI5_CONTROLLER_EXTENSION = 'sap.ui.controllerExtensions';\n\nexport interface SapUi5Extends {\n    extensions?: SapUi5Extensions;\n}\n\nexport interface SapUi5Extensions {\n    [SAPUI5_VIEW_EXTENSION]?: SapUi5ViewExtensions;\n    // Added it here, but sync logic is not supported yet\n    [SAPUI5_CONTROLLER_EXTENSION]?: SapUi5ControllerExtensions;\n}\nexport const SAPUI5_VIEW_EXTENSION_OBJECT_PAGE = 'sap.suite.ui.generic.template.ObjectPage.view.Details';\nexport const SAPUI5_VIEW_EXTENSION_LIST_REPORT = 'sap.suite.ui.generic.template.ListReport.view.ListReport';\nexport const SAPUI5_VIEW_EXTENSION_ANALYTICAL_LIST_PAGE =\n    'sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage';\n\n// VIEW EXTENDS\nexport interface SapUi5PageViewExtensions {\n    [key: string]: SapUi5ViewExtensionView | SapUi5ViewExtensionFragment;\n}\n\nexport interface SapUi5ViewExtensions {\n    [SAPUI5_VIEW_EXTENSION_OBJECT_PAGE]?: SapUi5PageViewExtensions;\n    [SAPUI5_VIEW_EXTENSION_LIST_REPORT]?: SapUi5PageViewExtensions;\n}\n\nexport interface SapUi5ViewExtensionBase {\n    type: ViewTypes;\n}\n\nexport interface SapUi5ViewExtensionView extends SapUi5ViewExtensionBase {\n    className: typeof SAPUI5_VIEW_CLASS;\n    viewName: string;\n}\n\nexport interface SapUi5ViewExtensionFragment extends SapUi5ViewExtensionBase {\n    className: typeof SAPUI5_FRAGMENT_CLASS;\n    fragmentName: string;\n}\n\n// CONTROLLER EXTENDS\nexport interface SapUi5ControllerExtensions {\n    [SAPUI5_VIEW_EXTENSION_OBJECT_PAGE]?: SapUi5PageControllerExtensions;\n    [SAPUI5_VIEW_EXTENSION_LIST_REPORT]?: SapUi5PageControllerExtensions;\n}\n\nexport interface SapUi5PageControllerExtensions {\n    [key: string]: SapUi5ControllerExtension;\n}\n\nexport interface SapUi5ControllerExtension {\n    controllerName: string;\n    [ManifestSection.generic]: { [key: string]: SapUi5ControllerExtensionSettings };\n}\n\n// Currently sync does not support controller extensions\nexport interface SapUi5ControllerExtensionSettings {\n    EntitySet: string;\n    Actions?: unknown;\n    Header?: unknown;\n    Sections?: unknown;\n}\n", "import type {\n    DateRangeType,\n    FilterType,\n    DefaultDateRange,\n    DateRange,\n    ListCard,\n    AnalyticalCard,\n    StackCard,\n    LinklistCard,\n    TableCard,\n    CustomCard\n} from './controls';\n\n/**\n * @isViewNode false\n */\nexport interface SelectedValues {\n    /**\n     * The selectedValues property is a set of standard date range values that you want to include or exclude.\n     */\n    selectedValues?: DateRangeType[];\n    /**\n     * The exclude property is set to True by default. This means excluding all values given as selectedValues from the list of date range filters. If the exclude property is set to False, the application shows only selected values in the list of date range filters.\n     */\n    exclude?: boolean;\n    /**\n     * This property references a JS class, which you use to modify the date range value list. You can either remove standard data range values or add custom values.\n     * The customDateRangeImplementation setting takes priority followed by filter and selectedValues when excluding date range types.\n     */\n    customDateRangeImplementation?: string;\n    /**\n     * You can use the filter settings to include and exclude specific date range values.\n     */\n    filter?: FilterType[];\n    /**\n     * You can set a default value for semantic date range.\n     */\n    defaultValue?: DefaultDateRange;\n}\n\nexport interface DateRangeOVP extends DateRange {\n    /**\n     * For a fields' list you can define the set of standard date range values separately.\n     */\n    fields?: {\n        [field: string]: SelectedValues;\n    };\n}\n\nexport type FilterSettingsType = {\n    /**\n     * You can define date ranges, such as lastYear or nextQuarter on the Smart Filter Bar\n     */\n    dateSettings?: DateRangeOVP;\n};\n\nexport enum ContainerLayoutType {\n    fixed = 'fixed',\n    resizable = 'resizable'\n}\n\nexport type CardType = ListCard | AnalyticalCard | StackCard | LinklistCard | TableCard | CustomCard;\n\nexport type ChartSettingsType = {\n    /**\n     * Set the showDataLabel property to true to make data labels visible in analytical cards.\n     */\n    showDataLabel?: boolean;\n};\n", "export * from './controls';\nexport * from './webapp';\nexport * from './page';\nexport * from './pages';\nexport * from './application';\nexport * from './ApplicationV4';\n", "export enum ActionPlacement {\n    After = 'After',\n    Before = 'Before'\n}\n\nexport interface CustomActionPosition {\n    /**\n     * The key of another action to be used as placement anchor.\n     * @artifactType Manifest\n     */\n    anchor?: string;\n    /**\n     * Define the placement, either before or after the anchor action.\n     * @artifactType Manifest\n     */\n    placement: ActionPlacement;\n}\n\n/**\n * Action\n * @isViewNode true\n */\nexport interface CustomAction {\n    /**\n     * The text that is displayed on the button (typically a binding to an i18n entry).\n     * @i18nClassification COL: Custom action text\n     * @artifactType Fragment\n     */\n    text: string;\n\n    /**\n     * Defines the position of the action relative to other actions.\n     * @artifactType Manifest\n     */\n    position?: CustomActionPosition;\n\n    /**\n     * Relevant for extension actions; allows the definition of a target action handler.\n     * @artifactType Fragment\n     */\n    press: string;\n\n    /**\n     * Whether the action button should be visible on the screen.\n     * @artifactType Manifest\n     */\n    visible?: boolean;\n\n    /**\n     * Whether the action button should be enabled. Default value is `true`.\n     * @artifactType Manifest\n     */\n    enabled?: boolean;\n}\n\nexport interface CustomActionPositionOP extends CustomActionPosition {\n    /**\n     * The key of another action to be used as placement anchor.\n     * @artifactType Manifest\n     */\n    anchor?: string;\n}\n\nexport interface CustomActionOP extends CustomAction {\n    /**\n     * Defines the position of the action relative to other actions.\n     * @artifactType Manifest\n     */\n    position?: CustomActionPositionOP;\n}\n", "import type {\n    TableColumn,\n    TableColumnAction,\n    TableCustomColumn,\n    ViewTableColumn,\n    ViewTableColumnAction,\n    ViewTableCustomColumn\n} from '../webapp/manifest/ManifestSettings';\nimport type { ToolBar, ViewChartToolBar } from './ToolBar';\n\nexport enum SelectionMode {\n    Multi = 'Multi',\n    None = 'None',\n    Single = 'Single',\n    Auto = 'Auto'\n}\n\nexport enum TableTypeV4 {\n    ResponsiveTable = 'ResponsiveTable',\n    GridTable = 'GridTable',\n    AnalyticalTable = 'AnalyticalTable'\n    /* Not supported yet:\n    TreeTable = \"TreeTable\"*/\n}\n\nexport enum TableCreationModeType {\n    NewPage = 'NewPage',\n    Inline = 'Inline',\n    CreationRow = 'CreationRow'\n}\n\nexport enum InitialLoadType {\n    Disabled = 'Disabled',\n    Enabled = 'Enabled',\n    Auto = 'Auto'\n}\n\nexport enum DefaultPathType {\n    Primary = 'primary',\n    Secondary = 'secondary',\n    Both = 'both'\n}\n\nexport interface TableCreationMode {\n    /**\n     * The name property of TableCreationMode defines the creation mode; possible values are:\n     * - NewPage: The create action leads to a new page.\n     * - Inline: The create action leads to a new row at the table.\n     * - CreationRow: No create button will be rendered, an empty row is directly given.\n     * The default is \"NewPage\".\n     */\n    name?: TableCreationModeType;\n    /**\n     * In case of inline creation mode you can decide if the new row will be created at the end of the table, or directly after the currently selected table. The default value is \"true\"\n     */\n    createAtEnd?: boolean;\n}\n\nexport interface ViewTableCreationMode {\n    /**\n     * The name property of TableCreationMode defines the creation mode; possible values are:\n     * - NewPage: The create action leads to a new page.\n     * - Inline: The create action leads to a new row at the table.\n     * - CreationRow: No create button will be rendered, an empty row is directly given.\n     * The default is \"NewPage\".\n     */\n    name?: TableCreationModeType;\n    /**\n     * In case of inline creation mode you can decide if the new row will be created at the end of the table, or directly after the currently selected table. The default value is \"true\"\n     */\n    createAtEnd?: boolean;\n}\n\nexport interface PersonalizationType {\n    /**\n     * Defines whether the user can add and remove columns to a given table.\n     */\n    column?: boolean;\n    /**\n     * Defines whether the user can sort a given table.\n     */\n    sort?: boolean;\n    /**\n     * Defines whether the user can filter data of a given table.\n     */\n    filter?: boolean;\n}\n\nexport interface ViewPersonalizationType {\n    /**\n     * Defines whether the user can add and remove columns to a given table.\n     */\n    column?: boolean;\n    /**\n     * Defines whether the user can sort a given table.\n     */\n    sort?: boolean;\n    /**\n     * Defines whether the user can filter data of a given table.\n     */\n    filter?: boolean;\n}\n\nexport interface AnnotationPathAsObject {\n    annotationPath: string;\n}\n\n//Not used by specification anymore, but there are some tests using it in tools-suite that needs to be adapted\nexport interface AnnotationPathWithKey {\n    key: string;\n    annotationPath: string;\n    entitySet?: string;\n}\n\nexport interface QuickVariantSelectionV4 {\n    /**\n     * List of annotation paths referring to SelectionVariant annotations\n     */\n    paths: AnnotationPathAsObject[];\n    /**\n     * You can hide the table and display only the titles of the tabs. To do so, add the hideTableTitle option and set it to true.\n     */\n    hideTableTitle?: boolean;\n    /**\n     * You can show the counts of entries of each view. To do so, add the showCounts option and set it to true.\n     */\n    showCounts?: boolean;\n}\n\nexport interface GenericColumns {\n    [key: string]: TableColumn | TableColumnAction | TableCustomColumn;\n}\n\nexport interface ViewColumns {\n    [key: string]: ViewTableColumn | ViewTableColumnAction | ViewTableCustomColumn;\n}\n\n// Note: TableSettings are reused by OP: LR only properties must not be added here.\nexport interface TableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV4;\n    /**\n     * Applications can influence whether the table rows are selectable or not, and whether it allows for single selection or multiple selection. It can take the following values:\n     * - \"Auto\": This is the default value. In this mode, Fiori Elements first checks if there are any custom actions or IBN buttons in the table toolbar that require a context. If no such buttons are found, then no table selection is allowed in display mode. In edit mode too a selection is not allowed unless there is a Delete button in the table toolbar in which case multiple row selection will be allowed.\n     * - \"Multi\": This will allow end users to select multiple table records (in both display and edit mode)\n     * - \"Single\" This will allow end user to select only a single table record (in both display and edit mode)\n     * - \"None\": This will not allow the end user to select any table record in display mode. This will also be the case in edit mode unless the table has a delete button enabled, in which multiple selection is allowed in delete mode.\n     */\n    selectionMode?: SelectionMode;\n    /**\n     * The selectAll configuration overrides the selectionLimit and allows the user to select all the items. When set to true, the select all feature is enabled: a checkbox in the table header is displayed which selects all items when clicked.\n     */\n    selectAll?: boolean;\n    /**\n     * With the selectionLimit you can define how many items can be selected at a time,\n     */\n    selectionLimit?: number;\n    /**\n     * The exporting of the table to an Excel file is enabled in List Report tables by default. In Object Page, the export to Excel is available by default if the copy/paste feature is also available; otherwise it is disabled.\n     * To disable the export in List Report or to enable it in Object Page, use the \"enableExport\" property and set it to false or true.\n     */\n    enableExport?: boolean;\n    /**\n     * With quickVariantSelection you can switch on the multiple view feature (single table mode). It links to SelectionVariant (filters) or SelectionPresentationVariant (filters and sorters) you must have added to your annotations beforehand.\n     */\n    quickVariantSelection?: QuickVariantSelectionV4;\n    /**\n     * You can set the content density to condensed for ui.table on the list report and object page applications.\n     */\n    condensedTableLayout?: boolean;\n}\n\nexport type ViewTypeV4 = LRTableView | LRChartView | TableViewExtension | boolean;\n\n/**\n * Views\n * @isViewNode true\n */\nexport interface MultiTableModeV4 {\n    /**\n     * List of annotation paths\n     */\n    [key: string]: ViewTypeV4;\n    /**\n     * You can show the counts of entries of each view. To do so, add the showCounts option and set it to true.\n     */\n    showCounts?: boolean;\n}\n\n/**\n * Chart View\n * @isViewNode true\n */\nexport interface ALPChartView {\n    /**\n     * The primary annotation path can be either UI.Chart, UI.PresentationVariant, or UI.SelectionPresentationVariant.\n     */\n    annotationPath: string;\n    /**\n     * Chart Toolbar\n     * @isViewNode true\n     */\n    toolBar?: ViewChartToolBar;\n}\n\nexport interface CommonViewSettings {\n    /**\n     * Unique tab identifier.\n     * @hidden true\n     */\n    key: string;\n    /**\n     * @hidden true\n     */\n    index: number;\n    /**\n     * To use charts in multiple table mode, define a UI.Chart annotation, including a qualifier.\n     * Reference the UI.Chart annotation in your SelectionPresentationVariant or PresentationVariant for your view.\n     */\n    annotationPath: string;\n    /**\n     * Each chart can be based on a different entitySet.\n     */\n    entitySet?: string;\n}\n\n/**\n * Chart View\n * @isViewNode true\n */\nexport interface LRChartView extends CommonViewSettings {\n    /**\n     * Chart Toolbar\n     * @isViewNode true\n     */\n    toolBar?: ViewChartToolBar;\n    /**\n     * Specifies whether the view is visible or not\n     */\n    visible?: boolean;\n}\n\n/**\n * Table View\n * @isViewNode true\n */\nexport interface ALPTableView extends TableSettings {\n    /**\n     * The secondary annotation path can be either UI.LineItem, UI.PresentationVariant, or UI.SelectionPresentationVariant.\n     */\n    annotationPath: string;\n    /**\n     * initialLoad defines whether or not the data in the table is automatically loaded.\n     * - Disabled - Data is never loaded when opening the app without an app state.\n     * - Enabled - Data is always loaded when opening the app.\n     * - Auto - Data is only loaded, if initial/preset filters are available (e.g. defined by \"SelectionVariant\" definition, URL parameters or user defaults).\n     */\n    initialLoad?: InitialLoadType;\n    /**\n     * Defines the personalization mode, currently only effective if variant management on page is either set to Page or Control.\n     * By default all table settings are enabled. You can change this for the different parts of the table by setting the properties \"Column\", \"Sort\" and \"Filter\" accordingly.\n     * Omitting a property is treated as false, this allows apps to avoid getting new features like grouping in upcoming releases.\n     */\n    personalization?: ViewPersonalizationType;\n    /**\n     * Defines the page behavior when a new record is created.\n     */\n    creationMode?: ViewTableCreationMode;\n\n    /**\n     * Table Toolbar\n     */\n    toolBar?: ToolBar;\n    columns?: ViewColumns;\n}\n\n/**\n * Table View Extension\n * @isViewNode true\n */\nexport interface TableViewExtension {\n    /**\n     * Unique tab identifier.\n     * @hidden true\n     */\n    key: string;\n    /**\n     * @hidden true\n     */\n    index: number;\n    /**\n     * View title (localization supported).\n     */\n    label?: string;\n    /**\n     * The name contains sap.app.id as a prefix, followed by the path in the app/webapp folder and the name of the XML view.\n     */\n    template: string;\n    /**\n     * Specifies whether the view is visible or not\n     */\n    visible?: boolean;\n}\n\n/**\n * Table View\n * @isViewNode true\n */\nexport interface LRTableView extends TableSettings {\n    /**\n     * Unique tab identifier.\n     * @hidden true\n     */\n    key: string;\n    /**\n     * @hidden true\n     */\n    index: number;\n    /**\n     * The annotation path can be either UI.LineItem, UI.PresentationVariant, or UI.SelectionPresentationVariant.\n     */\n    annotationPath: string;\n    /**\n     * Each table can be based on a different entitySet.\n     */\n    entitySet?: string;\n    /**\n     *  The tab keeps the default LineItem ID (without the key), so the variant is applied to it.\n     */\n    keepPreviousPersonalization?: boolean;\n    /**\n     * Defines the personalization mode, currently only effective if variant management on page is either set to Page or Control.\n     * By default all table settings are enabled. You can change this for the different parts of the table by setting the properties \"Column\", \"Sort\" and \"Filter\" accordingly.\n     * Omitting a property is treated as false, this allows apps to avoid getting new features like grouping in upcoming releases.\n     */\n    personalization?: ViewPersonalizationType;\n    /**\n     * Defines the page behavior when a new record is created.\n     */\n    creationMode?: ViewTableCreationMode;\n    /**\n     * Table Toolbar\n     */\n    toolBar?: ToolBar;\n    /**\n     * Columns\n     */\n    columns?: ViewColumns;\n    /**\n     * Specifies whether the view is visible or not\n     */\n    visible?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n */\nexport interface Table extends TableSettings {\n    /**\n     * The secondary annotation path can be either UI.LineItem, UI.PresentationVariant, or UI.SelectionPresentationVariant.\n     */\n    annotationPath?: string;\n    /**\n     * initialLoad defines whether or not the data in the table is automatically loaded.\n     * - Disabled - Data is never loaded when opening the app without an app state.\n     * - Enabled - Data is always loaded when opening the app.\n     * - Auto - Data is only loaded, if initial/preset filters are available (e.g. defined by \"SelectionVariant\" definition, URL parameters or user defaults).\n     */\n    initialLoad?: InitialLoadType;\n    /**\n     * Defines the page behavior when a new record is created.\n     */\n    creationMode?: TableCreationMode;\n    /**\n     * Defines the personalization mode, currently only effective if variant management on page is either set to Page or Control.\n     * By default all table settings are enabled. You can change this for the different parts of the table by setting the properties \"Column\", \"Sort\" and \"Filter\" accordingly.\n     * Omitting a property is treated as false, this allows apps to avoid getting new features like grouping in upcoming releases.\n     */\n    personalization?: PersonalizationType;\n    views?: MultiTableModeV4;\n    /**\n     * Tool Bar\n     */\n    toolBar?: ToolBar;\n    columns?: GenericColumns;\n}\n", "import type { ActionAfterExecutionConfiguration } from '../webapp/manifest/ManifestSettings';\nimport type { CustomAction, CustomActionPosition } from './CustomAction';\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\ninterface ActionAfterExecutionConfigurationToolBarLR extends ActionAfterExecutionConfiguration {}\n\nexport enum SelectType {\n    single = 'single',\n    multi = 'multi'\n}\n\n/**\n * Action\n * @isViewNode true\n */\nexport interface ToolBarAction {\n    /**\n     * Enables single selection for a bound action\n     */\n    enableOnSelect?: SelectType;\n\n    /**\n     * Settings that are only relevant for actions (associated with a UI.DataFieldForAction annotation)\n     */\n    afterExecution?: ActionAfterExecutionConfigurationToolBarLR;\n}\n\n/**\n * Action\n * @isViewNode true\n */\nexport interface ViewToolBarAction {\n    /**\n     * Enables single selection for a bound action\n     */\n    enableOnSelect?: SelectType;\n\n    /**\n     * Settings that are only relevant for actions (associated with a UI.DataFieldForAction annotation)\n     */\n    afterExecution?: ActionAfterExecutionConfigurationToolBarLR;\n}\nexport type ChartToolBarAction = {};\n\n/**\n * Actions\n * @isViewNode true\n */\nexport interface Actions {\n    [key: string]: ToolBarAction | CustomTableAction;\n}\n\n/**\n * Actions\n * @isViewNode true\n */\nexport interface ViewActions {\n    [key: string]: ViewToolBarAction | ChartToolBarAction | ViewTableCustomAction;\n}\n\n/**\n * Table Toolbar\n * @isViewNode true\n */\nexport interface ToolBar {\n    actions: Actions;\n}\n\n/**\n * Chart Toolbar\n * @isViewNode true\n */\nexport interface ViewChartToolBar {\n    actions: ViewActions;\n}\n\nexport interface CustomTableAction extends CustomAction {\n    /**\n     * Indicates whether the action requires a selection of items.\n     * @artifactType Fragment\n     */\n    requiresSelection?: boolean;\n}\n\nexport interface ViewCustomActionPosition extends CustomActionPosition {\n    /**\n     * The key of another action to be used as placement anchor.\n     * @artifactType Manifest\n     */\n    anchor?: string;\n}\n\nexport interface ViewTableCustomAction extends CustomTableAction {\n    /**\n     * Defines the position of the action relative to other actions.\n     * @artifactType Manifest\n     */\n    position?: ViewCustomActionPosition;\n}\n", "export const enum DesigntimeValues {\n    'not-adaptable-visibility' = 'not-adaptable-visibility'\n}\n\nexport interface FlexSettings {\n    /**\n     * You can restrict the adaptability of header facets via the setting 'flexSettings'/'designtime'. 'not-adaptable-visibility' means that 'remove' and 'add' are not possible, but 'move' is enabled.\n     */\n    designtime?: DesigntimeValues;\n}\n\nexport interface CommonHeaderFacetSettings {\n    /**\n     * Header facets marked as stashed are initially not visible on the UI. Key users can add these header facets via key user adaptation.\n     */\n    stashed?: boolean;\n    flexSettings?: FlexSettings;\n}\n\nexport interface ObjectPageHeaderSectionForm extends CommonHeaderFacetSettings {\n    /**\n     * Form\n     *  @isViewNode true\n     */\n    form?: object;\n}\n\nexport interface ObjectPageHeaderSectionContact extends CommonHeaderFacetSettings {\n    /**\n     * Contact\n     *  @isViewNode true\n     */\n    contact?: object;\n}\n\nexport interface ObjectPageHeaderSectionAddress extends CommonHeaderFacetSettings {\n    /**\n     * Address\n     *  @isViewNode true\n     */\n    address?: object;\n}\n\nexport type ObjectPageHeaderSectionChart = CommonHeaderFacetSettings;\nexport type ObjectPageHeaderSectionDataPoint = CommonHeaderFacetSettings;\n\n/**\n * Header Sections\n * @isViewNode true\n */\nexport interface HeaderSections {\n    [key: string]:\n        | ObjectPageHeaderSectionForm\n        | ObjectPageHeaderSectionChart\n        | ObjectPageHeaderSectionDataPoint\n        | ObjectPageHeaderSectionContact\n        | ObjectPageHeaderSectionAddress;\n}\n", "export enum SectionLayoutType {\n    Tabs = 'Tabs',\n    Page = 'Page'\n}\n\n/**\n * Page Layout\n * @isViewNode true\n */\nexport interface ObjectPageLayout {\n    /**\n     * sectionLayout defines the layout of the sections. The default is \"Page\" (all sections in one page), possible values are \"Page\" and \"Tabs\" (every section in its own tab).\n     */\n    sectionLayout?: SectionLayoutType;\n}\n", "import type { ObjectPageSectionTableV4 } from './ObjectPageTable';\nimport type { SAPUI5_FRAGMENT_CLASS } from '../../common/webapp/manifest/sapUi5';\nimport type { ObjectPageToolBar } from './ObjectPageToolBar';\nimport type { ObjectPageForm } from './ObjectPageForm';\n\nexport interface ObjectPageSectionForm {\n    /**\n     * Form\n     *  @isViewNode true\n     */\n    form?: ObjectPageForm;\n}\n\nexport interface ObjectPageSectionDataPoint {\n    /**\n     * Data Point\n     *  @isViewNode true\n     */\n    dataPoint?: object;\n}\n\nexport interface ObjectPageSectionContact {\n    /**\n     * Contact\n     *  @isViewNode true\n     */\n    contact?: object;\n}\n\nexport interface ObjectPageSectionAddress {\n    /**\n     * Address\n     *  @isViewNode true\n     */\n    address?: object;\n}\n\nexport interface ObjectPageChart {\n    /**\n     * Chart Toolbar\n     * @isViewNode true\n     */\n    toolBar?: ObjectPageToolBar;\n}\n\nexport interface ObjectPageSectionChart {\n    /**\n     * Chart\n     * @isViewNode true\n     */\n    chart?: ObjectPageChart;\n}\n\nexport interface ObjectPageSectionPresentationVariant {\n    /**\n     * Presentation Variant\n     */\n    [key: string]: ObjectPageSectionTableV4 | ObjectPageSectionChart;\n}\n\nexport interface GenericSections {\n    [key: string]:\n        | ObjectPageSectionTableV4\n        | ObjectPageSectionForm\n        | ObjectPageSectionDataPoint\n        | ObjectPageSectionContact\n        | ObjectPageSectionAddress\n        | ObjectPageSectionPresentationVariant;\n}\n\n/**\n * Subsections\n * @isViewNode true\n */\nexport interface ObjectPageSubSections {\n    subsections: GenericSections;\n}\n\nexport enum SectionPosition {\n    After = 'After',\n    Before = 'Before'\n}\n\nexport enum CustomSectionViewTypesV4 {\n    XML = 'XML'\n}\n\n/**\n * Custom Sections\n * @isViewNode true\n */\nexport interface CustomSections {\n    /**\n     * Custom Sections\n     * @isViewNode true\n     */\n    custom?: ObjectPageCustomSectionFragment[];\n}\n\nexport interface ObjectPageCustomSectionBase {\n    relatedFacet: string;\n    relativePosition: SectionPosition;\n    id: string;\n    type: CustomSectionViewTypesV4;\n    /**\n     * The label of the custom section, preferrable as an i18n key\n     * @i18nClassification TIT: Custom section title\n     */\n    title: string;\n}\n\n/**\n * Fragment\n * @isViewNode true\n */\nexport interface ObjectPageCustomSectionFragment extends ObjectPageCustomSectionBase {\n    className: typeof SAPUI5_FRAGMENT_CLASS;\n    fragmentName: string;\n}\n", "import type { SapUiGenericAppPageSettings } from '../../../common/page';\n\nexport interface SapUiAppV4 {\n    pages: SapUiAppPageV4[] | SapUiGenericAppPageMapV4;\n    _version?: string;\n    settings?: object;\n}\n\nexport interface SapUiGenericAppPageMapV4 {\n    [key: string]: SapUiAppPageV4;\n}\n\nexport interface SapUiNavDetailsV4 {\n    detail?: {\n        route?: string;\n    };\n}\n\nexport type SapUi5MultiViewPath = {\n    key: string;\n    annotationPath: string;\n};\n\nexport type SapUi5MultiViewPaths = SapUi5MultiViewPath[];\n\nexport type SapUi5ALPPaths = [\n    {\n        primary: [\n            {\n                annotationPath: string;\n            }\n        ];\n        secondary: [\n            {\n                annotationPath: string;\n            }\n        ];\n        defaultPath: string;\n    }\n];\n\nexport type SapUi5Views = {\n    paths: SapUi5MultiViewPaths | SapUi5ALPPaths;\n    showCounts?: boolean;\n};\n\nexport type SapUiPageSettingsV4 = SapUiGenericAppPageSettings & {\n    entitySet?: string;\n    navigation?: {\n        [key: string]: SapUiNavDetailsV4;\n    };\n    controlConfiguration?: SapUiGenericAppPageSettings;\n    content?: SapUi5RoutingTargetContent;\n    views?: SapUi5Views;\n    defaultTemplateAnnotationPath?: string;\n};\n\nexport interface SapUiAppPageV4 {\n    type: string;\n    id: string;\n    name: string;\n    options: {\n        settings?: SapUiPageSettingsV4;\n    };\n}\n\nexport const FE_TEMPLATE_V4 = 'sap.fe.templates';\nexport const FE_TEMPLATE_V4_CUSTOM_PAGE = 'sap.fe.core.fpm';\nexport const FE_TEMPLATE_V4_OBJECT_PAGE = 'sap.fe.templates.ObjectPage';\nexport const FE_TEMPLATE_V4_LIST_REPORT = 'sap.fe.templates.ListReport';\nexport const FE_TEMPLATE_V4_ALP = 'sap.fe.templates.AnalyticalListPage';\nexport interface SapUiAppPagesV4 {\n    [key: string]: SapUiAppPageV4;\n}\nexport interface SapUi5RoutingTargetContent {\n    body?: SapUi5RoutingTargetContentBody;\n}\n\nexport interface SapUi5RoutingTargetContentBody {\n    sections?: SapUi5RoutingTargetContentSections;\n}\n\nexport interface SapUi5RoutingTargetContentSections {\n    [key: string]: SapUi5RoutingTargetContentSection;\n}\n\nexport const SAPUI5_FRAGMENT_TYPE_V4 = 'XMLFragment';\nexport interface SapUi5RoutingTargetContentSection {\n    // Currently only xml fragment is supported\n    type: typeof SAPUI5_FRAGMENT_TYPE_V4;\n    name?: string;\n    title: string;\n    position: SapUi5RoutingTargetContentPosition;\n    template?: string;\n}\n\nexport enum SectionPositionV4 {\n    AfterFacet = 'AfterFacet',\n    BeforeFacet = 'BeforeFacet'\n}\n\nexport interface SapUi5RoutingTargetContentPosition {\n    placement: SectionPositionV4;\n    anchor: string;\n}\n", "import type {\n    SapUi5RootView,\n    SapUi5OdataModel,\n    SapUi5ResourceModel,\n    SapUi5RoutingRoute,\n    ViewTypes,\n    SapUi5RoutingTargetSettings,\n    SapUi5RoutingTargetBase,\n    SapUi5RoutingTarget,\n    Dependencies\n} from '../../../common/webapp/manifest/sapUi5';\nimport type { SapUiGenericAppPageSettings } from '../../../common/page';\nimport type { FlexibleColumnLayout } from '../../../common';\n\nexport interface FlexibleColumnLayoutV4 extends FlexibleColumnLayout {\n    /**\n     * To limit Flexible Column Layout to two columns. The third level will be displayed in full screen and not in a third column.\n     */\n    limitFCLToTwoColumns?: boolean;\n}\n\nexport interface SapUi5V4 {\n    flexEnabled?: boolean;\n    resources?: object;\n    dependencies?: Dependencies;\n    models?: { [key: string]: SapUi5OdataModel | SapUi5ResourceModel };\n    routing?: SapUi5RoutingV4;\n    [key: string]: string | object | boolean;\n    rootView?: SapUi5RootView;\n    extends?: SapUi5ExtendsV4;\n}\n\nexport interface SapUi5RoutingV4 {\n    config?: SapUi5RoutingConfig;\n    routes?: SapUi5RoutingRoute[];\n    targets: SapUi5RoutingTargetsV4;\n}\n\nexport type RoutingTargetOptions =\n    | SapUi5RoutingTarget\n    | SapUi5RoutingTargetCustomPageV4\n    | SapUi5RoutingTargetCustomPageV4New;\n\nexport interface SapUi5RoutingTargetsV4 {\n    [key: string]: RoutingTargetOptions;\n}\n\nexport interface SapUi5RoutingTargetCustomPageV4New extends SapUi5RoutingTarget {\n    options?: {\n        settings: SapUi5RoutingTargetSettings & SapUi5CommonCustomPageV4;\n    };\n}\n\nexport interface SapUi5CommonCustomPageV4 extends SapUi5RoutingTargetBase {\n    viewName: string;\n    controlConfiguration?: SapUiGenericAppPageSettings;\n}\n\nexport interface SapUi5RoutingTargetCustomPageV4 extends SapUi5CommonCustomPageV4 {\n    viewId: string;\n    viewLevel?: number;\n    viewType?: ViewTypes;\n    viewPath?: string;\n    path?: string;\n    title?: string;\n}\n\nexport const FIORI_FCL_ROUTER_CLASS = 'sap.f.routing.Router';\nexport type RouterClass = typeof FIORI_FCL_ROUTER_CLASS | string;\nexport interface SapUi5RoutingConfig {\n    routerClass?: RouterClass;\n    flexibleColumnLayout?: FlexibleColumnLayoutV4;\n    viewType?: ViewTypes;\n    viewPath?: string;\n    path?: string;\n}\n\nexport interface SapUi5DependenciesV4 {\n    minUI5Version?: string;\n    incompatibleLimitation?: boolean;\n    libs?: SapUi5DependenciesLibV4;\n}\n\nexport const SAPUI5_DEPENDENCY_LIB_SAP_F = 'sap.f';\nexport interface SapUi5DependenciesLibV4 {\n    [SAPUI5_DEPENDENCY_LIB_SAP_F]?: SapUi5DependencyLibV4;\n    [key: string]: SapUi5DependencyLibV4;\n}\n\nexport interface SapUi5DependencyLibV4 {\n    minVersion?: string;\n    lazy?: boolean;\n}\n\nexport interface SapUi5ExtendsV4 {\n    extensions?: SapUi5ExtensionsV4;\n}\n\nexport const SAPUI5_CONTROLLER_EXTENSION = 'sap.ui.controllerExtensions';\nexport const SAPUI5_VIEW_EXTENSION_OBJECT_PAGE = 'sap.fe.templates.ObjectPage.ObjectPageController';\nexport const SAPUI5_VIEW_EXTENSION_LIST_REPORT = 'sap.fe.templates.ListReport.ListReportController';\n\nexport interface SapUi5ExtensionsV4 {\n    [SAPUI5_CONTROLLER_EXTENSION]?: SapUi5ControllerExtensionsV4;\n}\n\nexport interface SapUi5ControllerExtensionsV4 {\n    [SAPUI5_VIEW_EXTENSION_OBJECT_PAGE]?: SapUi5ControllerExtensionV4;\n    [SAPUI5_VIEW_EXTENSION_LIST_REPORT]?: SapUi5ControllerExtensionV4;\n    [key: string]: SapUi5ControllerExtensionV4;\n}\n\nexport interface SapUi5ControllerExtensionV4 {\n    controllerName?: string;\n    controllerNames?: string[];\n}\n", "// Copies of sap.fe type definitions\nexport enum Placement {\n    After = 'After',\n    Before = 'Before'\n}\n\nexport interface Position {\n    /**\n     * The key of another column to be used as placement anchor.\n     */\n    anchor?: string;\n    /**\n     * Define the placement, either before or after the anchor column.\n     */\n    placement: Placement;\n}\n\nexport interface ViewPosition {\n    /**\n     * The key of another column to be used as placement anchor.\n     */\n    anchor?: string;\n    /**\n     * Define the placement, either before or after the anchor column.\n     */\n    placement: Placement;\n}\n\nexport type Positionable = {\n    /**\n     *   Defines the position of the column relative to other columns.\n     */\n    position?: Position;\n};\n\nexport interface ActionAfterExecutionConfiguration {\n    /**\n     * By default, a navigation is automatically triggered after an action execution. If applications want to disable the navigation, they can do so using the manifest setting \u201CnavigateToInstance\u201D.\n     */\n    navigateToInstance?: boolean;\n    /**\n     * The \"enableAutoScroll\" allows you to scroll to the newly created or changed item after execution of an action\n     */\n    enableAutoScroll?: boolean;\n}\n\nexport enum Availability {\n    'Default' = 'Default',\n    'Adaptation' = 'Adaptation',\n    'Hidden' = 'Hidden'\n}\n\nexport enum HorizontalAlign {\n    'Begin' = 'Begin',\n    'Center' = 'Center',\n    'End' = 'End'\n}\n\n/**\n * Table Column\n * @isViewNode true\n */\nexport interface TableColumn {\n    /**\n     * A string type that represents CSS size values.\n     * Refer to https://openui5.hana.ondemand.com/api/sap.ui.core.CSSSize.\n     */\n    width?: string;\n    /**\n     * Defines where the column should be shown.\n     * Default: it will be shown by default in the table.\n     * Adaptation: it will initially not shown in the table but be available via end user adaptation.\n     * Hidden: the column is neither available in the table nor in adaptation.\n     */\n    availability?: Availability;\n}\n\n/**\n * Table Column\n * @isViewNode true\n */\nexport interface ViewTableColumn {\n    /**\n     * A string type that represents CSS size values.\n     * Refer to https://openui5.hana.ondemand.com/api/sap.ui.core.CSSSize.\n     */\n    width?: string;\n    /**\n     * Defines where the column should be shown.\n     * Default: it will be shown by default in the table.\n     * Adaptation: it will initially not shown in the table but be available via end user adaptation.\n     * Hidden: the column is neither available in the table nor in adaptation.\n     */\n    availability?: Availability;\n}\n\n/**\n * Table Column\n * @isViewNode true\n */\nexport interface ObjectPageTableColumn {\n    /**\n     * A string type that represents CSS size values.\n     * Refer to https://openui5.hana.ondemand.com/api/sap.ui.core.CSSSize.\n     */\n    width?: string;\n    /**\n     * Defines where the column should be shown.\n     * Default: it will be shown by default in the table.\n     * Adaptation: it will initially not shown in the table but be available via end user adaptation.\n     * Hidden: the column is neither available in the table nor in adaptation.\n     */\n    availability?: Availability;\n}\n\n/**\n * Inline Action\n * @isViewNode true\n */\nexport interface TableColumnAction extends TableColumn {\n    /**\n     * Settings that are only relevant for actions (associated with a UI.DataFieldForAction annotation)\n     */\n    afterExecution?: ActionAfterExecutionConfiguration;\n}\n\n/**\n * Inline Action\n * @isViewNode true\n */\nexport interface ViewTableColumnAction extends ViewTableColumn {\n    /**\n     * Settings that are only relevant for actions (associated with a UI.DataFieldForAction annotation)\n     */\n    afterExecution?: ActionAfterExecutionConfiguration;\n}\n\nexport type ColumnPropertiesType = string[];\n\n/**\n * Inline Action for Object Page\n * @isViewNode true\n */\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface ObjectPageTableColumnAction extends ObjectPageTableColumn {}\n\n/**\n * Custom Column\n * @isViewNode true\n */\nexport interface TableCustomColumn {\n    /**\n     * Defines the position of the column relative to other columns.\n     * @artifactType Manifest\n     */\n    position?: Position;\n    /**\n     * The header is shown on the table as header, as well as in the add/remove dialog.\n     * @i18nClassification COL: Custom column header text\n     * @artifactType Manifest\n     */\n    header: string;\n    /**\n     * A string type that represents CSS size values.\n     * Refer to https://openui5.hana.ondemand.com/api/sap.ui.core.CSSSize.\n     * @artifactType Manifest\n     */\n    width?: string;\n    /**\n     * Relevant for extension columns; allows the definition of a target fragment.\n     * @artifactType Manifest\n     */\n    template: string;\n    /**\n     * Aligns the header as well as the content horizontally.\n     * @artifactType Manifest\n     */\n    horizontalAlign?: HorizontalAlign;\n    /**\n     * Defines where the column should be shown.\n     * - Default: it will be shown by default in the table.\n     * - Adaptation: it will initially not shown in the table but be available via end user adaptation\n     * - Hidden: the column is neither available in the table nor in adaptation\n     * @artifactType Manifest\n     */\n    availability?: Availability;\n    /**\n     * If provided and sorting is enabled for the table the custom column header can be clicked. This will lead to a list of properties (or one) that can be sorted by, they are displayed as the labels of the properties, corresponding to their definition in the annotations.\n     * @artifactType Manifest\n     */\n    properties?: ColumnPropertiesType;\n}\n\n/**\n * Custom Column\n * @isViewNode true\n */\nexport interface ViewTableCustomColumn {\n    /**\n     *   Defines the position of the column relative to other columns.\n     * @artifactType Manifest\n     */\n    position?: ViewPosition;\n    /**\n     * The header is shown on the table as header, as well as in the add/remove dialog.\n     * @i18nClassification COL: Custom column header text\n     * @artifactType Manifest\n     */\n    header: string;\n    /**\n     * A string type that represents CSS size values.\n     * Refer to https://openui5.hana.ondemand.com/api/sap.ui.core.CSSSize.\n     * @artifactType Manifest\n     */\n    width?: string;\n    /**\n     * Relevant for extension columns; allows the definition of a target fragment.\n     * @artifactType Manifest\n     */\n    template: string;\n    /**\n     * Aligns the header as well as the content horizontally.\n     * @artifactType Manifest\n     */\n    horizontalAlign?: HorizontalAlign;\n    /**\n     * Defines where the column should be shown.\n     * - Default: it will be shown by default in the table.\n     * - Adaptation: it will initially not shown in the table but be available via end user adaptation\n     * - Hidden: the column is neither available in the table nor in adaptation\n     * @artifactType Manifest\n     */\n    availability?: Availability;\n    /**\n     * If provided and sorting is enabled for the table the custom column header can be clicked. This will lead to a list of properties (or one) that can be sorted by, they are displayed as the labels of the properties, corresponding to their definition in the annotations.\n     * @artifactType Manifest\n     */\n    properties?: ColumnPropertiesType;\n}\n", "import type { PageConfig } from '../../common';\nimport type {\n    ObjectPageHeader,\n    ObjectPageLayout,\n    GenericSections,\n    CustomSections,\n    ObjectPageFooter\n} from '../controls';\n\nexport enum VariantManagementTypeObjectPage {\n    None = 'None',\n    Control = 'Control'\n}\n\nexport interface ObjectPageConfigV4 extends PageConfig {\n    header?: ObjectPageHeader;\n    layout?: ObjectPageLayout;\n    /**\n     * variantManagement defines how the variant management of page personalizations is controlled.\n     * - None - No variant management by default.\n     * - Control - Individual personalizations for each control.\n     */\n    variantManagement?: VariantManagementTypeObjectPage;\n\n    sections?: GenericSections | CustomSections;\n\n    footer?: ObjectPageFooter;\n}\n", "import type { PageConfig } from '../../common';\nimport type { FilterBar, ALPChartView, Table, ALPTableView, DefaultPathType } from '../controls';\n\nexport enum VariantManagementTypeListReport {\n    None = 'None',\n    Control = 'Control',\n    Page = 'Page'\n}\n\nexport interface ListReportConfigV4 extends PageConfig {\n    /**\n     * variantManagement defines how the variant management of page personalizations is controlled.\n     * - None - No variant management by default.\n     * - Control - Individual personalizations for each control.\n     */\n    variantManagement?: VariantManagementTypeListReport;\n    /**\n     * Filter Bar\n     */\n    filterBar?: FilterBar;\n\n    /**\n     * Chart\n     */\n    chart?: ALPChartView;\n\n    /**\n     * Table\n     */\n    table?: Table | ALPTableView;\n\n    /**\n     * defaultTemplateAnnotationPath must be a reference to a SelectionPresentationVariant.\n     * You use the SelectionPresentationVariant to configure the default visualizations and default filter values of the main content area.\n     */\n    defaultTemplateAnnotationPath?: string;\n\n    /**\n     * defaultPath can be \"primary\", \"secondary\", or \"both\". If it is \"primary\", SAP Fiori elements loads the app in chart-only view. If it is \"secondary\", SAP Fiori elements loads the app in table-only view. If it is \"both\", SAP Fiori elements loads the app in hybrid view.\n     */\n    defaultPath?: DefaultPathType;\n}\n", null, "export * from './controls';\nexport * from './webapp';\nexport * from './page';\nexport * from './pages';\nexport * from './overviewPage';\nexport * from './application';\nexport * from './ApplicationV2';\n", "/**\n * Represents the card default grid size in columns and rows\n */\nexport type DefaultSpanDef =\n    | {\n          /**\n           * Represents the card width calculated based on window width.\n           */\n          cols: number;\n          /**\n           * Represents the number of line items to display for table and list cards.\n           */\n          rows: number;\n          /**\n           * Set showOnlyHeader to true to render only the card header.\n           */\n          showOnlyHeader?: boolean;\n          /**\n           * To show more lines of text in the title you can configure this property (maximum allowed: 3 lines).\n           */\n          minimumTitleRow?: number;\n          /**\n           * To show more lines of text in the sub-title you can configure this property (maximum allowed: 2 lines).\n           */\n          minimumSubTitleRow?: number;\n      }\n    | 'auto';\n\nexport interface TabSetting {\n    /**\n     * Represents the annotation path.\n     */\n    annotationPath?: string;\n    /**\n     * Represents the selection annotation path.\n     */\n    selectionAnnotationPath?: string;\n    /**\n     * Represents the chart annotation path.\n     */\n    chartAnnotationPath?: string;\n    /**\n     * Represents the presentation annotation path.\n     */\n    presentationAnnotationPath?: string;\n    /**\n     * Represents the data point annotation path.\n     */\n    dataPointAnnotationPath?: string;\n    /**\n     * Represents the identification annotation path.\n     */\n    identificationAnnotationPath?: string;\n    /**\n     * Represents the dynamic subtitle annotation path\n     */\n    dynamicSubtitleAnnotationPath?: string;\n    /**\n     * Represents the drop down value to be shown\n     */\n    value?: string;\n    /**\n     * This property is responsible for setting specific chart settings.\n     */\n    chartProperties?: {\n        plotArea?: PlotAreaDef;\n    };\n    /**\n     * Represents the configuration to customize the column stacked chart.\n     */\n    colorPalette?:\n        | {\n              [k: string]: any;\n          }[]\n        | {\n              [k: string]: any;\n          };\n    [k: string]: any;\n}\n\nexport interface CommonCardSettings {\n    /**\n     * Represents the dominant entity set that will be displayed in the given card.\n     */\n    entitySet?: string;\n    /**\n     * The language-dependent title of the card, used in the card header.\n     * @i18nClassification TIT: Title of the card, used in the card header\n     */\n    title: string;\n    /**\n     * The language-dependent subtitle of the card, used in the card header.\n     * @i18nClassification TIT: Subtitle of the card, used in the card header\n     */\n    subTitle?: string;\n    /**\n     * Represents the identification annotation path.\n     */\n    identificationAnnotationPath?: string;\n    /**\n     * Represents the selection annotation path.\n     */\n    selectionAnnotationPath?: string;\n    /**\n     * Represents the presentation annotation path.\n     */\n    presentationAnnotationPath?: string;\n    /**\n     * The category of the card, as used in the card header.\n     */\n    category?: string;\n    /**\n     * To load cards with specific requirements, define a default size as part of the card definition in the descriptor file.\n     */\n    defaultSpan?: DefaultSpanDef;\n    /**\n     * Define an authorization check at card level.\n     */\n    requireAppAuthorization?: string;\n    /**\n     * Represents the card with view switch control.\n     */\n    tabs?: [TabSetting, ...TabSetting[]];\n    /**\n     * add $Select parameter in data fetch URL\n     */\n    addODataSelect?: boolean;\n}\n\nexport enum ChartCardType {\n    cardBubble = 'cardBubble',\n    cardchartsline = 'cardchartsline',\n    cardchartsdonut = 'cardchartsdonut'\n}\n\nexport enum CardTemplateType {\n    analytical = 'sap.ovp.cards.charts.analytical',\n    analyticalv4 = 'sap.ovp.cards.v4.charts.analytical',\n    list = 'sap.ovp.cards.list',\n    listv4 = 'sap.ovp.cards.v4.list',\n    linklist = 'sap.ovp.cards.linklist',\n    linklistv4 = 'sap.ovp.cards.v4.linklist',\n    table = 'sap.ovp.cards.table',\n    tablev4 = 'sap.ovp.cards.v4.table',\n    stack = 'sap.ovp.cards.stack'\n}\n\nexport const cardTemplateTypeMap = {\n    'sap.ovp.cards.charts.analytical': 'AnalyticalCard',\n    'sap.ovp.cards.v4.charts.analytical': 'AnalyticalCard',\n    'sap.ovp.cards.list': 'ListCard',\n    'sap.ovp.cards.v4.list': 'ListCard',\n    'sap.ovp.cards.linklist': 'LinklistCard',\n    'sap.ovp.cards.v4.linklist': 'LinklistCard',\n    'sap.ovp.cards.table': 'TableCard',\n    'sap.ovp.cards.v4.table': 'TableCard',\n    'sap.ovp.cards.stack': 'StackCard'\n};\n\nexport enum CardSettingsType {\n    analyticalCardSettings = 'analyticalCardSettings',\n    analyticalCardSettingsv4 = 'analyticalCardSettingsv4',\n    listCardSettings = 'listCardSettings',\n    listCardSettingsv4 = 'listCardSettingsv4',\n    stackCardSettings = 'stackCardSettings',\n    linkListCardSettings = 'linkListCardSettings',\n    tableCardSettings = 'tableCardSettings',\n    tableCardSettingsv4 = 'tableCardSettingsv4'\n}\n\nexport enum MeasureAggregateValues {\n    average = 'average',\n    max = 'max',\n    min = 'min',\n    sum = 'sum',\n    count = '$count'\n}\n\nexport interface MeasureAggregateSettings {\n    Axis1?: MeasureAggregateValues;\n    Axis2?: MeasureAggregateValues;\n    Axis3?: MeasureAggregateValues;\n}\n\n/**\n * Custom Card\n * @isViewNode true\n */\nexport interface CustomCard {\n    /**\n     * Represents the model for the card\n     */\n    model: string;\n    /**\n     * Represents the card component path to use for this card.\n     * @TJS-pattern ^(?!(sap.ovp.cards.charts.analytical|sap.ovp.cards.v4.charts.analytical|sap.ovp.cards.linklist|sap.ovp.cards.v4.linklist|sap.ovp.cards.list|sap.ovp.cards.v4.list|sap.ovp.cards.stack|sap.ovp.cards.table|sap.ovp.cards.v4.table)$).*$\n     */\n    template: string; // due the extension concept for cards, this can be any string\n    /**\n     * Represents the properties that are passed to the custom card.\n     */\n    settings?: CustomCardSettings;\n}\n/**\n * List Card\n * @isViewNode true\n * @controlProperty template\n */\nexport interface ListCard {\n    /**\n     * Represents the model for the List Card\n     */\n    model: string;\n    /**\n     * Represents the card component path to use for this List Card.\n     */\n    template: CardTemplateType.list | CardTemplateType.listv4;\n    /**\n     * Represents the properties that are passed to the list card.\n     */\n    listCardSettings: ListCardSettings;\n}\n\n/**\n * Stack Card\n * @isViewNode true\n * @controlProperty template\n */\nexport interface StackCard {\n    /**\n     * Represents the model for the StackCard.\n     */\n    model: string;\n    /**\n     * Represents the Stack Card component path to use for this card.\n     */\n    template: CardTemplateType.stack;\n    /**\n     * Represents the properties that are passed to the stack card.\n     */\n    stackCardSettings: StackCardSettings;\n}\n\n/**\n * Link List Card\n * @isViewNode true\n * @controlProperty template\n */\nexport interface LinklistCard {\n    /**\n     * Represents the model for the Link list Card.\n     */\n    model?: string;\n    /**\n     * Represents the Link list Card component path to use for this card.\n     */\n    template: CardTemplateType.linklist | CardTemplateType.linklistv4;\n    /**\n     * Represents the properties that are passed to the link list card.\n     */\n    linkListCardSettings: LinkListCardSettings;\n}\n\n/**\n * Table Card\n * @isViewNode true\n * @controlProperty template\n */\nexport interface TableCard {\n    /**\n     * Represents the model for the TableCard.\n     */\n    model: string;\n    /**\n     * Represents the Table Card component path to use for this card.\n     */\n    template: CardTemplateType.table | CardTemplateType.tablev4;\n    /**\n     * Represents the properties that are passed to the table card.\n     */\n    tableCardSettings: TableCardSettings;\n    /**\n     * If you set disableTableCardFlexibility to true, then at runtime, DataField records are sorted according to the importance set in the com.sap.vocabularies.UI.v1.ImportanceType annotation, and their order of entry.\n     * If you set disableTableCardFlexibility to false, then at runtime, table columns are sorted according to the importance set in the com.sap.vocabularies.UI.v1.ImportanceType annotation, and their order of entry.\n     */\n    disableTableCardFlexibility?: boolean;\n}\n\n/**\n * Analytical Card\n * @isViewNode true\n * @controlProperty template\n */\nexport interface AnalyticalCard {\n    /**\n     * Represents the model for the Analytical Card\n     */\n    model: string;\n    /**\n     * Represents the Analytical Card component path to use for this card.\n     */\n    template: CardTemplateType.analytical | CardTemplateType.analyticalv4;\n    /**\n     * Represents the properties that are passed to the analytical card.\n     */\n    analyticalCardSettings: AnalyticalCardSettings | AnalyticalCardSettingsv4;\n}\n\nexport type CustomCardNavigationType = 'dataPointNav' | 'chartNav' | 'headerNav' | 'noHeaderNav';\n\n/**\n * @displayName settings\n */\nexport interface CustomCardSettings extends CommonCardSettings {\n    /**\n     * Represents the user defined string in placeholder card.\n     */\n    itemText?: string;\n    /**\n     * Represents things like people, number of items.\n     */\n    valueSelectionInfo?: string;\n    /**\n     * Represents the static content that will be displayed in this card.\n     */\n    staticContent?: {\n        [k: string]: any;\n    }[];\n    /**\n     * Represents the flavor of the list to use in this card. The flavor can be bar chart, carousel or standard.\n     */\n    listFlavor?: 'standard' | 'bar' | 'carousel';\n    /**\n     * Represents the type of list to use for this card. The list can be extended to display more information or condensed to take up less space on the card.\n     */\n    listType?: 'extended' | 'condensed';\n    /**\n     * Represents the sort key for the entity set.\n     */\n    sortBy?: string;\n    /**\n     * Represents the sort order for the entity set.\n     */\n    sortOrder?: 'ascending' | 'descending';\n    /**\n     * Represents the annotation path.\n     */\n    annotationPath?: string;\n    /**\n     * Represents the chart annotation path.\n     */\n    chartAnnotationPath?: string;\n    /**\n     * Represents the data point annotation path.\n     */\n    dataPointAnnotationPath?: string;\n    /**\n     * Represents the KPI annotation path.\n     */\n    kpiAnnotationPath?: string;\n    /**\n     * Represents the selection presentation annotation path.\n     */\n    selectionPresentationAnnotationPath?: string;\n    /**\n     * Represents the dynamic subtitle annotation path.\n     */\n    dynamicSubtitleAnnotationPath?: string;\n    /**\n     * Represents the flag to indicate priority of number formatting over sap text.\n     */\n    ignoreSapText?: boolean;\n    /**\n     * Represents the Object Stream properties - properties that are passed to the Object Stream cards.\n     */\n    objectStreamCardsSettings?: {\n        /**\n         * If this flag is set to true, the first action on the footer of the quick view card will be a navigation action.\n         * If the flag is set to false, the navigation action on the footer of the quick view card isn't displayed. Other actions are shown instead.\n         * The default value of the flag is false.\n         */\n        showFirstActionInFooter?: boolean;\n        /**\n         * Represents the annotation path.\n         */\n        annotationPath?: string;\n    };\n    /**\n     * Represents the flag to indicate the use of object number/smart field.\n     */\n    enableLocaleCurrencyFormatting?: boolean;\n    /**\n     * Represents the configuration to alter the navigation mode in OVP Analytical Cards.\n     */\n    navigation?: CustomCardNavigationType;\n    /**\n     * Represents a switch to Show or Hide Filters in Cards Headers in OVP application.\n     */\n    showFilterInHeader?: boolean;\n    /**\n     * Represents a switch to Show or Hide Sorting in Cards Headers in OVP application.\n     */\n    showSortingInHeader?: boolean;\n    /**\n     * Flag for enabling images in a condensed list card.\n     */\n    imageSupported?: boolean;\n    /**\n     * Flag for show line item detail in list and table card.\n     */\n    showLineItemDetail?: boolean;\n    /**\n     * This property is responsible for showing and hiding text labels on the geo spots.\n     */\n    showLabelText?: boolean;\n    /**\n     * This property is responsible for passing custom parameters present in the entity set to the navigating application.\n     */\n    customParams?: string;\n    /**\n     * This property is responsible for setting specific chart settings.\n     */\n    chartProperties?: {\n        plotArea?: PlotAreaDef;\n    };\n    /**\n     * Represents the configuration to customize the column stacked chart.\n     */\n    colorPalette?:\n        | {\n              [k: string]: any;\n          }[]\n        | {\n              [k: string]: any;\n          };\n    [k: string]: any;\n}\n\n/**\n * @displayName settings\n */\nexport interface AnalyticalCardSettings extends CommonCardSettings {\n    /**\n     * Represents the chart annotation path.\n     */\n    chartAnnotationPath?: string;\n    /**\n     * Represents the data point annotation path.\n     */\n    dataPointAnnotationPath?: string;\n    /**\n     * Represents things like people, number of items.\n     */\n    valueSelectionInfo?: string;\n}\n\n/**\n * @displayName settings\n */\nexport interface AnalyticalCardSettingsv4 extends AnalyticalCardSettings {\n    /**\n     *\n     */\n    measureAggregate?: MeasureAggregateSettings;\n}\n\nexport enum ListFlavorType {\n    standard = 'standard',\n    bar = 'bar',\n    carousel = 'carousel'\n}\n\nexport enum ListTypeType {\n    extended = 'extended',\n    condensed = 'condensed'\n}\n\nexport enum SortOrderType {\n    ascending = 'ascending',\n    descending = 'descending'\n}\n\n/**\n * @displayName settings\n */\nexport interface ListCardSettings extends CommonCardSettings {\n    /**\n     * Represents the flavor of the list to use in this card. The flavor can be bar chart, carousel or standard.\n     */\n    listFlavor?: ListFlavorType;\n    /**\n     * Represents the type of list to use for this card. The list can be extended to display more information or condensed to take up less space on the card.\n     */\n    listType?: ListTypeType;\n    /**\n     * Represents the annotation path.\n     */\n    annotationPath?: string;\n    /**\n     * Represents things like people, number of items.\n     */\n    valueSelectionInfo?: string;\n    /**\n     * Defines the property by which the list shall be sorted.\n     */\n    sortBy?: string;\n    /**\n     * Defines the sort order.\n     */\n    sortOrder?: SortOrderType;\n    /**\n     * Represents the data point annotation path.\n     */\n    dataPointAnnotationPath?: string;\n    /**\n     * Flag for show line item detail in list and table card.\n     */\n    showLineItemDetail?: boolean;\n}\n\n/**\n * @displayName settings\n */\nexport interface StackCardSettings extends CommonCardSettings {\n    /**\n     * Represents the user defined string in placeholder card.\n     */\n    itemText?: string;\n    /**\n     * The navigation property used to display information from a secondary entity set.\n     */\n    objectStreamCardsNavigationProperty?: string;\n    /**\n     * Configures additional settings for the cards displayed in the object stream.\n     */\n    objectStreamCardsSettings?: {\n        /**\n         * If this flag is set to true, the first action on the footer of the quick view card will be a navigation action.\n         * If the flag is set to false, the navigation action on the footer of the quick view card isn't displayed. Other actions are shown instead.\n         * The default value of the flag is false.\n         */\n        showFirstActionInFooter?: boolean;\n        /**\n         * Represents the annotation path.\n         */\n        annotationPath?: string;\n    };\n}\n\n/**\n * @displayName settings\n */\nexport interface TableCardSettings extends CommonCardSettings {\n    /**\n     * Represents the annotation path.\n     */\n    annotationPath?: string;\n    /**\n     * Represents the flavor of the list to use in this card. The flavor can be bar chart, carousel or standard.\n     */\n    listFlavor?: ListFlavorType;\n    /**\n     * Represents the type of list to use for this card. The list can be extended to display more information or condensed to take up less space on the card.\n     */\n    listType?: ListTypeType;\n    /**\n     * Represents the data point annotation path.\n     */\n    dataPointAnnotationPath?: string;\n    /**\n     * Represents the selection presentation annotation path.\n     */\n    selectionPresentationAnnotationPath?: string;\n    /**\n     * Represents things like people, number of items.\n     */\n    valueSelectionInfo?: string;\n    /**\n     * Defines the property by which the list shall be sorted.\n     */\n    sortBy?: string;\n    /**\n     * Defines the sort order.\n     */\n    sortOrder?: SortOrderType;\n    /**\n     * Flag for show line item detail in list and table card.\n     */\n    showLineItemDetail?: boolean;\n}\n\nexport enum LinkListFlavorType {\n    standard = 'standard',\n    carousel = 'carousel'\n}\n\n/**\n * @displayName settings\n */\nexport interface LinkListCardSettings extends CommonCardSettings {\n    /**\n     * The targetUri is a URI defining the link to a quick view, related application or external resource.\n     */\n    targetUri?: string;\n    /**\n     * listFlavor represents the flavor of the list to use in this card. The flavor can be bar chart, carousel or standard.\n     */\n    listFlavor?: LinkListFlavorType;\n    /**\n     * sortBy defines the property by which the list shall be sorted.\n     */\n    sortBy?: string;\n    /**\n     * sortOrder defines the sort order. Valid values are 'ascending' or 'descending'\n     */\n    sortOrder?: SortOrderType;\n    /**\n     * headerAnnotationPath represents the path to a HeaderInfo annotation.\n     */\n    headerAnnotationPath?: string;\n    /**\n     * staticContent represents the static content of a static link list card.\n     */\n    staticContent?: StaticContent[];\n    /**\n     * Represents the annotation path.\n     */\n    annotationPath?: string;\n}\n\nexport interface StaticContent {\n    /**\n     * The language-dependent title of the StaticContent.\n     * @i18nClassification TIT: Title of the StaticContent\n     */\n    title: string;\n    /**\n     * The language-dependent subtitle of the StaticContent.\n     * @i18nClassification TIT: Subtitle of the StaticContent\n     */\n    subTitle?: string;\n    /**\n     * The uri for the image of the StaticContent.\n     */\n    imageUri?: string;\n    /**\n     * The uri for the target of the StaticContent.\n     */\n    targetUri?: string;\n    /**\n     * The alternative text for the image of the StaticContent.\n     * @i18nClassification ALT: The alternative text for the image of the StaticContent\n     */\n    imageAltText?: string;\n    /**\n     * Used to provide intent based navigation.\n     */\n    semanticObject?: string;\n    /**\n     * Used to provide intent based navigation.\n     */\n    action?: string;\n    /**\n     * Open static content in a new window.\n     */\n    openInNewWindow?: boolean;\n}\n/**\n * Plot area is a parent property which defines multiple other properties for smoothness and marker size.\n */\nexport interface PlotAreaDef {\n    /**\n     * isSmoothed represents whether smoother curves are required or not.\n     */\n    isSmoothed?: boolean;\n    /**\n     * markerSize represents the size of the markers in scatter plots.\n     */\n    markerSize?: number;\n    /**\n     * dataLabel is a parent property that defines other properties for type.\n     */\n    dataLabel?: {\n        /**\n         * The data label type defines whether to display percentage values or actual counts in the donut chart.\n         */\n        type?: 'value' | 'percentage';\n    };\n}\n", "export const enum DateRangeType {\n    DATERANGE = 'DATERANGE',\n    DATE = 'DATE',\n    FROM = 'FROM',\n    TO = 'TO',\n    DAYS = 'DAYS',\n    LASTDAYS = 'LASTDAYS',\n    LASTWEEKS = 'LASTWEEKS',\n    WEEK = 'WEEK',\n    LASTMONTHS = 'LASTMONTHS',\n    MONTH = 'MONTH',\n    QUARTER = 'QUARTER',\n    LASTQUARTERS = 'LASTQUARTERS',\n    LASTYEARS = 'LASTYEARS',\n    LASTYEAR = 'LASTYEAR',\n    YEAR = 'YEAR',\n    NEXTDAYS = 'NEXTDAYS',\n    NEXTWEEKS = 'NEXTWEEKS',\n    NEXTMONTHS = 'NEXTMONTHS',\n    NEXTQUARTERS = 'NEXTQUARTERS',\n    NEXTYEARS = 'NEXTYEARS',\n    NEXT = 'NEXT',\n    SPECIFICMONTH = 'SPECIFICMONTH',\n    YESTERDAY = 'YESTERDAY',\n    YEARTODATE = 'YEARTODATE',\n    TODAY = 'TODAY',\n    TOMORROW = 'TOMORROW',\n    THISWEEK = 'THISWEEK',\n    LASTWEEK = 'LASTWEEK',\n    LAST2WEEKS = 'LAST2WEEKS',\n    LAST3WEEKS = 'LAST3WEEKS',\n    LAST4WEEKS = 'LAST4WEEKS',\n    LAST5WEEKS = 'LAST5WEEKS',\n    NEXTWEEK = 'NEXTWEEK',\n    NEXT2WEEKS = 'NEXT2WEEKS',\n    NEXT3WEEKS = 'NEXT3WEEKS',\n    NEXT4WEEKS = 'NEXT4WEEKS',\n    NEXT5WEEKS = 'NEXT5WEEKS',\n    THISMONTH = 'THISMONTH',\n    LASTMONTH = 'LASTMONTH',\n    NEXTMONTH = 'NEXTMONTH',\n    THISQUARTER = 'THISQUARTER',\n    LASTQUARTER = 'LASTQUARTER',\n    NEXTQUARTER = 'NEXTQUARTER',\n    QUARTER1 = 'QUARTER1',\n    QUARTER2 = 'QUARTER2',\n    QUARTER3 = 'QUARTER3',\n    QUARTER4 = 'QUARTER4',\n    TODAYFROMTO = 'TODAYFROMTO'\n}\n\nexport const enum DefaultDateRangeValueType {\n    YESTERDAY = 'YESTERDAY',\n    TODAY = 'TODAY',\n    THISWEEK = 'THISWEEK',\n    LASTWEEK = 'LASTWEEK',\n    THISMONTH = 'THISMONTH',\n    TOMORROW = 'TOMORROW',\n    LASTMONTH = 'LASTMONTH',\n    THISQUARTER = 'THISQUARTER',\n    LASTQUARTER = 'LASTQUARTER',\n    THISYEAR = 'THISYEAR',\n    LASTYEAR = 'LASTYEAR',\n    LAST2WEEKS = 'LAST2WEEKS',\n    LAST3WEEKS = 'LAST3WEEKS',\n    LAST4WEEKS = 'LAST4WEEKS',\n    LAST5WEEKS = 'LAST5WEEKS',\n    YEARTODATE = 'YEARTODATE',\n    QUARTER1 = 'QUARTER1',\n    QUARTER2 = 'QUARTER2',\n    QUARTER3 = 'QUARTER3',\n    QUARTER4 = 'QUARTER4',\n    DATETOYEAR = 'DATETOYEAR'\n}\n\n/**\n * Filter Field\n * @isViewNode true\n */\nexport type SelectionField = {} | SelectionFieldDateSettings;\n\n/**\n * Filter Field for Date Settings\n * @isViewNode true\n */\nexport interface SelectionFieldDateSettings {\n    /**\n     * The selectedValues property is a set of standard date range values that you want to include or exclude.\n     */\n    selectedValues?: DateRangeType[];\n    /**\n     * The exclude property is set to True by default. This means excluding all values given as selectedValues from the list of date range filters. If the exclude property is set to False, the application shows only selected values in the list of date range filters.\n     */\n    exclude?: boolean;\n    /**\n     * This property references a JS class, which you use to modify the date range value list. You can either remove standard data range values or add custom values.\n     * The customDateRangeImplementation setting takes priority followed by filter and selectedValues when excluding date range types.\n     */\n    customDateRangeImplementation?: string;\n    /**\n     * You can use the filter settings to include and exclude specific date range values.\n     */\n    filter?: FilterType[];\n    /**\n     * You can set a default value for semantic date range.\n     */\n    defaultValue?: DefaultDateRange;\n}\n\n/**\n * Filter Fields\n * @isViewNode true\n */\nexport interface SelectionFields {\n    [key: string]: SelectionField;\n}\n\nexport type FilterTypeCategory = {\n    /**\n     * Choose 'key' to define filter values for single values of the date range type, or 'category' to filter by a whole subset.\n     */\n    path: 'category';\n    /**\n     * The 'contains' string specifies a filter describing a set of values of the date range type.\n     */\n    contains?: string;\n    /**\n     * Defines a single value of the standard date range type.\n     */\n    equals?: DateRangeType[];\n    /**\n     * The exclude property is set to True by default. This means excluding all values given as selectedValues from the list of date range filters. If the exclude property is set to False, the application shows only selected values in the list of date range filters.\n     */\n    exclude?: boolean;\n};\n\nexport type FilterTypeKey = {\n    /**\n     * Choose 'key' to define filter values for single values of the date range, or 'category' to filter by a whole subset.\n     */\n    path: 'key';\n    /**\n     * The 'contains' string specifies a filter describing a set of values of the date range type.\n     */\n    contains?: string;\n    /**\n     * Defines a single value of the standard date range type.\n     */\n    equals?: DateRangeType[];\n    /**\n     * The exclude property is set to True by default. This means excluding all values given as selectedValues from the list of date range filters. If the exclude property is set to False, the application shows only selected values in the list of date range filters.\n     */\n    exclude?: boolean;\n};\n\nexport type FilterType = FilterTypeKey | FilterTypeCategory;\n\nexport interface DefaultDateRange {\n    /**\n     * The operation property is the value that will be set for semantic date range.\n     */\n    operation: DefaultDateRangeValueType;\n}\n\nexport interface DateRange {\n    /**\n     * If set to true all date fields with filter restriction interval will be treated as DateTimeRange filters.\n     */\n    useDateRange?: boolean;\n    /**\n     * The selectedValues property is a set of standard date range values that you want to include or exclude.\n     */\n    selectedValues?: DateRangeType[];\n    /**\n     * The exclude property is set to True by default. This means excluding all values given as selectedValues from the list of date range filters. If the exclude property is set to False, the application shows only selected values in the list of date range filters.\n     */\n    exclude?: boolean;\n}\n\nexport interface CommonFilterBar {\n    /**\n     * Controls whether smart variant management is active. Default is true.\n     */\n    smartVariantManagement?: boolean;\n    /**\n     * If liveMode is set, the search will be automatically triggered when a filter value is set.\n     */\n\n    liveMode?: boolean;\n    /**\n     * If you set the flag to true, then standard variant management is not available in the app. The app name is displayed instead.\n     * If you set the flag to false or if the flag is not at all contained in the manifest of the app, the standard variant management is available and can be enabled or disabled.\n     */\n    variantManagementHidden?: boolean;\n    /**\n     * You can choose an app-specific title by setting the corresponding value for the subTitleIfVariantMgmtHidden property.\n     * @i18nClassification TIT: Subtitle if variant management is hidden\n     */\n    subTitleIfVariantMgmtHidden?: string;\n    /**\n     * Use to set date settings for fields in smart filter bar\n     */\n    dateSettings?: DateRange;\n    /**\n     * Handles visibility of the Clear button on the FilterBar.\n     */\n    showClearOnFB?: boolean;\n    /**\n     * Handles visibility of the Filter button on the FilterBar.\n     */\n    showFilterConfiguration?: boolean;\n    /**\n     * Handles visibility of the Restore button on the FilterBar.\n     */\n    showRestoreOnFB?: boolean;\n    /**\n     * @isViewNode true\n     * Selection Fields\n     */\n    selectionFields?: SelectionFields;\n}\n\n/**\n * Filter Bar\n * @isViewNode true\n */\nexport interface ListReportFilterBar extends CommonFilterBar {\n    /**\n     * Lets you to add default values for FilterBar using SelectionVariant annotation\n     */\n    annotationPath?: string;\n}\n\n/**\n * Filter Bar\n * @isViewNode true\n */\nexport interface AnalyticalListPageFilterBar extends CommonFilterBar {\n    /**\n     * Go button is displayed for compact filters when this is set to true\n     */\n    showGoButtonOnFilterBar?: boolean;\n    /**\n     * Lets you to add default values for FilterBar using SelectionVariant annotation\n     */\n    filterDefaultsFromSelectionVariant?: boolean;\n}\n", "import type { SAPUI5_FRAGMENT_CLASS } from '../../common/webapp/manifest/sapUi5';\nimport type { ToolBar } from './ToolBar';\nimport type { Action } from './Action';\nimport type { PopinLayout } from 'sap/m/library';\nimport type { smarttable } from 'sap/ui/comp/library';\nimport type { TextAlign } from 'sap/ui/core/library';\n\n/**\n * Column\n * @isViewNode true\n */\nexport interface TableColumn {\n    /**\n     * The width property defines the width of the column.\n     */\n    width?: string;\n    /**\n     * The hAlign property defines the horizontal alignment of the column content.\n     */\n    hAlign?: TextAlign;\n}\n\n/**\n * Column Action\n * @isViewNode true\n */\nexport interface TableColumnAction extends Action, TableColumn {}\n\n/**\n * Custom Column\n * @isViewNode true\n */\nexport interface TableCustomColumn {\n    /**\n     * In case the fragment needs to be re-used for multiple tabs, the id property must be set to make the ids unique.\n     * @artifactType Fragment\n     */\n    id?: string;\n    /**\n     * The label of the custom column, preferably as an i18n key.\n     * @i18nClassification COL: Custom column header text\n     * @artifactType Fragment\n     */\n    text?: string;\n    /**\n     * The column key\n     * @artifactType Fragment\n     */\n    columnKey: string;\n    /**\n     * The index of the column in the overall collection; if undefined, the custom column will be added at the end of the table.\n     * @minimum 0\n     * @hidden true\n     * @artifactType Fragment\n     */\n    columnIndex?: number;\n    /**\n     * If the content of your custom column refers to a property (such as{Price}), you need to include a corresponding 'leadingProperty' entry in the column definition.\n     * @artifactType Fragment\n     */\n    leadingProperty?: string;\n    /**\n     * The UI5 control used for your extension\n     * @artifactType Manifest\n     */\n    className: typeof SAPUI5_FRAGMENT_CLASS;\n    /**\n     * The relative path to your fragment with path segments separated by '.'. The first element is the app ID.\n     * @artifactType Manifest\n     */\n    fragmentName: string;\n    /**\n     * In case of a responsive table, you additionally need to specify a fragment for the table cells.\n     * @artifactType Manifest\n     */\n    cellsFragmentName?: string;\n    /**\n     * If you use QuickVariantSelectionX, you need to define the extensions per tab. 'tabKey' is the key provided when defining the QuickVariantSelectionX.\n     * @artifactType Manifest\n     */\n    tabKey?: string;\n    /**\n     * Type of custom column view extension.\n     * @artifactType Manifest\n     */\n    extensionType: TableColumnExtensionTypeV2;\n}\n\nexport enum customColumnViewTypes {\n    XML = 'XML'\n}\n\nexport enum TableTypeV2 {\n    ResponsiveTable = 'ResponsiveTable',\n    GridTable = 'GridTable',\n    AnalyticalTable = 'AnalyticalTable',\n    TreeTable = 'TreeTable'\n}\n\nexport enum TableColumnExtensionTypeV2 {\n    ResponsiveTableColumnsExtension = 'ResponsiveTableColumnsExtension',\n    AnalyticalTableColumnsExtension = 'AnalyticalTableColumnsExtension',\n    TreeTableColumnsExtension = 'TreeTableColumnsExtension',\n    GridTableColumnsExtension = 'GridTableColumnsExtension'\n}\n\nexport type AnyTableType =\n    | TableTypeV2.AnalyticalTable\n    | TableTypeV2.ResponsiveTable\n    | TableTypeV2.GridTable\n    | TableTypeV2.TreeTable;\nexport type AnyTable = AnalyticalTable | ResponsiveTable | GridTable | TreeTable;\n\n/**\n * Custom Columns\n * @isViewNode true\n */\nexport type TableCustomColumns = Array<TableCustomColumn>;\n\nexport interface GenericColumns {\n    [key: string]: TableColumn | TableCustomColumns | TableColumnAction;\n}\n\nexport interface QuickVariant {\n    /**\n     * A key entry that is used for initializing the corresponding SegmentedButton item. This entry is mandatory.\n     */\n    key: string;\n    /**\n     * Use annotationPath to define a specific variant that points to a SelectionVariant or SelectionPresentationVariant annotation.\n     */\n    annotationPath: string;\n}\n\nexport interface QuickVariantX extends QuickVariant {\n    /**\n     * Represents the entity set that will be displayed in this variant\n     */\n    entitySet: string;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n    /**\n     * The 'Select All' button is disabled by default. To enable it, set selectAll to true.\n     */\n    selectAll?: boolean;\n    /**\n     * If new data needs to be loaded from the back-end system for this, the number of lines to be loaded is restricted to the specified limit. The default value for this limit is 200. If selectAll is true, the selection limit is not evaluated.\n     */\n    selectionLimit?: number;\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: AnyTableType;\n    /**\n     * To enable navigation for charts, you have to set the property to \"true\" and maintain an internal navigation target in the manifest.\n     */\n    showItemNavigationOnChart?: boolean;\n    /**\n     *  Used to enable inline deletion in a responsive table of list report and object page\n     */\n    inlineDelete?: boolean;\n}\n\nexport interface QuickVariantSelection {\n    /**\n     * To show the number of records available, set showCounts to true.\n     */\n    showCounts?: boolean;\n    /**\n     * The variants section contains a set of entries that point to SelectionVariants or SelectionPresentationVariants defined in the annotations.\n     */\n    variants: {\n        [key: number]: QuickVariant;\n    };\n}\n\nexport interface QuickVariantSelectionX extends QuickVariantSelection {\n    /**\n     * When set to true, this enables automatic binding of the table with either the tableBindingPath (if it exists) or the entitySet property.\n     */\n    enableAutoBinding?: boolean;\n    /**\n     * The variants section contains a set of entries that point to SelectionVariants or SelectionPresentationVariants defined in the annotations.\n     */\n    variants: {\n        [key: number]: QuickVariantX;\n    };\n}\n\nexport interface CreateWithFilters {\n    /**\n     * For the new create action to use the filter settings as input, set strategy to \"extension\" and implement the extension function as mentioned in help.sap.com for SAP S/4 HANA, section \u201CPrefilling Fields When Creating a New Entity Using an Extension Point\u201C.\n     */\n    strategy: Strategy;\n}\n\nexport enum Strategy {\n    extension = 'extension'\n}\n\nexport interface MultiEdit {\n    /**\n     * When multiEdit is enabled, by default the dialog displays editable fields corresponding to columns that are currently displayed in the table.\n     */\n    enabled?: boolean;\n    /**\n     * Use annotationPath to define a mass edit dialog that points to a FieldGroup annotation with a qualifier.\n     */\n    annotationPath?: string;\n    /**\n     * You can choose to hide certain fields from being displayed in key user adaptation and restrict them from being added to the Mass Edit dialog.\n     */\n    ignoredFields?: IgnoredFieldsType[];\n}\n\nexport const enum IgnoredFieldsType {\n    GENERICPROPERTY = 'GENERICPROPERTY'\n}\n\nexport enum DefaultContentView {\n    charttable = 'charttable',\n    chart = 'chart',\n    table = 'table'\n}\n\nexport enum DefaultFilterMode {\n    visual = 'visual',\n    compact = 'compact'\n}\n\nexport enum LoadDataOnAppLaunchSettings {\n    always = 'always',\n    never = 'never',\n    ifAnyFilterExist = 'ifAnyFilterExist'\n}\n\nexport interface DataLoadSettings {\n    /**\n     * Change the default behavior for autoloading of data.\n     * For multi-view scenarios, you can also change the setting enableAutobinding to False under quickVariantSelectionX instead of using the loadDataOnAppLaunch setting.\n     */\n    loadDataOnAppLaunch: LoadDataOnAppLaunchSettings;\n}\n\nexport interface CreationFieldKeys {\n    [key: string]: FieldPath;\n}\n\nexport interface FieldPath {\n    path: string;\n}\n\nexport interface Fields4Dialog {\n    fields: CreationFieldKeys;\n}\n\nexport interface CommonTableSettings<COLS = GenericColumns> {\n    /**\n     * You can enable the creation of objects that have a maximum of 8 data fields through a dialog in the list report page.\n     */\n    createWithParameterDialog?: Fields4Dialog;\n    /**\n     * The 'Select All' button is disabled by default. To enable it, set selectAll to true.\n     */\n    selectAll?: boolean;\n    /**\n     * If new data needs to be loaded from the back-end system for this, the number of lines to be loaded is restricted to the specified limit. The default value for this limit is 200. If selectAll is true, the selection limit is not evaluated.\n     */\n    selectionLimit?: number;\n    /**\n     * The showTablePersonalisation attribute can be set to false to hide the table personalization button.\n     */\n    showTablePersonalisation?: boolean;\n    /**\n     * useExportToExcel must be set to true if you want to export data to a spreadsheet application, for example Microsoft Excel.\n     */\n    useExportToExcel?: boolean;\n    /**\n     * Specifies the type of export to be used in the SmartTable control. UI5Client is the default option.\n     */\n    exportType?: smarttable.ExportType;\n    /**\n     * Set to false if the table does not occupy the entire space available in the container.\n     */\n    fitContainer?: boolean;\n    /**\n     * With quickVariantSelection you can switch on the multiple view feature. It links to variants you must have added to your annotations beforehand.\n     */\n    quickVariantSelection?: QuickVariantSelection;\n    /**\n     * Switch on the multiple view feature (Multiple table mode with charts) and link to the variants you have added to your annotations.\n     */\n    quickVariantSelectionX?: QuickVariantSelectionX;\n    /**\n     * For analytical tables, grid tables and tree tables you can define a condensed table layout by setting condensedTableLayout to true.\n     */\n    condensedTableLayout?: boolean;\n    /**\n     * If you have enabled harmonized variant management, by default, you cannot set a filter in the table personalization settings.\n     * To enable filtering, set the enableTableFilterInPageVariant property to true.\n     */\n    enableTableFilterInPageVariant?: boolean;\n    /**\n     * Change the default behavior for autoloading of data.\n     */\n    dataLoadSettings?: DataLoadSettings;\n    /**\n     * Tool Bar\n     */\n    toolBar?: ToolBar;\n    /**\n     * Columns\n     * @isViewNode true\n     */\n    columns?: COLS;\n}\n\nexport interface ResponsiveTableCommonSettings extends CommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.ResponsiveTable;\n    /**\n     * Set includeItemInSelection to true if you want items to be selectable when they are clicked rather than after the selection control has been set.\n     */\n    includeItemInSelection?: boolean;\n    /**\n     * popinLayout defines the layout in which the table pop-in rows are rendered.\n     */\n    popinLayout?: PopinLayout;\n    /**\n     * createWithFilters adds a new create action that uses the filter settings as input.\n     */\n    createWithFilters?: CreateWithFilters;\n    /**\n     * In the list report and on the object page, you can enable buttons to display and hide draft values. By default, these buttons are hidden. To enable them, set the showDraftToggle flag to true.\n     */\n    showDraftToggle?: boolean;\n    /**\n     * growingThreshold defines the number of items to be requested from the model for each grow. This property can only be used if the growing property is set to true.\n     */\n    growingThreshold?: number;\n    /**\n     * Allows you to edit a single object or multiple objects using a dialog in the list report page.\n     */\n    multiEdit?: MultiEdit;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ResponsiveTableWithMultiSelect extends ResponsiveTableCommonSettings {\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ResponsiveTableWithInlineDelete extends ResponsiveTableCommonSettings {\n    /**\n     *  Used to enable inline deletion in a responsive table of list report and object page\n     */\n    inlineDelete?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ResponsiveTable\n    extends ResponsiveTableCommonSettings,\n        ResponsiveTableWithMultiSelect,\n        ResponsiveTableWithInlineDelete {}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface TreeTable extends CommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.TreeTable;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n    /**\n     * In the list report and on the object page, you can enable buttons to display and hide draft values. By default, these buttons are hidden. To enable them, set the showDraftToggle flag to true.\n     */\n    showDraftToggle?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface AnalyticalTable extends CommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.AnalyticalTable;\n    /**\n     * Represents the SelectionPresentationVariant qualifier. ALP looks for SelectionPresentationVariant with this qualifier and if not found, it looks for PresentationVariant with this qualifier.\n     */\n    qualifier?: string;\n    /**\n     * Determines the visualization of content area\n     */\n    defaultContentView?: DefaultContentView;\n    /**\n     * Determines the filter mode that is used\n     */\n    defaultFilterMode?: DefaultFilterMode;\n    /**\n     * Lets you define title for the content area\n     * @i18nClassification TIT: Title for the content area\n     */\n    contentTitle?: string;\n    /**\n     * All filter fields will be set as in parameter\n     */\n    allFiltersAsInParameters?: boolean;\n    //TODO keyPerformanceIndicators\n    /**\n     * createWithFilters adds a new create action that uses the filter settings as input.\n     */\n    createWithFilters?: CreateWithFilters;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n    /**\n     * In the list report and on the object page, you can enable buttons to display and hide draft values. By default, these buttons are hidden. To enable them, set the showDraftToggle flag to true.\n     */\n    showDraftToggle?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface TableALPCommonSettings extends CommonTableSettings {\n    /**\n     * Represents the SelectionPresentationVariant qualifier. ALP looks for SelectionPresentationVariant with this qualifier and if not found, it looks for PresentationVariant with this qualifier.\n     */\n    qualifier?: string;\n    /**\n     * Determines the visualization of content area\n     */\n    defaultContentView?: DefaultContentView;\n    /**\n     * Determines the filter mode that is used\n     */\n    defaultFilterMode?: DefaultFilterMode;\n    /**\n     * Lets you define title for the content area\n     * @i18nClassification TIT: Title for the content area\n     */\n    contentTitle?: string;\n    /**\n     * This setting allows developer to determine chart / table interaction. 'true' would mean chart act as filter for table, 'false' would mean that matching table rows are highlighted but table is not filtered.\n     */\n    autoHide?: boolean;\n    /**\n     * All filter fields will be set as in parameter\n     */\n    allFiltersAsInParameters?: boolean;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ALPResponsiveTable extends TableALPCommonSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.ResponsiveTable;\n    /**\n     * growingThreshold defines the number of items to be requested from the model for each grow. This property can only be used if the growing property is set to true.\n     */\n    growingThreshold?: number;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ALPGridTable extends TableALPCommonSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.GridTable;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ALPAnalyticalTable extends TableALPCommonSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.AnalyticalTable;\n}\n\nexport interface TableALP extends ALPResponsiveTable, ALPGridTable, ALPAnalyticalTable {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.ResponsiveTable & TableTypeV2.GridTable & TableTypeV2.AnalyticalTable;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface GridTable extends CommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.GridTable;\n    /**\n     * createWithFilters adds a new create action that uses the filter settings as input.\n     */\n    createWithFilters?: CreateWithFilters;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n    /**\n     * In the list report and on the object page, you can enable buttons to display and hide draft values. By default, these buttons are hidden. To enable them, set the showDraftToggle flag to true.\n     */\n    showDraftToggle?: boolean;\n}\n", "export enum ChartType {\n    bar = 'bar',\n    column = 'column',\n    line = 'line',\n    combination = 'combination',\n    pie = 'pie',\n    donut = 'donut',\n    scatter = 'scatter',\n    bubble = 'bubble',\n    heatmap = 'heatmap',\n    bullet = 'bullet',\n    verticalBullet = 'vertical_bullet',\n    stackedBar = 'stacked_bar',\n    stackedColumn = 'stacked_column',\n    stackedCombination = 'stacked_combination',\n    horizontalStackedCombination = 'horizontal_stacked_combination',\n    dualBar = 'dual_bar',\n    dualColumn = 'dual_column',\n    dualLine = 'dual_line',\n    dualStackedBar = 'dual_stacked_bar',\n    dualStackedColumn = 'dual_stacked_column',\n    dualCombination = 'dual_combination',\n    dualStackedCombination = 'dual_stacked_combination',\n    dualHorizontalCombination = 'dual_horizontal_combination',\n    dualHorizontalStackedCombination = 'dual_horizontal_stacked_combination',\n    hundredStackedBar = '100_stacked_bar',\n    hundredStackedColumn = '100_stacked_column',\n    hundredDualStackedBar = '100_dual_stacked_bar',\n    hundredDualStackedColumn = '100_dual_stacked_column',\n    waterfall = 'waterfall',\n    horizontalWaterfall = 'horizontal_waterfall'\n}\n\n/**\n * Chart\n * @isViewNode true\n */\nexport interface ChartSettings {\n    /**\n     * Controls the visibility of the legend button.\n     */\n    showLegendButton?: boolean;\n    /**\n     * Controls the visibility of the chart download button.\n     */\n    showDownloadButton?: boolean;\n    /**\n     * Controls the visibility of the chart type button.\n     */\n    showChartTypeSelectionButton?: boolean;\n    /**\n     * Comma-separated value fields do not showup in the list of available chart types.\n     */\n    ignoredChartTypes?: ChartType[];\n    /**\n     * Controls the visibility of the data label.\n     */\n    showDataLabel?: boolean;\n}\n", "import type {\n    ObjectPageResponsiveTableWithMultiSelect,\n    ObjectPageResponsiveTableWithInlineDelete,\n    ObjectPageAnalyticalTable,\n    ObjectPageGridTable,\n    ObjectPageTreeTable,\n    ObjectPageChart,\n    ObjectPageForm\n} from './index';\nimport type { ViewTypes, SAPUI5_FRAGMENT_CLASS, SAPUI5_VIEW_CLASS } from '../../common/webapp/manifest/sapUi5';\n\n/**\n * Section\n * @isViewNode true\n */\nexport interface ObjectPageSectionV2 {\n    /**\n     * Whether the section should be visible on the screen.\n     */\n    visible?: boolean;\n}\n\n/**\n * Form\n * @isViewNode true\n */\nexport interface ObjectPageSectionFormV2 extends ObjectPageSectionV2 {\n    form?: ObjectPageForm;\n}\n\nexport type AnyObjectPageTableType =\n    | ObjectPageResponsiveTableWithMultiSelect\n    | ObjectPageResponsiveTableWithInlineDelete\n    | ObjectPageAnalyticalTable\n    | ObjectPageGridTable\n    | ObjectPageTreeTable;\n\n/**\n * Table\n * @isViewNode true\n */\nexport interface ObjectPageSectionTableV2 extends ObjectPageSectionV2 {\n    table?: AnyObjectPageTableType;\n}\n\n/**\n * Chart\n * @isViewNode true\n */\nexport interface ObjectPageSectionChartV2 extends ObjectPageSectionV2 {\n    chart?: ObjectPageChart;\n}\n\nexport interface ObjectPageSectionContactV2 extends ObjectPageSectionV2 {\n    /**\n     * Contact\n     *  @isViewNode true\n     */\n    contact?: object;\n}\n\nexport interface ObjectPageSectionAddressV2 extends ObjectPageSectionV2 {\n    /**\n     * Address\n     *  @isViewNode true\n     */\n    address?: object;\n}\n\nexport interface ObjectPageSubSectionContactV2 extends ObjectPageSectionV2 {\n    /**\n     * Contact\n     *  @isViewNode true\n     */\n    contact?: object;\n}\n\nexport interface ObjectPageSubSectionAddressV2 extends ObjectPageSectionV2 {\n    /**\n     * Address\n     *  @isViewNode true\n     */\n    address?: object;\n}\n\nexport type AnySubSectionType =\n    | ObjectPageSectionTableV2\n    | ObjectPageSectionChartV2\n    | ObjectPageSectionFormV2\n    | ObjectPageSubSectionContactV2\n    | ObjectPageSubSectionAddressV2;\n\nexport interface GenericSubSections {\n    [key: string]: AnySubSectionType;\n}\n\n/**\n * Subsection\n * @isViewNode true\n */\nexport interface ObjectPageSubSectionV2 extends ObjectPageSectionV2 {\n    subsections?: GenericSubSections;\n}\n\nexport type AnySectionType =\n    | ObjectPageSectionTableV2\n    | ObjectPageSectionChartV2\n    | ObjectPageSectionFormV2\n    | ObjectPageSectionContactV2\n    | ObjectPageSectionAddressV2\n    | ObjectPageSectionV2\n    | ObjectPageSubSectionV2;\n\nexport interface GenericSections {\n    [key: string]: AnySectionType;\n}\n\nexport type CustomSectionTypeV2 = ObjectPageCustomSectionView | ObjectPageCustomSectionFragment;\n\n/**\n * Custom Sections\n * @isViewNode true\n */\nexport interface CustomSections {\n    custom?: CustomSectionTypeV2[];\n}\n\nexport interface ObjectPageCustomSectionBase {\n    relatedFacet: string;\n    relativePosition: SectionPosition;\n    /**\n     * The label of the custom section, preferably as an i18n key\n     * @i18nClassification TIT: Custom section title\n     */\n    title: string;\n}\n\n/**\n * View\n * @isViewNode true\n */\nexport interface ObjectPageCustomSectionView extends ObjectPageCustomSectionBase {\n    className: typeof SAPUI5_VIEW_CLASS;\n    viewName: string;\n    type: ViewTypes;\n}\n\n/**\n * Fragment\n * @isViewNode true\n */\nexport interface ObjectPageCustomSectionFragment extends ObjectPageCustomSectionBase {\n    className: typeof SAPUI5_FRAGMENT_CLASS;\n    fragmentName: string;\n    type: ExtensionFragmentTypes;\n}\n\nexport enum SectionPosition {\n    AfterFacet = 'AfterFacet',\n    BeforeFacet = 'BeforeFacet',\n    ReplaceFacet = 'ReplaceFacet'\n}\n\nexport enum ExtensionFragmentTypes {\n    XML = 'XML'\n}\n", "import type { GenericColumns, TableTypeV2, QuickVariant } from './Table';\nimport type { ObjectPageToolBar } from './ObjectPageToolBar';\nimport type { PopinLayout } from 'sap/m/library';\nimport type { smarttable } from 'sap/ui/comp/library';\n\nexport interface QuickVariantSelectionOP {\n    /**\n     * To show the number of records available, set showCounts to true.\n     */\n    showCounts?: boolean;\n    /**\n     * The variants section contains a set of entries that point to SelectionVariants or SelectionPresentationVariants defined in the annotations.\n     */\n    variants: {\n        [key: number]: QuickVariant;\n    };\n}\n\nexport interface FieldPathOP {\n    path: string;\n}\n\nexport interface CreationFieldKeysOP {\n    [key: string]: FieldPathOP;\n}\n\nexport interface Fields4DialogOP {\n    fields: CreationFieldKeysOP;\n}\n\nexport enum CreateMode {\n    inline = 'inline'\n}\n\nexport interface ObjectPageCommonTableSettings<COLS = GenericColumns> {\n    /**\n     * You can enable the creation of objects that have a maximum of 8 data fields through a dialog in the list report page.\n     */\n    createWithParameterDialog?: Fields4DialogOP;\n    /**\n     *  With editable you can control if a table can be edited. It should be set to false for smart tables with non-editable content.\n     */\n    editable?: boolean;\n    /**\n     * The 'Select All' button is disabled by default. To enable it, set selectAll to true.\n     */\n    selectAll?: boolean;\n    /**\n     * If new data needs to be loaded from the back-end system for this, the number of lines to be loaded is restricted to the specified limit. The default value for this limit is 200. If selectAll is true, the selection limit is not evaluated.\n     */\n    selectionLimit?: number;\n    /**\n     * With quickVariantSelection you can switch on the multiple view feature. It links to variants you must have been added to your annotations before.\n     */\n    quickVariantSelection?: QuickVariantSelectionOP;\n    /**\n     * useExportToExcel must be set to true if you want to export data to a spreadsheet application, for example Microsoft Excel.\n     */\n    useExportToExcel?: boolean;\n    /**\n     * Specifies the type of export to be used in the SmartTable control. UI5Client is the default option.\n     */\n    exportType?: smarttable.ExportType;\n    /**\n     * Use createMode 'inline' to enable inline creation of table entries for draft enabled applications.\n     */\n    createMode?: CreateMode;\n    /**\n     * If createMode is set to inline, you can use this setting to disable the default sort order.\n     */\n    disableDefaultInlineCreateSort?: boolean;\n    /**\n     * To enable variant management for a specific table on an object page.\n     */\n    variantManagement?: boolean;\n    /**\n     * Tool Bar\n     */\n    toolBar?: ObjectPageToolBar;\n    /**\n     * Columns\n     */\n    columns?: COLS;\n}\n\n/**\n * @controlProperty type\n */\nexport interface ObjectPageResponsiveTableCommonSettings extends ObjectPageCommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.ResponsiveTable;\n    /**\n     * Set includeItemInSelection to true if you want items to be selectable when clicked, rather than after the selection control has been set.\n     */\n    includeItemInSelection?: boolean;\n    /**\n     * popinLayout defines the layout in which the table pop-in rows shall be rendered.\n     */\n    popinLayout?: PopinLayout;\n    /**\n     * growingThreshold defines the number of items to be requested from the model for each grow. This property can only be used if the growing property is set to true.\n     */\n    growingThreshold?: number;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageResponsiveTableWithMultiSelect extends ObjectPageResponsiveTableCommonSettings {\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageResponsiveTableWithInlineDelete extends ObjectPageResponsiveTableCommonSettings {\n    /**\n     *  Used to enable inline deletion in a responsive table of list report and object page\n     */\n    inlineDelete?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageResponsiveTable\n    extends ObjectPageResponsiveTableCommonSettings,\n        ObjectPageResponsiveTableWithMultiSelect,\n        ObjectPageResponsiveTableWithInlineDelete {}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageAnalyticalTable extends ObjectPageCommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.AnalyticalTable;\n    /**\n     * For the analytical table, grid table and tree table you can decide on a condensed table layout by setting condensedTableLayout to true.\n     */\n    condensedTableLayout?: boolean;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageGridTable extends ObjectPageCommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.GridTable;\n    /**\n     * For the analytical table, grid table and tree table you can decide on a condensed table layout by setting condensedTableLayout to true.\n     */\n    condensedTableLayout?: boolean;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n * @controlProperty type\n */\nexport interface ObjectPageTreeTable extends ObjectPageCommonTableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV2.TreeTable;\n    /**\n     * For the analytical table, grid table and tree table you can decide on a condensed table layout by setting condensedTableLayout to true.\n     */\n    condensedTableLayout?: boolean;\n    /**\n     * Single selection in tables is enabled by default. If you want, you can enable multi-select.\n     */\n    multiSelect?: boolean;\n}\n", "import type { SapUiGenericAppPageSettings } from '../../../common/page';\nimport type { FlexibleColumnLayout, FlexibleColumnLayoutType } from '../../../common';\n\nexport interface SapUiAppV2 {\n    pages: SapUiAppPagesV2;\n    _version?: string;\n    settings?: SapUiAppSettingsV2;\n}\n\nexport interface SapUiAppPagesV2 {\n    [key: string]: SapUiAppPageV2;\n}\n\nexport const FE_TEMPLATE_V2 = 'sap.suite.ui.generic.template';\nexport const FE_TEMPLATE_V2_OBJECT_PAGE = 'sap.suite.ui.generic.template.ObjectPage';\nexport const FE_TEMPLATE_V2_LIST_REPORT = 'sap.suite.ui.generic.template.ListReport';\nexport const FE_TEMPLATE_V2_ALP = 'sap.suite.ui.generic.template.AnalyticalListPage';\n\nexport interface SapUiAppPageV2 {\n    entitySet?: string;\n    navigationProperty?: string;\n    component?: {\n        name: string;\n        list?: boolean;\n        settings?: SapUiGenericAppPageSettings;\n        sections?: {\n            sectionIds?: SapUiGenericAppPageSettings;\n        };\n    };\n    pages?: SapUiAppPagesV2;\n    defaultLayoutType?: FlexibleColumnLayoutType;\n}\n\nexport interface SapUiAppSettingsV2 {\n    flexibleColumnLayout?: FlexibleColumnLayout;\n}\n", "import type {\n    SapUi5RootView,\n    SapUi5OdataModel,\n    SapUi5ResourceModel,\n    SapUi5RoutingRoute,\n    SAPUI5_FRAGMENT_CLASS,\n    SAPUI5_VIEW_CLASS,\n    ViewTypes,\n    SapUi5RoutingTargetBase,\n    SapUi5RoutingTarget,\n    Dependencies\n} from '../../../common/webapp/manifest/sapUi5';\nimport type { ManifestSection } from '../../..';\n\nexport interface SapUi5 {\n    flexEnabled?: boolean;\n    resources?: object;\n    dependencies?: Dependencies;\n    models?: { [key: string]: SapUi5OdataModel | SapUi5ResourceModel };\n    routing?: SapUi5RoutingV2;\n    [key: string]: string | object | boolean;\n    rootView?: SapUi5RootView;\n    extends?: SapUi5Extends;\n}\n\nexport interface SapUi5RoutingV2 {\n    routes?: SapUi5RoutingRoute[];\n    targets: SapUi5RoutingTargetsV2;\n}\n\nexport interface SapUi5RoutingTargetsV2 {\n    [key: string]: SapUi5RoutingTarget | SapUi5RoutingTargetCustomPageV2;\n}\n\nexport interface SapUi5RoutingTargetCustomPageV2 extends SapUi5RoutingTargetBase {\n    viewId: string;\n    viewName: string;\n    viewLevel?: number;\n    title?: string;\n}\n\n// SAPUI5 EXTENDS\nexport const SAPUI5_VIEW_EXTENSION = 'sap.ui.viewExtensions';\nexport const SAPUI5_CONTROLLER_EXTENSION = 'sap.ui.controllerExtensions';\n\nexport interface SapUi5Extends {\n    extensions?: SapUi5Extensions;\n}\n\nexport interface SapUi5Extensions {\n    [SAPUI5_VIEW_EXTENSION]?: SapUi5ViewExtensions;\n    // Added it here, but sync logic is not supported yet\n    [SAPUI5_CONTROLLER_EXTENSION]?: SapUi5ControllerExtensions;\n}\nexport const SAPUI5_VIEW_EXTENSION_OBJECT_PAGE = 'sap.suite.ui.generic.template.ObjectPage.view.Details';\nexport const SAPUI5_VIEW_EXTENSION_LIST_REPORT = 'sap.suite.ui.generic.template.ListReport.view.ListReport';\nexport const SAPUI5_VIEW_EXTENSION_ANALYTICAL_LIST_PAGE =\n    'sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage';\n\n// VIEW EXTENDS\nexport interface SapUi5PageViewExtensions {\n    [key: string]: SapUi5ViewExtensionView | SapUi5ViewExtensionFragment;\n}\n\nexport interface SapUi5ViewExtensions {\n    [SAPUI5_VIEW_EXTENSION_OBJECT_PAGE]?: SapUi5PageViewExtensions;\n    [SAPUI5_VIEW_EXTENSION_LIST_REPORT]?: SapUi5PageViewExtensions;\n}\n\nexport interface SapUi5ViewExtensionBase {\n    type: ViewTypes;\n}\n\nexport interface SapUi5ViewExtensionView extends SapUi5ViewExtensionBase {\n    className: typeof SAPUI5_VIEW_CLASS;\n    viewName: string;\n}\n\nexport interface SapUi5ViewExtensionFragment extends SapUi5ViewExtensionBase {\n    className: typeof SAPUI5_FRAGMENT_CLASS;\n    fragmentName: string;\n}\n\n// CONTROLLER EXTENDS\nexport interface SapUi5ControllerExtensions {\n    [SAPUI5_VIEW_EXTENSION_OBJECT_PAGE]?: SapUi5PageControllerExtensions;\n    [SAPUI5_VIEW_EXTENSION_LIST_REPORT]?: SapUi5PageControllerExtensions;\n}\n\nexport interface SapUi5PageControllerExtensions {\n    [key: string]: SapUi5ControllerExtension;\n}\n\nexport interface SapUi5ControllerExtension {\n    controllerName: string;\n    [ManifestSection.generic]: { [key: string]: SapUi5ControllerExtensionSettings };\n}\n\n// Currently sync does not support controller extensions\nexport interface SapUi5ControllerExtensionSettings {\n    EntitySet: string;\n    Actions?: unknown;\n    Header?: unknown;\n    Sections?: unknown;\n}\n", "import type {\n    DateRangeType,\n    FilterType,\n    DefaultDateRange,\n    DateRange,\n    ListCard,\n    AnalyticalCard,\n    StackCard,\n    LinklistCard,\n    TableCard,\n    CustomCard\n} from './controls';\n\n/**\n * @isViewNode false\n */\nexport interface SelectedValues {\n    /**\n     * The selectedValues property is a set of standard date range values that you want to include or exclude.\n     */\n    selectedValues?: DateRangeType[];\n    /**\n     * The exclude property is set to True by default. This means excluding all values given as selectedValues from the list of date range filters. If the exclude property is set to False, the application shows only selected values in the list of date range filters.\n     */\n    exclude?: boolean;\n    /**\n     * This property references a JS class, which you use to modify the date range value list. You can either remove standard data range values or add custom values.\n     * The customDateRangeImplementation setting takes priority followed by filter and selectedValues when excluding date range types.\n     */\n    customDateRangeImplementation?: string;\n    /**\n     * You can use the filter settings to include and exclude specific date range values.\n     */\n    filter?: FilterType[];\n    /**\n     * You can set a default value for semantic date range.\n     */\n    defaultValue?: DefaultDateRange;\n}\n\nexport interface DateRangeOVP extends DateRange {\n    /**\n     * For a fields' list you can define the set of standard date range values separately.\n     */\n    fields?: {\n        [field: string]: SelectedValues;\n    };\n}\n\nexport type FilterSettingsType = {\n    /**\n     * You can define date ranges, such as lastYear or nextQuarter on the Smart Filter Bar\n     */\n    dateSettings?: DateRangeOVP;\n};\n\nexport enum ContainerLayoutType {\n    fixed = 'fixed',\n    resizable = 'resizable'\n}\n\nexport type CardType = ListCard | AnalyticalCard | StackCard | LinklistCard | TableCard | CustomCard;\n\nexport type ChartSettingsType = {\n    /**\n     * Set the showDataLabel property to true to make data labels visible in analytical cards.\n     */\n    showDataLabel?: boolean;\n};\n", "export * from './controls';\nexport * from './webapp';\nexport * from './page';\nexport * from './pages';\nexport * from './application';\nexport * from './ApplicationV4';\n", "export enum ActionPlacement {\n    After = 'After',\n    Before = 'Before'\n}\n\nexport interface CustomActionPosition {\n    /**\n     * The key of another action to be used as placement anchor.\n     * @artifactType Manifest\n     */\n    anchor?: string;\n    /**\n     * Define the placement, either before or after the anchor action.\n     * @artifactType Manifest\n     */\n    placement: ActionPlacement;\n}\n\n/**\n * Action\n * @isViewNode true\n */\nexport interface CustomAction {\n    /**\n     * The text that is displayed on the button (typically a binding to an i18n entry).\n     * @i18nClassification COL: Custom action text\n     * @artifactType Fragment\n     */\n    text: string;\n\n    /**\n     * Defines the position of the action relative to other actions.\n     * @artifactType Manifest\n     */\n    position?: CustomActionPosition;\n\n    /**\n     * Relevant for extension actions; allows the definition of a target action handler.\n     * @artifactType Fragment\n     */\n    press: string;\n\n    /**\n     * Whether the action button should be visible on the screen.\n     * @artifactType Manifest\n     */\n    visible?: boolean;\n\n    /**\n     * Whether the action button should be enabled. Default value is `true`.\n     * @artifactType Manifest\n     */\n    enabled?: boolean;\n}\n\nexport interface CustomActionPositionOP extends CustomActionPosition {\n    /**\n     * The key of another action to be used as placement anchor.\n     * @artifactType Manifest\n     */\n    anchor?: string;\n}\n\nexport interface CustomActionOP extends CustomAction {\n    /**\n     * Defines the position of the action relative to other actions.\n     * @artifactType Manifest\n     */\n    position?: CustomActionPositionOP;\n}\n", "import type {\n    TableColumn,\n    TableColumnAction,\n    TableCustomColumn,\n    ViewTableColumn,\n    ViewTableColumnAction,\n    ViewTableCustomColumn\n} from '../webapp/manifest/ManifestSettings';\nimport type { ToolBar, ViewChartToolBar } from './ToolBar';\n\nexport enum SelectionMode {\n    Multi = 'Multi',\n    None = 'None',\n    Single = 'Single',\n    Auto = 'Auto'\n}\n\nexport enum TableTypeV4 {\n    ResponsiveTable = 'ResponsiveTable',\n    GridTable = 'GridTable',\n    AnalyticalTable = 'AnalyticalTable'\n    /* Not supported yet:\n    TreeTable = \"TreeTable\"*/\n}\n\nexport enum TableCreationModeType {\n    NewPage = 'NewPage',\n    Inline = 'Inline',\n    CreationRow = 'CreationRow'\n}\n\nexport enum InitialLoadType {\n    Disabled = 'Disabled',\n    Enabled = 'Enabled',\n    Auto = 'Auto'\n}\n\nexport enum DefaultPathType {\n    Primary = 'primary',\n    Secondary = 'secondary',\n    Both = 'both'\n}\n\nexport interface TableCreationMode {\n    /**\n     * The name property of TableCreationMode defines the creation mode; possible values are:\n     * - NewPage: The create action leads to a new page.\n     * - Inline: The create action leads to a new row at the table.\n     * - CreationRow: No create button will be rendered, an empty row is directly given.\n     * The default is \"NewPage\".\n     */\n    name?: TableCreationModeType;\n    /**\n     * In case of inline creation mode you can decide if the new row will be created at the end of the table, or directly after the currently selected table. The default value is \"true\"\n     */\n    createAtEnd?: boolean;\n}\n\nexport interface ViewTableCreationMode {\n    /**\n     * The name property of TableCreationMode defines the creation mode; possible values are:\n     * - NewPage: The create action leads to a new page.\n     * - Inline: The create action leads to a new row at the table.\n     * - CreationRow: No create button will be rendered, an empty row is directly given.\n     * The default is \"NewPage\".\n     */\n    name?: TableCreationModeType;\n    /**\n     * In case of inline creation mode you can decide if the new row will be created at the end of the table, or directly after the currently selected table. The default value is \"true\"\n     */\n    createAtEnd?: boolean;\n}\n\nexport interface PersonalizationType {\n    /**\n     * Defines whether the user can add and remove columns to a given table.\n     */\n    column?: boolean;\n    /**\n     * Defines whether the user can sort a given table.\n     */\n    sort?: boolean;\n    /**\n     * Defines whether the user can filter data of a given table.\n     */\n    filter?: boolean;\n}\n\nexport interface ViewPersonalizationType {\n    /**\n     * Defines whether the user can add and remove columns to a given table.\n     */\n    column?: boolean;\n    /**\n     * Defines whether the user can sort a given table.\n     */\n    sort?: boolean;\n    /**\n     * Defines whether the user can filter data of a given table.\n     */\n    filter?: boolean;\n}\n\nexport interface AnnotationPathAsObject {\n    annotationPath: string;\n}\n\n//Not used by specification anymore, but there are some tests using it in tools-suite that needs to be adapted\nexport interface AnnotationPathWithKey {\n    key: string;\n    annotationPath: string;\n    entitySet?: string;\n}\n\nexport interface QuickVariantSelectionV4 {\n    /**\n     * List of annotation paths referring to SelectionVariant annotations\n     */\n    paths: AnnotationPathAsObject[];\n    /**\n     * You can hide the table and display only the titles of the tabs. To do so, add the hideTableTitle option and set it to true.\n     */\n    hideTableTitle?: boolean;\n    /**\n     * You can show the counts of entries of each view. To do so, add the showCounts option and set it to true.\n     */\n    showCounts?: boolean;\n}\n\nexport interface GenericColumns {\n    [key: string]: TableColumn | TableColumnAction | TableCustomColumn;\n}\n\nexport interface ViewColumns {\n    [key: string]: ViewTableColumn | ViewTableColumnAction | ViewTableCustomColumn;\n}\n\n// Note: TableSettings are reused by OP: LR only properties must not be added here.\nexport interface TableSettings {\n    /**\n     * Use type to define the table type. Note: Grid tables, analytical tables, and tree tables cannot be rendered on smartphones. Instead, responsive tables always show on smartphones.\n     */\n    type?: TableTypeV4;\n    /**\n     * Applications can influence whether the table rows are selectable or not, and whether it allows for single selection or multiple selection. It can take the following values:\n     * - \"Auto\": This is the default value. In this mode, Fiori Elements first checks if there are any custom actions or IBN buttons in the table toolbar that require a context. If no such buttons are found, then no table selection is allowed in display mode. In edit mode too a selection is not allowed unless there is a Delete button in the table toolbar in which case multiple row selection will be allowed.\n     * - \"Multi\": This will allow end users to select multiple table records (in both display and edit mode)\n     * - \"Single\" This will allow end user to select only a single table record (in both display and edit mode)\n     * - \"None\": This will not allow the end user to select any table record in display mode. This will also be the case in edit mode unless the table has a delete button enabled, in which multiple selection is allowed in delete mode.\n     */\n    selectionMode?: SelectionMode;\n    /**\n     * The selectAll configuration overrides the selectionLimit and allows the user to select all the items. When set to true, the select all feature is enabled: a checkbox in the table header is displayed which selects all items when clicked.\n     */\n    selectAll?: boolean;\n    /**\n     * With the selectionLimit you can define how many items can be selected at a time,\n     */\n    selectionLimit?: number;\n    /**\n     * The exporting of the table to an Excel file is enabled in List Report tables by default. In Object Page, the export to Excel is available by default if the copy/paste feature is also available; otherwise it is disabled.\n     * To disable the export in List Report or to enable it in Object Page, use the \"enableExport\" property and set it to false or true.\n     */\n    enableExport?: boolean;\n    /**\n     * With quickVariantSelection you can switch on the multiple view feature (single table mode). It links to SelectionVariant (filters) or SelectionPresentationVariant (filters and sorters) you must have added to your annotations beforehand.\n     */\n    quickVariantSelection?: QuickVariantSelectionV4;\n    /**\n     * You can set the content density to condensed for ui.table on the list report and object page applications.\n     */\n    condensedTableLayout?: boolean;\n}\n\nexport type ViewTypeV4 = LRTableView | LRChartView | TableViewExtension | boolean;\n\n/**\n * Views\n * @isViewNode true\n */\nexport interface MultiTableModeV4 {\n    /**\n     * List of annotation paths\n     */\n    [key: string]: ViewTypeV4;\n    /**\n     * You can show the counts of entries of each view. To do so, add the showCounts option and set it to true.\n     */\n    showCounts?: boolean;\n}\n\n/**\n * Chart View\n * @isViewNode true\n */\nexport interface ALPChartView {\n    /**\n     * The primary annotation path can be either UI.Chart, UI.PresentationVariant, or UI.SelectionPresentationVariant.\n     */\n    annotationPath: string;\n    /**\n     * Chart Toolbar\n     * @isViewNode true\n     */\n    toolBar?: ViewChartToolBar;\n}\n\nexport interface CommonViewSettings {\n    /**\n     * Unique tab identifier.\n     * @hidden true\n     */\n    key: string;\n    /**\n     * @hidden true\n     */\n    index: number;\n    /**\n     * To use charts in multiple table mode, define a UI.Chart annotation, including a qualifier.\n     * Reference the UI.Chart annotation in your SelectionPresentationVariant or PresentationVariant for your view.\n     */\n    annotationPath: string;\n    /**\n     * Each chart can be based on a different entitySet.\n     */\n    entitySet?: string;\n}\n\n/**\n * Chart View\n * @isViewNode true\n */\nexport interface LRChartView extends CommonViewSettings {\n    /**\n     * Chart Toolbar\n     * @isViewNode true\n     */\n    toolBar?: ViewChartToolBar;\n    /**\n     * Specifies whether the view is visible or not\n     */\n    visible?: boolean;\n}\n\n/**\n * Table View\n * @isViewNode true\n */\nexport interface ALPTableView extends TableSettings {\n    /**\n     * The secondary annotation path can be either UI.LineItem, UI.PresentationVariant, or UI.SelectionPresentationVariant.\n     */\n    annotationPath: string;\n    /**\n     * initialLoad defines whether or not the data in the table is automatically loaded.\n     * - Disabled - Data is never loaded when opening the app without an app state.\n     * - Enabled - Data is always loaded when opening the app.\n     * - Auto - Data is only loaded, if initial/preset filters are available (e.g. defined by \"SelectionVariant\" definition, URL parameters or user defaults).\n     */\n    initialLoad?: InitialLoadType;\n    /**\n     * Defines the personalization mode, currently only effective if variant management on page is either set to Page or Control.\n     * By default all table settings are enabled. You can change this for the different parts of the table by setting the properties \"Column\", \"Sort\" and \"Filter\" accordingly.\n     * Omitting a property is treated as false, this allows apps to avoid getting new features like grouping in upcoming releases.\n     */\n    personalization?: ViewPersonalizationType;\n    /**\n     * Defines the page behavior when a new record is created.\n     */\n    creationMode?: ViewTableCreationMode;\n\n    /**\n     * Table Toolbar\n     */\n    toolBar?: ToolBar;\n    columns?: ViewColumns;\n}\n\n/**\n * Table View Extension\n * @isViewNode true\n */\nexport interface TableViewExtension {\n    /**\n     * Unique tab identifier.\n     * @hidden true\n     */\n    key: string;\n    /**\n     * @hidden true\n     */\n    index: number;\n    /**\n     * View title (localization supported).\n     */\n    label?: string;\n    /**\n     * The name contains sap.app.id as a prefix, followed by the path in the app/webapp folder and the name of the XML view.\n     */\n    template: string;\n    /**\n     * Specifies whether the view is visible or not\n     */\n    visible?: boolean;\n}\n\n/**\n * Table View\n * @isViewNode true\n */\nexport interface LRTableView extends TableSettings {\n    /**\n     * Unique tab identifier.\n     * @hidden true\n     */\n    key: string;\n    /**\n     * @hidden true\n     */\n    index: number;\n    /**\n     * The annotation path can be either UI.LineItem, UI.PresentationVariant, or UI.SelectionPresentationVariant.\n     */\n    annotationPath: string;\n    /**\n     * Each table can be based on a different entitySet.\n     */\n    entitySet?: string;\n    /**\n     *  The tab keeps the default LineItem ID (without the key), so the variant is applied to it.\n     */\n    keepPreviousPersonalization?: boolean;\n    /**\n     * Defines the personalization mode, currently only effective if variant management on page is either set to Page or Control.\n     * By default all table settings are enabled. You can change this for the different parts of the table by setting the properties \"Column\", \"Sort\" and \"Filter\" accordingly.\n     * Omitting a property is treated as false, this allows apps to avoid getting new features like grouping in upcoming releases.\n     */\n    personalization?: ViewPersonalizationType;\n    /**\n     * Defines the page behavior when a new record is created.\n     */\n    creationMode?: ViewTableCreationMode;\n    /**\n     * Table Toolbar\n     */\n    toolBar?: ToolBar;\n    /**\n     * Columns\n     */\n    columns?: ViewColumns;\n    /**\n     * Specifies whether the view is visible or not\n     */\n    visible?: boolean;\n}\n\n/**\n * Table\n * @isViewNode true\n */\nexport interface Table extends TableSettings {\n    /**\n     * The secondary annotation path can be either UI.LineItem, UI.PresentationVariant, or UI.SelectionPresentationVariant.\n     */\n    annotationPath?: string;\n    /**\n     * initialLoad defines whether or not the data in the table is automatically loaded.\n     * - Disabled - Data is never loaded when opening the app without an app state.\n     * - Enabled - Data is always loaded when opening the app.\n     * - Auto - Data is only loaded, if initial/preset filters are available (e.g. defined by \"SelectionVariant\" definition, URL parameters or user defaults).\n     */\n    initialLoad?: InitialLoadType;\n    /**\n     * Defines the page behavior when a new record is created.\n     */\n    creationMode?: TableCreationMode;\n    /**\n     * Defines the personalization mode, currently only effective if variant management on page is either set to Page or Control.\n     * By default all table settings are enabled. You can change this for the different parts of the table by setting the properties \"Column\", \"Sort\" and \"Filter\" accordingly.\n     * Omitting a property is treated as false, this allows apps to avoid getting new features like grouping in upcoming releases.\n     */\n    personalization?: PersonalizationType;\n    views?: MultiTableModeV4;\n    /**\n     * Tool Bar\n     */\n    toolBar?: ToolBar;\n    columns?: GenericColumns;\n}\n", "import type { ActionAfterExecutionConfiguration } from '../webapp/manifest/ManifestSettings';\nimport type { CustomAction, CustomActionPosition } from './CustomAction';\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\ninterface ActionAfterExecutionConfigurationToolBarLR extends ActionAfterExecutionConfiguration {}\n\nexport enum SelectType {\n    single = 'single',\n    multi = 'multi'\n}\n\n/**\n * Action\n * @isViewNode true\n */\nexport interface ToolBarAction {\n    /**\n     * Enables single selection for a bound action\n     */\n    enableOnSelect?: SelectType;\n\n    /**\n     * Settings that are only relevant for actions (associated with a UI.DataFieldForAction annotation)\n     */\n    afterExecution?: ActionAfterExecutionConfigurationToolBarLR;\n}\n\n/**\n * Action\n * @isViewNode true\n */\nexport interface ViewToolBarAction {\n    /**\n     * Enables single selection for a bound action\n     */\n    enableOnSelect?: SelectType;\n\n    /**\n     * Settings that are only relevant for actions (associated with a UI.DataFieldForAction annotation)\n     */\n    afterExecution?: ActionAfterExecutionConfigurationToolBarLR;\n}\nexport type ChartToolBarAction = {};\n\n/**\n * Actions\n * @isViewNode true\n */\nexport interface Actions {\n    [key: string]: ToolBarAction | CustomTableAction;\n}\n\n/**\n * Actions\n * @isViewNode true\n */\nexport interface ViewActions {\n    [key: string]: ViewToolBarAction | ChartToolBarAction | ViewTableCustomAction;\n}\n\n/**\n * Table Toolbar\n * @isViewNode true\n */\nexport interface ToolBar {\n    actions: Actions;\n}\n\n/**\n * Chart Toolbar\n * @isViewNode true\n */\nexport interface ViewChartToolBar {\n    actions: ViewActions;\n}\n\nexport interface CustomTableAction extends CustomAction {\n    /**\n     * Indicates whether the action requires a selection of items.\n     * @artifactType Fragment\n     */\n    requiresSelection?: boolean;\n}\n\nexport interface ViewCustomActionPosition extends CustomActionPosition {\n    /**\n     * The key of another action to be used as placement anchor.\n     * @artifactType Manifest\n     */\n    anchor?: string;\n}\n\nexport interface ViewTableCustomAction extends CustomTableAction {\n    /**\n     * Defines the position of the action relative to other actions.\n     * @artifactType Manifest\n     */\n    position?: ViewCustomActionPosition;\n}\n", "export const enum DesigntimeValues {\n    'not-adaptable-visibility' = 'not-adaptable-visibility'\n}\n\nexport interface FlexSettings {\n    /**\n     * You can restrict the adaptability of header facets via the setting 'flexSettings'/'designtime'. 'not-adaptable-visibility' means that 'remove' and 'add' are not possible, but 'move' is enabled.\n     */\n    designtime?: DesigntimeValues;\n}\n\nexport interface CommonHeaderFacetSettings {\n    /**\n     * Header facets marked as stashed are initially not visible on the UI. Key users can add these header facets via key user adaptation.\n     */\n    stashed?: boolean;\n    flexSettings?: FlexSettings;\n}\n\nexport interface ObjectPageHeaderSectionForm extends CommonHeaderFacetSettings {\n    /**\n     * Form\n     *  @isViewNode true\n     */\n    form?: object;\n}\n\nexport interface ObjectPageHeaderSectionContact extends CommonHeaderFacetSettings {\n    /**\n     * Contact\n     *  @isViewNode true\n     */\n    contact?: object;\n}\n\nexport interface ObjectPageHeaderSectionAddress extends CommonHeaderFacetSettings {\n    /**\n     * Address\n     *  @isViewNode true\n     */\n    address?: object;\n}\n\nexport type ObjectPageHeaderSectionChart = CommonHeaderFacetSettings;\nexport type ObjectPageHeaderSectionDataPoint = CommonHeaderFacetSettings;\n\n/**\n * Header Sections\n * @isViewNode true\n */\nexport interface HeaderSections {\n    [key: string]:\n        | ObjectPageHeaderSectionForm\n        | ObjectPageHeaderSectionChart\n        | ObjectPageHeaderSectionDataPoint\n        | ObjectPageHeaderSectionContact\n        | ObjectPageHeaderSectionAddress;\n}\n", "export enum SectionLayoutType {\n    Tabs = 'Tabs',\n    Page = 'Page'\n}\n\n/**\n * Page Layout\n * @isViewNode true\n */\nexport interface ObjectPageLayout {\n    /**\n     * sectionLayout defines the layout of the sections. The default is \"Page\" (all sections in one page), possible values are \"Page\" and \"Tabs\" (every section in its own tab).\n     */\n    sectionLayout?: SectionLayoutType;\n}\n", "import type { ObjectPageSectionTableV4 } from './ObjectPageTable';\nimport type { SAPUI5_FRAGMENT_CLASS } from '../../common/webapp/manifest/sapUi5';\nimport type { ObjectPageToolBar } from './ObjectPageToolBar';\nimport type { ObjectPageForm } from './ObjectPageForm';\n\nexport interface ObjectPageSectionForm {\n    /**\n     * Form\n     *  @isViewNode true\n     */\n    form?: ObjectPageForm;\n}\n\nexport interface ObjectPageSectionDataPoint {\n    /**\n     * Data Point\n     *  @isViewNode true\n     */\n    dataPoint?: object;\n}\n\nexport interface ObjectPageSectionContact {\n    /**\n     * Contact\n     *  @isViewNode true\n     */\n    contact?: object;\n}\n\nexport interface ObjectPageSectionAddress {\n    /**\n     * Address\n     *  @isViewNode true\n     */\n    address?: object;\n}\n\nexport interface ObjectPageChart {\n    /**\n     * Chart Toolbar\n     * @isViewNode true\n     */\n    toolBar?: ObjectPageToolBar;\n}\n\nexport interface ObjectPageSectionChart {\n    /**\n     * Chart\n     * @isViewNode true\n     */\n    chart?: ObjectPageChart;\n}\n\nexport interface ObjectPageSectionPresentationVariant {\n    /**\n     * Presentation Variant\n     */\n    [key: string]: ObjectPageSectionTableV4 | ObjectPageSectionChart;\n}\n\nexport interface GenericSections {\n    [key: string]:\n        | ObjectPageSectionTableV4\n        | ObjectPageSectionForm\n        | ObjectPageSectionDataPoint\n        | ObjectPageSectionContact\n        | ObjectPageSectionAddress\n        | ObjectPageSectionPresentationVariant;\n}\n\n/**\n * Subsections\n * @isViewNode true\n */\nexport interface ObjectPageSubSections {\n    subsections: GenericSections;\n}\n\nexport enum SectionPosition {\n    After = 'After',\n    Before = 'Before'\n}\n\nexport enum CustomSectionViewTypesV4 {\n    XML = 'XML'\n}\n\n/**\n * Custom Sections\n * @isViewNode true\n */\nexport interface CustomSections {\n    /**\n     * Custom Sections\n     * @isViewNode true\n     */\n    custom?: ObjectPageCustomSectionFragment[];\n}\n\nexport interface ObjectPageCustomSectionBase {\n    relatedFacet: string;\n    relativePosition: SectionPosition;\n    id: string;\n    type: CustomSectionViewTypesV4;\n    /**\n     * The label of the custom section, preferrable as an i18n key\n     * @i18nClassification TIT: Custom section title\n     */\n    title: string;\n}\n\n/**\n * Fragment\n * @isViewNode true\n */\nexport interface ObjectPageCustomSectionFragment extends ObjectPageCustomSectionBase {\n    className: typeof SAPUI5_FRAGMENT_CLASS;\n    fragmentName: string;\n}\n", "import type { SapUiGenericAppPageSettings } from '../../../common/page';\n\nexport interface SapUiAppV4 {\n    pages: SapUiAppPageV4[] | SapUiGenericAppPageMapV4;\n    _version?: string;\n    settings?: object;\n}\n\nexport interface SapUiGenericAppPageMapV4 {\n    [key: string]: SapUiAppPageV4;\n}\n\nexport interface SapUiNavDetailsV4 {\n    detail?: {\n        route?: string;\n    };\n}\n\nexport type SapUi5MultiViewPath = {\n    key: string;\n    annotationPath: string;\n};\n\nexport type SapUi5MultiViewPaths = SapUi5MultiViewPath[];\n\nexport type SapUi5ALPPaths = [\n    {\n        primary: [\n            {\n                annotationPath: string;\n            }\n        ];\n        secondary: [\n            {\n                annotationPath: string;\n            }\n        ];\n        defaultPath: string;\n    }\n];\n\nexport type SapUi5Views = {\n    paths: SapUi5MultiViewPaths | SapUi5ALPPaths;\n    showCounts?: boolean;\n};\n\nexport type SapUiPageSettingsV4 = SapUiGenericAppPageSettings & {\n    entitySet?: string;\n    navigation?: {\n        [key: string]: SapUiNavDetailsV4;\n    };\n    controlConfiguration?: SapUiGenericAppPageSettings;\n    content?: SapUi5RoutingTargetContent;\n    views?: SapUi5Views;\n    defaultTemplateAnnotationPath?: string;\n};\n\nexport interface SapUiAppPageV4 {\n    type: string;\n    id: string;\n    name: string;\n    options: {\n        settings?: SapUiPageSettingsV4;\n    };\n}\n\nexport const FE_TEMPLATE_V4 = 'sap.fe.templates';\nexport const FE_TEMPLATE_V4_CUSTOM_PAGE = 'sap.fe.core.fpm';\nexport const FE_TEMPLATE_V4_OBJECT_PAGE = 'sap.fe.templates.ObjectPage';\nexport const FE_TEMPLATE_V4_LIST_REPORT = 'sap.fe.templates.ListReport';\nexport const FE_TEMPLATE_V4_ALP = 'sap.fe.templates.AnalyticalListPage';\nexport interface SapUiAppPagesV4 {\n    [key: string]: SapUiAppPageV4;\n}\nexport interface SapUi5RoutingTargetContent {\n    body?: SapUi5RoutingTargetContentBody;\n}\n\nexport interface SapUi5RoutingTargetContentBody {\n    sections?: SapUi5RoutingTargetContentSections;\n}\n\nexport interface SapUi5RoutingTargetContentSections {\n    [key: string]: SapUi5RoutingTargetContentSection;\n}\n\nexport const SAPUI5_FRAGMENT_TYPE_V4 = 'XMLFragment';\nexport interface SapUi5RoutingTargetContentSection {\n    // Currently only xml fragment is supported\n    type: typeof SAPUI5_FRAGMENT_TYPE_V4;\n    name?: string;\n    title: string;\n    position: SapUi5RoutingTargetContentPosition;\n    template?: string;\n}\n\nexport enum SectionPositionV4 {\n    AfterFacet = 'AfterFacet',\n    BeforeFacet = 'BeforeFacet'\n}\n\nexport interface SapUi5RoutingTargetContentPosition {\n    placement: SectionPositionV4;\n    anchor: string;\n}\n", "import type {\n    SapUi5RootView,\n    SapUi5OdataModel,\n    SapUi5ResourceModel,\n    SapUi5RoutingRoute,\n    ViewTypes,\n    SapUi5RoutingTargetSettings,\n    SapUi5RoutingTargetBase,\n    SapUi5RoutingTarget,\n    Dependencies\n} from '../../../common/webapp/manifest/sapUi5';\nimport type { SapUiGenericAppPageSettings } from '../../../common/page';\nimport type { FlexibleColumnLayout } from '../../../common';\n\nexport interface FlexibleColumnLayoutV4 extends FlexibleColumnLayout {\n    /**\n     * To limit Flexible Column Layout to two columns. The third level will be displayed in full screen and not in a third column.\n     */\n    limitFCLToTwoColumns?: boolean;\n}\n\nexport interface SapUi5V4 {\n    flexEnabled?: boolean;\n    resources?: object;\n    dependencies?: Dependencies;\n    models?: { [key: string]: SapUi5OdataModel | SapUi5ResourceModel };\n    routing?: SapUi5RoutingV4;\n    [key: string]: string | object | boolean;\n    rootView?: SapUi5RootView;\n    extends?: SapUi5ExtendsV4;\n}\n\nexport interface SapUi5RoutingV4 {\n    config?: SapUi5RoutingConfig;\n    routes?: SapUi5RoutingRoute[];\n    targets: SapUi5RoutingTargetsV4;\n}\n\nexport type RoutingTargetOptions =\n    | SapUi5RoutingTarget\n    | SapUi5RoutingTargetCustomPageV4\n    | SapUi5RoutingTargetCustomPageV4New;\n\nexport interface SapUi5RoutingTargetsV4 {\n    [key: string]: RoutingTargetOptions;\n}\n\nexport interface SapUi5RoutingTargetCustomPageV4New extends SapUi5RoutingTarget {\n    options?: {\n        settings: SapUi5RoutingTargetSettings & SapUi5CommonCustomPageV4;\n    };\n}\n\nexport interface SapUi5CommonCustomPageV4 extends SapUi5RoutingTargetBase {\n    viewName: string;\n    controlConfiguration?: SapUiGenericAppPageSettings;\n}\n\nexport interface SapUi5RoutingTargetCustomPageV4 extends SapUi5CommonCustomPageV4 {\n    viewId: string;\n    viewLevel?: number;\n    viewType?: ViewTypes;\n    viewPath?: string;\n    path?: string;\n    title?: string;\n}\n\nexport const FIORI_FCL_ROUTER_CLASS = 'sap.f.routing.Router';\nexport type RouterClass = typeof FIORI_FCL_ROUTER_CLASS | string;\nexport interface SapUi5RoutingConfig {\n    routerClass?: RouterClass;\n    flexibleColumnLayout?: FlexibleColumnLayoutV4;\n    viewType?: ViewTypes;\n    viewPath?: string;\n    path?: string;\n}\n\nexport interface SapUi5DependenciesV4 {\n    minUI5Version?: string;\n    incompatibleLimitation?: boolean;\n    libs?: SapUi5DependenciesLibV4;\n}\n\nexport const SAPUI5_DEPENDENCY_LIB_SAP_F = 'sap.f';\nexport interface SapUi5DependenciesLibV4 {\n    [SAPUI5_DEPENDENCY_LIB_SAP_F]?: SapUi5DependencyLibV4;\n    [key: string]: SapUi5DependencyLibV4;\n}\n\nexport interface SapUi5DependencyLibV4 {\n    minVersion?: string;\n    lazy?: boolean;\n}\n\nexport interface SapUi5ExtendsV4 {\n    extensions?: SapUi5ExtensionsV4;\n}\n\nexport const SAPUI5_CONTROLLER_EXTENSION = 'sap.ui.controllerExtensions';\nexport const SAPUI5_VIEW_EXTENSION_OBJECT_PAGE = 'sap.fe.templates.ObjectPage.ObjectPageController';\nexport const SAPUI5_VIEW_EXTENSION_LIST_REPORT = 'sap.fe.templates.ListReport.ListReportController';\n\nexport interface SapUi5ExtensionsV4 {\n    [SAPUI5_CONTROLLER_EXTENSION]?: SapUi5ControllerExtensionsV4;\n}\n\nexport interface SapUi5ControllerExtensionsV4 {\n    [SAPUI5_VIEW_EXTENSION_OBJECT_PAGE]?: SapUi5ControllerExtensionV4;\n    [SAPUI5_VIEW_EXTENSION_LIST_REPORT]?: SapUi5ControllerExtensionV4;\n    [key: string]: SapUi5ControllerExtensionV4;\n}\n\nexport interface SapUi5ControllerExtensionV4 {\n    controllerName?: string;\n    controllerNames?: string[];\n}\n", "// Copies of sap.fe type definitions\nexport enum Placement {\n    After = 'After',\n    Before = 'Before'\n}\n\nexport interface Position {\n    /**\n     * The key of another column to be used as placement anchor.\n     */\n    anchor?: string;\n    /**\n     * Define the placement, either before or after the anchor column.\n     */\n    placement: Placement;\n}\n\nexport interface ViewPosition {\n    /**\n     * The key of another column to be used as placement anchor.\n     */\n    anchor?: string;\n    /**\n     * Define the placement, either before or after the anchor column.\n     */\n    placement: Placement;\n}\n\nexport type Positionable = {\n    /**\n     *   Defines the position of the column relative to other columns.\n     */\n    position?: Position;\n};\n\nexport interface ActionAfterExecutionConfiguration {\n    /**\n     * By default, a navigation is automatically triggered after an action execution. If applications want to disable the navigation, they can do so using the manifest setting \u201CnavigateToInstance\u201D.\n     */\n    navigateToInstance?: boolean;\n    /**\n     * The \"enableAutoScroll\" allows you to scroll to the newly created or changed item after execution of an action\n     */\n    enableAutoScroll?: boolean;\n}\n\nexport enum Availability {\n    'Default' = 'Default',\n    'Adaptation' = 'Adaptation',\n    'Hidden' = 'Hidden'\n}\n\nexport enum HorizontalAlign {\n    'Begin' = 'Begin',\n    'Center' = 'Center',\n    'End' = 'End'\n}\n\n/**\n * Table Column\n * @isViewNode true\n */\nexport interface TableColumn {\n    /**\n     * A string type that represents CSS size values.\n     * Refer to https://openui5.hana.ondemand.com/api/sap.ui.core.CSSSize.\n     */\n    width?: string;\n    /**\n     * Defines where the column should be shown.\n     * Default: it will be shown by default in the table.\n     * Adaptation: it will initially not shown in the table but be available via end user adaptation.\n     * Hidden: the column is neither available in the table nor in adaptation.\n     */\n    availability?: Availability;\n}\n\n/**\n * Table Column\n * @isViewNode true\n */\nexport interface ViewTableColumn {\n    /**\n     * A string type that represents CSS size values.\n     * Refer to https://openui5.hana.ondemand.com/api/sap.ui.core.CSSSize.\n     */\n    width?: string;\n    /**\n     * Defines where the column should be shown.\n     * Default: it will be shown by default in the table.\n     * Adaptation: it will initially not shown in the table but be available via end user adaptation.\n     * Hidden: the column is neither available in the table nor in adaptation.\n     */\n    availability?: Availability;\n}\n\n/**\n * Table Column\n * @isViewNode true\n */\nexport interface ObjectPageTableColumn {\n    /**\n     * A string type that represents CSS size values.\n     * Refer to https://openui5.hana.ondemand.com/api/sap.ui.core.CSSSize.\n     */\n    width?: string;\n    /**\n     * Defines where the column should be shown.\n     * Default: it will be shown by default in the table.\n     * Adaptation: it will initially not shown in the table but be available via end user adaptation.\n     * Hidden: the column is neither available in the table nor in adaptation.\n     */\n    availability?: Availability;\n}\n\n/**\n * Inline Action\n * @isViewNode true\n */\nexport interface TableColumnAction extends TableColumn {\n    /**\n     * Settings that are only relevant for actions (associated with a UI.DataFieldForAction annotation)\n     */\n    afterExecution?: ActionAfterExecutionConfiguration;\n}\n\n/**\n * Inline Action\n * @isViewNode true\n */\nexport interface ViewTableColumnAction extends ViewTableColumn {\n    /**\n     * Settings that are only relevant for actions (associated with a UI.DataFieldForAction annotation)\n     */\n    afterExecution?: ActionAfterExecutionConfiguration;\n}\n\nexport type ColumnPropertiesType = string[];\n\n/**\n * Inline Action for Object Page\n * @isViewNode true\n */\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface ObjectPageTableColumnAction extends ObjectPageTableColumn {}\n\n/**\n * Custom Column\n * @isViewNode true\n */\nexport interface TableCustomColumn {\n    /**\n     * Defines the position of the column relative to other columns.\n     * @artifactType Manifest\n     */\n    position?: Position;\n    /**\n     * The header is shown on the table as header, as well as in the add/remove dialog.\n     * @i18nClassification COL: Custom column header text\n     * @artifactType Manifest\n     */\n    header: string;\n    /**\n     * A string type that represents CSS size values.\n     * Refer to https://openui5.hana.ondemand.com/api/sap.ui.core.CSSSize.\n     * @artifactType Manifest\n     */\n    width?: string;\n    /**\n     * Relevant for extension columns; allows the definition of a target fragment.\n     * @artifactType Manifest\n     */\n    template: string;\n    /**\n     * Aligns the header as well as the content horizontally.\n     * @artifactType Manifest\n     */\n    horizontalAlign?: HorizontalAlign;\n    /**\n     * Defines where the column should be shown.\n     * - Default: it will be shown by default in the table.\n     * - Adaptation: it will initially not shown in the table but be available via end user adaptation\n     * - Hidden: the column is neither available in the table nor in adaptation\n     * @artifactType Manifest\n     */\n    availability?: Availability;\n    /**\n     * If provided and sorting is enabled for the table the custom column header can be clicked. This will lead to a list of properties (or one) that can be sorted by, they are displayed as the labels of the properties, corresponding to their definition in the annotations.\n     * @artifactType Manifest\n     */\n    properties?: ColumnPropertiesType;\n}\n\n/**\n * Custom Column\n * @isViewNode true\n */\nexport interface ViewTableCustomColumn {\n    /**\n     *   Defines the position of the column relative to other columns.\n     * @artifactType Manifest\n     */\n    position?: ViewPosition;\n    /**\n     * The header is shown on the table as header, as well as in the add/remove dialog.\n     * @i18nClassification COL: Custom column header text\n     * @artifactType Manifest\n     */\n    header: string;\n    /**\n     * A string type that represents CSS size values.\n     * Refer to https://openui5.hana.ondemand.com/api/sap.ui.core.CSSSize.\n     * @artifactType Manifest\n     */\n    width?: string;\n    /**\n     * Relevant for extension columns; allows the definition of a target fragment.\n     * @artifactType Manifest\n     */\n    template: string;\n    /**\n     * Aligns the header as well as the content horizontally.\n     * @artifactType Manifest\n     */\n    horizontalAlign?: HorizontalAlign;\n    /**\n     * Defines where the column should be shown.\n     * - Default: it will be shown by default in the table.\n     * - Adaptation: it will initially not shown in the table but be available via end user adaptation\n     * - Hidden: the column is neither available in the table nor in adaptation\n     * @artifactType Manifest\n     */\n    availability?: Availability;\n    /**\n     * If provided and sorting is enabled for the table the custom column header can be clicked. This will lead to a list of properties (or one) that can be sorted by, they are displayed as the labels of the properties, corresponding to their definition in the annotations.\n     * @artifactType Manifest\n     */\n    properties?: ColumnPropertiesType;\n}\n", "import type { PageConfig } from '../../common';\nimport type {\n    ObjectPageHeader,\n    ObjectPageLayout,\n    GenericSections,\n    CustomSections,\n    ObjectPageFooter\n} from '../controls';\n\nexport enum VariantManagementTypeObjectPage {\n    None = 'None',\n    Control = 'Control'\n}\n\nexport interface ObjectPageConfigV4 extends PageConfig {\n    header?: ObjectPageHeader;\n    layout?: ObjectPageLayout;\n    /**\n     * variantManagement defines how the variant management of page personalizations is controlled.\n     * - None - No variant management by default.\n     * - Control - Individual personalizations for each control.\n     */\n    variantManagement?: VariantManagementTypeObjectPage;\n\n    sections?: GenericSections | CustomSections;\n\n    footer?: ObjectPageFooter;\n}\n", "import type { PageConfig } from '../../common';\nimport type { FilterBar, ALPChartView, Table, ALPTableView, DefaultPathType } from '../controls';\n\nexport enum VariantManagementTypeListReport {\n    None = 'None',\n    Control = 'Control',\n    Page = 'Page'\n}\n\nexport interface ListReportConfigV4 extends PageConfig {\n    /**\n     * variantManagement defines how the variant management of page personalizations is controlled.\n     * - None - No variant management by default.\n     * - Control - Individual personalizations for each control.\n     */\n    variantManagement?: VariantManagementTypeListReport;\n    /**\n     * Filter Bar\n     */\n    filterBar?: FilterBar;\n\n    /**\n     * Chart\n     */\n    chart?: ALPChartView;\n\n    /**\n     * Table\n     */\n    table?: Table | ALPTableView;\n\n    /**\n     * defaultTemplateAnnotationPath must be a reference to a SelectionPresentationVariant.\n     * You use the SelectionPresentationVariant to configure the default visualizations and default filter values of the main content area.\n     */\n    defaultTemplateAnnotationPath?: string;\n\n    /**\n     * defaultPath can be \"primary\", \"secondary\", or \"both\". If it is \"primary\", SAP Fiori elements loads the app in chart-only view. If it is \"secondary\", SAP Fiori elements loads the app in table-only view. If it is \"both\", SAP Fiori elements loads the app in hybrid view.\n     */\n    defaultPath?: DefaultPathType;\n}\n", null, "'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n", null, null, null, null, ";(function (sax) { // wrapper for non-node envs\n  sax.parser = function (strict, opt) { return new SAXParser(strict, opt) }\n  sax.SAXParser = SAXParser\n  sax.SAXStream = SAXStream\n  sax.createStream = createStream\n\n  // When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n  // When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n  // since that's the earliest that a buffer overrun could occur.  This way, checks are\n  // as rare as required, but as often as necessary to ensure never crossing this bound.\n  // Furthermore, buffers are only tested at most once per write(), so passing a very\n  // large string into write() might have undesirable effects, but this is manageable by\n  // the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n  // edge case, result in creating at most one complete copy of the string passed in.\n  // Set to Infinity to have unlimited buffers.\n  sax.MAX_BUFFER_LENGTH = 64 * 1024\n\n  var buffers = [\n    'comment', 'sgmlDecl', 'textNode', 'tagName', 'doctype',\n    'procInstName', 'procInstBody', 'entity', 'attribName',\n    'attribValue', 'cdata', 'script'\n  ]\n\n  sax.EVENTS = [\n    'text',\n    'processinginstruction',\n    'sgmldeclaration',\n    'doctype',\n    'comment',\n    'opentagstart',\n    'attribute',\n    'opentag',\n    'closetag',\n    'opencdata',\n    'cdata',\n    'closecdata',\n    'error',\n    'end',\n    'ready',\n    'script',\n    'opennamespace',\n    'closenamespace'\n  ]\n\n  function SAXParser (strict, opt) {\n    if (!(this instanceof SAXParser)) {\n      return new SAXParser(strict, opt)\n    }\n\n    var parser = this\n    clearBuffers(parser)\n    parser.q = parser.c = ''\n    parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH\n    parser.opt = opt || {}\n    parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags\n    parser.looseCase = parser.opt.lowercase ? 'toLowerCase' : 'toUpperCase'\n    parser.tags = []\n    parser.closed = parser.closedRoot = parser.sawRoot = false\n    parser.tag = parser.error = null\n    parser.strict = !!strict\n    parser.noscript = !!(strict || parser.opt.noscript)\n    parser.state = S.BEGIN\n    parser.strictEntities = parser.opt.strictEntities\n    parser.ENTITIES = parser.strictEntities ? Object.create(sax.XML_ENTITIES) : Object.create(sax.ENTITIES)\n    parser.attribList = []\n\n    // namespaces form a prototype chain.\n    // it always points at the current tag,\n    // which protos to its parent tag.\n    if (parser.opt.xmlns) {\n      parser.ns = Object.create(rootNS)\n    }\n\n    // mostly just for error reporting\n    parser.trackPosition = parser.opt.position !== false\n    if (parser.trackPosition) {\n      parser.position = parser.line = parser.column = 0\n    }\n    emit(parser, 'onready')\n  }\n\n  if (!Object.create) {\n    Object.create = function (o) {\n      function F () {}\n      F.prototype = o\n      var newf = new F()\n      return newf\n    }\n  }\n\n  if (!Object.keys) {\n    Object.keys = function (o) {\n      var a = []\n      for (var i in o) if (o.hasOwnProperty(i)) a.push(i)\n      return a\n    }\n  }\n\n  function checkBufferLength (parser) {\n    var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10)\n    var maxActual = 0\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      var len = parser[buffers[i]].length\n      if (len > maxAllowed) {\n        // Text/cdata nodes can get big, and since they're buffered,\n        // we can get here under normal conditions.\n        // Avoid issues by emitting the text node now,\n        // so at least it won't get any bigger.\n        switch (buffers[i]) {\n          case 'textNode':\n            closeText(parser)\n            break\n\n          case 'cdata':\n            emitNode(parser, 'oncdata', parser.cdata)\n            parser.cdata = ''\n            break\n\n          case 'script':\n            emitNode(parser, 'onscript', parser.script)\n            parser.script = ''\n            break\n\n          default:\n            error(parser, 'Max buffer length exceeded: ' + buffers[i])\n        }\n      }\n      maxActual = Math.max(maxActual, len)\n    }\n    // schedule the next check for the earliest possible buffer overrun.\n    var m = sax.MAX_BUFFER_LENGTH - maxActual\n    parser.bufferCheckPosition = m + parser.position\n  }\n\n  function clearBuffers (parser) {\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      parser[buffers[i]] = ''\n    }\n  }\n\n  function flushBuffers (parser) {\n    closeText(parser)\n    if (parser.cdata !== '') {\n      emitNode(parser, 'oncdata', parser.cdata)\n      parser.cdata = ''\n    }\n    if (parser.script !== '') {\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n  }\n\n  SAXParser.prototype = {\n    end: function () { end(this) },\n    write: write,\n    resume: function () { this.error = null; return this },\n    close: function () { return this.write(null) },\n    flush: function () { flushBuffers(this) }\n  }\n\n  var Stream\n  try {\n    Stream = require('stream').Stream\n  } catch (ex) {\n    Stream = function () {}\n  }\n\n  var streamWraps = sax.EVENTS.filter(function (ev) {\n    return ev !== 'error' && ev !== 'end'\n  })\n\n  function createStream (strict, opt) {\n    return new SAXStream(strict, opt)\n  }\n\n  function SAXStream (strict, opt) {\n    if (!(this instanceof SAXStream)) {\n      return new SAXStream(strict, opt)\n    }\n\n    Stream.apply(this)\n\n    this._parser = new SAXParser(strict, opt)\n    this.writable = true\n    this.readable = true\n\n    var me = this\n\n    this._parser.onend = function () {\n      me.emit('end')\n    }\n\n    this._parser.onerror = function (er) {\n      me.emit('error', er)\n\n      // if didn't throw, then means error was handled.\n      // go ahead and clear error, so we can write again.\n      me._parser.error = null\n    }\n\n    this._decoder = null\n\n    streamWraps.forEach(function (ev) {\n      Object.defineProperty(me, 'on' + ev, {\n        get: function () {\n          return me._parser['on' + ev]\n        },\n        set: function (h) {\n          if (!h) {\n            me.removeAllListeners(ev)\n            me._parser['on' + ev] = h\n            return h\n          }\n          me.on(ev, h)\n        },\n        enumerable: true,\n        configurable: false\n      })\n    })\n  }\n\n  SAXStream.prototype = Object.create(Stream.prototype, {\n    constructor: {\n      value: SAXStream\n    }\n  })\n\n  SAXStream.prototype.write = function (data) {\n    if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n      if (!this._decoder) {\n        var SD = require('string_decoder').StringDecoder\n        this._decoder = new SD('utf8')\n      }\n      data = this._decoder.write(data)\n    }\n\n    this._parser.write(data.toString())\n    this.emit('data', data)\n    return true\n  }\n\n  SAXStream.prototype.end = function (chunk) {\n    if (chunk && chunk.length) {\n      this.write(chunk)\n    }\n    this._parser.end()\n    return true\n  }\n\n  SAXStream.prototype.on = function (ev, handler) {\n    var me = this\n    if (!me._parser['on' + ev] && streamWraps.indexOf(ev) !== -1) {\n      me._parser['on' + ev] = function () {\n        var args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments)\n        args.splice(0, 0, ev)\n        me.emit.apply(me, args)\n      }\n    }\n\n    return Stream.prototype.on.call(me, ev, handler)\n  }\n\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  var CDATA = '[CDATA['\n  var DOCTYPE = 'DOCTYPE'\n  var XML_NAMESPACE = 'http://www.w3.org/XML/1998/namespace'\n  var XMLNS_NAMESPACE = 'http://www.w3.org/2000/xmlns/'\n  var rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE }\n\n  // http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n  // This implementation works on strings, a single character at a time\n  // as such, it cannot ever support astral-plane characters (10000-EFFFF)\n  // without a significant breaking change to either this  parser, or the\n  // JavaScript language.  Implementation of an emoji-capable xml parser\n  // is left as an exercise for the reader.\n  var nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n\n  var nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  var entityStart = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n  var entityBody = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  function isWhitespace (c) {\n    return c === ' ' || c === '\\n' || c === '\\r' || c === '\\t'\n  }\n\n  function isQuote (c) {\n    return c === '\"' || c === '\\''\n  }\n\n  function isAttribEnd (c) {\n    return c === '>' || isWhitespace(c)\n  }\n\n  function isMatch (regex, c) {\n    return regex.test(c)\n  }\n\n  function notMatch (regex, c) {\n    return !isMatch(regex, c)\n  }\n\n  var S = 0\n  sax.STATE = {\n    BEGIN: S++, // leading byte order mark or whitespace\n    BEGIN_WHITESPACE: S++, // leading whitespace\n    TEXT: S++, // general stuff\n    TEXT_ENTITY: S++, // &amp and such.\n    OPEN_WAKA: S++, // <\n    SGML_DECL: S++, // <!BLARG\n    SGML_DECL_QUOTED: S++, // <!BLARG foo \"bar\n    DOCTYPE: S++, // <!DOCTYPE\n    DOCTYPE_QUOTED: S++, // <!DOCTYPE \"//blah\n    DOCTYPE_DTD: S++, // <!DOCTYPE \"//blah\" [ ...\n    DOCTYPE_DTD_QUOTED: S++, // <!DOCTYPE \"//blah\" [ \"foo\n    COMMENT_STARTING: S++, // <!-\n    COMMENT: S++, // <!--\n    COMMENT_ENDING: S++, // <!-- blah -\n    COMMENT_ENDED: S++, // <!-- blah --\n    CDATA: S++, // <![CDATA[ something\n    CDATA_ENDING: S++, // ]\n    CDATA_ENDING_2: S++, // ]]\n    PROC_INST: S++, // <?hi\n    PROC_INST_BODY: S++, // <?hi there\n    PROC_INST_ENDING: S++, // <?hi \"there\" ?\n    OPEN_TAG: S++, // <strong\n    OPEN_TAG_SLASH: S++, // <strong /\n    ATTRIB: S++, // <a\n    ATTRIB_NAME: S++, // <a foo\n    ATTRIB_NAME_SAW_WHITE: S++, // <a foo _\n    ATTRIB_VALUE: S++, // <a foo=\n    ATTRIB_VALUE_QUOTED: S++, // <a foo=\"bar\n    ATTRIB_VALUE_CLOSED: S++, // <a foo=\"bar\"\n    ATTRIB_VALUE_UNQUOTED: S++, // <a foo=bar\n    ATTRIB_VALUE_ENTITY_Q: S++, // <foo bar=\"&quot;\"\n    ATTRIB_VALUE_ENTITY_U: S++, // <foo bar=&quot\n    CLOSE_TAG: S++, // </a\n    CLOSE_TAG_SAW_WHITE: S++, // </a   >\n    SCRIPT: S++, // <script> ...\n    SCRIPT_ENDING: S++ // <script> ... <\n  }\n\n  sax.XML_ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\"\n  }\n\n  sax.ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\",\n    'AElig': 198,\n    'Aacute': 193,\n    'Acirc': 194,\n    'Agrave': 192,\n    'Aring': 197,\n    'Atilde': 195,\n    'Auml': 196,\n    'Ccedil': 199,\n    'ETH': 208,\n    'Eacute': 201,\n    'Ecirc': 202,\n    'Egrave': 200,\n    'Euml': 203,\n    'Iacute': 205,\n    'Icirc': 206,\n    'Igrave': 204,\n    'Iuml': 207,\n    'Ntilde': 209,\n    'Oacute': 211,\n    'Ocirc': 212,\n    'Ograve': 210,\n    'Oslash': 216,\n    'Otilde': 213,\n    'Ouml': 214,\n    'THORN': 222,\n    'Uacute': 218,\n    'Ucirc': 219,\n    'Ugrave': 217,\n    'Uuml': 220,\n    'Yacute': 221,\n    'aacute': 225,\n    'acirc': 226,\n    'aelig': 230,\n    'agrave': 224,\n    'aring': 229,\n    'atilde': 227,\n    'auml': 228,\n    'ccedil': 231,\n    'eacute': 233,\n    'ecirc': 234,\n    'egrave': 232,\n    'eth': 240,\n    'euml': 235,\n    'iacute': 237,\n    'icirc': 238,\n    'igrave': 236,\n    'iuml': 239,\n    'ntilde': 241,\n    'oacute': 243,\n    'ocirc': 244,\n    'ograve': 242,\n    'oslash': 248,\n    'otilde': 245,\n    'ouml': 246,\n    'szlig': 223,\n    'thorn': 254,\n    'uacute': 250,\n    'ucirc': 251,\n    'ugrave': 249,\n    'uuml': 252,\n    'yacute': 253,\n    'yuml': 255,\n    'copy': 169,\n    'reg': 174,\n    'nbsp': 160,\n    'iexcl': 161,\n    'cent': 162,\n    'pound': 163,\n    'curren': 164,\n    'yen': 165,\n    'brvbar': 166,\n    'sect': 167,\n    'uml': 168,\n    'ordf': 170,\n    'laquo': 171,\n    'not': 172,\n    'shy': 173,\n    'macr': 175,\n    'deg': 176,\n    'plusmn': 177,\n    'sup1': 185,\n    'sup2': 178,\n    'sup3': 179,\n    'acute': 180,\n    'micro': 181,\n    'para': 182,\n    'middot': 183,\n    'cedil': 184,\n    'ordm': 186,\n    'raquo': 187,\n    'frac14': 188,\n    'frac12': 189,\n    'frac34': 190,\n    'iquest': 191,\n    'times': 215,\n    'divide': 247,\n    'OElig': 338,\n    'oelig': 339,\n    'Scaron': 352,\n    'scaron': 353,\n    'Yuml': 376,\n    'fnof': 402,\n    'circ': 710,\n    'tilde': 732,\n    'Alpha': 913,\n    'Beta': 914,\n    'Gamma': 915,\n    'Delta': 916,\n    'Epsilon': 917,\n    'Zeta': 918,\n    'Eta': 919,\n    'Theta': 920,\n    'Iota': 921,\n    'Kappa': 922,\n    'Lambda': 923,\n    'Mu': 924,\n    'Nu': 925,\n    'Xi': 926,\n    'Omicron': 927,\n    'Pi': 928,\n    'Rho': 929,\n    'Sigma': 931,\n    'Tau': 932,\n    'Upsilon': 933,\n    'Phi': 934,\n    'Chi': 935,\n    'Psi': 936,\n    'Omega': 937,\n    'alpha': 945,\n    'beta': 946,\n    'gamma': 947,\n    'delta': 948,\n    'epsilon': 949,\n    'zeta': 950,\n    'eta': 951,\n    'theta': 952,\n    'iota': 953,\n    'kappa': 954,\n    'lambda': 955,\n    'mu': 956,\n    'nu': 957,\n    'xi': 958,\n    'omicron': 959,\n    'pi': 960,\n    'rho': 961,\n    'sigmaf': 962,\n    'sigma': 963,\n    'tau': 964,\n    'upsilon': 965,\n    'phi': 966,\n    'chi': 967,\n    'psi': 968,\n    'omega': 969,\n    'thetasym': 977,\n    'upsih': 978,\n    'piv': 982,\n    'ensp': 8194,\n    'emsp': 8195,\n    'thinsp': 8201,\n    'zwnj': 8204,\n    'zwj': 8205,\n    'lrm': 8206,\n    'rlm': 8207,\n    'ndash': 8211,\n    'mdash': 8212,\n    'lsquo': 8216,\n    'rsquo': 8217,\n    'sbquo': 8218,\n    'ldquo': 8220,\n    'rdquo': 8221,\n    'bdquo': 8222,\n    'dagger': 8224,\n    'Dagger': 8225,\n    'bull': 8226,\n    'hellip': 8230,\n    'permil': 8240,\n    'prime': 8242,\n    'Prime': 8243,\n    'lsaquo': 8249,\n    'rsaquo': 8250,\n    'oline': 8254,\n    'frasl': 8260,\n    'euro': 8364,\n    'image': 8465,\n    'weierp': 8472,\n    'real': 8476,\n    'trade': 8482,\n    'alefsym': 8501,\n    'larr': 8592,\n    'uarr': 8593,\n    'rarr': 8594,\n    'darr': 8595,\n    'harr': 8596,\n    'crarr': 8629,\n    'lArr': 8656,\n    'uArr': 8657,\n    'rArr': 8658,\n    'dArr': 8659,\n    'hArr': 8660,\n    'forall': 8704,\n    'part': 8706,\n    'exist': 8707,\n    'empty': 8709,\n    'nabla': 8711,\n    'isin': 8712,\n    'notin': 8713,\n    'ni': 8715,\n    'prod': 8719,\n    'sum': 8721,\n    'minus': 8722,\n    'lowast': 8727,\n    'radic': 8730,\n    'prop': 8733,\n    'infin': 8734,\n    'ang': 8736,\n    'and': 8743,\n    'or': 8744,\n    'cap': 8745,\n    'cup': 8746,\n    'int': 8747,\n    'there4': 8756,\n    'sim': 8764,\n    'cong': 8773,\n    'asymp': 8776,\n    'ne': 8800,\n    'equiv': 8801,\n    'le': 8804,\n    'ge': 8805,\n    'sub': 8834,\n    'sup': 8835,\n    'nsub': 8836,\n    'sube': 8838,\n    'supe': 8839,\n    'oplus': 8853,\n    'otimes': 8855,\n    'perp': 8869,\n    'sdot': 8901,\n    'lceil': 8968,\n    'rceil': 8969,\n    'lfloor': 8970,\n    'rfloor': 8971,\n    'lang': 9001,\n    'rang': 9002,\n    'loz': 9674,\n    'spades': 9824,\n    'clubs': 9827,\n    'hearts': 9829,\n    'diams': 9830\n  }\n\n  Object.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key]\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e\n    sax.ENTITIES[key] = s\n  })\n\n  for (var s in sax.STATE) {\n    sax.STATE[sax.STATE[s]] = s\n  }\n\n  // shorthand\n  S = sax.STATE\n\n  function emit (parser, event, data) {\n    parser[event] && parser[event](data)\n  }\n\n  function emitNode (parser, nodeType, data) {\n    if (parser.textNode) closeText(parser)\n    emit(parser, nodeType, data)\n  }\n\n  function closeText (parser) {\n    parser.textNode = textopts(parser.opt, parser.textNode)\n    if (parser.textNode) emit(parser, 'ontext', parser.textNode)\n    parser.textNode = ''\n  }\n\n  function textopts (opt, text) {\n    if (opt.trim) text = text.trim()\n    if (opt.normalize) text = text.replace(/\\s+/g, ' ')\n    return text\n  }\n\n  function error (parser, er) {\n    closeText(parser)\n    if (parser.trackPosition) {\n      er += '\\nLine: ' + parser.line +\n        '\\nColumn: ' + parser.column +\n        '\\nChar: ' + parser.c\n    }\n    er = new Error(er)\n    parser.error = er\n    emit(parser, 'onerror', er)\n    return parser\n  }\n\n  function end (parser) {\n    if (parser.sawRoot && !parser.closedRoot) strictFail(parser, 'Unclosed root tag')\n    if ((parser.state !== S.BEGIN) &&\n      (parser.state !== S.BEGIN_WHITESPACE) &&\n      (parser.state !== S.TEXT)) {\n      error(parser, 'Unexpected end')\n    }\n    closeText(parser)\n    parser.c = ''\n    parser.closed = true\n    emit(parser, 'onend')\n    SAXParser.call(parser, parser.strict, parser.opt)\n    return parser\n  }\n\n  function strictFail (parser, message) {\n    if (typeof parser !== 'object' || !(parser instanceof SAXParser)) {\n      throw new Error('bad call to strictFail')\n    }\n    if (parser.strict) {\n      error(parser, message)\n    }\n  }\n\n  function newTag (parser) {\n    if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]()\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    var tag = parser.tag = { name: parser.tagName, attributes: {} }\n\n    // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n    if (parser.opt.xmlns) {\n      tag.ns = parent.ns\n    }\n    parser.attribList.length = 0\n    emitNode(parser, 'onopentagstart', tag)\n  }\n\n  function qname (name, attribute) {\n    var i = name.indexOf(':')\n    var qualName = i < 0 ? [ '', name ] : name.split(':')\n    var prefix = qualName[0]\n    var local = qualName[1]\n\n    // <x \"xmlns\"=\"http://foo\">\n    if (attribute && name === 'xmlns') {\n      prefix = 'xmlns'\n      local = ''\n    }\n\n    return { prefix: prefix, local: local }\n  }\n\n  function attrib (parser) {\n    if (!parser.strict) {\n      parser.attribName = parser.attribName[parser.looseCase]()\n    }\n\n    if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n      parser.attribName = parser.attribValue = ''\n      return\n    }\n\n    if (parser.opt.xmlns) {\n      var qn = qname(parser.attribName, true)\n      var prefix = qn.prefix\n      var local = qn.local\n\n      if (prefix === 'xmlns') {\n        // namespace binding attribute. push the binding into scope\n        if (local === 'xml' && parser.attribValue !== XML_NAMESPACE) {\n          strictFail(parser,\n            'xml: prefix must be bound to ' + XML_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else if (local === 'xmlns' && parser.attribValue !== XMLNS_NAMESPACE) {\n          strictFail(parser,\n            'xmlns: prefix must be bound to ' + XMLNS_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else {\n          var tag = parser.tag\n          var parent = parser.tags[parser.tags.length - 1] || parser\n          if (tag.ns === parent.ns) {\n            tag.ns = Object.create(parent.ns)\n          }\n          tag.ns[local] = parser.attribValue\n        }\n      }\n\n      // defer onattribute events until all attributes have been seen\n      // so any new bindings can take effect. preserve attribute order\n      // so deferred events can be emitted in document order\n      parser.attribList.push([parser.attribName, parser.attribValue])\n    } else {\n      // in non-xmlns mode, we can emit the event right away\n      parser.tag.attributes[parser.attribName] = parser.attribValue\n      emitNode(parser, 'onattribute', {\n        name: parser.attribName,\n        value: parser.attribValue\n      })\n    }\n\n    parser.attribName = parser.attribValue = ''\n  }\n\n  function openTag (parser, selfClosing) {\n    if (parser.opt.xmlns) {\n      // emit namespace binding events\n      var tag = parser.tag\n\n      // add namespace info to tag\n      var qn = qname(parser.tagName)\n      tag.prefix = qn.prefix\n      tag.local = qn.local\n      tag.uri = tag.ns[qn.prefix] || ''\n\n      if (tag.prefix && !tag.uri) {\n        strictFail(parser, 'Unbound namespace prefix: ' +\n          JSON.stringify(parser.tagName))\n        tag.uri = qn.prefix\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (tag.ns && parent.ns !== tag.ns) {\n        Object.keys(tag.ns).forEach(function (p) {\n          emitNode(parser, 'onopennamespace', {\n            prefix: p,\n            uri: tag.ns[p]\n          })\n        })\n      }\n\n      // handle deferred onattribute events\n      // Note: do not apply default ns to attributes:\n      //   http://www.w3.org/TR/REC-xml-names/#defaulting\n      for (var i = 0, l = parser.attribList.length; i < l; i++) {\n        var nv = parser.attribList[i]\n        var name = nv[0]\n        var value = nv[1]\n        var qualName = qname(name, true)\n        var prefix = qualName.prefix\n        var local = qualName.local\n        var uri = prefix === '' ? '' : (tag.ns[prefix] || '')\n        var a = {\n          name: name,\n          value: value,\n          prefix: prefix,\n          local: local,\n          uri: uri\n        }\n\n        // if there's any attributes with an undefined namespace,\n        // then fail on them now.\n        if (prefix && prefix !== 'xmlns' && !uri) {\n          strictFail(parser, 'Unbound namespace prefix: ' +\n            JSON.stringify(prefix))\n          a.uri = prefix\n        }\n        parser.tag.attributes[name] = a\n        emitNode(parser, 'onattribute', a)\n      }\n      parser.attribList.length = 0\n    }\n\n    parser.tag.isSelfClosing = !!selfClosing\n\n    // process the tag\n    parser.sawRoot = true\n    parser.tags.push(parser.tag)\n    emitNode(parser, 'onopentag', parser.tag)\n    if (!selfClosing) {\n      // special case for <script> in non-strict mode.\n      if (!parser.noscript && parser.tagName.toLowerCase() === 'script') {\n        parser.state = S.SCRIPT\n      } else {\n        parser.state = S.TEXT\n      }\n      parser.tag = null\n      parser.tagName = ''\n    }\n    parser.attribName = parser.attribValue = ''\n    parser.attribList.length = 0\n  }\n\n  function closeTag (parser) {\n    if (!parser.tagName) {\n      strictFail(parser, 'Weird empty close tag.')\n      parser.textNode += '</>'\n      parser.state = S.TEXT\n      return\n    }\n\n    if (parser.script) {\n      if (parser.tagName !== 'script') {\n        parser.script += '</' + parser.tagName + '>'\n        parser.tagName = ''\n        parser.state = S.SCRIPT\n        return\n      }\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n\n    // first make sure that the closing tag actually exists.\n    // <a><b></c></b></a> will close everything, otherwise.\n    var t = parser.tags.length\n    var tagName = parser.tagName\n    if (!parser.strict) {\n      tagName = tagName[parser.looseCase]()\n    }\n    var closeTo = tagName\n    while (t--) {\n      var close = parser.tags[t]\n      if (close.name !== closeTo) {\n        // fail the first time in strict mode\n        strictFail(parser, 'Unexpected close tag')\n      } else {\n        break\n      }\n    }\n\n    // didn't find it.  we already failed for strict, so just abort.\n    if (t < 0) {\n      strictFail(parser, 'Unmatched closing tag: ' + parser.tagName)\n      parser.textNode += '</' + parser.tagName + '>'\n      parser.state = S.TEXT\n      return\n    }\n    parser.tagName = tagName\n    var s = parser.tags.length\n    while (s-- > t) {\n      var tag = parser.tag = parser.tags.pop()\n      parser.tagName = parser.tag.name\n      emitNode(parser, 'onclosetag', parser.tagName)\n\n      var x = {}\n      for (var i in tag.ns) {\n        x[i] = tag.ns[i]\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (parser.opt.xmlns && tag.ns !== parent.ns) {\n        // remove namespace bindings introduced by tag\n        Object.keys(tag.ns).forEach(function (p) {\n          var n = tag.ns[p]\n          emitNode(parser, 'onclosenamespace', { prefix: p, uri: n })\n        })\n      }\n    }\n    if (t === 0) parser.closedRoot = true\n    parser.tagName = parser.attribValue = parser.attribName = ''\n    parser.attribList.length = 0\n    parser.state = S.TEXT\n  }\n\n  function parseEntity (parser) {\n    var entity = parser.entity\n    var entityLC = entity.toLowerCase()\n    var num\n    var numStr = ''\n\n    if (parser.ENTITIES[entity]) {\n      return parser.ENTITIES[entity]\n    }\n    if (parser.ENTITIES[entityLC]) {\n      return parser.ENTITIES[entityLC]\n    }\n    entity = entityLC\n    if (entity.charAt(0) === '#') {\n      if (entity.charAt(1) === 'x') {\n        entity = entity.slice(2)\n        num = parseInt(entity, 16)\n        numStr = num.toString(16)\n      } else {\n        entity = entity.slice(1)\n        num = parseInt(entity, 10)\n        numStr = num.toString(10)\n      }\n    }\n    entity = entity.replace(/^0+/, '')\n    if (isNaN(num) || numStr.toLowerCase() !== entity) {\n      strictFail(parser, 'Invalid character entity')\n      return '&' + parser.entity + ';'\n    }\n\n    return String.fromCodePoint(num)\n  }\n\n  function beginWhiteSpace (parser, c) {\n    if (c === '<') {\n      parser.state = S.OPEN_WAKA\n      parser.startTagPosition = parser.position\n    } else if (!isWhitespace(c)) {\n      // have to process this as a text node.\n      // weird, but happens.\n      strictFail(parser, 'Non-whitespace before first tag.')\n      parser.textNode = c\n      parser.state = S.TEXT\n    }\n  }\n\n  function charAt (chunk, i) {\n    var result = ''\n    if (i < chunk.length) {\n      result = chunk.charAt(i)\n    }\n    return result\n  }\n\n  function write (chunk) {\n    var parser = this\n    if (this.error) {\n      throw this.error\n    }\n    if (parser.closed) {\n      return error(parser,\n        'Cannot write after close. Assign an onready handler.')\n    }\n    if (chunk === null) {\n      return end(parser)\n    }\n    if (typeof chunk === 'object') {\n      chunk = chunk.toString()\n    }\n    var i = 0\n    var c = ''\n    while (true) {\n      c = charAt(chunk, i++)\n      parser.c = c\n\n      if (!c) {\n        break\n      }\n\n      if (parser.trackPosition) {\n        parser.position++\n        if (c === '\\n') {\n          parser.line++\n          parser.column = 0\n        } else {\n          parser.column++\n        }\n      }\n\n      switch (parser.state) {\n        case S.BEGIN:\n          parser.state = S.BEGIN_WHITESPACE\n          if (c === '\\uFEFF') {\n            continue\n          }\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.BEGIN_WHITESPACE:\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.TEXT:\n          if (parser.sawRoot && !parser.closedRoot) {\n            var starti = i - 1\n            while (c && c !== '<' && c !== '&') {\n              c = charAt(chunk, i++)\n              if (c && parser.trackPosition) {\n                parser.position++\n                if (c === '\\n') {\n                  parser.line++\n                  parser.column = 0\n                } else {\n                  parser.column++\n                }\n              }\n            }\n            parser.textNode += chunk.substring(starti, i - 1)\n          }\n          if (c === '<' && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {\n            parser.state = S.OPEN_WAKA\n            parser.startTagPosition = parser.position\n          } else {\n            if (!isWhitespace(c) && (!parser.sawRoot || parser.closedRoot)) {\n              strictFail(parser, 'Text data outside of root node.')\n            }\n            if (c === '&') {\n              parser.state = S.TEXT_ENTITY\n            } else {\n              parser.textNode += c\n            }\n          }\n          continue\n\n        case S.SCRIPT:\n          // only non-strict\n          if (c === '<') {\n            parser.state = S.SCRIPT_ENDING\n          } else {\n            parser.script += c\n          }\n          continue\n\n        case S.SCRIPT_ENDING:\n          if (c === '/') {\n            parser.state = S.CLOSE_TAG\n          } else {\n            parser.script += '<' + c\n            parser.state = S.SCRIPT\n          }\n          continue\n\n        case S.OPEN_WAKA:\n          // either a /, ?, !, or text is coming next.\n          if (c === '!') {\n            parser.state = S.SGML_DECL\n            parser.sgmlDecl = ''\n          } else if (isWhitespace(c)) {\n            // wait for it...\n          } else if (isMatch(nameStart, c)) {\n            parser.state = S.OPEN_TAG\n            parser.tagName = c\n          } else if (c === '/') {\n            parser.state = S.CLOSE_TAG\n            parser.tagName = ''\n          } else if (c === '?') {\n            parser.state = S.PROC_INST\n            parser.procInstName = parser.procInstBody = ''\n          } else {\n            strictFail(parser, 'Unencoded <')\n            // if there was some whitespace, then add that in.\n            if (parser.startTagPosition + 1 < parser.position) {\n              var pad = parser.position - parser.startTagPosition\n              c = new Array(pad).join(' ') + c\n            }\n            parser.textNode += '<' + c\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.SGML_DECL:\n          if ((parser.sgmlDecl + c).toUpperCase() === CDATA) {\n            emitNode(parser, 'onopencdata')\n            parser.state = S.CDATA\n            parser.sgmlDecl = ''\n            parser.cdata = ''\n          } else if (parser.sgmlDecl + c === '--') {\n            parser.state = S.COMMENT\n            parser.comment = ''\n            parser.sgmlDecl = ''\n          } else if ((parser.sgmlDecl + c).toUpperCase() === DOCTYPE) {\n            parser.state = S.DOCTYPE\n            if (parser.doctype || parser.sawRoot) {\n              strictFail(parser,\n                'Inappropriately located doctype declaration')\n            }\n            parser.doctype = ''\n            parser.sgmlDecl = ''\n          } else if (c === '>') {\n            emitNode(parser, 'onsgmldeclaration', parser.sgmlDecl)\n            parser.sgmlDecl = ''\n            parser.state = S.TEXT\n          } else if (isQuote(c)) {\n            parser.state = S.SGML_DECL_QUOTED\n            parser.sgmlDecl += c\n          } else {\n            parser.sgmlDecl += c\n          }\n          continue\n\n        case S.SGML_DECL_QUOTED:\n          if (c === parser.q) {\n            parser.state = S.SGML_DECL\n            parser.q = ''\n          }\n          parser.sgmlDecl += c\n          continue\n\n        case S.DOCTYPE:\n          if (c === '>') {\n            parser.state = S.TEXT\n            emitNode(parser, 'ondoctype', parser.doctype)\n            parser.doctype = true // just remember that we saw it.\n          } else {\n            parser.doctype += c\n            if (c === '[') {\n              parser.state = S.DOCTYPE_DTD\n            } else if (isQuote(c)) {\n              parser.state = S.DOCTYPE_QUOTED\n              parser.q = c\n            }\n          }\n          continue\n\n        case S.DOCTYPE_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.q = ''\n            parser.state = S.DOCTYPE\n          }\n          continue\n\n        case S.DOCTYPE_DTD:\n          parser.doctype += c\n          if (c === ']') {\n            parser.state = S.DOCTYPE\n          } else if (isQuote(c)) {\n            parser.state = S.DOCTYPE_DTD_QUOTED\n            parser.q = c\n          }\n          continue\n\n        case S.DOCTYPE_DTD_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.state = S.DOCTYPE_DTD\n            parser.q = ''\n          }\n          continue\n\n        case S.COMMENT:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDING\n          } else {\n            parser.comment += c\n          }\n          continue\n\n        case S.COMMENT_ENDING:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDED\n            parser.comment = textopts(parser.opt, parser.comment)\n            if (parser.comment) {\n              emitNode(parser, 'oncomment', parser.comment)\n            }\n            parser.comment = ''\n          } else {\n            parser.comment += '-' + c\n            parser.state = S.COMMENT\n          }\n          continue\n\n        case S.COMMENT_ENDED:\n          if (c !== '>') {\n            strictFail(parser, 'Malformed comment')\n            // allow <!-- blah -- bloo --> in non-strict mode,\n            // which is a comment of \" blah -- bloo \"\n            parser.comment += '--' + c\n            parser.state = S.COMMENT\n          } else {\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.CDATA:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING\n          } else {\n            parser.cdata += c\n          }\n          continue\n\n        case S.CDATA_ENDING:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING_2\n          } else {\n            parser.cdata += ']' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.CDATA_ENDING_2:\n          if (c === '>') {\n            if (parser.cdata) {\n              emitNode(parser, 'oncdata', parser.cdata)\n            }\n            emitNode(parser, 'onclosecdata')\n            parser.cdata = ''\n            parser.state = S.TEXT\n          } else if (c === ']') {\n            parser.cdata += ']'\n          } else {\n            parser.cdata += ']]' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.PROC_INST:\n          if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else if (isWhitespace(c)) {\n            parser.state = S.PROC_INST_BODY\n          } else {\n            parser.procInstName += c\n          }\n          continue\n\n        case S.PROC_INST_BODY:\n          if (!parser.procInstBody && isWhitespace(c)) {\n            continue\n          } else if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else {\n            parser.procInstBody += c\n          }\n          continue\n\n        case S.PROC_INST_ENDING:\n          if (c === '>') {\n            emitNode(parser, 'onprocessinginstruction', {\n              name: parser.procInstName,\n              body: parser.procInstBody\n            })\n            parser.procInstName = parser.procInstBody = ''\n            parser.state = S.TEXT\n          } else {\n            parser.procInstBody += '?' + c\n            parser.state = S.PROC_INST_BODY\n          }\n          continue\n\n        case S.OPEN_TAG:\n          if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else {\n            newTag(parser)\n            if (c === '>') {\n              openTag(parser)\n            } else if (c === '/') {\n              parser.state = S.OPEN_TAG_SLASH\n            } else {\n              if (!isWhitespace(c)) {\n                strictFail(parser, 'Invalid character in tag name')\n              }\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.OPEN_TAG_SLASH:\n          if (c === '>') {\n            openTag(parser, true)\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Forward-slash in opening tag not followed by >')\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.ATTRIB:\n          // haven't read the attribute name yet.\n          if (isWhitespace(c)) {\n            continue\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (c === '>') {\n            strictFail(parser, 'Attribute without value')\n            parser.attribValue = parser.attribName\n            attrib(parser)\n            openTag(parser)\n          } else if (isWhitespace(c)) {\n            parser.state = S.ATTRIB_NAME_SAW_WHITE\n          } else if (isMatch(nameBody, c)) {\n            parser.attribName += c\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME_SAW_WHITE:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (isWhitespace(c)) {\n            continue\n          } else {\n            strictFail(parser, 'Attribute without value')\n            parser.tag.attributes[parser.attribName] = ''\n            parser.attribValue = ''\n            emitNode(parser, 'onattribute', {\n              name: parser.attribName,\n              value: ''\n            })\n            parser.attribName = ''\n            if (c === '>') {\n              openTag(parser)\n            } else if (isMatch(nameStart, c)) {\n              parser.attribName = c\n              parser.state = S.ATTRIB_NAME\n            } else {\n              strictFail(parser, 'Invalid attribute name')\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.ATTRIB_VALUE:\n          if (isWhitespace(c)) {\n            continue\n          } else if (isQuote(c)) {\n            parser.q = c\n            parser.state = S.ATTRIB_VALUE_QUOTED\n          } else {\n            strictFail(parser, 'Unquoted attribute value')\n            parser.state = S.ATTRIB_VALUE_UNQUOTED\n            parser.attribValue = c\n          }\n          continue\n\n        case S.ATTRIB_VALUE_QUOTED:\n          if (c !== parser.q) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_Q\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          parser.q = ''\n          parser.state = S.ATTRIB_VALUE_CLOSED\n          continue\n\n        case S.ATTRIB_VALUE_CLOSED:\n          if (isWhitespace(c)) {\n            parser.state = S.ATTRIB\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            strictFail(parser, 'No whitespace between attributes')\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_VALUE_UNQUOTED:\n          if (!isAttribEnd(c)) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_U\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          if (c === '>') {\n            openTag(parser)\n          } else {\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.CLOSE_TAG:\n          if (!parser.tagName) {\n            if (isWhitespace(c)) {\n              continue\n            } else if (notMatch(nameStart, c)) {\n              if (parser.script) {\n                parser.script += '</' + c\n                parser.state = S.SCRIPT\n              } else {\n                strictFail(parser, 'Invalid tagname in closing tag.')\n              }\n            } else {\n              parser.tagName = c\n            }\n          } else if (c === '>') {\n            closeTag(parser)\n          } else if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else if (parser.script) {\n            parser.script += '</' + parser.tagName\n            parser.tagName = ''\n            parser.state = S.SCRIPT\n          } else {\n            if (!isWhitespace(c)) {\n              strictFail(parser, 'Invalid tagname in closing tag')\n            }\n            parser.state = S.CLOSE_TAG_SAW_WHITE\n          }\n          continue\n\n        case S.CLOSE_TAG_SAW_WHITE:\n          if (isWhitespace(c)) {\n            continue\n          }\n          if (c === '>') {\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Invalid characters in closing tag')\n          }\n          continue\n\n        case S.TEXT_ENTITY:\n        case S.ATTRIB_VALUE_ENTITY_Q:\n        case S.ATTRIB_VALUE_ENTITY_U:\n          var returnState\n          var buffer\n          switch (parser.state) {\n            case S.TEXT_ENTITY:\n              returnState = S.TEXT\n              buffer = 'textNode'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_Q:\n              returnState = S.ATTRIB_VALUE_QUOTED\n              buffer = 'attribValue'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_U:\n              returnState = S.ATTRIB_VALUE_UNQUOTED\n              buffer = 'attribValue'\n              break\n          }\n\n          if (c === ';') {\n            parser[buffer] += parseEntity(parser)\n            parser.entity = ''\n            parser.state = returnState\n          } else if (isMatch(parser.entity.length ? entityBody : entityStart, c)) {\n            parser.entity += c\n          } else {\n            strictFail(parser, 'Invalid character in entity name')\n            parser[buffer] += '&' + parser.entity + c\n            parser.entity = ''\n            parser.state = returnState\n          }\n\n          continue\n\n        default:\n          throw new Error(parser, 'Unknown state: ' + parser.state)\n      }\n    } // while\n\n    if (parser.position >= parser.bufferCheckPosition) {\n      checkBufferLength(parser)\n    }\n    return parser\n  }\n\n  /*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\n  /* istanbul ignore next */\n  if (!String.fromCodePoint) {\n    (function () {\n      var stringFromCharCode = String.fromCharCode\n      var floor = Math.floor\n      var fromCodePoint = function () {\n        var MAX_SIZE = 0x4000\n        var codeUnits = []\n        var highSurrogate\n        var lowSurrogate\n        var index = -1\n        var length = arguments.length\n        if (!length) {\n          return ''\n        }\n        var result = ''\n        while (++index < length) {\n          var codePoint = Number(arguments[index])\n          if (\n            !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n            codePoint < 0 || // not a valid Unicode code point\n            codePoint > 0x10FFFF || // not a valid Unicode code point\n            floor(codePoint) !== codePoint // not an integer\n          ) {\n            throw RangeError('Invalid code point: ' + codePoint)\n          }\n          if (codePoint <= 0xFFFF) { // BMP code point\n            codeUnits.push(codePoint)\n          } else { // Astral code point; split in surrogate halves\n            // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n            codePoint -= 0x10000\n            highSurrogate = (codePoint >> 10) + 0xD800\n            lowSurrogate = (codePoint % 0x400) + 0xDC00\n            codeUnits.push(highSurrogate, lowSurrogate)\n          }\n          if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n            result += stringFromCharCode.apply(null, codeUnits)\n            codeUnits.length = 0\n          }\n        }\n        return result\n      }\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(String, 'fromCodePoint', {\n          value: fromCodePoint,\n          configurable: true,\n          writable: true\n        })\n      } else {\n        String.fromCodePoint = fromCodePoint\n      }\n    }())\n  }\n})(typeof exports === 'undefined' ? this.sax = {} : exports)\n", "module.exports = {\r\n\r\n  isArray: function(value) {\r\n    if (Array.isArray) {\r\n      return Array.isArray(value);\r\n    }\r\n    // fallback for older browsers like  IE 8\r\n    return Object.prototype.toString.call( value ) === '[object Array]';\r\n  }\r\n\r\n};\r\n", "var isArray = require('./array-helper').isArray;\r\n\r\nmodule.exports = {\r\n\r\n  copyOptions: function (options) {\r\n    var key, copy = {};\r\n    for (key in options) {\r\n      if (options.hasOwnProperty(key)) {\r\n        copy[key] = options[key];\r\n      }\r\n    }\r\n    return copy;\r\n  },\r\n\r\n  ensureFlagExists: function (item, options) {\r\n    if (!(item in options) || typeof options[item] !== 'boolean') {\r\n      options[item] = false;\r\n    }\r\n  },\r\n\r\n  ensureSpacesExists: function (options) {\r\n    if (!('spaces' in options) || (typeof options.spaces !== 'number' && typeof options.spaces !== 'string')) {\r\n      options.spaces = 0;\r\n    }\r\n  },\r\n\r\n  ensureAlwaysArrayExists: function (options) {\r\n    if (!('alwaysArray' in options) || (typeof options.alwaysArray !== 'boolean' && !isArray(options.alwaysArray))) {\r\n      options.alwaysArray = false;\r\n    }\r\n  },\r\n\r\n  ensureKeyExists: function (key, options) {\r\n    if (!(key + 'Key' in options) || typeof options[key + 'Key'] !== 'string') {\r\n      options[key + 'Key'] = options.compact ? '_' + key : key;\r\n    }\r\n  },\r\n\r\n  checkFnExists: function (key, options) {\r\n    return key + 'Fn' in options;\r\n  }\r\n\r\n};\r\n", "var sax = require('sax');\r\nvar expat /*= require('node-expat');*/ = { on: function () { }, parse: function () { } };\r\nvar helper = require('./options-helper');\r\nvar isArray = require('./array-helper').isArray;\r\n\r\nvar options;\r\nvar pureJsParser = true;\r\nvar currentElement;\r\n\r\nfunction validateOptions(userOptions) {\r\n  options = helper.copyOptions(userOptions);\r\n  helper.ensureFlagExists('ignoreDeclaration', options);\r\n  helper.ensureFlagExists('ignoreInstruction', options);\r\n  helper.ensureFlagExists('ignoreAttributes', options);\r\n  helper.ensureFlagExists('ignoreText', options);\r\n  helper.ensureFlagExists('ignoreComment', options);\r\n  helper.ensureFlagExists('ignoreCdata', options);\r\n  helper.ensureFlagExists('ignoreDoctype', options);\r\n  helper.ensureFlagExists('compact', options);\r\n  helper.ensureFlagExists('alwaysChildren', options);\r\n  helper.ensureFlagExists('addParent', options);\r\n  helper.ensureFlagExists('trim', options);\r\n  helper.ensureFlagExists('nativeType', options);\r\n  helper.ensureFlagExists('nativeTypeAttributes', options);\r\n  helper.ensureFlagExists('sanitize', options);\r\n  helper.ensureFlagExists('instructionHasAttributes', options);\r\n  helper.ensureFlagExists('captureSpacesBetweenElements', options);\r\n  helper.ensureAlwaysArrayExists(options);\r\n  helper.ensureKeyExists('declaration', options);\r\n  helper.ensureKeyExists('instruction', options);\r\n  helper.ensureKeyExists('attributes', options);\r\n  helper.ensureKeyExists('text', options);\r\n  helper.ensureKeyExists('comment', options);\r\n  helper.ensureKeyExists('cdata', options);\r\n  helper.ensureKeyExists('doctype', options);\r\n  helper.ensureKeyExists('type', options);\r\n  helper.ensureKeyExists('name', options);\r\n  helper.ensureKeyExists('elements', options);\r\n  helper.ensureKeyExists('parent', options);\r\n  helper.checkFnExists('doctype', options);\r\n  helper.checkFnExists('instruction', options);\r\n  helper.checkFnExists('cdata', options);\r\n  helper.checkFnExists('comment', options);\r\n  helper.checkFnExists('text', options);\r\n  helper.checkFnExists('instructionName', options);\r\n  helper.checkFnExists('elementName', options);\r\n  helper.checkFnExists('attributeName', options);\r\n  helper.checkFnExists('attributeValue', options);\r\n  helper.checkFnExists('attributes', options);\r\n  return options;\r\n}\r\n\r\nfunction nativeType(value) {\r\n  var nValue = Number(value);\r\n  if (!isNaN(nValue)) {\r\n    return nValue;\r\n  }\r\n  var bValue = value.toLowerCase();\r\n  if (bValue === 'true') {\r\n    return true;\r\n  } else if (bValue === 'false') {\r\n    return false;\r\n  }\r\n  return value;\r\n}\r\n\r\nfunction addField(type, value) {\r\n  var key;\r\n  if (options.compact) {\r\n    if (\r\n      !currentElement[options[type + 'Key']] &&\r\n      (isArray(options.alwaysArray) ? options.alwaysArray.indexOf(options[type + 'Key']) !== -1 : options.alwaysArray)\r\n    ) {\r\n      currentElement[options[type + 'Key']] = [];\r\n    }\r\n    if (currentElement[options[type + 'Key']] && !isArray(currentElement[options[type + 'Key']])) {\r\n      currentElement[options[type + 'Key']] = [currentElement[options[type + 'Key']]];\r\n    }\r\n    if (type + 'Fn' in options && typeof value === 'string') {\r\n      value = options[type + 'Fn'](value, currentElement);\r\n    }\r\n    if (type === 'instruction' && ('instructionFn' in options || 'instructionNameFn' in options)) {\r\n      for (key in value) {\r\n        if (value.hasOwnProperty(key)) {\r\n          if ('instructionFn' in options) {\r\n            value[key] = options.instructionFn(value[key], key, currentElement);\r\n          } else {\r\n            var temp = value[key];\r\n            delete value[key];\r\n            value[options.instructionNameFn(key, temp, currentElement)] = temp;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (isArray(currentElement[options[type + 'Key']])) {\r\n      currentElement[options[type + 'Key']].push(value);\r\n    } else {\r\n      currentElement[options[type + 'Key']] = value;\r\n    }\r\n  } else {\r\n    if (!currentElement[options.elementsKey]) {\r\n      currentElement[options.elementsKey] = [];\r\n    }\r\n    var element = {};\r\n    element[options.typeKey] = type;\r\n    if (type === 'instruction') {\r\n      for (key in value) {\r\n        if (value.hasOwnProperty(key)) {\r\n          break;\r\n        }\r\n      }\r\n      element[options.nameKey] = 'instructionNameFn' in options ? options.instructionNameFn(key, value, currentElement) : key;\r\n      if (options.instructionHasAttributes) {\r\n        element[options.attributesKey] = value[key][options.attributesKey];\r\n        if ('instructionFn' in options) {\r\n          element[options.attributesKey] = options.instructionFn(element[options.attributesKey], key, currentElement);\r\n        }\r\n      } else {\r\n        if ('instructionFn' in options) {\r\n          value[key] = options.instructionFn(value[key], key, currentElement);\r\n        }\r\n        element[options.instructionKey] = value[key];\r\n      }\r\n    } else {\r\n      if (type + 'Fn' in options) {\r\n        value = options[type + 'Fn'](value, currentElement);\r\n      }\r\n      element[options[type + 'Key']] = value;\r\n    }\r\n    if (options.addParent) {\r\n      element[options.parentKey] = currentElement;\r\n    }\r\n    currentElement[options.elementsKey].push(element);\r\n  }\r\n}\r\n\r\nfunction manipulateAttributes(attributes) {\r\n  if ('attributesFn' in options && attributes) {\r\n    attributes = options.attributesFn(attributes, currentElement);\r\n  }\r\n  if ((options.trim || 'attributeValueFn' in options || 'attributeNameFn' in options || options.nativeTypeAttributes) && attributes) {\r\n    var key;\r\n    for (key in attributes) {\r\n      if (attributes.hasOwnProperty(key)) {\r\n        if (options.trim) attributes[key] = attributes[key].trim();\r\n        if (options.nativeTypeAttributes) {\r\n          attributes[key] = nativeType(attributes[key]);\r\n        }\r\n        if ('attributeValueFn' in options) attributes[key] = options.attributeValueFn(attributes[key], key, currentElement);\r\n        if ('attributeNameFn' in options) {\r\n          var temp = attributes[key];\r\n          delete attributes[key];\r\n          attributes[options.attributeNameFn(key, attributes[key], currentElement)] = temp;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return attributes;\r\n}\r\n\r\nfunction onInstruction(instruction) {\r\n  var attributes = {};\r\n  if (instruction.body && (instruction.name.toLowerCase() === 'xml' || options.instructionHasAttributes)) {\r\n    var attrsRegExp = /([\\w:-]+)\\s*=\\s*(?:\"([^\"]*)\"|'([^']*)'|(\\w+))\\s*/g;\r\n    var match;\r\n    while ((match = attrsRegExp.exec(instruction.body)) !== null) {\r\n      attributes[match[1]] = match[2] || match[3] || match[4];\r\n    }\r\n    attributes = manipulateAttributes(attributes);\r\n  }\r\n  if (instruction.name.toLowerCase() === 'xml') {\r\n    if (options.ignoreDeclaration) {\r\n      return;\r\n    }\r\n    currentElement[options.declarationKey] = {};\r\n    if (Object.keys(attributes).length) {\r\n      currentElement[options.declarationKey][options.attributesKey] = attributes;\r\n    }\r\n    if (options.addParent) {\r\n      currentElement[options.declarationKey][options.parentKey] = currentElement;\r\n    }\r\n  } else {\r\n    if (options.ignoreInstruction) {\r\n      return;\r\n    }\r\n    if (options.trim) {\r\n      instruction.body = instruction.body.trim();\r\n    }\r\n    var value = {};\r\n    if (options.instructionHasAttributes && Object.keys(attributes).length) {\r\n      value[instruction.name] = {};\r\n      value[instruction.name][options.attributesKey] = attributes;\r\n    } else {\r\n      value[instruction.name] = instruction.body;\r\n    }\r\n    addField('instruction', value);\r\n  }\r\n}\r\n\r\nfunction onStartElement(name, attributes) {\r\n  var element;\r\n  if (typeof name === 'object') {\r\n    attributes = name.attributes;\r\n    name = name.name;\r\n  }\r\n  attributes = manipulateAttributes(attributes);\r\n  if ('elementNameFn' in options) {\r\n    name = options.elementNameFn(name, currentElement);\r\n  }\r\n  if (options.compact) {\r\n    element = {};\r\n    if (!options.ignoreAttributes && attributes && Object.keys(attributes).length) {\r\n      element[options.attributesKey] = {};\r\n      var key;\r\n      for (key in attributes) {\r\n        if (attributes.hasOwnProperty(key)) {\r\n          element[options.attributesKey][key] = attributes[key];\r\n        }\r\n      }\r\n    }\r\n    if (\r\n      !(name in currentElement) &&\r\n      (isArray(options.alwaysArray) ? options.alwaysArray.indexOf(name) !== -1 : options.alwaysArray)\r\n    ) {\r\n      currentElement[name] = [];\r\n    }\r\n    if (currentElement[name] && !isArray(currentElement[name])) {\r\n      currentElement[name] = [currentElement[name]];\r\n    }\r\n    if (isArray(currentElement[name])) {\r\n      currentElement[name].push(element);\r\n    } else {\r\n      currentElement[name] = element;\r\n    }\r\n  } else {\r\n    if (!currentElement[options.elementsKey]) {\r\n      currentElement[options.elementsKey] = [];\r\n    }\r\n    element = {};\r\n    element[options.typeKey] = 'element';\r\n    element[options.nameKey] = name;\r\n    if (!options.ignoreAttributes && attributes && Object.keys(attributes).length) {\r\n      element[options.attributesKey] = attributes;\r\n    }\r\n    if (options.alwaysChildren) {\r\n      element[options.elementsKey] = [];\r\n    }\r\n    currentElement[options.elementsKey].push(element);\r\n  }\r\n  element[options.parentKey] = currentElement; // will be deleted in onEndElement() if !options.addParent\r\n  currentElement = element;\r\n}\r\n\r\nfunction onText(text) {\r\n  if (options.ignoreText) {\r\n    return;\r\n  }\r\n  if (!text.trim() && !options.captureSpacesBetweenElements) {\r\n    return;\r\n  }\r\n  if (options.trim) {\r\n    text = text.trim();\r\n  }\r\n  if (options.nativeType) {\r\n    text = nativeType(text);\r\n  }\r\n  if (options.sanitize) {\r\n    text = text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\r\n  }\r\n  addField('text', text);\r\n}\r\n\r\nfunction onComment(comment) {\r\n  if (options.ignoreComment) {\r\n    return;\r\n  }\r\n  if (options.trim) {\r\n    comment = comment.trim();\r\n  }\r\n  addField('comment', comment);\r\n}\r\n\r\nfunction onEndElement(name) {\r\n  var parentElement = currentElement[options.parentKey];\r\n  if (!options.addParent) {\r\n    delete currentElement[options.parentKey];\r\n  }\r\n  currentElement = parentElement;\r\n}\r\n\r\nfunction onCdata(cdata) {\r\n  if (options.ignoreCdata) {\r\n    return;\r\n  }\r\n  if (options.trim) {\r\n    cdata = cdata.trim();\r\n  }\r\n  addField('cdata', cdata);\r\n}\r\n\r\nfunction onDoctype(doctype) {\r\n  if (options.ignoreDoctype) {\r\n    return;\r\n  }\r\n  doctype = doctype.replace(/^ /, '');\r\n  if (options.trim) {\r\n    doctype = doctype.trim();\r\n  }\r\n  addField('doctype', doctype);\r\n}\r\n\r\nfunction onError(error) {\r\n  error.note = error; //console.error(error);\r\n}\r\n\r\nmodule.exports = function (xml, userOptions) {\r\n\r\n  var parser = pureJsParser ? sax.parser(true, {}) : parser = new expat.Parser('UTF-8');\r\n  var result = {};\r\n  currentElement = result;\r\n\r\n  options = validateOptions(userOptions);\r\n\r\n  if (pureJsParser) {\r\n    parser.opt = {strictEntities: true};\r\n    parser.onopentag = onStartElement;\r\n    parser.ontext = onText;\r\n    parser.oncomment = onComment;\r\n    parser.onclosetag = onEndElement;\r\n    parser.onerror = onError;\r\n    parser.oncdata = onCdata;\r\n    parser.ondoctype = onDoctype;\r\n    parser.onprocessinginstruction = onInstruction;\r\n  } else {\r\n    parser.on('startElement', onStartElement);\r\n    parser.on('text', onText);\r\n    parser.on('comment', onComment);\r\n    parser.on('endElement', onEndElement);\r\n    parser.on('error', onError);\r\n    //parser.on('startCdata', onStartCdata);\r\n    //parser.on('endCdata', onEndCdata);\r\n    //parser.on('entityDecl', onEntityDecl);\r\n  }\r\n\r\n  if (pureJsParser) {\r\n    parser.write(xml).close();\r\n  } else {\r\n    if (!parser.parse(xml)) {\r\n      throw new Error('XML parsing error: ' + parser.getError());\r\n    }\r\n  }\r\n\r\n  if (result[options.elementsKey]) {\r\n    var temp = result[options.elementsKey];\r\n    delete result[options.elementsKey];\r\n    result[options.elementsKey] = temp;\r\n    delete result.text;\r\n  }\r\n\r\n  return result;\r\n\r\n};\r\n", "var helper = require('./options-helper');\r\nvar xml2js = require('./xml2js');\r\n\r\nfunction validateOptions (userOptions) {\r\n  var options = helper.copyOptions(userOptions);\r\n  helper.ensureSpacesExists(options);\r\n  return options;\r\n}\r\n\r\nmodule.exports = function(xml, userOptions) {\r\n  var options, js, json, parentKey;\r\n  options = validateOptions(userOptions);\r\n  js = xml2js(xml, options);\r\n  parentKey = 'compact' in options && options.compact ? '_parent' : 'parent';\r\n  // parentKey = ptions.compact ? '_parent' : 'parent'; // consider this\r\n  if ('addParent' in options && options.addParent) {\r\n    json = JSON.stringify(js, function (k, v) { return k === parentKey? '_' : v; }, options.spaces);\r\n  } else {\r\n    json = JSON.stringify(js, null, options.spaces);\r\n  }\r\n  return json.replace(/\\u2028/g, '\\\\u2028').replace(/\\u2029/g, '\\\\u2029');\r\n};\r\n", "var helper = require('./options-helper');\nvar isArray = require('./array-helper').isArray;\n\nvar currentElement, currentElementName;\n\nfunction validateOptions(userOptions) {\n  var options = helper.copyOptions(userOptions);\n  helper.ensureFlagExists('ignoreDeclaration', options);\n  helper.ensureFlagExists('ignoreInstruction', options);\n  helper.ensureFlagExists('ignoreAttributes', options);\n  helper.ensureFlagExists('ignoreText', options);\n  helper.ensureFlagExists('ignoreComment', options);\n  helper.ensureFlagExists('ignoreCdata', options);\n  helper.ensureFlagExists('ignoreDoctype', options);\n  helper.ensureFlagExists('compact', options);\n  helper.ensureFlagExists('indentText', options);\n  helper.ensureFlagExists('indentCdata', options);\n  helper.ensureFlagExists('indentAttributes', options);\n  helper.ensureFlagExists('indentInstruction', options);\n  helper.ensureFlagExists('fullTagEmptyElement', options);\n  helper.ensureFlagExists('noQuotesForNativeAttributes', options);\n  helper.ensureSpacesExists(options);\n  if (typeof options.spaces === 'number') {\n    options.spaces = Array(options.spaces + 1).join(' ');\n  }\n  helper.ensureKeyExists('declaration', options);\n  helper.ensureKeyExists('instruction', options);\n  helper.ensureKeyExists('attributes', options);\n  helper.ensureKeyExists('text', options);\n  helper.ensureKeyExists('comment', options);\n  helper.ensureKeyExists('cdata', options);\n  helper.ensureKeyExists('doctype', options);\n  helper.ensureKeyExists('type', options);\n  helper.ensureKeyExists('name', options);\n  helper.ensureKeyExists('elements', options);\n  helper.checkFnExists('doctype', options);\n  helper.checkFnExists('instruction', options);\n  helper.checkFnExists('cdata', options);\n  helper.checkFnExists('comment', options);\n  helper.checkFnExists('text', options);\n  helper.checkFnExists('instructionName', options);\n  helper.checkFnExists('elementName', options);\n  helper.checkFnExists('attributeName', options);\n  helper.checkFnExists('attributeValue', options);\n  helper.checkFnExists('attributes', options);\n  helper.checkFnExists('fullTagEmptyElement', options);\n  return options;\n}\n\nfunction writeIndentation(options, depth, firstLine) {\n  return (!firstLine && options.spaces ? '\\n' : '') + Array(depth + 1).join(options.spaces);\n}\n\nfunction writeAttributes(attributes, options, depth) {\n  if (options.ignoreAttributes) {\n    return '';\n  }\n  if ('attributesFn' in options) {\n    attributes = options.attributesFn(attributes, currentElementName, currentElement);\n  }\n  var key, attr, attrName, quote, result = [];\n  for (key in attributes) {\n    if (attributes.hasOwnProperty(key) && attributes[key] !== null && attributes[key] !== undefined) {\n      quote = options.noQuotesForNativeAttributes && typeof attributes[key] !== 'string' ? '' : '\"';\n      attr = '' + attributes[key]; // ensure number and boolean are converted to String\n      attr = attr.replace(/\"/g, '&quot;');\n      attrName = 'attributeNameFn' in options ? options.attributeNameFn(key, attr, currentElementName, currentElement) : key;\n      result.push((options.spaces && options.indentAttributes? writeIndentation(options, depth+1, false) : ' '));\n      result.push(attrName + '=' + quote + ('attributeValueFn' in options ? options.attributeValueFn(attr, key, currentElementName, currentElement) : attr) + quote);\n    }\n  }\n  if (attributes && Object.keys(attributes).length && options.spaces && options.indentAttributes) {\n    result.push(writeIndentation(options, depth, false));\n  }\n  return result.join('');\n}\n\nfunction writeDeclaration(declaration, options, depth) {\n  currentElement = declaration;\n  currentElementName = 'xml';\n  return options.ignoreDeclaration ? '' :  '<?' + 'xml' + writeAttributes(declaration[options.attributesKey], options, depth) + '?>';\n}\n\nfunction writeInstruction(instruction, options, depth) {\n  if (options.ignoreInstruction) {\n    return '';\n  }\n  var key;\n  for (key in instruction) {\n    if (instruction.hasOwnProperty(key)) {\n      break;\n    }\n  }\n  var instructionName = 'instructionNameFn' in options ? options.instructionNameFn(key, instruction[key], currentElementName, currentElement) : key;\n  if (typeof instruction[key] === 'object') {\n    currentElement = instruction;\n    currentElementName = instructionName;\n    return '<?' + instructionName + writeAttributes(instruction[key][options.attributesKey], options, depth) + '?>';\n  } else {\n    var instructionValue = instruction[key] ? instruction[key] : '';\n    if ('instructionFn' in options) instructionValue = options.instructionFn(instructionValue, key, currentElementName, currentElement);\n    return '<?' + instructionName + (instructionValue ? ' ' + instructionValue : '') + '?>';\n  }\n}\n\nfunction writeComment(comment, options) {\n  return options.ignoreComment ? '' : '<!--' + ('commentFn' in options ? options.commentFn(comment, currentElementName, currentElement) : comment) + '-->';\n}\n\nfunction writeCdata(cdata, options) {\n  return options.ignoreCdata ? '' : '<![CDATA[' + ('cdataFn' in options ? options.cdataFn(cdata, currentElementName, currentElement) : cdata.replace(']]>', ']]]]><![CDATA[>')) + ']]>';\n}\n\nfunction writeDoctype(doctype, options) {\n  return options.ignoreDoctype ? '' : '<!DOCTYPE ' + ('doctypeFn' in options ? options.doctypeFn(doctype, currentElementName, currentElement) : doctype) + '>';\n}\n\nfunction writeText(text, options) {\n  if (options.ignoreText) return '';\n  text = '' + text; // ensure Number and Boolean are converted to String\n  text = text.replace(/&amp;/g, '&'); // desanitize to avoid double sanitization\n  text = text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n  return 'textFn' in options ? options.textFn(text, currentElementName, currentElement) : text;\n}\n\nfunction hasContent(element, options) {\n  var i;\n  if (element.elements && element.elements.length) {\n    for (i = 0; i < element.elements.length; ++i) {\n      switch (element.elements[i][options.typeKey]) {\n      case 'text':\n        if (options.indentText) {\n          return true;\n        }\n        break; // skip to next key\n      case 'cdata':\n        if (options.indentCdata) {\n          return true;\n        }\n        break; // skip to next key\n      case 'instruction':\n        if (options.indentInstruction) {\n          return true;\n        }\n        break; // skip to next key\n      case 'doctype':\n      case 'comment':\n      case 'element':\n        return true;\n      default:\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction writeElement(element, options, depth) {\n  currentElement = element;\n  currentElementName = element.name;\n  var xml = [], elementName = 'elementNameFn' in options ? options.elementNameFn(element.name, element) : element.name;\n  xml.push('<' + elementName);\n  if (element[options.attributesKey]) {\n    xml.push(writeAttributes(element[options.attributesKey], options, depth));\n  }\n  var withClosingTag = element[options.elementsKey] && element[options.elementsKey].length || element[options.attributesKey] && element[options.attributesKey]['xml:space'] === 'preserve';\n  if (!withClosingTag) {\n    if ('fullTagEmptyElementFn' in options) {\n      withClosingTag = options.fullTagEmptyElementFn(element.name, element);\n    } else {\n      withClosingTag = options.fullTagEmptyElement;\n    }\n  }\n  if (withClosingTag) {\n    xml.push('>');\n    if (element[options.elementsKey] && element[options.elementsKey].length) {\n      xml.push(writeElements(element[options.elementsKey], options, depth + 1));\n      currentElement = element;\n      currentElementName = element.name;\n    }\n    xml.push(options.spaces && hasContent(element, options) ? '\\n' + Array(depth + 1).join(options.spaces) : '');\n    xml.push('</' + elementName + '>');\n  } else {\n    xml.push('/>');\n  }\n  return xml.join('');\n}\n\nfunction writeElements(elements, options, depth, firstLine) {\n  return elements.reduce(function (xml, element) {\n    var indent = writeIndentation(options, depth, firstLine && !xml);\n    switch (element.type) {\n    case 'element': return xml + indent + writeElement(element, options, depth);\n    case 'comment': return xml + indent + writeComment(element[options.commentKey], options);\n    case 'doctype': return xml + indent + writeDoctype(element[options.doctypeKey], options);\n    case 'cdata': return xml + (options.indentCdata ? indent : '') + writeCdata(element[options.cdataKey], options);\n    case 'text': return xml + (options.indentText ? indent : '') + writeText(element[options.textKey], options);\n    case 'instruction':\n      var instruction = {};\n      instruction[element[options.nameKey]] = element[options.attributesKey] ? element : element[options.instructionKey];\n      return xml + (options.indentInstruction ? indent : '') + writeInstruction(instruction, options, depth);\n    }\n  }, '');\n}\n\nfunction hasContentCompact(element, options, anyContent) {\n  var key;\n  for (key in element) {\n    if (element.hasOwnProperty(key)) {\n      switch (key) {\n      case options.parentKey:\n      case options.attributesKey:\n        break; // skip to next key\n      case options.textKey:\n        if (options.indentText || anyContent) {\n          return true;\n        }\n        break; // skip to next key\n      case options.cdataKey:\n        if (options.indentCdata || anyContent) {\n          return true;\n        }\n        break; // skip to next key\n      case options.instructionKey:\n        if (options.indentInstruction || anyContent) {\n          return true;\n        }\n        break; // skip to next key\n      case options.doctypeKey:\n      case options.commentKey:\n        return true;\n      default:\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction writeElementCompact(element, name, options, depth, indent) {\n  currentElement = element;\n  currentElementName = name;\n  var elementName = 'elementNameFn' in options ? options.elementNameFn(name, element) : name;\n  if (typeof element === 'undefined' || element === null || element === '') {\n    return 'fullTagEmptyElementFn' in options && options.fullTagEmptyElementFn(name, element) || options.fullTagEmptyElement ? '<' + elementName + '></' + elementName + '>' : '<' + elementName + '/>';\n  }\n  var xml = [];\n  if (name) {\n    xml.push('<' + elementName);\n    if (typeof element !== 'object') {\n      xml.push('>' + writeText(element,options) + '</' + elementName + '>');\n      return xml.join('');\n    }\n    if (element[options.attributesKey]) {\n      xml.push(writeAttributes(element[options.attributesKey], options, depth));\n    }\n    var withClosingTag = hasContentCompact(element, options, true) || element[options.attributesKey] && element[options.attributesKey]['xml:space'] === 'preserve';\n    if (!withClosingTag) {\n      if ('fullTagEmptyElementFn' in options) {\n        withClosingTag = options.fullTagEmptyElementFn(name, element);\n      } else {\n        withClosingTag = options.fullTagEmptyElement;\n      }\n    }\n    if (withClosingTag) {\n      xml.push('>');\n    } else {\n      xml.push('/>');\n      return xml.join('');\n    }\n  }\n  xml.push(writeElementsCompact(element, options, depth + 1, false));\n  currentElement = element;\n  currentElementName = name;\n  if (name) {\n    xml.push((indent ? writeIndentation(options, depth, false) : '') + '</' + elementName + '>');\n  }\n  return xml.join('');\n}\n\nfunction writeElementsCompact(element, options, depth, firstLine) {\n  var i, key, nodes, xml = [];\n  for (key in element) {\n    if (element.hasOwnProperty(key)) {\n      nodes = isArray(element[key]) ? element[key] : [element[key]];\n      for (i = 0; i < nodes.length; ++i) {\n        switch (key) {\n        case options.declarationKey: xml.push(writeDeclaration(nodes[i], options, depth)); break;\n        case options.instructionKey: xml.push((options.indentInstruction ? writeIndentation(options, depth, firstLine) : '') + writeInstruction(nodes[i], options, depth)); break;\n        case options.attributesKey: case options.parentKey: break; // skip\n        case options.textKey: xml.push((options.indentText ? writeIndentation(options, depth, firstLine) : '') + writeText(nodes[i], options)); break;\n        case options.cdataKey: xml.push((options.indentCdata ? writeIndentation(options, depth, firstLine) : '') + writeCdata(nodes[i], options)); break;\n        case options.doctypeKey: xml.push(writeIndentation(options, depth, firstLine) + writeDoctype(nodes[i], options)); break;\n        case options.commentKey: xml.push(writeIndentation(options, depth, firstLine) + writeComment(nodes[i], options)); break;\n        default: xml.push(writeIndentation(options, depth, firstLine) + writeElementCompact(nodes[i], key, options, depth, hasContentCompact(nodes[i], options)));\n        }\n        firstLine = firstLine && !xml.length;\n      }\n    }\n  }\n  return xml.join('');\n}\n\nmodule.exports = function (js, options) {\n  options = validateOptions(options);\n  var xml = [];\n  currentElement = js;\n  currentElementName = '_root_';\n  if (options.compact) {\n    xml.push(writeElementsCompact(js, options, 0, true));\n  } else {\n    if (js[options.declarationKey]) {\n      xml.push(writeDeclaration(js[options.declarationKey], options, 0));\n    }\n    if (js[options.elementsKey] && js[options.elementsKey].length) {\n      xml.push(writeElements(js[options.elementsKey], options, 0, !xml.length));\n    }\n  }\n  return xml.join('');\n};\n", "var js2xml = require('./js2xml.js');\r\n\r\nmodule.exports = function (json, options) {\r\n  if (json instanceof Buffer) {\r\n    json = json.toString();\r\n  }\r\n  var js = null;\r\n  if (typeof (json) === 'string') {\r\n    try {\r\n      js = JSON.parse(json);\r\n    } catch (e) {\r\n      throw new Error('The JSON structure is invalid');\r\n    }\r\n  } else {\r\n    js = json;\r\n  }\r\n  return js2xml(js, options);\r\n};\r\n", "/*jslint node:true */\r\n\r\nvar xml2js = require('./xml2js');\r\nvar xml2json = require('./xml2json');\r\nvar js2xml = require('./js2xml');\r\nvar json2xml = require('./json2xml');\r\n\r\nmodule.exports = {\r\n  xml2js: xml2js,\r\n  xml2json: xml2json,\r\n  js2xml: js2xml,\r\n  json2xml: json2xml\r\n};\r\n", null, null, null, null, null, "/**\n * @module @ui5/flexibility-utils/src/changeUtils\n */\n\nlet iIdCounter = 0;\nconst CHANGE_UTILS_PREFIX = \"changeUtils: \";\n\nfunction uid() {\n\treturn \"id-\" + new Date().valueOf() + \"-\" + iIdCounter++;\n}\n\nfunction appendComponentToReference(sComponentName) {\n\tif (sComponentName && sComponentName.indexOf(\".Component\") < 0) {\n\t\tsComponentName += \".Component\";\n\t}\n\treturn sComponentName;\n}\n\nfunction getFlexReference(manifest) {\n\tconst oSapUi5Entry = manifest[\"sap.ui5\"];\n\tif (oSapUi5Entry) {\n\t\tif (oSapUi5Entry.appVariantId) {\n\t\t\treturn oSapUi5Entry.appVariantId;\n\t\t}\n\n\t\tif (oSapUi5Entry.componentName) {\n\t\t\treturn appendComponentToReference(oSapUi5Entry.componentName);\n\t\t}\n\t}\n\n\tconst sapApp = manifest[\"sap.app\"];\n\tif (!sapApp || !sapApp.id) {\n\t\tthrow Error(\"app ID could not be determined\");\n\t}\n\treturn sapApp.id;\n}\n\nfunction getAppVersion(manifest) {\n\tconst sapApp = manifest[\"sap.app\"];\n\tif (!sapApp || !sapApp.applicationVersion || !sapApp.applicationVersion.version) {\n\t\tthrow Error(\"app version could not be determined\");\n\t}\n\treturn sapApp.applicationVersion.version;\n}\n\nfunction getProjectId(manifest, reference) {\n\tif (\n\t\tmanifest &&\n\t\tmanifest[\"sap.app\"] &&\n\t\tmanifest[\"sap.app\"].sourceTemplate &&\n\t\t[\"ui5template.smartTemplate\", \"ui5template.smarttemplate\"].includes(manifest[\"sap.app\"].sourceTemplate.id)\n\t) {\n\t\treturn reference;\n\t}\n\n\treturn \"\";\n}\n\nfunction createString(propertyBag) {\n\treturn JSON.stringify({\n\t\tfileName: propertyBag.id || uid().replace(/-/g, \"_\") + \"_\" + propertyBag.type,\n\t\tfileType: \"change\",\n\t\tchangeType: propertyBag.type,\n\t\tmoduleName: \"\",\n\t\treference: propertyBag.reference,\n\t\tpackageName: \"\",\n\t\tcontent: propertyBag.content || {},\n\t\tselector: {\n\t\t\tid: propertyBag.controlId,\n\t\t\tidIsLocal: false,\n\t\t\ttype: propertyBag.controlType\n\t\t},\n\t\tlayer: propertyBag.isCustomer ? \"CUSTOMER_BASE\" : \"VENDOR\",\n\t\ttexts: {},\n\t\tnamespace: \"apps/\" + propertyBag.reference.replace(\".Component\", \"\") + \"/changes/\",\n\t\tprojectId: propertyBag.projectId,\n\t\tcreation: propertyBag.creation || new Date().valueOf(),\n\t\toriginalLanguage: \"\",\n\t\tsupport: {\n\t\t\tgenerator: CHANGE_UTILS_PREFIX + propertyBag.creatingTool,\n\t\t\tservice: \"\",\n\t\t\tuser: \"\",\n\t\t\tsapui5Version: propertyBag.sapui5Version,\n\t\t\tsourceChangeFileName: \"\",\n\t\t\tcompositeCommand: \"\"\n\t\t},\n\t\toDataInformation: {},\n\t\tdependentSelector: {},\n\t\tvalidAppVersions: {\n\t\t\tfrom: propertyBag.appVersion,\n\t\t\tto: propertyBag.appVersion,\n\t\t\tcreation: propertyBag.appVersion\n\n\t\t},\n\t\tjsOnly: false,\n\t\tvariantReference: \"\",\n\t\tappDescriptorChange: false\n\t});\n}\n\n/**\n * Object containing information for a change update.\n *\n * @typedef {object} \tChangeDefinition\n * @property {string}\tcontrolId - ID of the control containing all prefixes excluding the application ID prefix\n * @property {string}\ttype - Change type, i.e. <code>propertyChange</code>\n * @property {Object}\tcontent - Content of the change needed by the corresponding change handler\n * @property {boolean}\tisCustomer - Flag indicating whether the project is related to a customer project\n * @property {string}\tsapui5Version - SAPUI5 version for which the change is created\n * @property {string}\tcreatingTool - Name of the tool calling this function for support reasons\n * @property {string}\tid - UID of the change;\n * \t\t\t\t\t\t\tDefined on the first <code>toString</code> function call via the <code>manifest</code>\n * @property {string}\treference - Reference to the application;\n * \t\t\t\t\t\t\tDefined on the first <code>toString</code> function call via the <code>manifest</code>\n * @property {string}\tappVersion - Version of the application;\n *\t\t \t\t\t\t\tDefined on the first <code>toString</code> function call via the <code>manifest</code>\n * @property {string}\tcreation - String with the creation timestamp;\n * \t\t\t\t\t\t\tDefined on the first <code>toString</code> function call via the <code>manifest</code>\n */\n\n/**\n * Object containing information for a change creation.\n *\n * @typedef {object} \tChangeDefinitionInCreation\n * @property {string}  \tcontrolId - ID of the control containing all prefixes excluding the application ID prefix\n * @property {string}  \ttype - Change type, i.e. <code>propertyChange</code>\n * @property {Object}  \t[content] - Content of the change needed by the corresponding change handler\n * @property {boolean} \tisCustomer - Flag indicating whether the project is related to a customer project\n * @property {string}  \t[sapui5Version] - SAPUI5 version for which the change is created\n * @property {string}  \tcreatingTool - Name of the tool calling this function (this is needed for support reasons)\n */\n\nmodule.exports = {\n\t/**\n\t * Parses a string of a change file into a change definition;\n\t * The parsed entities <code>id</code>, <code>reference</code>, <code>appVersion</code>, <code>creation</code>\n\t * must not be changed between <code>toString</code> operations.\n\t *\n\t * @param {string} changeString - Stringified change object stored in the workspace\n\t * @returns {ChangeDefinition}\n\t */\n\tparse: function(changeString) {\n\t\tconst change = JSON.parse(changeString);\n\n\t\tif (\n\t\t\t!change.fileName ||\n\t\t\t!change.changeType ||\n\t\t\t!change.selector ||\n\t\t\t!change.reference ||\n\t\t\t!change.creation ||\n\t\t\t!change.content ||\n\t\t\t!change.layer ||\n\t\t\t!change.support\n\t\t) {\n\t\t\tthrow Error(\"Parsed object does not contain all required parameters\");\n\t\t}\n\n\t\treturn {\n\t\t\tid: change.fileName,\n\t\t\treference: change.reference,\n\t\t\tappVersion: change.validAppVersions ? change.validAppVersions.creation : \"\",\n\t\t\tcreation: change.creation,\n\t\t\tprojectId: change.projectId,\n\t\t\ttype: change.changeType,\n\t\t\tcontrolId: change.selector.id,\n\t\t\tcontrolType: change.selector.type,\n\t\t\tisCustomer: change.layer === \"CUSTOMER_BASE\",\n\t\t\tcreatingTool: change.support.generator.replace(CHANGE_UTILS_PREFIX, \"\"),\n\t\t\tcontent: change.content,\n\t\t\tsapui5Version: change.support.sapui5Version\n\t\t};\n\t},\n\n\t/**\n\t * Generates a string of a change to write it as a file into the workspace.\n\t *\n\t * @param {changeDefinitionInCreation} propertyBag -\n\t * \t\t\tObject containing parameters for the change string creation\n\t * @param {object} manifest - Application manifest\n\t * @returns {string} Stringified change object needed and understood by the SAPUI5 runtime for storing in the workspace\n\t */\n\tcreateChangeString: function (propertyBag, manifest) {\n\t\tif (\n\t\t\t!propertyBag.type ||\n\t\t\t!propertyBag.controlId ||\n\t\t\t!(typeof propertyBag.isCustomer === \"boolean\") ||\n\t\t\t!propertyBag.creatingTool\n\t\t) {\n\t\t\tthrow Error(\"not all property parameters of the change were provided\");\n\t\t}\n\n\t\tif (!manifest) {\n\t\t\tthrow Error(\"no manifest was provided\");\n\t\t}\n\n\t\tpropertyBag.reference = getFlexReference(manifest);\n\t\tpropertyBag.appVersion = getAppVersion(manifest);\n\t\tpropertyBag.projectId = getProjectId(manifest, propertyBag.reference);\n\n\t\treturn createString(propertyBag);\n\t},\n\n\t/**\n\t * Generates a string of a parsed change to write it as a file into the workspace.\n\t *\n\t * @param {ChangeDefinition} propertyBag -\n\t * \t\t\tObject containing parameters for the change string creation\n\t * @returns {string} Stringified change object needed and understood by the SAPUI5 runtime for storing in the workspace\n\t */\n\ttoString: function(propertyBag) {\n\t\tif (\n\t\t\t!propertyBag.type ||\n\t\t\t!propertyBag.controlId ||\n\t\t\t!(typeof propertyBag.isCustomer === \"boolean\") ||\n\t\t\t!propertyBag.creatingTool ||\n\t\t\t!(propertyBag.reference && propertyBag.appVersion)\n\t\t) {\n\t\t\tthrow Error(\"not all parameters of the change were provided\");\n\t\t}\n\n\t\treturn createString(propertyBag);\n\t}\n};\n", "/**\n * @module @ui5/flexibility-utils\n * @public\n */\n\nmodule.exports = {\n\t/**\n\t * @public\n\t * @see module:@ui5/flexibility-utils/src/changeUtils.js\n\t */\n\tchange: require(\"./src/changeUtils\")\n};", "/*\n * EJS Embedded JavaScript templates\n * Copyright 2112 Matthew Eernisse (mde@fleegix.org)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n*/\n\n/**\n * Private utility functions\n * @module utils\n * @private\n */\n\n'use strict';\n\nvar regExpChars = /[|\\\\{}()[\\]^$+*?.]/g;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar hasOwn = function (obj, key) { return hasOwnProperty.apply(obj, [key]); };\n\n/**\n * Escape characters reserved in regular expressions.\n *\n * If `string` is `undefined` or `null`, the empty string is returned.\n *\n * @param {String} string Input string\n * @return {String} Escaped string\n * @static\n * @private\n */\nexports.escapeRegExpChars = function (string) {\n  // istanbul ignore if\n  if (!string) {\n    return '';\n  }\n  return String(string).replace(regExpChars, '\\\\$&');\n};\n\nvar _ENCODE_HTML_RULES = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&#34;',\n  \"'\": '&#39;'\n};\nvar _MATCH_HTML = /[&<>'\"]/g;\n\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n}\n\n/**\n * Stringified version of constants used by {@link module:utils.escapeXML}.\n *\n * It is used in the process of generating {@link ClientFunction}s.\n *\n * @readonly\n * @type {String}\n */\n\nvar escapeFuncStr =\n  'var _ENCODE_HTML_RULES = {\\n'\n+ '      \"&\": \"&amp;\"\\n'\n+ '    , \"<\": \"&lt;\"\\n'\n+ '    , \">\": \"&gt;\"\\n'\n+ '    , \\'\"\\': \"&#34;\"\\n'\n+ '    , \"\\'\": \"&#39;\"\\n'\n+ '    }\\n'\n+ '  , _MATCH_HTML = /[&<>\\'\"]/g;\\n'\n+ 'function encode_char(c) {\\n'\n+ '  return _ENCODE_HTML_RULES[c] || c;\\n'\n+ '};\\n';\n\n/**\n * Escape characters reserved in XML.\n *\n * If `markup` is `undefined` or `null`, the empty string is returned.\n *\n * @implements {EscapeCallback}\n * @param {String} markup Input string\n * @return {String} Escaped string\n * @static\n * @private\n */\n\nexports.escapeXML = function (markup) {\n  return markup == undefined\n    ? ''\n    : String(markup)\n      .replace(_MATCH_HTML, encode_char);\n};\nexports.escapeXML.toString = function () {\n  return Function.prototype.toString.call(this) + ';\\n' + escapeFuncStr;\n};\n\n/**\n * Naive copy of properties from one object to another.\n * Does not recurse into non-scalar properties\n * Does not check to see if the property has a value before copying\n *\n * @param  {Object} to   Destination object\n * @param  {Object} from Source object\n * @return {Object}      Destination object\n * @static\n * @private\n */\nexports.shallowCopy = function (to, from) {\n  from = from || {};\n  if ((to !== null) && (to !== undefined)) {\n    for (var p in from) {\n      if (!hasOwn(from, p)) {\n        continue;\n      }\n      if (p === '__proto__' || p === 'constructor') {\n        continue;\n      }\n      to[p] = from[p];\n    }\n  }\n  return to;\n};\n\n/**\n * Naive copy of a list of key names, from one object to another.\n * Only copies property if it is actually defined\n * Does not recurse into non-scalar properties\n *\n * @param  {Object} to   Destination object\n * @param  {Object} from Source object\n * @param  {Array} list List of properties to copy\n * @return {Object}      Destination object\n * @static\n * @private\n */\nexports.shallowCopyFromList = function (to, from, list) {\n  list = list || [];\n  from = from || {};\n  if ((to !== null) && (to !== undefined)) {\n    for (var i = 0; i < list.length; i++) {\n      var p = list[i];\n      if (typeof from[p] != 'undefined') {\n        if (!hasOwn(from, p)) {\n          continue;\n        }\n        if (p === '__proto__' || p === 'constructor') {\n          continue;\n        }\n        to[p] = from[p];\n      }\n    }\n  }\n  return to;\n};\n\n/**\n * Simple in-process cache implementation. Does not implement limits of any\n * sort.\n *\n * @implements {Cache}\n * @static\n * @private\n */\nexports.cache = {\n  _data: {},\n  set: function (key, val) {\n    this._data[key] = val;\n  },\n  get: function (key) {\n    return this._data[key];\n  },\n  remove: function (key) {\n    delete this._data[key];\n  },\n  reset: function () {\n    this._data = {};\n  }\n};\n\n/**\n * Transforms hyphen case variable into camel case.\n *\n * @param {String} string Hyphen case string\n * @return {String} Camel case string\n * @static\n * @private\n */\nexports.hyphenToCamel = function (str) {\n  return str.replace(/-[a-z]/g, function (match) { return match[1].toUpperCase(); });\n};\n\n/**\n * Returns a null-prototype object in runtimes that support it\n *\n * @return {Object} Object, prototype will be set to null where possible\n * @static\n * @private\n */\nexports.createNullProtoObjWherePossible = (function () {\n  if (typeof Object.create == 'function') {\n    return function () {\n      return Object.create(null);\n    };\n  }\n  if (!({__proto__: null} instanceof Object)) {\n    return function () {\n      return {__proto__: null};\n    };\n  }\n  // Not possible, just pass through\n  return function () {\n    return {};\n  };\n})();\n\n\n", "/*\n * EJS Embedded JavaScript templates\n * Copyright 2112 Matthew Eernisse (mde@fleegix.org)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n*/\n\n'use strict';\n\n/**\n * @file Embedded JavaScript templating engine. {@link http://ejs.co}\n * @author Matthew Eernisse <mde@fleegix.org>\n * @author Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\n * @project EJS\n * @license {@link http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0}\n */\n\n/**\n * EJS internal functions.\n *\n * Technically this \"module\" lies in the same file as {@link module:ejs}, for\n * the sake of organization all the private functions re grouped into this\n * module.\n *\n * @module ejs-internal\n * @private\n */\n\n/**\n * Embedded JavaScript templating engine.\n *\n * @module ejs\n * @public\n */\n\n\nvar fs = require('fs');\nvar path = require('path');\nvar utils = require('./utils');\n\nvar scopeOptionWarned = false;\n/** @type {string} */\nvar _VERSION_STRING = require('../package.json').version;\nvar _DEFAULT_OPEN_DELIMITER = '<';\nvar _DEFAULT_CLOSE_DELIMITER = '>';\nvar _DEFAULT_DELIMITER = '%';\nvar _DEFAULT_LOCALS_NAME = 'locals';\nvar _NAME = 'ejs';\nvar _REGEX_STRING = '(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)';\nvar _OPTS_PASSABLE_WITH_DATA = ['delimiter', 'scope', 'context', 'debug', 'compileDebug',\n  'client', '_with', 'rmWhitespace', 'strict', 'filename', 'async'];\n// We don't allow 'cache' option to be passed in the data obj for\n// the normal `render` call, but this is where Express 2 & 3 put it\n// so we make an exception for `renderFile`\nvar _OPTS_PASSABLE_WITH_DATA_EXPRESS = _OPTS_PASSABLE_WITH_DATA.concat('cache');\nvar _BOM = /^\\uFEFF/;\nvar _JS_IDENTIFIER = /^[a-zA-Z_$][0-9a-zA-Z_$]*$/;\n\n/**\n * EJS template function cache. This can be a LRU object from lru-cache NPM\n * module. By default, it is {@link module:utils.cache}, a simple in-process\n * cache that grows continuously.\n *\n * @type {Cache}\n */\n\nexports.cache = utils.cache;\n\n/**\n * Custom file loader. Useful for template preprocessing or restricting access\n * to a certain part of the filesystem.\n *\n * @type {fileLoader}\n */\n\nexports.fileLoader = fs.readFileSync;\n\n/**\n * Name of the object containing the locals.\n *\n * This variable is overridden by {@link Options}`.localsName` if it is not\n * `undefined`.\n *\n * @type {String}\n * @public\n */\n\nexports.localsName = _DEFAULT_LOCALS_NAME;\n\n/**\n * Promise implementation -- defaults to the native implementation if available\n * This is mostly just for testability\n *\n * @type {PromiseConstructorLike}\n * @public\n */\n\nexports.promiseImpl = (new Function('return this;'))().Promise;\n\n/**\n * Get the path to the included file from the parent file path and the\n * specified path.\n *\n * @param {String}  name     specified path\n * @param {String}  filename parent file path\n * @param {Boolean} [isDir=false] whether the parent file path is a directory\n * @return {String}\n */\nexports.resolveInclude = function(name, filename, isDir) {\n  var dirname = path.dirname;\n  var extname = path.extname;\n  var resolve = path.resolve;\n  var includePath = resolve(isDir ? filename : dirname(filename), name);\n  var ext = extname(name);\n  if (!ext) {\n    includePath += '.ejs';\n  }\n  return includePath;\n};\n\n/**\n * Try to resolve file path on multiple directories\n *\n * @param  {String}        name  specified path\n * @param  {Array<String>} paths list of possible parent directory paths\n * @return {String}\n */\nfunction resolvePaths(name, paths) {\n  var filePath;\n  if (paths.some(function (v) {\n    filePath = exports.resolveInclude(name, v, true);\n    return fs.existsSync(filePath);\n  })) {\n    return filePath;\n  }\n}\n\n/**\n * Get the path to the included file by Options\n *\n * @param  {String}  path    specified path\n * @param  {Options} options compilation options\n * @return {String}\n */\nfunction getIncludePath(path, options) {\n  var includePath;\n  var filePath;\n  var views = options.views;\n  var match = /^[A-Za-z]+:\\\\|^\\//.exec(path);\n\n  // Abs path\n  if (match && match.length) {\n    path = path.replace(/^\\/*/, '');\n    if (Array.isArray(options.root)) {\n      includePath = resolvePaths(path, options.root);\n    } else {\n      includePath = exports.resolveInclude(path, options.root || '/', true);\n    }\n  }\n  // Relative paths\n  else {\n    // Look relative to a passed filename first\n    if (options.filename) {\n      filePath = exports.resolveInclude(path, options.filename);\n      if (fs.existsSync(filePath)) {\n        includePath = filePath;\n      }\n    }\n    // Then look in any views directories\n    if (!includePath && Array.isArray(views)) {\n      includePath = resolvePaths(path, views);\n    }\n    if (!includePath && typeof options.includer !== 'function') {\n      throw new Error('Could not find the include file \"' +\n          options.escapeFunction(path) + '\"');\n    }\n  }\n  return includePath;\n}\n\n/**\n * Get the template from a string or a file, either compiled on-the-fly or\n * read from cache (if enabled), and cache the template if needed.\n *\n * If `template` is not set, the file specified in `options.filename` will be\n * read.\n *\n * If `options.cache` is true, this function reads the file from\n * `options.filename` so it must be set prior to calling this function.\n *\n * @memberof module:ejs-internal\n * @param {Options} options   compilation options\n * @param {String} [template] template source\n * @return {(TemplateFunction|ClientFunction)}\n * Depending on the value of `options.client`, either type might be returned.\n * @static\n */\n\nfunction handleCache(options, template) {\n  var func;\n  var filename = options.filename;\n  var hasTemplate = arguments.length > 1;\n\n  if (options.cache) {\n    if (!filename) {\n      throw new Error('cache option requires a filename');\n    }\n    func = exports.cache.get(filename);\n    if (func) {\n      return func;\n    }\n    if (!hasTemplate) {\n      template = fileLoader(filename).toString().replace(_BOM, '');\n    }\n  }\n  else if (!hasTemplate) {\n    // istanbul ignore if: should not happen at all\n    if (!filename) {\n      throw new Error('Internal EJS error: no file name or template '\n                    + 'provided');\n    }\n    template = fileLoader(filename).toString().replace(_BOM, '');\n  }\n  func = exports.compile(template, options);\n  if (options.cache) {\n    exports.cache.set(filename, func);\n  }\n  return func;\n}\n\n/**\n * Try calling handleCache with the given options and data and call the\n * callback with the result. If an error occurs, call the callback with\n * the error. Used by renderFile().\n *\n * @memberof module:ejs-internal\n * @param {Options} options    compilation options\n * @param {Object} data        template data\n * @param {RenderFileCallback} cb callback\n * @static\n */\n\nfunction tryHandleCache(options, data, cb) {\n  var result;\n  if (!cb) {\n    if (typeof exports.promiseImpl == 'function') {\n      return new exports.promiseImpl(function (resolve, reject) {\n        try {\n          result = handleCache(options)(data);\n          resolve(result);\n        }\n        catch (err) {\n          reject(err);\n        }\n      });\n    }\n    else {\n      throw new Error('Please provide a callback function');\n    }\n  }\n  else {\n    try {\n      result = handleCache(options)(data);\n    }\n    catch (err) {\n      return cb(err);\n    }\n\n    cb(null, result);\n  }\n}\n\n/**\n * fileLoader is independent\n *\n * @param {String} filePath ejs file path.\n * @return {String} The contents of the specified file.\n * @static\n */\n\nfunction fileLoader(filePath){\n  return exports.fileLoader(filePath);\n}\n\n/**\n * Get the template function.\n *\n * If `options.cache` is `true`, then the template is cached.\n *\n * @memberof module:ejs-internal\n * @param {String}  path    path for the specified file\n * @param {Options} options compilation options\n * @return {(TemplateFunction|ClientFunction)}\n * Depending on the value of `options.client`, either type might be returned\n * @static\n */\n\nfunction includeFile(path, options) {\n  var opts = utils.shallowCopy(utils.createNullProtoObjWherePossible(), options);\n  opts.filename = getIncludePath(path, opts);\n  if (typeof options.includer === 'function') {\n    var includerResult = options.includer(path, opts.filename);\n    if (includerResult) {\n      if (includerResult.filename) {\n        opts.filename = includerResult.filename;\n      }\n      if (includerResult.template) {\n        return handleCache(opts, includerResult.template);\n      }\n    }\n  }\n  return handleCache(opts);\n}\n\n/**\n * Re-throw the given `err` in context to the `str` of ejs, `filename`, and\n * `lineno`.\n *\n * @implements {RethrowCallback}\n * @memberof module:ejs-internal\n * @param {Error}  err      Error object\n * @param {String} str      EJS source\n * @param {String} flnm     file name of the EJS file\n * @param {Number} lineno   line number of the error\n * @param {EscapeCallback} esc\n * @static\n */\n\nfunction rethrow(err, str, flnm, lineno, esc) {\n  var lines = str.split('\\n');\n  var start = Math.max(lineno - 3, 0);\n  var end = Math.min(lines.length, lineno + 3);\n  var filename = esc(flnm);\n  // Error context\n  var context = lines.slice(start, end).map(function (line, i){\n    var curr = i + start + 1;\n    return (curr == lineno ? ' >> ' : '    ')\n      + curr\n      + '| '\n      + line;\n  }).join('\\n');\n\n  // Alter exception message\n  err.path = filename;\n  err.message = (filename || 'ejs') + ':'\n    + lineno + '\\n'\n    + context + '\\n\\n'\n    + err.message;\n\n  throw err;\n}\n\nfunction stripSemi(str){\n  return str.replace(/;(\\s*$)/, '$1');\n}\n\n/**\n * Compile the given `str` of ejs into a template function.\n *\n * @param {String}  template EJS template\n *\n * @param {Options} [opts] compilation options\n *\n * @return {(TemplateFunction|ClientFunction)}\n * Depending on the value of `opts.client`, either type might be returned.\n * Note that the return type of the function also depends on the value of `opts.async`.\n * @public\n */\n\nexports.compile = function compile(template, opts) {\n  var templ;\n\n  // v1 compat\n  // 'scope' is 'context'\n  // FIXME: Remove this in a future version\n  if (opts && opts.scope) {\n    if (!scopeOptionWarned){\n      console.warn('`scope` option is deprecated and will be removed in EJS 3');\n      scopeOptionWarned = true;\n    }\n    if (!opts.context) {\n      opts.context = opts.scope;\n    }\n    delete opts.scope;\n  }\n  templ = new Template(template, opts);\n  return templ.compile();\n};\n\n/**\n * Render the given `template` of ejs.\n *\n * If you would like to include options but not data, you need to explicitly\n * call this function with `data` being an empty object or `null`.\n *\n * @param {String}   template EJS template\n * @param {Object}  [data={}] template data\n * @param {Options} [opts={}] compilation and rendering options\n * @return {(String|Promise<String>)}\n * Return value type depends on `opts.async`.\n * @public\n */\n\nexports.render = function (template, d, o) {\n  var data = d || utils.createNullProtoObjWherePossible();\n  var opts = o || utils.createNullProtoObjWherePossible();\n\n  // No options object -- if there are optiony names\n  // in the data, copy them to options\n  if (arguments.length == 2) {\n    utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA);\n  }\n\n  return handleCache(opts, template)(data);\n};\n\n/**\n * Render an EJS file at the given `path` and callback `cb(err, str)`.\n *\n * If you would like to include options but not data, you need to explicitly\n * call this function with `data` being an empty object or `null`.\n *\n * @param {String}             path     path to the EJS file\n * @param {Object}            [data={}] template data\n * @param {Options}           [opts={}] compilation and rendering options\n * @param {RenderFileCallback} cb callback\n * @public\n */\n\nexports.renderFile = function () {\n  var args = Array.prototype.slice.call(arguments);\n  var filename = args.shift();\n  var cb;\n  var opts = {filename: filename};\n  var data;\n  var viewOpts;\n\n  // Do we have a callback?\n  if (typeof arguments[arguments.length - 1] == 'function') {\n    cb = args.pop();\n  }\n  // Do we have data/opts?\n  if (args.length) {\n    // Should always have data obj\n    data = args.shift();\n    // Normal passed opts (data obj + opts obj)\n    if (args.length) {\n      // Use shallowCopy so we don't pollute passed in opts obj with new vals\n      utils.shallowCopy(opts, args.pop());\n    }\n    // Special casing for Express (settings + opts-in-data)\n    else {\n      // Express 3 and 4\n      if (data.settings) {\n        // Pull a few things from known locations\n        if (data.settings.views) {\n          opts.views = data.settings.views;\n        }\n        if (data.settings['view cache']) {\n          opts.cache = true;\n        }\n        // Undocumented after Express 2, but still usable, esp. for\n        // items that are unsafe to be passed along with data, like `root`\n        viewOpts = data.settings['view options'];\n        if (viewOpts) {\n          utils.shallowCopy(opts, viewOpts);\n        }\n      }\n      // Express 2 and lower, values set in app.locals, or people who just\n      // want to pass options in their data. NOTE: These values will override\n      // anything previously set in settings  or settings['view options']\n      utils.shallowCopyFromList(opts, data, _OPTS_PASSABLE_WITH_DATA_EXPRESS);\n    }\n    opts.filename = filename;\n  }\n  else {\n    data = utils.createNullProtoObjWherePossible();\n  }\n\n  return tryHandleCache(opts, data, cb);\n};\n\n/**\n * Clear intermediate JavaScript cache. Calls {@link Cache#reset}.\n * @public\n */\n\n/**\n * EJS template class\n * @public\n */\nexports.Template = Template;\n\nexports.clearCache = function () {\n  exports.cache.reset();\n};\n\nfunction Template(text, opts) {\n  opts = opts || utils.createNullProtoObjWherePossible();\n  var options = utils.createNullProtoObjWherePossible();\n  this.templateText = text;\n  /** @type {string | null} */\n  this.mode = null;\n  this.truncate = false;\n  this.currentLine = 1;\n  this.source = '';\n  options.client = opts.client || false;\n  options.escapeFunction = opts.escape || opts.escapeFunction || utils.escapeXML;\n  options.compileDebug = opts.compileDebug !== false;\n  options.debug = !!opts.debug;\n  options.filename = opts.filename;\n  options.openDelimiter = opts.openDelimiter || exports.openDelimiter || _DEFAULT_OPEN_DELIMITER;\n  options.closeDelimiter = opts.closeDelimiter || exports.closeDelimiter || _DEFAULT_CLOSE_DELIMITER;\n  options.delimiter = opts.delimiter || exports.delimiter || _DEFAULT_DELIMITER;\n  options.strict = opts.strict || false;\n  options.context = opts.context;\n  options.cache = opts.cache || false;\n  options.rmWhitespace = opts.rmWhitespace;\n  options.root = opts.root;\n  options.includer = opts.includer;\n  options.outputFunctionName = opts.outputFunctionName;\n  options.localsName = opts.localsName || exports.localsName || _DEFAULT_LOCALS_NAME;\n  options.views = opts.views;\n  options.async = opts.async;\n  options.destructuredLocals = opts.destructuredLocals;\n  options.legacyInclude = typeof opts.legacyInclude != 'undefined' ? !!opts.legacyInclude : true;\n\n  if (options.strict) {\n    options._with = false;\n  }\n  else {\n    options._with = typeof opts._with != 'undefined' ? opts._with : true;\n  }\n\n  this.opts = options;\n\n  this.regex = this.createRegex();\n}\n\nTemplate.modes = {\n  EVAL: 'eval',\n  ESCAPED: 'escaped',\n  RAW: 'raw',\n  COMMENT: 'comment',\n  LITERAL: 'literal'\n};\n\nTemplate.prototype = {\n  createRegex: function () {\n    var str = _REGEX_STRING;\n    var delim = utils.escapeRegExpChars(this.opts.delimiter);\n    var open = utils.escapeRegExpChars(this.opts.openDelimiter);\n    var close = utils.escapeRegExpChars(this.opts.closeDelimiter);\n    str = str.replace(/%/g, delim)\n      .replace(/</g, open)\n      .replace(/>/g, close);\n    return new RegExp(str);\n  },\n\n  compile: function () {\n    /** @type {string} */\n    var src;\n    /** @type {ClientFunction} */\n    var fn;\n    var opts = this.opts;\n    var prepended = '';\n    var appended = '';\n    /** @type {EscapeCallback} */\n    var escapeFn = opts.escapeFunction;\n    /** @type {FunctionConstructor} */\n    var ctor;\n    /** @type {string} */\n    var sanitizedFilename = opts.filename ? JSON.stringify(opts.filename) : 'undefined';\n\n    if (!this.source) {\n      this.generateSource();\n      prepended +=\n        '  var __output = \"\";\\n' +\n        '  function __append(s) { if (s !== undefined && s !== null) __output += s }\\n';\n      if (opts.outputFunctionName) {\n        if (!_JS_IDENTIFIER.test(opts.outputFunctionName)) {\n          throw new Error('outputFunctionName is not a valid JS identifier.');\n        }\n        prepended += '  var ' + opts.outputFunctionName + ' = __append;' + '\\n';\n      }\n      if (opts.localsName && !_JS_IDENTIFIER.test(opts.localsName)) {\n        throw new Error('localsName is not a valid JS identifier.');\n      }\n      if (opts.destructuredLocals && opts.destructuredLocals.length) {\n        var destructuring = '  var __locals = (' + opts.localsName + ' || {}),\\n';\n        for (var i = 0; i < opts.destructuredLocals.length; i++) {\n          var name = opts.destructuredLocals[i];\n          if (!_JS_IDENTIFIER.test(name)) {\n            throw new Error('destructuredLocals[' + i + '] is not a valid JS identifier.');\n          }\n          if (i > 0) {\n            destructuring += ',\\n  ';\n          }\n          destructuring += name + ' = __locals.' + name;\n        }\n        prepended += destructuring + ';\\n';\n      }\n      if (opts._with !== false) {\n        prepended +=  '  with (' + opts.localsName + ' || {}) {' + '\\n';\n        appended += '  }' + '\\n';\n      }\n      appended += '  return __output;' + '\\n';\n      this.source = prepended + this.source + appended;\n    }\n\n    if (opts.compileDebug) {\n      src = 'var __line = 1' + '\\n'\n        + '  , __lines = ' + JSON.stringify(this.templateText) + '\\n'\n        + '  , __filename = ' + sanitizedFilename + ';' + '\\n'\n        + 'try {' + '\\n'\n        + this.source\n        + '} catch (e) {' + '\\n'\n        + '  rethrow(e, __lines, __filename, __line, escapeFn);' + '\\n'\n        + '}' + '\\n';\n    }\n    else {\n      src = this.source;\n    }\n\n    if (opts.client) {\n      src = 'escapeFn = escapeFn || ' + escapeFn.toString() + ';' + '\\n' + src;\n      if (opts.compileDebug) {\n        src = 'rethrow = rethrow || ' + rethrow.toString() + ';' + '\\n' + src;\n      }\n    }\n\n    if (opts.strict) {\n      src = '\"use strict\";\\n' + src;\n    }\n    if (opts.debug) {\n      console.log(src);\n    }\n    if (opts.compileDebug && opts.filename) {\n      src = src + '\\n'\n        + '//# sourceURL=' + sanitizedFilename + '\\n';\n    }\n\n    try {\n      if (opts.async) {\n        // Have to use generated function for this, since in envs without support,\n        // it breaks in parsing\n        try {\n          ctor = (new Function('return (async function(){}).constructor;'))();\n        }\n        catch(e) {\n          if (e instanceof SyntaxError) {\n            throw new Error('This environment does not support async/await');\n          }\n          else {\n            throw e;\n          }\n        }\n      }\n      else {\n        ctor = Function;\n      }\n      fn = new ctor(opts.localsName + ', escapeFn, include, rethrow', src);\n    }\n    catch(e) {\n      // istanbul ignore else\n      if (e instanceof SyntaxError) {\n        if (opts.filename) {\n          e.message += ' in ' + opts.filename;\n        }\n        e.message += ' while compiling ejs\\n\\n';\n        e.message += 'If the above error is not helpful, you may want to try EJS-Lint:\\n';\n        e.message += 'https://github.com/RyanZim/EJS-Lint';\n        if (!opts.async) {\n          e.message += '\\n';\n          e.message += 'Or, if you meant to create an async function, pass `async: true` as an option.';\n        }\n      }\n      throw e;\n    }\n\n    // Return a callable function which will execute the function\n    // created by the source-code, with the passed data as locals\n    // Adds a local `include` function which allows full recursive include\n    var returnedFn = opts.client ? fn : function anonymous(data) {\n      var include = function (path, includeData) {\n        var d = utils.shallowCopy(utils.createNullProtoObjWherePossible(), data);\n        if (includeData) {\n          d = utils.shallowCopy(d, includeData);\n        }\n        return includeFile(path, opts)(d);\n      };\n      return fn.apply(opts.context,\n        [data || utils.createNullProtoObjWherePossible(), escapeFn, include, rethrow]);\n    };\n    if (opts.filename && typeof Object.defineProperty === 'function') {\n      var filename = opts.filename;\n      var basename = path.basename(filename, path.extname(filename));\n      try {\n        Object.defineProperty(returnedFn, 'name', {\n          value: basename,\n          writable: false,\n          enumerable: false,\n          configurable: true\n        });\n      } catch (e) {/* ignore */}\n    }\n    return returnedFn;\n  },\n\n  generateSource: function () {\n    var opts = this.opts;\n\n    if (opts.rmWhitespace) {\n      // Have to use two separate replace here as `^` and `$` operators don't\n      // work well with `\\r` and empty lines don't work well with the `m` flag.\n      this.templateText =\n        this.templateText.replace(/[\\r\\n]+/g, '\\n').replace(/^\\s+|\\s+$/gm, '');\n    }\n\n    // Slurp spaces and tabs before <%_ and after _%>\n    this.templateText =\n      this.templateText.replace(/[ \\t]*<%_/gm, '<%_').replace(/_%>[ \\t]*/gm, '_%>');\n\n    var self = this;\n    var matches = this.parseTemplateText();\n    var d = this.opts.delimiter;\n    var o = this.opts.openDelimiter;\n    var c = this.opts.closeDelimiter;\n\n    if (matches && matches.length) {\n      matches.forEach(function (line, index) {\n        var closing;\n        // If this is an opening tag, check for closing tags\n        // FIXME: May end up with some false positives here\n        // Better to store modes as k/v with openDelimiter + delimiter as key\n        // Then this can simply check against the map\n        if ( line.indexOf(o + d) === 0        // If it is a tag\n          && line.indexOf(o + d + d) !== 0) { // and is not escaped\n          closing = matches[index + 2];\n          if (!(closing == d + c || closing == '-' + d + c || closing == '_' + d + c)) {\n            throw new Error('Could not find matching close tag for \"' + line + '\".');\n          }\n        }\n        self.scanLine(line);\n      });\n    }\n\n  },\n\n  parseTemplateText: function () {\n    var str = this.templateText;\n    var pat = this.regex;\n    var result = pat.exec(str);\n    var arr = [];\n    var firstPos;\n\n    while (result) {\n      firstPos = result.index;\n\n      if (firstPos !== 0) {\n        arr.push(str.substring(0, firstPos));\n        str = str.slice(firstPos);\n      }\n\n      arr.push(result[0]);\n      str = str.slice(result[0].length);\n      result = pat.exec(str);\n    }\n\n    if (str) {\n      arr.push(str);\n    }\n\n    return arr;\n  },\n\n  _addOutput: function (line) {\n    if (this.truncate) {\n      // Only replace single leading linebreak in the line after\n      // -%> tag -- this is the single, trailing linebreak\n      // after the tag that the truncation mode replaces\n      // Handle Win / Unix / old Mac linebreaks -- do the \\r\\n\n      // combo first in the regex-or\n      line = line.replace(/^(?:\\r\\n|\\r|\\n)/, '');\n      this.truncate = false;\n    }\n    if (!line) {\n      return line;\n    }\n\n    // Preserve literal slashes\n    line = line.replace(/\\\\/g, '\\\\\\\\');\n\n    // Convert linebreaks\n    line = line.replace(/\\n/g, '\\\\n');\n    line = line.replace(/\\r/g, '\\\\r');\n\n    // Escape double-quotes\n    // - this will be the delimiter during execution\n    line = line.replace(/\"/g, '\\\\\"');\n    this.source += '    ; __append(\"' + line + '\")' + '\\n';\n  },\n\n  scanLine: function (line) {\n    var self = this;\n    var d = this.opts.delimiter;\n    var o = this.opts.openDelimiter;\n    var c = this.opts.closeDelimiter;\n    var newLineCount = 0;\n\n    newLineCount = (line.split('\\n').length - 1);\n\n    switch (line) {\n    case o + d:\n    case o + d + '_':\n      this.mode = Template.modes.EVAL;\n      break;\n    case o + d + '=':\n      this.mode = Template.modes.ESCAPED;\n      break;\n    case o + d + '-':\n      this.mode = Template.modes.RAW;\n      break;\n    case o + d + '#':\n      this.mode = Template.modes.COMMENT;\n      break;\n    case o + d + d:\n      this.mode = Template.modes.LITERAL;\n      this.source += '    ; __append(\"' + line.replace(o + d + d, o + d) + '\")' + '\\n';\n      break;\n    case d + d + c:\n      this.mode = Template.modes.LITERAL;\n      this.source += '    ; __append(\"' + line.replace(d + d + c, d + c) + '\")' + '\\n';\n      break;\n    case d + c:\n    case '-' + d + c:\n    case '_' + d + c:\n      if (this.mode == Template.modes.LITERAL) {\n        this._addOutput(line);\n      }\n\n      this.mode = null;\n      this.truncate = line.indexOf('-') === 0 || line.indexOf('_') === 0;\n      break;\n    default:\n      // In script mode, depends on type of tag\n      if (this.mode) {\n        // If '//' is found without a line break, add a line break.\n        switch (this.mode) {\n        case Template.modes.EVAL:\n        case Template.modes.ESCAPED:\n        case Template.modes.RAW:\n          if (line.lastIndexOf('//') > line.lastIndexOf('\\n')) {\n            line += '\\n';\n          }\n        }\n        switch (this.mode) {\n        // Just executing code\n        case Template.modes.EVAL:\n          this.source += '    ; ' + line + '\\n';\n          break;\n          // Exec, esc, and output\n        case Template.modes.ESCAPED:\n          this.source += '    ; __append(escapeFn(' + stripSemi(line) + '))' + '\\n';\n          break;\n          // Exec and output\n        case Template.modes.RAW:\n          this.source += '    ; __append(' + stripSemi(line) + ')' + '\\n';\n          break;\n        case Template.modes.COMMENT:\n          // Do nothing\n          break;\n          // Literal <%% mode, append as raw output\n        case Template.modes.LITERAL:\n          this._addOutput(line);\n          break;\n        }\n      }\n      // In string mode, just add the output\n      else {\n        this._addOutput(line);\n      }\n    }\n\n    if (self.opts.compileDebug && newLineCount) {\n      this.currentLine += newLineCount;\n      this.source += '    ; __line = ' + this.currentLine + '\\n';\n    }\n  }\n};\n\n/**\n * Escape characters reserved in XML.\n *\n * This is simply an export of {@link module:utils.escapeXML}.\n *\n * If `markup` is `undefined` or `null`, the empty string is returned.\n *\n * @param {String} markup Input string\n * @return {String} Escaped string\n * @public\n * @func\n * */\nexports.escapeXML = utils.escapeXML;\n\n/**\n * Express.js support.\n *\n * This is an alias for {@link module:ejs.renderFile}, in order to support\n * Express.js out-of-the-box.\n *\n * @func\n */\n\nexports.__express = exports.renderFile;\n\n/**\n * Version of EJS.\n *\n * @readonly\n * @type {String}\n * @public\n */\n\nexports.VERSION = _VERSION_STRING;\n\n/**\n * Name for detection of EJS.\n *\n * @readonly\n * @type {String}\n * @public\n */\n\nexports.name = _NAME;\n\n/* istanbul ignore if */\nif (typeof window != 'undefined') {\n  window.ejs = exports;\n}\n", "/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    symbolTag = '[object Symbol]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/,\n    reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    splice = arrayProto.splice;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * The base implementation of `_.unset`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n */\nfunction baseUnset(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n  object = parent(object, path);\n\n  var key = toKey(last(path));\n  return !(object != null && hasOwnProperty.call(object, key)) || delete object[key];\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\nfunction parent(object, path) {\n  return path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  string = toString(string);\n\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array ? array.length : 0;\n  return length ? array[length - 1] : undefined;\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Removes the property at `path` of `object`.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n * _.unset(object, 'a[0].b.c');\n * // => true\n *\n * console.log(object);\n * // => { 'a': [{ 'b': {} }] };\n *\n * _.unset(object, ['a', '0', 'b', 'c']);\n * // => true\n *\n * console.log(object);\n * // => { 'a': [{ 'b': {} }] };\n */\nfunction unset(object, path) {\n  return object == null ? true : baseUnset(object, path);\n}\n\nmodule.exports = unset;\n", "import { SCHEMES } from \"./uri\";\n\nimport http from \"./schemes/http\";\nSCHEMES[http.scheme] = http;\n\nimport https from \"./schemes/https\";\nSCHEMES[https.scheme] = https;\n\nimport ws from \"./schemes/ws\";\nSCHEMES[ws.scheme] = ws;\n\nimport wss from \"./schemes/wss\";\nSCHEMES[wss.scheme] = wss;\n\nimport mailto from \"./schemes/mailto\";\nSCHEMES[mailto.scheme] = mailto;\n\nimport urn from \"./schemes/urn\";\nSCHEMES[urn.scheme] = urn;\n\nimport uuid from \"./schemes/urn-uuid\";\nSCHEMES[uuid.scheme] = uuid;\n\nexport * from \"./uri\";\n", "import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { URNComponents } from \"./urn\";\nimport { SCHEMES } from \"../uri\";\n\nexport interface UUIDComponents extends URNComponents {\n\tuuid?: string;\n}\n\nconst UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/;\nconst UUID_PARSE = /^[0-9A-Fa-f\\-]{36}/;\n\n//RFC 4122\nconst handler:URISchemeHandler<UUIDComponents, URIOptions, URNComponents> = {\n\tscheme : \"urn:uuid\",\n\n\tparse : function (urnComponents:URNComponents, options:URIOptions):UUIDComponents {\n\t\tconst uuidComponents = urnComponents as UUIDComponents;\n\t\tuuidComponents.uuid = uuidComponents.nss;\n\t\tuuidComponents.nss = undefined;\n\n\t\tif (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n\t\t\tuuidComponents.error = uuidComponents.error || \"UUID is not valid.\";\n\t\t}\n\n\t\treturn uuidComponents;\n\t},\n\n\tserialize : function (uuidComponents:UUIDComponents, options:URIOptions):URNComponents {\n\t\tconst urnComponents = uuidComponents as URNComponents;\n\t\t//normalize UUID\n\t\turnComponents.nss = (uuidComponents.uuid || \"\").toLowerCase();\n\t\treturn urnComponents;\n\t},\n};\n\nexport default handler;", "import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { pctEncChar, SCHEMES } from \"../uri\";\n\nexport interface URNComponents extends URIComponents {\n\tnid?:string;\n\tnss?:string;\n}\n\nexport interface URNOptions extends URIOptions {\n\tnid?:string;\n}\n\nconst NID$ = \"(?:[0-9A-Za-z][0-9A-Za-z\\\\-]{1,31})\";\nconst PCT_ENCODED$ = \"(?:\\\\%[0-9A-Fa-f]{2})\";\nconst TRANS$$ = \"[0-9A-Za-z\\\\(\\\\)\\\\+\\\\,\\\\-\\\\.\\\\:\\\\=\\\\@\\\\;\\\\$\\\\_\\\\!\\\\*\\\\'\\\\/\\\\?\\\\#]\";\nconst NSS$ = \"(?:(?:\" + PCT_ENCODED$ + \"|\" + TRANS$$ + \")+)\";\nconst URN_SCHEME = new RegExp(\"^urn\\\\:(\" + NID$ + \")$\");\nconst URN_PATH = new RegExp(\"^(\" + NID$ + \")\\\\:(\" + NSS$ + \")$\");\nconst URN_PARSE = /^([^\\:]+)\\:(.*)/;\nconst URN_EXCLUDED = /[\\x00-\\x20\\\\\\\"\\&\\<\\>\\[\\]\\^\\`\\{\\|\\}\\~\\x7F-\\xFF]/g;\n\n//RFC 2141\nconst handler:URISchemeHandler<URNComponents,URNOptions> = {\n\tscheme : \"urn\",\n\n\tparse : function (components:URIComponents, options:URNOptions):URNComponents {\n\t\tconst matches = components.path && components.path.match(URN_PARSE);\n\t\tlet urnComponents = components as URNComponents;\n\n\t\tif (matches) {\n\t\t\tconst scheme = options.scheme || urnComponents.scheme || \"urn\";\n\t\t\tconst nid = matches[1].toLowerCase();\n\t\t\tconst nss = matches[2];\n\t\t\tconst urnScheme = `${scheme}:${options.nid || nid}`;\n\t\t\tconst schemeHandler = SCHEMES[urnScheme];\n\n\t\t\turnComponents.nid = nid;\n\t\t\turnComponents.nss = nss;\n\t\t\turnComponents.path = undefined;\n\n\t\t\tif (schemeHandler) {\n\t\t\t\turnComponents = schemeHandler.parse(urnComponents, options) as URNComponents;\n\t\t\t}\n\t\t} else {\n\t\t\turnComponents.error = urnComponents.error || \"URN can not be parsed.\";\n\t\t}\n\n\t\treturn urnComponents;\n\t},\n\n\tserialize : function (urnComponents:URNComponents, options:URNOptions):URIComponents {\n\t\tconst scheme = options.scheme || urnComponents.scheme || \"urn\";\n\t\tconst nid = urnComponents.nid;\n\t\tconst urnScheme = `${scheme}:${options.nid || nid}`;\n\t\tconst schemeHandler = SCHEMES[urnScheme];\n\n\t\tif (schemeHandler) {\n\t\t\turnComponents = schemeHandler.serialize(urnComponents, options) as URNComponents;\n\t\t}\n\n\t\tconst uriComponents = urnComponents as URIComponents;\n\t\tconst nss = urnComponents.nss;\n\t\turiComponents.path = `${nid || options.nid}:${nss}`;\n\n\t\treturn uriComponents;\n\t},\n};\n\nexport default handler;", "import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { pctEncChar, pctDecChars, unescapeComponent } from \"../uri\";\nimport punycode from \"punycode\";\nimport { merge, subexp, toUpperCase, toArray } from \"../util\";\n\nexport interface MailtoHeaders {\n\t[hfname:string]:string\n}\n\nexport interface MailtoComponents extends URIComponents {\n\tto:Array<string>,\n\theaders?:MailtoHeaders,\n\tsubject?:string,\n\tbody?:string\n}\n\nconst O:MailtoHeaders = {};\nconst isIRI = true;\n\n//RFC 3986\nconst UNRESERVED$$ = \"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\" + (isIRI ? \"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF\" : \"\") + \"]\";\nconst HEXDIG$$ = \"[0-9A-Fa-f]\";  //case-insensitive\nconst PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$));  //expanded\n\n//RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n//const ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QTEXT$$ = \"[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]\";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n//const QTEXT$$ = merge(\"[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]\", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n//const VCHAR$$ = \"[\\\\x21-\\\\x7E]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QP$ = subexp(\"\\\\\\\\\" + merge(\"[\\\\x00\\\\x0D\\\\x0A]\", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n//const FWS$ = subexp(subexp(WSP$$ + \"*\" + \"\\\\x0D\\\\x0A\") + \"?\" + WSP$$ + \"+\");\n//const QUOTED_PAIR$ = subexp(subexp(\"\\\\\\\\\" + subexp(VCHAR$$ + \"|\" + WSP$$)) + \"|\" + OBS_QP$);\n//const QUOTED_STRING$ = subexp('\\\\\"' + subexp(FWS$ + \"?\" + QCONTENT$) + \"*\" + FWS$ + \"?\" + '\\\\\"');\nconst ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\nconst QTEXT$$ = \"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\";\nconst VCHAR$$ = merge(QTEXT$$, \"[\\\\\\\"\\\\\\\\]\");\nconst DOT_ATOM_TEXT$ = subexp(ATEXT$$ + \"+\" + subexp(\"\\\\.\" + ATEXT$$ + \"+\") + \"*\");\nconst QUOTED_PAIR$ = subexp(\"\\\\\\\\\" + VCHAR$$);\nconst QCONTENT$ = subexp(QTEXT$$ + \"|\" + QUOTED_PAIR$);\nconst QUOTED_STRING$ = subexp('\\\\\"' + QCONTENT$ + \"*\" + '\\\\\"');\n\n//RFC 6068\nconst DTEXT_NO_OBS$$ = \"[\\\\x21-\\\\x5A\\\\x5E-\\\\x7E]\";  //%d33-90 / %d94-126\nconst SOME_DELIMS$$ = \"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\";\nconst QCHAR$ = subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$ + \"|\" + SOME_DELIMS$$);\nconst DOMAIN$ = subexp(DOT_ATOM_TEXT$ + \"|\" + \"\\\\[\" + DTEXT_NO_OBS$$ + \"*\" + \"\\\\]\");\nconst LOCAL_PART$ = subexp(DOT_ATOM_TEXT$ + \"|\" + QUOTED_STRING$);\nconst ADDR_SPEC$ = subexp(LOCAL_PART$ + \"\\\\@\" + DOMAIN$);\nconst TO$ = subexp(ADDR_SPEC$ + subexp(\"\\\\,\" + ADDR_SPEC$) + \"*\");\nconst HFNAME$ = subexp(QCHAR$ + \"*\");\nconst HFVALUE$ = HFNAME$;\nconst HFIELD$ = subexp(HFNAME$ + \"\\\\=\" + HFVALUE$);\nconst HFIELDS2$ = subexp(HFIELD$ + subexp(\"\\\\&\" + HFIELD$) + \"*\");\nconst HFIELDS$ = subexp(\"\\\\?\" + HFIELDS2$);\nconst MAILTO_URI = new RegExp(\"^mailto\\\\:\" + TO$ + \"?\" + HFIELDS$ + \"?$\");\n\nconst UNRESERVED = new RegExp(UNRESERVED$$, \"g\");\nconst PCT_ENCODED = new RegExp(PCT_ENCODED$, \"g\");\nconst NOT_LOCAL_PART = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", '[\\\\\"]', VCHAR$$), \"g\");\nconst NOT_DOMAIN = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", \"[\\\\[]\", DTEXT_NO_OBS$$, \"[\\\\]]\"), \"g\");\nconst NOT_HFNAME = new RegExp(merge(\"[^]\", UNRESERVED$$, SOME_DELIMS$$), \"g\");\nconst NOT_HFVALUE = NOT_HFNAME;\nconst TO = new RegExp(\"^\" + TO$ + \"$\");\nconst HFIELDS = new RegExp(\"^\" + HFIELDS2$ + \"$\");\n\nfunction decodeUnreserved(str:string):string {\n\tconst decStr = pctDecChars(str);\n\treturn (!decStr.match(UNRESERVED) ? str : decStr);\n}\n\nconst handler:URISchemeHandler<MailtoComponents> =  {\n\tscheme : \"mailto\",\n\n\tparse : function (components:URIComponents, options:URIOptions):MailtoComponents {\n\t\tconst mailtoComponents = components as MailtoComponents;\n\t\tconst to = mailtoComponents.to = (mailtoComponents.path ? mailtoComponents.path.split(\",\") : []);\n\t\tmailtoComponents.path = undefined;\n\n\t\tif (mailtoComponents.query) {\n\t\t\tlet unknownHeaders = false\n\t\t\tconst headers:MailtoHeaders = {};\n\t\t\tconst hfields = mailtoComponents.query.split(\"&\");\n\n\t\t\tfor (let x = 0, xl = hfields.length; x < xl; ++x) {\n\t\t\t\tconst hfield = hfields[x].split(\"=\");\n\n\t\t\t\tswitch (hfield[0]) {\n\t\t\t\t\tcase \"to\":\n\t\t\t\t\t\tconst toAddrs = hfield[1].split(\",\");\n\t\t\t\t\t\tfor (let x = 0, xl = toAddrs.length; x < xl; ++x) {\n\t\t\t\t\t\t\tto.push(toAddrs[x]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"subject\":\n\t\t\t\t\t\tmailtoComponents.subject = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"body\":\n\t\t\t\t\t\tmailtoComponents.body = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tunknownHeaders = true;\n\t\t\t\t\t\theaders[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (unknownHeaders) mailtoComponents.headers = headers;\n\t\t}\n\n\t\tmailtoComponents.query = undefined;\n\n\t\tfor (let x = 0, xl = to.length; x < xl; ++x) {\n\t\t\tconst addr = to[x].split(\"@\");\n\n\t\t\taddr[0] = unescapeComponent(addr[0]);\n\n\t\t\tif (!options.unicodeSupport) {\n\t\t\t\t//convert Unicode IDN -> ASCII IDN\n\t\t\t\ttry {\n\t\t\t\t\taddr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n\t\t\t\t} catch (e) {\n\t\t\t\t\tmailtoComponents.error = mailtoComponents.error || \"Email address's domain name can not be converted to ASCII via punycode: \" + e;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\taddr[1] = unescapeComponent(addr[1], options).toLowerCase();\n\t\t\t}\n\n\t\t\tto[x] = addr.join(\"@\");\n\t\t}\n\n\t\treturn mailtoComponents;\n\t},\n\n\tserialize : function (mailtoComponents:MailtoComponents, options:URIOptions):URIComponents {\n\t\tconst components = mailtoComponents as URIComponents;\n\t\tconst to = toArray(mailtoComponents.to);\n\t\tif (to) {\n\t\t\tfor (let x = 0, xl = to.length; x < xl; ++x) {\n\t\t\t\tconst toAddr = String(to[x]);\n\t\t\t\tconst atIdx = toAddr.lastIndexOf(\"@\");\n\t\t\t\tconst localPart = (toAddr.slice(0, atIdx)).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n\t\t\t\tlet domain = toAddr.slice(atIdx + 1);\n\n\t\t\t\t//convert IDN via punycode\n\t\t\t\ttry {\n\t\t\t\t\tdomain = (!options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain));\n\t\t\t\t} catch (e) {\n\t\t\t\t\tcomponents.error = components.error || \"Email address's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n\t\t\t\t}\n\n\t\t\t\tto[x] = localPart + \"@\" + domain;\n\t\t\t}\n\n\t\t\tcomponents.path = to.join(\",\");\n\t\t}\n\n\t\tconst headers = mailtoComponents.headers = mailtoComponents.headers || {};\n\n\t\tif (mailtoComponents.subject) headers[\"subject\"] = mailtoComponents.subject;\n\t\tif (mailtoComponents.body) headers[\"body\"] = mailtoComponents.body;\n\n\t\tconst fields = [];\n\t\tfor (const name in headers) {\n\t\t\tif (headers[name] !== O[name]) {\n\t\t\t\tfields.push(\n\t\t\t\t\tname.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) +\n\t\t\t\t\t\"=\" +\n\t\t\t\t\theaders[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tif (fields.length) {\n\t\t\tcomponents.query = fields.join(\"&\");\n\t\t}\n\n\t\treturn components;\n\t}\n}\n\nexport default handler;", "import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport ws from \"./ws\";\n\nconst handler:URISchemeHandler = {\n\tscheme : \"wss\",\n\tdomainHost : ws.domainHost,\n\tparse : ws.parse,\n\tserialize : ws.serialize\n}\n\nexport default handler;", "import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\n\nexport interface WSComponents extends URIComponents {\n\tresourceName?: string;\n\tsecure?: boolean;\n}\n\nfunction isSecure(wsComponents:WSComponents):boolean {\n\treturn typeof wsComponents.secure === 'boolean' ? wsComponents.secure : String(wsComponents.scheme).toLowerCase() === \"wss\";\n}\n\n//RFC 6455\nconst handler:URISchemeHandler = {\n\tscheme : \"ws\",\n\n\tdomainHost : true,\n\n\tparse : function (components:URIComponents, options:URIOptions):WSComponents {\n\t\tconst wsComponents = components as WSComponents;\n\n\t\t//indicate if the secure flag is set\n\t\twsComponents.secure = isSecure(wsComponents);\n\n\t\t//construct resouce name\n\t\twsComponents.resourceName = (wsComponents.path || '/') + (wsComponents.query ? '?' + wsComponents.query : '');\n\t\twsComponents.path = undefined;\n\t\twsComponents.query = undefined;\n\n\t\treturn wsComponents;\n\t},\n\n\tserialize : function (wsComponents:WSComponents, options:URIOptions):URIComponents {\n\t\t//normalize the default port\n\t\tif (wsComponents.port === (isSecure(wsComponents) ? 443 : 80) || wsComponents.port === \"\") {\n\t\t\twsComponents.port = undefined;\n\t\t}\n\n\t\t//ensure scheme matches secure flag\n\t\tif (typeof wsComponents.secure === 'boolean') {\n\t\t\twsComponents.scheme = (wsComponents.secure ? 'wss' : 'ws');\n\t\t\twsComponents.secure = undefined;\n\t\t}\n\n\t\t//reconstruct path from resource name\n\t\tif (wsComponents.resourceName) {\n\t\t\tconst [path, query] = wsComponents.resourceName.split('?');\n\t\t\twsComponents.path = (path && path !== '/' ? path : undefined);\n\t\t\twsComponents.query = query;\n\t\t\twsComponents.resourceName = undefined;\n\t\t}\n\n\t\t//forbid fragment component\n\t\twsComponents.fragment = undefined;\n\n\t\treturn wsComponents;\n\t}\n};\n\nexport default handler;", "import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport http from \"./http\";\n\nconst handler:URISchemeHandler = {\n\tscheme : \"https\",\n\tdomainHost : http.domainHost,\n\tparse : http.parse,\n\tserialize : http.serialize\n}\n\nexport default handler;", "import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\n\nconst handler:URISchemeHandler = {\n\tscheme : \"http\",\n\n\tdomainHost : true,\n\n\tparse : function (components:URIComponents, options:URIOptions):URIComponents {\n\t\t//report missing host\n\t\tif (!components.host) {\n\t\t\tcomponents.error = components.error || \"HTTP URIs must have a host.\";\n\t\t}\n\n\t\treturn components;\n\t},\n\n\tserialize : function (components:URIComponents, options:URIOptions):URIComponents {\n\t\tconst secure = String(components.scheme).toLowerCase() === \"https\";\n\n\t\t//normalize the default port\n\t\tif (components.port === (secure ? 443 : 80) || components.port === \"\") {\n\t\t\tcomponents.port = undefined;\n\t\t}\n\t\t\n\t\t//normalize the empty path\n\t\tif (!components.path) {\n\t\t\tcomponents.path = \"/\";\n\t\t}\n\n\t\t//NOTE: We do not parse query strings for HTTP URIs\n\t\t//as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n\t\t//and not the HTTP spec.\n\n\t\treturn components;\n\t}\n};\n\nexport default handler;", "/**\n * URI.js\n *\n * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n * @see http://github.com/garycourt/uri-js\n */\n\n/**\n * Copyright 2011 Gary Court. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification, are\n * permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice, this list of\n *       conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n *       of conditions and the following disclaimer in the documentation and/or other materials\n *       provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those of the\n * authors and should not be interpreted as representing official policies, either expressed\n * or implied, of Gary Court.\n */\n\nimport URI_PROTOCOL from \"./regexps-uri\";\nimport IRI_PROTOCOL from \"./regexps-iri\";\nimport punycode from \"punycode\";\nimport { toUpperCase, typeOf, assign } from \"./util\";\n\nexport interface URIComponents {\n\tscheme?:string;\n\tuserinfo?:string;\n\thost?:string;\n\tport?:number|string;\n\tpath?:string;\n\tquery?:string;\n\tfragment?:string;\n\treference?:string;\n\terror?:string;\n}\n\nexport interface URIOptions {\n\tscheme?:string;\n\treference?:string;\n\ttolerant?:boolean;\n\tabsolutePath?:boolean;\n\tiri?:boolean;\n\tunicodeSupport?:boolean;\n\tdomainHost?:boolean;\n}\n\nexport interface URISchemeHandler<Components extends URIComponents = URIComponents, Options extends URIOptions = URIOptions, ParentComponents extends URIComponents = URIComponents> {\n\tscheme:string;\n\tparse(components:ParentComponents, options:Options):Components;\n\tserialize(components:Components, options:Options):ParentComponents;\n\tunicodeSupport?:boolean;\n\tdomainHost?:boolean;\n\tabsolutePath?:boolean;\n}\n\nexport interface URIRegExps {\n\tNOT_SCHEME : RegExp,\n\tNOT_USERINFO : RegExp,\n\tNOT_HOST : RegExp,\n\tNOT_PATH : RegExp,\n\tNOT_PATH_NOSCHEME : RegExp,\n\tNOT_QUERY : RegExp,\n\tNOT_FRAGMENT : RegExp,\n\tESCAPE : RegExp,\n\tUNRESERVED : RegExp,\n\tOTHER_CHARS : RegExp,\n\tPCT_ENCODED : RegExp,\n\tIPV4ADDRESS : RegExp,\n\tIPV6ADDRESS : RegExp,\n}\n\nexport const SCHEMES:{[scheme:string]:URISchemeHandler} = {};\n\nexport function pctEncChar(chr:string):string {\n\tconst c = chr.charCodeAt(0);\n\tlet e:string;\n\n\tif (c < 16) e = \"%0\" + c.toString(16).toUpperCase();\n\telse if (c < 128) e = \"%\" + c.toString(16).toUpperCase();\n\telse if (c < 2048) e = \"%\" + ((c >> 6) | 192).toString(16).toUpperCase() + \"%\" + ((c & 63) | 128).toString(16).toUpperCase();\n\telse e = \"%\" + ((c >> 12) | 224).toString(16).toUpperCase() + \"%\" + (((c >> 6) & 63) | 128).toString(16).toUpperCase() + \"%\" + ((c & 63) | 128).toString(16).toUpperCase();\n\n\treturn e;\n}\n\nexport function pctDecChars(str:string):string {\n\tlet newStr = \"\";\n\tlet i = 0;\n\tconst il = str.length;\n\n\twhile (i < il) {\n\t\tconst c = parseInt(str.substr(i + 1, 2), 16);\n\n\t\tif (c < 128) {\n\t\t\tnewStr += String.fromCharCode(c);\n\t\t\ti += 3;\n\t\t}\n\t\telse if (c >= 194 && c < 224) {\n\t\t\tif ((il - i) >= 6) {\n\t\t\t\tconst c2 = parseInt(str.substr(i + 4, 2), 16);\n\t\t\t\tnewStr += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n\t\t\t} else {\n\t\t\t\tnewStr += str.substr(i, 6);\n\t\t\t}\n\t\t\ti += 6;\n\t\t}\n\t\telse if (c >= 224) {\n\t\t\tif ((il - i) >= 9) {\n\t\t\t\tconst c2 = parseInt(str.substr(i + 4, 2), 16);\n\t\t\t\tconst c3 = parseInt(str.substr(i + 7, 2), 16);\n\t\t\t\tnewStr += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\n\t\t\t} else {\n\t\t\t\tnewStr += str.substr(i, 9);\n\t\t\t}\n\t\t\ti += 9;\n\t\t}\n\t\telse {\n\t\t\tnewStr += str.substr(i, 3);\n\t\t\ti += 3;\n\t\t}\n\t}\n\n\treturn newStr;\n}\n\nfunction _normalizeComponentEncoding(components:URIComponents, protocol:URIRegExps) {\n\tfunction decodeUnreserved(str:string):string {\n\t\tconst decStr = pctDecChars(str);\n\t\treturn (!decStr.match(protocol.UNRESERVED) ? str : decStr);\n\t}\n\n\tif (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, \"\");\n\tif (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace((components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME), pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\n\treturn components;\n};\n\nfunction _stripLeadingZeros(str:string):string {\n\treturn str.replace(/^0*(.*)/, \"$1\") || \"0\";\n}\n\nfunction _normalizeIPv4(host:string, protocol:URIRegExps):string {\n\tconst matches = host.match(protocol.IPV4ADDRESS) || [];\n\tconst [, address] = matches;\n\t\n\tif (address) {\n\t\treturn address.split(\".\").map(_stripLeadingZeros).join(\".\");\n\t} else {\n\t\treturn host;\n\t}\n}\n\nfunction _normalizeIPv6(host:string, protocol:URIRegExps):string {\n\tconst matches = host.match(protocol.IPV6ADDRESS) || [];\n\tconst [, address, zone] = matches;\n\n\tif (address) {\n\t\tconst [last, first] = address.toLowerCase().split('::').reverse();\n\t\tconst firstFields = first ? first.split(\":\").map(_stripLeadingZeros) : [];\n\t\tconst lastFields = last.split(\":\").map(_stripLeadingZeros);\n\t\tconst isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n\t\tconst fieldCount = isLastFieldIPv4Address ? 7 : 8;\n\t\tconst lastFieldsStart = lastFields.length - fieldCount;\n\t\tconst fields = Array<string>(fieldCount);\n\n\t\tfor (let x = 0; x < fieldCount; ++x) {\n\t\t\tfields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';\n\t\t}\n\n\t\tif (isLastFieldIPv4Address) {\n\t\t\tfields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n\t\t}\n\n\t\tconst allZeroFields = fields.reduce<Array<{index:number,length:number}>>((acc, field, index) => {\n\t\t\tif (!field || field === \"0\") {\n\t\t\t\tconst lastLongest = acc[acc.length - 1];\n\t\t\t\tif (lastLongest && lastLongest.index + lastLongest.length === index) {\n\t\t\t\t\tlastLongest.length++;\n\t\t\t\t} else {\n\t\t\t\t\tacc.push({ index, length : 1 });\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn acc;\n\t\t}, []);\n\n\t\tconst longestZeroFields = allZeroFields.sort((a, b) => b.length - a.length)[0];\n\n\t\tlet newHost:string;\n\t\tif (longestZeroFields && longestZeroFields.length > 1) {\n\t\t\tconst newFirst = fields.slice(0, longestZeroFields.index) ;\n\t\t\tconst newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n\t\t\tnewHost = newFirst.join(\":\") + \"::\" + newLast.join(\":\");\n\t\t} else {\n\t\t\tnewHost = fields.join(\":\");\n\t\t}\n\n\t\tif (zone) {\n\t\t\tnewHost += \"%\" + zone;\n\t\t}\n\n\t\treturn newHost;\n\t} else {\n\t\treturn host;\n\t}\n}\n\nconst URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\nconst NO_MATCH_IS_UNDEFINED = (<RegExpMatchArray>(\"\").match(/(){0}/))[1] === undefined;\n\nexport function parse(uriString:string, options:URIOptions = {}):URIComponents {\n\tconst components:URIComponents = {};\n\tconst protocol = (options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL);\n\n\tif (options.reference === \"suffix\") uriString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\n\n\tconst matches = uriString.match(URI_PARSE);\n\n\tif (matches) {\n\t\tif (NO_MATCH_IS_UNDEFINED) {\n\t\t\t//store each component\n\t\t\tcomponents.scheme = matches[1];\n\t\t\tcomponents.userinfo = matches[3];\n\t\t\tcomponents.host = matches[4];\n\t\t\tcomponents.port = parseInt(matches[5], 10);\n\t\t\tcomponents.path = matches[6] || \"\";\n\t\t\tcomponents.query = matches[7];\n\t\t\tcomponents.fragment = matches[8];\n\n\t\t\t//fix port number\n\t\t\tif (isNaN(components.port)) {\n\t\t\t\tcomponents.port = matches[5];\n\t\t\t}\n\t\t} else {  //IE FIX for improper RegExp matching\n\t\t\t//store each component\n\t\t\tcomponents.scheme = matches[1] || undefined;\n\t\t\tcomponents.userinfo = (uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined);\n\t\t\tcomponents.host = (uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined);\n\t\t\tcomponents.port = parseInt(matches[5], 10);\n\t\t\tcomponents.path = matches[6] || \"\";\n\t\t\tcomponents.query = (uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined);\n\t\t\tcomponents.fragment = (uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined);\n\n\t\t\t//fix port number\n\t\t\tif (isNaN(components.port)) {\n\t\t\t\tcomponents.port = (uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined);\n\t\t\t}\n\t\t}\n\n\t\tif (components.host) {\n\t\t\t//normalize IP hosts\n\t\t\tcomponents.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n\t\t}\n\n\t\t//determine reference type\n\t\tif (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n\t\t\tcomponents.reference = \"same-document\";\n\t\t} else if (components.scheme === undefined) {\n\t\t\tcomponents.reference = \"relative\";\n\t\t} else if (components.fragment === undefined) {\n\t\t\tcomponents.reference = \"absolute\";\n\t\t} else {\n\t\t\tcomponents.reference = \"uri\";\n\t\t}\n\n\t\t//check for reference errors\n\t\tif (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\n\t\t\tcomponents.error = components.error || \"URI is not a \" + options.reference + \" reference.\";\n\t\t}\n\n\t\t//find scheme handler\n\t\tconst schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n\n\t\t//check if scheme can't handle IRIs\n\t\tif (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n\t\t\t//if host component is a domain name\n\t\t\tif (components.host && (options.domainHost || (schemeHandler && schemeHandler.domainHost))) {\n\t\t\t\t//convert Unicode IDN -> ASCII IDN\n\t\t\t\ttry {\n\t\t\t\t\tcomponents.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n\t\t\t\t} catch (e) {\n\t\t\t\t\tcomponents.error = components.error || \"Host's domain name can not be converted to ASCII via punycode: \" + e;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//convert IRI -> URI\n\t\t\t_normalizeComponentEncoding(components, URI_PROTOCOL);\n\t\t} else {\n\t\t\t//normalize encodings\n\t\t\t_normalizeComponentEncoding(components, protocol);\n\t\t}\n\n\t\t//perform scheme specific parsing\n\t\tif (schemeHandler && schemeHandler.parse) {\n\t\t\tschemeHandler.parse(components, options);\n\t\t}\n\t} else {\n\t\tcomponents.error = components.error || \"URI can not be parsed.\";\n\t}\n\n\treturn components;\n};\n\nfunction _recomposeAuthority(components:URIComponents, options:URIOptions):string|undefined {\n\tconst protocol = (options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL);\n\tconst uriTokens:Array<string> = [];\n\n\tif (components.userinfo !== undefined) {\n\t\turiTokens.push(components.userinfo);\n\t\turiTokens.push(\"@\");\n\t}\n\n\tif (components.host !== undefined) {\n\t\t//normalize IP hosts, add brackets and escape zone separator for IPv6\n\t\turiTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, (_, $1, $2) => \"[\" + $1 + ($2 ? \"%25\" + $2 : \"\") + \"]\"));\n\t}\n\n\tif (typeof components.port === \"number\" || typeof components.port === \"string\") {\n\t\turiTokens.push(\":\");\n\t\turiTokens.push(String(components.port));\n\t}\n\n\treturn uriTokens.length ? uriTokens.join(\"\") : undefined;\n};\n\nconst RDS1 = /^\\.\\.?\\//;\nconst RDS2 = /^\\/\\.(\\/|$)/;\nconst RDS3 = /^\\/\\.\\.(\\/|$)/;\nconst RDS4 = /^\\.\\.?$/;\nconst RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\n\nexport function removeDotSegments(input:string):string {\n\tconst output:Array<string> = [];\n\n\twhile (input.length) {\n\t\tif (input.match(RDS1)) {\n\t\t\tinput = input.replace(RDS1, \"\");\n\t\t} else if (input.match(RDS2)) {\n\t\t\tinput = input.replace(RDS2, \"/\");\n\t\t} else if (input.match(RDS3)) {\n\t\t\tinput = input.replace(RDS3, \"/\");\n\t\t\toutput.pop();\n\t\t} else if (input === \".\" || input === \"..\") {\n\t\t\tinput = \"\";\n\t\t} else {\n\t\t\tconst im = input.match(RDS5);\n\t\t\tif (im) {\n\t\t\t\tconst s = im[0];\n\t\t\t\tinput = input.slice(s.length);\n\t\t\t\toutput.push(s);\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Unexpected dot segment condition\");\n\t\t\t}\n\t\t}\n\t}\n\n\treturn output.join(\"\");\n};\n\nexport function serialize(components:URIComponents, options:URIOptions = {}):string {\n\tconst protocol = (options.iri ? IRI_PROTOCOL : URI_PROTOCOL);\n\tconst uriTokens:Array<string> = [];\n\n\t//find scheme handler\n\tconst schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n\n\t//perform scheme specific serialization\n\tif (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n\n\tif (components.host) {\n\t\t//if host component is an IPv6 address\n\t\tif (protocol.IPV6ADDRESS.test(components.host)) {\n\t\t\t//TODO: normalize IPv6 address as per RFC 5952\n\t\t}\n\n\t\t//if host component is a domain name\n\t\telse if (options.domainHost || (schemeHandler && schemeHandler.domainHost)) {\n\t\t\t//convert IDN via punycode\n\t\t\ttry {\n\t\t\t\tcomponents.host = (!options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host));\n\t\t\t} catch (e) {\n\t\t\t\tcomponents.error = components.error || \"Host's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n\t\t\t}\n\t\t}\n\t}\n\n\t//normalize encoding\n\t_normalizeComponentEncoding(components, protocol);\n\n\tif (options.reference !== \"suffix\" && components.scheme) {\n\t\turiTokens.push(components.scheme);\n\t\turiTokens.push(\":\");\n\t}\n\n\tconst authority = _recomposeAuthority(components, options);\n\tif (authority !== undefined) {\n\t\tif (options.reference !== \"suffix\") {\n\t\t\turiTokens.push(\"//\");\n\t\t}\n\n\t\turiTokens.push(authority);\n\n\t\tif (components.path && components.path.charAt(0) !== \"/\") {\n\t\t\turiTokens.push(\"/\");\n\t\t}\n\t}\n\n\tif (components.path !== undefined) {\n\t\tlet s = components.path;\n\n\t\tif (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n\t\t\ts = removeDotSegments(s);\n\t\t}\n\n\t\tif (authority === undefined) {\n\t\t\ts = s.replace(/^\\/\\//, \"/%2F\");  //don't allow the path to start with \"//\"\n\t\t}\n\n\t\turiTokens.push(s);\n\t}\n\n\tif (components.query !== undefined) {\n\t\turiTokens.push(\"?\");\n\t\turiTokens.push(components.query);\n\t}\n\n\tif (components.fragment !== undefined) {\n\t\turiTokens.push(\"#\");\n\t\turiTokens.push(components.fragment);\n\t}\n\n\treturn uriTokens.join(\"\");  //merge tokens into a string\n};\n\nexport function resolveComponents(base:URIComponents, relative:URIComponents, options:URIOptions = {}, skipNormalization?:boolean):URIComponents {\n\tconst target:URIComponents = {};\n\n\tif (!skipNormalization) {\n\t\tbase = parse(serialize(base, options), options);  //normalize base components\n\t\trelative = parse(serialize(relative, options), options);  //normalize relative components\n\t}\n\toptions = options || {};\n\n\tif (!options.tolerant && relative.scheme) {\n\t\ttarget.scheme = relative.scheme;\n\t\t//target.authority = relative.authority;\n\t\ttarget.userinfo = relative.userinfo;\n\t\ttarget.host = relative.host;\n\t\ttarget.port = relative.port;\n\t\ttarget.path = removeDotSegments(relative.path || \"\");\n\t\ttarget.query = relative.query;\n\t} else {\n\t\tif (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n\t\t\t//target.authority = relative.authority;\n\t\t\ttarget.userinfo = relative.userinfo;\n\t\t\ttarget.host = relative.host;\n\t\t\ttarget.port = relative.port;\n\t\t\ttarget.path = removeDotSegments(relative.path || \"\");\n\t\t\ttarget.query = relative.query;\n\t\t} else {\n\t\t\tif (!relative.path) {\n\t\t\t\ttarget.path = base.path;\n\t\t\t\tif (relative.query !== undefined) {\n\t\t\t\t\ttarget.query = relative.query;\n\t\t\t\t} else {\n\t\t\t\t\ttarget.query = base.query;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (relative.path.charAt(0) === \"/\") {\n\t\t\t\t\ttarget.path = removeDotSegments(relative.path);\n\t\t\t\t} else {\n\t\t\t\t\tif ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n\t\t\t\t\t\ttarget.path = \"/\" + relative.path;\n\t\t\t\t\t} else if (!base.path) {\n\t\t\t\t\t\ttarget.path = relative.path;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttarget.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\n\t\t\t\t\t}\n\t\t\t\t\ttarget.path = removeDotSegments(target.path);\n\t\t\t\t}\n\t\t\t\ttarget.query = relative.query;\n\t\t\t}\n\t\t\t//target.authority = base.authority;\n\t\t\ttarget.userinfo = base.userinfo;\n\t\t\ttarget.host = base.host;\n\t\t\ttarget.port = base.port;\n\t\t}\n\t\ttarget.scheme = base.scheme;\n\t}\n\n\ttarget.fragment = relative.fragment;\n\n\treturn target;\n};\n\nexport function resolve(baseURI:string, relativeURI:string, options?:URIOptions):string {\n\tconst schemelessOptions = assign({ scheme : 'null' }, options);\n\treturn serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n};\n\nexport function normalize(uri:string, options?:URIOptions):string;\nexport function normalize(uri:URIComponents, options?:URIOptions):URIComponents;\nexport function normalize(uri:any, options?:URIOptions):any {\n\tif (typeof uri === \"string\") {\n\t\turi = serialize(parse(uri, options), options);\n\t} else if (typeOf(uri) === \"object\") {\n\t\turi = parse(serialize(<URIComponents>uri, options), options);\n\t}\n\n\treturn uri;\n};\n\nexport function equal(uriA:string, uriB:string, options?: URIOptions):boolean;\nexport function equal(uriA:URIComponents, uriB:URIComponents, options?:URIOptions):boolean;\nexport function equal(uriA:any, uriB:any, options?:URIOptions):boolean {\n\tif (typeof uriA === \"string\") {\n\t\turiA = serialize(parse(uriA, options), options);\n\t} else if (typeOf(uriA) === \"object\") {\n\t\turiA = serialize(<URIComponents>uriA, options);\n\t}\n\n\tif (typeof uriB === \"string\") {\n\t\turiB = serialize(parse(uriB, options), options);\n\t} else if (typeOf(uriB) === \"object\") {\n\t\turiB = serialize(<URIComponents>uriB, options);\n\t}\n\n\treturn uriA === uriB;\n};\n\nexport function escapeComponent(str:string, options?:URIOptions):string {\n\treturn str && str.toString().replace((!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE), pctEncChar);\n};\n\nexport function unescapeComponent(str:string, options?:URIOptions):string {\n\treturn str && str.toString().replace((!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED), pctDecChars);\n};\n", "'use strict';\n\n/** Highest positive signed 32-bit float value */\nconst maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nconst base = 36;\nconst tMin = 1;\nconst tMax = 26;\nconst skew = 38;\nconst damp = 700;\nconst initialBias = 72;\nconst initialN = 128; // 0x80\nconst delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nconst regexPunycode = /^xn--/;\nconst regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nconst regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nconst errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nconst baseMinusTMin = base - tMin;\nconst floor = Math.floor;\nconst stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tconst result = [];\n\tlet length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tconst parts = string.split('@');\n\tlet result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tconst labels = string.split('.');\n\tconst encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tconst output = [];\n\tlet counter = 0;\n\tconst length = string.length;\n\twhile (counter < length) {\n\t\tconst value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tconst extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nconst ucs2encode = array => String.fromCodePoint(...array);\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nconst basicToDigit = function(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nconst digitToBasic = function(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nconst adapt = function(delta, numPoints, firstTime) {\n\tlet k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nconst decode = function(input) {\n\t// Don't use UCS-2.\n\tconst output = [];\n\tconst inputLength = input.length;\n\tlet i = 0;\n\tlet n = initialN;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tlet basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (let j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (let index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tlet oldi = i;\n\t\tfor (let w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror('invalid-input');\n\t\t\t}\n\n\t\t\tconst digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\n\t\t}\n\n\t\tconst out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\n\t}\n\n\treturn String.fromCodePoint(...output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nconst encode = function(input) {\n\tconst output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tlet inputLength = input.length;\n\n\t// Initialize the state.\n\tlet n = initialN;\n\tlet delta = 0;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points.\n\tfor (const currentValue of input) {\n\t\tif (currentValue < 0x80) {\n\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t}\n\t}\n\n\tlet basicLength = output.length;\n\tlet handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tlet m = maxInt;\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\tm = currentValue;\n\t\t\t}\n\t\t}\n\n\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t// but guard against overflow.\n\t\tconst handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\t\t\tif (currentValue == n) {\n\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\tlet q = delta;\n\t\t\t\tfor (let k = base; /* no condition */; k += base) {\n\t\t\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tconst qMinusT = q - t;\n\t\t\t\t\tconst baseMinusT = base - t;\n\t\t\t\t\toutput.push(\n\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t);\n\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t}\n\n\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\tdelta = 0;\n\t\t\t\t++handledCPCount;\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nconst toUnicode = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexPunycode.test(string)\n\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t: string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nconst toASCII = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexNonASCII.test(string)\n\t\t\t? 'xn--' + encode(string)\n\t\t\t: string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nconst punycode = {\n\t/**\n\t * A string representing the current Punycode.js version number.\n\t * @memberOf punycode\n\t * @type String\n\t */\n\t'version': '2.1.0',\n\t/**\n\t * An object of methods to convert from JavaScript's internal character\n\t * representation (UCS-2) to Unicode code points, and back.\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode\n\t * @type Object\n\t */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\nexport default punycode;\n", "import { URIRegExps } from \"./uri\";\nimport { buildExps } from \"./regexps-uri\";\n\nexport default buildExps(true);\n", "import { URIRegExps } from \"./uri\";\nimport { merge, subexp } from \"./util\";\n\nexport function buildExps(isIRI:boolean):URIRegExps {\n\tconst\n\t\tALPHA$$ = \"[A-Za-z]\",\n\t\tCR$ = \"[\\\\x0D]\",\n\t\tDIGIT$$ = \"[0-9]\",\n\t\tDQUOTE$$ = \"[\\\\x22]\",\n\t\tHEXDIG$$ = merge(DIGIT$$, \"[A-Fa-f]\"),  //case-insensitive\n\t\tLF$$ = \"[\\\\x0A]\",\n\t\tSP$$ = \"[\\\\x20]\",\n\t\tPCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)),  //expanded\n\t\tGEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\n\t\tSUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\n\t\tRESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n\t\tUCSCHAR$$ = isIRI ? \"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\" : \"[]\",  //subset, excludes bidi control characters\n\t\tIPRIVATE$$ = isIRI ? \"[\\\\uE000-\\\\uF8FF]\" : \"[]\",  //subset\n\t\tUNRESERVED$$ = merge(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\", UCSCHAR$$),\n\t\tSCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\n\t\tUSERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\n\t\tDEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\n\t\tDEC_OCTET_RELAXED$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"0?[1-9]\" + DIGIT$$) + \"|0?0?\" + DIGIT$$),  //relaxed parsing rules\n\t\tIPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$),\n\t\tH16$ = subexp(HEXDIG$$ + \"{1,4}\"),\n\t\tLS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\n\t\tIPV6ADDRESS1$ = subexp(                                                            subexp(H16$ + \"\\\\:\") + \"{6}\" + LS32$), //                           6( h16 \":\" ) ls32\n\t\tIPV6ADDRESS2$ = subexp(                                                 \"\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{5}\" + LS32$), //                      \"::\" 5( h16 \":\" ) ls32\n\t\tIPV6ADDRESS3$ = subexp(subexp(                                 H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{4}\" + LS32$), //[               h16 ] \"::\" 4( h16 \":\" ) ls32\n\t\tIPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,1}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{3}\" + LS32$), //[ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n\t\tIPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,2}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{2}\" + LS32$), //[ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n\t\tIPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,3}\" + H16$) + \"?\\\\:\\\\:\" +        H16$ + \"\\\\:\"          + LS32$), //[ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n\t\tIPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,4}\" + H16$) + \"?\\\\:\\\\:\"                                + LS32$), //[ *4( h16 \":\" ) h16 ] \"::\"              ls32\n\t\tIPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,5}\" + H16$) + \"?\\\\:\\\\:\"                                + H16$ ), //[ *5( h16 \":\" ) h16 ] \"::\"              h16\n\t\tIPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,6}\" + H16$) + \"?\\\\:\\\\:\"                                       ), //[ *6( h16 \":\" ) h16 ] \"::\"\n\t\tIPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(\"|\")),\n\t\tZONEID$ = subexp(subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$) + \"+\"),  //RFC 6874\n\t\tIPV6ADDRZ$ = subexp(IPV6ADDRESS$ + \"\\\\%25\" + ZONEID$),  //RFC 6874\n\t\tIPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + ZONEID$),  //RFC 6874, with relaxed parsing rules\n\t\tIPVFUTURE$ = subexp(\"[vV]\" + HEXDIG$$ + \"+\\\\.\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\n\t\tIP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRZ_RELAXED$ + \"|\" + IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),  //RFC 6874\n\t\tREG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\n\t\tHOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"(?!\" + REG_NAME$ + \")\" + \"|\" + REG_NAME$),\n\t\tPORT$ = subexp(DIGIT$$ + \"*\"),\n\t\tAUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\n\t\tPCHAR$ = subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\n\t\tSEGMENT$ = subexp(PCHAR$ + \"*\"),\n\t\tSEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\n\t\tSEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\n\t\tPATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\n\t\tPATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),  //simplified\n\t\tPATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),  //simplified\n\t\tPATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),  //simplified\n\t\tPATH_EMPTY$ = \"(?!\" + PCHAR$ + \")\",\n\t\tPATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n\t\tQUERY$ = subexp(subexp(PCHAR$ + \"|\" + merge(\"[\\\\/\\\\?]\", IPRIVATE$$)) + \"*\"),\n\t\tFRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\n\t\tHIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n\t\tURI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n\t\tRELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\n\t\tRELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n\t\tURI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\n\t\tABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\n\n\t\tGENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tRELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\n\t\tSAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tAUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\"\n\t;\n\n\treturn {\n\t\tNOT_SCHEME : new RegExp(merge(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\n\t\tNOT_USERINFO : new RegExp(merge(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_HOST : new RegExp(merge(\"[^\\\\%\\\\[\\\\]\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_PATH : new RegExp(merge(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_PATH_NOSCHEME : new RegExp(merge(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_QUERY : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\", IPRIVATE$$), \"g\"),\n\t\tNOT_FRAGMENT : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\n\t\tESCAPE : new RegExp(merge(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tUNRESERVED : new RegExp(UNRESERVED$$, \"g\"),\n\t\tOTHER_CHARS : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\n\t\tPCT_ENCODED : new RegExp(PCT_ENCODED$, \"g\"),\n\t\tIPV4ADDRESS : new RegExp(\"^(\" + IPV4ADDRESS$ + \")$\"),\n\t\tIPV6ADDRESS : new RegExp(\"^\\\\[?(\" + IPV6ADDRESS$ + \")\" + subexp(subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + \"(\" + ZONEID$ + \")\") + \"?\\\\]?$\")  //RFC 6874, with relaxed parsing rules\n\t};\n}\n\nexport default buildExps(false);\n", "export function merge(...sets:Array<string>):string {\n\tif (sets.length > 1) {\n\t\tsets[0] = sets[0].slice(0, -1);\n\t\tconst xl = sets.length - 1;\n\t\tfor (let x = 1; x < xl; ++x) {\n\t\t\tsets[x] = sets[x].slice(1, -1);\n\t\t}\n\t\tsets[xl] = sets[xl].slice(1);\n\t\treturn sets.join('');\n\t} else {\n\t\treturn sets[0];\n\t}\n}\n\nexport function subexp(str:string):string {\n\treturn \"(?:\" + str + \")\";\n}\n\nexport function typeOf(o:any):string {\n\treturn o === undefined ? \"undefined\" : (o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase());\n}\n\nexport function toUpperCase(str:string):string {\n\treturn str.toUpperCase();\n}\n\nexport function toArray(obj:any):Array<any> {\n\treturn obj !== undefined && obj !== null ? (obj instanceof Array ? obj : (typeof obj.length !== \"number\" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj))) : [];\n}\n\n\nexport function assign(target: object, source: any): any {\n\tconst obj = target as any;\n\tif (source) {\n\t\tfor (const key in source) {\n\t\t\tobj[key] = source[key];\n\t\t}\n\t}\n\treturn obj;\n}", "'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n", "'use strict';\n\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nmodule.exports = function ucs2length(str) {\n  var length = 0\n    , len = str.length\n    , pos = 0\n    , value;\n  while (pos < len) {\n    length++;\n    value = str.charCodeAt(pos++);\n    if (value >= 0xD800 && value <= 0xDBFF && pos < len) {\n      // high surrogate, and there is a next character\n      value = str.charCodeAt(pos);\n      if ((value & 0xFC00) == 0xDC00) pos++; // low surrogate\n    }\n  }\n  return length;\n};\n", "'use strict';\n\n\nmodule.exports = {\n  copy: copy,\n  checkDataType: checkDataType,\n  checkDataTypes: checkDataTypes,\n  coerceToTypes: coerceToTypes,\n  toHash: toHash,\n  getProperty: getProperty,\n  escapeQuotes: escapeQuotes,\n  equal: require('fast-deep-equal'),\n  ucs2length: require('./ucs2length'),\n  varOccurences: varOccurences,\n  varReplace: varReplace,\n  schemaHasRules: schemaHasRules,\n  schemaHasRulesExcept: schemaHasRulesExcept,\n  schemaUnknownRules: schemaUnknownRules,\n  toQuotedString: toQuotedString,\n  getPathExpr: getPathExpr,\n  getPath: getPath,\n  getData: getData,\n  unescapeFragment: unescapeFragment,\n  unescapeJsonPointer: unescapeJsonPointer,\n  escapeFragment: escapeFragment,\n  escapeJsonPointer: escapeJsonPointer\n};\n\n\nfunction copy(o, to) {\n  to = to || {};\n  for (var key in o) to[key] = o[key];\n  return to;\n}\n\n\nfunction checkDataType(dataType, data, strictNumbers, negate) {\n  var EQUAL = negate ? ' !== ' : ' === '\n    , AND = negate ? ' || ' : ' && '\n    , OK = negate ? '!' : ''\n    , NOT = negate ? '' : '!';\n  switch (dataType) {\n    case 'null': return data + EQUAL + 'null';\n    case 'array': return OK + 'Array.isArray(' + data + ')';\n    case 'object': return '(' + OK + data + AND +\n                          'typeof ' + data + EQUAL + '\"object\"' + AND +\n                          NOT + 'Array.isArray(' + data + '))';\n    case 'integer': return '(typeof ' + data + EQUAL + '\"number\"' + AND +\n                           NOT + '(' + data + ' % 1)' +\n                           AND + data + EQUAL + data +\n                           (strictNumbers ? (AND + OK + 'isFinite(' + data + ')') : '') + ')';\n    case 'number': return '(typeof ' + data + EQUAL + '\"' + dataType + '\"' +\n                          (strictNumbers ? (AND + OK + 'isFinite(' + data + ')') : '') + ')';\n    default: return 'typeof ' + data + EQUAL + '\"' + dataType + '\"';\n  }\n}\n\n\nfunction checkDataTypes(dataTypes, data, strictNumbers) {\n  switch (dataTypes.length) {\n    case 1: return checkDataType(dataTypes[0], data, strictNumbers, true);\n    default:\n      var code = '';\n      var types = toHash(dataTypes);\n      if (types.array && types.object) {\n        code = types.null ? '(': '(!' + data + ' || ';\n        code += 'typeof ' + data + ' !== \"object\")';\n        delete types.null;\n        delete types.array;\n        delete types.object;\n      }\n      if (types.number) delete types.integer;\n      for (var t in types)\n        code += (code ? ' && ' : '' ) + checkDataType(t, data, strictNumbers, true);\n\n      return code;\n  }\n}\n\n\nvar COERCE_TO_TYPES = toHash([ 'string', 'number', 'integer', 'boolean', 'null' ]);\nfunction coerceToTypes(optionCoerceTypes, dataTypes) {\n  if (Array.isArray(dataTypes)) {\n    var types = [];\n    for (var i=0; i<dataTypes.length; i++) {\n      var t = dataTypes[i];\n      if (COERCE_TO_TYPES[t]) types[types.length] = t;\n      else if (optionCoerceTypes === 'array' && t === 'array') types[types.length] = t;\n    }\n    if (types.length) return types;\n  } else if (COERCE_TO_TYPES[dataTypes]) {\n    return [dataTypes];\n  } else if (optionCoerceTypes === 'array' && dataTypes === 'array') {\n    return ['array'];\n  }\n}\n\n\nfunction toHash(arr) {\n  var hash = {};\n  for (var i=0; i<arr.length; i++) hash[arr[i]] = true;\n  return hash;\n}\n\n\nvar IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nvar SINGLE_QUOTE = /'|\\\\/g;\nfunction getProperty(key) {\n  return typeof key == 'number'\n          ? '[' + key + ']'\n          : IDENTIFIER.test(key)\n            ? '.' + key\n            : \"['\" + escapeQuotes(key) + \"']\";\n}\n\n\nfunction escapeQuotes(str) {\n  return str.replace(SINGLE_QUOTE, '\\\\$&')\n            .replace(/\\n/g, '\\\\n')\n            .replace(/\\r/g, '\\\\r')\n            .replace(/\\f/g, '\\\\f')\n            .replace(/\\t/g, '\\\\t');\n}\n\n\nfunction varOccurences(str, dataVar) {\n  dataVar += '[^0-9]';\n  var matches = str.match(new RegExp(dataVar, 'g'));\n  return matches ? matches.length : 0;\n}\n\n\nfunction varReplace(str, dataVar, expr) {\n  dataVar += '([^0-9])';\n  expr = expr.replace(/\\$/g, '$$$$');\n  return str.replace(new RegExp(dataVar, 'g'), expr + '$1');\n}\n\n\nfunction schemaHasRules(schema, rules) {\n  if (typeof schema == 'boolean') return !schema;\n  for (var key in schema) if (rules[key]) return true;\n}\n\n\nfunction schemaHasRulesExcept(schema, rules, exceptKeyword) {\n  if (typeof schema == 'boolean') return !schema && exceptKeyword != 'not';\n  for (var key in schema) if (key != exceptKeyword && rules[key]) return true;\n}\n\n\nfunction schemaUnknownRules(schema, rules) {\n  if (typeof schema == 'boolean') return;\n  for (var key in schema) if (!rules[key]) return key;\n}\n\n\nfunction toQuotedString(str) {\n  return '\\'' + escapeQuotes(str) + '\\'';\n}\n\n\nfunction getPathExpr(currentPath, expr, jsonPointers, isNumber) {\n  var path = jsonPointers // false by default\n              ? '\\'/\\' + ' + expr + (isNumber ? '' : '.replace(/~/g, \\'~0\\').replace(/\\\\//g, \\'~1\\')')\n              : (isNumber ? '\\'[\\' + ' + expr + ' + \\']\\'' : '\\'[\\\\\\'\\' + ' + expr + ' + \\'\\\\\\']\\'');\n  return joinPaths(currentPath, path);\n}\n\n\nfunction getPath(currentPath, prop, jsonPointers) {\n  var path = jsonPointers // false by default\n              ? toQuotedString('/' + escapeJsonPointer(prop))\n              : toQuotedString(getProperty(prop));\n  return joinPaths(currentPath, path);\n}\n\n\nvar JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nvar RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, lvl, paths) {\n  var up, jsonPointer, data, matches;\n  if ($data === '') return 'rootData';\n  if ($data[0] == '/') {\n    if (!JSON_POINTER.test($data)) throw new Error('Invalid JSON-pointer: ' + $data);\n    jsonPointer = $data;\n    data = 'rootData';\n  } else {\n    matches = $data.match(RELATIVE_JSON_POINTER);\n    if (!matches) throw new Error('Invalid JSON-pointer: ' + $data);\n    up = +matches[1];\n    jsonPointer = matches[2];\n    if (jsonPointer == '#') {\n      if (up >= lvl) throw new Error('Cannot access property/index ' + up + ' levels up, current level is ' + lvl);\n      return paths[lvl - up];\n    }\n\n    if (up > lvl) throw new Error('Cannot access data ' + up + ' levels up, current level is ' + lvl);\n    data = 'data' + ((lvl - up) || '');\n    if (!jsonPointer) return data;\n  }\n\n  var expr = data;\n  var segments = jsonPointer.split('/');\n  for (var i=0; i<segments.length; i++) {\n    var segment = segments[i];\n    if (segment) {\n      data += getProperty(unescapeJsonPointer(segment));\n      expr += ' && ' + data;\n    }\n  }\n  return expr;\n}\n\n\nfunction joinPaths (a, b) {\n  if (a == '\"\"') return b;\n  return (a + ' + ' + b).replace(/([^\\\\])' \\+ '/g, '$1');\n}\n\n\nfunction unescapeFragment(str) {\n  return unescapeJsonPointer(decodeURIComponent(str));\n}\n\n\nfunction escapeFragment(str) {\n  return encodeURIComponent(escapeJsonPointer(str));\n}\n\n\nfunction escapeJsonPointer(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n\n\nfunction unescapeJsonPointer(str) {\n  return str.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n", "'use strict';\n\nvar util = require('./util');\n\nmodule.exports = SchemaObject;\n\nfunction SchemaObject(obj) {\n  util.copy(obj, this);\n}\n", "'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n", "'use strict';\n\nvar URI = require('uri-js')\n  , equal = require('fast-deep-equal')\n  , util = require('./util')\n  , SchemaObject = require('./schema_obj')\n  , traverse = require('json-schema-traverse');\n\nmodule.exports = resolve;\n\nresolve.normalizeId = normalizeId;\nresolve.fullPath = getFullPath;\nresolve.url = resolveUrl;\nresolve.ids = resolveIds;\nresolve.inlineRef = inlineRef;\nresolve.schema = resolveSchema;\n\n/**\n * [resolve and compile the references ($ref)]\n * @this   Ajv\n * @param  {Function} compile reference to schema compilation funciton (localCompile)\n * @param  {Object} root object with information about the root schema for the current schema\n * @param  {String} ref reference to resolve\n * @return {Object|Function} schema object (if the schema can be inlined) or validation function\n */\nfunction resolve(compile, root, ref) {\n  /* jshint validthis: true */\n  var refVal = this._refs[ref];\n  if (typeof refVal == 'string') {\n    if (this._refs[refVal]) refVal = this._refs[refVal];\n    else return resolve.call(this, compile, root, refVal);\n  }\n\n  refVal = refVal || this._schemas[ref];\n  if (refVal instanceof SchemaObject) {\n    return inlineRef(refVal.schema, this._opts.inlineRefs)\n            ? refVal.schema\n            : refVal.validate || this._compile(refVal);\n  }\n\n  var res = resolveSchema.call(this, root, ref);\n  var schema, v, baseId;\n  if (res) {\n    schema = res.schema;\n    root = res.root;\n    baseId = res.baseId;\n  }\n\n  if (schema instanceof SchemaObject) {\n    v = schema.validate || compile.call(this, schema.schema, root, undefined, baseId);\n  } else if (schema !== undefined) {\n    v = inlineRef(schema, this._opts.inlineRefs)\n        ? schema\n        : compile.call(this, schema, root, undefined, baseId);\n  }\n\n  return v;\n}\n\n\n/**\n * Resolve schema, its root and baseId\n * @this Ajv\n * @param  {Object} root root object with properties schema, refVal, refs\n * @param  {String} ref  reference to resolve\n * @return {Object} object with properties schema, root, baseId\n */\nfunction resolveSchema(root, ref) {\n  /* jshint validthis: true */\n  var p = URI.parse(ref)\n    , refPath = _getFullPath(p)\n    , baseId = getFullPath(this._getId(root.schema));\n  if (Object.keys(root.schema).length === 0 || refPath !== baseId) {\n    var id = normalizeId(refPath);\n    var refVal = this._refs[id];\n    if (typeof refVal == 'string') {\n      return resolveRecursive.call(this, root, refVal, p);\n    } else if (refVal instanceof SchemaObject) {\n      if (!refVal.validate) this._compile(refVal);\n      root = refVal;\n    } else {\n      refVal = this._schemas[id];\n      if (refVal instanceof SchemaObject) {\n        if (!refVal.validate) this._compile(refVal);\n        if (id == normalizeId(ref))\n          return { schema: refVal, root: root, baseId: baseId };\n        root = refVal;\n      } else {\n        return;\n      }\n    }\n    if (!root.schema) return;\n    baseId = getFullPath(this._getId(root.schema));\n  }\n  return getJsonPointer.call(this, p, baseId, root.schema, root);\n}\n\n\n/* @this Ajv */\nfunction resolveRecursive(root, ref, parsedRef) {\n  /* jshint validthis: true */\n  var res = resolveSchema.call(this, root, ref);\n  if (res) {\n    var schema = res.schema;\n    var baseId = res.baseId;\n    root = res.root;\n    var id = this._getId(schema);\n    if (id) baseId = resolveUrl(baseId, id);\n    return getJsonPointer.call(this, parsedRef, baseId, schema, root);\n  }\n}\n\n\nvar PREVENT_SCOPE_CHANGE = util.toHash(['properties', 'patternProperties', 'enum', 'dependencies', 'definitions']);\n/* @this Ajv */\nfunction getJsonPointer(parsedRef, baseId, schema, root) {\n  /* jshint validthis: true */\n  parsedRef.fragment = parsedRef.fragment || '';\n  if (parsedRef.fragment.slice(0,1) != '/') return;\n  var parts = parsedRef.fragment.split('/');\n\n  for (var i = 1; i < parts.length; i++) {\n    var part = parts[i];\n    if (part) {\n      part = util.unescapeFragment(part);\n      schema = schema[part];\n      if (schema === undefined) break;\n      var id;\n      if (!PREVENT_SCOPE_CHANGE[part]) {\n        id = this._getId(schema);\n        if (id) baseId = resolveUrl(baseId, id);\n        if (schema.$ref) {\n          var $ref = resolveUrl(baseId, schema.$ref);\n          var res = resolveSchema.call(this, root, $ref);\n          if (res) {\n            schema = res.schema;\n            root = res.root;\n            baseId = res.baseId;\n          }\n        }\n      }\n    }\n  }\n  if (schema !== undefined && schema !== root.schema)\n    return { schema: schema, root: root, baseId: baseId };\n}\n\n\nvar SIMPLE_INLINED = util.toHash([\n  'type', 'format', 'pattern',\n  'maxLength', 'minLength',\n  'maxProperties', 'minProperties',\n  'maxItems', 'minItems',\n  'maximum', 'minimum',\n  'uniqueItems', 'multipleOf',\n  'required', 'enum'\n]);\nfunction inlineRef(schema, limit) {\n  if (limit === false) return false;\n  if (limit === undefined || limit === true) return checkNoRef(schema);\n  else if (limit) return countKeys(schema) <= limit;\n}\n\n\nfunction checkNoRef(schema) {\n  var item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return false;\n      item = schema[key];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  }\n  return true;\n}\n\n\nfunction countKeys(schema) {\n  var count = 0, item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object') count += countKeys(item);\n      if (count == Infinity) return Infinity;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return Infinity;\n      if (SIMPLE_INLINED[key]) {\n        count++;\n      } else {\n        item = schema[key];\n        if (typeof item == 'object') count += countKeys(item) + 1;\n        if (count == Infinity) return Infinity;\n      }\n    }\n  }\n  return count;\n}\n\n\nfunction getFullPath(id, normalize) {\n  if (normalize !== false) id = normalizeId(id);\n  var p = URI.parse(id);\n  return _getFullPath(p);\n}\n\n\nfunction _getFullPath(p) {\n  return URI.serialize(p).split('#')[0] + '#';\n}\n\n\nvar TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n  return id ? id.replace(TRAILING_SLASH_HASH, '') : '';\n}\n\n\nfunction resolveUrl(baseId, id) {\n  id = normalizeId(id);\n  return URI.resolve(baseId, id);\n}\n\n\n/* @this Ajv */\nfunction resolveIds(schema) {\n  var schemaId = normalizeId(this._getId(schema));\n  var baseIds = {'': schemaId};\n  var fullPaths = {'': getFullPath(schemaId, false)};\n  var localRefs = {};\n  var self = this;\n\n  traverse(schema, {allKeys: true}, function(sch, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n    if (jsonPtr === '') return;\n    var id = self._getId(sch);\n    var baseId = baseIds[parentJsonPtr];\n    var fullPath = fullPaths[parentJsonPtr] + '/' + parentKeyword;\n    if (keyIndex !== undefined)\n      fullPath += '/' + (typeof keyIndex == 'number' ? keyIndex : util.escapeFragment(keyIndex));\n\n    if (typeof id == 'string') {\n      id = baseId = normalizeId(baseId ? URI.resolve(baseId, id) : id);\n\n      var refVal = self._refs[id];\n      if (typeof refVal == 'string') refVal = self._refs[refVal];\n      if (refVal && refVal.schema) {\n        if (!equal(sch, refVal.schema))\n          throw new Error('id \"' + id + '\" resolves to more than one schema');\n      } else if (id != normalizeId(fullPath)) {\n        if (id[0] == '#') {\n          if (localRefs[id] && !equal(sch, localRefs[id]))\n            throw new Error('id \"' + id + '\" resolves to more than one schema');\n          localRefs[id] = sch;\n        } else {\n          self._refs[id] = fullPath;\n        }\n      }\n    }\n    baseIds[jsonPtr] = baseId;\n    fullPaths[jsonPtr] = fullPath;\n  });\n\n  return localRefs;\n}\n", "'use strict';\n\nvar resolve = require('./resolve');\n\nmodule.exports = {\n  Validation: errorSubclass(ValidationError),\n  MissingRef: errorSubclass(MissingRefError)\n};\n\n\nfunction ValidationError(errors) {\n  this.message = 'validation failed';\n  this.errors = errors;\n  this.ajv = this.validation = true;\n}\n\n\nMissingRefError.message = function (baseId, ref) {\n  return 'can\\'t resolve reference ' + ref + ' from id ' + baseId;\n};\n\n\nfunction MissingRefError(baseId, ref, message) {\n  this.message = message || MissingRefError.message(baseId, ref);\n  this.missingRef = resolve.url(baseId, ref);\n  this.missingSchema = resolve.normalizeId(resolve.fullPath(this.missingRef));\n}\n\n\nfunction errorSubclass(Subclass) {\n  Subclass.prototype = Object.create(Error.prototype);\n  Subclass.prototype.constructor = Subclass;\n  return Subclass;\n}\n", "'use strict';\n\nmodule.exports = function (data, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (node) {\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        if (node === undefined) return;\n        if (typeof node == 'number') return isFinite(node) ? '' + node : 'null';\n        if (typeof node !== 'object') return JSON.stringify(node);\n\n        var i, out;\n        if (Array.isArray(node)) {\n            out = '[';\n            for (i = 0; i < node.length; i++) {\n                if (i) out += ',';\n                out += stringify(node[i]) || 'null';\n            }\n            return out + ']';\n        }\n\n        if (node === null) return 'null';\n\n        if (seen.indexOf(node) !== -1) {\n            if (cycles) return JSON.stringify('__cycle__');\n            throw new TypeError('Converting circular structure to JSON');\n        }\n\n        var seenIndex = seen.push(node) - 1;\n        var keys = Object.keys(node).sort(cmp && cmp(node));\n        out = '';\n        for (i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = stringify(node[key]);\n\n            if (!value) continue;\n            if (out) out += ',';\n            out += JSON.stringify(key) + ':' + value;\n        }\n        seen.splice(seenIndex, 1);\n        return '{' + out + '}';\n    })(data);\n};\n", "'use strict';\nmodule.exports = function generate_validate(it, $keyword, $ruleType) {\n  var out = '';\n  var $async = it.schema.$async === true,\n    $refKeywords = it.util.schemaHasRulesExcept(it.schema, it.RULES.all, '$ref'),\n    $id = it.self._getId(it.schema);\n  if (it.opts.strictKeywords) {\n    var $unknownKwd = it.util.schemaUnknownRules(it.schema, it.RULES.keywords);\n    if ($unknownKwd) {\n      var $keywordsMsg = 'unknown keyword: ' + $unknownKwd;\n      if (it.opts.strictKeywords === 'log') it.logger.warn($keywordsMsg);\n      else throw new Error($keywordsMsg);\n    }\n  }\n  if (it.isTop) {\n    out += ' var validate = ';\n    if ($async) {\n      it.async = true;\n      out += 'async ';\n    }\n    out += 'function(data, dataPath, parentData, parentDataProperty, rootData) { \\'use strict\\'; ';\n    if ($id && (it.opts.sourceCode || it.opts.processCode)) {\n      out += ' ' + ('/\\*# sourceURL=' + $id + ' */') + ' ';\n    }\n  }\n  if (typeof it.schema == 'boolean' || !($refKeywords || it.schema.$ref)) {\n    var $keyword = 'false schema';\n    var $lvl = it.level;\n    var $dataLvl = it.dataLevel;\n    var $schema = it.schema[$keyword];\n    var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n    var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n    var $breakOnError = !it.opts.allErrors;\n    var $errorKeyword;\n    var $data = 'data' + ($dataLvl || '');\n    var $valid = 'valid' + $lvl;\n    if (it.schema === false) {\n      if (it.isTop) {\n        $breakOnError = true;\n      } else {\n        out += ' var ' + ($valid) + ' = false; ';\n      }\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'false schema') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'boolean schema is false\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n    } else {\n      if (it.isTop) {\n        if ($async) {\n          out += ' return data; ';\n        } else {\n          out += ' validate.errors = null; return true; ';\n        }\n      } else {\n        out += ' var ' + ($valid) + ' = true; ';\n      }\n    }\n    if (it.isTop) {\n      out += ' }; return validate; ';\n    }\n    return out;\n  }\n  if (it.isTop) {\n    var $top = it.isTop,\n      $lvl = it.level = 0,\n      $dataLvl = it.dataLevel = 0,\n      $data = 'data';\n    it.rootId = it.resolve.fullPath(it.self._getId(it.root.schema));\n    it.baseId = it.baseId || it.rootId;\n    delete it.isTop;\n    it.dataPathArr = [\"\"];\n    if (it.schema.default !== undefined && it.opts.useDefaults && it.opts.strictDefaults) {\n      var $defaultMsg = 'default is ignored in the schema root';\n      if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n      else throw new Error($defaultMsg);\n    }\n    out += ' var vErrors = null; ';\n    out += ' var errors = 0;     ';\n    out += ' if (rootData === undefined) rootData = data; ';\n  } else {\n    var $lvl = it.level,\n      $dataLvl = it.dataLevel,\n      $data = 'data' + ($dataLvl || '');\n    if ($id) it.baseId = it.resolve.url(it.baseId, $id);\n    if ($async && !it.async) throw new Error('async schema in sync schema');\n    out += ' var errs_' + ($lvl) + ' = errors;';\n  }\n  var $valid = 'valid' + $lvl,\n    $breakOnError = !it.opts.allErrors,\n    $closingBraces1 = '',\n    $closingBraces2 = '';\n  var $errorKeyword;\n  var $typeSchema = it.schema.type,\n    $typeIsArray = Array.isArray($typeSchema);\n  if ($typeSchema && it.opts.nullable && it.schema.nullable === true) {\n    if ($typeIsArray) {\n      if ($typeSchema.indexOf('null') == -1) $typeSchema = $typeSchema.concat('null');\n    } else if ($typeSchema != 'null') {\n      $typeSchema = [$typeSchema, 'null'];\n      $typeIsArray = true;\n    }\n  }\n  if ($typeIsArray && $typeSchema.length == 1) {\n    $typeSchema = $typeSchema[0];\n    $typeIsArray = false;\n  }\n  if (it.schema.$ref && $refKeywords) {\n    if (it.opts.extendRefs == 'fail') {\n      throw new Error('$ref: validation keywords used in schema at path \"' + it.errSchemaPath + '\" (see option extendRefs)');\n    } else if (it.opts.extendRefs !== true) {\n      $refKeywords = false;\n      it.logger.warn('$ref: keywords ignored in schema at path \"' + it.errSchemaPath + '\"');\n    }\n  }\n  if (it.schema.$comment && it.opts.$comment) {\n    out += ' ' + (it.RULES.all.$comment.code(it, '$comment'));\n  }\n  if ($typeSchema) {\n    if (it.opts.coerceTypes) {\n      var $coerceToTypes = it.util.coerceToTypes(it.opts.coerceTypes, $typeSchema);\n    }\n    var $rulesGroup = it.RULES.types[$typeSchema];\n    if ($coerceToTypes || $typeIsArray || $rulesGroup === true || ($rulesGroup && !$shouldUseGroup($rulesGroup))) {\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type';\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type',\n        $method = $typeIsArray ? 'checkDataTypes' : 'checkDataType';\n      out += ' if (' + (it.util[$method]($typeSchema, $data, it.opts.strictNumbers, true)) + ') { ';\n      if ($coerceToTypes) {\n        var $dataType = 'dataType' + $lvl,\n          $coerced = 'coerced' + $lvl;\n        out += ' var ' + ($dataType) + ' = typeof ' + ($data) + '; var ' + ($coerced) + ' = undefined; ';\n        if (it.opts.coerceTypes == 'array') {\n          out += ' if (' + ($dataType) + ' == \\'object\\' && Array.isArray(' + ($data) + ') && ' + ($data) + '.length == 1) { ' + ($data) + ' = ' + ($data) + '[0]; ' + ($dataType) + ' = typeof ' + ($data) + '; if (' + (it.util.checkDataType(it.schema.type, $data, it.opts.strictNumbers)) + ') ' + ($coerced) + ' = ' + ($data) + '; } ';\n        }\n        out += ' if (' + ($coerced) + ' !== undefined) ; ';\n        var arr1 = $coerceToTypes;\n        if (arr1) {\n          var $type, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $type = arr1[$i += 1];\n            if ($type == 'string') {\n              out += ' else if (' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\') ' + ($coerced) + ' = \\'\\' + ' + ($data) + '; else if (' + ($data) + ' === null) ' + ($coerced) + ' = \\'\\'; ';\n            } else if ($type == 'number' || $type == 'integer') {\n              out += ' else if (' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' === null || (' + ($dataType) + ' == \\'string\\' && ' + ($data) + ' && ' + ($data) + ' == +' + ($data) + ' ';\n              if ($type == 'integer') {\n                out += ' && !(' + ($data) + ' % 1)';\n              }\n              out += ')) ' + ($coerced) + ' = +' + ($data) + '; ';\n            } else if ($type == 'boolean') {\n              out += ' else if (' + ($data) + ' === \\'false\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === null) ' + ($coerced) + ' = false; else if (' + ($data) + ' === \\'true\\' || ' + ($data) + ' === 1) ' + ($coerced) + ' = true; ';\n            } else if ($type == 'null') {\n              out += ' else if (' + ($data) + ' === \\'\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === false) ' + ($coerced) + ' = null; ';\n            } else if (it.opts.coerceTypes == 'array' && $type == 'array') {\n              out += ' else if (' + ($dataType) + ' == \\'string\\' || ' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' == null) ' + ($coerced) + ' = [' + ($data) + ']; ';\n            }\n          }\n        }\n        out += ' else {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } if (' + ($coerced) + ' !== undefined) {  ';\n        var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n          $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n        out += ' ' + ($data) + ' = ' + ($coerced) + '; ';\n        if (!$dataLvl) {\n          out += 'if (' + ($parentData) + ' !== undefined)';\n        }\n        out += ' ' + ($parentData) + '[' + ($parentDataProperty) + '] = ' + ($coerced) + '; } ';\n      } else {\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      }\n      out += ' } ';\n    }\n  }\n  if (it.schema.$ref && !$refKeywords) {\n    out += ' ' + (it.RULES.all.$ref.code(it, '$ref')) + ' ';\n    if ($breakOnError) {\n      out += ' } if (errors === ';\n      if ($top) {\n        out += '0';\n      } else {\n        out += 'errs_' + ($lvl);\n      }\n      out += ') { ';\n      $closingBraces2 += '}';\n    }\n  } else {\n    var arr2 = it.RULES;\n    if (arr2) {\n      var $rulesGroup, i2 = -1,\n        l2 = arr2.length - 1;\n      while (i2 < l2) {\n        $rulesGroup = arr2[i2 += 1];\n        if ($shouldUseGroup($rulesGroup)) {\n          if ($rulesGroup.type) {\n            out += ' if (' + (it.util.checkDataType($rulesGroup.type, $data, it.opts.strictNumbers)) + ') { ';\n          }\n          if (it.opts.useDefaults) {\n            if ($rulesGroup.type == 'object' && it.schema.properties) {\n              var $schema = it.schema.properties,\n                $schemaKeys = Object.keys($schema);\n              var arr3 = $schemaKeys;\n              if (arr3) {\n                var $propertyKey, i3 = -1,\n                  l3 = arr3.length - 1;\n                while (i3 < l3) {\n                  $propertyKey = arr3[i3 += 1];\n                  var $sch = $schema[$propertyKey];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + it.util.getProperty($propertyKey);\n                    if (it.compositeRule) {\n                      if (it.opts.strictDefaults) {\n                        var $defaultMsg = 'default is ignored for: ' + $passData;\n                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n                        else throw new Error($defaultMsg);\n                      }\n                    } else {\n                      out += ' if (' + ($passData) + ' === undefined ';\n                      if (it.opts.useDefaults == 'empty') {\n                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \\'\\' ';\n                      }\n                      out += ' ) ' + ($passData) + ' = ';\n                      if (it.opts.useDefaults == 'shared') {\n                        out += ' ' + (it.useDefault($sch.default)) + ' ';\n                      } else {\n                        out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                      }\n                      out += '; ';\n                    }\n                  }\n                }\n              }\n            } else if ($rulesGroup.type == 'array' && Array.isArray(it.schema.items)) {\n              var arr4 = it.schema.items;\n              if (arr4) {\n                var $sch, $i = -1,\n                  l4 = arr4.length - 1;\n                while ($i < l4) {\n                  $sch = arr4[$i += 1];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + '[' + $i + ']';\n                    if (it.compositeRule) {\n                      if (it.opts.strictDefaults) {\n                        var $defaultMsg = 'default is ignored for: ' + $passData;\n                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n                        else throw new Error($defaultMsg);\n                      }\n                    } else {\n                      out += ' if (' + ($passData) + ' === undefined ';\n                      if (it.opts.useDefaults == 'empty') {\n                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \\'\\' ';\n                      }\n                      out += ' ) ' + ($passData) + ' = ';\n                      if (it.opts.useDefaults == 'shared') {\n                        out += ' ' + (it.useDefault($sch.default)) + ' ';\n                      } else {\n                        out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                      }\n                      out += '; ';\n                    }\n                  }\n                }\n              }\n            }\n          }\n          var arr5 = $rulesGroup.rules;\n          if (arr5) {\n            var $rule, i5 = -1,\n              l5 = arr5.length - 1;\n            while (i5 < l5) {\n              $rule = arr5[i5 += 1];\n              if ($shouldUseRule($rule)) {\n                var $code = $rule.code(it, $rule.keyword, $rulesGroup.type);\n                if ($code) {\n                  out += ' ' + ($code) + ' ';\n                  if ($breakOnError) {\n                    $closingBraces1 += '}';\n                  }\n                }\n              }\n            }\n          }\n          if ($breakOnError) {\n            out += ' ' + ($closingBraces1) + ' ';\n            $closingBraces1 = '';\n          }\n          if ($rulesGroup.type) {\n            out += ' } ';\n            if ($typeSchema && $typeSchema === $rulesGroup.type && !$coerceToTypes) {\n              out += ' else { ';\n              var $schemaPath = it.schemaPath + '.type',\n                $errSchemaPath = it.errSchemaPath + '/type';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n                if ($typeIsArray) {\n                  out += '' + ($typeSchema.join(\",\"));\n                } else {\n                  out += '' + ($typeSchema);\n                }\n                out += '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should be ';\n                  if ($typeIsArray) {\n                    out += '' + ($typeSchema.join(\",\"));\n                  } else {\n                    out += '' + ($typeSchema);\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              out += ' } ';\n            }\n          }\n          if ($breakOnError) {\n            out += ' if (errors === ';\n            if ($top) {\n              out += '0';\n            } else {\n              out += 'errs_' + ($lvl);\n            }\n            out += ') { ';\n            $closingBraces2 += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces2) + ' ';\n  }\n  if ($top) {\n    if ($async) {\n      out += ' if (errors === 0) return data;           ';\n      out += ' else throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; ';\n      out += ' return errors === 0;       ';\n    }\n    out += ' }; return validate;';\n  } else {\n    out += ' var ' + ($valid) + ' = errors === errs_' + ($lvl) + ';';\n  }\n\n  function $shouldUseGroup($rulesGroup) {\n    var rules = $rulesGroup.rules;\n    for (var i = 0; i < rules.length; i++)\n      if ($shouldUseRule(rules[i])) return true;\n  }\n\n  function $shouldUseRule($rule) {\n    return it.schema[$rule.keyword] !== undefined || ($rule.implements && $ruleImplementsSomeKeyword($rule));\n  }\n\n  function $ruleImplementsSomeKeyword($rule) {\n    var impl = $rule.implements;\n    for (var i = 0; i < impl.length; i++)\n      if (it.schema[impl[i]] !== undefined) return true;\n  }\n  return out;\n}\n", "'use strict';\n\nvar resolve = require('./resolve')\n  , util = require('./util')\n  , errorClasses = require('./error_classes')\n  , stableStringify = require('fast-json-stable-stringify');\n\nvar validateGenerator = require('../dotjs/validate');\n\n/**\n * Functions below are used inside compiled validations function\n */\n\nvar ucs2length = util.ucs2length;\nvar equal = require('fast-deep-equal');\n\n// this error is thrown by async schemas to return validation errors via exception\nvar ValidationError = errorClasses.Validation;\n\nmodule.exports = compile;\n\n\n/**\n * Compiles schema to validation function\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Object} root object with information about the root schema for this schema\n * @param  {Object} localRefs the hash of local references inside the schema (created by resolve.id), used for inline resolution\n * @param  {String} baseId base ID for IDs in the schema\n * @return {Function} validation function\n */\nfunction compile(schema, root, localRefs, baseId) {\n  /* jshint validthis: true, evil: true */\n  /* eslint no-shadow: 0 */\n  var self = this\n    , opts = this._opts\n    , refVal = [ undefined ]\n    , refs = {}\n    , patterns = []\n    , patternsHash = {}\n    , defaults = []\n    , defaultsHash = {}\n    , customRules = [];\n\n  root = root || { schema: schema, refVal: refVal, refs: refs };\n\n  var c = checkCompiling.call(this, schema, root, baseId);\n  var compilation = this._compilations[c.index];\n  if (c.compiling) return (compilation.callValidate = callValidate);\n\n  var formats = this._formats;\n  var RULES = this.RULES;\n\n  try {\n    var v = localCompile(schema, root, localRefs, baseId);\n    compilation.validate = v;\n    var cv = compilation.callValidate;\n    if (cv) {\n      cv.schema = v.schema;\n      cv.errors = null;\n      cv.refs = v.refs;\n      cv.refVal = v.refVal;\n      cv.root = v.root;\n      cv.$async = v.$async;\n      if (opts.sourceCode) cv.source = v.source;\n    }\n    return v;\n  } finally {\n    endCompiling.call(this, schema, root, baseId);\n  }\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var validate = compilation.validate;\n    var result = validate.apply(this, arguments);\n    callValidate.errors = validate.errors;\n    return result;\n  }\n\n  function localCompile(_schema, _root, localRefs, baseId) {\n    var isRoot = !_root || (_root && _root.schema == _schema);\n    if (_root.schema != root.schema)\n      return compile.call(self, _schema, _root, localRefs, baseId);\n\n    var $async = _schema.$async === true;\n\n    var sourceCode = validateGenerator({\n      isTop: true,\n      schema: _schema,\n      isRoot: isRoot,\n      baseId: baseId,\n      root: _root,\n      schemaPath: '',\n      errSchemaPath: '#',\n      errorPath: '\"\"',\n      MissingRefError: errorClasses.MissingRef,\n      RULES: RULES,\n      validate: validateGenerator,\n      util: util,\n      resolve: resolve,\n      resolveRef: resolveRef,\n      usePattern: usePattern,\n      useDefault: useDefault,\n      useCustomRule: useCustomRule,\n      opts: opts,\n      formats: formats,\n      logger: self.logger,\n      self: self\n    });\n\n    sourceCode = vars(refVal, refValCode) + vars(patterns, patternCode)\n                   + vars(defaults, defaultCode) + vars(customRules, customRuleCode)\n                   + sourceCode;\n\n    if (opts.processCode) sourceCode = opts.processCode(sourceCode, _schema);\n    // console.log('\\n\\n\\n *** \\n', JSON.stringify(sourceCode));\n    var validate;\n    try {\n      var makeValidate = new Function(\n        'self',\n        'RULES',\n        'formats',\n        'root',\n        'refVal',\n        'defaults',\n        'customRules',\n        'equal',\n        'ucs2length',\n        'ValidationError',\n        sourceCode\n      );\n\n      validate = makeValidate(\n        self,\n        RULES,\n        formats,\n        root,\n        refVal,\n        defaults,\n        customRules,\n        equal,\n        ucs2length,\n        ValidationError\n      );\n\n      refVal[0] = validate;\n    } catch(e) {\n      self.logger.error('Error compiling schema, function code:', sourceCode);\n      throw e;\n    }\n\n    validate.schema = _schema;\n    validate.errors = null;\n    validate.refs = refs;\n    validate.refVal = refVal;\n    validate.root = isRoot ? validate : _root;\n    if ($async) validate.$async = true;\n    if (opts.sourceCode === true) {\n      validate.source = {\n        code: sourceCode,\n        patterns: patterns,\n        defaults: defaults\n      };\n    }\n\n    return validate;\n  }\n\n  function resolveRef(baseId, ref, isRoot) {\n    ref = resolve.url(baseId, ref);\n    var refIndex = refs[ref];\n    var _refVal, refCode;\n    if (refIndex !== undefined) {\n      _refVal = refVal[refIndex];\n      refCode = 'refVal[' + refIndex + ']';\n      return resolvedRef(_refVal, refCode);\n    }\n    if (!isRoot && root.refs) {\n      var rootRefId = root.refs[ref];\n      if (rootRefId !== undefined) {\n        _refVal = root.refVal[rootRefId];\n        refCode = addLocalRef(ref, _refVal);\n        return resolvedRef(_refVal, refCode);\n      }\n    }\n\n    refCode = addLocalRef(ref);\n    var v = resolve.call(self, localCompile, root, ref);\n    if (v === undefined) {\n      var localSchema = localRefs && localRefs[ref];\n      if (localSchema) {\n        v = resolve.inlineRef(localSchema, opts.inlineRefs)\n            ? localSchema\n            : compile.call(self, localSchema, root, localRefs, baseId);\n      }\n    }\n\n    if (v === undefined) {\n      removeLocalRef(ref);\n    } else {\n      replaceLocalRef(ref, v);\n      return resolvedRef(v, refCode);\n    }\n  }\n\n  function addLocalRef(ref, v) {\n    var refId = refVal.length;\n    refVal[refId] = v;\n    refs[ref] = refId;\n    return 'refVal' + refId;\n  }\n\n  function removeLocalRef(ref) {\n    delete refs[ref];\n  }\n\n  function replaceLocalRef(ref, v) {\n    var refId = refs[ref];\n    refVal[refId] = v;\n  }\n\n  function resolvedRef(refVal, code) {\n    return typeof refVal == 'object' || typeof refVal == 'boolean'\n            ? { code: code, schema: refVal, inline: true }\n            : { code: code, $async: refVal && !!refVal.$async };\n  }\n\n  function usePattern(regexStr) {\n    var index = patternsHash[regexStr];\n    if (index === undefined) {\n      index = patternsHash[regexStr] = patterns.length;\n      patterns[index] = regexStr;\n    }\n    return 'pattern' + index;\n  }\n\n  function useDefault(value) {\n    switch (typeof value) {\n      case 'boolean':\n      case 'number':\n        return '' + value;\n      case 'string':\n        return util.toQuotedString(value);\n      case 'object':\n        if (value === null) return 'null';\n        var valueStr = stableStringify(value);\n        var index = defaultsHash[valueStr];\n        if (index === undefined) {\n          index = defaultsHash[valueStr] = defaults.length;\n          defaults[index] = value;\n        }\n        return 'default' + index;\n    }\n  }\n\n  function useCustomRule(rule, schema, parentSchema, it) {\n    if (self._opts.validateSchema !== false) {\n      var deps = rule.definition.dependencies;\n      if (deps && !deps.every(function(keyword) {\n        return Object.prototype.hasOwnProperty.call(parentSchema, keyword);\n      }))\n        throw new Error('parent schema must have all required keywords: ' + deps.join(','));\n\n      var validateSchema = rule.definition.validateSchema;\n      if (validateSchema) {\n        var valid = validateSchema(schema);\n        if (!valid) {\n          var message = 'keyword schema is invalid: ' + self.errorsText(validateSchema.errors);\n          if (self._opts.validateSchema == 'log') self.logger.error(message);\n          else throw new Error(message);\n        }\n      }\n    }\n\n    var compile = rule.definition.compile\n      , inline = rule.definition.inline\n      , macro = rule.definition.macro;\n\n    var validate;\n    if (compile) {\n      validate = compile.call(self, schema, parentSchema, it);\n    } else if (macro) {\n      validate = macro.call(self, schema, parentSchema, it);\n      if (opts.validateSchema !== false) self.validateSchema(validate, true);\n    } else if (inline) {\n      validate = inline.call(self, it, rule.keyword, schema, parentSchema);\n    } else {\n      validate = rule.definition.validate;\n      if (!validate) return;\n    }\n\n    if (validate === undefined)\n      throw new Error('custom keyword \"' + rule.keyword + '\"failed to compile');\n\n    var index = customRules.length;\n    customRules[index] = validate;\n\n    return {\n      code: 'customRule' + index,\n      validate: validate\n    };\n  }\n}\n\n\n/**\n * Checks if the schema is currently compiled\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Object} object with properties \"index\" (compilation index) and \"compiling\" (boolean)\n */\nfunction checkCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var index = compIndex.call(this, schema, root, baseId);\n  if (index >= 0) return { index: index, compiling: true };\n  index = this._compilations.length;\n  this._compilations[index] = {\n    schema: schema,\n    root: root,\n    baseId: baseId\n  };\n  return { index: index, compiling: false };\n}\n\n\n/**\n * Removes the schema from the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n */\nfunction endCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var i = compIndex.call(this, schema, root, baseId);\n  if (i >= 0) this._compilations.splice(i, 1);\n}\n\n\n/**\n * Index of schema compilation in the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Integer} compilation index\n */\nfunction compIndex(schema, root, baseId) {\n  /* jshint validthis: true */\n  for (var i=0; i<this._compilations.length; i++) {\n    var c = this._compilations[i];\n    if (c.schema == schema && c.root == root && c.baseId == baseId) return i;\n  }\n  return -1;\n}\n\n\nfunction patternCode(i, patterns) {\n  return 'var pattern' + i + ' = new RegExp(' + util.toQuotedString(patterns[i]) + ');';\n}\n\n\nfunction defaultCode(i) {\n  return 'var default' + i + ' = defaults[' + i + '];';\n}\n\n\nfunction refValCode(i, refVal) {\n  return refVal[i] === undefined ? '' : 'var refVal' + i + ' = refVal[' + i + '];';\n}\n\n\nfunction customRuleCode(i) {\n  return 'var customRule' + i + ' = customRules[' + i + '];';\n}\n\n\nfunction vars(arr, statement) {\n  if (!arr.length) return '';\n  var code = '';\n  for (var i=0; i<arr.length; i++)\n    code += statement(i, arr);\n  return code;\n}\n", "'use strict';\n\n\nvar Cache = module.exports = function Cache() {\n  this._cache = {};\n};\n\n\nCache.prototype.put = function Cache_put(key, value) {\n  this._cache[key] = value;\n};\n\n\nCache.prototype.get = function Cache_get(key) {\n  return this._cache[key];\n};\n\n\nCache.prototype.del = function Cache_del(key) {\n  delete this._cache[key];\n};\n\n\nCache.prototype.clear = function Cache_clear() {\n  this._cache = {};\n};\n", "'use strict';\n\nvar util = require('./util');\n\nvar DATE = /^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/;\nvar DAYS = [0,31,28,31,30,31,30,31,31,30,31,30,31];\nvar TIME = /^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d(?::?\\d\\d)?)?$/i;\nvar HOSTNAME = /^(?=.{1,253}\\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\\.?$/i;\nvar URI = /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\nvar URIREF = /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\n// uri-template: https://tools.ietf.org/html/rfc6570\nvar URITEMPLATE = /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i;\n// For the source: https://gist.github.com/dperini/729294\n// For test cases: https://mathiasbynens.be/demo/url-regex\n// @todo Delete current URL in favour of the commented out URL rule when this issue is fixed https://github.com/eslint/eslint/issues/7983.\n// var URL = /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-)*[a-z\\u{00a1}-\\u{ffff}0-9]+)(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-)*[a-z\\u{00a1}-\\u{ffff}0-9]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu;\nvar URL = /^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-)*(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-)*(?:[0-9a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[a-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i;\nvar UUID = /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;\nvar JSON_POINTER = /^(?:\\/(?:[^~/]|~0|~1)*)*$/;\nvar JSON_POINTER_URI_FRAGMENT = /^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;\nvar RELATIVE_JSON_POINTER = /^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/;\n\n\nmodule.exports = formats;\n\nfunction formats(mode) {\n  mode = mode == 'full' ? 'full' : 'fast';\n  return util.copy(formats[mode]);\n}\n\n\nformats.fast = {\n  // date: http://tools.ietf.org/html/rfc3339#section-5.6\n  date: /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,\n  // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n  time: /^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)?$/i,\n  'date-time': /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/i,\n  // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\n  uri: /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/)?[^\\s]*$/i,\n  'uri-reference': /^(?:(?:[a-z][a-z0-9+\\-.]*:)?\\/?\\/)?(?:[^\\\\\\s#][^\\s#]*)?(?:#[^\\\\\\s]*)?$/i,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  // email (sources from jsen validator):\n  // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n  // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')\n  email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\n  hostname: HOSTNAME,\n  // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  // optimized http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  // uuid: http://tools.ietf.org/html/rfc4122\n  uuid: UUID,\n  // JSON-pointer: https://tools.ietf.org/html/rfc6901\n  // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nformats.full = {\n  date: date,\n  time: time,\n  'date-time': date_time,\n  uri: uri,\n  'uri-reference': URIREF,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n  hostname: HOSTNAME,\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  uuid: UUID,\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nfunction isLeapYear(year) {\n  // https://tools.ietf.org/html/rfc3339#appendix-C\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\n\n\nfunction date(str) {\n  // full-date from http://tools.ietf.org/html/rfc3339#section-5.6\n  var matches = str.match(DATE);\n  if (!matches) return false;\n\n  var year = +matches[1];\n  var month = +matches[2];\n  var day = +matches[3];\n\n  return month >= 1 && month <= 12 && day >= 1 &&\n          day <= (month == 2 && isLeapYear(year) ? 29 : DAYS[month]);\n}\n\n\nfunction time(str, full) {\n  var matches = str.match(TIME);\n  if (!matches) return false;\n\n  var hour = matches[1];\n  var minute = matches[2];\n  var second = matches[3];\n  var timeZone = matches[5];\n  return ((hour <= 23 && minute <= 59 && second <= 59) ||\n          (hour == 23 && minute == 59 && second == 60)) &&\n         (!full || timeZone);\n}\n\n\nvar DATE_TIME_SEPARATOR = /t|\\s/i;\nfunction date_time(str) {\n  // http://tools.ietf.org/html/rfc3339#section-5.6\n  var dateTime = str.split(DATE_TIME_SEPARATOR);\n  return dateTime.length == 2 && date(dateTime[0]) && time(dateTime[1], true);\n}\n\n\nvar NOT_URI_FRAGMENT = /\\/|:/;\nfunction uri(str) {\n  // http://jmrware.com/articles/2009/uri_regexp/URI_regex.html + optional protocol + required \".\"\n  return NOT_URI_FRAGMENT.test(str) && URI.test(str);\n}\n\n\nvar Z_ANCHOR = /[^\\\\]\\\\Z/;\nfunction regex(str) {\n  if (Z_ANCHOR.test(str)) return false;\n  try {\n    new RegExp(str);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n", "'use strict';\nmodule.exports = function generate_ref(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $async, $refCode;\n  if ($schema == '#' || $schema == '#/') {\n    if (it.isRoot) {\n      $async = it.async;\n      $refCode = 'validate';\n    } else {\n      $async = it.root.schema.$async === true;\n      $refCode = 'root.refVal[0]';\n    }\n  } else {\n    var $refVal = it.resolveRef(it.baseId, $schema, it.isRoot);\n    if ($refVal === undefined) {\n      var $message = it.MissingRefError.message(it.baseId, $schema);\n      if (it.opts.missingRefs == 'fail') {\n        it.logger.error($message);\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('$ref') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { ref: \\'' + (it.util.escapeQuotes($schema)) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'can\\\\\\'t resolve reference ' + (it.util.escapeQuotes($schema)) + '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: ' + (it.util.toQuotedString($schema)) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        if ($breakOnError) {\n          out += ' if (false) { ';\n        }\n      } else if (it.opts.missingRefs == 'ignore') {\n        it.logger.warn($message);\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n      } else {\n        throw new it.MissingRefError(it.baseId, $schema, $message);\n      }\n    } else if ($refVal.inline) {\n      var $it = it.util.copy(it);\n      $it.level++;\n      var $nextValid = 'valid' + $it.level;\n      $it.schema = $refVal.schema;\n      $it.schemaPath = '';\n      $it.errSchemaPath = $schema;\n      var $code = it.validate($it).replace(/validate\\.schema/g, $refVal.code);\n      out += ' ' + ($code) + ' ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n      }\n    } else {\n      $async = $refVal.$async === true || (it.async && $refVal.$async !== false);\n      $refCode = $refVal.code;\n    }\n  }\n  if ($refCode) {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    if (it.opts.passContext) {\n      out += ' ' + ($refCode) + '.call(this, ';\n    } else {\n      out += ' ' + ($refCode) + '( ';\n    }\n    out += ' ' + ($data) + ', (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ', rootData)  ';\n    var __callValidate = out;\n    out = $$outStack.pop();\n    if ($async) {\n      if (!it.async) throw new Error('async schema referenced by sync schema');\n      if ($breakOnError) {\n        out += ' var ' + ($valid) + '; ';\n      }\n      out += ' try { await ' + (__callValidate) + '; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = true; ';\n      }\n      out += ' } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = false; ';\n      }\n      out += ' } ';\n      if ($breakOnError) {\n        out += ' if (' + ($valid) + ') { ';\n      }\n    } else {\n      out += ' if (!' + (__callValidate) + ') { if (vErrors === null) vErrors = ' + ($refCode) + '.errors; else vErrors = vErrors.concat(' + ($refCode) + '.errors); errors = vErrors.length; } ';\n      if ($breakOnError) {\n        out += ' else { ';\n      }\n    }\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_allOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $allSchemasEmpty = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n        $allSchemasEmpty = false;\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    if ($allSchemasEmpty) {\n      out += ' if (true) { ';\n    } else {\n      out += ' ' + ($closingBraces.slice(0, -1)) + ' ';\n    }\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_anyOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $noEmptySchema = $schema.every(function($sch) {\n    return (it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all));\n  });\n  if ($noEmptySchema) {\n    var $currentBaseId = $it.baseId;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = false;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        out += ' ' + ($valid) + ' = ' + ($valid) + ' || ' + ($nextValid) + '; if (!' + ($valid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('anyOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match some schema in anyOf\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_comment(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $comment = it.util.toQuotedString($schema);\n  if (it.opts.$comment === true) {\n    out += ' console.log(' + ($comment) + ');';\n  } else if (typeof it.opts.$comment == 'function') {\n    out += ' self._opts.$comment(' + ($comment) + ', ' + (it.util.toQuotedString($errSchemaPath)) + ', validate.root.schema);';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_const(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!$isData) {\n    out += ' var schema' + ($lvl) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ' = equal(' + ($data) + ', schema' + ($lvl) + '); if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('const') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValue: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to constant\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_contains(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId,\n    $nonEmptySchema = (it.opts.strictKeywords ? (typeof $schema == 'object' && Object.keys($schema).length > 0) || $schema === false : it.util.schemaHasRules($schema, it.RULES.all));\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($nonEmptySchema) {\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($nextValid) + ' = false; for (var ' + ($idx) + ' = 0; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    out += ' if (' + ($nextValid) + ') break; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($nextValid) + ') {';\n  } else {\n    out += ' if (' + ($data) + '.length == 0) {';\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('contains') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should contain a valid item\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } else { ';\n  if ($nonEmptySchema) {\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n  }\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_dependencies(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $schemaDeps = {},\n    $propertyDeps = {},\n    $ownProperties = it.opts.ownProperties;\n  for ($property in $schema) {\n    if ($property == '__proto__') continue;\n    var $sch = $schema[$property];\n    var $deps = Array.isArray($sch) ? $propertyDeps : $schemaDeps;\n    $deps[$property] = $sch;\n  }\n  out += 'var ' + ($errs) + ' = errors;';\n  var $currentErrorPath = it.errorPath;\n  out += 'var missing' + ($lvl) + ';';\n  for (var $property in $propertyDeps) {\n    $deps = $propertyDeps[$property];\n    if ($deps.length) {\n      out += ' if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      if ($breakOnError) {\n        out += ' && ( ';\n        var arr1 = $deps;\n        if (arr1) {\n          var $propertyKey, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $propertyKey = arr1[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ')) {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should have ';\n            if ($deps.length == 1) {\n              out += 'property ' + (it.util.escapeQuotes($deps[0]));\n            } else {\n              out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n            }\n            out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      } else {\n        out += ' ) { ';\n        var arr2 = $deps;\n        if (arr2) {\n          var $propertyKey, i2 = -1,\n            l2 = arr2.length - 1;\n          while (i2 < l2) {\n            $propertyKey = arr2[i2 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'should have ';\n                if ($deps.length == 1) {\n                  out += 'property ' + (it.util.escapeQuotes($deps[0]));\n                } else {\n                  out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n                }\n                out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n      out += ' }   ';\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n  }\n  it.errorPath = $currentErrorPath;\n  var $currentBaseId = $it.baseId;\n  for (var $property in $schemaDeps) {\n    var $sch = $schemaDeps[$property];\n    if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n      out += ' ' + ($nextValid) + ' = true; if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      out += ') { ';\n      $it.schema = $sch;\n      $it.schemaPath = $schemaPath + it.util.getProperty($property);\n      $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($property);\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += '   ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_enum(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $i = 'i' + $lvl,\n    $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ';';\n  if ($isData) {\n    out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n  }\n  out += '' + ($valid) + ' = false;for (var ' + ($i) + '=0; ' + ($i) + '<' + ($vSchema) + '.length; ' + ($i) + '++) if (equal(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + '])) { ' + ($valid) + ' = true; break; }';\n  if ($isData) {\n    out += '  }  ';\n  }\n  out += ' if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('enum') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValues: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to one of the allowed values\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_format(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  if (it.opts.format === false) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n    return out;\n  }\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $unknownFormats = it.opts.unknownFormats,\n    $allowUnknown = Array.isArray($unknownFormats);\n  if ($isData) {\n    var $format = 'format' + $lvl,\n      $isObject = 'isObject' + $lvl,\n      $formatType = 'formatType' + $lvl;\n    out += ' var ' + ($format) + ' = formats[' + ($schemaValue) + ']; var ' + ($isObject) + ' = typeof ' + ($format) + ' == \\'object\\' && !(' + ($format) + ' instanceof RegExp) && ' + ($format) + '.validate; var ' + ($formatType) + ' = ' + ($isObject) + ' && ' + ($format) + '.type || \\'string\\'; if (' + ($isObject) + ') { ';\n    if (it.async) {\n      out += ' var async' + ($lvl) + ' = ' + ($format) + '.async; ';\n    }\n    out += ' ' + ($format) + ' = ' + ($format) + '.validate; } if (  ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n    }\n    out += ' (';\n    if ($unknownFormats != 'ignore') {\n      out += ' (' + ($schemaValue) + ' && !' + ($format) + ' ';\n      if ($allowUnknown) {\n        out += ' && self._opts.unknownFormats.indexOf(' + ($schemaValue) + ') == -1 ';\n      }\n      out += ') || ';\n    }\n    out += ' (' + ($format) + ' && ' + ($formatType) + ' == \\'' + ($ruleType) + '\\' && !(typeof ' + ($format) + ' == \\'function\\' ? ';\n    if (it.async) {\n      out += ' (async' + ($lvl) + ' ? await ' + ($format) + '(' + ($data) + ') : ' + ($format) + '(' + ($data) + ')) ';\n    } else {\n      out += ' ' + ($format) + '(' + ($data) + ') ';\n    }\n    out += ' : ' + ($format) + '.test(' + ($data) + '))))) {';\n  } else {\n    var $format = it.formats[$schema];\n    if (!$format) {\n      if ($unknownFormats == 'ignore') {\n        it.logger.warn('unknown format \"' + $schema + '\" ignored in schema at path \"' + it.errSchemaPath + '\"');\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else if ($allowUnknown && $unknownFormats.indexOf($schema) >= 0) {\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else {\n        throw new Error('unknown format \"' + $schema + '\" is used in schema at path \"' + it.errSchemaPath + '\"');\n      }\n    }\n    var $isObject = typeof $format == 'object' && !($format instanceof RegExp) && $format.validate;\n    var $formatType = $isObject && $format.type || 'string';\n    if ($isObject) {\n      var $async = $format.async === true;\n      $format = $format.validate;\n    }\n    if ($formatType != $ruleType) {\n      if ($breakOnError) {\n        out += ' if (true) { ';\n      }\n      return out;\n    }\n    if ($async) {\n      if (!it.async) throw new Error('async format in sync schema');\n      var $formatRef = 'formats' + it.util.getProperty($schema) + '.validate';\n      out += ' if (!(await ' + ($formatRef) + '(' + ($data) + '))) { ';\n    } else {\n      out += ' if (! ';\n      var $formatRef = 'formats' + it.util.getProperty($schema);\n      if ($isObject) $formatRef += '.validate';\n      if (typeof $format == 'function') {\n        out += ' ' + ($formatRef) + '(' + ($data) + ') ';\n      } else {\n        out += ' ' + ($formatRef) + '.test(' + ($data) + ') ';\n      }\n      out += ') { ';\n    }\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('format') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { format:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match format \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_if(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $thenSch = it.schema['then'],\n    $elseSch = it.schema['else'],\n    $thenPresent = $thenSch !== undefined && (it.opts.strictKeywords ? (typeof $thenSch == 'object' && Object.keys($thenSch).length > 0) || $thenSch === false : it.util.schemaHasRules($thenSch, it.RULES.all)),\n    $elsePresent = $elseSch !== undefined && (it.opts.strictKeywords ? (typeof $elseSch == 'object' && Object.keys($elseSch).length > 0) || $elseSch === false : it.util.schemaHasRules($elseSch, it.RULES.all)),\n    $currentBaseId = $it.baseId;\n  if ($thenPresent || $elsePresent) {\n    var $ifClause;\n    $it.createErrors = false;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = true;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    out += '  ' + (it.validate($it)) + ' ';\n    $it.baseId = $currentBaseId;\n    $it.createErrors = true;\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    if ($thenPresent) {\n      out += ' if (' + ($nextValid) + ') {  ';\n      $it.schema = it.schema['then'];\n      $it.schemaPath = it.schemaPath + '.then';\n      $it.errSchemaPath = it.errSchemaPath + '/then';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'then\\'; ';\n      } else {\n        $ifClause = '\\'then\\'';\n      }\n      out += ' } ';\n      if ($elsePresent) {\n        out += ' else { ';\n      }\n    } else {\n      out += ' if (!' + ($nextValid) + ') { ';\n    }\n    if ($elsePresent) {\n      $it.schema = it.schema['else'];\n      $it.schemaPath = it.schemaPath + '.else';\n      $it.errSchemaPath = it.errSchemaPath + '/else';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'else\\'; ';\n      } else {\n        $ifClause = '\\'else\\'';\n      }\n      out += ' } ';\n    }\n    out += ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('if') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { failingKeyword: ' + ($ifClause) + ' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match \"\\' + ' + ($ifClause) + ' + \\'\" schema\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' }   ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_items(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId;\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if (Array.isArray($schema)) {\n    var $additionalItems = it.schema.additionalItems;\n    if ($additionalItems === false) {\n      out += ' ' + ($valid) + ' = ' + ($data) + '.length <= ' + ($schema.length) + '; ';\n      var $currErrSchemaPath = $errSchemaPath;\n      $errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += '  if (!' + ($valid) + ') {   ';\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ('additionalItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schema.length) + ' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should NOT have more than ' + ($schema.length) + ' items\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n      out += ' } ';\n      $errSchemaPath = $currErrSchemaPath;\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n          out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($i) + ') { ';\n          var $passData = $data + '[' + $i + ']';\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + '[' + $i + ']';\n          $it.errSchemaPath = $errSchemaPath + '/' + $i;\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $i, it.opts.jsonPointers, true);\n          $it.dataPathArr[$dataNxt] = $i;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n    if (typeof $additionalItems == 'object' && (it.opts.strictKeywords ? (typeof $additionalItems == 'object' && Object.keys($additionalItems).length > 0) || $additionalItems === false : it.util.schemaHasRules($additionalItems, it.RULES.all))) {\n      $it.schema = $additionalItems;\n      $it.schemaPath = it.schemaPath + '.additionalItems';\n      $it.errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($schema.length) + ') {  for (var ' + ($idx) + ' = ' + ($schema.length) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n      $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n      var $passData = $data + '[' + $idx + ']';\n      $it.dataPathArr[$dataNxt] = $idx;\n      var $code = it.validate($it);\n      $it.baseId = $currentBaseId;\n      if (it.util.varOccurences($code, $nextData) < 2) {\n        out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n      } else {\n        out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n      }\n      if ($breakOnError) {\n        out += ' if (!' + ($nextValid) + ') break; ';\n      }\n      out += ' } }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  } else if ((it.opts.strictKeywords ? (typeof $schema == 'object' && Object.keys($schema).length > 0) || $schema === false : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += '  for (var ' + ($idx) + ' = ' + (0) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    if ($breakOnError) {\n      out += ' if (!' + ($nextValid) + ') break; ';\n    }\n    out += ' }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate__limit(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $isMax = $keyword == 'maximum',\n    $exclusiveKeyword = $isMax ? 'exclusiveMaximum' : 'exclusiveMinimum',\n    $schemaExcl = it.schema[$exclusiveKeyword],\n    $isDataExcl = it.opts.$data && $schemaExcl && $schemaExcl.$data,\n    $op = $isMax ? '<' : '>',\n    $notOp = $isMax ? '>' : '<',\n    $errorKeyword = undefined;\n  if (!($isData || typeof $schema == 'number' || $schema === undefined)) {\n    throw new Error($keyword + ' must be number');\n  }\n  if (!($isDataExcl || $schemaExcl === undefined || typeof $schemaExcl == 'number' || typeof $schemaExcl == 'boolean')) {\n    throw new Error($exclusiveKeyword + ' must be number or boolean');\n  }\n  if ($isDataExcl) {\n    var $schemaValueExcl = it.util.getData($schemaExcl.$data, $dataLvl, it.dataPathArr),\n      $exclusive = 'exclusive' + $lvl,\n      $exclType = 'exclType' + $lvl,\n      $exclIsNumber = 'exclIsNumber' + $lvl,\n      $opExpr = 'op' + $lvl,\n      $opStr = '\\' + ' + $opExpr + ' + \\'';\n    out += ' var schemaExcl' + ($lvl) + ' = ' + ($schemaValueExcl) + '; ';\n    $schemaValueExcl = 'schemaExcl' + $lvl;\n    out += ' var ' + ($exclusive) + '; var ' + ($exclType) + ' = typeof ' + ($schemaValueExcl) + '; if (' + ($exclType) + ' != \\'boolean\\' && ' + ($exclType) + ' != \\'undefined\\' && ' + ($exclType) + ' != \\'number\\') { ';\n    var $errorKeyword = $exclusiveKeyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || '_exclusiveLimit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'' + ($exclusiveKeyword) + ' should be boolean\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else if ( ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n    }\n    out += ' ' + ($exclType) + ' == \\'number\\' ? ( (' + ($exclusive) + ' = ' + ($schemaValue) + ' === undefined || ' + ($schemaValueExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ') ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValueExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) : ( (' + ($exclusive) + ' = ' + ($schemaValueExcl) + ' === true) ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValue) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { var op' + ($lvl) + ' = ' + ($exclusive) + ' ? \\'' + ($op) + '\\' : \\'' + ($op) + '=\\'; ';\n    if ($schema === undefined) {\n      $errorKeyword = $exclusiveKeyword;\n      $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n      $schemaValue = $schemaValueExcl;\n      $isData = $isDataExcl;\n    }\n  } else {\n    var $exclIsNumber = typeof $schemaExcl == 'number',\n      $opStr = $op;\n    if ($exclIsNumber && $isData) {\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ( ' + ($schemaValue) + ' === undefined || ' + ($schemaExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ' ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { ';\n    } else {\n      if ($exclIsNumber && $schema === undefined) {\n        $exclusive = true;\n        $errorKeyword = $exclusiveKeyword;\n        $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n        $schemaValue = $schemaExcl;\n        $notOp += '=';\n      } else {\n        if ($exclIsNumber) $schemaValue = Math[$isMax ? 'min' : 'max']($schemaExcl, $schema);\n        if ($schemaExcl === ($exclIsNumber ? $schemaValue : true)) {\n          $exclusive = true;\n          $errorKeyword = $exclusiveKeyword;\n          $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n          $notOp += '=';\n        } else {\n          $exclusive = false;\n          $opStr += '=';\n        }\n      }\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' || ' + ($data) + ' !== ' + ($data) + ') { ';\n    }\n  }\n  $errorKeyword = $errorKeyword || $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { comparison: ' + ($opExpr) + ', limit: ' + ($schemaValue) + ', exclusive: ' + ($exclusive) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be ' + ($opStr) + ' ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate__limitItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  var $op = $keyword == 'maxItems' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' ' + ($data) + '.length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxItems') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' items\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate__limitLength(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  var $op = $keyword == 'maxLength' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  if (it.opts.unicode === false) {\n    out += ' ' + ($data) + '.length ';\n  } else {\n    out += ' ucs2length(' + ($data) + ') ';\n  }\n  out += ' ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitLength') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT be ';\n      if ($keyword == 'maxLength') {\n        out += 'longer';\n      } else {\n        out += 'shorter';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' characters\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate__limitProperties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  var $op = $keyword == 'maxProperties' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' Object.keys(' + ($data) + ').length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxProperties') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' properties\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_multipleOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!($isData || typeof $schema == 'number')) {\n    throw new Error($keyword + ' must be number');\n  }\n  out += 'var division' + ($lvl) + ';if (';\n  if ($isData) {\n    out += ' ' + ($schemaValue) + ' !== undefined && ( typeof ' + ($schemaValue) + ' != \\'number\\' || ';\n  }\n  out += ' (division' + ($lvl) + ' = ' + ($data) + ' / ' + ($schemaValue) + ', ';\n  if (it.opts.multipleOfPrecision) {\n    out += ' Math.abs(Math.round(division' + ($lvl) + ') - division' + ($lvl) + ') > 1e-' + (it.opts.multipleOfPrecision) + ' ';\n  } else {\n    out += ' division' + ($lvl) + ' !== parseInt(division' + ($lvl) + ') ';\n  }\n  out += ' ) ';\n  if ($isData) {\n    out += '  )  ';\n  }\n  out += ' ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('multipleOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { multipleOf: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be multiple of ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_not(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  if ((it.opts.strictKeywords ? (typeof $schema == 'object' && Object.keys($schema).length > 0) || $schema === false : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.createErrors = false;\n    var $allErrorsOption;\n    if ($it.opts.allErrors) {\n      $allErrorsOption = $it.opts.allErrors;\n      $it.opts.allErrors = false;\n    }\n    out += ' ' + (it.validate($it)) + ' ';\n    $it.createErrors = true;\n    if ($allErrorsOption) $it.opts.allErrors = $allErrorsOption;\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (' + ($nextValid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n  } else {\n    out += '  var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if ($breakOnError) {\n      out += ' if (false) { ';\n    }\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_oneOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $prevValid = 'prevValid' + $lvl,\n    $passingSchemas = 'passingSchemas' + $lvl;\n  out += 'var ' + ($errs) + ' = errors , ' + ($prevValid) + ' = false , ' + ($valid) + ' = false , ' + ($passingSchemas) + ' = null; ';\n  var $wasComposite = it.compositeRule;\n  it.compositeRule = $it.compositeRule = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n      } else {\n        out += ' var ' + ($nextValid) + ' = true; ';\n      }\n      if ($i) {\n        out += ' if (' + ($nextValid) + ' && ' + ($prevValid) + ') { ' + ($valid) + ' = false; ' + ($passingSchemas) + ' = [' + ($passingSchemas) + ', ' + ($i) + ']; } else { ';\n        $closingBraces += '}';\n      }\n      out += ' if (' + ($nextValid) + ') { ' + ($valid) + ' = ' + ($prevValid) + ' = true; ' + ($passingSchemas) + ' = ' + ($i) + '; }';\n    }\n  }\n  it.compositeRule = $it.compositeRule = $wasComposite;\n  out += '' + ($closingBraces) + 'if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('oneOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { passingSchemas: ' + ($passingSchemas) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match exactly one schema in oneOf\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; return false; ';\n    }\n  }\n  out += '} else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }';\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_pattern(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $regexp = $isData ? '(new RegExp(' + $schemaValue + '))' : it.usePattern($schema);\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n  }\n  out += ' !' + ($regexp) + '.test(' + ($data) + ') ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('pattern') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { pattern:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match pattern \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_properties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $key = 'key' + $lvl,\n    $idx = 'idx' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $dataProperties = 'dataProperties' + $lvl;\n  var $schemaKeys = Object.keys($schema || {}).filter(notProto),\n    $pProperties = it.schema.patternProperties || {},\n    $pPropertyKeys = Object.keys($pProperties).filter(notProto),\n    $aProperties = it.schema.additionalProperties,\n    $someProperties = $schemaKeys.length || $pPropertyKeys.length,\n    $noAdditional = $aProperties === false,\n    $additionalIsSchema = typeof $aProperties == 'object' && Object.keys($aProperties).length,\n    $removeAdditional = it.opts.removeAdditional,\n    $checkAdditional = $noAdditional || $additionalIsSchema || $removeAdditional,\n    $ownProperties = it.opts.ownProperties,\n    $currentBaseId = it.baseId;\n  var $required = it.schema.required;\n  if ($required && !(it.opts.$data && $required.$data) && $required.length < it.opts.loopRequired) {\n    var $requiredHash = it.util.toHash($required);\n  }\n\n  function notProto(p) {\n    return p !== '__proto__';\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($nextValid) + ' = true;';\n  if ($ownProperties) {\n    out += ' var ' + ($dataProperties) + ' = undefined;';\n  }\n  if ($checkAdditional) {\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    if ($someProperties) {\n      out += ' var isAdditional' + ($lvl) + ' = !(false ';\n      if ($schemaKeys.length) {\n        if ($schemaKeys.length > 8) {\n          out += ' || validate.schema' + ($schemaPath) + '.hasOwnProperty(' + ($key) + ') ';\n        } else {\n          var arr1 = $schemaKeys;\n          if (arr1) {\n            var $propertyKey, i1 = -1,\n              l1 = arr1.length - 1;\n            while (i1 < l1) {\n              $propertyKey = arr1[i1 += 1];\n              out += ' || ' + ($key) + ' == ' + (it.util.toQuotedString($propertyKey)) + ' ';\n            }\n          }\n        }\n      }\n      if ($pPropertyKeys.length) {\n        var arr2 = $pPropertyKeys;\n        if (arr2) {\n          var $pProperty, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $pProperty = arr2[$i += 1];\n            out += ' || ' + (it.usePattern($pProperty)) + '.test(' + ($key) + ') ';\n          }\n        }\n      }\n      out += ' ); if (isAdditional' + ($lvl) + ') { ';\n    }\n    if ($removeAdditional == 'all') {\n      out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n    } else {\n      var $currentErrorPath = it.errorPath;\n      var $additionalProperty = '\\' + ' + $key + ' + \\'';\n      if (it.opts._errorDataPathProperty) {\n        it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n      }\n      if ($noAdditional) {\n        if ($removeAdditional) {\n          out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n        } else {\n          out += ' ' + ($nextValid) + ' = false; ';\n          var $currErrSchemaPath = $errSchemaPath;\n          $errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          var $$outStack = $$outStack || [];\n          $$outStack.push(out);\n          out = ''; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('additionalProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { additionalProperty: \\'' + ($additionalProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is an invalid additional property';\n              } else {\n                out += 'should NOT have additional properties';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          var __err = out;\n          out = $$outStack.pop();\n          if (!it.compositeRule && $breakOnError) {\n            /* istanbul ignore if */\n            if (it.async) {\n              out += ' throw new ValidationError([' + (__err) + ']); ';\n            } else {\n              out += ' validate.errors = [' + (__err) + ']; return false; ';\n            }\n          } else {\n            out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n          }\n          $errSchemaPath = $currErrSchemaPath;\n          if ($breakOnError) {\n            out += ' break; ';\n          }\n        }\n      } else if ($additionalIsSchema) {\n        if ($removeAdditional == 'failing') {\n          out += ' var ' + ($errs) + ' = errors;  ';\n          var $wasComposite = it.compositeRule;\n          it.compositeRule = $it.compositeRule = true;\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' if (!' + ($nextValid) + ') { errors = ' + ($errs) + '; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete ' + ($data) + '[' + ($key) + ']; }  ';\n          it.compositeRule = $it.compositeRule = $wasComposite;\n        } else {\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n        }\n      }\n      it.errorPath = $currentErrorPath;\n    }\n    if ($someProperties) {\n      out += ' } ';\n    }\n    out += ' }  ';\n    if ($breakOnError) {\n      out += ' if (' + ($nextValid) + ') { ';\n      $closingBraces += '}';\n    }\n  }\n  var $useDefaults = it.opts.useDefaults && !it.compositeRule;\n  if ($schemaKeys.length) {\n    var arr3 = $schemaKeys;\n    if (arr3) {\n      var $propertyKey, i3 = -1,\n        l3 = arr3.length - 1;\n      while (i3 < l3) {\n        $propertyKey = arr3[i3 += 1];\n        var $sch = $schema[$propertyKey];\n        if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n          var $prop = it.util.getProperty($propertyKey),\n            $passData = $data + $prop,\n            $hasDefault = $useDefaults && $sch.default !== undefined;\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + $prop;\n          $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($propertyKey);\n          $it.errorPath = it.util.getPath(it.errorPath, $propertyKey, it.opts.jsonPointers);\n          $it.dataPathArr[$dataNxt] = it.util.toQuotedString($propertyKey);\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            $code = it.util.varReplace($code, $nextData, $passData);\n            var $useData = $passData;\n          } else {\n            var $useData = $nextData;\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ';\n          }\n          if ($hasDefault) {\n            out += ' ' + ($code) + ' ';\n          } else {\n            if ($requiredHash && $requiredHash[$propertyKey]) {\n              out += ' if ( ' + ($useData) + ' === undefined ';\n              if ($ownProperties) {\n                out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n              }\n              out += ') { ' + ($nextValid) + ' = false; ';\n              var $currentErrorPath = it.errorPath,\n                $currErrSchemaPath = $errSchemaPath,\n                $missingProperty = it.util.escapeQuotes($propertyKey);\n              if (it.opts._errorDataPathProperty) {\n                it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n              }\n              $errSchemaPath = it.errSchemaPath + '/required';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'';\n                  if (it.opts._errorDataPathProperty) {\n                    out += 'is a required property';\n                  } else {\n                    out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              $errSchemaPath = $currErrSchemaPath;\n              it.errorPath = $currentErrorPath;\n              out += ' } else { ';\n            } else {\n              if ($breakOnError) {\n                out += ' if ( ' + ($useData) + ' === undefined ';\n                if ($ownProperties) {\n                  out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ') { ' + ($nextValid) + ' = true; } else { ';\n              } else {\n                out += ' if (' + ($useData) + ' !== undefined ';\n                if ($ownProperties) {\n                  out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ' ) { ';\n              }\n            }\n            out += ' ' + ($code) + ' } ';\n          }\n        }\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($pPropertyKeys.length) {\n    var arr4 = $pPropertyKeys;\n    if (arr4) {\n      var $pProperty, i4 = -1,\n        l4 = arr4.length - 1;\n      while (i4 < l4) {\n        $pProperty = arr4[i4 += 1];\n        var $sch = $pProperties[$pProperty];\n        if ((it.opts.strictKeywords ? (typeof $sch == 'object' && Object.keys($sch).length > 0) || $sch === false : it.util.schemaHasRules($sch, it.RULES.all))) {\n          $it.schema = $sch;\n          $it.schemaPath = it.schemaPath + '.patternProperties' + it.util.getProperty($pProperty);\n          $it.errSchemaPath = it.errSchemaPath + '/patternProperties/' + it.util.escapeFragment($pProperty);\n          if ($ownProperties) {\n            out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n          } else {\n            out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n          }\n          out += ' if (' + (it.usePattern($pProperty)) + '.test(' + ($key) + ')) { ';\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n          out += ' } ';\n          if ($breakOnError) {\n            out += ' else ' + ($nextValid) + ' = true; ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_propertyNames(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  out += 'var ' + ($errs) + ' = errors;';\n  if ((it.opts.strictKeywords ? (typeof $schema == 'object' && Object.keys($schema).length > 0) || $schema === false : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    var $key = 'key' + $lvl,\n      $idx = 'idx' + $lvl,\n      $i = 'i' + $lvl,\n      $invalidName = '\\' + ' + $key + ' + \\'',\n      $dataNxt = $it.dataLevel = it.dataLevel + 1,\n      $nextData = 'data' + $dataNxt,\n      $dataProperties = 'dataProperties' + $lvl,\n      $ownProperties = it.opts.ownProperties,\n      $currentBaseId = it.baseId;\n    if ($ownProperties) {\n      out += ' var ' + ($dataProperties) + ' = undefined; ';\n    }\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    out += ' var startErrs' + ($lvl) + ' = errors; ';\n    var $passData = $key;\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (!' + ($nextValid) + ') { for (var ' + ($i) + '=startErrs' + ($lvl) + '; ' + ($i) + '<errors; ' + ($i) + '++) { vErrors[' + ($i) + '].propertyName = ' + ($key) + '; }   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('propertyNames') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { propertyName: \\'' + ($invalidName) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'property name \\\\\\'' + ($invalidName) + '\\\\\\' is invalid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    if ($breakOnError) {\n      out += ' break; ';\n    }\n    out += ' } }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_required(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    if ($schema.length < it.opts.loopRequired && it.schema.properties && Object.keys(it.schema.properties).length) {\n      var $required = [];\n      var arr1 = $schema;\n      if (arr1) {\n        var $property, i1 = -1,\n          l1 = arr1.length - 1;\n        while (i1 < l1) {\n          $property = arr1[i1 += 1];\n          var $propertySch = it.schema.properties[$property];\n          if (!($propertySch && (it.opts.strictKeywords ? (typeof $propertySch == 'object' && Object.keys($propertySch).length > 0) || $propertySch === false : it.util.schemaHasRules($propertySch, it.RULES.all)))) {\n            $required[$required.length] = $property;\n          }\n        }\n      }\n    } else {\n      var $required = $schema;\n    }\n  }\n  if ($isData || $required.length) {\n    var $currentErrorPath = it.errorPath,\n      $loopRequired = $isData || $required.length >= it.opts.loopRequired,\n      $ownProperties = it.opts.ownProperties;\n    if ($breakOnError) {\n      out += ' var missing' + ($lvl) + '; ';\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        out += ' var ' + ($valid) + ' = true; ';\n        if ($isData) {\n          out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { ' + ($valid) + ' = ' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] !== undefined ';\n        if ($ownProperties) {\n          out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += '; if (!' + ($valid) + ') break; } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n        out += '  if (!' + ($valid) + ') {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      } else {\n        out += ' if ( ';\n        var arr2 = $required;\n        if (arr2) {\n          var $propertyKey, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $propertyKey = arr2[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ') {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      }\n    } else {\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        if ($isData) {\n          out += ' if (' + ($vSchema) + ' && !Array.isArray(' + ($vSchema) + ')) {  var err =   '; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is a required property';\n              } else {\n                out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (' + ($vSchema) + ' !== undefined) { ';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { if (' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] === undefined ';\n        if ($ownProperties) {\n          out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += ') {  var err =   '; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n      } else {\n        var arr3 = $required;\n        if (arr3) {\n          var $propertyKey, i3 = -1,\n            l3 = arr3.length - 1;\n          while (i3 < l3) {\n            $propertyKey = arr3[i3 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'';\n                if (it.opts._errorDataPathProperty) {\n                  out += 'is a required property';\n                } else {\n                  out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                }\n                out += '\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n    }\n    it.errorPath = $currentErrorPath;\n  } else if ($breakOnError) {\n    out += ' if (true) {';\n  }\n  return out;\n}\n", "'use strict';\nmodule.exports = function generate_uniqueItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (($schema || $isData) && it.opts.uniqueItems !== false) {\n    if ($isData) {\n      out += ' var ' + ($valid) + '; if (' + ($schemaValue) + ' === false || ' + ($schemaValue) + ' === undefined) ' + ($valid) + ' = true; else if (typeof ' + ($schemaValue) + ' != \\'boolean\\') ' + ($valid) + ' = false; else { ';\n    }\n    out += ' var i = ' + ($data) + '.length , ' + ($valid) + ' = true , j; if (i > 1) { ';\n    var $itemType = it.schema.items && it.schema.items.type,\n      $typeIsArray = Array.isArray($itemType);\n    if (!$itemType || $itemType == 'object' || $itemType == 'array' || ($typeIsArray && ($itemType.indexOf('object') >= 0 || $itemType.indexOf('array') >= 0))) {\n      out += ' outer: for (;i--;) { for (j = i; j--;) { if (equal(' + ($data) + '[i], ' + ($data) + '[j])) { ' + ($valid) + ' = false; break outer; } } } ';\n    } else {\n      out += ' var itemIndices = {}, item; for (;i--;) { var item = ' + ($data) + '[i]; ';\n      var $method = 'checkDataType' + ($typeIsArray ? 's' : '');\n      out += ' if (' + (it.util[$method]($itemType, 'item', it.opts.strictNumbers, true)) + ') continue; ';\n      if ($typeIsArray) {\n        out += ' if (typeof item == \\'string\\') item = \\'\"\\' + item; ';\n      }\n      out += ' if (typeof itemIndices[item] == \\'number\\') { ' + ($valid) + ' = false; j = itemIndices[item]; break; } itemIndices[item] = i; } ';\n    }\n    out += ' } ';\n    if ($isData) {\n      out += '  }  ';\n    }\n    out += ' if (!' + ($valid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('uniqueItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { i: i, j: j } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT have duplicate items (items ## \\' + j + \\' and \\' + i + \\' are identical)\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema:  ';\n        if ($isData) {\n          out += 'validate.schema' + ($schemaPath);\n        } else {\n          out += '' + ($schema);\n        }\n        out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n", "'use strict';\n\n//all requires must be explicit because browserify won't work with dynamic requires\nmodule.exports = {\n  '$ref': require('./ref'),\n  allOf: require('./allOf'),\n  anyOf: require('./anyOf'),\n  '$comment': require('./comment'),\n  const: require('./const'),\n  contains: require('./contains'),\n  dependencies: require('./dependencies'),\n  'enum': require('./enum'),\n  format: require('./format'),\n  'if': require('./if'),\n  items: require('./items'),\n  maximum: require('./_limit'),\n  minimum: require('./_limit'),\n  maxItems: require('./_limitItems'),\n  minItems: require('./_limitItems'),\n  maxLength: require('./_limitLength'),\n  minLength: require('./_limitLength'),\n  maxProperties: require('./_limitProperties'),\n  minProperties: require('./_limitProperties'),\n  multipleOf: require('./multipleOf'),\n  not: require('./not'),\n  oneOf: require('./oneOf'),\n  pattern: require('./pattern'),\n  properties: require('./properties'),\n  propertyNames: require('./propertyNames'),\n  required: require('./required'),\n  uniqueItems: require('./uniqueItems'),\n  validate: require('./validate')\n};\n", "'use strict';\n\nvar ruleModules = require('../dotjs')\n  , toHash = require('./util').toHash;\n\nmodule.exports = function rules() {\n  var RULES = [\n    { type: 'number',\n      rules: [ { 'maximum': ['exclusiveMaximum'] },\n               { 'minimum': ['exclusiveMinimum'] }, 'multipleOf', 'format'] },\n    { type: 'string',\n      rules: [ 'maxLength', 'minLength', 'pattern', 'format' ] },\n    { type: 'array',\n      rules: [ 'maxItems', 'minItems', 'items', 'contains', 'uniqueItems' ] },\n    { type: 'object',\n      rules: [ 'maxProperties', 'minProperties', 'required', 'dependencies', 'propertyNames',\n               { 'properties': ['additionalProperties', 'patternProperties'] } ] },\n    { rules: [ '$ref', 'const', 'enum', 'not', 'anyOf', 'oneOf', 'allOf', 'if' ] }\n  ];\n\n  var ALL = [ 'type', '$comment' ];\n  var KEYWORDS = [\n    '$schema', '$id', 'id', '$data', '$async', 'title',\n    'description', 'default', 'definitions',\n    'examples', 'readOnly', 'writeOnly',\n    'contentMediaType', 'contentEncoding',\n    'additionalItems', 'then', 'else'\n  ];\n  var TYPES = [ 'number', 'integer', 'string', 'array', 'object', 'boolean', 'null' ];\n  RULES.all = toHash(ALL);\n  RULES.types = toHash(TYPES);\n\n  RULES.forEach(function (group) {\n    group.rules = group.rules.map(function (keyword) {\n      var implKeywords;\n      if (typeof keyword == 'object') {\n        var key = Object.keys(keyword)[0];\n        implKeywords = keyword[key];\n        keyword = key;\n        implKeywords.forEach(function (k) {\n          ALL.push(k);\n          RULES.all[k] = true;\n        });\n      }\n      ALL.push(keyword);\n      var rule = RULES.all[keyword] = {\n        keyword: keyword,\n        code: ruleModules[keyword],\n        implements: implKeywords\n      };\n      return rule;\n    });\n\n    RULES.all.$comment = {\n      keyword: '$comment',\n      code: ruleModules.$comment\n    };\n\n    if (group.type) RULES.types[group.type] = group;\n  });\n\n  RULES.keywords = toHash(ALL.concat(KEYWORDS));\n  RULES.custom = {};\n\n  return RULES;\n};\n", "'use strict';\n\nvar KEYWORDS = [\n  'multipleOf',\n  'maximum',\n  'exclusiveMaximum',\n  'minimum',\n  'exclusiveMinimum',\n  'maxLength',\n  'minLength',\n  'pattern',\n  'additionalItems',\n  'maxItems',\n  'minItems',\n  'uniqueItems',\n  'maxProperties',\n  'minProperties',\n  'required',\n  'additionalProperties',\n  'enum',\n  'format',\n  'const'\n];\n\nmodule.exports = function (metaSchema, keywordsJsonPointers) {\n  for (var i=0; i<keywordsJsonPointers.length; i++) {\n    metaSchema = JSON.parse(JSON.stringify(metaSchema));\n    var segments = keywordsJsonPointers[i].split('/');\n    var keywords = metaSchema;\n    var j;\n    for (j=1; j<segments.length; j++)\n      keywords = keywords[segments[j]];\n\n    for (j=0; j<KEYWORDS.length; j++) {\n      var key = KEYWORDS[j];\n      var schema = keywords[key];\n      if (schema) {\n        keywords[key] = {\n          anyOf: [\n            schema,\n            { $ref: 'https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n    }\n  }\n\n  return metaSchema;\n};\n", "'use strict';\n\nvar MissingRefError = require('./error_classes').MissingRef;\n\nmodule.exports = compileAsync;\n\n\n/**\n * Creates validating function for passed schema with asynchronous loading of missing schemas.\n * `loadSchema` option should be a function that accepts schema uri and returns promise that resolves with the schema.\n * @this  Ajv\n * @param {Object}   schema schema object\n * @param {Boolean}  meta optional true to compile meta-schema; this parameter can be skipped\n * @param {Function} callback an optional node-style callback, it is called with 2 parameters: error (or null) and validating function.\n * @return {Promise} promise that resolves with a validating function.\n */\nfunction compileAsync(schema, meta, callback) {\n  /* eslint no-shadow: 0 */\n  /* global Promise */\n  /* jshint validthis: true */\n  var self = this;\n  if (typeof this._opts.loadSchema != 'function')\n    throw new Error('options.loadSchema should be a function');\n\n  if (typeof meta == 'function') {\n    callback = meta;\n    meta = undefined;\n  }\n\n  var p = loadMetaSchemaOf(schema).then(function () {\n    var schemaObj = self._addSchema(schema, undefined, meta);\n    return schemaObj.validate || _compileAsync(schemaObj);\n  });\n\n  if (callback) {\n    p.then(\n      function(v) { callback(null, v); },\n      callback\n    );\n  }\n\n  return p;\n\n\n  function loadMetaSchemaOf(sch) {\n    var $schema = sch.$schema;\n    return $schema && !self.getSchema($schema)\n            ? compileAsync.call(self, { $ref: $schema }, true)\n            : Promise.resolve();\n  }\n\n\n  function _compileAsync(schemaObj) {\n    try { return self._compile(schemaObj); }\n    catch(e) {\n      if (e instanceof MissingRefError) return loadMissingSchema(e);\n      throw e;\n    }\n\n\n    function loadMissingSchema(e) {\n      var ref = e.missingSchema;\n      if (added(ref)) throw new Error('Schema ' + ref + ' is loaded but ' + e.missingRef + ' cannot be resolved');\n\n      var schemaPromise = self._loadingSchemas[ref];\n      if (!schemaPromise) {\n        schemaPromise = self._loadingSchemas[ref] = self._opts.loadSchema(ref);\n        schemaPromise.then(removePromise, removePromise);\n      }\n\n      return schemaPromise.then(function (sch) {\n        if (!added(ref)) {\n          return loadMetaSchemaOf(sch).then(function () {\n            if (!added(ref)) self.addSchema(sch, ref, undefined, meta);\n          });\n        }\n      }).then(function() {\n        return _compileAsync(schemaObj);\n      });\n\n      function removePromise() {\n        delete self._loadingSchemas[ref];\n      }\n\n      function added(ref) {\n        return self._refs[ref] || self._schemas[ref];\n      }\n    }\n  }\n}\n", "'use strict';\nmodule.exports = function generate_custom(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $rule = this,\n    $definition = 'definition' + $lvl,\n    $rDef = $rule.definition,\n    $closingBraces = '';\n  var $compile, $inline, $macro, $ruleValidate, $validateCode;\n  if ($isData && $rDef.$data) {\n    $validateCode = 'keywordValidate' + $lvl;\n    var $validateSchema = $rDef.validateSchema;\n    out += ' var ' + ($definition) + ' = RULES.custom[\\'' + ($keyword) + '\\'].definition; var ' + ($validateCode) + ' = ' + ($definition) + '.validate;';\n  } else {\n    $ruleValidate = it.useCustomRule($rule, $schema, it.schema, it);\n    if (!$ruleValidate) return;\n    $schemaValue = 'validate.schema' + $schemaPath;\n    $validateCode = $ruleValidate.code;\n    $compile = $rDef.compile;\n    $inline = $rDef.inline;\n    $macro = $rDef.macro;\n  }\n  var $ruleErrs = $validateCode + '.errors',\n    $i = 'i' + $lvl,\n    $ruleErr = 'ruleErr' + $lvl,\n    $asyncKeyword = $rDef.async;\n  if ($asyncKeyword && !it.async) throw new Error('async keyword in sync schema');\n  if (!($inline || $macro)) {\n    out += '' + ($ruleErrs) + ' = null;';\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($isData && $rDef.$data) {\n    $closingBraces += '}';\n    out += ' if (' + ($schemaValue) + ' === undefined) { ' + ($valid) + ' = true; } else { ';\n    if ($validateSchema) {\n      $closingBraces += '}';\n      out += ' ' + ($valid) + ' = ' + ($definition) + '.validateSchema(' + ($schemaValue) + '); if (' + ($valid) + ') { ';\n    }\n  }\n  if ($inline) {\n    if ($rDef.statements) {\n      out += ' ' + ($ruleValidate.validate) + ' ';\n    } else {\n      out += ' ' + ($valid) + ' = ' + ($ruleValidate.validate) + '; ';\n    }\n  } else if ($macro) {\n    var $it = it.util.copy(it);\n    var $closingBraces = '';\n    $it.level++;\n    var $nextValid = 'valid' + $it.level;\n    $it.schema = $ruleValidate.validate;\n    $it.schemaPath = '';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it).replace(/validate\\.schema/g, $validateCode);\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($code);\n  } else {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    out += '  ' + ($validateCode) + '.call( ';\n    if (it.opts.passContext) {\n      out += 'this';\n    } else {\n      out += 'self';\n    }\n    if ($compile || $rDef.schema === false) {\n      out += ' , ' + ($data) + ' ';\n    } else {\n      out += ' , ' + ($schemaValue) + ' , ' + ($data) + ' , validate.schema' + (it.schemaPath) + ' ';\n    }\n    out += ' , (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ' , rootData )  ';\n    var def_callRuleValidate = out;\n    out = $$outStack.pop();\n    if ($rDef.errors === false) {\n      out += ' ' + ($valid) + ' = ';\n      if ($asyncKeyword) {\n        out += 'await ';\n      }\n      out += '' + (def_callRuleValidate) + '; ';\n    } else {\n      if ($asyncKeyword) {\n        $ruleErrs = 'customErrors' + $lvl;\n        out += ' var ' + ($ruleErrs) + ' = null; try { ' + ($valid) + ' = await ' + (def_callRuleValidate) + '; } catch (e) { ' + ($valid) + ' = false; if (e instanceof ValidationError) ' + ($ruleErrs) + ' = e.errors; else throw e; } ';\n      } else {\n        out += ' ' + ($ruleErrs) + ' = null; ' + ($valid) + ' = ' + (def_callRuleValidate) + '; ';\n      }\n    }\n  }\n  if ($rDef.modifying) {\n    out += ' if (' + ($parentData) + ') ' + ($data) + ' = ' + ($parentData) + '[' + ($parentDataProperty) + '];';\n  }\n  out += '' + ($closingBraces);\n  if ($rDef.valid) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  } else {\n    out += ' if ( ';\n    if ($rDef.valid === undefined) {\n      out += ' !';\n      if ($macro) {\n        out += '' + ($nextValid);\n      } else {\n        out += '' + ($valid);\n      }\n    } else {\n      out += ' ' + (!$rDef.valid) + ' ';\n    }\n    out += ') { ';\n    $errorKeyword = $rule.keyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    var def_customError = out;\n    out = $$outStack.pop();\n    if ($inline) {\n      if ($rDef.errors) {\n        if ($rDef.errors != 'full') {\n          out += '  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } ';\n        }\n      } else {\n        if ($rDef.errors === false) {\n          out += ' ' + (def_customError) + ' ';\n        } else {\n          out += ' if (' + ($errs) + ' == errors) { ' + (def_customError) + ' } else {  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } } ';\n        }\n      }\n    } else if ($macro) {\n      out += '   var err =   '; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError(vErrors); ';\n        } else {\n          out += ' validate.errors = vErrors; return false; ';\n        }\n      }\n    } else {\n      if ($rDef.errors === false) {\n        out += ' ' + (def_customError) + ' ';\n      } else {\n        out += ' if (Array.isArray(' + ($ruleErrs) + ')) { if (vErrors === null) vErrors = ' + ($ruleErrs) + '; else vErrors = vErrors.concat(' + ($ruleErrs) + '); errors = vErrors.length;  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + ';  ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\";  ';\n        if (it.opts.verbose) {\n          out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n        }\n        out += ' } } else { ' + (def_customError) + ' } ';\n      }\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  }\n  return out;\n}\n", "'use strict';\n\nvar metaSchema = require('./refs/json-schema-draft-07.json');\n\nmodule.exports = {\n  $id: 'https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js',\n  definitions: {\n    simpleTypes: metaSchema.definitions.simpleTypes\n  },\n  type: 'object',\n  dependencies: {\n    schema: ['validate'],\n    $data: ['validate'],\n    statements: ['inline'],\n    valid: {not: {required: ['macro']}}\n  },\n  properties: {\n    type: metaSchema.properties.type,\n    schema: {type: 'boolean'},\n    statements: {type: 'boolean'},\n    dependencies: {\n      type: 'array',\n      items: {type: 'string'}\n    },\n    metaSchema: {type: 'object'},\n    modifying: {type: 'boolean'},\n    valid: {type: 'boolean'},\n    $data: {type: 'boolean'},\n    async: {type: 'boolean'},\n    errors: {\n      anyOf: [\n        {type: 'boolean'},\n        {const: 'full'}\n      ]\n    }\n  }\n};\n", "'use strict';\n\nvar IDENTIFIER = /^[a-z_$][a-z0-9_$-]*$/i;\nvar customRuleCode = require('./dotjs/custom');\nvar definitionSchema = require('./definition_schema');\n\nmodule.exports = {\n  add: addKeyword,\n  get: getKeyword,\n  remove: removeKeyword,\n  validate: validateKeyword\n};\n\n\n/**\n * Define custom keyword\n * @this  Ajv\n * @param {String} keyword custom keyword, should be unique (including different from all standard, custom and macro keywords).\n * @param {Object} definition keyword definition object with properties `type` (type(s) which the keyword applies to), `validate` or `compile`.\n * @return {Ajv} this for method chaining\n */\nfunction addKeyword(keyword, definition) {\n  /* jshint validthis: true */\n  /* eslint no-shadow: 0 */\n  var RULES = this.RULES;\n  if (RULES.keywords[keyword])\n    throw new Error('Keyword ' + keyword + ' is already defined');\n\n  if (!IDENTIFIER.test(keyword))\n    throw new Error('Keyword ' + keyword + ' is not a valid identifier');\n\n  if (definition) {\n    this.validateKeyword(definition, true);\n\n    var dataType = definition.type;\n    if (Array.isArray(dataType)) {\n      for (var i=0; i<dataType.length; i++)\n        _addRule(keyword, dataType[i], definition);\n    } else {\n      _addRule(keyword, dataType, definition);\n    }\n\n    var metaSchema = definition.metaSchema;\n    if (metaSchema) {\n      if (definition.$data && this._opts.$data) {\n        metaSchema = {\n          anyOf: [\n            metaSchema,\n            { '$ref': 'https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n      definition.validateSchema = this.compile(metaSchema, true);\n    }\n  }\n\n  RULES.keywords[keyword] = RULES.all[keyword] = true;\n\n\n  function _addRule(keyword, dataType, definition) {\n    var ruleGroup;\n    for (var i=0; i<RULES.length; i++) {\n      var rg = RULES[i];\n      if (rg.type == dataType) {\n        ruleGroup = rg;\n        break;\n      }\n    }\n\n    if (!ruleGroup) {\n      ruleGroup = { type: dataType, rules: [] };\n      RULES.push(ruleGroup);\n    }\n\n    var rule = {\n      keyword: keyword,\n      definition: definition,\n      custom: true,\n      code: customRuleCode,\n      implements: definition.implements\n    };\n    ruleGroup.rules.push(rule);\n    RULES.custom[keyword] = rule;\n  }\n\n  return this;\n}\n\n\n/**\n * Get keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Object|Boolean} custom keyword definition, `true` if it is a predefined keyword, `false` otherwise.\n */\nfunction getKeyword(keyword) {\n  /* jshint validthis: true */\n  var rule = this.RULES.custom[keyword];\n  return rule ? rule.definition : this.RULES.keywords[keyword] || false;\n}\n\n\n/**\n * Remove keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Ajv} this for method chaining\n */\nfunction removeKeyword(keyword) {\n  /* jshint validthis: true */\n  var RULES = this.RULES;\n  delete RULES.keywords[keyword];\n  delete RULES.all[keyword];\n  delete RULES.custom[keyword];\n  for (var i=0; i<RULES.length; i++) {\n    var rules = RULES[i].rules;\n    for (var j=0; j<rules.length; j++) {\n      if (rules[j].keyword == keyword) {\n        rules.splice(j, 1);\n        break;\n      }\n    }\n  }\n  return this;\n}\n\n\n/**\n * Validate keyword definition\n * @this  Ajv\n * @param {Object} definition keyword definition object.\n * @param {Boolean} throwError true to throw exception if definition is invalid\n * @return {boolean} validation result\n */\nfunction validateKeyword(definition, throwError) {\n  validateKeyword.errors = null;\n  var v = this._validateKeyword = this._validateKeyword\n                                  || this.compile(definitionSchema, true);\n\n  if (v(definition)) return true;\n  validateKeyword.errors = v.errors;\n  if (throwError)\n    throw new Error('custom keyword definition is invalid: '  + this.errorsText(v.errors));\n  else\n    return false;\n}\n", "'use strict';\n\nvar compileSchema = require('./compile')\n  , resolve = require('./compile/resolve')\n  , Cache = require('./cache')\n  , SchemaObject = require('./compile/schema_obj')\n  , stableStringify = require('fast-json-stable-stringify')\n  , formats = require('./compile/formats')\n  , rules = require('./compile/rules')\n  , $dataMetaSchema = require('./data')\n  , util = require('./compile/util');\n\nmodule.exports = Ajv;\n\nAjv.prototype.validate = validate;\nAjv.prototype.compile = compile;\nAjv.prototype.addSchema = addSchema;\nAjv.prototype.addMetaSchema = addMetaSchema;\nAjv.prototype.validateSchema = validateSchema;\nAjv.prototype.getSchema = getSchema;\nAjv.prototype.removeSchema = removeSchema;\nAjv.prototype.addFormat = addFormat;\nAjv.prototype.errorsText = errorsText;\n\nAjv.prototype._addSchema = _addSchema;\nAjv.prototype._compile = _compile;\n\nAjv.prototype.compileAsync = require('./compile/async');\nvar customKeyword = require('./keyword');\nAjv.prototype.addKeyword = customKeyword.add;\nAjv.prototype.getKeyword = customKeyword.get;\nAjv.prototype.removeKeyword = customKeyword.remove;\nAjv.prototype.validateKeyword = customKeyword.validate;\n\nvar errorClasses = require('./compile/error_classes');\nAjv.ValidationError = errorClasses.Validation;\nAjv.MissingRefError = errorClasses.MissingRef;\nAjv.$dataMetaSchema = $dataMetaSchema;\n\nvar META_SCHEMA_ID = 'http://json-schema.org/draft-07/schema';\n\nvar META_IGNORE_OPTIONS = [ 'removeAdditional', 'useDefaults', 'coerceTypes', 'strictDefaults' ];\nvar META_SUPPORT_DATA = ['/properties'];\n\n/**\n * Creates validator instance.\n * Usage: `Ajv(opts)`\n * @param {Object} opts optional options\n * @return {Object} ajv instance\n */\nfunction Ajv(opts) {\n  if (!(this instanceof Ajv)) return new Ajv(opts);\n  opts = this._opts = util.copy(opts) || {};\n  setLogger(this);\n  this._schemas = {};\n  this._refs = {};\n  this._fragments = {};\n  this._formats = formats(opts.format);\n\n  this._cache = opts.cache || new Cache;\n  this._loadingSchemas = {};\n  this._compilations = [];\n  this.RULES = rules();\n  this._getId = chooseGetId(opts);\n\n  opts.loopRequired = opts.loopRequired || Infinity;\n  if (opts.errorDataPath == 'property') opts._errorDataPathProperty = true;\n  if (opts.serialize === undefined) opts.serialize = stableStringify;\n  this._metaOpts = getMetaSchemaOptions(this);\n\n  if (opts.formats) addInitialFormats(this);\n  if (opts.keywords) addInitialKeywords(this);\n  addDefaultMetaSchema(this);\n  if (typeof opts.meta == 'object') this.addMetaSchema(opts.meta);\n  if (opts.nullable) this.addKeyword('nullable', {metaSchema: {type: 'boolean'}});\n  addInitialSchemas(this);\n}\n\n\n\n/**\n * Validate data using schema\n * Schema will be compiled and cached (using serialized JSON as key. [fast-json-stable-stringify](https://github.com/epoberezkin/fast-json-stable-stringify) is used to serialize.\n * @this   Ajv\n * @param  {String|Object} schemaKeyRef key, ref or schema object\n * @param  {Any} data to be validated\n * @return {Boolean} validation result. Errors from the last validation will be available in `ajv.errors` (and also in compiled schema: `schema.errors`).\n */\nfunction validate(schemaKeyRef, data) {\n  var v;\n  if (typeof schemaKeyRef == 'string') {\n    v = this.getSchema(schemaKeyRef);\n    if (!v) throw new Error('no schema with key or ref \"' + schemaKeyRef + '\"');\n  } else {\n    var schemaObj = this._addSchema(schemaKeyRef);\n    v = schemaObj.validate || this._compile(schemaObj);\n  }\n\n  var valid = v(data);\n  if (v.$async !== true) this.errors = v.errors;\n  return valid;\n}\n\n\n/**\n * Create validating function for passed schema.\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Boolean} _meta true if schema is a meta-schema. Used internally to compile meta schemas of custom keywords.\n * @return {Function} validating function\n */\nfunction compile(schema, _meta) {\n  var schemaObj = this._addSchema(schema, undefined, _meta);\n  return schemaObj.validate || this._compile(schemaObj);\n}\n\n\n/**\n * Adds schema to the instance.\n * @this   Ajv\n * @param {Object|Array} schema schema or array of schemas. If array is passed, `key` and other parameters will be ignored.\n * @param {String} key Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n * @param {Boolean} _skipValidation true to skip schema validation. Used internally, option validateSchema should be used instead.\n * @param {Boolean} _meta true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n * @return {Ajv} this for method chaining\n */\nfunction addSchema(schema, key, _skipValidation, _meta) {\n  if (Array.isArray(schema)){\n    for (var i=0; i<schema.length; i++) this.addSchema(schema[i], undefined, _skipValidation, _meta);\n    return this;\n  }\n  var id = this._getId(schema);\n  if (id !== undefined && typeof id != 'string')\n    throw new Error('schema id must be string');\n  key = resolve.normalizeId(key || id);\n  checkUnique(this, key);\n  this._schemas[key] = this._addSchema(schema, _skipValidation, _meta, true);\n  return this;\n}\n\n\n/**\n * Add schema that will be used to validate other schemas\n * options in META_IGNORE_OPTIONS are alway set to false\n * @this   Ajv\n * @param {Object} schema schema object\n * @param {String} key optional schema key\n * @param {Boolean} skipValidation true to skip schema validation, can be used to override validateSchema option for meta-schema\n * @return {Ajv} this for method chaining\n */\nfunction addMetaSchema(schema, key, skipValidation) {\n  this.addSchema(schema, key, skipValidation, true);\n  return this;\n}\n\n\n/**\n * Validate schema\n * @this   Ajv\n * @param {Object} schema schema to validate\n * @param {Boolean} throwOrLogError pass true to throw (or log) an error if invalid\n * @return {Boolean} true if schema is valid\n */\nfunction validateSchema(schema, throwOrLogError) {\n  var $schema = schema.$schema;\n  if ($schema !== undefined && typeof $schema != 'string')\n    throw new Error('$schema must be a string');\n  $schema = $schema || this._opts.defaultMeta || defaultMeta(this);\n  if (!$schema) {\n    this.logger.warn('meta-schema not available');\n    this.errors = null;\n    return true;\n  }\n  var valid = this.validate($schema, schema);\n  if (!valid && throwOrLogError) {\n    var message = 'schema is invalid: ' + this.errorsText();\n    if (this._opts.validateSchema == 'log') this.logger.error(message);\n    else throw new Error(message);\n  }\n  return valid;\n}\n\n\nfunction defaultMeta(self) {\n  var meta = self._opts.meta;\n  self._opts.defaultMeta = typeof meta == 'object'\n                            ? self._getId(meta) || meta\n                            : self.getSchema(META_SCHEMA_ID)\n                              ? META_SCHEMA_ID\n                              : undefined;\n  return self._opts.defaultMeta;\n}\n\n\n/**\n * Get compiled schema from the instance by `key` or `ref`.\n * @this   Ajv\n * @param  {String} keyRef `key` that was passed to `addSchema` or full schema reference (`schema.id` or resolved id).\n * @return {Function} schema validating function (with property `schema`).\n */\nfunction getSchema(keyRef) {\n  var schemaObj = _getSchemaObj(this, keyRef);\n  switch (typeof schemaObj) {\n    case 'object': return schemaObj.validate || this._compile(schemaObj);\n    case 'string': return this.getSchema(schemaObj);\n    case 'undefined': return _getSchemaFragment(this, keyRef);\n  }\n}\n\n\nfunction _getSchemaFragment(self, ref) {\n  var res = resolve.schema.call(self, { schema: {} }, ref);\n  if (res) {\n    var schema = res.schema\n      , root = res.root\n      , baseId = res.baseId;\n    var v = compileSchema.call(self, schema, root, undefined, baseId);\n    self._fragments[ref] = new SchemaObject({\n      ref: ref,\n      fragment: true,\n      schema: schema,\n      root: root,\n      baseId: baseId,\n      validate: v\n    });\n    return v;\n  }\n}\n\n\nfunction _getSchemaObj(self, keyRef) {\n  keyRef = resolve.normalizeId(keyRef);\n  return self._schemas[keyRef] || self._refs[keyRef] || self._fragments[keyRef];\n}\n\n\n/**\n * Remove cached schema(s).\n * If no parameter is passed all schemas but meta-schemas are removed.\n * If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n * Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n * @this   Ajv\n * @param  {String|Object|RegExp} schemaKeyRef key, ref, pattern to match key/ref or schema object\n * @return {Ajv} this for method chaining\n */\nfunction removeSchema(schemaKeyRef) {\n  if (schemaKeyRef instanceof RegExp) {\n    _removeAllSchemas(this, this._schemas, schemaKeyRef);\n    _removeAllSchemas(this, this._refs, schemaKeyRef);\n    return this;\n  }\n  switch (typeof schemaKeyRef) {\n    case 'undefined':\n      _removeAllSchemas(this, this._schemas);\n      _removeAllSchemas(this, this._refs);\n      this._cache.clear();\n      return this;\n    case 'string':\n      var schemaObj = _getSchemaObj(this, schemaKeyRef);\n      if (schemaObj) this._cache.del(schemaObj.cacheKey);\n      delete this._schemas[schemaKeyRef];\n      delete this._refs[schemaKeyRef];\n      return this;\n    case 'object':\n      var serialize = this._opts.serialize;\n      var cacheKey = serialize ? serialize(schemaKeyRef) : schemaKeyRef;\n      this._cache.del(cacheKey);\n      var id = this._getId(schemaKeyRef);\n      if (id) {\n        id = resolve.normalizeId(id);\n        delete this._schemas[id];\n        delete this._refs[id];\n      }\n  }\n  return this;\n}\n\n\nfunction _removeAllSchemas(self, schemas, regex) {\n  for (var keyRef in schemas) {\n    var schemaObj = schemas[keyRef];\n    if (!schemaObj.meta && (!regex || regex.test(keyRef))) {\n      self._cache.del(schemaObj.cacheKey);\n      delete schemas[keyRef];\n    }\n  }\n}\n\n\n/* @this   Ajv */\nfunction _addSchema(schema, skipValidation, meta, shouldAddSchema) {\n  if (typeof schema != 'object' && typeof schema != 'boolean')\n    throw new Error('schema should be object or boolean');\n  var serialize = this._opts.serialize;\n  var cacheKey = serialize ? serialize(schema) : schema;\n  var cached = this._cache.get(cacheKey);\n  if (cached) return cached;\n\n  shouldAddSchema = shouldAddSchema || this._opts.addUsedSchema !== false;\n\n  var id = resolve.normalizeId(this._getId(schema));\n  if (id && shouldAddSchema) checkUnique(this, id);\n\n  var willValidate = this._opts.validateSchema !== false && !skipValidation;\n  var recursiveMeta;\n  if (willValidate && !(recursiveMeta = id && id == resolve.normalizeId(schema.$schema)))\n    this.validateSchema(schema, true);\n\n  var localRefs = resolve.ids.call(this, schema);\n\n  var schemaObj = new SchemaObject({\n    id: id,\n    schema: schema,\n    localRefs: localRefs,\n    cacheKey: cacheKey,\n    meta: meta\n  });\n\n  if (id[0] != '#' && shouldAddSchema) this._refs[id] = schemaObj;\n  this._cache.put(cacheKey, schemaObj);\n\n  if (willValidate && recursiveMeta) this.validateSchema(schema, true);\n\n  return schemaObj;\n}\n\n\n/* @this   Ajv */\nfunction _compile(schemaObj, root) {\n  if (schemaObj.compiling) {\n    schemaObj.validate = callValidate;\n    callValidate.schema = schemaObj.schema;\n    callValidate.errors = null;\n    callValidate.root = root ? root : callValidate;\n    if (schemaObj.schema.$async === true)\n      callValidate.$async = true;\n    return callValidate;\n  }\n  schemaObj.compiling = true;\n\n  var currentOpts;\n  if (schemaObj.meta) {\n    currentOpts = this._opts;\n    this._opts = this._metaOpts;\n  }\n\n  var v;\n  try { v = compileSchema.call(this, schemaObj.schema, root, schemaObj.localRefs); }\n  catch(e) {\n    delete schemaObj.validate;\n    throw e;\n  }\n  finally {\n    schemaObj.compiling = false;\n    if (schemaObj.meta) this._opts = currentOpts;\n  }\n\n  schemaObj.validate = v;\n  schemaObj.refs = v.refs;\n  schemaObj.refVal = v.refVal;\n  schemaObj.root = v.root;\n  return v;\n\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var _validate = schemaObj.validate;\n    var result = _validate.apply(this, arguments);\n    callValidate.errors = _validate.errors;\n    return result;\n  }\n}\n\n\nfunction chooseGetId(opts) {\n  switch (opts.schemaId) {\n    case 'auto': return _get$IdOrId;\n    case 'id': return _getId;\n    default: return _get$Id;\n  }\n}\n\n/* @this   Ajv */\nfunction _getId(schema) {\n  if (schema.$id) this.logger.warn('schema $id ignored', schema.$id);\n  return schema.id;\n}\n\n/* @this   Ajv */\nfunction _get$Id(schema) {\n  if (schema.id) this.logger.warn('schema id ignored', schema.id);\n  return schema.$id;\n}\n\n\nfunction _get$IdOrId(schema) {\n  if (schema.$id && schema.id && schema.$id != schema.id)\n    throw new Error('schema $id is different from id');\n  return schema.$id || schema.id;\n}\n\n\n/**\n * Convert array of error message objects to string\n * @this   Ajv\n * @param  {Array<Object>} errors optional array of validation errors, if not passed errors from the instance are used.\n * @param  {Object} options optional options with properties `separator` and `dataVar`.\n * @return {String} human readable string with all errors descriptions\n */\nfunction errorsText(errors, options) {\n  errors = errors || this.errors;\n  if (!errors) return 'No errors';\n  options = options || {};\n  var separator = options.separator === undefined ? ', ' : options.separator;\n  var dataVar = options.dataVar === undefined ? 'data' : options.dataVar;\n\n  var text = '';\n  for (var i=0; i<errors.length; i++) {\n    var e = errors[i];\n    if (e) text += dataVar + e.dataPath + ' ' + e.message + separator;\n  }\n  return text.slice(0, -separator.length);\n}\n\n\n/**\n * Add custom format\n * @this   Ajv\n * @param {String} name format name\n * @param {String|RegExp|Function} format string is converted to RegExp; function should return boolean (true when valid)\n * @return {Ajv} this for method chaining\n */\nfunction addFormat(name, format) {\n  if (typeof format == 'string') format = new RegExp(format);\n  this._formats[name] = format;\n  return this;\n}\n\n\nfunction addDefaultMetaSchema(self) {\n  var $dataSchema;\n  if (self._opts.$data) {\n    $dataSchema = require('./refs/data.json');\n    self.addMetaSchema($dataSchema, $dataSchema.$id, true);\n  }\n  if (self._opts.meta === false) return;\n  var metaSchema = require('./refs/json-schema-draft-07.json');\n  if (self._opts.$data) metaSchema = $dataMetaSchema(metaSchema, META_SUPPORT_DATA);\n  self.addMetaSchema(metaSchema, META_SCHEMA_ID, true);\n  self._refs['http://json-schema.org/schema'] = META_SCHEMA_ID;\n}\n\n\nfunction addInitialSchemas(self) {\n  var optsSchemas = self._opts.schemas;\n  if (!optsSchemas) return;\n  if (Array.isArray(optsSchemas)) self.addSchema(optsSchemas);\n  else for (var key in optsSchemas) self.addSchema(optsSchemas[key], key);\n}\n\n\nfunction addInitialFormats(self) {\n  for (var name in self._opts.formats) {\n    var format = self._opts.formats[name];\n    self.addFormat(name, format);\n  }\n}\n\n\nfunction addInitialKeywords(self) {\n  for (var name in self._opts.keywords) {\n    var keyword = self._opts.keywords[name];\n    self.addKeyword(name, keyword);\n  }\n}\n\n\nfunction checkUnique(self, id) {\n  if (self._schemas[id] || self._refs[id])\n    throw new Error('schema with key or id \"' + id + '\" already exists');\n}\n\n\nfunction getMetaSchemaOptions(self) {\n  var metaOpts = util.copy(self._opts);\n  for (var i=0; i<META_IGNORE_OPTIONS.length; i++)\n    delete metaOpts[META_IGNORE_OPTIONS[i]];\n  return metaOpts;\n}\n\n\nfunction setLogger(self) {\n  var logger = self._opts.logger;\n  if (logger === false) {\n    self.logger = {log: noop, warn: noop, error: noop};\n  } else {\n    if (logger === undefined) logger = console;\n    if (!(typeof logger == 'object' && logger.log && logger.warn && logger.error))\n      throw new Error('logger must implement log, warn and error methods');\n    self.logger = logger;\n  }\n}\n\n\nfunction noop() {}\n", "export * from './api';\nexport * from './extensionLogger';\nexport * from './project';\nexport * from './specification/schemaAccess';\n\nexport * from '@sap/ux-specification-types';\n", "/**\n * This file implements the interface 'Specification' from ./types and serves as API to specification\n */\nimport { FioriElementsVersion, SchemaType, TemplateType, CustomExtensionType } from '@sap/ux-specification-types';\nimport type {\n    CustomExtensionData,\n    ExportResults,\n    File,\n    GenerateSchemaParameters,\n    ExportConfigParameters,\n    ImportConfigParameters,\n    ImportProjectParameters,\n    ApiVersion,\n    UI5Version,\n    GenerateCustomExtensionParams\n} from '@sap/ux-specification-types';\nimport {\n    generateListReportInterfaceV2,\n    generateObjectPageInterfaceV2,\n    generateOVPInterfaceV2,\n    generateAnalyticalListPageInterfaceV2\n} from './sync/v2/generate';\nimport {\n    generateFreestyleInterfaceV4,\n    generateListReportInterfaceV4,\n    generateObjectPageInterfaceV4\n} from './sync/v4/generate';\nimport { exportPageV2 } from './sync/v2/export/exportPage';\nimport {\n    createListReportConfig as createListReportConfigV2,\n    createObjectPageConfigV2,\n    createOverviewPageConfig as createOverviewPageConfigV2,\n    createAnalyticalListPageConfig as createAnalyticalListPageConfigV2\n} from './sync/v2/import';\nimport { exportPageV4 } from './sync/v4/export/export';\nimport { createListReportConfig as createListReportConfigV4, createObjectPageConfigV4 } from './sync/v4/import';\nimport { importProjectSchemaAndConfig, importProjectSchema as importProjectSchemaOnly } from './sync/common';\nimport type { Editor } from 'mem-fs-editor';\nimport {\n    enableFPM,\n    generateControllerExtension,\n    generateCustomAction,\n    generateCustomColumn,\n    generateCustomPage,\n    generateCustomSection,\n    generateCustomView,\n    generateObjectPage\n} from '@sap-ux/fe-fpm-writer';\n\nconst FPMWriterMap = new Map<CustomExtensionType, (basePath: string, data: CustomExtensionData, fs?: Editor) => Editor>(\n    [\n        [CustomExtensionType.CustomPage, generateCustomPage],\n        [CustomExtensionType.CustomColumn, generateCustomColumn],\n        [CustomExtensionType.CustomSection, generateCustomSection],\n        [CustomExtensionType.ObjectPage, generateObjectPage],\n        [CustomExtensionType.CustomAction, generateCustomAction],\n        [CustomExtensionType.CustomView, generateCustomView],\n        [CustomExtensionType.ControllerExtension, generateControllerExtension]\n    ]\n);\n\n/**\n * Return the generic (project independent) JSON schema\n * @param specification - reference to spec\n * @param version - Fiori elements version (v2 or v4)\n * @param schemaType - type of the schema, e.g. ListReport, ObjectPage\n */\nexport { getGenericSchema } from './specification/schemaAccess';\n\n/**\n * Generate JSON schema for a given Fiori elements version and page type\n * @param generateParameters: the input structure that contains the version, schema type, and parameters\n */\nexport function generateSchema(generateParameters: GenerateSchemaParameters): object {\n    let schema: object;\n    if (generateParameters[FioriElementsVersion.v2]) {\n        /**\n         * Handle v2 schema generation\n         */\n        const v2Params = generateParameters[FioriElementsVersion.v2];\n        if (v2Params[SchemaType.ListReport]) {\n            const { genericSchema, entitySet, annotations, manifest, fragments, logger } =\n                v2Params[SchemaType.ListReport];\n            schema = generateListReportInterfaceV2(genericSchema, entitySet, annotations, manifest, fragments, logger);\n        } else if (v2Params[SchemaType.ObjectPage]) {\n            const { genericSchema, entitySet, annotations, manifest, fragments, logger } =\n                v2Params[SchemaType.ObjectPage];\n            schema = generateObjectPageInterfaceV2(genericSchema, entitySet, annotations, manifest, fragments, logger);\n        } else if (v2Params[SchemaType.OverviewPage]) {\n            const { genericSchema, manifest } = v2Params[SchemaType.OverviewPage];\n            schema = generateOVPInterfaceV2(genericSchema, manifest);\n        } else if (v2Params[SchemaType.AnalyticalListPage]) {\n            const { genericSchema, entitySet, annotations, manifest, fragments, logger } =\n                v2Params[SchemaType.AnalyticalListPage];\n            schema = generateAnalyticalListPageInterfaceV2(\n                genericSchema,\n                entitySet,\n                annotations,\n                manifest,\n                fragments,\n                logger\n            );\n        }\n    } else if (generateParameters[FioriElementsVersion.v4]) {\n        /**\n         * Handle v4 schema generation\n         */\n        const v4Params = generateParameters[FioriElementsVersion.v4];\n        if (v4Params[SchemaType.ListReport]) {\n            const { genericSchema, entitySet, annotations, logger, manifest } = v4Params[SchemaType.ListReport];\n            schema = generateListReportInterfaceV4(\n                TemplateType.ListReportObjectPageV4,\n                genericSchema,\n                entitySet,\n                annotations,\n                logger,\n                manifest\n            );\n        } else if (v4Params[SchemaType.ObjectPage]) {\n            const { genericSchema, entitySet, annotations, manifest, logger, fragments } =\n                v4Params[SchemaType.ObjectPage];\n            schema = generateObjectPageInterfaceV4(genericSchema, entitySet, annotations, manifest, logger, fragments);\n        } else if (v4Params[SchemaType.AnalyticalListPage]) {\n            const { genericSchema, entitySet, annotations, logger, manifest } = v4Params[SchemaType.AnalyticalListPage];\n            //As of now, the LR logic can also be applied to ALP\n            schema = generateListReportInterfaceV4(\n                TemplateType.AnalyticalListPageV4,\n                genericSchema,\n                entitySet,\n                annotations,\n                logger,\n                manifest\n            );\n        } else if (v4Params[SchemaType.FreestylePage]) {\n            const { genericSchema, entitySet, annotations, logger, manifest } = v4Params[SchemaType.FreestylePage];\n            schema = generateFreestyleInterfaceV4(\n                TemplateType.FreestylePageV4,\n                genericSchema,\n                annotations,\n                manifest,\n                entitySet,\n                logger\n            );\n        }\n    }\n    return schema;\n}\n\n/**\n * Exports a config (src/*.json, src/pages/*.json) to flex changes and manifest settings\n * @param exportParameters - parameters to control the export\n */\nexport function exportConfig(exportParameters: ExportConfigParameters): ExportResults {\n    let exportResults: ExportResults;\n    const ui5Config: UI5Version = { ui5Version: exportParameters.ui5Version, layer: exportParameters.layer };\n    if (exportParameters[FioriElementsVersion.v2]) {\n        /**\n         * Handle v2 export\n         */\n        const v2Params = exportParameters[FioriElementsVersion.v2];\n        exportResults = exportPageV2(v2Params, ui5Config);\n    } else if (exportParameters[FioriElementsVersion.v4]) {\n        /**\n         * Handle v4 export\n         */\n        const v4Params = exportParameters[FioriElementsVersion.v4];\n        exportResults = exportPageV4(v4Params, ui5Config);\n    }\n    return exportResults;\n}\n\n/**\n * Imports manifest settings and flex changes to a config (src/*.json, src/pages/*.json)\n * @param importParameters - parameters to control the import\n */\nexport function importConfig(importParameters: ImportConfigParameters): object | undefined {\n    let config;\n    if (importParameters[FioriElementsVersion.v2]) {\n        /**\n         * Handle v2 import\n         */\n        const v2Params = importParameters[FioriElementsVersion.v2];\n        if (v2Params[SchemaType.ListReport]) {\n            config = createListReportConfigV2(v2Params[SchemaType.ListReport]);\n        } else if (v2Params[SchemaType.ObjectPage]) {\n            config = createObjectPageConfigV2(v2Params[SchemaType.ObjectPage]);\n        } else if (v2Params[SchemaType.OverviewPage]) {\n            config = createOverviewPageConfigV2(v2Params[SchemaType.OverviewPage]);\n        } else if (v2Params[SchemaType.AnalyticalListPage]) {\n            config = createAnalyticalListPageConfigV2(v2Params[SchemaType.AnalyticalListPage]);\n        }\n    } else if (importParameters[FioriElementsVersion.v4]) {\n        /**\n         * Handle v4 import\n         */\n        const v4Params = importParameters[FioriElementsVersion.v4];\n        if (v4Params[SchemaType.ListReport]) {\n            config = createListReportConfigV4(v4Params[SchemaType.ListReport], SchemaType.ListReport);\n        } else if (v4Params[SchemaType.ObjectPage]) {\n            config = createObjectPageConfigV4(v4Params[SchemaType.ObjectPage]);\n        } else if (v4Params[SchemaType.AnalyticalListPage]) {\n            config = createListReportConfigV4(v4Params[SchemaType.AnalyticalListPage], SchemaType.AnalyticalListPage);\n        }\n    }\n    return config;\n}\n\n/**\n * Evaluates all project files and generates app schemas and configs out of it\n * @param importParameters - parameters to control the import; here: all relevant project files\n * @returns a list of files, comprising app schemas and configs\n */\nexport async function importProject(importParameters: ImportProjectParameters): Promise<File[]> {\n    return importProjectSchemaAndConfig(importParameters);\n}\n\n/**\n * Evaluates all project files and generates app schemas out of it, but no configs\n * @param importParameters - parameters to control the import; here: all relevant project files\n * @returns a list of files, comprising all app schemas\n */\nexport async function importProjectSchema(importParameters: ImportProjectParameters): Promise<File[]> {\n    return importProjectSchemaOnly(importParameters);\n}\n\n/**\n * Returns specification API version.\n * @return {ApiVersion} Object of API version.\n */\nexport function getApiVersion(): ApiVersion {\n    return {\n        version: '5',\n        fpmWriter: '5'\n    };\n}\n\n/**\n * Calls the FPM Writer for generating a custom extension\n *\n * @param customExtensionParams parameters for generating the custom extension\n * @returns {Editor} Instance of mem-fs-editor\n */\nexport function generateCustomExtension(customExtensionParams: GenerateCustomExtensionParams): Editor | undefined {\n    const fpmWriterFunction = FPMWriterMap.get(customExtensionParams.customExtension);\n    if (fpmWriterFunction && typeof fpmWriterFunction === 'function') {\n        enableFPM(customExtensionParams.basePath, {});\n        return fpmWriterFunction(\n            customExtensionParams.basePath,\n            customExtensionParams.data,\n            customExtensionParams.fsEditor\n        );\n    } else {\n        return;\n    }\n}\n", "import type { Definition } from 'typescript-json-schema';\nimport type { MetadataInstanceInterface } from './decoration/factory';\nimport type {\n    Manifest,\n    ExtensionLogger,\n    anyFacetType,\n    FacetConfig,\n    FacetConfigs,\n    FacetSection,\n    FileData,\n    SchemaFilePath\n} from '@sap/ux-specification-types';\nimport {\n    DirName,\n    FacetBase,\n    FacetTitlePrefix,\n    MANIFESTPATH,\n    SchemaTag,\n    TemplateType,\n    SchemaKeyName,\n    UIVOCABULARY,\n    VOCWITHSLASH,\n    v4,\n    v2,\n    ALPViewType,\n    FioriElementsVersion,\n    ManifestSection,\n    PageType,\n    LogSeverity,\n    PageTypeV4,\n    SchemaType\n} from '@sap/ux-specification-types';\nimport type {\n    CollectionFacet,\n    DataField,\n    DataFieldAbstractTypes,\n    DataFieldForAction,\n    DataFieldForAnnotation,\n    DataFieldWithIntentBasedNavigation,\n    DataFieldWithUrl,\n    ReferenceFacet,\n    ReferenceURLFacet\n} from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport type {\n    AnnotationTerm,\n    ConvertedMetadata,\n    EntityType,\n    RawMetadata,\n    PropertyPath\n} from '@sap-ux/vocabularies-types';\n\nimport i18next from 'i18next';\nimport merge from 'deepmerge';\nimport { convert } from '@sap-ux/annotation-converter';\nimport { merge as mergeParser, parse } from '@sap-ux/edmx-parser';\nimport { UIAnnotationTypes, UIAnnotationTerms } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport { CommunicationAnnotationTerms } from '@sap-ux/vocabularies-types/vocabularies/Communication';\nimport { log } from '../../extensionLogger';\nimport type { PropertyAnnotations } from '@sap-ux/vocabularies-types/vocabularies/Edm_Types';\n\nexport const DEFINITION_LINK_PREFIX = '#/definitions/';\n\n/**\n * Function returns annotation path for schema based on received params.\n * @param entityTypeName - Entity type name.\n * @param term - Annotation term.\n * @param qualifier - Annotation qualifier.\n * @returns Annotation path based on received params\n */\nexport const createAnnotationPath = (entityTypeName: string, term: string, qualifier?: string): string => {\n    let annotationPath = `/${entityTypeName}/@${term}`;\n    if (qualifier) {\n        annotationPath += `#${qualifier}`;\n    }\n    return annotationPath;\n};\n\n/**\n * Parses, merges, and converts a list of annotation files with aid of tools from annotation-vocabularies-tools\n * @param annotationFiles - The list of all annotation files, in JSON format\n * @returns the complete service information\n */\nexport function parseAndMergeAndConvert(annotationFiles: FileData[], logger: ExtensionLogger): ConvertedMetadata {\n    const parseResult: RawMetadata[] = [];\n    let converterOutput: ConvertedMetadata;\n    try {\n        if (annotationFiles) {\n            annotationFiles.forEach(function (annotationData: FileData) {\n                parseResult.push(parse(annotationData.fileContent, annotationData.dataSourceUri));\n            });\n        }\n        if (parseResult.length > 0) {\n            converterOutput = convert(mergeParser(...parseResult));\n        }\n    } catch (error) {\n        log(\n            logger,\n            {\n                severity: LogSeverity.Error,\n                message: i18next.t('ANNOERR')\n            },\n            ...error\n        );\n    }\n    return converterOutput;\n}\n\nexport const getAnnotationPropertyValue = (annotationProperty: DataField['Value']): string =>\n    annotationProperty?.value || annotationProperty?.path;\n\n/**\n * Checks for Common.Label and overwrites the label from it if present\n * @param {PropertyAnnotations} annotations - property annotations\n * @param {EntityType} entityType - entity type\n * @param {string} label - label, to be actualized\n */\nexport function evaluateCommonLabel(annotations: PropertyAnnotations, entityType: EntityType, label: string): string {\n    if (annotations?.Common?.Label) {\n        if (typeof annotations.Common.Label === 'string') {\n            label = annotations.Common.Label;\n        } else if (annotations.Common.Label['type'] === 'Path') {\n            const targetProperty = entityType.resolvePath(annotations.Common.Label['path']);\n            if (targetProperty.value) {\n                label = targetProperty.value;\n            } else if (typeof targetProperty.Common?.Label === 'string') {\n                label = targetProperty.annotations.Common.Label;\n            }\n        } else if (typeof annotations.Common?.Label?.toString() === 'string') {\n            label = annotations.Common.Label.toString();\n        }\n    }\n    return label;\n}\n\n/**\n * Determines the label for a property path\n * @param {PropertyPath} propertyPath - property path\n * @param {EntityType} entityType - entity type\n * @returns label, derived from Common.Label or from property value\n */\nexport function getLabelForPropertyPath(propertyPath: PropertyPath, entityType: EntityType): string {\n    let label = propertyPath.value;\n    if (propertyPath.$target) {\n        label = evaluateCommonLabel(propertyPath.$target.annotations, entityType, label);\n    }\n    return label;\n}\n\n/**\n * Determines the label for a LineItem record\n * @param {DataFieldAbstractType} field - Line item record\n * @param {EntityType} entityType - entity type\n * @returns label, derived from Common.Label or from property value\n */\nexport function getLabelForDataField(field: DataFieldAbstractTypes, entityType: EntityType): string {\n    let label: string, property;\n    if (field['Value']) {\n        if (typeof field['Value'] === 'string') {\n            property = entityType.entityProperties.find((ep) => ep.name === field['Value']);\n        } else {\n            property = entityType.resolvePath(field['Value'].path);\n            if (!property) {\n                property = field['Value'].$target;\n            }\n        }\n    } else if (field['Target'] && field['Target'].$target && field['Target'].$target.Value) {\n        property = field['Target'].$target.Value.$target;\n    }\n    if (property?.annotations?.Common?.Label) {\n        label = evaluateCommonLabel(property.annotations, entityType, label);\n    }\n    return label;\n}\n\n/**\n * Function to resolve the dataField label\n * @param dataFieldLabel - Given dataField label; might be of type string, or an object in case of a path reference\n * @param entityType - the entity type as part of the AVT ConvertedMetadata\n * @returns undefined or the right string value\n */\nfunction getLabel(dataFieldLabel: any, entityType: EntityType): string {\n    if (typeof dataFieldLabel === 'string') {\n        return dataFieldLabel;\n    } else if (typeof dataFieldLabel === 'object' && dataFieldLabel.path) {\n        const property = entityType.resolvePath(dataFieldLabel.path);\n        if (!property || property.length === 0) {\n            return undefined;\n        } else {\n            const singleProperty = property[0];\n            if (singleProperty?.annotations?.Common?.Label) {\n                const label: string = dataFieldLabel;\n                return evaluateCommonLabel(singleProperty.annotations, entityType, label);\n            }\n        }\n    } else {\n        return undefined;\n    }\n}\n\nfunction getTitleForDataField(dataField: DataField, entityType: EntityType, dataFieldLabel: string): string {\n    const propertyCommonLabel = getLabelForDataField(dataField as DataFieldAbstractTypes, entityType);\n    return (\n        dataFieldLabel ||\n        propertyCommonLabel ||\n        (dataField.Value.$target ? dataField.Value.$target.name : dataField.Value.value || dataField.Value.path)\n    );\n}\n\n/**\n * Determines the description of a data field, e.g. for the column header\n * @param dataFieldAbstract - the given record of the line item annotation\n * @param entityType - the entity type as part of the AVT ConvertedMetadata\n */\nexport function getDataFieldDescription(dataFieldAbstract: DataFieldAbstractTypes, entityType: EntityType): string {\n    let title = '',\n        propertyCommonLabel,\n        dataField;\n    const dataFieldLabel = getLabel(dataFieldAbstract.Label, entityType);\n\n    switch (dataFieldAbstract.$Type) {\n        case UIAnnotationTypes.DataField:\n            dataField = dataFieldAbstract as DataField;\n            title = getTitleForDataField(dataField, entityType, dataFieldLabel);\n            break;\n        case UIAnnotationTypes.DataFieldWithUrl:\n            dataField = dataFieldAbstract as DataFieldWithUrl;\n            propertyCommonLabel = getLabelForDataField(dataFieldAbstract, entityType);\n            title =\n                dataFieldLabel ||\n                propertyCommonLabel ||\n                (typeof dataField.Value === 'string' ? dataField.Value : dataField.Value.path);\n            break;\n        case UIAnnotationTypes.DataFieldForAnnotation:\n            dataField = dataFieldAbstract as DataFieldForAnnotation;\n            propertyCommonLabel = getLabelForDataField(dataFieldAbstract, entityType);\n            title = dataFieldLabel || propertyCommonLabel || dataField.Target.$target.Title || dataField.Target.value;\n            break;\n        case UIAnnotationTypes.DataFieldForAction:\n        case UIAnnotationTypes.DataFieldWithAction:\n        case UIAnnotationTypes.DataFieldForIntentBasedNavigation:\n            dataField = dataFieldAbstract as DataFieldForAction;\n            if (dataFieldLabel) {\n                title = typeof dataFieldLabel === 'string' ? dataFieldLabel : (dataField.Action as string);\n            } else {\n                title = dataFieldAbstract.Action as string;\n            }\n            break;\n        case UIAnnotationTypes.DataFieldWithIntentBasedNavigation:\n            dataField = dataFieldAbstract as DataFieldWithIntentBasedNavigation;\n            propertyCommonLabel = getLabelForDataField(dataFieldAbstract, entityType);\n            title = propertyCommonLabel || dataField.Value.path;\n            break;\n        case UIAnnotationTypes.DataFieldWithNavigationPath:\n            dataField = dataFieldAbstract;\n            title = getTitleForDataField(dataField, entityType, dataFieldLabel);\n            break;\n        default:\n            break;\n    }\n    return title;\n}\n\n/**\n * Prepare string for reference use in schema\n * @param refInput string to be character checked and replaced\n * @returns string with replaced characters\n */\nexport function prepareRef(refInput: string): string {\n    return refInput.replace('#', '::').replace(/\\//g, ':2f');\n}\n\n/**\n * Return the page type for a given V2 page in manifest\n * @param name - page component name\n */\nexport function getPageTypeV2(name: string): PageType | undefined {\n    if (name) {\n        const templatePart = `${v2.FE_TEMPLATE_V2}.`;\n        return name.split(templatePart)[1] as PageType;\n    }\n}\n\n/**\n * Return the page type for a given V4 page in manifest\n * @param name - page component name\n */\nexport function getPageTypeV4(v4App: v4.SapUiAppPageV4 | v4.SapUi5RoutingTargetCustomPageV4): PageTypeV4 | undefined {\n    if ((v4App as v4.SapUiAppPageV4).name && (v4App as v4.SapUiAppPageV4).name !== v4.FE_TEMPLATE_V4_CUSTOM_PAGE) {\n        const templatePart = `${v4.FE_TEMPLATE_V4}.`;\n        return (v4App as v4.SapUiAppPageV4).name.split(templatePart)[1] as PageTypeV4;\n    } else if ((v4App as v4.SapUiAppPageV4)?.name === v4.FE_TEMPLATE_V4_CUSTOM_PAGE) {\n        return PageTypeV4.FPMCustomPage;\n    } else if (\n        (v4App as v4.SapUi5RoutingTargetCustomPageV4).viewId ||\n        (v4App as v4.SapUi5RoutingTargetCustomPageV4).viewName\n    ) {\n        return PageTypeV4.CustomPage;\n    }\n}\n\nfunction getTargetAnnotationName(targetAnnotation: any, keyForRelatedFacetKeys = false): string {\n    const termWithQualifier = `${targetAnnotation.term}#${targetAnnotation.qualifier}`;\n    return `${!keyForRelatedFacetKeys ? '@' : ''}${\n        targetAnnotation.qualifier ? termWithQualifier : targetAnnotation.term\n    }`;\n}\n\n/**\n * Finds the alias for a given namespace in the references' section of the converted service metadata\n * @param {string} namespace - complete namespace, e.g. 'com.sap.vocabularies.UI.v1'\n * @param {ConvertedMetadata} oDataServiceAVT - combined service metadata, as returned by annotation vocabularies tools\n * @returns alias for the given namespace\n */\nexport function findAlias(namespace: string, oDataServiceAVT: ConvertedMetadata): string | undefined {\n    if (!oDataServiceAVT) {\n        return;\n    }\n    let aliasReference = oDataServiceAVT.references.find((reference) => {\n        return reference.namespace === namespace;\n    });\n    if (!aliasReference) {\n        aliasReference = oDataServiceAVT.references.find((reference) => {\n            return reference.alias === namespace;\n        });\n    }\n    if (!aliasReference) {\n        aliasReference = oDataServiceAVT.references.find((reference) => {\n            return (\n                reference.alias.toUpperCase() ===\n                namespace.split('SAP__')[namespace.split('SAP__').length - 1].toUpperCase()\n            );\n        });\n    }\n    return aliasReference?.alias;\n}\n\n/**\n * Determines the target annotation\n * @param navigationParts - parts of the target annotation path\n * @param entityType - entity type\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n * @returns the target annotation\n */\nfunction determineTargetAnnotation(\n    navigationParts: string[],\n    entityType: EntityType,\n    oDataServiceAVT: ConvertedMetadata\n): any {\n    const lastNavigationPart = navigationParts[navigationParts.length - 1];\n    const annotation = lastNavigationPart.substring(lastNavigationPart.lastIndexOf('.') + 1, lastNavigationPart.length);\n    const alias = findAlias(\n        lastNavigationPart.substring(0, lastNavigationPart.lastIndexOf('.')).replace('@', ''),\n        oDataServiceAVT\n    );\n    return entityType?.annotations[alias]?.[annotation];\n}\n\n/**\n * Adjust key by considering navigation\n * @param key - given key\n * @param keyForRelatedFacetKeys - construct key for 'keyForRelatedFacetKeys' property(used to define custom sections) - we should not add '@' symbol there.\n * @param navigationParts - parts of the target annotation path\n */\nfunction adjustKey(key: string, navigationParts: string[], keyForRelatedFacetKeys: boolean): string {\n    const uiClass = navigationParts[navigationParts.length - 1].split('#')[0];\n    if (uiClass.includes('.LineItem')) {\n        const pathParts = key.split('::');\n        pathParts[pathParts.length - 1] = `${!keyForRelatedFacetKeys ? '@' : ''}${UIAnnotationTerms.LineItem}`;\n        key = pathParts.join('::');\n    } else {\n        key = uiClass.replace('@UI', `${!keyForRelatedFacetKeys ? '@' : ''}com.sap.vocabularies.UI.v1`);\n    }\n    return key;\n}\n\nfunction getKeyAndEntityTypeOfReferenceFacet(\n    oDataServiceAVT: ConvertedMetadata,\n    key: string,\n    entityType: EntityType,\n    propertyValue: string,\n    oDataVersion = FioriElementsVersion.v2,\n    keyForRelatedFacetKeys = false\n): { key: string; entityType: EntityType; stopProcessing: boolean; namespace: string } {\n    let stopProcessing = false;\n    let namespace: string;\n    const navigationParts = propertyValue.split('/');\n    const navigation = navigationParts.length > 1;\n    if (navigation) {\n        entityType = entityType.resolvePath(propertyValue.substring(0, propertyValue.lastIndexOf('/')))?.targetType;\n    }\n    key = adjustKey(key, navigationParts, keyForRelatedFacetKeys);\n\n    const targetAnnotation = determineTargetAnnotation(navigationParts, entityType, oDataServiceAVT);\n    if (targetAnnotation) {\n        const separator = oDataVersion === FioriElementsVersion.v2 ? '::' : '#';\n        key = getTargetAnnotationName(targetAnnotation, keyForRelatedFacetKeys).replace('#', separator);\n        namespace = targetAnnotation.fullyQualifiedName.split('@')[0];\n    } else {\n        stopProcessing = true;\n        return { key, entityType, stopProcessing, namespace };\n    }\n\n    if (navigation) {\n        const navSeparator = oDataVersion === FioriElementsVersion.v2 ? '::' : '/';\n        navigationParts.pop();\n        const navigationIDs = [...navigationParts].join(navSeparator);\n        key = `${navigationIDs}${navSeparator}${key}`;\n    }\n    return { key, entityType, stopProcessing, namespace };\n}\n\n/**\n * Resolve page section(get key and label->description).\n * @param facetDefinition - the actual annotation record\n * @param keyForRelatedFacetKeys - construct key for 'keyForRelatedFacetKeys' property(used to define custom sections) - we should not add '@' symbol there.\n * @param {FioriElementsVersion} oDataVersion - OData version\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n * @param {ExtensionLogger} logger - Logger class for logging messages\n * @returns {FacetSection} - object comprising the relevant facet information\n */\nexport function getSectionFacet(\n    facetDefinition: anyFacetType,\n    sourceEntityType: EntityType,\n    oDataServiceAVT: ConvertedMetadata,\n    logger?: ExtensionLogger,\n    oDataVersion = FioriElementsVersion.v2,\n    keyForRelatedFacetKeys = false\n): FacetSection | undefined {\n    //Take facet ID as fallback\n    const facetName = facetDefinition.fullyQualifiedName.substring(facetDefinition.fullyQualifiedName.lastIndexOf('@'));\n    let key: string = facetDefinition.ID ? facetDefinition.ID.toString() : facetName;\n    let namespace = facetDefinition.fullyQualifiedName?.split('@')[0];\n    let entityType = sourceEntityType; //default\n\n    //If reference facet: overwrite with target annotation if present\n    if (facetDefinition.$Type !== UIAnnotationTypes.CollectionFacet && 'Target' in facetDefinition) {\n        const propertyValue = getAnnotationPropertyValue(facetDefinition.Target);\n        if (!propertyValue) {\n            log(logger, {\n                severity: LogSeverity.Error,\n                message: i18next.t('NOTARGET', { target: facetDefinition.Target })\n            });\n            return;\n        }\n        const {\n            key: newKey,\n            entityType: newEntityType,\n            stopProcessing,\n            namespace: sectionNameSpace\n        } = getKeyAndEntityTypeOfReferenceFacet(\n            oDataServiceAVT,\n            key,\n            entityType,\n            propertyValue,\n            oDataVersion,\n            keyForRelatedFacetKeys\n        );\n        if (stopProcessing) {\n            return;\n        }\n        key = newKey;\n        entityType = newEntityType;\n        namespace = sectionNameSpace;\n    }\n    key = key.replace(/\\//gi, '::');\n    if (key) {\n        return {\n            key,\n            ...(facetDefinition.Label && { label: facetDefinition.Label.toString() }),\n            ...(facetDefinition.ID && { ID: facetDefinition.ID.toString() }),\n            entityType,\n            namespace\n        };\n    } else {\n        return undefined;\n    }\n}\n\n/**\n * Finds the alias for a given namespace in the references' section of the converted service metadata.\n * An empty object is created if the path element does not exist yet.\n * Exception: if an empty array is the next element  of the 'path' definition, an empty array is created instead of an empty object.\n * @param {object} manifest - manifest that is being modified during export\n * @param {string} path - path of the property in the manifest\n * @param {string} targetAnnotation - target annotation (optional)\n * @param {string} targetAnnotationEncoded - target annotation in its encoded form, as used in manifest settings\n * @param {boolean} importScenario - indicates if the function is called for the import, else it is the export\n * @returns returns section of the manifest based on path, generates an empty object in case it does not exists\n */\nexport const getManifestSectionByPathV4 = (\n    manifest: object,\n    path: string,\n    targetAnnotation?: string,\n    targetAnnotationEncoded?: string\n): object | undefined => {\n    if (!path) {\n        return undefined;\n    }\n    let manifestSection = manifest;\n    const pathElements = path.split('/');\n    for (let index = 0; index < pathElements.length; index++) {\n        const element = pathElements[index];\n        if (element === '[]') {\n            continue;\n        }\n        const decodedElement =\n            targetAnnotationEncoded && targetAnnotationEncoded === element\n                ? targetAnnotation\n                : element.replace('??', '/');\n        //?? can be used in path functions to encode /\n        if (!manifestSection[decodedElement]) {\n            if (pathElements[index + 1] === '[]') {\n                manifestSection[decodedElement] = [];\n            } else {\n                manifestSection[decodedElement] = {};\n            }\n        }\n        manifestSection = manifestSection[decodedElement];\n    }\n    return manifestSection;\n};\n\nexport function getSchemaKeyOfLineItemRecord(lineItemRecord: DataFieldAbstractTypes): string {\n    let schemaKey, target, value;\n    switch (lineItemRecord.$Type) {\n        case UIAnnotationTypes.DataField:\n            schemaKey = getAnnotationPropertyValue(lineItemRecord.Value);\n            break;\n        case UIAnnotationTypes.DataFieldWithUrl:\n            schemaKey =\n                typeof lineItemRecord.Value === 'string'\n                    ? lineItemRecord.Value\n                    : getAnnotationPropertyValue(lineItemRecord.Value);\n            break;\n        case UIAnnotationTypes.DataFieldForAnnotation:\n            target = lineItemRecord.Target.value;\n            if (target) {\n                schemaKey =\n                    'DataFieldForAnnotation:::sTarget::' +\n                    target\n                        .replace('@UI', '@com.sap.vocabularies.UI.v1')\n                        .replace('@Communication', '@com.sap.vocabularies.Communication.v1')\n                        .replace('@Contact', '@com.sap.vocabularies.Contact.v1');\n            }\n            break;\n        case UIAnnotationTypes.DataFieldForAction:\n            if (lineItemRecord.Inline) {\n                schemaKey = `DataFieldForAction:::sAction::${prepareRef(lineItemRecord.Action as string)}`;\n            }\n            break;\n        case UIAnnotationTypes.DataFieldWithIntentBasedNavigation:\n            value = getAnnotationPropertyValue(lineItemRecord.Value);\n            schemaKey = `DataFieldWithIntentBasedNavigation:::sProperty::${value}:::sSemanticObject::${lineItemRecord.SemanticObject}:::sAction::${lineItemRecord.Action}`;\n            break;\n        case UIAnnotationTypes.DataFieldForIntentBasedNavigation:\n            if (lineItemRecord.Inline) {\n                schemaKey = `DataFieldForIntentBasedNavigation:::sSemanticObject::${\n                    lineItemRecord.SemanticObject\n                }:::sAction::${prepareRef(lineItemRecord.Action as string)}`;\n            }\n            break;\n        case UIAnnotationTypes.DataFieldWithNavigationPath:\n            value = getAnnotationPropertyValue(lineItemRecord.Value);\n            target = getAnnotationPropertyValue(lineItemRecord.Target);\n            schemaKey = 'DataFieldWithNavigationPath:::sProperty::' + value + ':::sTarget::' + target;\n            break;\n        default:\n            break;\n    }\n\n    return schemaKey;\n}\n\n/**\n * Determines if type of given annotation term is of UIAnnotationTerm\n * @param {string} path path in manifest\n * @param {string} alias for a given namespace\n * @param {EntityType} entityType - the entity type\n * @returns UI annotation term type\n */\nfunction getUIAnnotationTerm(path: string, alias: string, entityType: EntityType): UIAnnotationTerms | undefined {\n    if (path.includes(UIAnnotationTerms.Chart) || path.includes(alias + '.Chart')) {\n        return UIAnnotationTerms.Chart;\n    } else if (path.includes(UIAnnotationTerms.Identification) || path.includes(alias + '.Identification')) {\n        return UIAnnotationTerms.Identification;\n    } else if ((entityType && path.includes(UIAnnotationTerms.LineItem)) || path.includes(alias + '.LineItem')) {\n        return UIAnnotationTerms.LineItem;\n    } else if (path.includes(UIAnnotationTerms.FieldGroup) || path.includes(alias + '.FieldGroup')) {\n        return UIAnnotationTerms.FieldGroup;\n    } else if (path.includes(UIAnnotationTerms.DataPoint) || path.includes(alias + '.DataPoint')) {\n        return UIAnnotationTerms.DataPoint;\n    } else if (path.includes(UIAnnotationTerms.PresentationVariant) || path.includes(alias + '.PresentationVariant')) {\n        return UIAnnotationTerms.PresentationVariant;\n    } else {\n        return undefined;\n    }\n}\n\n/**\n * Determines if type of given annotation term is of CommunicationAnnotationTerm\n * @param {string} path path in manifest\n * @param {string} alias for a given namespace\n * @param {EntityType} entityType - the entity type\n * @returns Communication annotation term type\n */\nfunction getCommunicationAnnotationTerm(path: string, alias: string): CommunicationAnnotationTerms | undefined {\n    if (path.includes('com.sap.vocabularies.Communication.v1.Contact') || path.includes(alias + '.Contact')) {\n        return CommunicationAnnotationTerms.Contact;\n    } else if (path.includes('com.sap.vocabularies.Communication.v1.Address') || path.includes(alias + '.Address')) {\n        return CommunicationAnnotationTerms.Address;\n    } else {\n        return undefined;\n    }\n}\n\n/**\n * Determines the type of given annotation term\n * @param {string} path path in manifest\n * @param {string} alias for a given namespace\n * @param {EntityType} entityType - the entity type\n * @returns annotation term type\n */\nfunction getAnnotationTerm(\n    path: string,\n    alias: string,\n    entityType: EntityType\n): UIAnnotationTerms | CommunicationAnnotationTerms | undefined {\n    return getUIAnnotationTerm(path, alias, entityType) || getCommunicationAnnotationTerm(path, alias);\n}\n\n/**\n * Evaluates the target annotation of a reference facet and actualizes the facets for the config\n * @param {AnnotationTerm} annotationRecord - the actual annotation record\n * @param {FacetConfigs} facets - list of facets in config format, to be updated\n * @param {EntityType} entityType - the entity type\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n * @param {FioriElementsVersion} oDataVersion - OData version\n * @param {ExtensionLogger} logger - Logger class for logging messages\n */\nfunction evaluateTargetAnnotation(\n    section: FacetSection,\n    annotationRecord: AnnotationTerm<ReferenceFacet>,\n    facets: FacetConfigs,\n    entityType: EntityType,\n    oDataServiceAVT: ConvertedMetadata,\n    oDataVersion = FioriElementsVersion.v2,\n    logger?: ExtensionLogger\n): void {\n    const alias = findAlias(UIVOCABULARY, oDataServiceAVT);\n    let path = section ? section.key : '';\n    const targetEntityType = section.entityType;\n    const annotationTerm = getAnnotationTerm(path, alias, entityType);\n\n    switch (annotationTerm) {\n        case UIAnnotationTerms.Chart: {\n            facets[path] = { base: FacetBase.Chart };\n            facets[path].target = annotationRecord?.Target?.$target;\n            facets[path].entityType = targetEntityType;\n            facets[path].namespace = section.namespace;\n            break;\n        }\n        case UIAnnotationTerms.Identification: {\n            facets[path] = { base: FacetBase.Identification };\n            facets[path].target = annotationRecord?.Target?.$target;\n            facets[path].entityType = targetEntityType;\n            facets[path].namespace = section.namespace;\n            break;\n        }\n        case UIAnnotationTerms.LineItem: {\n            if (!path.includes(UIAnnotationTerms.LineItem) && path.includes('.LineItem')) {\n                const pathParts = path.split('::');\n                pathParts[pathParts.length - 1] = `@${UIAnnotationTerms.LineItem}`;\n                path = pathParts.join('::');\n            }\n            facets[path] = { base: FacetBase.LineItem };\n            facets[path].target = annotationRecord?.Target?.$target;\n            facets[path].entityType = targetEntityType;\n            facets[path].namespace = section.namespace;\n            break;\n        }\n        case UIAnnotationTerms.FieldGroup: {\n            facets[path] = { base: FacetBase.Form };\n            facets[path].target = annotationRecord?.Target?.$target;\n            facets[path].entityType = targetEntityType;\n            facets[path].namespace = section.namespace;\n            break;\n        }\n        case UIAnnotationTerms.DataPoint: {\n            facets[path] = { base: FacetBase.DataPoint };\n            facets[path].Label = annotationRecord?.Target?.$target['Title'];\n            facets[path].target = annotationRecord?.Target?.$target;\n            facets[path].entityType = targetEntityType;\n            facets[path].namespace = section.namespace;\n            break;\n        }\n        case UIAnnotationTerms.PresentationVariant: {\n            facets[path] = { base: FacetBase.PresentationVariant };\n            facets[path].target = annotationRecord?.Target?.$target;\n            facets[path].entityType = targetEntityType;\n            facets[path].namespace = section.namespace;\n            break;\n        }\n        case CommunicationAnnotationTerms.Contact: {\n            facets[path] = { base: FacetBase.Contact };\n            facets[path].target = annotationRecord?.Target?.$target;\n            facets[path].entityType = targetEntityType;\n            facets[path].namespace = section.namespace;\n            break;\n        }\n        case CommunicationAnnotationTerms.Address: {\n            facets[path] = { base: FacetBase.Address };\n            facets[path].target = annotationRecord?.Target?.$target;\n            facets[path].entityType = targetEntityType;\n            facets[path].namespace = section.namespace;\n            break;\n        }\n        default: {\n            facets[path] = { base: FacetBase.Unknown };\n        }\n    }\n\n    if (facets[path]) {\n        facets[path].annotationPath = `/${annotationRecord.fullyQualifiedName.replace(\n            '@com.sap.vocabularies',\n            VOCWITHSLASH\n        )}`;\n        if (annotationRecord.Label) {\n            facets[path].Label = annotationRecord.Label as string;\n        }\n        // Add Facet ID\n        if (annotationRecord.ID) {\n            facets[path]['ID'] = annotationRecord.ID as string;\n        } else if (oDataVersion === FioriElementsVersion.v4) {\n            log(logger, {\n                severity: LogSeverity.Error,\n                message: i18next.t('NOID4SECTION', { facet: annotationRecord.fullyQualifiedName })\n            });\n        }\n        if (section && section.entityType) {\n            facets[path].entityType = section.entityType;\n        }\n    }\n}\n\n/**\n * Adds the information from facets to the config\n * @param {AnnotationTerm} annotationRecord - the actual annotation record\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n * @param {string} serviceName - name of the service of the app\n * @param {string} entityName - the entity (type) name\n * @param {FacetConfigs} facets - list of facets in config format, to be updated\n * @param {FioriElementsVersion} oDataVersion - OData version\n * @param {ExtensionLogger} logger - Logger class for logging messages\n */\nfunction addFacetToConfig(\n    annotationRecord:\n        | AnnotationTerm<CollectionFacet>\n        | AnnotationTerm<ReferenceFacet>\n        | AnnotationTerm<ReferenceURLFacet>,\n    oDataServiceAVT: ConvertedMetadata,\n    serviceName: string,\n    entityType: EntityType,\n    facets: FacetConfigs,\n    oDataVersion = FioriElementsVersion.v2,\n    logger?: ExtensionLogger\n): void {\n    const section: FacetSection = getSectionFacet(\n        annotationRecord,\n        entityType,\n        oDataServiceAVT,\n        logger,\n        oDataVersion,\n        false\n    );\n    if (section) {\n        switch (annotationRecord.$Type) {\n            case UIAnnotationTypes.ReferenceFacet: {\n                evaluateTargetAnnotation(\n                    section,\n                    annotationRecord,\n                    facets,\n                    entityType,\n                    oDataServiceAVT,\n                    oDataVersion,\n                    logger\n                );\n                break;\n            }\n            case UIAnnotationTypes.CollectionFacet: {\n                const annotationPath = `/${entityType.fullyQualifiedName}/${\n                    annotationRecord.fullyQualifiedName.split(entityType.fullyQualifiedName)[1]\n                }`;\n                const facet = (facets[section.key] = {\n                    base: FacetBase.CollectionFacet,\n                    facets: {},\n                    ID: section.ID,\n                    annotationPath: annotationPath,\n                    Label: section.label,\n                    namespace: section.namespace\n                });\n                annotationRecord.Facets?.forEach((collectionItem) => {\n                    addFacetToConfig(\n                        collectionItem,\n                        oDataServiceAVT,\n                        serviceName,\n                        entityType,\n                        facet.facets,\n                        oDataVersion,\n                        logger\n                    );\n                });\n                break;\n            }\n        }\n    }\n}\n\n/**\n * Retrieve header facet configurations that can be used to generate ObjectPage schemas\n * @param {QualifiedName} entityTypeName - the name of the actual entity type\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n * @param {FioriElementsVersion} oDataVersion - OData version\n * @param {ExtensionLogger} logger - Logger class for logging messages\n */\nexport function getObjectPageHeaderFacets(\n    entityType: EntityType,\n    oDataServiceAVT: ConvertedMetadata,\n    oDataVersion = FioriElementsVersion.v2,\n    logger?: ExtensionLogger\n): FacetConfigs | undefined {\n    const facets: FacetConfigs = {};\n    if (!entityType || !entityType.annotations) {\n        return;\n    }\n    const alias = findAlias(UIVOCABULARY, oDataServiceAVT);\n    const facetAnnotation = alias && entityType.annotations[alias] && entityType.annotations[alias].HeaderFacets;\n    if (facetAnnotation) {\n        const lastDot = entityType.fullyQualifiedName.lastIndexOf('.');\n        const serviceName = entityType.fullyQualifiedName.substring(0, lastDot);\n\n        // Add facets to configuration\n        facetAnnotation.forEach((item) => {\n            addFacetToConfig(item, oDataServiceAVT, serviceName, entityType, facets, oDataVersion, logger);\n        });\n    }\n    return facets;\n}\n\n/**\n * Retrieve facet configurations that can be used to generate ObjectPage schemas\n * @param {QualifiedName} entityTypeName - the name of the actual entity type\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n * @param {FioriElementsVersion} oDataVersion - OData version\n * @param {ExtensionLogger} logger - Logger class for logging messages\n */\nexport function getObjectPageFacets(\n    entityType: EntityType,\n    oDataServiceAVT: ConvertedMetadata,\n    oDataVersion = FioriElementsVersion.v2,\n    logger?: ExtensionLogger\n): FacetConfigs | undefined {\n    const facets: FacetConfigs = {};\n    if (!entityType || !entityType.annotations) {\n        return;\n    }\n    const alias = findAlias(UIVOCABULARY, oDataServiceAVT);\n    const facetAnnotation = alias && entityType.annotations[alias] && entityType.annotations[alias].Facets;\n    if (facetAnnotation) {\n        const lastDot = entityType.fullyQualifiedName.lastIndexOf('.');\n        const serviceName = entityType.fullyQualifiedName.substring(0, lastDot);\n\n        // Add facets to configuration\n        facetAnnotation.forEach((item) => {\n            addFacetToConfig(item, oDataServiceAVT, serviceName, entityType, facets, oDataVersion, logger);\n        });\n    }\n    return facets;\n}\n\n/**\n * Returns the version of Fiori elements (v2/v4) from a given manifest\n * @param manifest - the manifest.json file\n */\nexport function getVersionFromManifest(manifest: Manifest): FioriElementsVersion {\n    if (manifest[ManifestSection.generic] || manifest[ManifestSection.ovp]) {\n        return FioriElementsVersion.v2;\n    } else {\n        return FioriElementsVersion.v4;\n    }\n}\n\n/**\n * Determines the template type of a V2 app\n * @param manifest - the manifest.json file\n * @param {ExtensionLogger} logger - Logger class for logging messages\n * @returns {TemplateType} the template type\n */\nexport function determineV2Template(manifest: Manifest, logger: ExtensionLogger): TemplateType | undefined {\n    let templateType: TemplateType;\n    if (manifest[ManifestSection.generic]) {\n        const v2Pages = manifest[ManifestSection.generic].pages;\n        if (!v2Pages) {\n            log(logger, {\n                severity: LogSeverity.Error,\n                message: i18next.t('NOPAGES', { appId: manifest['sap.app']['id'] }),\n                location: {\n                    path: MANIFESTPATH,\n                    range: [ManifestSection.generic]\n                }\n            });\n            return;\n        }\n        for (const pageKey in v2Pages) {\n            const v2Page = v2Pages[pageKey];\n            if (getPageTypeV2(v2Page.component.name) === PageType.AnalyticalListPage) {\n                templateType = TemplateType.AnalyticalListPageV2;\n                break;\n            } else if (getPageTypeV2(v2Page.component.name) === PageType.ListReport) {\n                templateType = TemplateType.ListReportObjectPageV2;\n                break;\n            }\n        }\n    } else {\n        if (!templateType) {\n            log(logger, {\n                severity: LogSeverity.Error,\n                message: i18next.t('NOTEMPLATE', { section: ManifestSection.generic }),\n                location: {\n                    path: MANIFESTPATH,\n                    range: [ManifestSection.generic]\n                }\n            });\n        }\n    }\n    return templateType;\n}\n\n/**\n * Determines the template type, based on the given manifest routing target entries of the app\n * @param v4Pages - pages from routing targets\n * @returns {TemplateType | undefined} the template type\n */\nfunction determineV4TemplateFromPages(v4Pages: v4.SapUi5RoutingTargetsV4): TemplateType | undefined {\n    let templateType: TemplateType;\n    for (const pageKey in v4Pages) {\n        const v4Page = v4Pages[pageKey] as v4.SapUiAppPageV4;\n        const pageType = getPageTypeV4(v4Page);\n        if (pageType === PageTypeV4.AnalyticalListPage) {\n            templateType = TemplateType.AnalyticalListPageV4;\n            break;\n        } else if (pageType === PageTypeV4.ListReport) {\n            const viewPath = (v4Page.options?.settings?.views?.paths as v4.SapUi5ALPPaths)?.[0];\n            if (viewPath && (viewPath[ALPViewType.Primary] || viewPath[ALPViewType.Secondary])) {\n                templateType = TemplateType.AnalyticalListPageV4;\n            } else {\n                templateType = TemplateType.ListReportObjectPageV4;\n            }\n            break;\n        } else if (pageType === PageTypeV4.ObjectPage) {\n            templateType = TemplateType.ListReportObjectPageV4;\n            //fixed now for FEOP scenario, bit continue to check if LR/ALP exists\n        } else if ([PageTypeV4.CustomPage, PageTypeV4.FPMCustomPage].includes(pageType)) {\n            templateType = TemplateType.FreestylePageV4;\n            break;\n        }\n    }\n    return templateType;\n}\n\n/**\n * Determines the template type of a V4 app\n * @param manifest - the manifest.json file\n * @param {ExtensionLogger} logger - Logger class for logging messages\n * @returns {TemplateType} the template type\n */\nexport function determineV4Template(manifest: Manifest, logger: ExtensionLogger): TemplateType | undefined {\n    const v4Pages =\n        manifest[ManifestSection.ui5].routing &&\n        (manifest[ManifestSection.ui5].routing.targets as v4.SapUi5RoutingTargetsV4);\n    // if there are no pages in routing targets, we use LROPV4 as default template type\n    if (!v4Pages || Object.keys(v4Pages).length === 0) {\n        log(logger, {\n            severity: LogSeverity.Info,\n            message: i18next.t('NOPAGES', { appId: manifest['sap.app']['id'] }),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.ui5, 'routing']\n            }\n        });\n        return TemplateType.ListReportObjectPageV4;\n    }\n    // else try to determine template type from routing targets\n    const templateType = determineV4TemplateFromPages(v4Pages);\n    if (!templateType) {\n        log(logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOTEMPLATE', { section: ManifestSection.ui5 }),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.ui5, 'routing', 'targets']\n            }\n        });\n    }\n    return templateType;\n}\n\n/**\n * Determines the template type, based on the given manifest entries of the app\n * @param manifest - the manifest.json file\n * @param {FioriElementsVersion} fioriElementsVersion - OData or FE version\n * @param {ExtensionLogger} logger - Logger class for logging messages\n * @returns {TemplateType} the template type\n */\nexport function getTemplateTypeFromManifest(\n    manifest: Manifest,\n    fioriElementsVersion: FioriElementsVersion,\n    logger: ExtensionLogger\n): TemplateType | undefined {\n    let templateType: TemplateType;\n    if (manifest[ManifestSection.ovp]) {\n        templateType = TemplateType.OverviewPageV2;\n    } else if (fioriElementsVersion === FioriElementsVersion.v2) {\n        templateType = determineV2Template(manifest, logger);\n    } else if (fioriElementsVersion === FioriElementsVersion.v4) {\n        templateType = determineV4Template(manifest, logger);\n    } else {\n        if (!templateType) {\n            log(logger, {\n                severity: LogSeverity.Error,\n                message: i18next.t('NOFE'),\n                location: {\n                    path: MANIFESTPATH\n                }\n            });\n        }\n    }\n    return templateType;\n}\n\n/**\n * Adds title and description to a section or header section in an app schema\n * @param facet - intermediate facet structure comprising annotation information\n * @param section - section in the app schema\n * @param facetKey - key of the facet\n */\nexport function addSectionTitleAndDescription(facet: FacetConfig, section: Definition, facetKey: string): void {\n    if (facet?.ID) {\n        section.title = FacetTitlePrefix + facet.ID;\n        section[SchemaTag.keys] = [{ name: SchemaKeyName.id, value: facet.ID }];\n    } else {\n        section.title = facetKey.replace(/@com.sap/g, 'com.sap');\n    }\n    // Description\n    if (facet?.Label) {\n        section.description = facet.Label;\n    } else if (facet?.ID) {\n        section.description = facet.ID;\n    } else {\n        section.description = facetKey.substring(facetKey.lastIndexOf('.') + 1);\n    }\n}\n\n/**\n * Adds target title or description to a section or header section in an app schema\n * @param facet - intermediate facet structure comprising annotation information\n * @param section - section in the app schema\n * @param facetKey - key of the facet\n */\nexport function addTargetTitleAndSectionDescription(facet: FacetConfig, section: Definition, facetKey: string): void {\n    addSectionTitleAndDescription(facet, section, facetKey);\n    if (facet?.Label) {\n        section.description = facet?.Label;\n    } else if (facet?.['Title']) {\n        section.description = facet['Title'];\n    } else if (facet?.target?.['Title']) {\n        section.description = facet.target['Title'];\n    }\n}\n\n/**\n * Creates a default object for a new section or subsection, and adds the ID as title if present.\n * @param facet Facet configuration, to be analyzed\n * @returns the new section object\n */\nexport function createDefaultSection(appSchema: Definition, facet: FacetConfig, facetKey: string): Definition {\n    if (!facet) {\n        return undefined;\n    }\n    let section: Definition;\n    if (appSchema.definitions.ObjectPageSection) {\n        //base type in V2, with properties\n        section = JSON.parse(JSON.stringify(appSchema.definitions.ObjectPageSection));\n    } else {\n        section = {\n            type: 'object',\n            properties: {},\n            additionalProperties: false\n        };\n        section[SchemaTag.isViewNode] = true;\n    }\n    section[SchemaTag.annotationPath] = facet.annotationPath;\n    addSectionTitleAndDescription(facet, section, facetKey);\n    return section;\n}\n\n/**\n * Retrieve page section data(so far id/key and label/description).\n * @param {EntityType} entityType The actual entityType\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n * @param {ExtensionLogger} logger - Logger class for logging messages\n * @param {FioriElementsVersion} oDataVersion - OData version\n * @param {boolean} [checkUnresolvableFacets=false] - Check and avoid facets and sections without ID and Target.\n * @returns {FacetSection[]} - Array of facets or sections\n */\nexport function getObjectPageFacetSection(\n    entityType: EntityType,\n    oDataServiceAVT: ConvertedMetadata,\n    logger?: ExtensionLogger,\n    oDataVersion = FioriElementsVersion.v2,\n    checkUnresolvableFacets = false\n): FacetSection[] {\n    const alias = findAlias(UIVOCABULARY, oDataServiceAVT);\n    let sections: FacetSection[] = [];\n    if (entityType) {\n        const facetAnnotation =\n            alias && entityType.annotations && entityType.annotations[alias] && entityType.annotations[alias].Facets;\n\n        if (facetAnnotation) {\n            sections = facetAnnotation.reduce(function (\n                result: FacetSection[],\n                item:\n                    | AnnotationTerm<CollectionFacet>\n                    | AnnotationTerm<ReferenceFacet>\n                    | AnnotationTerm<ReferenceURLFacet>\n            ) {\n                if (checkUnresolvableFacets && !item['ID'] && !('Target' in item && item['Target'])) {\n                    return result;\n                }\n                const section: FacetSection = getSectionFacet(\n                    item,\n                    entityType,\n                    oDataServiceAVT,\n                    logger,\n                    oDataVersion,\n                    true\n                );\n                if (section) {\n                    result.push(section);\n                }\n                return result;\n            },\n            sections);\n        }\n        return sections;\n    }\n}\n\n/**\n * Cleans empty sub-structures from the export result for manifest\n * @param manifest - manifest.json part of the export result\n * @param path  - path in the manifest\n * @param targetAnnotation - target annotation (optional, in case of sections, subsections)\n * @param targetAnnotationEncoded - encoded version of the target annotation, as represented in the manifest\n */\nexport const deleteEmptyStructure = (\n    manifest: object,\n    path: string,\n    targetAnnotation?: string,\n    targetAnnotationEncoded?: string\n): void => {\n    if (!path) {\n        return;\n    }\n    let manifestSection = manifest;\n    const pathArray = path.split('/');\n    pathArray.forEach(function (element) {\n        const decodedElement =\n            targetAnnotationEncoded && targetAnnotationEncoded === element\n                ? targetAnnotation\n                : element.replace('??', '/');\n        if (!manifestSection[decodedElement]) {\n            return;\n        }\n        if (Object.keys(manifestSection[decodedElement]).length === 0) {\n            if (Array.isArray(manifestSection)) {\n                manifestSection.splice(Number(decodedElement), 1);\n            } else {\n                delete manifestSection[decodedElement];\n            }\n            pathArray.pop();\n            deleteEmptyStructure(manifest, pathArray.join('/'), targetAnnotation, targetAnnotationEncoded);\n            return;\n        }\n        manifestSection = manifestSection && manifestSection[decodedElement];\n    });\n};\n\n/**\n * Method which returns generic schema file name.\n * @param {SchemaType | PageType} schemaType Schema type or Page type.\n * @return {string} File name of generic schema.\n */\nconst getGenericSchemaFileName = (schemaType: SchemaType | PageType | PageTypeV4): string => {\n    if (schemaType === SchemaType.FreestylePage) {\n        return PageType.CustomPage;\n    }\n    return `${schemaType}`;\n};\n\n/**\n * Method which returns schema file name and path depending on passed schema or page type.\n * @param {SchemaType | PageType} schemaType Schema type or Page type.\n * @param {string} [entitySet] Entity set string.\n * @return {SchemaFilePath} File path info.\n */\nexport const getSchemaFilePath = (\n    schemaType: SchemaType | PageType | PageTypeV4,\n    entitySet?: string\n): SchemaFilePath => {\n    const schemaFile: SchemaFilePath = {\n        filename: '',\n        path: ''\n    };\n    switch (schemaType) {\n        // Application schema\n        case SchemaType.Application: {\n            // File name\n            schemaFile.filename = `App`;\n            // Full path\n            schemaFile.path = `./${DirName.Schemas}/${schemaFile.filename}`;\n            break;\n        }\n        // List report and object page\n        case SchemaType.ListReport:\n        case SchemaType.ObjectPage: {\n            // File name\n            schemaFile.filename = entitySet ? `${schemaType}_${entitySet}` : getGenericSchemaFileName(schemaType);\n            // Full path\n            schemaFile.path = `../${DirName.Schemas}/${schemaFile.filename}`;\n            break;\n        }\n        case PageTypeV4.FPMCustomPage: {\n            // File name\n            schemaFile.filename = getGenericSchemaFileName(PageTypeV4.CustomPage);\n            // Full path\n            schemaFile.path = `../${DirName.Schemas}/${schemaFile.filename}`;\n            break;\n        }\n        // Other page configs\n        default: {\n            // File name\n            schemaFile.filename = getGenericSchemaFileName(schemaType);\n            // Full path\n            schemaFile.path = `../${DirName.Schemas}/${schemaFile.filename}`;\n            break;\n        }\n    }\n    schemaFile.path += '.json';\n    return schemaFile;\n};\n\n/**\n * Method which generates id of page according to passed parameters.\n * @param appVersion - Fiori Elements version - V2 or V4.\n * @param pageType - Page type.\n * @param entitySet - Entity Set.\n * @param viewId - Custom page's viewId (optional).\n * @returns {string} Generated page id\n */\n\nexport function generatePageId(pageType: PageType | PageTypeV4, entitySet: string, viewId?: string): string {\n    if (pageType === PageType.CustomPage) {\n        const names = viewId && viewId.split('.');\n        return names && names[names.length - 1] + 'Page';\n    }\n    const parts: string[] = [];\n    parts.push(pageType);\n    if (entitySet) {\n        parts.push(entitySet);\n    }\n    return parts.join('_');\n}\n\nexport type NextDefinition = {\n    configObject?: object;\n    targetDefinition?: object;\n    title?: string;\n};\n\nfunction fillArrayFromAnyOfReference(\n    element: Definition,\n    appSchema: Definition,\n    currentConfigObject: object,\n    definitionArray: any[]\n) {\n    const $ref = element.$ref;\n    if ($ref) {\n        const definitionKey = $ref.split(DEFINITION_LINK_PREFIX)[1];\n        if (appSchema.definitions[definitionKey]) {\n            const controlProperty = appSchema.definitions[definitionKey]['controlProperty'];\n            if ($ref.includes(currentConfigObject[controlProperty])) {\n                definitionArray.push(definitionKey);\n            }\n        }\n    }\n}\n\n/**\n * Fills an array of next definitions from given references in the JSON schema\n * @param propertyDefinition - Definition of the current property in schema\n * @param currentConfigObject - Current object in the config JSON. Evaluated to get the right value of a controlling property,\n *                              for making the right choice in case of multiple options (anyOf)\n * @param appSchema - app-specific JSON schema\n * @returns an array of definitions to proceed with\n */\nfunction fillArrayFromPropertyDefinition(\n    propertyDefinition: Definition,\n    currentConfigObject: object,\n    appSchema: Definition\n): any[] {\n    const definitionArray = [];\n    if (propertyDefinition.$ref) {\n        definitionArray.push(propertyDefinition.$ref.split(DEFINITION_LINK_PREFIX)[1]);\n    } else if (propertyDefinition.anyOf) {\n        if (currentConfigObject) {\n            propertyDefinition.anyOf.forEach((element) => {\n                fillArrayFromAnyOfReference(element as Definition, appSchema, currentConfigObject, definitionArray);\n            });\n        }\n        if (definitionArray.length === 0) {\n            return undefined;\n        }\n    }\n    return definitionArray;\n}\n\n/**\n * Determines the next definition to be handled, based on the definition array.\n * It also creates the Metadata instance for the next definition, to subsequently access metadata like the syncRule\n * @param definitionArray - Array of definitions, as determined by fillArrayFromNextDefinition\n * @param appSchema - app-specific JSON schema\n * @param title - default title\n * @param currentConfigObject - Current object in the config JSON.\n * @param key - actual key\n * @param {MetadataInstanceInterface} factory - factory for creating metadata instances\n * @param pageType - page type\n * @param propertyDefinition - Definition of the current property in schema\n * @returns {NextDefinition} - Next target definition to process\n */\nfunction determineNextDefinitionFromDefinitionArray(\n    definitionArray: any[],\n    appSchema: object,\n    title: string,\n    currentConfigObject: object,\n    key: string,\n    factory: MetadataInstanceInterface,\n    pageType: PageType | PageTypeV4,\n    propertyDefinition: object\n): NextDefinition {\n    let nextDefinition: NextDefinition = {\n        configObject: undefined,\n        targetDefinition: {},\n        title: ''\n    };\n    if (definitionArray.length) {\n        const lastDefinition = definitionArray[definitionArray.length - 1];\n        nextDefinition.targetDefinition = appSchema['definitions'][lastDefinition];\n\n        if (nextDefinition?.targetDefinition?.['$ref'] || nextDefinition?.targetDefinition?.['type'] === 'array') {\n            // eslint-disable-next-line @typescript-eslint/no-use-before-define\n            nextDefinition = getNextTargetDefinition(\n                appSchema,\n                title,\n                currentConfigObject,\n                nextDefinition.targetDefinition,\n                key,\n                factory,\n                pageType\n            );\n            return nextDefinition;\n        }\n        if (definitionArray.length > 1) {\n            definitionArray.forEach((element) => {\n                if (element !== '') {\n                    nextDefinition.targetDefinition['properties'] = {\n                        ...nextDefinition.targetDefinition['properties'],\n                        ...appSchema['definitions'][element]['properties']\n                    };\n                }\n            });\n        }\n        nextDefinition.title = nextDefinition?.targetDefinition?.['title']\n            ? nextDefinition.targetDefinition['title']\n            : title;\n        const factoryKey = lastDefinition?.split('<')[0];\n        const targetObject = currentConfigObject ? currentConfigObject : {};\n        nextDefinition.configObject = factory.createInstance(\n            pageType,\n            factoryKey,\n            targetObject,\n            nextDefinition?.targetDefinition?.['controlProperty']\n        );\n    } else {\n        //e.g. sections ==> loop over all properties = subsections or other\n        nextDefinition.targetDefinition = propertyDefinition;\n        nextDefinition.title = nextDefinition.targetDefinition['title']\n            ? nextDefinition.targetDefinition['title']\n            : key;\n        nextDefinition.configObject = currentConfigObject;\n    }\n    return nextDefinition;\n}\n\n/**\n * Recursive function to determine the next config part, next definition in the app schema and the title\n * @param appSchema - app-specific JSON schema\n * @param title - default title\n * @param currentConfigObject - current part of the configuration that gets traversed\n * @param propertyDefinition - definition of a given property in the app schema\n * @param key - actual key\n * @param {MetadataInstanceInterface} factory - factory for creating metadata instances\n * @param pageType - page type\n */\nexport function getNextTargetDefinition(\n    appSchema: object,\n    title: string,\n    currentConfigObject: object,\n    propertyDefinition: object,\n    key: string,\n    factory: MetadataInstanceInterface,\n    pageType: PageType | PageTypeV4\n): NextDefinition {\n    let nextDefinition: NextDefinition;\n    if (propertyDefinition['type'] === 'array') {\n        nextDefinition = getNextTargetDefinition(\n            appSchema,\n            title,\n            currentConfigObject,\n            propertyDefinition['items'],\n            key,\n            factory,\n            pageType\n        );\n        return nextDefinition;\n    }\n    const definitionArray = fillArrayFromPropertyDefinition(propertyDefinition, currentConfigObject, appSchema);\n    if (!definitionArray) {\n        return undefined;\n    }\n    nextDefinition = determineNextDefinitionFromDefinitionArray(\n        definitionArray,\n        appSchema,\n        title,\n        currentConfigObject,\n        key,\n        factory,\n        pageType,\n        propertyDefinition\n    );\n    return nextDefinition;\n}\n\n/**\n * Custom array merge function called by deepmerge's merge function\n *\n * @param {*} target Target array\n * @param {*} source Source array\n * @param {*} options options object provided by deepmerge's merge function\n * @returns\n */\nexport const arrayCombineMerge = (target, source, options): string[] => {\n    const destination = target.slice();\n    source.forEach((item, index) => {\n        if (typeof destination[index] === 'undefined') {\n            destination[index] = options.cloneUnlessOtherwiseSpecified(item, options);\n        } else if (options.isMergeableObject(item)) {\n            destination[index] = merge(target[index], item, options);\n        } else if (target.indexOf(item) === -1) {\n            destination.push(item);\n        }\n    });\n    return destination;\n};\n\n/**\n * Converts an enum into a CSV\n * @param {object} manifestSection - manifestSection where the key exists\n * @param {object} configPart - Property as mentioned in config file\n * @param {string} key - Property to be exported to manifest\n */\nexport function convertEnumToCSV(manifestSection, configPart, key: string): void {\n    manifestSection[key] = JSON.parse(JSON.stringify(configPart[key]));\n    // convert enum array to joined string\n    const field = configPart[key];\n    manifestSection[key] = field.join();\n}\n\n/**\n * Converts an action ID from the internal format (schema, config) to the stable ID representation\n * @param actionId - the (unique) internal format of the action ID\n * @returns the converted action ID\n */\nexport function convertActionKeyToStableId(actionId: string): string {\n    return (actionId.indexOf('??') > -1 ? actionId.split('??')[1] : actionId).replace(/@/g, '::');\n}\n\n/**\n * Method returns definition key for passed '$ref' property by removing 'definition' prefix\n * @param $ref - definition reference.\n * @returns Definition key.\n */\nexport function getDefinitionKey($ref: string): string {\n    return $ref?.split(DEFINITION_LINK_PREFIX)[1];\n}\n", "export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}", "export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}", "import defineProperty from \"./defineProperty.js\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? Object(arguments[i]) : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys.push.apply(ownKeys, Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}", "export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}", "function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}", "export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}", "import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}", "export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}", "export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}", "import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}", "import _typeof from '@babel/runtime/helpers/esm/typeof';\nimport _objectSpread from '@babel/runtime/helpers/esm/objectSpread';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\n\nvar consoleLogger = {\n  type: 'logger',\n  log: function log(args) {\n    this.output('log', args);\n  },\n  warn: function warn(args) {\n    this.output('warn', args);\n  },\n  error: function error(args) {\n    this.output('error', args);\n  },\n  output: function output(type, args) {\n    if (console && console[type]) console[type].apply(console, args);\n  }\n};\n\nvar Logger = function () {\n  function Logger(concreteLogger) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Logger);\n\n    this.init(concreteLogger, options);\n  }\n\n  _createClass(Logger, [{\n    key: \"init\",\n    value: function init(concreteLogger) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.prefix = options.prefix || 'i18next:';\n      this.logger = concreteLogger || consoleLogger;\n      this.options = options;\n      this.debug = options.debug;\n    }\n  }, {\n    key: \"setDebug\",\n    value: function setDebug(bool) {\n      this.debug = bool;\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this.forward(args, 'log', '', true);\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return this.forward(args, 'warn', '', true);\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return this.forward(args, 'error', '');\n    }\n  }, {\n    key: \"deprecate\",\n    value: function deprecate() {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n    }\n  }, {\n    key: \"forward\",\n    value: function forward(args, lvl, prefix, debugOnly) {\n      if (debugOnly && !this.debug) return null;\n      if (typeof args[0] === 'string') args[0] = \"\".concat(prefix).concat(this.prefix, \" \").concat(args[0]);\n      return this.logger[lvl](args);\n    }\n  }, {\n    key: \"create\",\n    value: function create(moduleName) {\n      return new Logger(this.logger, _objectSpread({}, {\n        prefix: \"\".concat(this.prefix, \":\").concat(moduleName, \":\")\n      }, this.options));\n    }\n  }]);\n\n  return Logger;\n}();\n\nvar baseLogger = new Logger();\n\nvar EventEmitter = function () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n\n    this.observers = {};\n  }\n\n  _createClass(EventEmitter, [{\n    key: \"on\",\n    value: function on(events, listener) {\n      var _this = this;\n\n      events.split(' ').forEach(function (event) {\n        _this.observers[event] = _this.observers[event] || [];\n\n        _this.observers[event].push(listener);\n      });\n      return this;\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, listener) {\n      if (!this.observers[event]) return;\n\n      if (!listener) {\n        delete this.observers[event];\n        return;\n      }\n\n      this.observers[event] = this.observers[event].filter(function (l) {\n        return l !== listener;\n      });\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      if (this.observers[event]) {\n        var cloned = [].concat(this.observers[event]);\n        cloned.forEach(function (observer) {\n          observer.apply(void 0, args);\n        });\n      }\n\n      if (this.observers['*']) {\n        var _cloned = [].concat(this.observers['*']);\n\n        _cloned.forEach(function (observer) {\n          observer.apply(observer, [event].concat(args));\n        });\n      }\n    }\n  }]);\n\n  return EventEmitter;\n}();\n\nfunction defer() {\n  var res;\n  var rej;\n  var promise = new Promise(function (resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n}\nfunction makeString(object) {\n  if (object == null) return '';\n  return '' + object;\n}\nfunction copy(a, s, t) {\n  a.forEach(function (m) {\n    if (s[m]) t[m] = s[m];\n  });\n}\n\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;\n  }\n\n  function canNotTraverseDeeper() {\n    return !object || typeof object === 'string';\n  }\n\n  var stack = typeof path !== 'string' ? [].concat(path) : path.split('.');\n\n  while (stack.length > 1) {\n    if (canNotTraverseDeeper()) return {};\n    var key = cleanKey(stack.shift());\n    if (!object[key] && Empty) object[key] = new Empty();\n\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      object = object[key];\n    } else {\n      object = {};\n    }\n  }\n\n  if (canNotTraverseDeeper()) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack.shift())\n  };\n}\n\nfunction setPath(object, path, newValue) {\n  var _getLastOfPath = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath.obj,\n      k = _getLastOfPath.k;\n\n  obj[k] = newValue;\n}\nfunction pushPath(object, path, newValue, concat) {\n  var _getLastOfPath2 = getLastOfPath(object, path, Object),\n      obj = _getLastOfPath2.obj,\n      k = _getLastOfPath2.k;\n\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\nfunction getPath(object, path) {\n  var _getLastOfPath3 = getLastOfPath(object, path),\n      obj = _getLastOfPath3.obj,\n      k = _getLastOfPath3.k;\n\n  if (!obj) return undefined;\n  return obj[k];\n}\nfunction getPathWithDefaults(data, defaultData, key) {\n  var value = getPath(data, key);\n\n  if (value !== undefined) {\n    return value;\n  }\n\n  return getPath(defaultData, key);\n}\nfunction deepExtend(target, source, overwrite) {\n  for (var prop in source) {\n    if (prop !== '__proto__' && prop !== 'constructor') {\n      if (prop in target) {\n        if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n\n  return target;\n}\nfunction regexEscape(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\nfunction escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, function (s) {\n      return _entityMap[s];\n    });\n  }\n\n  return data;\n}\nvar isIE10 = typeof window !== 'undefined' && window.navigator && window.navigator.userAgent && window.navigator.userAgent.indexOf('MSIE') > -1;\n\nfunction deepFind(obj, path) {\n  var keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';\n  if (!obj) return undefined;\n  if (obj[path]) return obj[path];\n  var paths = path.split(keySeparator);\n  var current = obj;\n\n  for (var i = 0; i < paths.length; ++i) {\n    if (typeof current[paths[i]] === 'string' && i + 1 < paths.length) {\n      return undefined;\n    }\n\n    if (current[paths[i]] === undefined) {\n      var j = 2;\n      var p = paths.slice(i, i + j).join(keySeparator);\n      var mix = current[p];\n\n      while (mix === undefined && paths.length > i + j) {\n        j++;\n        p = paths.slice(i, i + j).join(keySeparator);\n        mix = current[p];\n      }\n\n      if (mix === undefined) return undefined;\n      if (typeof mix === 'string') return mix;\n      if (p && typeof mix[p] === 'string') return mix[p];\n      var joinedPath = paths.slice(i + j).join(keySeparator);\n      if (joinedPath) return deepFind(mix, joinedPath, keySeparator);\n      return undefined;\n    }\n\n    current = current[paths[i]];\n  }\n\n  return current;\n}\n\nvar ResourceStore = function (_EventEmitter) {\n  _inherits(ResourceStore, _EventEmitter);\n\n  function ResourceStore(data) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n\n    _classCallCheck(this, ResourceStore);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ResourceStore).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.data = data || {};\n    _this.options = options;\n\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n\n    if (_this.options.ignoreJSONStructure === undefined) {\n      _this.options.ignoreJSONStructure = true;\n    }\n\n    return _this;\n  }\n\n  _createClass(ResourceStore, [{\n    key: \"addNamespaces\",\n    value: function addNamespaces(ns) {\n      if (this.options.ns.indexOf(ns) < 0) {\n        this.options.ns.push(ns);\n      }\n    }\n  }, {\n    key: \"removeNamespaces\",\n    value: function removeNamespaces(ns) {\n      var index = this.options.ns.indexOf(ns);\n\n      if (index > -1) {\n        this.options.ns.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(lng, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n      var path = [lng, ns];\n      if (key && typeof key !== 'string') path = path.concat(key);\n      if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n      }\n\n      var result = getPath(this.data, path);\n      if (result || !ignoreJSONStructure || typeof key !== 'string') return result;\n      return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);\n    }\n  }, {\n    key: \"addResource\",\n    value: function addResource(lng, ns, key, value) {\n      var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n        silent: false\n      };\n      var keySeparator = this.options.keySeparator;\n      if (keySeparator === undefined) keySeparator = '.';\n      var path = [lng, ns];\n      if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        value = ns;\n        ns = path[1];\n      }\n\n      this.addNamespaces(ns);\n      setPath(this.data, path, value);\n      if (!options.silent) this.emit('added', lng, ns, key, value);\n    }\n  }, {\n    key: \"addResources\",\n    value: function addResources(lng, ns, resources) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n        silent: false\n      };\n\n      for (var m in resources) {\n        if (typeof resources[m] === 'string' || Object.prototype.toString.apply(resources[m]) === '[object Array]') this.addResource(lng, ns, m, resources[m], {\n          silent: true\n        });\n      }\n\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"addResourceBundle\",\n    value: function addResourceBundle(lng, ns, resources, deep, overwrite) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n        silent: false\n      };\n      var path = [lng, ns];\n\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        deep = resources;\n        resources = ns;\n        ns = path[1];\n      }\n\n      this.addNamespaces(ns);\n      var pack = getPath(this.data, path) || {};\n\n      if (deep) {\n        deepExtend(pack, resources, overwrite);\n      } else {\n        pack = _objectSpread({}, pack, resources);\n      }\n\n      setPath(this.data, path, pack);\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"removeResourceBundle\",\n    value: function removeResourceBundle(lng, ns) {\n      if (this.hasResourceBundle(lng, ns)) {\n        delete this.data[lng][ns];\n      }\n\n      this.removeNamespaces(ns);\n      this.emit('removed', lng, ns);\n    }\n  }, {\n    key: \"hasResourceBundle\",\n    value: function hasResourceBundle(lng, ns) {\n      return this.getResource(lng, ns) !== undefined;\n    }\n  }, {\n    key: \"getResourceBundle\",\n    value: function getResourceBundle(lng, ns) {\n      if (!ns) ns = this.options.defaultNS;\n      if (this.options.compatibilityAPI === 'v1') return _objectSpread({}, {}, this.getResource(lng, ns));\n      return this.getResource(lng, ns);\n    }\n  }, {\n    key: \"getDataByLanguage\",\n    value: function getDataByLanguage(lng) {\n      return this.data[lng];\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this.data;\n    }\n  }]);\n\n  return ResourceStore;\n}(EventEmitter);\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor: function addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle: function handle(processors, value, key, options, translator) {\n    var _this = this;\n\n    processors.forEach(function (processor) {\n      if (_this.processors[processor]) value = _this.processors[processor].process(value, key, options, translator);\n    });\n    return value;\n  }\n};\n\nvar checkedLoadedFor = {};\n\nvar Translator = function (_EventEmitter) {\n  _inherits(Translator, _EventEmitter);\n\n  function Translator(services) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Translator);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Translator).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, _assertThisInitialized(_this));\n    _this.options = options;\n\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n\n    _this.logger = baseLogger.create('translator');\n    return _this;\n  }\n\n  _createClass(Translator, [{\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng) {\n      if (lng) this.language = lng;\n    }\n  }, {\n    key: \"exists\",\n    value: function exists(key) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        interpolation: {}\n      };\n      var resolved = this.resolve(key, options);\n      return resolved && resolved.res !== undefined;\n    }\n  }, {\n    key: \"extractFromKey\",\n    value: function extractFromKey(key, options) {\n      var nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n      if (nsSeparator === undefined) nsSeparator = ':';\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var namespaces = options.ns || this.options.defaultNS;\n\n      if (nsSeparator && key.indexOf(nsSeparator) > -1) {\n        var m = key.match(this.interpolator.nestingRegexp);\n\n        if (m && m.length > 0) {\n          return {\n            key: key,\n            namespaces: namespaces\n          };\n        }\n\n        var parts = key.split(nsSeparator);\n        if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n        key = parts.join(keySeparator);\n      }\n\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      return {\n        key: key,\n        namespaces: namespaces\n      };\n    }\n  }, {\n    key: \"translate\",\n    value: function translate(keys, options, lastKey) {\n      var _this2 = this;\n\n      if (_typeof(options) !== 'object' && this.options.overloadTranslationOptionHandler) {\n        options = this.options.overloadTranslationOptionHandler(arguments);\n      }\n\n      if (!options) options = {};\n      if (keys === undefined || keys === null) return '';\n      if (!Array.isArray(keys)) keys = [String(keys)];\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n\n      var _this$extractFromKey = this.extractFromKey(keys[keys.length - 1], options),\n          key = _this$extractFromKey.key,\n          namespaces = _this$extractFromKey.namespaces;\n\n      var namespace = namespaces[namespaces.length - 1];\n      var lng = options.lng || this.language;\n      var appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n\n      if (lng && lng.toLowerCase() === 'cimode') {\n        if (appendNamespaceToCIMode) {\n          var nsSeparator = options.nsSeparator || this.options.nsSeparator;\n          return namespace + nsSeparator + key;\n        }\n\n        return key;\n      }\n\n      var resolved = this.resolve(keys, options);\n      var res = resolved && resolved.res;\n      var resUsedKey = resolved && resolved.usedKey || key;\n      var resExactUsedKey = resolved && resolved.exactUsedKey || key;\n      var resType = Object.prototype.toString.apply(res);\n      var noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n      var joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n      var handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n      var handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';\n\n      if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === 'string' && resType === '[object Array]')) {\n        if (!options.returnObjects && !this.options.returnObjects) {\n          if (!this.options.returnedObjectHandler) {\n            this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n          }\n\n          return this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, _objectSpread({}, options, {\n            ns: namespaces\n          })) : \"key '\".concat(key, \" (\").concat(this.language, \")' returned an object instead of string.\");\n        }\n\n        if (keySeparator) {\n          var resTypeIsArray = resType === '[object Array]';\n          var copy = resTypeIsArray ? [] : {};\n          var newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n\n          for (var m in res) {\n            if (Object.prototype.hasOwnProperty.call(res, m)) {\n              var deepKey = \"\".concat(newKeyToUse).concat(keySeparator).concat(m);\n              copy[m] = this.translate(deepKey, _objectSpread({}, options, {\n                joinArrays: false,\n                ns: namespaces\n              }));\n              if (copy[m] === deepKey) copy[m] = res[m];\n            }\n          }\n\n          res = copy;\n        }\n      } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && resType === '[object Array]') {\n        res = res.join(joinArrays);\n        if (res) res = this.extendTranslation(res, keys, options, lastKey);\n      } else {\n        var usedDefault = false;\n        var usedKey = false;\n        var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n        var hasDefaultValue = Translator.hasDefaultValue(options);\n        var defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count) : '';\n        var defaultValue = options[\"defaultValue\".concat(defaultValueSuffix)] || options.defaultValue;\n\n        if (!this.isValidLookup(res) && hasDefaultValue) {\n          usedDefault = true;\n          res = defaultValue;\n        }\n\n        if (!this.isValidLookup(res)) {\n          usedKey = true;\n          res = key;\n        }\n\n        var updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n\n        if (usedKey || usedDefault || updateMissing) {\n          this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);\n\n          if (keySeparator) {\n            var fk = this.resolve(key, _objectSpread({}, options, {\n              keySeparator: false\n            }));\n            if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n          }\n\n          var lngs = [];\n          var fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n\n          if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n            for (var i = 0; i < fallbackLngs.length; i++) {\n              lngs.push(fallbackLngs[i]);\n            }\n          } else if (this.options.saveMissingTo === 'all') {\n            lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n          } else {\n            lngs.push(options.lng || this.language);\n          }\n\n          var send = function send(l, k, fallbackValue) {\n            if (_this2.options.missingKeyHandler) {\n              _this2.options.missingKeyHandler(l, namespace, k, updateMissing ? fallbackValue : res, updateMissing, options);\n            } else if (_this2.backendConnector && _this2.backendConnector.saveMissing) {\n              _this2.backendConnector.saveMissing(l, namespace, k, updateMissing ? fallbackValue : res, updateMissing, options);\n            }\n\n            _this2.emit('missingKey', l, namespace, k, res);\n          };\n\n          if (this.options.saveMissing) {\n            if (this.options.saveMissingPlurals && needsPluralHandling) {\n              lngs.forEach(function (language) {\n                _this2.pluralResolver.getSuffixes(language).forEach(function (suffix) {\n                  send([language], key + suffix, options[\"defaultValue\".concat(suffix)] || defaultValue);\n                });\n              });\n            } else {\n              send(lngs, key, defaultValue);\n            }\n          }\n        }\n\n        res = this.extendTranslation(res, keys, options, resolved, lastKey);\n        if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = \"\".concat(namespace, \":\").concat(key);\n        if (usedKey && this.options.parseMissingKeyHandler) res = this.options.parseMissingKeyHandler(res);\n      }\n\n      return res;\n    }\n  }, {\n    key: \"extendTranslation\",\n    value: function extendTranslation(res, key, options, resolved, lastKey) {\n      var _this3 = this;\n\n      if (this.i18nFormat && this.i18nFormat.parse) {\n        res = this.i18nFormat.parse(res, options, resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n          resolved: resolved\n        });\n      } else if (!options.skipInterpolation) {\n        if (options.interpolation) this.interpolator.init(_objectSpread({}, options, {\n          interpolation: _objectSpread({}, this.options.interpolation, options.interpolation)\n        }));\n        var skipOnVariables = options.interpolation && options.interpolation.skipOnVariables || this.options.interpolation.skipOnVariables;\n        var nestBef;\n\n        if (skipOnVariables) {\n          var nb = res.match(this.interpolator.nestingRegexp);\n          nestBef = nb && nb.length;\n        }\n\n        var data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n        if (this.options.interpolation.defaultVariables) data = _objectSpread({}, this.options.interpolation.defaultVariables, data);\n        res = this.interpolator.interpolate(res, data, options.lng || this.language, options);\n\n        if (skipOnVariables) {\n          var na = res.match(this.interpolator.nestingRegexp);\n          var nestAft = na && na.length;\n          if (nestBef < nestAft) options.nest = false;\n        }\n\n        if (options.nest !== false) res = this.interpolator.nest(res, function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          if (lastKey && lastKey[0] === args[0] && !options.context) {\n            _this3.logger.warn(\"It seems you are nesting recursively key: \".concat(args[0], \" in key: \").concat(key[0]));\n\n            return null;\n          }\n\n          return _this3.translate.apply(_this3, args.concat([key]));\n        }, options);\n        if (options.interpolation) this.interpolator.reset();\n      }\n\n      var postProcess = options.postProcess || this.options.postProcess;\n      var postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n\n      if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n        res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? _objectSpread({\n          i18nResolved: resolved\n        }, options) : options, this);\n      }\n\n      return res;\n    }\n  }, {\n    key: \"resolve\",\n    value: function resolve(keys) {\n      var _this4 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var found;\n      var usedKey;\n      var exactUsedKey;\n      var usedLng;\n      var usedNS;\n      if (typeof keys === 'string') keys = [keys];\n      keys.forEach(function (k) {\n        if (_this4.isValidLookup(found)) return;\n\n        var extracted = _this4.extractFromKey(k, options);\n\n        var key = extracted.key;\n        usedKey = key;\n        var namespaces = extracted.namespaces;\n        if (_this4.options.fallbackNS) namespaces = namespaces.concat(_this4.options.fallbackNS);\n        var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n        var needsContextHandling = options.context !== undefined && typeof options.context === 'string' && options.context !== '';\n        var codes = options.lngs ? options.lngs : _this4.languageUtils.toResolveHierarchy(options.lng || _this4.language, options.fallbackLng);\n        namespaces.forEach(function (ns) {\n          if (_this4.isValidLookup(found)) return;\n          usedNS = ns;\n\n          if (!checkedLoadedFor[\"\".concat(codes[0], \"-\").concat(ns)] && _this4.utils && _this4.utils.hasLoadedNamespace && !_this4.utils.hasLoadedNamespace(usedNS)) {\n            checkedLoadedFor[\"\".concat(codes[0], \"-\").concat(ns)] = true;\n\n            _this4.logger.warn(\"key \\\"\".concat(usedKey, \"\\\" for languages \\\"\").concat(codes.join(', '), \"\\\" won't get resolved as namespace \\\"\").concat(usedNS, \"\\\" was not yet loaded\"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n          }\n\n          codes.forEach(function (code) {\n            if (_this4.isValidLookup(found)) return;\n            usedLng = code;\n            var finalKey = key;\n            var finalKeys = [finalKey];\n\n            if (_this4.i18nFormat && _this4.i18nFormat.addLookupKeys) {\n              _this4.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n            } else {\n              var pluralSuffix;\n              if (needsPluralHandling) pluralSuffix = _this4.pluralResolver.getSuffix(code, options.count);\n              if (needsPluralHandling && needsContextHandling) finalKeys.push(finalKey + pluralSuffix);\n              if (needsContextHandling) finalKeys.push(finalKey += \"\".concat(_this4.options.contextSeparator).concat(options.context));\n              if (needsPluralHandling) finalKeys.push(finalKey += pluralSuffix);\n            }\n\n            var possibleKey;\n\n            while (possibleKey = finalKeys.pop()) {\n              if (!_this4.isValidLookup(found)) {\n                exactUsedKey = possibleKey;\n                found = _this4.getResource(code, ns, possibleKey, options);\n              }\n            }\n          });\n        });\n      });\n      return {\n        res: found,\n        usedKey: usedKey,\n        exactUsedKey: exactUsedKey,\n        usedLng: usedLng,\n        usedNS: usedNS\n      };\n    }\n  }, {\n    key: \"isValidLookup\",\n    value: function isValidLookup(res) {\n      return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(code, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n      return this.resourceStore.getResource(code, ns, key, options);\n    }\n  }], [{\n    key: \"hasDefaultValue\",\n    value: function hasDefaultValue(options) {\n      var prefix = 'defaultValue';\n\n      for (var option in options) {\n        if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }]);\n\n  return Translator;\n}(EventEmitter);\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nvar LanguageUtil = function () {\n  function LanguageUtil(options) {\n    _classCallCheck(this, LanguageUtil);\n\n    this.options = options;\n    this.whitelist = this.options.supportedLngs || false;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n\n  _createClass(LanguageUtil, [{\n    key: \"getScriptPartFromCode\",\n    value: function getScriptPartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return null;\n      var p = code.split('-');\n      if (p.length === 2) return null;\n      p.pop();\n      if (p[p.length - 1].toLowerCase() === 'x') return null;\n      return this.formatLanguageCode(p.join('-'));\n    }\n  }, {\n    key: \"getLanguagePartFromCode\",\n    value: function getLanguagePartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return code;\n      var p = code.split('-');\n      return this.formatLanguageCode(p[0]);\n    }\n  }, {\n    key: \"formatLanguageCode\",\n    value: function formatLanguageCode(code) {\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        var specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n        var p = code.split('-');\n\n        if (this.options.lowerCaseLng) {\n          p = p.map(function (part) {\n            return part.toLowerCase();\n          });\n        } else if (p.length === 2) {\n          p[0] = p[0].toLowerCase();\n          p[1] = p[1].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        } else if (p.length === 3) {\n          p[0] = p[0].toLowerCase();\n          if (p[1].length === 2) p[1] = p[1].toUpperCase();\n          if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n          if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n        }\n\n        return p.join('-');\n      }\n\n      return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n    }\n  }, {\n    key: \"isWhitelisted\",\n    value: function isWhitelisted(code) {\n      this.logger.deprecate('languageUtils.isWhitelisted', 'function \"isWhitelisted\" will be renamed to \"isSupportedCode\" in the next major - please make sure to rename it\\'s usage asap.');\n      return this.isSupportedCode(code);\n    }\n  }, {\n    key: \"isSupportedCode\",\n    value: function isSupportedCode(code) {\n      if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n        code = this.getLanguagePartFromCode(code);\n      }\n\n      return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n    }\n  }, {\n    key: \"getBestMatchFromCodes\",\n    value: function getBestMatchFromCodes(codes) {\n      var _this = this;\n\n      if (!codes) return null;\n      var found;\n      codes.forEach(function (code) {\n        if (found) return;\n\n        var cleanedLng = _this.formatLanguageCode(code);\n\n        if (!_this.options.supportedLngs || _this.isSupportedCode(cleanedLng)) found = cleanedLng;\n      });\n\n      if (!found && this.options.supportedLngs) {\n        codes.forEach(function (code) {\n          if (found) return;\n\n          var lngOnly = _this.getLanguagePartFromCode(code);\n\n          if (_this.isSupportedCode(lngOnly)) return found = lngOnly;\n          found = _this.options.supportedLngs.find(function (supportedLng) {\n            if (supportedLng.indexOf(lngOnly) === 0) return supportedLng;\n          });\n        });\n      }\n\n      if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n      return found;\n    }\n  }, {\n    key: \"getFallbackCodes\",\n    value: function getFallbackCodes(fallbacks, code) {\n      if (!fallbacks) return [];\n      if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n      if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n      if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;\n      if (!code) return fallbacks[\"default\"] || [];\n      var found = fallbacks[code];\n      if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n      if (!found) found = fallbacks[this.formatLanguageCode(code)];\n      if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n      if (!found) found = fallbacks[\"default\"];\n      return found || [];\n    }\n  }, {\n    key: \"toResolveHierarchy\",\n    value: function toResolveHierarchy(code, fallbackCode) {\n      var _this2 = this;\n\n      var fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n      var codes = [];\n\n      var addCode = function addCode(c) {\n        if (!c) return;\n\n        if (_this2.isSupportedCode(c)) {\n          codes.push(c);\n        } else {\n          _this2.logger.warn(\"rejecting language code not found in supportedLngs: \".concat(c));\n        }\n      };\n\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n        if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n        if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n      } else if (typeof code === 'string') {\n        addCode(this.formatLanguageCode(code));\n      }\n\n      fallbackCodes.forEach(function (fc) {\n        if (codes.indexOf(fc) < 0) addCode(_this2.formatLanguageCode(fc));\n      });\n      return codes;\n    }\n  }]);\n\n  return LanguageUtil;\n}();\n\nvar sets = [{\n  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],\n  nr: [1, 2],\n  fc: 1\n}, {\n  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],\n  nr: [1, 2],\n  fc: 2\n}, {\n  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],\n  nr: [1],\n  fc: 3\n}, {\n  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],\n  nr: [1, 2, 5],\n  fc: 4\n}, {\n  lngs: ['ar'],\n  nr: [0, 1, 2, 3, 11, 100],\n  fc: 5\n}, {\n  lngs: ['cs', 'sk'],\n  nr: [1, 2, 5],\n  fc: 6\n}, {\n  lngs: ['csb', 'pl'],\n  nr: [1, 2, 5],\n  fc: 7\n}, {\n  lngs: ['cy'],\n  nr: [1, 2, 3, 8],\n  fc: 8\n}, {\n  lngs: ['fr'],\n  nr: [1, 2],\n  fc: 9\n}, {\n  lngs: ['ga'],\n  nr: [1, 2, 3, 7, 11],\n  fc: 10\n}, {\n  lngs: ['gd'],\n  nr: [1, 2, 3, 20],\n  fc: 11\n}, {\n  lngs: ['is'],\n  nr: [1, 2],\n  fc: 12\n}, {\n  lngs: ['jv'],\n  nr: [0, 1],\n  fc: 13\n}, {\n  lngs: ['kw'],\n  nr: [1, 2, 3, 4],\n  fc: 14\n}, {\n  lngs: ['lt'],\n  nr: [1, 2, 10],\n  fc: 15\n}, {\n  lngs: ['lv'],\n  nr: [1, 2, 0],\n  fc: 16\n}, {\n  lngs: ['mk'],\n  nr: [1, 2],\n  fc: 17\n}, {\n  lngs: ['mnk'],\n  nr: [0, 1, 2],\n  fc: 18\n}, {\n  lngs: ['mt'],\n  nr: [1, 2, 11, 20],\n  fc: 19\n}, {\n  lngs: ['or'],\n  nr: [2, 1],\n  fc: 2\n}, {\n  lngs: ['ro'],\n  nr: [1, 2, 20],\n  fc: 20\n}, {\n  lngs: ['sl'],\n  nr: [5, 1, 2, 3],\n  fc: 21\n}, {\n  lngs: ['he', 'iw'],\n  nr: [1, 2, 20, 21],\n  fc: 22\n}];\nvar _rulesPluralsTypes = {\n  1: function _(n) {\n    return Number(n > 1);\n  },\n  2: function _(n) {\n    return Number(n != 1);\n  },\n  3: function _(n) {\n    return 0;\n  },\n  4: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  5: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n  },\n  6: function _(n) {\n    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n  },\n  7: function _(n) {\n    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  8: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n  },\n  9: function _(n) {\n    return Number(n >= 2);\n  },\n  10: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n  },\n  11: function _(n) {\n    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n  },\n  12: function _(n) {\n    return Number(n % 10 != 1 || n % 100 == 11);\n  },\n  13: function _(n) {\n    return Number(n !== 0);\n  },\n  14: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n  },\n  15: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  16: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n  },\n  17: function _(n) {\n    return Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1);\n  },\n  18: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n  },\n  19: function _(n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n  },\n  20: function _(n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n  },\n  21: function _(n) {\n    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n  },\n  22: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);\n  }\n};\n\nfunction createRules() {\n  var rules = {};\n  sets.forEach(function (set) {\n    set.lngs.forEach(function (l) {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n}\n\nvar PluralResolver = function () {\n  function PluralResolver(languageUtils) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, PluralResolver);\n\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n    this.rules = createRules();\n  }\n\n  _createClass(PluralResolver, [{\n    key: \"addRule\",\n    value: function addRule(lng, obj) {\n      this.rules[lng] = obj;\n    }\n  }, {\n    key: \"getRule\",\n    value: function getRule(code) {\n      return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n    }\n  }, {\n    key: \"needsPlural\",\n    value: function needsPlural(code) {\n      var rule = this.getRule(code);\n      return rule && rule.numbers.length > 1;\n    }\n  }, {\n    key: \"getPluralFormsOfKey\",\n    value: function getPluralFormsOfKey(code, key) {\n      return this.getSuffixes(code).map(function (suffix) {\n        return key + suffix;\n      });\n    }\n  }, {\n    key: \"getSuffixes\",\n    value: function getSuffixes(code) {\n      var _this = this;\n\n      var rule = this.getRule(code);\n\n      if (!rule) {\n        return [];\n      }\n\n      return rule.numbers.map(function (number) {\n        return _this.getSuffix(code, number);\n      });\n    }\n  }, {\n    key: \"getSuffix\",\n    value: function getSuffix(code, count) {\n      var _this2 = this;\n\n      var rule = this.getRule(code);\n\n      if (rule) {\n        var idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n        var suffix = rule.numbers[idx];\n\n        if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n          if (suffix === 2) {\n            suffix = 'plural';\n          } else if (suffix === 1) {\n            suffix = '';\n          }\n        }\n\n        var returnSuffix = function returnSuffix() {\n          return _this2.options.prepend && suffix.toString() ? _this2.options.prepend + suffix.toString() : suffix.toString();\n        };\n\n        if (this.options.compatibilityJSON === 'v1') {\n          if (suffix === 1) return '';\n          if (typeof suffix === 'number') return \"_plural_\".concat(suffix.toString());\n          return returnSuffix();\n        } else if (this.options.compatibilityJSON === 'v2') {\n          return returnSuffix();\n        } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n          return returnSuffix();\n        }\n\n        return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n      }\n\n      this.logger.warn(\"no plural rule found for: \".concat(code));\n      return '';\n    }\n  }]);\n\n  return PluralResolver;\n}();\n\nvar Interpolator = function () {\n  function Interpolator() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Interpolator);\n\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n\n    this.format = options.interpolation && options.interpolation.format || function (value) {\n      return value;\n    };\n\n    this.init(options);\n  }\n\n  _createClass(Interpolator, [{\n    key: \"init\",\n    value: function init() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (!options.interpolation) options.interpolation = {\n        escapeValue: true\n      };\n      var iOpts = options.interpolation;\n      this.escape = iOpts.escape !== undefined ? iOpts.escape : escape;\n      this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;\n      this.useRawValueToEscape = iOpts.useRawValueToEscape !== undefined ? iOpts.useRawValueToEscape : false;\n      this.prefix = iOpts.prefix ? regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';\n      this.suffix = iOpts.suffix ? regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';\n      this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n      this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';\n      this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';\n      this.nestingPrefix = iOpts.nestingPrefix ? regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || regexEscape('$t(');\n      this.nestingSuffix = iOpts.nestingSuffix ? regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || regexEscape(')');\n      this.nestingOptionsSeparator = iOpts.nestingOptionsSeparator ? iOpts.nestingOptionsSeparator : iOpts.nestingOptionsSeparator || ',';\n      this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000;\n      this.alwaysFormat = iOpts.alwaysFormat !== undefined ? iOpts.alwaysFormat : false;\n      this.resetRegExp();\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      if (this.options) this.init(this.options);\n    }\n  }, {\n    key: \"resetRegExp\",\n    value: function resetRegExp() {\n      var regexpStr = \"\".concat(this.prefix, \"(.+?)\").concat(this.suffix);\n      this.regexp = new RegExp(regexpStr, 'g');\n      var regexpUnescapeStr = \"\".concat(this.prefix).concat(this.unescapePrefix, \"(.+?)\").concat(this.unescapeSuffix).concat(this.suffix);\n      this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');\n      var nestingRegexpStr = \"\".concat(this.nestingPrefix, \"(.+?)\").concat(this.nestingSuffix);\n      this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');\n    }\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(str, data, lng, options) {\n      var _this = this;\n\n      var match;\n      var value;\n      var replaces;\n      var defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n\n      function regexSafe(val) {\n        return val.replace(/\\$/g, '$$$$');\n      }\n\n      var handleFormat = function handleFormat(key) {\n        if (key.indexOf(_this.formatSeparator) < 0) {\n          var path = getPathWithDefaults(data, defaultData, key);\n          return _this.alwaysFormat ? _this.format(path, undefined, lng, _objectSpread({}, options, data, {\n            interpolationkey: key\n          })) : path;\n        }\n\n        var p = key.split(_this.formatSeparator);\n        var k = p.shift().trim();\n        var f = p.join(_this.formatSeparator).trim();\n        return _this.format(getPathWithDefaults(data, defaultData, k), f, lng, _objectSpread({}, options, data, {\n          interpolationkey: k\n        }));\n      };\n\n      this.resetRegExp();\n      var missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;\n      var skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables || this.options.interpolation.skipOnVariables;\n      var todos = [{\n        regex: this.regexpUnescape,\n        safeValue: function safeValue(val) {\n          return regexSafe(val);\n        }\n      }, {\n        regex: this.regexp,\n        safeValue: function safeValue(val) {\n          return _this.escapeValue ? regexSafe(_this.escape(val)) : regexSafe(val);\n        }\n      }];\n      todos.forEach(function (todo) {\n        replaces = 0;\n\n        while (match = todo.regex.exec(str)) {\n          value = handleFormat(match[1].trim());\n\n          if (value === undefined) {\n            if (typeof missingInterpolationHandler === 'function') {\n              var temp = missingInterpolationHandler(str, match, options);\n              value = typeof temp === 'string' ? temp : '';\n            } else if (skipOnVariables) {\n              value = match[0];\n              continue;\n            } else {\n              _this.logger.warn(\"missed to pass in variable \".concat(match[1], \" for interpolating \").concat(str));\n\n              value = '';\n            }\n          } else if (typeof value !== 'string' && !_this.useRawValueToEscape) {\n            value = makeString(value);\n          }\n\n          var safeValue = todo.safeValue(value);\n          str = str.replace(match[0], safeValue);\n\n          if (skipOnVariables) {\n            todo.regex.lastIndex += safeValue.length;\n            todo.regex.lastIndex -= match[0].length;\n          } else {\n            todo.regex.lastIndex = 0;\n          }\n\n          replaces++;\n\n          if (replaces >= _this.maxReplaces) {\n            break;\n          }\n        }\n      });\n      return str;\n    }\n  }, {\n    key: \"nest\",\n    value: function nest(str, fc) {\n      var _this2 = this;\n\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var match;\n      var value;\n\n      var clonedOptions = _objectSpread({}, options);\n\n      clonedOptions.applyPostProcessor = false;\n      delete clonedOptions.defaultValue;\n\n      function handleHasOptions(key, inheritedOptions) {\n        var sep = this.nestingOptionsSeparator;\n        if (key.indexOf(sep) < 0) return key;\n        var c = key.split(new RegExp(\"\".concat(sep, \"[ ]*{\")));\n        var optionsString = \"{\".concat(c[1]);\n        key = c[0];\n        optionsString = this.interpolate(optionsString, clonedOptions);\n        optionsString = optionsString.replace(/'/g, '\"');\n\n        try {\n          clonedOptions = JSON.parse(optionsString);\n          if (inheritedOptions) clonedOptions = _objectSpread({}, inheritedOptions, clonedOptions);\n        } catch (e) {\n          this.logger.warn(\"failed parsing options string in nesting for key \".concat(key), e);\n          return \"\".concat(key).concat(sep).concat(optionsString);\n        }\n\n        delete clonedOptions.defaultValue;\n        return key;\n      }\n\n      while (match = this.nestingRegexp.exec(str)) {\n        var formatters = [];\n        var doReduce = false;\n\n        if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {\n          var r = match[1].split(this.formatSeparator).map(function (elem) {\n            return elem.trim();\n          });\n          match[1] = r.shift();\n          formatters = r;\n          doReduce = true;\n        }\n\n        value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n        if (value && match[0] === str && typeof value !== 'string') return value;\n        if (typeof value !== 'string') value = makeString(value);\n\n        if (!value) {\n          this.logger.warn(\"missed to resolve \".concat(match[1], \" for nesting \").concat(str));\n          value = '';\n        }\n\n        if (doReduce) {\n          value = formatters.reduce(function (v, f) {\n            return _this2.format(v, f, options.lng, _objectSpread({}, options, {\n              interpolationkey: match[1].trim()\n            }));\n          }, value.trim());\n        }\n\n        str = str.replace(match[0], value);\n        this.regexp.lastIndex = 0;\n      }\n\n      return str;\n    }\n  }]);\n\n  return Interpolator;\n}();\n\nfunction remove(arr, what) {\n  var found = arr.indexOf(what);\n\n  while (found !== -1) {\n    arr.splice(found, 1);\n    found = arr.indexOf(what);\n  }\n}\n\nvar Connector = function (_EventEmitter) {\n  _inherits(Connector, _EventEmitter);\n\n  function Connector(backend, store, services) {\n    var _this;\n\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    _classCallCheck(this, Connector);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Connector).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.backend = backend;\n    _this.store = store;\n    _this.services = services;\n    _this.languageUtils = services.languageUtils;\n    _this.options = options;\n    _this.logger = baseLogger.create('backendConnector');\n    _this.state = {};\n    _this.queue = [];\n\n    if (_this.backend && _this.backend.init) {\n      _this.backend.init(services, options.backend, options);\n    }\n\n    return _this;\n  }\n\n  _createClass(Connector, [{\n    key: \"queueLoad\",\n    value: function queueLoad(languages, namespaces, options, callback) {\n      var _this2 = this;\n\n      var toLoad = [];\n      var pending = [];\n      var toLoadLanguages = [];\n      var toLoadNamespaces = [];\n      languages.forEach(function (lng) {\n        var hasAllNamespaces = true;\n        namespaces.forEach(function (ns) {\n          var name = \"\".concat(lng, \"|\").concat(ns);\n\n          if (!options.reload && _this2.store.hasResourceBundle(lng, ns)) {\n            _this2.state[name] = 2;\n          } else if (_this2.state[name] < 0) ; else if (_this2.state[name] === 1) {\n            if (pending.indexOf(name) < 0) pending.push(name);\n          } else {\n            _this2.state[name] = 1;\n            hasAllNamespaces = false;\n            if (pending.indexOf(name) < 0) pending.push(name);\n            if (toLoad.indexOf(name) < 0) toLoad.push(name);\n            if (toLoadNamespaces.indexOf(ns) < 0) toLoadNamespaces.push(ns);\n          }\n        });\n        if (!hasAllNamespaces) toLoadLanguages.push(lng);\n      });\n\n      if (toLoad.length || pending.length) {\n        this.queue.push({\n          pending: pending,\n          loaded: {},\n          errors: [],\n          callback: callback\n        });\n      }\n\n      return {\n        toLoad: toLoad,\n        pending: pending,\n        toLoadLanguages: toLoadLanguages,\n        toLoadNamespaces: toLoadNamespaces\n      };\n    }\n  }, {\n    key: \"loaded\",\n    value: function loaded(name, err, data) {\n      var s = name.split('|');\n      var lng = s[0];\n      var ns = s[1];\n      if (err) this.emit('failedLoading', lng, ns, err);\n\n      if (data) {\n        this.store.addResourceBundle(lng, ns, data);\n      }\n\n      this.state[name] = err ? -1 : 2;\n      var loaded = {};\n      this.queue.forEach(function (q) {\n        pushPath(q.loaded, [lng], ns);\n        remove(q.pending, name);\n        if (err) q.errors.push(err);\n\n        if (q.pending.length === 0 && !q.done) {\n          Object.keys(q.loaded).forEach(function (l) {\n            if (!loaded[l]) loaded[l] = [];\n\n            if (q.loaded[l].length) {\n              q.loaded[l].forEach(function (ns) {\n                if (loaded[l].indexOf(ns) < 0) loaded[l].push(ns);\n              });\n            }\n          });\n          q.done = true;\n\n          if (q.errors.length) {\n            q.callback(q.errors);\n          } else {\n            q.callback();\n          }\n        }\n      });\n      this.emit('loaded', loaded);\n      this.queue = this.queue.filter(function (q) {\n        return !q.done;\n      });\n    }\n  }, {\n    key: \"read\",\n    value: function read(lng, ns, fcName) {\n      var _this3 = this;\n\n      var tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      var wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 350;\n      var callback = arguments.length > 5 ? arguments[5] : undefined;\n      if (!lng.length) return callback(null, {});\n      return this.backend[fcName](lng, ns, function (err, data) {\n        if (err && data && tried < 5) {\n          setTimeout(function () {\n            _this3.read.call(_this3, lng, ns, fcName, tried + 1, wait * 2, callback);\n          }, wait);\n          return;\n        }\n\n        callback(err, data);\n      });\n    }\n  }, {\n    key: \"prepareLoading\",\n    value: function prepareLoading(languages, namespaces) {\n      var _this4 = this;\n\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var callback = arguments.length > 3 ? arguments[3] : undefined;\n\n      if (!this.backend) {\n        this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n        return callback && callback();\n      }\n\n      if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      var toLoad = this.queueLoad(languages, namespaces, options, callback);\n\n      if (!toLoad.toLoad.length) {\n        if (!toLoad.pending.length) callback();\n        return null;\n      }\n\n      toLoad.toLoad.forEach(function (name) {\n        _this4.loadOne(name);\n      });\n    }\n  }, {\n    key: \"load\",\n    value: function load(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {}, callback);\n    }\n  }, {\n    key: \"reload\",\n    value: function reload(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {\n        reload: true\n      }, callback);\n    }\n  }, {\n    key: \"loadOne\",\n    value: function loadOne(name) {\n      var _this5 = this;\n\n      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var s = name.split('|');\n      var lng = s[0];\n      var ns = s[1];\n      this.read(lng, ns, 'read', undefined, undefined, function (err, data) {\n        if (err) _this5.logger.warn(\"\".concat(prefix, \"loading namespace \").concat(ns, \" for language \").concat(lng, \" failed\"), err);\n        if (!err && data) _this5.logger.log(\"\".concat(prefix, \"loaded namespace \").concat(ns, \" for language \").concat(lng), data);\n\n        _this5.loaded(name, err, data);\n      });\n    }\n  }, {\n    key: \"saveMissing\",\n    value: function saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n\n      if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {\n        this.logger.warn(\"did not save key \\\"\".concat(key, \"\\\" as the namespace \\\"\").concat(namespace, \"\\\" was not yet loaded\"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        return;\n      }\n\n      if (key === undefined || key === null || key === '') return;\n\n      if (this.backend && this.backend.create) {\n        this.backend.create(languages, namespace, key, fallbackValue, null, _objectSpread({}, options, {\n          isUpdate: isUpdate\n        }));\n      }\n\n      if (!languages || !languages[0]) return;\n      this.store.addResource(languages[0], namespace, key, fallbackValue);\n    }\n  }]);\n\n  return Connector;\n}(EventEmitter);\n\nfunction get() {\n  return {\n    debug: false,\n    initImmediate: true,\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false,\n    whitelist: false,\n    nonExplicitWhitelist: false,\n    supportedLngs: false,\n    nonExplicitSupportedLngs: false,\n    load: 'all',\n    preload: false,\n    simplifyPluralSuffix: true,\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n    partialBundledLanguages: false,\n    saveMissing: false,\n    updateMissing: false,\n    saveMissingTo: 'fallback',\n    saveMissingPlurals: true,\n    missingKeyHandler: false,\n    missingInterpolationHandler: false,\n    postProcess: false,\n    postProcessPassResolved: false,\n    returnNull: true,\n    returnEmptyString: true,\n    returnObjects: false,\n    joinArrays: false,\n    returnedObjectHandler: false,\n    parseMissingKeyHandler: false,\n    appendNamespaceToMissingKey: false,\n    appendNamespaceToCIMode: false,\n    overloadTranslationOptionHandler: function handle(args) {\n      var ret = {};\n      if (_typeof(args[1]) === 'object') ret = args[1];\n      if (typeof args[1] === 'string') ret.defaultValue = args[1];\n      if (typeof args[2] === 'string') ret.tDescription = args[2];\n\n      if (_typeof(args[2]) === 'object' || _typeof(args[3]) === 'object') {\n        var options = args[3] || args[2];\n        Object.keys(options).forEach(function (key) {\n          ret[key] = options[key];\n        });\n      }\n\n      return ret;\n    },\n    interpolation: {\n      escapeValue: true,\n      format: function format(value, _format, lng, options) {\n        return value;\n      },\n      prefix: '{{',\n      suffix: '}}',\n      formatSeparator: ',',\n      unescapePrefix: '-',\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      nestingOptionsSeparator: ',',\n      maxReplaces: 1000,\n      skipOnVariables: false\n    }\n  };\n}\nfunction transformOptions(options) {\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];\n\n  if (options.whitelist) {\n    if (options.whitelist && options.whitelist.indexOf('cimode') < 0) {\n      options.whitelist = options.whitelist.concat(['cimode']);\n    }\n\n    options.supportedLngs = options.whitelist;\n  }\n\n  if (options.nonExplicitWhitelist) {\n    options.nonExplicitSupportedLngs = options.nonExplicitWhitelist;\n  }\n\n  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n\n  return options;\n}\n\nfunction noop() {}\n\nvar I18n = function (_EventEmitter) {\n  _inherits(I18n, _EventEmitter);\n\n  function I18n() {\n    var _this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n    _classCallCheck(this, I18n);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(I18n).call(this));\n\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n\n    _this.options = transformOptions(options);\n    _this.services = {};\n    _this.logger = baseLogger;\n    _this.modules = {\n      external: []\n    };\n\n    if (callback && !_this.isInitialized && !options.isClone) {\n      if (!_this.options.initImmediate) {\n        _this.init(options, callback);\n\n        return _possibleConstructorReturn(_this, _assertThisInitialized(_this));\n      }\n\n      setTimeout(function () {\n        _this.init(options, callback);\n      }, 0);\n    }\n\n    return _this;\n  }\n\n  _createClass(I18n, [{\n    key: \"init\",\n    value: function init() {\n      var _this2 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n\n      if (typeof options === 'function') {\n        callback = options;\n        options = {};\n      }\n\n      if (options.whitelist && !options.supportedLngs) {\n        this.logger.deprecate('whitelist', 'option \"whitelist\" will be renamed to \"supportedLngs\" in the next major - please make sure to rename this option asap.');\n      }\n\n      if (options.nonExplicitWhitelist && !options.nonExplicitSupportedLngs) {\n        this.logger.deprecate('whitelist', 'options \"nonExplicitWhitelist\" will be renamed to \"nonExplicitSupportedLngs\" in the next major - please make sure to rename this option asap.');\n      }\n\n      this.options = _objectSpread({}, get(), this.options, transformOptions(options));\n      this.format = this.options.interpolation.format;\n      if (!callback) callback = noop;\n\n      function createClassOnDemand(ClassOrObject) {\n        if (!ClassOrObject) return null;\n        if (typeof ClassOrObject === 'function') return new ClassOrObject();\n        return ClassOrObject;\n      }\n\n      if (!this.options.isClone) {\n        if (this.modules.logger) {\n          baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n        } else {\n          baseLogger.init(null, this.options);\n        }\n\n        var lu = new LanguageUtil(this.options);\n        this.store = new ResourceStore(this.options.resources, this.options);\n        var s = this.services;\n        s.logger = baseLogger;\n        s.resourceStore = this.store;\n        s.languageUtils = lu;\n        s.pluralResolver = new PluralResolver(lu, {\n          prepend: this.options.pluralSeparator,\n          compatibilityJSON: this.options.compatibilityJSON,\n          simplifyPluralSuffix: this.options.simplifyPluralSuffix\n        });\n        s.interpolator = new Interpolator(this.options);\n        s.utils = {\n          hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n        };\n        s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n        s.backendConnector.on('*', function (event) {\n          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n\n        if (this.modules.languageDetector) {\n          s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n          s.languageDetector.init(s, this.options.detection, this.options);\n        }\n\n        if (this.modules.i18nFormat) {\n          s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n          if (s.i18nFormat.init) s.i18nFormat.init(this);\n        }\n\n        this.translator = new Translator(this.services, this.options);\n        this.translator.on('*', function (event) {\n          for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n            args[_key2 - 1] = arguments[_key2];\n          }\n\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n        this.modules.external.forEach(function (m) {\n          if (m.init) m.init(_this2);\n        });\n      }\n\n      if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n        var codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];\n      }\n\n      if (!this.services.languageDetector && !this.options.lng) {\n        this.logger.warn('init: no languageDetector is used and no lng is defined');\n      }\n\n      var storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n      storeApi.forEach(function (fcName) {\n        _this2[fcName] = function () {\n          var _this2$store;\n\n          return (_this2$store = _this2.store)[fcName].apply(_this2$store, arguments);\n        };\n      });\n      var storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n      storeApiChained.forEach(function (fcName) {\n        _this2[fcName] = function () {\n          var _this2$store2;\n\n          (_this2$store2 = _this2.store)[fcName].apply(_this2$store2, arguments);\n\n          return _this2;\n        };\n      });\n      var deferred = defer();\n\n      var load = function load() {\n        var finish = function finish(err, t) {\n          if (_this2.isInitialized) _this2.logger.warn('init: i18next is already initialized. You should call init just once!');\n          _this2.isInitialized = true;\n          if (!_this2.options.isClone) _this2.logger.log('initialized', _this2.options);\n\n          _this2.emit('initialized', _this2.options);\n\n          deferred.resolve(t);\n          callback(err, t);\n        };\n\n        if (_this2.languages && _this2.options.compatibilityAPI !== 'v1' && !_this2.isInitialized) return finish(null, _this2.t.bind(_this2));\n\n        _this2.changeLanguage(_this2.options.lng, finish);\n      };\n\n      if (this.options.resources || !this.options.initImmediate) {\n        load();\n      } else {\n        setTimeout(load, 0);\n      }\n\n      return deferred;\n    }\n  }, {\n    key: \"loadResources\",\n    value: function loadResources(language) {\n      var _this3 = this;\n\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      var usedCallback = callback;\n      var usedLng = typeof language === 'string' ? language : this.language;\n      if (typeof language === 'function') usedCallback = language;\n\n      if (!this.options.resources || this.options.partialBundledLanguages) {\n        if (usedLng && usedLng.toLowerCase() === 'cimode') return usedCallback();\n        var toLoad = [];\n\n        var append = function append(lng) {\n          if (!lng) return;\n\n          var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);\n\n          lngs.forEach(function (l) {\n            if (toLoad.indexOf(l) < 0) toLoad.push(l);\n          });\n        };\n\n        if (!usedLng) {\n          var fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n          fallbacks.forEach(function (l) {\n            return append(l);\n          });\n        } else {\n          append(usedLng);\n        }\n\n        if (this.options.preload) {\n          this.options.preload.forEach(function (l) {\n            return append(l);\n          });\n        }\n\n        this.services.backendConnector.load(toLoad, this.options.ns, usedCallback);\n      } else {\n        usedCallback(null);\n      }\n    }\n  }, {\n    key: \"reloadResources\",\n    value: function reloadResources(lngs, ns, callback) {\n      var deferred = defer();\n      if (!lngs) lngs = this.languages;\n      if (!ns) ns = this.options.ns;\n      if (!callback) callback = noop;\n      this.services.backendConnector.reload(lngs, ns, function (err) {\n        deferred.resolve();\n        callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"use\",\n    value: function use(module) {\n      if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n      if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n\n      if (module.type === 'backend') {\n        this.modules.backend = module;\n      }\n\n      if (module.type === 'logger' || module.log && module.warn && module.error) {\n        this.modules.logger = module;\n      }\n\n      if (module.type === 'languageDetector') {\n        this.modules.languageDetector = module;\n      }\n\n      if (module.type === 'i18nFormat') {\n        this.modules.i18nFormat = module;\n      }\n\n      if (module.type === 'postProcessor') {\n        postProcessor.addPostProcessor(module);\n      }\n\n      if (module.type === '3rdParty') {\n        this.modules.external.push(module);\n      }\n\n      return this;\n    }\n  }, {\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng, callback) {\n      var _this4 = this;\n\n      this.isLanguageChangingTo = lng;\n      var deferred = defer();\n      this.emit('languageChanging', lng);\n\n      var done = function done(err, l) {\n        if (l) {\n          _this4.language = l;\n          _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);\n\n          _this4.translator.changeLanguage(l);\n\n          _this4.isLanguageChangingTo = undefined;\n\n          _this4.emit('languageChanged', l);\n\n          _this4.logger.log('languageChanged', l);\n        } else {\n          _this4.isLanguageChangingTo = undefined;\n        }\n\n        deferred.resolve(function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n        if (callback) callback(err, function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n      };\n\n      var setLng = function setLng(lngs) {\n        if (!lng && !lngs && _this4.services.languageDetector) lngs = [];\n        var l = typeof lngs === 'string' ? lngs : _this4.services.languageUtils.getBestMatchFromCodes(lngs);\n\n        if (l) {\n          if (!_this4.language) {\n            _this4.language = l;\n            _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);\n          }\n\n          if (!_this4.translator.language) _this4.translator.changeLanguage(l);\n          if (_this4.services.languageDetector) _this4.services.languageDetector.cacheUserLanguage(l);\n        }\n\n        _this4.loadResources(l, function (err) {\n          done(err, l);\n        });\n      };\n\n      if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n        setLng(this.services.languageDetector.detect());\n      } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n        this.services.languageDetector.detect(setLng);\n      } else {\n        setLng(lng);\n      }\n\n      return deferred;\n    }\n  }, {\n    key: \"getFixedT\",\n    value: function getFixedT(lng, ns) {\n      var _this5 = this;\n\n      var fixedT = function fixedT(key, opts) {\n        var options;\n\n        if (_typeof(opts) !== 'object') {\n          for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n            rest[_key3 - 2] = arguments[_key3];\n          }\n\n          options = _this5.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n        } else {\n          options = _objectSpread({}, opts);\n        }\n\n        options.lng = options.lng || fixedT.lng;\n        options.lngs = options.lngs || fixedT.lngs;\n        options.ns = options.ns || fixedT.ns;\n        return _this5.t(key, options);\n      };\n\n      if (typeof lng === 'string') {\n        fixedT.lng = lng;\n      } else {\n        fixedT.lngs = lng;\n      }\n\n      fixedT.ns = ns;\n      return fixedT;\n    }\n  }, {\n    key: \"t\",\n    value: function t() {\n      var _this$translator;\n\n      return this.translator && (_this$translator = this.translator).translate.apply(_this$translator, arguments);\n    }\n  }, {\n    key: \"exists\",\n    value: function exists() {\n      var _this$translator2;\n\n      return this.translator && (_this$translator2 = this.translator).exists.apply(_this$translator2, arguments);\n    }\n  }, {\n    key: \"setDefaultNamespace\",\n    value: function setDefaultNamespace(ns) {\n      this.options.defaultNS = ns;\n    }\n  }, {\n    key: \"hasLoadedNamespace\",\n    value: function hasLoadedNamespace(ns) {\n      var _this6 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (!this.isInitialized) {\n        this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n        return false;\n      }\n\n      if (!this.languages || !this.languages.length) {\n        this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n        return false;\n      }\n\n      var lng = this.languages[0];\n      var fallbackLng = this.options ? this.options.fallbackLng : false;\n      var lastLng = this.languages[this.languages.length - 1];\n      if (lng.toLowerCase() === 'cimode') return true;\n\n      var loadNotPending = function loadNotPending(l, n) {\n        var loadState = _this6.services.backendConnector.state[\"\".concat(l, \"|\").concat(n)];\n\n        return loadState === -1 || loadState === 2;\n      };\n\n      if (options.precheck) {\n        var preResult = options.precheck(this, loadNotPending);\n        if (preResult !== undefined) return preResult;\n      }\n\n      if (this.hasResourceBundle(lng, ns)) return true;\n      if (!this.services.backendConnector.backend) return true;\n      if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n      return false;\n    }\n  }, {\n    key: \"loadNamespaces\",\n    value: function loadNamespaces(ns, callback) {\n      var _this7 = this;\n\n      var deferred = defer();\n\n      if (!this.options.ns) {\n        callback && callback();\n        return Promise.resolve();\n      }\n\n      if (typeof ns === 'string') ns = [ns];\n      ns.forEach(function (n) {\n        if (_this7.options.ns.indexOf(n) < 0) _this7.options.ns.push(n);\n      });\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"loadLanguages\",\n    value: function loadLanguages(lngs, callback) {\n      var deferred = defer();\n      if (typeof lngs === 'string') lngs = [lngs];\n      var preloaded = this.options.preload || [];\n      var newLngs = lngs.filter(function (lng) {\n        return preloaded.indexOf(lng) < 0;\n      });\n\n      if (!newLngs.length) {\n        if (callback) callback();\n        return Promise.resolve();\n      }\n\n      this.options.preload = preloaded.concat(newLngs);\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"dir\",\n    value: function dir(lng) {\n      if (!lng) lng = this.languages && this.languages.length > 0 ? this.languages[0] : this.language;\n      if (!lng) return 'rtl';\n      var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam'];\n      return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng)) >= 0 ? 'rtl' : 'ltr';\n    }\n  }, {\n    key: \"createInstance\",\n    value: function createInstance() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n      return new I18n(options, callback);\n    }\n  }, {\n    key: \"cloneInstance\",\n    value: function cloneInstance() {\n      var _this8 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n      var mergedOptions = _objectSpread({}, this.options, options, {\n        isClone: true\n      });\n\n      var clone = new I18n(mergedOptions);\n      var membersToCopy = ['store', 'services', 'language'];\n      membersToCopy.forEach(function (m) {\n        clone[m] = _this8[m];\n      });\n      clone.services = _objectSpread({}, this.services);\n      clone.services.utils = {\n        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n      };\n      clone.translator = new Translator(clone.services, clone.options);\n      clone.translator.on('*', function (event) {\n        for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n          args[_key4 - 1] = arguments[_key4];\n        }\n\n        clone.emit.apply(clone, [event].concat(args));\n      });\n      clone.init(mergedOptions, callback);\n      clone.translator.options = clone.options;\n      clone.translator.backendConnector.services.utils = {\n        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n      };\n      return clone;\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return {\n        options: this.options,\n        store: this.store,\n        language: this.language,\n        languages: this.languages\n      };\n    }\n  }]);\n\n  return I18n;\n}(EventEmitter);\n\nvar i18next = new I18n();\n\nexport default i18next;\n", "import type { ExtensionLogger, LogSeverity, Location } from '@sap/ux-specification-types';\nimport { LogSeverityLabel } from '@sap/ux-specification-types';\n\n/**\n * Internal representation of one log entry\n */\ninterface LogEntry {\n    severity: LogSeverity;\n    message: string;\n    location?: Location;\n}\n\n/**\n * Function to create a new log entry and add it to the logger.\n * If no logger is passed, puts the message to the console\n * @param logger - the logger instance\n * @param message - the log message\n * @param meta - option list of strings/objects\n */\nexport const log = (logger: ExtensionLogger, logEntry: LogEntry, ...meta: (object | string | number)[]): void => {\n    if (logger) {\n        logger[logEntry.severity](logEntry.message, logEntry.location, ...meta);\n    } else {\n        if (logEntry.location) {\n            if (logEntry.location.range) {\n                console.log(\n                    `${LogSeverityLabel[logEntry.severity]}: ${logEntry.message}, location: ${\n                        logEntry.location.path\n                    }, ${logEntry.location.range}`,\n                    ...meta\n                );\n            } else {\n                console.log(\n                    `${LogSeverityLabel[logEntry.severity]}: ${logEntry.message}, location: ${logEntry.location.path}`,\n                    ...meta\n                );\n            }\n        } else {\n            console.log(`${LogSeverityLabel[logEntry.severity]}: ${logEntry.message}`, ...meta);\n        }\n    }\n};\n", "import type { AnnotationTerm, ConvertedMetadata, EntityType } from '@sap-ux/vocabularies-types';\nimport type { LineItem } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport { UIAnnotationTerms, UIAnnotationTypes } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport type {\n    v2,\n    FacetConfigs,\n    FacetConfig,\n    FileData,\n    GenerateAppSchemaParameters,\n    ExtensionLogger\n} from '@sap/ux-specification-types';\nimport {\n    ArtifactType,\n    SchemaKeyName,\n    ControlType,\n    SectionType,\n    FioriElementsVersion,\n    ManifestSection,\n    METADATAPATH,\n    FacetBase,\n    FacetTitlePrefix,\n    DefinitionName,\n    MANIFESTPATH,\n    LogSeverity,\n    PropertyName,\n    SchemaTag\n} from '@sap/ux-specification-types';\nimport { getDataFieldDescription } from '../../common';\nimport {\n    getObjectPageFacets,\n    createDefaultSection,\n    getObjectPageFacetSection,\n    DEFINITION_LINK_PREFIX,\n    addFieldsType,\n    addDefinitionForRelatedFacetKeys,\n    addSectionTitleAndDescription,\n    handleAddressContact,\n    handleForm,\n    addPatternForBindingChangeOfEnumOP,\n    getActionNameAndId,\n    addFooterActions,\n    addHeaderActions,\n    addCommonHeaderSchema,\n    prepareRef,\n    determineEntitySetOfFacet,\n    addEnumForSingleTabVariant\n} from '../../common';\nimport { addLineItemsType, addTableColumnExtensions } from './utils';\nimport { findObjectPageV2 } from '../import';\nimport { log } from '../../../extensionLogger';\nimport i18next from 'i18next';\nimport { initI18n } from '../../../i18n/i18n';\nimport { SectionTypeV2 } from '../types';\nimport type { Definition } from 'typescript-json-schema';\nimport { getStableIdPartFromDataField } from '../../v4/utils/StableIdHelper';\n\n/**\n * Adds flexChange properties for sub(sections)\n * @param appSchema - app schema in general\n * @param schemaSection - current section\n * @param property - property that will be enhanced\n * @param sectionType - type of section\n */\nfunction addFlexChangeForSection(\n    appSchema: Definition,\n    schemaSection: Definition,\n    property: string,\n    sectionType: SectionTypeV2\n) {\n    schemaSection.properties[property][SchemaTag.artifactType] = ArtifactType.FlexChange;\n    let controlType: ControlType;\n    switch (sectionType) {\n        case SectionTypeV2.Section:\n        case SectionTypeV2.SectionForm:\n        case SectionTypeV2.SectionChart:\n        case SectionTypeV2.SectionTable:\n            controlType = ControlType.Section;\n            break;\n        case SectionTypeV2.SubSection:\n            controlType = ControlType.SubSection;\n            break;\n        case SectionTypeV2.SubSectionForm:\n            controlType = ControlType.Group;\n            break;\n        case SectionTypeV2.SubSectionChart:\n            controlType = ControlType.SmartChart;\n            break;\n        case SectionTypeV2.SubSectionTable:\n            controlType = ControlType.SmartTable;\n            break;\n    }\n    if (!controlType) {\n        return;\n    }\n    addPatternForBindingChangeOfEnumOP(appSchema, schemaSection, property);\n    schemaSection.properties[property][SchemaTag.controlType] = controlType;\n}\n\n/**\n * Callback for adding a single action to headerActions of V2\n * @param {EntityType} entityType - current entity type\n * @param {object} appSchema Schema of the app\n * @param actionAnnotation - annotation as present in AVT ConvertedMetadata\n * @param headerActions - list of header actions, to be enhanced\n */\nfunction addHeaderActionCallBackV2(\n    entityType,\n    appSchema: Definition,\n    actionAnnotation: any,\n    headerActions: {\n        type: string;\n        properties: {};\n        description: string;\n        additionalProperties: boolean;\n        isViewNode: boolean;\n    },\n    oDataServiceAVT: ConvertedMetadata\n): any {\n    return (item, index) => {\n        if (!item['Determining'] && item.$Type === UIAnnotationTypes.DataFieldForAction) {\n            const { actionName, actionId, namespace } = getActionNameAndId(item, entityType, oDataServiceAVT);\n            //actionId is used as key in V2, as this is the right part for building the full stable ID\n            if (!actionId) {\n                return;\n            }\n            const description = item.Label || actionName;\n            const actionDefinitionKey = `HeaderAction<${prepareRef(actionId)}>`;\n            appSchema.definitions[actionDefinitionKey] = JSON.parse(\n                JSON.stringify(appSchema.definitions['HeaderAction'])\n            );\n            const convertedIdentification = actionAnnotation.fullyQualifiedName.replace(\n                `@${UIAnnotationTerms.Identification}`,\n                `/@${UIAnnotationTerms.Identification}`\n            );\n            appSchema.definitions[actionDefinitionKey][\n                SchemaTag.annotationPath\n            ] = `/${convertedIdentification}/${index}`;\n            (appSchema.definitions[actionDefinitionKey] as Definition).description = description;\n            appSchema.definitions[actionDefinitionKey][SchemaTag.keys] = [\n                { name: SchemaKeyName.action, value: actionName }\n            ];\n            if (namespace) {\n                appSchema.definitions[actionDefinitionKey][SchemaTag.target] = namespace;\n            }\n\n            headerActions.properties[actionId] = {\n                $ref: `${DEFINITION_LINK_PREFIX}${actionDefinitionKey}`\n            };\n        }\n    };\n}\n\n/**\n * Callback for adding a single action to footerActions of V2\n * @param {EntityType} entityType - current entity type\n * @param {Definition} appSchema Schema of the app\n * @param {Definition} footerActions - list of footer actions, to be enhanced\n * @param {String} convertedIdentification - converted UI.Identification term\n */\nfunction addFooterActionCallBackV2(\n    entityType,\n    appSchema: Definition,\n    footerActions: {\n        type: string;\n        properties: {};\n        description: string;\n        additionalProperties: boolean;\n        isViewNode: boolean;\n    },\n    convertedIdentification\n): any {\n    return (item, index) => {\n        if (item['Determining'] && item.$Type === UIAnnotationTypes.DataFieldForAction) {\n            const action = getStableIdPartFromDataField(item);\n            const actionId = action.split('::').splice(1).join('::');\n            const description = getDataFieldDescription(item, entityType);\n            const actionDefinitionKey = prepareRef(`${DefinitionName.ObjectPageFooterAction}<${actionId}>`);\n\n            appSchema.definitions[actionDefinitionKey] = {\n                ...JSON.parse(JSON.stringify(appSchema.definitions[DefinitionName.ObjectPageFooterAction])),\n                description,\n                annotationPath: `/${convertedIdentification}/${index}`\n            };\n\n            footerActions.properties[actionId] = {\n                $ref: `${DEFINITION_LINK_PREFIX}${actionDefinitionKey}`\n            };\n        }\n    };\n}\n\n/**\n * Method ensures that definitions for custom columns are created for passed entitySet.\n * @param {object} appSchema App schema in general\n * @param {object} manifest manifest.json of the app\n * @param {string} entitySetName Entity set name.\n * @param {string} entityTypeName Entity type name.\n * @param {ConvertedMetadata} oDataServiceAVT Complete service information, as returned by annotation vocabularies tool\n * @param {FacetConfig} facet information\n * @param {string} facetKey - key of the facet, as listed in FacetConfigs\n * @param {FileData[]} [fragments] Array with XML fragments.\n * @return {string} Name of custom columns definition.\n */\nfunction ensureCustomColumnDefinitionExists(\n    appSchema: Definition,\n    manifest: object,\n    entitySetName: string,\n    entityTypeName: string,\n    oDataServiceAVT: ConvertedMetadata,\n    facet: FacetConfig,\n    facetKey: string,\n    fragments?: FileData[]\n): string {\n    let suffix, customColumnsDefinitionName;\n    if (facet.ID && facet.Label) {\n        suffix = facet.ID + facet.Label.replace(/\\s+/g, '');\n    } else if (facet.ID) {\n        suffix = facet.ID;\n    } else if (facet.Label) {\n        suffix = facet.Label.replace(/\\s+/g, '');\n    }\n    if (suffix) {\n        customColumnsDefinitionName = `${DefinitionName.CustomColumns}<${entitySetName}><${facetKey}><${suffix}>`;\n    } else {\n        customColumnsDefinitionName = `${DefinitionName.CustomColumns}<${entitySetName}><${facetKey}>`;\n    }\n\n    if (appSchema.definitions[customColumnsDefinitionName]) {\n        // Definition is already created - we do not need to create it again\n        return customColumnsDefinitionName;\n    }\n    // Create type specific 'TableCustomColumn' definition - use entity set as type.\n    const customColumnDefinitionName = `${DefinitionName.CustomColumn}<${entitySetName}>`;\n    const customColumnDefinition = JSON.parse(JSON.stringify(appSchema.definitions['TableCustomColumn']));\n    appSchema.definitions[customColumnDefinitionName] = customColumnDefinition;\n    // Update definitions for type specific custom columns\n    const pageKeys = [];\n    const entityType = oDataServiceAVT?.entityTypes.find((et) => et.name === entityTypeName);\n    const v2Page = findObjectPageV2(manifest[ManifestSection.generic].pages, entitySetName, pageKeys);\n    addTableColumnExtensions(\n        appSchema,\n        entityType,\n        v2Page,\n        manifest,\n        fragments,\n        customColumnsDefinitionName,\n        customColumnDefinitionName\n    );\n    return customColumnsDefinitionName;\n}\n\n/**\n * Method fills new app schema section with properties.\n * @param {Definition} appSchema App schema in general\n * @param {object} appSchemaSection app schema section to be filled\n * @param {SectionTypeV2} sectionType (sub)section type\n * @param {SectionTypeV2} mainSectionType main section type, used to fill app schema section\n */\nfunction addAppSchemaDefinition(\n    appSchema: Definition,\n    appSchemaSection: Definition,\n    sectionType: SectionTypeV2,\n    mainSectionType: SectionTypeV2\n): void {\n    appSchemaSection.properties = JSON.parse(\n        JSON.stringify((appSchema.definitions[mainSectionType] as Definition).properties)\n    );\n    if (appSchemaSection.properties.visible) {\n        addFlexChangeForSection(appSchema, appSchemaSection, 'visible', sectionType);\n    }\n}\n\n/**\n * Method adds reference to section property key.\n * @param {object} sections - schema of current sections definition\n * @param {string} key section key which will contain the reference\n * @param {string} definitionKey key which the section should point to\n */\nfunction addSectionReference(sections: Definition, key: string, definitionKey: string) {\n    sections.properties[key] = { $ref: `${DEFINITION_LINK_PREFIX}${definitionKey}` };\n}\n\n/**\n * Reuse function for all table types, copies and adapts the generic definition\n * @param tableType - Table type\n * @param facetId - facet ID, as derived for the given section\n * @param facet - facet or section information\n * @param appSchema - app-specific schema, to be updated\n */\nfunction addTableDefinition(tableType: string, facetId: string, facet: FacetConfig, appSchema: Definition): void {\n    const schemaId = prepareRef(`${tableType}<${facetId}>`);\n    appSchema.definitions[schemaId] = JSON.parse(JSON.stringify(appSchema.definitions[tableType]));\n    appSchema.definitions[schemaId]['properties']['columns']['$ref'] = DEFINITION_LINK_PREFIX + facetId;\n    (appSchema.definitions[schemaId] as Definition).properties.toolBar[\n        '$ref'\n    ] = `${DEFINITION_LINK_PREFIX}ObjectPageToolBar<${facetId}>`;\n    appSchema.definitions[schemaId][SchemaTag.annotationPath] = facet.annotationPath;\n    if (facet.ID !== undefined) {\n        (appSchema.definitions[schemaId] as Definition).title = FacetTitlePrefix + facet.ID;\n        appSchema.definitions[schemaId][SchemaTag.keys] = [{ name: `ID`, value: facet.ID }];\n    }\n    (appSchema.definitions[schemaId] as Definition).description = DefinitionName.Table;\n\n    //adjust quickVariantSelection\n    (appSchema.definitions[schemaId] as Definition).properties['quickVariantSelection'][\n        '$ref'\n    ] = `${DEFINITION_LINK_PREFIX}QuickVariantSelectionOP<${facetId}>`;\n    appSchema.definitions[`QuickVariantSelectionOP<${facetId}>`] = JSON.parse(\n        JSON.stringify(appSchema.definitions['QuickVariantSelectionOP'])\n    );\n    appSchema.definitions[`QuickVariant<${facetId}>`] = JSON.parse(\n        JSON.stringify(appSchema.definitions['QuickVariant'])\n    );\n    (\n        (appSchema.definitions[`QuickVariantSelectionOP<${facetId}>`] as Definition).properties.variants as Definition\n    ).patternProperties['^[0-9]+$']['$ref'] = `${DEFINITION_LINK_PREFIX}QuickVariant<${facetId}>`;\n\n    addEnumForSingleTabVariant(facet.entityType, appSchema, `QuickVariant<${facetId}>`);\n}\n\n/**\n * Adds definitions for line items in object page sections to the app schema\n * @param {GenerateSchemaParameters} generateParameters - list of API input parameters\n * @param {string} facetKey - key of the facet, as listed in FacetConfigs\n * @param {Definition} appSchema - app schema in general\n * @param {FacetConfig} facet - the given facet from the UI annotations\n * @param {FacetConfigs} facets - list of all facets\n * @param {SectionTypeV2} sectionType (sub)section type\n */\nfunction handleLineItem(\n    generateParameters: GenerateAppSchemaParameters,\n    facetKey: string,\n    appSchema: Definition,\n    facet: FacetConfig,\n    facets: FacetConfigs,\n    sectionType?: SectionTypeV2\n): void {\n    if (facet.base !== FacetBase.LineItem || !facetKey) {\n        //no properties\n        return;\n    }\n    const navigationProperty = facetKey.split('::')[0];\n    const schemaIdForOpSection = `${sectionType}<${facetKey}>`;\n\n    appSchema.definitions[schemaIdForOpSection] = createDefaultSection(appSchema, facet, facetKey);\n    const appSchemaSection = appSchema.definitions[schemaIdForOpSection] as Definition;\n    addAppSchemaDefinition(appSchema, appSchemaSection, sectionType, SectionTypeV2.SectionTable);\n    appSchemaSection.properties.table = JSON.parse(\n        JSON.stringify(appSchema.definitions[SectionTypeV2.SectionTable]['properties'][PropertyName.table])\n    );\n    (appSchemaSection.properties.table as Definition).anyOf = [\n        {\n            $ref: `${DEFINITION_LINK_PREFIX}ObjectPageResponsiveTableWithMultiSelect<${facetKey}>`\n        },\n        {\n            $ref: `${DEFINITION_LINK_PREFIX}ObjectPageResponsiveTableWithInlineDelete<${facetKey}>`\n        },\n        {\n            $ref: `${DEFINITION_LINK_PREFIX}ObjectPageAnalyticalTable<${facetKey}>`\n        },\n        {\n            $ref: `${DEFINITION_LINK_PREFIX}ObjectPageGridTable<${facetKey}>`\n        },\n        {\n            $ref: `${DEFINITION_LINK_PREFIX}ObjectPageTreeTable<${facetKey}>`\n        }\n    ];\n    appSchemaSection[SchemaTag.annotationPath] = facet.annotationPath;\n    addSectionTitleAndDescription(facet, appSchemaSection, facetKey);\n\n    addTableDefinition('ObjectPageResponsiveTableWithMultiSelect', facetKey, facet, appSchema);\n    addTableDefinition('ObjectPageResponsiveTableWithInlineDelete', facetKey, facet, appSchema);\n    addTableDefinition('ObjectPageGridTable', facetKey, facet, appSchema);\n    addTableDefinition('ObjectPageTreeTable', facetKey, facet, appSchema);\n    addTableDefinition('ObjectPageAnalyticalTable', facetKey, facet, appSchema);\n\n    let customColumnDefinitionKey;\n    // Find target entity\n    const targetEntitySet = determineEntitySetOfFacet(facet, generateParameters.serviceAVT);\n    if (targetEntitySet) {\n        // Make sure that custom columns definitions are created for passed entity\n        customColumnDefinitionKey = ensureCustomColumnDefinitionExists(\n            appSchema,\n            generateParameters.manifest,\n            targetEntitySet.name,\n            facet.entityType.name,\n            generateParameters.serviceAVT,\n            facet,\n            facetKey,\n            generateParameters.fragments\n        );\n    }\n    for (const facetItem in facets) {\n        if (facets[facetItem].base === FacetBase.LineItem && facetItem.includes(navigationProperty)) {\n            addLineItemsType(\n                appSchema,\n                facets[facetItem].target as AnnotationTerm<LineItem>,\n                facets[facetItem].entityType,\n                facetItem,\n                customColumnDefinitionKey\n            );\n        }\n    }\n}\n\n/**\n * Adds definitions for subsections in object page sections to the app schema\n * @param {Definition} appSchema - app schema in general\n * @param {string} definitionKey - key of app schema definition to be filled\n * @param {FacetConfig} facet facet or section information\n * @param {string} facetId - key of the facet, as listed in FacetConfigs\n * @param {SectionTypeV2} sectionType (sub)section type\n */\nfunction handleSubSection(\n    appSchema: Definition,\n    definitionKey: string,\n    facet: FacetConfig,\n    facetId: string,\n    sectionType: SectionTypeV2\n): void {\n    appSchema.definitions[definitionKey] = createDefaultSection(appSchema, facet, facetId);\n    const appSchemaSection = appSchema.definitions[definitionKey] as Definition;\n    addAppSchemaDefinition(appSchema, appSchemaSection, sectionType, SectionTypeV2.SubSection);\n    appSchemaSection.properties.subsections = {\n        type: 'object',\n        description: 'Subsections',\n        properties: {},\n        additionalProperties: false\n    };\n    appSchemaSection.properties.subsections[SchemaTag.isViewNode] = true;\n}\n\n/**\n * Method fills new chart section with properties.\n * @param {Definition} appSchema App schema in general\n * @param {string} definitionKey - key of app schema definition to be filled\n * @param {FacetConfig} facet facet or section information\n * @param {string} facetKey - facet key.\n * @param {SectionTypeV2} sectionType (sub)section type\n */\nfunction handleSectionChart(\n    appSchema: Definition,\n    definitionKey: string,\n    facet: FacetConfig,\n    facetKey: string,\n    sectionType: SectionTypeV2\n) {\n    appSchema.definitions[definitionKey] = createDefaultSection(appSchema, facet, facetKey);\n    const appSchemaSection = appSchema.definitions[definitionKey] as Definition;\n    addAppSchemaDefinition(appSchema, appSchemaSection, sectionType, SectionTypeV2.SectionChart);\n}\n\n/**\n * Method fills new form section in app schema with properties.\n * @param {Definition} appSchema App schema in general\n * @param {string} definitionKey - key of app schema definition to be filled\n * @param {FacetConfig} facet facet or section information\n * @param {string} facetKey - facet key.\n * @param {SectionTypeV2} sectionType (sub)section type\n * @return {object} returns filled form section in app schema.\n */\nfunction handleFormSection(\n    appSchema: Definition,\n    definitionKey: string,\n    facet: FacetConfig,\n    facetKey: string,\n    sectionType: SectionTypeV2\n) {\n    appSchema.definitions[definitionKey] = createDefaultSection(appSchema, facet, facetKey);\n    const appSchemaSection = appSchema.definitions[definitionKey] as Definition;\n    addAppSchemaDefinition(appSchema, appSchemaSection, sectionType, SectionTypeV2.SectionForm);\n    appSchemaSection[SchemaTag.annotationPath] = facet.annotationPath;\n    appSchemaSection[SchemaTag.isViewNode] = true;\n    return appSchemaSection;\n}\n\n/**\n * Mapping of facet type to (sub)section type to enable correct further handling\n * @param {FacetBase} facetType - facet type to be mapped\n * @param {boolean} isSubSection - if section is subsection of section\n * @return {SectionTypeV2} sectionType (sub)section type\n */\nfunction getSectionType(facetType: FacetBase, isSubSection: boolean) {\n    const sectionTypeMapping = new Map<FacetBase, SectionTypeV2>([\n        [FacetBase.CollectionFacet, SectionTypeV2.Section],\n        [FacetBase.LineItem, SectionTypeV2.SectionTable],\n        [FacetBase.Chart, SectionTypeV2.SectionChart],\n        [FacetBase.Address, SectionTypeV2.SectionAddress],\n        [FacetBase.Contact, SectionTypeV2.SectionContact],\n        [FacetBase.Form, SectionTypeV2.SectionForm],\n        [FacetBase.Identification, SectionTypeV2.SectionForm]\n    ]);\n    const subSectionTypeMapping = new Map<FacetBase, SectionTypeV2>([\n        [FacetBase.CollectionFacet, SectionTypeV2.SubSection],\n        [FacetBase.LineItem, SectionTypeV2.SubSectionTable],\n        [FacetBase.Chart, SectionTypeV2.SubSectionChart],\n        [FacetBase.Address, SectionTypeV2.SubSectionAddress],\n        [FacetBase.Contact, SectionTypeV2.SubSectionContact],\n        [FacetBase.Form, SectionTypeV2.SubSectionForm],\n        [FacetBase.Identification, SectionTypeV2.SubSectionForm]\n    ]);\n    if (isSubSection) {\n        return subSectionTypeMapping.get(facetType);\n    } else {\n        return sectionTypeMapping.get(facetType);\n    }\n}\n\n/**\n * Method returns reference key, special handling of (sub)sections\n * @param {FacetConfig} facet facet or section information\n * @param {string} facetKey - facet key.\n * @param {SectionTypeV2} sectionType (sub)section type\n * @return {string} reference key\n */\nfunction getReferenceKey(facet, facetKey, sectionType): string {\n    let referenceKey = facetKey;\n    if (sectionType === (SectionTypeV2.Section || SectionTypeV2.SubSection)) {\n        referenceKey = referenceKey.replace(`@${UIAnnotationTerms.Facets}`, facet.base);\n    }\n    return `${referenceKey}`;\n}\n\n/**\n * Creates a section definition in app schema.\n * @param {GenerateSchemaParameters} generateParameters - list of API input parameters\n * @param {FacetConfigs} facets - list of all facets.\n * @param {string} facetKey - facet key.\n * @param {object} sections - schema of current sections definition.\n * @param {Definition} appSchema - app specific schema that potentially gets enhanced.\n * @param {boolean} isSubSection - if section is subsection of section\n */\nfunction addSection(\n    generateParameters: GenerateAppSchemaParameters,\n    facets: FacetConfigs,\n    facetKey: string,\n    sections: Definition,\n    appSchema: Definition,\n    isSubSection = false\n): void {\n    const facet: FacetConfig = facets[facetKey];\n    const sectionType = getSectionType(facet.base, isSubSection);\n    const referenceKey = getReferenceKey(facet, facetKey, sectionType);\n    const definitionKey = `${sectionType}<${referenceKey}>`;\n    addSectionReference(sections, referenceKey, definitionKey);\n    switch (sectionType) {\n        case SectionTypeV2.Section:\n        case SectionTypeV2.SubSection: {\n            //handle collection facets\n            isSubSection = true;\n            handleSubSection(appSchema, definitionKey, facet, facetKey, sectionType);\n            const subSections = (appSchema.definitions[definitionKey] as Definition).properties\n                .subsections as Definition;\n            for (const key in facet.facets) {\n                addSection(generateParameters, facet.facets, key, subSections, appSchema, isSubSection);\n            }\n            break;\n        }\n        case SectionTypeV2.SectionTable:\n        case SectionTypeV2.SubSectionTable: {\n            handleLineItem(generateParameters, facetKey, appSchema, facet, facets, sectionType);\n            //add fields for createWithParameterDialog\n            const floorplanSuffix = 'OP';\n            addFieldsType(appSchema, facet.entityType, floorplanSuffix);\n            break;\n        }\n        case SectionTypeV2.SectionChart:\n        case SectionTypeV2.SubSectionChart: {\n            //handle reference facet (if comprising chart)\n            handleSectionChart(appSchema, definitionKey, facet, facetKey, sectionType);\n\n            break;\n        }\n        case SectionTypeV2.SectionForm:\n        case SectionTypeV2.SubSectionForm: {\n            const appSchemaSection = handleFormSection(appSchema, definitionKey, facet, facetKey, sectionType);\n            handleForm(SectionType.Section, facet, appSchemaSection, appSchema, FioriElementsVersion.v2, facetKey);\n            break;\n        }\n        case SectionTypeV2.SectionAddress:\n        case SectionTypeV2.SectionContact: {\n            handleAddressContact(facet, facetKey, sections, appSchema, SectionType.Section, undefined, 'V2');\n            break;\n        }\n        case SectionTypeV2.SubSectionAddress:\n        case SectionTypeV2.SubSectionContact: {\n            handleAddressContact(\n                facet,\n                facetKey,\n                sections,\n                appSchema,\n                SectionType.Section,\n                SectionType.SubSection,\n                'V2'\n            );\n            break;\n        }\n        default: {\n            // Other facets -> only default properties of ObjectPageSection\n            sections.properties[facetKey] = createDefaultSection(appSchema, facet, facetKey);\n        }\n    }\n}\n\n/**\n * Adds the sections to the app schema\n * @param {GenerateSchemaParameters} generateParameters - list of API input parameters\n * @param {Definition} appSchema - app specific schema that potentially gets enhanced\n * @param {EntityType} entityType - current entity type\n * @param {string} entitySetName Entity set name\n * @param {SapUiAppPagesV2} pages - list of (manifest) pages\n */\nfunction addSections(\n    generateParameters: GenerateAppSchemaParameters,\n    appSchema: Definition,\n    entityType: EntityType,\n    entitySetName: string,\n    pages: v2.SapUiAppPagesV2\n): void {\n    const sections = appSchema.definitions[DefinitionName.Sections] as Definition;\n    sections[SchemaTag.isViewNode] = true;\n    if (entityType) {\n        sections[SchemaTag.annotationPath] = `/${entityType.fullyQualifiedName}/@${UIAnnotationTerms.Facets}`;\n    }\n\n    if (!pages) {\n        return;\n    }\n    // Get facet annotations\n    const facets: FacetConfigs = getObjectPageFacets(\n        entityType,\n        generateParameters.serviceAVT,\n        FioriElementsVersion.v2,\n        generateParameters.logger\n    );\n    if (!facets || Object.keys(facets).length === 0) {\n        return;\n    }\n\n    // Loop on all pages, look for the right entity set\n    for (const key in pages) {\n        const element = pages[key];\n        if (entitySetName.includes(element.entitySet)) {\n            // Loop on all facets (of the given entitySet)\n            for (const facetKey in facets) {\n                addSection(generateParameters, facets, facetKey, sections, appSchema);\n            }\n        } else {\n            addSections(generateParameters, appSchema, entityType, entitySetName, element.pages);\n        }\n    }\n\n    // Add custom sections\n    const customSections = appSchema.definitions['CustomSections'] as Definition;\n    for (const name in customSections.properties) {\n        sections.properties[name] = customSections.properties[name];\n    }\n}\n\n/**\n * Add Object Page Header to app-specific schema\n *\n * @param {object} appSchema Schema of the app\n * @param {EntityType} entityType - current entity type\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n */\nfunction addHeader(appSchema: object, entityType: EntityType, oDataServiceAVT: ConvertedMetadata): void {\n    addCommonHeaderSchema(appSchema, entityType);\n\n    //Add header actions\n    addHeaderActions(appSchema, entityType, oDataServiceAVT, addHeaderActionCallBackV2);\n}\n\n/**\n * Adds the related facets keys 'enum' to the app schema\n * @param schema - app specific schema that potentially gets enhanced\n * @param {EntityType} entityType - current entity type\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n * @param {ExtensionLogger} logger - Logger class for logging messages\n */\nfunction addRelatedFacetKeysType(\n    schema: object,\n    entityType: EntityType,\n    oDataServiceAVT: ConvertedMetadata,\n    logger?: ExtensionLogger\n): void {\n    // Find sections from annotation\n    // And create new definition in schema as enum with description\n    const facetSections = getObjectPageFacetSection(entityType, oDataServiceAVT, logger, undefined, true);\n    if (facetSections) {\n        addDefinitionForRelatedFacetKeys(\n            schema,\n            ['ObjectPageCustomSectionFragment', 'ObjectPageCustomSectionView'],\n            facetSections,\n            ['ID', 'key']\n        );\n    }\n}\n\n/**\n * Generates an app specific schema out of the generic schema.\n * @param {GenerateSchemaParameters} generateParameters - list of API input parameters\n * @param genericSchema - generic JSON schema of an object page\n * @param entityTypeName - the base entity type of the given page\n *\n * @returns the app specific JSON schema\n */\nexport function generateObjectPageSchemaV2(\n    generateParameters: GenerateAppSchemaParameters,\n    genericSchema: object,\n    entityTypeName: string\n): object {\n    // Initialize i18next\n    initI18n();\n\n    const appSchema = JSON.parse(JSON.stringify(genericSchema)) as Definition;\n\n    // Custom sections as part of sections\n    const additionalSections = {};\n    for (const name in appSchema.definitions['CustomSections']['properties']) {\n        additionalSections[name] = (appSchema.definitions['CustomSections'] as Definition).properties[name];\n    }\n\n    // Change reference to generated sections\n    appSchema.properties[PropertyName.sections] = {\n        $ref: DEFINITION_LINK_PREFIX + 'Sections'\n    };\n\n    const entitySet =\n        generateParameters.serviceAVT?.entitySets &&\n        generateParameters.serviceAVT.entitySets.find(\n            (es) => es.entityType.name === entityTypeName || es.name === entityTypeName\n        );\n    if (!entitySet) {\n        log(generateParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOENTITYSET4NAME', { entityType: entityTypeName }),\n            location: {\n                path: METADATAPATH\n            }\n        });\n        return appSchema;\n    }\n    const entityType = entitySet?.entityType;\n    generateParameters.entitySet = entitySet;\n    const pages = generateParameters.manifest[ManifestSection.generic].pages;\n    if (!pages) {\n        log(generateParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOPAGES', { appId: generateParameters.manifest['sap.app']['id'] }),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.generic]\n            }\n        });\n        return appSchema;\n    }\n\n    // Add header\n    addHeader(appSchema, entityType, generateParameters.serviceAVT);\n\n    // Add sections\n    appSchema.definitions[DefinitionName.Sections] = {\n        type: 'object',\n        properties: {},\n        description: 'Sections',\n        additionalProperties: false\n    };\n    addSections(generateParameters, appSchema, entityType, entitySet.name, pages);\n\n    // Custom section facets\n    addRelatedFacetKeysType(appSchema, entityType, generateParameters.serviceAVT, generateParameters.logger);\n\n    if (!appSchema.definitions.Sections) {\n        if (appSchema.definitions.RelatedFacetKeys && appSchema.definitions.RelatedFacetKeys['oneOf'].length) {\n            // If related facets exists - then we need sections definition\n            appSchema.definitions.Sections = {\n                type: 'object',\n                properties: additionalSections,\n                additionalProperties: false\n            };\n            appSchema.definitions.Sections[SchemaTag.isViewNode] = true;\n        } else {\n            delete appSchema.properties[PropertyName.sections];\n        }\n    }\n    addFooterActions(appSchema, generateParameters, FioriElementsVersion.v2, addFooterActionCallBackV2);\n\n    // Eliminate generic definitions\n    delete appSchema.definitions['GenericSections'];\n    delete appSchema.definitions['GenericSubSections'];\n    delete appSchema.definitions['ObjectPageSectionTableV2'];\n    delete appSchema.definitions['GenericColumns'];\n    delete appSchema.definitions['TableColumnAction'];\n    delete appSchema.definitions['ObjectPageSectionFormV2'];\n    delete appSchema.definitions['ObjectPageSectionTableV2'];\n    delete appSchema.definitions['ObjectPageSubSectionV2'];\n    delete appSchema.definitions['ObjectPageResponsiveTableWithMultiSelect'];\n    delete appSchema.definitions['ObjectPageResponsiveTableWithInlineDelete'];\n    delete appSchema.definitions['ObjectPageAnalyticalTable'];\n    delete appSchema.definitions['ObjectPageTreeTable'];\n    delete appSchema.definitions['ObjectPageGridTable'];\n    delete appSchema.definitions['ObjectPageToolBar'];\n    delete appSchema.definitions['ObjectPageToolBarActions'];\n    delete appSchema.definitions['ObjectPageForm'];\n    delete appSchema.definitions['ObjectPageFormFields'];\n    delete appSchema.definitions['ObjectPageFormActions'];\n\n    return appSchema;\n}\n", "import type { Definition } from 'typescript-json-schema';\nimport type { ControlTypeFunction } from '@sap/ux-specification-types';\nimport {\n    FacetBase,\n    FacetTitlePrefix,\n    BindingPropertyRegexAsString,\n    VOCWITHSLASH,\n    PropertyName\n} from '@sap/ux-specification-types';\nimport { DEFINITION_LINK_PREFIX } from '../utils';\n\n/**\n * General export rule, joining all given breadcrumbs to the base ID\n * @param baseId - base ID, first part of the stable ID\n * @param idBreadcrumbs - array of ID parts\n */\nexport const buildControlIdFromParent = (baseId: string, idBreadcrumbs: string[]): string => {\n    return baseId + idBreadcrumbs.join('::');\n};\n\n/**\n * Export rule for pages\n * @param baseId - base ID, first part of the stable ID\n * @param idBreadcrumbs - array of ID parts\n * @param breadcrumbs - array of breadcrumbs\n */\nexport const buildControlIdForPage = (baseId: string, idBreadcrumbs: string[], breadcrumbs: string[]): string => {\n    return baseId + idBreadcrumbs.join('::') + breadcrumbs[0];\n};\n\n/**\n * Converts the section id to the right string for the stable id:\n * If the corresponsing facet has ID maintained, we must take this ID. If ID is not present, take the navigation path.\n * @param sectionId - old ID that shall get converted\n * @param breadcrumbs - array of breadcrumbs\n * @param title - title from JSON schema, comprising the facet ID\n */\nexport const convertSectionId = (sectionId: string, title: string): string => {\n    let convertedSectionId: string;\n    const prefix: string = FacetTitlePrefix;\n    if (title !== undefined && title.includes(prefix)) {\n        convertedSectionId = title.split(prefix)[1];\n    } else {\n        convertedSectionId = sectionId.replace(new RegExp('/@', 'g'), '::').replace(/@com.sap/g, 'com.sap');\n    }\n    return convertedSectionId;\n};\n\nexport function escapeId(sParam: string): string {\n    /* escape all characters not allowed in stable ids with :<hexcode>\n     * as we use : as escape character, also escape :\n     */\n    return sParam.replace(/[^-A-Za-z0-9_.:]/g, function (c) {\n        const sCode = c.charCodeAt(0).toString(16);\n        return `:${sCode.length === 1 ? '0' : ''}${sCode}`;\n    });\n}\n\n/**\n * Binding Change values, will be added on object pages  */\nexport enum BindingValue {\n    Editable = '{ui>/editable}',\n    NotEditable = '{= !${ui>/editable}}'\n}\n\n/**\n * Consolidates the list of id's and other breadcrumbs into one list, for finding the right stable ID for a column\n * @param idBreadcrumbs - array of ID parts\n * @param localBreadcrumbs - array of breadcrumbs\n * @param title - (section) title = facet ID\n * @returns the consolidated breadcrumbs' list\n */\nfunction mapBreadcrumbs(idBreadcrumbs: string[], localBreadcrumbs: string[], title: string) {\n    let sectionId: string;\n    idBreadcrumbs = idBreadcrumbs.map(function (item) {\n        if (item === PropertyName.sections) {\n            for (let index = 0; index < localBreadcrumbs.length; index++) {\n                const breadcrumb = localBreadcrumbs[index];\n                if (breadcrumb === PropertyName.sections) {\n                    sectionId = localBreadcrumbs[index + 1];\n                    if (sectionId.indexOf(FacetBase.LineItem) !== -1) {\n                        localBreadcrumbs[index + 1] = convertSectionId(sectionId, title) + '::Table';\n                        return localBreadcrumbs[index + 1];\n                    }\n                }\n            }\n        }\n        return item;\n    });\n    return { idBreadcrumbs };\n}\n\n/**\n * Export rule for table columns\n * @param baseId - base ID, first part of the stable ID\n * @param idBreadcrumbs - array of ID parts\n * @param breadcrumbs - array of breadcrumbs\n * @param controlType - controlType function of ecorators, not used here\n * @param title - title from JSON schema, comprising the facet ID\n */\nexport const buildColumnControlId = (\n    baseId: string,\n    idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    _controlType: ControlTypeFunction,\n    title: string\n): string => {\n    let tableId = 'listReport'; //default\n    const localBreadcrumbs = [...breadcrumbs];\n\n    ({ idBreadcrumbs } = mapBreadcrumbs(idBreadcrumbs, localBreadcrumbs, title));\n    if (localBreadcrumbs[0] === PropertyName.sections) {\n        tableId = localBreadcrumbs[1]\n            .replace(/::com.sap.vocabularies/g, VOCWITHSLASH)\n            .replace(/::@com.sap.vocabularies/g, VOCWITHSLASH);\n    } else if (idBreadcrumbs[0] === PropertyName.table) {\n        tableId = idBreadcrumbs[0];\n    }\n    const lastIdPart = localBreadcrumbs[localBreadcrumbs.length - 1]\n        .replace(/::com.sap.vocabularies/g, VOCWITHSLASH)\n        .replace(/::@com.sap.vocabularies/g, VOCWITHSLASH)\n        .replace('sTarget/@', 'sTarget::@')\n        .replace('/', ':2f');\n    let fullId: string;\n    const splitPoint = lastIdPart.indexOf(':::');\n    if (lastIdPart.startsWith('DataField') && splitPoint > -1) {\n        fullId = `${baseId}template:::TableColumn:::${lastIdPart.substring(\n            0,\n            splitPoint\n        )}:::sSmartTableId::${tableId.replace('::Table', ':3a:3aTable')}:::${lastIdPart.substring(splitPoint + 3)}`;\n    } else {\n        fullId = `${baseId}${idBreadcrumbs.join('::')}-${lastIdPart}`;\n    }\n    return escapeId(fullId);\n};\n\n/**\n * Split up action breadcrumb and return different parts from it\n * @param breadcrumbs - array of breadcrumbs\n * @returns {object} - actionType, semanticObjectId, actionId of action\n */\nexport const getActionBreadcrumbParts = (\n    breadcrumbs: string[]\n): { actionType: string | undefined; semanticObjectId: string | undefined; actionId: string } => {\n    const actionIdParts = breadcrumbs[breadcrumbs.length - 1].split(':::');\n    let actionType, semanticObjectId, actionId;\n    if (actionIdParts.length > 2) {\n        actionType = actionIdParts[0];\n        semanticObjectId = actionIdParts[1].split('::')[1];\n        actionId = actionIdParts[2].split('::')[1];\n    } else if (actionIdParts.length === 2) {\n        actionType = actionIdParts[0];\n        actionId = actionIdParts[1].split('sAction::')[1];\n    } else {\n        actionId = actionIdParts[0];\n    }\n    return { actionType, semanticObjectId, actionId };\n};\n\n/**\n * Determines the valid pattern for a binding change\n * @param schemaDefinition - definition in the JSON schema\n * @returns the pattern as string\n */\nfunction determinePattern(schemaDefinition: Definition): string {\n    let pattern = BindingPropertyRegexAsString;\n    if (schemaDefinition.enum) {\n        let enumPattern;\n        schemaDefinition.enum.forEach((enumValue) => {\n            if (!enumValue.toString().startsWith('{')) {\n                enumPattern = enumPattern ? `${enumPattern}|${enumValue.toString()}` : enumValue.toString();\n            }\n        });\n        pattern = `^(${enumPattern})$|${pattern}`;\n    }\n    if (schemaDefinition['type'] && schemaDefinition['type'] === 'boolean') {\n        pattern = `^(false|true)$|${pattern}`;\n    }\n    return pattern;\n}\n\n/**\n * Reuseable function for strings that allow binding changes\n * @param schema - the complete JSON schema\n * @param definition - definition in the JSON schema, to be updated\n * @param propertyName - property in the properties' list of the given definition\n * @param bindingValues - values that shall be added to the resulting enum\n */\nconst addPatternForBindingChangeOfEnum = (\n    schema: object,\n    definition: object,\n    propertyName: string,\n    bindingValues?: BindingValue[]\n): void => {\n    const propertyList = definition && definition['properties'];\n    if (propertyList[propertyName].pattern) {\n        return; //as already processed\n    }\n    const originalDefinition = propertyList[propertyName];\n    let resultDefinition = originalDefinition;\n    const targetDefinition = originalDefinition.$ref\n        ? schema['definitions'][originalDefinition.$ref.split(DEFINITION_LINK_PREFIX)[1]]\n        : originalDefinition;\n    const description = originalDefinition.description ? originalDefinition.description : targetDefinition.description;\n    const pattern = determinePattern(targetDefinition);\n    if (targetDefinition['type'] && targetDefinition['type'] === 'boolean') {\n        resultDefinition = { enum: [false, true] };\n    }\n    if (bindingValues && resultDefinition['enum']) {\n        bindingValues.forEach((value) => {\n            if (resultDefinition['enum'].indexOf(value) === -1) {\n                resultDefinition['enum'].push(value);\n            }\n        });\n    }\n    propertyList[propertyName] = {\n        pattern: pattern,\n        anyOf: [\n            resultDefinition,\n            {\n                type: 'string'\n            }\n        ]\n    };\n    if (description) {\n        propertyList[propertyName].description = description;\n        delete originalDefinition.description;\n    }\n};\n\nexport const addPatternForBindingChangeOfEnumLR = (schema: object, definition: object, propertyName: string): void => {\n    addPatternForBindingChangeOfEnum(schema, definition, propertyName);\n};\n\nexport const addPatternForBindingChangeOfEnumOP = (schema: object, definition: object, propertyName: string): void => {\n    const bindingValues = Object.values(BindingValue);\n    addPatternForBindingChangeOfEnum(schema, definition, propertyName, bindingValues);\n};\n", "/*! *****************************************************************************\nCopyright (C) Microsoft. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\nvar Reflect;\n(function (Reflect) {\n    // Metadata Proposal\n    // https://rbuckton.github.io/reflect-metadata/\n    (function (factory) {\n        var root = typeof global === \"object\" ? global :\n            typeof self === \"object\" ? self :\n                typeof this === \"object\" ? this :\n                    Function(\"return this;\")();\n        var exporter = makeExporter(Reflect);\n        if (typeof root.Reflect === \"undefined\") {\n            root.Reflect = Reflect;\n        }\n        else {\n            exporter = makeExporter(root.Reflect, exporter);\n        }\n        factory(exporter);\n        function makeExporter(target, previous) {\n            return function (key, value) {\n                if (typeof target[key] !== \"function\") {\n                    Object.defineProperty(target, key, { configurable: true, writable: true, value: value });\n                }\n                if (previous)\n                    previous(key, value);\n            };\n        }\n    })(function (exporter) {\n        var hasOwn = Object.prototype.hasOwnProperty;\n        // feature test for Symbol support\n        var supportsSymbol = typeof Symbol === \"function\";\n        var toPrimitiveSymbol = supportsSymbol && typeof Symbol.toPrimitive !== \"undefined\" ? Symbol.toPrimitive : \"@@toPrimitive\";\n        var iteratorSymbol = supportsSymbol && typeof Symbol.iterator !== \"undefined\" ? Symbol.iterator : \"@@iterator\";\n        var supportsCreate = typeof Object.create === \"function\"; // feature test for Object.create support\n        var supportsProto = { __proto__: [] } instanceof Array; // feature test for __proto__ support\n        var downLevel = !supportsCreate && !supportsProto;\n        var HashMap = {\n            // create an object in dictionary mode (a.k.a. \"slow\" mode in v8)\n            create: supportsCreate\n                ? function () { return MakeDictionary(Object.create(null)); }\n                : supportsProto\n                    ? function () { return MakeDictionary({ __proto__: null }); }\n                    : function () { return MakeDictionary({}); },\n            has: downLevel\n                ? function (map, key) { return hasOwn.call(map, key); }\n                : function (map, key) { return key in map; },\n            get: downLevel\n                ? function (map, key) { return hasOwn.call(map, key) ? map[key] : undefined; }\n                : function (map, key) { return map[key]; },\n        };\n        // Load global or shim versions of Map, Set, and WeakMap\n        var functionPrototype = Object.getPrototypeOf(Function);\n        var usePolyfill = typeof process === \"object\" && process.env && process.env[\"REFLECT_METADATA_USE_MAP_POLYFILL\"] === \"true\";\n        var _Map = !usePolyfill && typeof Map === \"function\" && typeof Map.prototype.entries === \"function\" ? Map : CreateMapPolyfill();\n        var _Set = !usePolyfill && typeof Set === \"function\" && typeof Set.prototype.entries === \"function\" ? Set : CreateSetPolyfill();\n        var _WeakMap = !usePolyfill && typeof WeakMap === \"function\" ? WeakMap : CreateWeakMapPolyfill();\n        // [[Metadata]] internal slot\n        // https://rbuckton.github.io/reflect-metadata/#ordinary-object-internal-methods-and-internal-slots\n        var Metadata = new _WeakMap();\n        /**\n         * Applies a set of decorators to a property of a target object.\n         * @param decorators An array of decorators.\n         * @param target The target object.\n         * @param propertyKey (Optional) The property key to decorate.\n         * @param attributes (Optional) The property descriptor for the target key.\n         * @remarks Decorators are applied in reverse order.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Example = Reflect.decorate(decoratorsArray, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.decorate(decoratorsArray, Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     Reflect.decorate(decoratorsArray, Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     Object.defineProperty(Example, \"staticMethod\",\n         *         Reflect.decorate(decoratorsArray, Example, \"staticMethod\",\n         *             Object.getOwnPropertyDescriptor(Example, \"staticMethod\")));\n         *\n         *     // method (on prototype)\n         *     Object.defineProperty(Example.prototype, \"method\",\n         *         Reflect.decorate(decoratorsArray, Example.prototype, \"method\",\n         *             Object.getOwnPropertyDescriptor(Example.prototype, \"method\")));\n         *\n         */\n        function decorate(decorators, target, propertyKey, attributes) {\n            if (!IsUndefined(propertyKey)) {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes))\n                    throw new TypeError();\n                if (IsNull(attributes))\n                    attributes = undefined;\n                propertyKey = ToPropertyKey(propertyKey);\n                return DecorateProperty(decorators, target, propertyKey, attributes);\n            }\n            else {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsConstructor(target))\n                    throw new TypeError();\n                return DecorateConstructor(decorators, target);\n            }\n        }\n        exporter(\"decorate\", decorate);\n        // 4.1.2 Reflect.metadata(metadataKey, metadataValue)\n        // https://rbuckton.github.io/reflect-metadata/#reflect.metadata\n        /**\n         * A default metadata decorator factory that can be used on a class, class member, or parameter.\n         * @param metadataKey The key for the metadata entry.\n         * @param metadataValue The value for the metadata entry.\n         * @returns A decorator function.\n         * @remarks\n         * If `metadataKey` is already defined for the target and target key, the\n         * metadataValue for that key will be overwritten.\n         * @example\n         *\n         *     // constructor\n         *     @Reflect.metadata(key, value)\n         *     class Example {\n         *     }\n         *\n         *     // property (on constructor, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticProperty;\n         *     }\n         *\n         *     // property (on prototype, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         property;\n         *     }\n         *\n         *     // method (on constructor)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticMethod() { }\n         *     }\n         *\n         *     // method (on prototype)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         method() { }\n         *     }\n         *\n         */\n        function metadata(metadataKey, metadataValue) {\n            function decorator(target, propertyKey) {\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey))\n                    throw new TypeError();\n                OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n            }\n            return decorator;\n        }\n        exporter(\"metadata\", metadata);\n        /**\n         * Define a unique metadata entry on the target.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param metadataValue A value that contains attached metadata.\n         * @param target The target object on which to define metadata.\n         * @param propertyKey (Optional) The property key for the target.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"method\");\n         *\n         *     // decorator factory as metadata-producing annotation.\n         *     function MyAnnotation(options): Decorator {\n         *         return (target, key?) => Reflect.defineMetadata(\"custom:annotation\", options, target, key);\n         *     }\n         *\n         */\n        function defineMetadata(metadataKey, metadataValue, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n        }\n        exporter(\"defineMetadata\", defineMetadata);\n        /**\n         * Gets a value indicating whether the target object or its prototype chain has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object or its prototype chain; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function hasMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"hasMetadata\", hasMetadata);\n        /**\n         * Gets a value indicating whether the target object has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function hasOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"hasOwnMetadata\", hasOwnMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object or its prototype chain.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function getMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"getMetadata\", getMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function getOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"getOwnMetadata\", getOwnMetadata);\n        /**\n         * Gets the metadata keys defined on the target object or its prototype chain.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"method\");\n         *\n         */\n        function getMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryMetadataKeys(target, propertyKey);\n        }\n        exporter(\"getMetadataKeys\", getMetadataKeys);\n        /**\n         * Gets the unique metadata keys defined on the target object.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"method\");\n         *\n         */\n        function getOwnMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryOwnMetadataKeys(target, propertyKey);\n        }\n        exporter(\"getOwnMetadataKeys\", getOwnMetadataKeys);\n        /**\n         * Deletes the metadata entry from the target object with the provided key.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata entry was found and deleted; otherwise, false.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function deleteMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            var metadataMap = GetOrCreateMetadataMap(target, propertyKey, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return false;\n            if (!metadataMap.delete(metadataKey))\n                return false;\n            if (metadataMap.size > 0)\n                return true;\n            var targetMetadata = Metadata.get(target);\n            targetMetadata.delete(propertyKey);\n            if (targetMetadata.size > 0)\n                return true;\n            Metadata.delete(target);\n            return true;\n        }\n        exporter(\"deleteMetadata\", deleteMetadata);\n        function DecorateConstructor(decorators, target) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsConstructor(decorated))\n                        throw new TypeError();\n                    target = decorated;\n                }\n            }\n            return target;\n        }\n        function DecorateProperty(decorators, target, propertyKey, descriptor) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target, propertyKey, descriptor);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsObject(decorated))\n                        throw new TypeError();\n                    descriptor = decorated;\n                }\n            }\n            return descriptor;\n        }\n        function GetOrCreateMetadataMap(O, P, Create) {\n            var targetMetadata = Metadata.get(O);\n            if (IsUndefined(targetMetadata)) {\n                if (!Create)\n                    return undefined;\n                targetMetadata = new _Map();\n                Metadata.set(O, targetMetadata);\n            }\n            var metadataMap = targetMetadata.get(P);\n            if (IsUndefined(metadataMap)) {\n                if (!Create)\n                    return undefined;\n                metadataMap = new _Map();\n                targetMetadata.set(P, metadataMap);\n            }\n            return metadataMap;\n        }\n        // 3.1.1.1 OrdinaryHasMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasmetadata\n        function OrdinaryHasMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return true;\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryHasMetadata(MetadataKey, parent, P);\n            return false;\n        }\n        // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\n        function OrdinaryHasOwnMetadata(MetadataKey, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return false;\n            return ToBoolean(metadataMap.has(MetadataKey));\n        }\n        // 3.1.3.1 OrdinaryGetMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetmetadata\n        function OrdinaryGetMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return OrdinaryGetOwnMetadata(MetadataKey, O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryGetMetadata(MetadataKey, parent, P);\n            return undefined;\n        }\n        // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\n        function OrdinaryGetOwnMetadata(MetadataKey, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return undefined;\n            return metadataMap.get(MetadataKey);\n        }\n        // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\n        function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ true);\n            metadataMap.set(MetadataKey, MetadataValue);\n        }\n        // 3.1.6.1 OrdinaryMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarymetadatakeys\n        function OrdinaryMetadataKeys(O, P) {\n            var ownKeys = OrdinaryOwnMetadataKeys(O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (parent === null)\n                return ownKeys;\n            var parentKeys = OrdinaryMetadataKeys(parent, P);\n            if (parentKeys.length <= 0)\n                return ownKeys;\n            if (ownKeys.length <= 0)\n                return parentKeys;\n            var set = new _Set();\n            var keys = [];\n            for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {\n                var key = ownKeys_1[_i];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {\n                var key = parentKeys_1[_a];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            return keys;\n        }\n        // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\n        function OrdinaryOwnMetadataKeys(O, P) {\n            var keys = [];\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return keys;\n            var keysObj = metadataMap.keys();\n            var iterator = GetIterator(keysObj);\n            var k = 0;\n            while (true) {\n                var next = IteratorStep(iterator);\n                if (!next) {\n                    keys.length = k;\n                    return keys;\n                }\n                var nextValue = IteratorValue(next);\n                try {\n                    keys[k] = nextValue;\n                }\n                catch (e) {\n                    try {\n                        IteratorClose(iterator);\n                    }\n                    finally {\n                        throw e;\n                    }\n                }\n                k++;\n            }\n        }\n        // 6 ECMAScript Data Typ0es and Values\n        // https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values\n        function Type(x) {\n            if (x === null)\n                return 1 /* Null */;\n            switch (typeof x) {\n                case \"undefined\": return 0 /* Undefined */;\n                case \"boolean\": return 2 /* Boolean */;\n                case \"string\": return 3 /* String */;\n                case \"symbol\": return 4 /* Symbol */;\n                case \"number\": return 5 /* Number */;\n                case \"object\": return x === null ? 1 /* Null */ : 6 /* Object */;\n                default: return 6 /* Object */;\n            }\n        }\n        // 6.1.1 The Undefined Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-undefined-type\n        function IsUndefined(x) {\n            return x === undefined;\n        }\n        // 6.1.2 The Null Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-null-type\n        function IsNull(x) {\n            return x === null;\n        }\n        // 6.1.5 The Symbol Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-symbol-type\n        function IsSymbol(x) {\n            return typeof x === \"symbol\";\n        }\n        // 6.1.7 The Object Type\n        // https://tc39.github.io/ecma262/#sec-object-type\n        function IsObject(x) {\n            return typeof x === \"object\" ? x !== null : typeof x === \"function\";\n        }\n        // 7.1 Type Conversion\n        // https://tc39.github.io/ecma262/#sec-type-conversion\n        // 7.1.1 ToPrimitive(input [, PreferredType])\n        // https://tc39.github.io/ecma262/#sec-toprimitive\n        function ToPrimitive(input, PreferredType) {\n            switch (Type(input)) {\n                case 0 /* Undefined */: return input;\n                case 1 /* Null */: return input;\n                case 2 /* Boolean */: return input;\n                case 3 /* String */: return input;\n                case 4 /* Symbol */: return input;\n                case 5 /* Number */: return input;\n            }\n            var hint = PreferredType === 3 /* String */ ? \"string\" : PreferredType === 5 /* Number */ ? \"number\" : \"default\";\n            var exoticToPrim = GetMethod(input, toPrimitiveSymbol);\n            if (exoticToPrim !== undefined) {\n                var result = exoticToPrim.call(input, hint);\n                if (IsObject(result))\n                    throw new TypeError();\n                return result;\n            }\n            return OrdinaryToPrimitive(input, hint === \"default\" ? \"number\" : hint);\n        }\n        // 7.1.1.1 OrdinaryToPrimitive(O, hint)\n        // https://tc39.github.io/ecma262/#sec-ordinarytoprimitive\n        function OrdinaryToPrimitive(O, hint) {\n            if (hint === \"string\") {\n                var toString_1 = O.toString;\n                if (IsCallable(toString_1)) {\n                    var result = toString_1.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            else {\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var toString_2 = O.toString;\n                if (IsCallable(toString_2)) {\n                    var result = toString_2.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            throw new TypeError();\n        }\n        // 7.1.2 ToBoolean(argument)\n        // https://tc39.github.io/ecma262/2016/#sec-toboolean\n        function ToBoolean(argument) {\n            return !!argument;\n        }\n        // 7.1.12 ToString(argument)\n        // https://tc39.github.io/ecma262/#sec-tostring\n        function ToString(argument) {\n            return \"\" + argument;\n        }\n        // 7.1.14 ToPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-topropertykey\n        function ToPropertyKey(argument) {\n            var key = ToPrimitive(argument, 3 /* String */);\n            if (IsSymbol(key))\n                return key;\n            return ToString(key);\n        }\n        // 7.2 Testing and Comparison Operations\n        // https://tc39.github.io/ecma262/#sec-testing-and-comparison-operations\n        // 7.2.2 IsArray(argument)\n        // https://tc39.github.io/ecma262/#sec-isarray\n        function IsArray(argument) {\n            return Array.isArray\n                ? Array.isArray(argument)\n                : argument instanceof Object\n                    ? argument instanceof Array\n                    : Object.prototype.toString.call(argument) === \"[object Array]\";\n        }\n        // 7.2.3 IsCallable(argument)\n        // https://tc39.github.io/ecma262/#sec-iscallable\n        function IsCallable(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Call]] internal method.\n            return typeof argument === \"function\";\n        }\n        // 7.2.4 IsConstructor(argument)\n        // https://tc39.github.io/ecma262/#sec-isconstructor\n        function IsConstructor(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Construct]] internal method.\n            return typeof argument === \"function\";\n        }\n        // 7.2.7 IsPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-ispropertykey\n        function IsPropertyKey(argument) {\n            switch (Type(argument)) {\n                case 3 /* String */: return true;\n                case 4 /* Symbol */: return true;\n                default: return false;\n            }\n        }\n        // 7.3 Operations on Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-objects\n        // 7.3.9 GetMethod(V, P)\n        // https://tc39.github.io/ecma262/#sec-getmethod\n        function GetMethod(V, P) {\n            var func = V[P];\n            if (func === undefined || func === null)\n                return undefined;\n            if (!IsCallable(func))\n                throw new TypeError();\n            return func;\n        }\n        // 7.4 Operations on Iterator Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-iterator-objects\n        function GetIterator(obj) {\n            var method = GetMethod(obj, iteratorSymbol);\n            if (!IsCallable(method))\n                throw new TypeError(); // from Call\n            var iterator = method.call(obj);\n            if (!IsObject(iterator))\n                throw new TypeError();\n            return iterator;\n        }\n        // 7.4.4 IteratorValue(iterResult)\n        // https://tc39.github.io/ecma262/2016/#sec-iteratorvalue\n        function IteratorValue(iterResult) {\n            return iterResult.value;\n        }\n        // 7.4.5 IteratorStep(iterator)\n        // https://tc39.github.io/ecma262/#sec-iteratorstep\n        function IteratorStep(iterator) {\n            var result = iterator.next();\n            return result.done ? false : result;\n        }\n        // 7.4.6 IteratorClose(iterator, completion)\n        // https://tc39.github.io/ecma262/#sec-iteratorclose\n        function IteratorClose(iterator) {\n            var f = iterator[\"return\"];\n            if (f)\n                f.call(iterator);\n        }\n        // 9.1 Ordinary Object Internal Methods and Internal Slots\n        // https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots\n        // 9.1.1.1 OrdinaryGetPrototypeOf(O)\n        // https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof\n        function OrdinaryGetPrototypeOf(O) {\n            var proto = Object.getPrototypeOf(O);\n            if (typeof O !== \"function\" || O === functionPrototype)\n                return proto;\n            // TypeScript doesn't set __proto__ in ES5, as it's non-standard.\n            // Try to determine the superclass constructor. Compatible implementations\n            // must either set __proto__ on a subclass constructor to the superclass constructor,\n            // or ensure each class has a valid `constructor` property on its prototype that\n            // points back to the constructor.\n            // If this is not the same as Function.[[Prototype]], then this is definately inherited.\n            // This is the case when in ES6 or when using __proto__ in a compatible browser.\n            if (proto !== functionPrototype)\n                return proto;\n            // If the super prototype is Object.prototype, null, or undefined, then we cannot determine the heritage.\n            var prototype = O.prototype;\n            var prototypeProto = prototype && Object.getPrototypeOf(prototype);\n            if (prototypeProto == null || prototypeProto === Object.prototype)\n                return proto;\n            // If the constructor was not a function, then we cannot determine the heritage.\n            var constructor = prototypeProto.constructor;\n            if (typeof constructor !== \"function\")\n                return proto;\n            // If we have some kind of self-reference, then we cannot determine the heritage.\n            if (constructor === O)\n                return proto;\n            // we have a pretty good guess at the heritage.\n            return constructor;\n        }\n        // naive Map shim\n        function CreateMapPolyfill() {\n            var cacheSentinel = {};\n            var arraySentinel = [];\n            var MapIterator = /** @class */ (function () {\n                function MapIterator(keys, values, selector) {\n                    this._index = 0;\n                    this._keys = keys;\n                    this._values = values;\n                    this._selector = selector;\n                }\n                MapIterator.prototype[\"@@iterator\"] = function () { return this; };\n                MapIterator.prototype[iteratorSymbol] = function () { return this; };\n                MapIterator.prototype.next = function () {\n                    var index = this._index;\n                    if (index >= 0 && index < this._keys.length) {\n                        var result = this._selector(this._keys[index], this._values[index]);\n                        if (index + 1 >= this._keys.length) {\n                            this._index = -1;\n                            this._keys = arraySentinel;\n                            this._values = arraySentinel;\n                        }\n                        else {\n                            this._index++;\n                        }\n                        return { value: result, done: false };\n                    }\n                    return { value: undefined, done: true };\n                };\n                MapIterator.prototype.throw = function (error) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    throw error;\n                };\n                MapIterator.prototype.return = function (value) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    return { value: value, done: true };\n                };\n                return MapIterator;\n            }());\n            return /** @class */ (function () {\n                function Map() {\n                    this._keys = [];\n                    this._values = [];\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                }\n                Object.defineProperty(Map.prototype, \"size\", {\n                    get: function () { return this._keys.length; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Map.prototype.has = function (key) { return this._find(key, /*insert*/ false) >= 0; };\n                Map.prototype.get = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    return index >= 0 ? this._values[index] : undefined;\n                };\n                Map.prototype.set = function (key, value) {\n                    var index = this._find(key, /*insert*/ true);\n                    this._values[index] = value;\n                    return this;\n                };\n                Map.prototype.delete = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    if (index >= 0) {\n                        var size = this._keys.length;\n                        for (var i = index + 1; i < size; i++) {\n                            this._keys[i - 1] = this._keys[i];\n                            this._values[i - 1] = this._values[i];\n                        }\n                        this._keys.length--;\n                        this._values.length--;\n                        if (key === this._cacheKey) {\n                            this._cacheKey = cacheSentinel;\n                            this._cacheIndex = -2;\n                        }\n                        return true;\n                    }\n                    return false;\n                };\n                Map.prototype.clear = function () {\n                    this._keys.length = 0;\n                    this._values.length = 0;\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                };\n                Map.prototype.keys = function () { return new MapIterator(this._keys, this._values, getKey); };\n                Map.prototype.values = function () { return new MapIterator(this._keys, this._values, getValue); };\n                Map.prototype.entries = function () { return new MapIterator(this._keys, this._values, getEntry); };\n                Map.prototype[\"@@iterator\"] = function () { return this.entries(); };\n                Map.prototype[iteratorSymbol] = function () { return this.entries(); };\n                Map.prototype._find = function (key, insert) {\n                    if (this._cacheKey !== key) {\n                        this._cacheIndex = this._keys.indexOf(this._cacheKey = key);\n                    }\n                    if (this._cacheIndex < 0 && insert) {\n                        this._cacheIndex = this._keys.length;\n                        this._keys.push(key);\n                        this._values.push(undefined);\n                    }\n                    return this._cacheIndex;\n                };\n                return Map;\n            }());\n            function getKey(key, _) {\n                return key;\n            }\n            function getValue(_, value) {\n                return value;\n            }\n            function getEntry(key, value) {\n                return [key, value];\n            }\n        }\n        // naive Set shim\n        function CreateSetPolyfill() {\n            return /** @class */ (function () {\n                function Set() {\n                    this._map = new _Map();\n                }\n                Object.defineProperty(Set.prototype, \"size\", {\n                    get: function () { return this._map.size; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Set.prototype.has = function (value) { return this._map.has(value); };\n                Set.prototype.add = function (value) { return this._map.set(value, value), this; };\n                Set.prototype.delete = function (value) { return this._map.delete(value); };\n                Set.prototype.clear = function () { this._map.clear(); };\n                Set.prototype.keys = function () { return this._map.keys(); };\n                Set.prototype.values = function () { return this._map.values(); };\n                Set.prototype.entries = function () { return this._map.entries(); };\n                Set.prototype[\"@@iterator\"] = function () { return this.keys(); };\n                Set.prototype[iteratorSymbol] = function () { return this.keys(); };\n                return Set;\n            }());\n        }\n        // naive WeakMap shim\n        function CreateWeakMapPolyfill() {\n            var UUID_SIZE = 16;\n            var keys = HashMap.create();\n            var rootKey = CreateUniqueKey();\n            return /** @class */ (function () {\n                function WeakMap() {\n                    this._key = CreateUniqueKey();\n                }\n                WeakMap.prototype.has = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.has(table, this._key) : false;\n                };\n                WeakMap.prototype.get = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.get(table, this._key) : undefined;\n                };\n                WeakMap.prototype.set = function (target, value) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ true);\n                    table[this._key] = value;\n                    return this;\n                };\n                WeakMap.prototype.delete = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? delete table[this._key] : false;\n                };\n                WeakMap.prototype.clear = function () {\n                    // NOTE: not a real clear, just makes the previous data unreachable\n                    this._key = CreateUniqueKey();\n                };\n                return WeakMap;\n            }());\n            function CreateUniqueKey() {\n                var key;\n                do\n                    key = \"@@WeakMap@@\" + CreateUUID();\n                while (HashMap.has(keys, key));\n                keys[key] = true;\n                return key;\n            }\n            function GetOrCreateWeakMapTable(target, create) {\n                if (!hasOwn.call(target, rootKey)) {\n                    if (!create)\n                        return undefined;\n                    Object.defineProperty(target, rootKey, { value: HashMap.create() });\n                }\n                return target[rootKey];\n            }\n            function FillRandomBytes(buffer, size) {\n                for (var i = 0; i < size; ++i)\n                    buffer[i] = Math.random() * 0xff | 0;\n                return buffer;\n            }\n            function GenRandomBytes(size) {\n                if (typeof Uint8Array === \"function\") {\n                    if (typeof crypto !== \"undefined\")\n                        return crypto.getRandomValues(new Uint8Array(size));\n                    if (typeof msCrypto !== \"undefined\")\n                        return msCrypto.getRandomValues(new Uint8Array(size));\n                    return FillRandomBytes(new Uint8Array(size), size);\n                }\n                return FillRandomBytes(new Array(size), size);\n            }\n            function CreateUUID() {\n                var data = GenRandomBytes(UUID_SIZE);\n                // mark as random - RFC 4122 \u00A7 4.4\n                data[6] = data[6] & 0x4f | 0x40;\n                data[8] = data[8] & 0xbf | 0x80;\n                var result = \"\";\n                for (var offset = 0; offset < UUID_SIZE; ++offset) {\n                    var byte = data[offset];\n                    if (offset === 4 || offset === 6 || offset === 8)\n                        result += \"-\";\n                    if (byte < 16)\n                        result += \"0\";\n                    result += byte.toString(16).toLowerCase();\n                }\n                return result;\n            }\n        }\n        // uses a heuristic used by v8 and chakra to force an object into dictionary mode.\n        function MakeDictionary(obj) {\n            obj.__ = undefined;\n            delete obj.__;\n            return obj;\n        }\n    });\n})(Reflect || (Reflect = {}));\n", "import 'reflect-metadata';\nimport type { SyncRule, PageLayoutInformation, ValidityInformation } from '@sap/ux-specification-types';\n\nexport const reflectMetadataKey = Symbol('specificationMetadataKey');\nexport const syncRule = (propSpec: SyncRule): any => {\n    return Reflect.metadata(reflectMetadataKey, propSpec);\n};\n\nexport function getReflectMetadata(target: object, propertyName: string): SyncRule | undefined {\n    let rule: SyncRule;\n    if (target) {\n        rule = Reflect.getMetadata(reflectMetadataKey, target, propertyName);\n    }\n    return rule;\n}\n\nexport const pageLayoutInformation =\n    (pageInfo: PageLayoutInformation) =>\n    (constructor: Function): void => {\n        constructor.prototype.pageLayoutInformation = pageInfo;\n    };\n\nconst childIdKey = Symbol('childId');\nexport const childId = (id: string): any => {\n    return Reflect.metadata(childIdKey, id);\n};\n\nexport const getChildId = (target: any, propertyName: string): string => {\n    return Reflect.getMetadata(childIdKey, target, propertyName);\n};\n\nexport const getPageLayoutInformation = (target: any): PageLayoutInformation => {\n    return Object.getPrototypeOf(target).pageLayoutInformation;\n};\n\n/*\n * Validity decorator and functions for it\n */\n\nexport const validityMetadataKey = Symbol('validityMetadataKey');\nexport const validity = (propSpec: ValidityInformation): any => {\n    return Reflect.metadata(validityMetadataKey, propSpec);\n};\n\nexport function getTextForDeprecated(key: string, validityInformation?: ValidityInformation): string {\n    let text = `${key} is deprecated`;\n    if (validityInformation && validityInformation.deprecated) {\n        text = validityInformation.deprecated.since ? `${text} since ${validityInformation.deprecated.since}` : text;\n        text = validityInformation.deprecated.text ? `${text}. ${validityInformation.deprecated.text}` : text;\n    }\n\n    return text;\n}\n", "import type {\n    Manifest,\n    UI5Version,\n    ChangeDefinition,\n    ChangeDefinitionInCreation,\n    SyncRule\n} from '@sap/ux-specification-types';\nimport * as flexUtils from '@ui5/flexibility-utils';\nimport { FlexChangeLayer } from '@sap/ux-specification-types';\n\nconst changesUtils = flexUtils.default.change;\n\nconst defaultValues = {\n    isCustomer: false,\n    sapui5Version: ' ', // UI5 version should be set via exportConfig(). This is the fallback in case it's missing\n    creatingTool: 'SAPFioriTools',\n    type: 'propertyChange'\n};\n\n/**\n * Create a change as string (calls changeUtils from ui5-flexibility-utils)\n * @param change - properties required to create the change\n * @param manifest - the manifest.json file\n */\nexport function createChangeString(change: ChangeDefinitionInCreation, manifest: Manifest): string {\n    let changeString = '';\n    try {\n        for (const defaultValue in defaultValues) {\n            if (change[defaultValue] === undefined) {\n                change[defaultValue] = defaultValues[defaultValue];\n            }\n        }\n        changeString = changesUtils.createChangeString(change, manifest);\n    } catch (error) {\n        console.error(`Error while create flex change.`, error);\n    }\n    return changeString;\n}\n\n/**\n * Parse string and return the change as object (calls changeUtils from ui5-flexibility-utils)\n * @param changeString - string with serialized change\n */\nexport function parseChangeString(changeString: string): ChangeDefinition | boolean {\n    try {\n        return changesUtils.parse(changeString);\n    } catch (error) {\n        return false;\n    }\n}\n\n/**\n * Creates a flex change based on the given config information\n * @param configObject - current (sub)object of the configuration file\n * @param breadcrumbs - list of breadcrumbs, i.e. ID parts for building the stable ID\n * @param syncRule - export rule from the object classes decorator\n * @param ui5Version - SAP UI5 version\n * @param baseId - selector id of the current page\n * @param ids - list of parent & child ids\n * @param title - title from the app schema (comprising for instance the facet ID)\n * @param key - key of the given property\n * @param layer - layer\n * @returns {ChangeDefinitionInCreation} - the newly created flex change\n */\nexport function fillFlexChangeContent(\n    configObject: object,\n    syncRule: SyncRule,\n    ui5Version: UI5Version,\n    key: string,\n    controlId: string\n): ChangeDefinitionInCreation {\n    const isCustomer = ui5Version.layer ? ui5Version.layer === FlexChangeLayer.Customer : true;\n\n    const flexChange: ChangeDefinitionInCreation = {\n        controlId, //syncRule.flex.controlId(baseId, ids, breadcrumbs, syncRule.flex.controlType, title),\n        controlType: syncRule.flex.controlType(),\n        content: {\n            property: key\n        },\n        sapui5Version: ui5Version.ui5Version,\n        isCustomer\n    };\n    if (configObject[key] !== undefined) {\n        if (syncRule.flex.exportFlexValue) {\n            syncRule.flex.exportFlexValue(flexChange, configObject, key);\n        } else if (configObject[key].toString().startsWith('{')) {\n            flexChange.content.newBinding = configObject[key];\n            flexChange.type = 'propertyBindingChange';\n        } else {\n            flexChange.content.newValue = configObject[key];\n        }\n    } else {\n        flexChange.content.newValue = null;\n    }\n    return flexChange;\n}\n", "import { createChangeString } from '../flexUtils';\nimport type { Manifest, ChangeDefinitionInCreation } from '@sap/ux-specification-types';\n\nexport function exportToFlexChange(change: ChangeDefinitionInCreation, manifest: Manifest): string {\n    return createChangeString(change, manifest);\n}\n", "import { DEFINITION_LINK_PREFIX, getTextForDeprecated } from '../';\nimport { log } from '../../../extensionLogger';\nimport type { Definition } from 'typescript-json-schema';\nimport type { SyncRule, DeprecatedProperties, ExtensionLogger } from '@sap/ux-specification-types/dist';\nimport { LogSeverity, FacetTitlePrefix, DefinitionName } from '@sap/ux-specification-types/dist';\n\n/**\n * Transfers the value of a single manifest setting to the config\n * @param syncRule - Metadata rule\n * @param manifestSection - Section in manifest.json\n * @param propertyKey - Key of the property or setting\n * @param configPart - Part of the config JSON\n * @param sectionId - Section or facet ID\n * @param breadcrumbs - list of breadcrumbs or id's describing the keys of all hierarchy levels\n */\nexport function importProperty(\n    syncRule: SyncRule,\n    manifestSection: {},\n    propertyKey: string,\n    configPart: { [key: string]: any },\n    sectionId?: string,\n    breadcrumbs?: string[]\n): void {\n    const manifestKey = syncRule.manifest.key || propertyKey;\n    const importHandler = syncRule.manifest.import;\n    if (importHandler && typeof importHandler === 'function') {\n        const value = importHandler(manifestSection, sectionId, propertyKey, breadcrumbs);\n        if (value !== undefined) {\n            configPart[propertyKey] = value;\n        }\n    } else if (manifestSection[manifestKey] !== undefined) {\n        configPart[propertyKey] = manifestSection[manifestKey];\n    }\n}\n\n/**\n * Validation during import: check if properties are marked as deprecated.\n * If so, log them.\n * @param deprecatedProperties - existing list, to be actualized\n * @param manifestSection - Section in manifest.json\n * @param path - path to the section in manifest\n * @param {ExtensionLogger} logger - Logger class for logging messages\n */\nexport function checkDeprecatedProperties(\n    deprecatedProperties: DeprecatedProperties | undefined,\n    manifestSection: {},\n    path: string,\n    logger?: ExtensionLogger\n): void {\n    if (manifestSection && deprecatedProperties) {\n        for (const key in manifestSection) {\n            const deprecated = deprecatedProperties[key];\n            if (deprecated) {\n                log(logger, {\n                    severity: LogSeverity.Warning,\n                    message: getTextForDeprecated(key, deprecated),\n                    location: {\n                        path: 'webapp/manifest.json/',\n                        range: path.split('/')\n                    }\n                });\n                delete deprecatedProperties[key];\n            }\n        }\n    }\n}\n\n/**\n * Determines the title of a section representation in the app schema, main aspect is checking the facet ID\n * @param schemaSection - Section in manifest.json\n * @param jsonSchema - app specific schema\n */\nexport function getSectionTitle(schemaSection: Definition, jsonSchema: Definition): string | undefined {\n    if (schemaSection.$ref && !schemaSection.title) {\n        const refTitle = jsonSchema.definitions[schemaSection.$ref.split(DEFINITION_LINK_PREFIX)[1]] as Definition;\n        return getSectionTitle(refTitle, jsonSchema);\n    } else if (schemaSection.title) {\n        if (schemaSection.title.startsWith(FacetTitlePrefix)) {\n            return schemaSection.title.split(FacetTitlePrefix)[1].replace(/com.sap/g, '@com.sap');\n        } else {\n            return schemaSection.title.replace(/com.sap/g, '@com.sap');\n        }\n    } else {\n        return undefined;\n    }\n}\n\n/**\n * Method returns target by resolving custom column reference name.\n * For example - 'TableCustomColumns<dummyTarget>' is resolved as 'dummyTarget'.\n * @param {string} ref Reference key.\n * @returns {string | undefined} Resolved target.\n */\nexport function getTargetFromCustomColumnRef(ref: string): string | undefined {\n    const refParts = ref.split(`${DefinitionName.CustomColumns}<`);\n    if (refParts[1]) {\n        return refParts[1].split('>')[0];\n    }\n    return undefined;\n}\n\n/**\n * Removes part of a given config, if empty\n * @param {object} config - config part\n * @param {string} structure - part of config to be removed\n */\nexport function removeEmptyStructure(config: object, structure: string): void {\n    if (!config[structure]) {\n        return;\n    }\n    if (Object.keys(config[structure]).length < 1) {\n        delete config[structure];\n    }\n}\n", "import type { ConvertedMetadata, EntitySet, EntityType } from '@sap-ux/vocabularies-types';\nimport type { DataFieldAbstractTypes } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport { UIAnnotationTerms, UIAnnotationTypes } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport { getStableIdPartFromDataField } from '../../v4/utils/StableIdHelper';\nimport type { FacetConfig, GenerateAppSchemaParameters } from '@sap/ux-specification-types';\nimport { SchemaKeyName } from '@sap/ux-specification-types';\nimport {\n    DefinitionName,\n    FacetBase,\n    FioriElementsVersion,\n    PropertyName,\n    SchemaTag,\n    SectionType,\n    UIVOCABULARY\n} from '@sap/ux-specification-types';\nimport {\n    DEFINITION_LINK_PREFIX,\n    getDataFieldDescription,\n    createAnnotationPath,\n    findAlias,\n    prepareRef,\n    addDataTypeToDefinition\n} from '..';\nimport type { Definition } from 'typescript-json-schema';\n\n/**\n * Copies the field properties from the generic definition to the specific field definition\n * @param {FioriElementsVersion} version - Fiori Elements version\n * @param {object} appSchema - App schema in general\n * @param {DataFieldAbstractTypes} field - field definition in parser output (AVT)\n * @param {string} fieldDefinition - the unique ID for the given field definition\n */\nfunction copyFieldProperties(\n    version: FioriElementsVersion,\n    appSchema: Definition,\n    field: DataFieldAbstractTypes,\n    fieldDefinition: string\n) {\n    if (version === FioriElementsVersion.v4 && appSchema['definitions']['Field']) {\n        switch (field.$Type) {\n            case UIAnnotationTypes.DataField:\n            case UIAnnotationTypes.DataFieldForAnnotation:\n            case UIAnnotationTypes.DataFieldWithNavigationPath:\n            case UIAnnotationTypes.DataFieldWithUrl: {\n                (appSchema.definitions[fieldDefinition] as Definition).properties =\n                    appSchema.definitions.Field['properties'];\n                break;\n            }\n        }\n    } else if (version === FioriElementsVersion.v2 && appSchema['definitions']['Field']) {\n        switch (field.$Type) {\n            case UIAnnotationTypes.DataField:\n            case UIAnnotationTypes.DataFieldForAnnotation:\n            case UIAnnotationTypes.DataFieldWithUrl: {\n                (appSchema.definitions[fieldDefinition] as Definition).properties =\n                    appSchema.definitions.Field['properties'];\n                break;\n            }\n        }\n    }\n}\n\n/**\n * Determines the name for a field definition in app schema\n * @param {FioriElementsVersion} version - Fiori Elements version\n * @param fieldReferenceId - the stable ID representation of the field\n * @param {string} targetID - unique ID, identifies the parent object (form)\n * @param fieldReference - the reference to the field definition in schema\n * @returns the field definition name in schema\n */\nfunction determineFieldDefinitionName(\n    version: FioriElementsVersion,\n    fieldReferenceId: string,\n    targetID: string,\n    fieldReference: string\n): string {\n    const fieldReferenceType =\n        version === FioriElementsVersion.v2 && fieldReferenceId && fieldReferenceId.includes('::')\n            ? fieldReferenceId.split('::')[0].replace('DataField', 'Field')\n            : undefined;\n    if (version === FioriElementsVersion.v2) {\n        return `${fieldReferenceType}<${targetID}::${fieldReference}>`;\n    } else {\n        return `${targetID}::${fieldReference}`;\n    }\n}\n\n/**\n * Add th keys and targt tag for Datafield*\n * @param field - the given field definition\n * @param appSchema - the app schema to be updated\n * @param schemaKeyOfField - key for the given field in the app schema\n */\nfunction addKeysTagForDataField(field, appSchema: Definition, schemaKeyOfField: string) {\n    if (typeof field.Value !== 'string' && field.Value.type === 'Path') {\n        appSchema.definitions[schemaKeyOfField][SchemaTag.keys] = [\n            {\n                name: 'Value',\n                value: field.Value.path\n            }\n        ];\n        appSchema.definitions[schemaKeyOfField][SchemaTag.target] = field.Value.$target\n            ? field.Value.$target.fullyQualifiedName.split('/')[0]\n            : field.Value.targetString.split('/')[0];\n    } else if (typeof field.Value === 'string' && field.Value) {\n        appSchema.definitions[schemaKeyOfField][SchemaTag.keys] = [\n            {\n                name: 'Value',\n                value: field.Value\n            }\n        ];\n        appSchema.definitions[schemaKeyOfField][SchemaTag.target] = field.fullyQualifiedName.split('@')[0];\n    }\n}\n\n/**\n * Adds the \"keys\" tag to a field definition in schema\n * @param field - the given field definition\n * @param appSchema - the app schema to be updated\n * @param schemaKeyOfField - key for the given field in the app schema\n */\nfunction addKeysTagToField(field: DataFieldAbstractTypes, appSchema: Definition, schemaKeyOfField: string) {\n    if (\n        field.$Type === UIAnnotationTypes.DataField ||\n        field.$Type === UIAnnotationTypes.DataFieldWithUrl ||\n        field.$Type === UIAnnotationTypes.DataFieldWithNavigationPath\n    ) {\n        addKeysTagForDataField(field, appSchema, schemaKeyOfField);\n    } else if (field.$Type === UIAnnotationTypes.DataFieldForAnnotation) {\n        appSchema.definitions[schemaKeyOfField][SchemaTag.keys] = [\n            {\n                name: 'Target',\n                value: field.Target.value\n            }\n        ];\n        appSchema.definitions[schemaKeyOfField][SchemaTag.target] =\n            field.Target.$target.fullyQualifiedName.split('@')[0];\n    } else if (field.$Type === UIAnnotationTypes.DataFieldForAction) {\n        const separator = field.Action.lastIndexOf('.');\n        if (separator === -1) {\n            appSchema.definitions[schemaKeyOfField][SchemaTag.keys] = [\n                {\n                    name: 'Action',\n                    value: field.Action\n                }\n            ];\n        } else {\n            appSchema.definitions[schemaKeyOfField][SchemaTag.keys] = [\n                {\n                    name: 'Action',\n                    value: field.Action.substring(separator + 1, field.Action.length)\n                }\n            ];\n            appSchema.definitions[schemaKeyOfField][SchemaTag.target] = field.Action.substring(0, separator);\n        }\n    } else if (field.$Type === UIAnnotationTypes.DataFieldForIntentBasedNavigation) {\n        appSchema.definitions[schemaKeyOfField][SchemaTag.keys] = [\n            {\n                name: 'SemanticObject',\n                value: field.SemanticObject\n            }\n        ];\n        if (field.Action) {\n            appSchema.definitions[schemaKeyOfField][SchemaTag.keys].push({\n                name: 'Action',\n                value: field.Action\n            });\n        }\n        appSchema.definitions[schemaKeyOfField][SchemaTag.target] = field.fullyQualifiedName.split('@')[0];\n    }\n}\n\n/**\n * Adds a field definition to the app specific schema\n * @param {string} sectionType - prefix to distinguish Section and HeaderSection\n * @param {object} appSchema - App schema in general\n * @param {DataFieldAbstractTypes} field - field definition in parser output (AVT)\n * @param {string} targetID - unique ID, identifies the parent object (form)\n * @param {string} key - current field key\n * @param {SectionType} section - current section of the object page\n * @param {FioriElementsVersion} version - Fiori Elements version\n */\nfunction addField(\n    sectionType: SectionType,\n    appSchema: Definition,\n    field: DataFieldAbstractTypes,\n    targetID: string,\n    key: string,\n    section: FacetConfig,\n    version: FioriElementsVersion,\n    withActions = true\n): void {\n    // Calculate field reference\n    const fieldReferenceId = getStableIdPartFromDataField(field);\n    const fieldReference =\n        version === FioriElementsVersion.v2 && fieldReferenceId && fieldReferenceId.includes('::')\n            ? fieldReferenceId.split('::').splice(1).join('::')\n            : fieldReferenceId;\n    // Determine field definition name\n    const schemaKeyOfField = determineFieldDefinitionName(version, fieldReferenceId, targetID, fieldReference);\n\n    // Evaluate field type, set field reference of properties of fields' or actions' definition\n    if (!field || !field.$Type) {\n        return;\n    } else if (\n        field.$Type === UIAnnotationTypes.DataFieldForAction ||\n        field.$Type === UIAnnotationTypes.DataFieldForIntentBasedNavigation\n    ) {\n        if (withActions && sectionType === SectionType.Section) {\n            const actionsDefinition = prepareRef(`${sectionType}${DefinitionName.Actions}<${targetID}>`);\n            const fieldInSchema = ((appSchema.definitions[actionsDefinition] as Definition).properties[fieldReference] =\n                {\n                    $ref: `${DEFINITION_LINK_PREFIX}${schemaKeyOfField}`\n                });\n            fieldInSchema[SchemaTag.propertyIndex] = parseInt(key);\n        }\n    } else {\n        const fieldsDefinition = prepareRef(`${sectionType}${DefinitionName.Fields}<${targetID}>`);\n        appSchema.definitions[fieldsDefinition]['properties'][fieldReference] = {\n            $ref: `${DEFINITION_LINK_PREFIX}${schemaKeyOfField}`,\n            propertyIndex: parseInt(key)\n        };\n    }\n\n    // Now set up the field definition\n    appSchema.definitions[schemaKeyOfField] = {\n        type: 'object',\n        properties: {},\n        description: getDataFieldDescription(field, section.entityType),\n        additionalProperties: false\n    };\n    //Add tags\n    addKeysTagToField(field, appSchema, schemaKeyOfField);\n    appSchema.definitions[schemaKeyOfField][SchemaTag.annotationPath] = `/${section.entityType.fullyQualifiedName}/${\n        field.fullyQualifiedName.split(section.entityType.fullyQualifiedName)[1]\n    }`;\n    appSchema.definitions[schemaKeyOfField][SchemaTag.annotationType] = field.$Type;\n    appSchema.definitions[schemaKeyOfField][SchemaTag.isViewNode] = true;\n\n    addDataTypeToDefinition(appSchema.definitions[schemaKeyOfField] as Definition, field);\n\n    // Copy the generic definition of field properties to the specific one\n    copyFieldProperties(version, appSchema, field, schemaKeyOfField);\n    if (field.$Type === UIAnnotationTypes.DataFieldForAction && appSchema.definitions?.['FormAction']) {\n        (\n            appSchema.definitions[schemaKeyOfField] as Definition\n        ).$ref = `${DEFINITION_LINK_PREFIX}${DefinitionName.FormAction}`;\n        delete (appSchema.definitions[schemaKeyOfField] as Definition).properties;\n    }\n}\n\n/**\n * The function determines the target ID that shall be used in the app schema for a form\n * @param section - object describing the section or facet\n * @returns the target ID (string)\n */\nfunction determineTargetIdOfForm(section: FacetConfig) {\n    let targetID: string;\n    if (section.target && section.target['qualifier'] && section.entityType) {\n        targetID = `${section.entityType.name}::${section.base}::${section.target['qualifier']}`;\n    } else if (section.entityType) {\n        targetID = `${section.entityType.name}::${section.base}`;\n    } else {\n        targetID = section.ID;\n    }\n    return targetID;\n}\n\n/**\n * Adds the specific definitions of the form fields to a schema\n * @param {FacetConfig} section - section definition, as prepared from the annotations\n * @param {SectionType} sectionType - prefix to distinguish Section and HeaderSection\n * @param {object} appSchema - app specific schema that gets enhanced\n * @param {string } targetID - target id of form\n * @param {FioriElementsVersion} version - Fiori Elements version\n * @param {boolean} withActions - indicates that actions shall be considered\n */\nfunction addFieldsToFormDefinition(\n    section: FacetConfig,\n    sectionType: SectionType,\n    appSchema: Definition,\n    targetID: string,\n    version: FioriElementsVersion,\n    withActions: boolean\n) {\n    if (section.base === FacetBase.Identification) {\n        for (const key in section.target) {\n            const field = section.target[key];\n            if (field) {\n                addField(sectionType, appSchema, field, targetID, key, section, version, withActions);\n            }\n        }\n    } else {\n        for (const key in section.target['Data']) {\n            const field = section.target['Data'][key];\n            addField(sectionType, appSchema, field, targetID, key, section, version);\n        }\n    }\n}\n\n/**\n * Adds the schema tags for a form definition\n * @param {FacetConfig} section - section definition, as prepared from the annotations\n * @param {object} appSchema - app specific schema that gets enhanced\n * @param {string} formDefinitionKey - key of the form definition in schema\n */\nfunction addTagsToFormDefinition(section: FacetConfig, appSchema: Definition, formDefinitionKey: string) {\n    if (section.target) {\n        const targetValue = section.target['qualifier']\n            ? `${section.target['term']}#${section.target['qualifier']}`\n            : `${section.target['term']}`;\n        appSchema.definitions[formDefinitionKey][SchemaTag.keys] = [\n            {\n                name: SchemaKeyName.target,\n                value: targetValue.replace(/com.sap.vocabularies.UI.v1./g, '')\n            }\n        ];\n        appSchema.definitions[formDefinitionKey][SchemaTag.target] = section.target['fullyQualifiedName'].split('@')[0];\n    }\n    appSchema.definitions[formDefinitionKey][SchemaTag.isViewNode] = true;\n\n    if (section.entityType?.name) {\n        appSchema.definitions[formDefinitionKey][SchemaTag.annotationPath] = createAnnotationPath(\n            section.entityType.fullyQualifiedName,\n            section.target['term'],\n            section.target['qualifier']\n        );\n    }\n}\n\n/**\n * Adds definitions for forms in object page sections to the app schema\n * @param {SectionType} sectionType - prefix to distinguish Section and HeaderSection\n * @param {FacetConfig} section - section definition, as prepared from the annotations\n * @param {object} appSchemaSection - current definition of facet or section in the JSON schema\n * @param {object} appSchema - app specific schema that gets enhanced\n * @param {FioriElementsVersion} version - Fiori Elements version\n * @param {string} facetKey - facet key\n * @returns {string | undefined} target id of form\n */\nexport function handleForm(\n    sectionType: SectionType,\n    section: FacetConfig,\n    appSchemaSection: Definition,\n    appSchema: Definition,\n    version: FioriElementsVersion,\n    facetKey: string\n): string | undefined {\n    if (!section.target) {\n        return;\n    }\n    const targetID: string = determineTargetIdOfForm(section);\n    const formDefinitionKey = prepareRef(`${sectionType}${DefinitionName.Form}<${targetID}>`);\n    const fieldsDefinitionKey = prepareRef(`${sectionType}${DefinitionName.Fields}<${targetID}>`);\n    const actionsDefinitionKey = prepareRef(`${sectionType}${DefinitionName.Actions}<${targetID}>`);\n    const withActions = section.base === FacetBase.Identification && facetKey.indexOf('#') < 0 ? false : true;\n\n    // Form definition\n    appSchemaSection.properties.form = { $ref: `${DEFINITION_LINK_PREFIX}${formDefinitionKey}` };\n\n    if (sectionType === SectionType.Section && withActions) {\n        appSchema.definitions[formDefinitionKey] = {\n            type: 'object',\n            properties: {\n                actions: {\n                    $ref: `${DEFINITION_LINK_PREFIX}${actionsDefinitionKey}`\n                },\n                fields: { $ref: `${DEFINITION_LINK_PREFIX}${fieldsDefinitionKey}` }\n            },\n            description: 'Form',\n            additionalProperties: false\n        };\n        appSchema.definitions[actionsDefinitionKey] = {\n            type: 'object',\n            properties: {},\n            description: 'Actions',\n            additionalProperties: false\n        };\n        appSchema.definitions[actionsDefinitionKey][SchemaTag.isViewNode] = true;\n    } else {\n        appSchema.definitions[formDefinitionKey] = {\n            type: 'object',\n            properties: {\n                fields: { $ref: `${DEFINITION_LINK_PREFIX}${fieldsDefinitionKey}` }\n            },\n            description: 'Form',\n            additionalProperties: false\n        };\n    }\n    //Add schema tags\n    addTagsToFormDefinition(section, appSchema, formDefinitionKey);\n\n    // Fields definition\n    appSchema.definitions[fieldsDefinitionKey] = {\n        type: 'object',\n        properties: {},\n        description: 'Fields',\n        additionalProperties: false\n    };\n    appSchema.definitions[fieldsDefinitionKey][SchemaTag.isViewNode] = true;\n    // Add fields\n    addFieldsToFormDefinition(section, sectionType, appSchema, targetID, version, withActions);\n    return targetID;\n}\n\n/**\n * Replaces an alias in an annotation ID or reference, based on the AVT references' list\n * @param annotationIdentifier - annotation ID or reference\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n * @returns the converted string\n */\nexport function replaceAlias(annotationIdentifier: string, oDataServiceAVT: ConvertedMetadata): string {\n    const potentialAlias = annotationIdentifier.indexOf('.') > -1 ? annotationIdentifier.split('.')[0] : undefined;\n    let result = annotationIdentifier;\n    if (potentialAlias && oDataServiceAVT) {\n        const searchTerm = potentialAlias.replace('SAP__', '');\n        const reference = oDataServiceAVT.references.find((ref) => {\n            return ref.alias === searchTerm;\n        });\n        if (reference) {\n            result = annotationIdentifier.replace(potentialAlias, reference.namespace);\n        }\n    }\n    return result;\n}\n\n/**\n * Common routine to determine the name and the ID of a header action\n * @param action - action as given by AVT\n * @param entityType - entity type by AVT\n * @returns an object comprising action name and action id\n */\n\nexport function getActionNameAndId(\n    item: any,\n    entityType: EntityType,\n    oDataServiceAVT: ConvertedMetadata\n): { actionName: string; actionId: string; namespace: string } {\n    const action = replaceAlias(item.Action, oDataServiceAVT);\n\n    let relevantAction = action;\n    let separatorIndex = action.indexOf('(');\n\n    if (separatorIndex > 0) {\n        relevantAction = action.substring(0, separatorIndex);\n    }\n    separatorIndex = relevantAction.lastIndexOf('/');\n    if (separatorIndex === -1) {\n        separatorIndex = relevantAction.lastIndexOf('.');\n    }\n    let actionName: string, actionId: string, namespace: string;\n    if (separatorIndex > -1) {\n        actionName = relevantAction.substring(separatorIndex + 1);\n        namespace = relevantAction.substring(0, separatorIndex);\n        actionId = `${relevantAction.substring(0, separatorIndex)}::${actionName}`;\n    } else {\n        actionName = relevantAction;\n        namespace = item.fullyQualifiedName.split('@')[0];\n        if (actionName && actionName !== '') {\n            actionId = `${namespace.substring(0, namespace.length - 1)}::${actionName}`;\n        }\n    }\n    return { actionName, actionId, namespace };\n}\n\n/**\n * Add Object Page Footer Action Buttons to app-specific schema\n *\n * @param {object} appSchema Schema of the app\n * @param {GenerateAppSchemaParameters} generateParameters - Schema parameters\n * @param {FioriElementsVersion} version - Fiori elements versions\n * @param {function} addFooterActionCallBack - Callback function, either V2 or V4\n */\nexport function addFooterActions(\n    appSchema: Definition,\n    generateParameters: GenerateAppSchemaParameters,\n    version: FioriElementsVersion,\n    addFooterActionCallBack\n): void {\n    appSchema.definitions[DefinitionName.ObjectPageFooter] = JSON.parse(\n        JSON.stringify(appSchema.definitions[`${DefinitionName.ObjectPageFooter}<ObjectPageFooterActions>`])\n    );\n    // Change reference of footer\n    appSchema.properties['footer'] = {\n        $ref: `${DEFINITION_LINK_PREFIX}${DefinitionName.ObjectPageFooter}`\n    };\n    // Add action to configuration\n    (appSchema.definitions[DefinitionName.ObjectPageFooter] as Definition).properties[PropertyName.actions] = {\n        $ref: `${DEFINITION_LINK_PREFIX}${DefinitionName.FooterActions}`\n    };\n    const footerActions = (appSchema.definitions[DefinitionName.FooterActions] = {\n        type: 'object',\n        properties: {},\n        description: 'Actions',\n        additionalProperties: false\n    });\n    footerActions[SchemaTag.isViewNode] = true;\n\n    const alias = findAlias(UIVOCABULARY, generateParameters.serviceAVT);\n    const entityType = generateParameters.entitySet.entityType;\n    const actionAnnotation = alias && entityType.annotations?.[alias]?.Identification;\n    if (actionAnnotation) {\n        const convertedIdentification = actionAnnotation.fullyQualifiedName.replace(\n            `@${UIAnnotationTerms.Identification}`,\n            `/@${UIAnnotationTerms.Identification}`\n        );\n        footerActions[SchemaTag.annotationPath] = `/${convertedIdentification}`;\n        actionAnnotation.forEach(\n            addFooterActionCallBack(entityType, appSchema, footerActions, convertedIdentification)\n        );\n    } else {\n        footerActions[\n            SchemaTag.annotationPath\n        ] = `/${entityType.fullyQualifiedName}/@${UIAnnotationTerms.Identification}`;\n    }\n    delete appSchema.definitions[DefinitionName.ObjectPageFooterActions];\n    delete appSchema.definitions[`${DefinitionName.ObjectPageFooter}<${DefinitionName.ObjectPageFooterActions}>`];\n}\n\n/**\n * Add Object Page Header Action Buttons to app-specific schema\n * @param {object} appSchema Schema of the app\n * @param {EntityType} entityType - current entity type\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n * @param {function} addHeaderActionCallBack - Callback function, either V2 or V4\n */\nexport function addHeaderActions(\n    appSchema: Definition,\n    entityType: EntityType,\n    oDataServiceAVT: ConvertedMetadata,\n    addHeaderActionCallBack\n): void {\n    (appSchema.definitions[DefinitionName.ObjectPageHeader] as Definition).properties[PropertyName.actions] = {\n        $ref: `${DEFINITION_LINK_PREFIX}${DefinitionName.HeaderActions}`\n    };\n    const headerActions = (appSchema.definitions[DefinitionName.HeaderActions] = {\n        type: 'object',\n        properties: {},\n        description: 'Actions',\n        additionalProperties: false\n    });\n    headerActions[SchemaTag.isViewNode] = true;\n\n    const alias = findAlias(UIVOCABULARY, oDataServiceAVT);\n    const identification =\n        alias &&\n        entityType.annotations &&\n        entityType.annotations[alias] &&\n        entityType.annotations[alias].Identification;\n\n    if (identification) {\n        headerActions[SchemaTag.annotationPath] =\n            '/' +\n            identification.fullyQualifiedName.replace(\n                `@${UIAnnotationTerms.Identification}`,\n                `/@${UIAnnotationTerms.Identification}`\n            );\n        identification.forEach(\n            addHeaderActionCallBack(entityType, appSchema, identification, headerActions, oDataServiceAVT)\n        );\n    } else {\n        headerActions[\n            SchemaTag.annotationPath\n        ] = `/${entityType.fullyQualifiedName}/@${UIAnnotationTerms.Identification}`;\n    }\n}\n\n/**\n * Adds common Object Page Header definitions to the app schema\n * @param appSchema - app-specific JSOn schema\n * @param entityType - current entity Type\n */\nexport function addCommonHeaderSchema(appSchema: Definition, entityType: EntityType): void {\n    appSchema.properties['header'] = {\n        $ref: `${DEFINITION_LINK_PREFIX}${DefinitionName.ObjectPageHeader}`\n    };\n    appSchema.definitions[DefinitionName.ObjectPageHeader] = JSON.parse(\n        JSON.stringify(appSchema.definitions[`${DefinitionName.ObjectPageHeader}`])\n    );\n    appSchema.definitions[DefinitionName.ObjectPageHeader][\n        SchemaTag.annotationPath\n    ] = `/${entityType.fullyQualifiedName}/@${UIAnnotationTerms.HeaderInfo}`;\n}\n\n/**\n * Common logic to determine the EntitySet of a facet\n * @param facet - current facet or section\n * @param serviceAVT - AVT converter output, comprising all annotation information\n * @returns the entity set as defined in AVT, if found\n */\nexport function determineEntitySetOfFacet(facet: FacetConfig, serviceAVT: ConvertedMetadata): EntitySet | undefined {\n    return facet.entityType\n        ? serviceAVT.entitySets.find(\n              (es) => es.entityType.name === facet.entityType.name || es.name === facet.entityType.name\n          )\n        : undefined;\n}\n", "import { UIAnnotationTypes } from '@sap-ux/vocabularies-types/vocabularies/UI';\n\n/**\n * Stable Id helper (parts copied from sap.fe.core/helpers/StableIdHelper.ts)\n */\n\nexport function replaceSpecialChars(sId: string): string {\n    if (typeof sId !== 'string') {\n        return;\n    }\n    sId = sId\n        .replace(/^\\/|^@|^#|^\\*/, '') // remove special characters from the beginning of the string\n        .replace(/\\/$|@$|#$|\\*$/, '') // remove special characters from the end of the string\n        .replace(/\\/|@|\\(|\\)|#|\\*/g, '::'); // replace special characters with ::\n\n    // Replace double occurrences of the separator with a single separator\n    while (sId.indexOf('::::') > -1) {\n        sId = sId.replace('::::', '::');\n    }\n\n    // If there is a :: at the end of the ID remove it\n    if (sId.slice(-2) === '::') {\n        sId = sId.slice(0, -2);\n    }\n\n    return sId;\n}\n\nfunction removeNamespaces(sId: string): string {\n    sId = sId.replace('com.sap.vocabularies.UI.v1.', '');\n    sId = sId.replace('com.sap.vocabularies.Communication.v1.', '');\n    return sId;\n}\n\nexport const prepareId = function (sId: string): string {\n    return replaceSpecialChars(removeNamespaces(sId));\n};\n\nfunction evaluateConcat(oValue: any) {\n    let sPathConcat = '';\n    for (const applyValue of oValue.Apply.Path) {\n        if (applyValue._text) {\n            if (sPathConcat) {\n                sPathConcat += '::';\n            }\n            sPathConcat += applyValue._text;\n        }\n    }\n    return sPathConcat;\n}\n\nexport function getStableIdPartFromValue(oValue: any): string | undefined {\n    if (oValue?.$Path || oValue?.path) {\n        return oValue.$Path || oValue.path;\n    }\n\n    if (oValue?.Apply?._attributes.Function === 'odata.concat') {\n        return evaluateConcat(oValue);\n    }\n\n    if (oValue) {\n        if (typeof oValue === 'string') {\n            return replaceSpecialChars(oValue.replace(/ /g, '_'));\n        }\n    }\n}\n\nexport const getStableIdPartFromSemanticObjectAndAction = function (oDataField: any): string {\n    let sIdPart = '';\n    if (typeof oDataField.SemanticObject === 'string') {\n        sIdPart += oDataField.SemanticObject;\n    } else if (oDataField.SemanticObject.$Path) {\n        sIdPart += oDataField.SemanticObject.$Path;\n    }\n    if (typeof oDataField.Action === 'string') {\n        sIdPart += '::' + oDataField.Action;\n    } else if (oDataField.Action && oDataField.Action.$Path) {\n        sIdPart += '::' + oDataField.Action.$Path;\n    }\n    if (oDataField['RequiresContext']) {\n        sIdPart += '::RequiresContext';\n    }\n    return sIdPart;\n};\n\nexport const getStableIdPartFromDataField = function (oDataField: any): string | undefined {\n    let sIdPart = '';\n\n    if (oDataField.$Type && oDataField.$Type === UIAnnotationTypes.DataFieldForAction) {\n        sIdPart = 'DataFieldForAction::';\n        sIdPart += oDataField.Action;\n        return prepareId(sIdPart);\n    } else if (oDataField.$Type && oDataField.$Type === UIAnnotationTypes.DataFieldForIntentBasedNavigation) {\n        sIdPart = 'DataFieldForIntentBasedNavigation::';\n        sIdPart += getStableIdPartFromSemanticObjectAndAction(oDataField);\n        return sIdPart;\n    } else if (oDataField.$Type && oDataField.$Type === UIAnnotationTypes.DataFieldForAnnotation) {\n        sIdPart = 'DataFieldForAnnotation::';\n        sIdPart += prepareId(oDataField.Target.$AnnotationPath || oDataField.Target.value);\n        return sIdPart;\n    } else if (oDataField.$Type && oDataField.$Type === UIAnnotationTypes.DataFieldWithAction) {\n        sIdPart = 'DataFieldWithAction::';\n        if (oDataField.Value) {\n            sIdPart += getStableIdPartFromValue(oDataField.Value) + '::';\n        }\n        sIdPart += oDataField.Action;\n        return prepareId(sIdPart);\n    } else if (oDataField.$Type && oDataField.$Type === UIAnnotationTypes.DataField) {\n        sIdPart = 'DataField::';\n        sIdPart += getStableIdPartFromValue(oDataField.Value);\n        return prepareId(sIdPart);\n    } else if (oDataField.$Type && oDataField.$Type === UIAnnotationTypes.DataFieldWithIntentBasedNavigation) {\n        sIdPart = 'DataFieldWithIntentBasedNavigation::';\n        sIdPart += getStableIdPartFromValue(oDataField.Value) + '::';\n        sIdPart += getStableIdPartFromSemanticObjectAndAction(oDataField);\n        return prepareId(sIdPart);\n    } else if (oDataField.$Type && oDataField.$Type === UIAnnotationTypes.DataFieldWithNavigationPath) {\n        sIdPart = 'DataFieldWithNavigationPath::';\n        sIdPart += getStableIdPartFromValue(oDataField.Value);\n        if (oDataField.Target && oDataField.Target['$NavigationPropertyPath']) {\n            sIdPart += '::' + oDataField.Target['$NavigationPropertyPath'];\n        }\n        return prepareId(sIdPart);\n    } else if (oDataField.$Type && oDataField.$Type === UIAnnotationTypes.DataFieldWithUrl) {\n        sIdPart = 'DataFieldWithUrl::';\n        sIdPart += getStableIdPartFromValue(oDataField.Value);\n        return prepareId(sIdPart);\n    } else {\n        // In case of a string or unknown property\n        // Log.error(\"Stable ID Helper: Unable to create a stable ID. Please check the annotations.\");\n    }\n    return undefined;\n};\n", "import type { AnnotationTerm, ConvertedMetadata, EntitySet, EntityType } from '@sap-ux/vocabularies-types';\nimport type { LineItem } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport { UIAnnotationTypes, UIAnnotationTerms } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport type { Definition, DefinitionOrBoolean } from 'typescript-json-schema';\nimport type { SectionTypeV2 } from '../../v2/types';\nimport type { PresentationVariantV4 } from '../../v4/types';\nimport { DEFINITION_LINK_PREFIX, createAnnotationPath, prepareRef, addSectionTitleAndDescription } from '..';\nimport type { FacetConfig, FacetSection, SectionType } from '@sap/ux-specification-types';\nimport { DefinitionName, SchemaTag, SchemaKeyName, UIVOCABULARY } from '@sap/ux-specification-types';\nimport { getStableIdPartFromValue } from '../../v4/utils/StableIdHelper';\n\ninterface PropertyInDefinition {\n    definition: string;\n    property?: string;\n}\n\n/**\n * Adds an enum filled with existing UI annotations of the given list (validAnnotations)\n * @param {EntityType} entityType\n * @param {UIAnnotationTerms[]} validAnnotations\n * @param {Definition} annoPath - the annotation path property in the app schema where the enum shall be added\n */\nexport function addEnumForValidAnnotations(\n    entityType: EntityType,\n    validAnnotations: UIAnnotationTerms[],\n    annoPath: Definition\n): void {\n    const UiAnnotations = entityType?.annotations?.UI;\n    if (!UiAnnotations) {\n        return;\n    }\n    const enumEntries = [];\n    for (const key in UiAnnotations) {\n        const annotation = UiAnnotations[key];\n        if (validAnnotations.indexOf(annotation.term) > -1) {\n            const enumEntry = annotation.qualifier\n                ? `${annotation.term}#${annotation.qualifier}`\n                : `${annotation.term}`;\n            if (enumEntries.indexOf(enumEntry) === -1) {\n                enumEntries.push(enumEntry);\n            }\n        }\n    }\n    if (enumEntries.length > 0) {\n        annoPath.enum = enumEntries;\n    }\n}\n\n/**\n * Adds an enum filled with existing UI annotations for single-tab variants of a table\n * @param {EntityType} entityType\n * @param {Definition} appSchema - app specific JSON schema\n * @param definitionName - name of the definition in the app schema\n */\nexport function addEnumForSingleTabVariant(\n    entityType: EntityType,\n    appSchema: Definition,\n    definitionName: string\n): void {\n    const annoPath = (appSchema.definitions[definitionName] as Definition).properties[SchemaTag.annotationPath];\n    const validAnnotations = [UIAnnotationTerms.SelectionVariant, UIAnnotationTerms.SelectionPresentationVariant];\n    addEnumForValidAnnotations(entityType, validAnnotations, annoPath as Definition);\n}\n\n/**\n * Adds an enum filled with existing UI annotations for multi-tab variants of a table\n * @param appSchema - app specific JSOn schema\n * @param definitionName - name of the definition in the app schema\n * @param {EntitySet} entitySet - current entity set of the page or view\n */\nexport function addEnumForMultiTabVariant(appSchema: Definition, definitionName: string, entitySet: EntitySet): void {\n    const annoPath = (appSchema.definitions[definitionName] as Definition)?.properties.annotationPath;\n    const validAnnotations = [UIAnnotationTerms.SelectionVariant, UIAnnotationTerms.SelectionPresentationVariant];\n    addEnumForValidAnnotations(entitySet.entityType, validAnnotations, annoPath as Definition);\n}\n\n/**\n * Adds the enum values for entitySet as part of the multiple view scenario\n * @param {ConvertedMetadata} oDataServiceAVT - combined service metadata, as returned by annotation vocabularies tools\n * @param appSchema - app specific JSOn schema\n * @param definitionName - name of the definition in the app schema\n */\nexport function addEnumForVariantEntitySet(\n    oDataServiceAVT: ConvertedMetadata,\n    appSchema: Definition,\n    definitionName: string\n): void {\n    const entitySet = (appSchema.definitions[definitionName] as Definition).properties.entitySet;\n    const enumEntries = [];\n    if (!oDataServiceAVT) {\n        return;\n    }\n\n    oDataServiceAVT.entitySets.forEach((es: EntitySet) => {\n        enumEntries.push(es.name);\n    });\n    if (enumEntries.length > 0) {\n        entitySet['enum'] = enumEntries;\n    }\n}\n\n/**\n * Adds an enum filled with existing UI annotations for annotationPath property in FilterBar\n * @param {EntityType} entityType\n * @param appSchema - app specific JSOn schema\n * @param definitionName - name of the definition in the app schema\n */\nexport function addEnumForFilterBarAnnotationPath(\n    entityType: EntityType,\n    appSchema: Definition,\n    definitionName: string\n): void {\n    const annoPath = (appSchema.definitions[definitionName] as Definition).properties.annotationPath as Definition;\n    const validAnnotations = [UIAnnotationTerms.SelectionVariant];\n    addEnumForValidAnnotations(entityType, validAnnotations, annoPath);\n}\n\n/**\n * Adds an enum filled with existing UI FieldGroup annotations for annotationPath property in MultiEdit\n * @param {EntityType} entityType\n * @param appSchema - app specific JSOn schema\n * @param definitionName - name of the definition in the app schema\n */\nexport function addEnumFieldGroupAnnotationPath(\n    entityType: EntityType,\n    appSchema: Definition,\n    definitionName: string\n): void {\n    const annoPath = (appSchema.definitions[definitionName] as Definition).properties.annotationPath as Definition;\n    const validAnnotations = [UIAnnotationTerms.FieldGroup];\n    addEnumForValidAnnotations(entityType, validAnnotations, annoPath);\n}\n\n/**\n * Method adds definition for 'RelatedFacetKeys' as enum with description and adds references to 'RelatedFacetKeys' for custom section definitions.\n * @param {Definition} appSchema App specific schema that potentially gets enhanced\n * @param {string[]>} sectionDefinitions array of section definitions which should be updated with new reference to 'RelatedFacetKeys' enum.\n * @param {FacetSection[]} facetSections Array of facet section objects which is used to generate enum values.\n * @param {Array<keyof Omit<FacetSection, 'custom'>>} idProperties Array of property names which should be looked up in 'FacetSection' object.\n *  Please note that method depends on order and takes first non empty value associated to passed properties.\n */\nexport function addDefinitionForRelatedFacetKeys(\n    appSchema: Definition,\n    sectionDefinitions: string[],\n    facetSections: FacetSection[],\n    idProperties: Array<keyof Omit<FacetSection, 'custom'>>\n): void {\n    const oneOfSections = facetSections.map((section: FacetSection) => {\n        // Loop acceptable properties in received order and find first entry with value\n        const propertyName = idProperties.find((property) => !!section[property]);\n        const schemaIdForSection = section[propertyName];\n        return {\n            const: schemaIdForSection,\n            ...(section.label && { description: section.label }),\n            ...(section.custom && { custom: section.custom })\n        };\n    });\n    // Change 'relatedFacet' only when we have entries for sections - otherwise use generic.\n    if (oneOfSections.length) {\n        // Create new definition in schema as 'oneOf'.\n        // Simpler way would be to use 'enum', but then there no option to pass description.\n        appSchema.definitions[DefinitionName.RelatedFacetKeys] = {\n            type: 'string',\n            oneOf: oneOfSections\n        } as Definition;\n\n        // Add enum definition\n        for (const name of sectionDefinitions) {\n            const definition = appSchema.definitions[name] as Definition;\n            const property = definition.properties['relatedFacet'];\n            definition.properties['relatedFacet'] = {\n                anyOf: [\n                    {\n                        $ref: `${DEFINITION_LINK_PREFIX}${DefinitionName.RelatedFacetKeys}`\n                    },\n                    property\n                ]\n            };\n        }\n    }\n}\n\n/**\n * Receives a facet key and returns the key as used in schema\n * @param facetKey - key of the facet, as used in annotation\n * @returns facetKeyInSchema - key of the facet, as used in schema\n */\nexport function getFacetKeyInSchema(facetKey: string): string {\n    return facetKey.replace('#', '::');\n}\n\n/**\n * Returns the name of a facet and definition, as key in definition\n * @param definition name of definition, as used in schema\n * @param facetKey - key of the facet, as used in annotation\n * @returns definition key of facet, as used in definition\n */\nfunction getFacetDefinitionKey(definition: string, facetKey: string): string {\n    return `${definition}<${getFacetKeyInSchema(facetKey)}>`;\n}\n\n/**\n * Adds an existing schema definition to a new definition in the app schema\n * @param definition name of definition, as used in schema\n * @param facetKey - key of the facet, as used in annotation\n * @param {Definition} appSchema App schema in general\n * @param {boolean} useDefinitionAsKey If set to false, facet key will solely be used as key, else encapsulated within definition key `definition<facetKey>`\n * @param subDefinitionName - sub definition, if different from the definition (e.g. subsection vs. section)\n * @returns {Definition} part of app schema that has been added and filled\n */\nexport function parseSchemaDefinition(\n    definition: string,\n    facetKey: string,\n    appSchema: Definition,\n    useDefinitionAsKey = true,\n    subDefinitionName?: DefinitionName\n): Definition {\n    let facetDefinitionKey = facetKey;\n    if (useDefinitionAsKey) {\n        facetDefinitionKey = getFacetDefinitionKey(subDefinitionName ? subDefinitionName : definition, facetKey);\n    }\n    if (definition && definition !== facetDefinitionKey) {\n        const schemaDefinition = JSON.parse(JSON.stringify(appSchema.definitions[definition])) as Definition;\n        appSchema.definitions[facetDefinitionKey] = schemaDefinition;\n    }\n    return appSchema.definitions[facetDefinitionKey] as Definition;\n}\n\n/**\n * Method receives custom extension base definition name and detect if it should be combined with lineItemId.\n * @param appSchema - the app specific schema that shall get enhanced\n * @param lineItemId - line item ID, as comprise in stable ID\n * @param customColumnDefinitionName - (optional) definition name of custom extension.\n * @returns $ref path for definition.\n */\nexport function getCustomExtensionDefinitionName(\n    appSchema: Definition,\n    lineItemId: string,\n    customExtensionDefinitionName: string\n): string {\n    let definitionName: string;\n    if (\n        lineItemId === DefinitionName.LineItems ||\n        lineItemId === 'LineItemsOfSPV::LineItem' ||\n        lineItemId === '@com.sap.vocabularies.UI.v1.LineItem'\n    ) {\n        definitionName = `${DEFINITION_LINK_PREFIX}${customExtensionDefinitionName}`;\n    } else {\n        definitionName = `${DEFINITION_LINK_PREFIX}${customExtensionDefinitionName}<${lineItemId}>`;\n        parseSchemaDefinition(customExtensionDefinitionName, lineItemId, appSchema, true);\n    }\n    return definitionName;\n}\n\n/**\n * Functions used both by V2 and V4 to add the common definitions for a line item to the app schema\n * @param appSchema - the app specific schema that shall get enhanced\n * @param lineItemAnnotation - the UI.LineItem annotation, comprising all records\n * @param entityType - the entity type as part of the AVT ConvertedMetadata\n * @param lineItemId - line item ID, as comprise in stable ID\n * @param customColumnDefinitionName - (optional) definition name of custom column.\n *        Passed in the V4 case, then additional properties of this type will be allowed.\n * @returns the actions definition plus the annotation path to the given line item\n */\nexport function addCommonLineItemDefinitions(\n    appSchema: Definition,\n    lineItemAnnotation: AnnotationTerm<LineItem>,\n    entityType: EntityType,\n    lineItemId: string,\n    customColumnDefinitionName?: string,\n    customActionDefinitionName?: string\n): { actions: Definition; footerActions: Definition; lineItemPath: string } {\n    let lineItemPath: string;\n\n    appSchema.definitions[lineItemId] = {\n        type: 'object',\n        properties: {},\n        description: 'Columns'\n    };\n    appSchema.definitions[lineItemId][SchemaTag.isViewNode] = true;\n    const customColumnRef: string = getCustomExtensionDefinitionName(appSchema, lineItemId, customColumnDefinitionName);\n    (appSchema.definitions[lineItemId] as Definition).additionalProperties = customColumnDefinitionName\n        ? { $ref: customColumnRef }\n        : false;\n    // Copy toolbar\n    const toolBar = lineItemId.startsWith(DefinitionName.LineItems)\n        ? DefinitionName.ToolBar\n        : DefinitionName.ObjectPageToolBar;\n    const schemaIdForToolBar = `${toolBar}<${lineItemId}>`;\n    appSchema.definitions[schemaIdForToolBar] = JSON.parse(JSON.stringify(appSchema.definitions[`${toolBar}`]));\n\n    const schemaIdForActions = `${DefinitionName.Actions}<${prepareRef(lineItemId)}>`;\n    (appSchema.definitions[schemaIdForToolBar] as Definition).properties.actions['$ref'] =\n        DEFINITION_LINK_PREFIX + schemaIdForActions;\n\n    const actionId = lineItemId.startsWith(DefinitionName.LineItems)\n        ? DefinitionName.Actions\n        : DefinitionName.ObjectPageToolBarActions;\n    const actions = (appSchema.definitions[schemaIdForActions] = JSON.parse(\n        JSON.stringify(appSchema.definitions[actionId])\n    ));\n    actions.properties = {};\n    // Handle actions additional properties - add custom action reference if it is supported\n    actions.additionalProperties = false;\n    if (customActionDefinitionName) {\n        const customActionRef = getCustomExtensionDefinitionName(appSchema, lineItemId, customActionDefinitionName);\n        actions.additionalProperties = { $ref: customActionRef };\n    }\n\n    // Copy LR footer\n    let footerActions, schemaIdForFooter;\n    if (lineItemId === DefinitionName.LineItems && appSchema.properties['footer']) {\n        schemaIdForFooter = `${DefinitionName.Footer}<${lineItemId}>`;\n        (appSchema.properties['footer'] as Definition).$ref = `${DEFINITION_LINK_PREFIX}${schemaIdForFooter}`;\n\n        appSchema.definitions[schemaIdForFooter] = JSON.parse(\n            JSON.stringify(appSchema.definitions[DefinitionName.GenericFooter])\n        );\n        const schemaIdForFooterActions = `${DefinitionName.FooterActions}<${prepareRef(lineItemId)}>`;\n        (appSchema.definitions[schemaIdForFooter] as Definition).properties.actions['$ref'] =\n            DEFINITION_LINK_PREFIX + schemaIdForFooterActions;\n\n        footerActions = appSchema.definitions[schemaIdForFooterActions] = JSON.parse(\n            JSON.stringify(appSchema.definitions[DefinitionName.Actions])\n        );\n        footerActions.properties = {};\n        footerActions.additionalProperties = false;\n    }\n    //Determine annotation path\n    if (lineItemAnnotation) {\n        lineItemPath = createAnnotationPath(\n            entityType.fullyQualifiedName,\n            lineItemAnnotation.term,\n            lineItemAnnotation.qualifier\n        );\n        appSchema.definitions[schemaIdForToolBar][SchemaTag.annotationPath] = lineItemPath;\n        if (footerActions) {\n            appSchema.definitions[schemaIdForFooter][SchemaTag.annotationPath] = lineItemPath;\n        }\n    }\n\n    return { actions, footerActions, lineItemPath };\n}\n\n/**\n * Add schema definitions for fields of createWithParameterDialog\n * @param {object} appSchema - Application-specific schema, to be enhanced\n * @param {EntityType} entityType - Given entity type for which entries shall get generated\n * @param {string=} floorplanSuffix - floorplan specific suffix (optional)\n */\nexport function addFieldsType(appSchema: Definition, entityType: EntityType, floorplanSuffix = ''): void {\n    const propertyNameArray = [],\n        propertyObject = {};\n    const fieldPathRef = `${DefinitionName.FieldPath}${prepareRef(floorplanSuffix)}`;\n    for (const key of entityType.entityProperties) {\n        const propertyName = key.name;\n        propertyNameArray.push(propertyName);\n        propertyObject[propertyName] = {\n            $ref: `${DEFINITION_LINK_PREFIX}${fieldPathRef}`\n        };\n    }\n    appSchema.definitions[entityType.name] = {\n        enum: propertyNameArray\n    };\n    (appSchema.definitions[fieldPathRef] as Definition).properties.path = {\n        $ref: `${DEFINITION_LINK_PREFIX}${entityType.name}`\n    };\n    const creationFieldsRef = `CreationFieldKeys${prepareRef(floorplanSuffix)}`;\n    appSchema.definitions[creationFieldsRef] = {\n        type: 'object',\n        properties: propertyObject,\n        additionalProperties: false\n    };\n    const fields4Dialog = appSchema.definitions[`${DefinitionName.Fields4Dialog}${floorplanSuffix}`] as Definition;\n    (fields4Dialog.properties.fields as Definition).$ref = `${DEFINITION_LINK_PREFIX}${creationFieldsRef}`;\n}\n\nexport enum DataType {\n    String = 'String',\n    Rating = 'Rating',\n    Progress = 'Progress',\n    DataPoint = 'DataPoint',\n    Contact = 'Contact',\n    Address = 'Address',\n    Chart = 'Chart',\n    FieldGroup = 'FieldGroup',\n    IntentBasedNavigation = 'IntentBasedNavigation'\n}\n\n/**\n * Determines the dataType of the target that shall be added to a property in schema\n * @param target - the given target\n * @returns - the dataType as string\n */\nexport function determineDataTypeOfTarget(target: any): string | undefined {\n    let dataType: string;\n\n    if (target.Value) {\n        if (target.Visualization === 'UI.VisualizationType/Rating') {\n            dataType = DataType.Rating;\n        } else if (target.Visualization === 'UI.VisualizationType/Progress') {\n            dataType = DataType.Progress;\n        } else if (target.$Type === 'com.sap.vocabularies.UI.v1.DataPointType') {\n            dataType = DataType.DataPoint;\n        } else {\n            dataType = target.Value?.$target?.type.replace('Edm.', '');\n        }\n    } else if (target.$Type === 'com.sap.vocabularies.Communication.v1.ContactType') {\n        dataType = DataType.Contact;\n    } else if (target.$Type === 'com.sap.vocabularies.Communication.v1.AddressType') {\n        dataType = DataType.Address;\n    } else if (target.$Type === 'com.sap.vocabularies.UI.v1.ChartDefinitionType') {\n        dataType = DataType.Chart;\n    } else if (target.$Type === 'com.sap.vocabularies.UI.v1.FieldGroupType') {\n        dataType = DataType.FieldGroup;\n    }\n    return dataType;\n}\n\n/**\n * Determines the dataType that shall be added to a property in schema, for any kind of field like\n * - field of a field group\n * - line item record\n * - selection field\n * @param field - the given field\n * @returns - the dataType as string\n */\nexport function determineDataType(field: object): string | undefined {\n    let dataType: string;\n\n    if (field['Value']) {\n        if (field['Value'].$target?.type) {\n            dataType = field['Value'].$target.type.replace('Edm.', '');\n        } else {\n            dataType = DataType.String;\n        }\n    } else if (field['Target']) {\n        dataType = determineDataTypeOfTarget(field['Target'].$target);\n    } else if (field['$target']) {\n        dataType = field['$target'].type.replace('Edm.', '');\n    } else if (field['$Type'] === 'com.sap.vocabularies.UI.v1.DataFieldForAction') {\n        dataType = 'Action';\n    } else if (field['$Type'] === 'com.sap.vocabularies.UI.v1.DataFieldWithUrl') {\n        dataType = 'Url';\n    } else if (field['$Type'] === 'com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation') {\n        dataType = DataType.IntentBasedNavigation;\n    } else if (field['type']) {\n        dataType = field['type'];\n    }\n\n    return dataType;\n}\n\n/**\n * Adds the dataType to the given schema field definition, if the data type cane be determined\n * @param definition - given schema definition\n * @param field - given field definition = annotation property, at AVT\n */\nexport function addDataTypeToDefinition(definition: object, field: object): void {\n    const dataType = determineDataType(field);\n    if (dataType) {\n        definition[SchemaTag.dataType] = dataType;\n    }\n}\n\n/**\n * Creates a definition link for a facet and definition name\n * @param {DefinitionName} definition - name of definition, as used in schema\n * @param {string} facetKey - key of the facet, as used in annotation\n * @returns definition link of facet, as used in definition\n */\nexport function getFacetDefinitionLink(definition: DefinitionName | SectionTypeV2, facetKey: string): string {\n    return `${DEFINITION_LINK_PREFIX}${getFacetDefinitionKey(definition, facetKey)}`;\n}\n\n/**\n * Creates and adds a reference link to a definition\n * @param {Definition} schemaPart - part of schema to add $ref to\n * @param {string} schemaRef - reference to be added\n * @param {string} schemaKey - key to be encapsulated within reference as `schemaRef<schemaKey>`\n * @returns reference link of facet, as used in definition\n */\nexport function addDefinitionRef(schemaPart: Definition, schemaRef: string, schemaKey?: string): void {\n    const schemaLink = schemaKey ? `${schemaRef}<${schemaKey}>` : schemaRef;\n    schemaPart.$ref = `${DEFINITION_LINK_PREFIX}${schemaLink}`;\n}\n\n/**\n * Extracts annotationPath from facet or Chart/LineItem fullyQualifiedName\n * @param facet facet or Chart/LineItem\n * @returns {string} annotationPath\n */\nexport function getFacetAnnotationPath(facet: FacetConfig | PresentationVariantV4 | object): string | undefined {\n    if ((facet as FacetConfig).annotationPath) {\n        return (facet as FacetConfig).annotationPath;\n    } else if ((facet as PresentationVariantV4).fullyQualifiedName) {\n        const [namespace, target] = (facet as PresentationVariantV4).fullyQualifiedName.split(`@${UIVOCABULARY}`);\n        return `/${namespace}/@${UIVOCABULARY}${target}`;\n    }\n    return undefined;\n}\n\n/**\n * Adds definitions for Address and Contact items in object page sections to the app schema\n * @param {FacetConfig} facet - current facet.\n * @param {string} facetKey - facet key.\n * @param {object} sections - schema of current sections definition.\n * @param {object} appSchema - app specific schema that potentially gets enhanced.\n * @param {SectionType} sectionPrefix - prefix to distinguish Section and HeaderSection\n */\nexport function handleAddressContact(\n    facet: FacetConfig,\n    facetKey: string,\n    sections: Definition,\n    appSchema: Definition,\n    sectionPrefix: SectionType,\n    subSectionPrefix?: SectionType,\n    versionPostfix = ''\n) {\n    const definitionName = `ObjectPage${sectionPrefix}${facet.base}${versionPostfix}` as DefinitionName;\n    const subDefinitionName = `ObjectPage${subSectionPrefix}${facet.base}${versionPostfix}` as DefinitionName;\n    sections.properties[facetKey] = {\n        $ref: getFacetDefinitionLink(subSectionPrefix ? subDefinitionName : definitionName, facetKey)\n    };\n    const definition = parseSchemaDefinition(\n        subSectionPrefix ? subDefinitionName : definitionName,\n        facetKey,\n        appSchema,\n        true,\n        subSectionPrefix ? subDefinitionName : undefined\n    );\n    addSectionTitleAndDescription(facet, definition, facetKey);\n    definition[SchemaTag.annotationPath] = facet.annotationPath;\n    definition[SchemaTag.isViewNode] = true;\n}\n\n/**\n * Method updates schema definition's property.\n * @param {DefinitionOrBoolean} definition Definition object.\n * @param {string} key Property name.\n * @param {unknown} value New value.\n */\nfunction updateSchemaProperty(definition: DefinitionOrBoolean, key: string, value: unknown): void {\n    if (typeof definition === 'object') {\n        definition[key] = value;\n    }\n}\n\n/**\n * Method adds enum with key and description to schema definition.\n * Description can be easily used by UI to describe enum value/key.\n * @param {Definition} appSchema App specific JSON schema\n * @param {DefinitionOrBoolean} origin Origin schema object containing key and description.\n * @param {PropertyInDefinition} target Target to update with enum.\n */\nexport function addDescriptiveEnumDefinition(\n    appSchema: Definition,\n    origin: DefinitionOrBoolean,\n    target: PropertyInDefinition\n): void {\n    if (typeof origin !== 'object') {\n        // Safe checks\n        return;\n    }\n    const oneOfEnum: Array<{ const: string; description?: string }> = [];\n    for (const key in origin.properties) {\n        const property = origin.properties[key] as DefinitionOrBoolean & { description?: string };\n        oneOfEnum.push({\n            const: key,\n            ...(property.description && { description: property.description })\n        });\n    }\n    const definition = appSchema.definitions[target.definition];\n    if (typeof definition === 'object') {\n        if (target.property) {\n            const property = definition.properties?.[target.property];\n            updateSchemaProperty(property, 'oneOf', oneOfEnum);\n        } else {\n            updateSchemaProperty(definition, 'oneOf', oneOfEnum);\n        }\n    }\n}\n\n/**\n * Extracts the key of an action that shall be added to schema as SchemaTag.keys\n * @param action - full-blown action ID\n * @param isAction - indicates an action\n * @returns action ID stripped down to the last key part\n */\nexport function getActionKey(action: string, isAction: boolean): { key: string; ns: string } {\n    let actionKey = action;\n    let namespace;\n    if (actionKey.indexOf('(') > 0) {\n        actionKey = actionKey.substring(0, actionKey.indexOf('('));\n    }\n    if (isAction && actionKey.indexOf('/') > 0) {\n        namespace = actionKey.substring(0, actionKey.indexOf('/'));\n        actionKey = actionKey.substring(actionKey.lastIndexOf('/') + 1);\n    }\n    if (isAction && actionKey.indexOf('.') > 0) {\n        namespace = actionKey.substring(0, actionKey.lastIndexOf('.'));\n        actionKey = actionKey.substring(actionKey.lastIndexOf('.') + 1);\n    }\n    if (!namespace) {\n        namespace = action.substring(0, action.lastIndexOf('.'));\n    }\n    return { key: actionKey.replace(/@/g, ''), ns: namespace };\n}\n\n/**\n * Adds the schema tag key to a line item record or property in schema\n * @param lineItemRecord - the given line item record\n * @param properties - list of all properties in schema\n * @param schemaKey - key of the given property\n */\nexport function addKeyToDefinition(lineItemRecord: object, properties: object, schemaKey: string): void {\n    if (lineItemRecord['Value']) {\n        properties[schemaKey][SchemaTag.keys] = [\n            { name: SchemaKeyName.value, value: getStableIdPartFromValue(lineItemRecord['Value']) }\n        ];\n    } else if (\n        lineItemRecord['$Type'] === UIAnnotationTypes.DataFieldWithAction ||\n        lineItemRecord['$Type'] === UIAnnotationTypes.DataFieldForAction\n    ) {\n        const { key, ns } = getActionKey(lineItemRecord['Action'], true);\n        properties[schemaKey][SchemaTag.keys] = [{ name: SchemaKeyName.action, value: key }];\n        if (ns) {\n            properties[schemaKey][SchemaTag.target] = ns;\n        }\n    } else if (lineItemRecord['$Type'] === UIAnnotationTypes.DataFieldForAnnotation) {\n        const { key } = getActionKey(lineItemRecord['Target'].value, false);\n        properties[schemaKey][SchemaTag.keys] = [\n            { name: SchemaKeyName.target, value: key.replace(/com.sap.vocabularies.UI.v1./g, '') }\n        ];\n        properties[schemaKey][SchemaTag.target] = lineItemRecord['Target'].$target.fullyQualifiedName.split('@')[0];\n    } else if (\n        lineItemRecord['$Type'] === UIAnnotationTypes.DataFieldForIntentBasedNavigation ||\n        lineItemRecord['$Type'] === UIAnnotationTypes.DataFieldWithIntentBasedNavigation\n    ) {\n        const keyParts = schemaKey.split('::');\n        properties[schemaKey][SchemaTag.keys] = [\n            { name: `Property`, value: keyParts[keyParts.length - 1] },\n            { name: `SemanticObject`, value: lineItemRecord['SemanticObject'] },\n            { name: `Action`, value: lineItemRecord['Action'] }\n        ];\n    }\n}\n", "import type { ConvertedMetadata, EntitySet } from '@sap-ux/vocabularies-types';\nimport { UIAnnotationTypes } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport type {\n    File,\n    FileData,\n    Manifest,\n    ImportProjectParameters,\n    GenerateAppSchemaParameters,\n    ExtensionLogger\n} from '@sap/ux-specification-types';\nimport {\n    LogSeverity,\n    TemplateType,\n    v2,\n    v4,\n    DirName,\n    FileName,\n    METADATAPATH,\n    UIVOCABULARY,\n    FioriElementsVersion,\n    ManifestSection,\n    SchemaType\n} from '@sap/ux-specification-types';\nimport {\n    generateAnalyticalListReportSchemaV2,\n    generateListReportSchemaV2,\n    generateObjectPageSchemaV2,\n    generateOVPInterfaceV2\n} from '../v2/generate';\nimport { getPages as getPagesV2, V2AppProvider } from '../v2/import/app/appProvider';\nimport { V2OvpProvider } from '../v2/import/app/ovpProvider';\nimport { generateObjectPageSchemaV4, generateListReportSchemaV4, generateFreestyleSchemaV4 } from '../v4/generate';\nimport { getPages as getPagesV4, V4AppProvider, V4FreestyleAppProvider } from '../v4/import/app';\nimport type { AppProvider } from './appProvider';\nimport {\n    findAlias,\n    getSchemaFilePath,\n    getTemplateTypeFromManifest,\n    getVersionFromManifest,\n    parseAndMergeAndConvert\n} from './utils';\nimport i18next from 'i18next';\nimport { log } from '../../extensionLogger';\nimport { initI18n } from '../../i18n/i18n';\nimport { getGenericSchema } from '../../specification/schemaAccess';\n\ninterface UiEntityTypes {\n    Facets: string[];\n    LineItems: string[];\n}\n\ninterface Schemas {\n    [type: string]: object;\n}\n\n/**\n * Generates an object comprising all generic schemas\n * @param {TemplateType} templateType - Template type\n * @param {FioriElementsVersion} fioriElementsVersion - Fiori Elements version\n * @returns {Object} genericSchemas\n */\nasync function getGenericSchemas(\n    templateType: TemplateType,\n    fioriElementsVersion: FioriElementsVersion\n): Promise<Schemas> {\n    const genericSchemas: Schemas = {};\n    let schemaTypes = [];\n    schemaTypes = [SchemaType.Application];\n    switch (templateType) {\n        case TemplateType.ListReportObjectPageV2:\n        case TemplateType.ListReportObjectPageV4:\n        case TemplateType.AnalyticalListPageV4:\n            schemaTypes.push(SchemaType.ListReport, SchemaType.ObjectPage);\n            break;\n        case TemplateType.AnalyticalListPageV2:\n            schemaTypes.push(SchemaType.AnalyticalListPage, SchemaType.ObjectPage);\n            break;\n        case TemplateType.OverviewPageV2:\n            schemaTypes.push(SchemaType.OverviewPage);\n            break;\n        case TemplateType.FreestylePageV4:\n            schemaTypes.push(SchemaType.FreestylePage, SchemaType.ObjectPage);\n            break;\n        default:\n            break;\n    }\n    for (const schemaType of schemaTypes) {\n        const schemaFile = getSchemaFilePath(schemaType);\n        genericSchemas[schemaFile.filename] = await getGenericSchema(fioriElementsVersion, schemaType);\n    }\n    return genericSchemas;\n}\n\n/**\n * Get the relevant UI.ListItem and UI.Facet entity sets\n * @param {ConvertedMetadata} oDataServiceAVT - Annotations as converted by AVT\n * @returns a fitered list of facet and line item annotations\n */\nfunction getAnnotationsForUi(oDataServiceAVT: ConvertedMetadata): UiEntityTypes {\n    const filteredEntityTypes: UiEntityTypes = {\n        Facets: [],\n        LineItems: []\n    };\n    const allEntityTypes = oDataServiceAVT?.entityTypes;\n    if (!allEntityTypes) {\n        return filteredEntityTypes;\n    }\n    const alias = findAlias(UIVOCABULARY, oDataServiceAVT);\n    for (const entity of allEntityTypes) {\n        if (!entity.annotations || !entity.annotations[alias]) {\n            continue;\n        }\n        const { LineItem, Facets } = entity.annotations[alias];\n        if (\n            LineItem &&\n            !LineItem.qualifier &&\n            LineItem.find(\n                (li) =>\n                    li.$Type === UIAnnotationTypes.DataField || li.$Type === UIAnnotationTypes.DataFieldForAnnotation\n            )\n        ) {\n            filteredEntityTypes.LineItems.push(entity.name);\n        }\n        if (Facets && !Facets.qualifier) {\n            filteredEntityTypes.Facets.push(entity.name);\n        }\n    }\n    return filteredEntityTypes;\n}\n\nexport function getEntitySetByEntitySetName(entitySetName: string, oDataServiceAVT: ConvertedMetadata): EntitySet {\n    return oDataServiceAVT?.entitySets && oDataServiceAVT.entitySets.find((es) => es.name === entitySetName);\n}\n\n/**\n * The function generates one app schema per entitySet that is linked with an object page in V2\n * @param {GenerateSchemaParameters} generateParameters - list of API input parameters\n * @param {Schema} genericSchemas - The generic schemas\n * @param {Schema} appSchemas - the list of app schemas that shall get extended\n */\nfunction generateObjectPageSchemasV2(\n    generateParameters: GenerateAppSchemaParameters,\n    genericSchemas: Schemas,\n    appSchemas: Schemas\n): void {\n    const allPages = getPagesV2(\n        generateParameters.manifest[ManifestSection.generic].pages,\n        v2.FE_TEMPLATE_V2_OBJECT_PAGE\n    );\n    for (const page in allPages) {\n        const entitySetName = allPages[page].entitySet;\n        const entitySet = getEntitySetByEntitySetName(entitySetName, generateParameters.serviceAVT);\n        const entityTypeName = entitySet?.entityType?.name;\n        const schemaFile = getSchemaFilePath(SchemaType.ObjectPage, entitySet?.name || entitySetName);\n        const genericSchemaFile = getSchemaFilePath(SchemaType.ObjectPage);\n        appSchemas[schemaFile.filename] = generateObjectPageSchemaV2(\n            generateParameters,\n            genericSchemas[genericSchemaFile.filename],\n            entityTypeName\n        );\n    }\n}\n\n/**\n * The function generates one app schema per entitySet that is linked with an object page in V4\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {Schemas} genericSchemas - The generic schemas\n * @param {Schemas} appSchemas - the list of app schemas that shall get extended\n */\nfunction generateObjectPageSchemasV4(\n    generateParameters: GenerateAppSchemaParameters,\n    genericSchemas: Schemas,\n    appSchemas: Schemas\n): void {\n    const pages = getPagesV4(generateParameters.manifest, v4.FE_TEMPLATE_V4_OBJECT_PAGE);\n    for (const page in pages) {\n        const entitySetName = pages[page].options.settings.entitySet;\n        const entitySet = getEntitySetByEntitySetName(entitySetName, generateParameters.serviceAVT);\n        if (!entitySet) {\n            log(generateParameters.logger, {\n                severity: LogSeverity.Error,\n                message: i18next.t('ENTITYSETNOTFOUND', { entitySet: entitySetName }),\n                location: {\n                    path: METADATAPATH\n                }\n            });\n        }\n        const entityTypeName = entitySet?.entityType?.name;\n        const schemaFile = getSchemaFilePath(SchemaType.ObjectPage, entitySet?.name || entitySetName);\n        const genericSchemaFile = getSchemaFilePath(SchemaType.ObjectPage);\n        appSchemas[schemaFile.filename] = generateObjectPageSchemaV4(\n            generateParameters,\n            genericSchemas[genericSchemaFile.filename],\n            entityTypeName\n        );\n    }\n}\n\n/**\n * Generates all app specific schemas for a Fiori Elements V2 application\n * @param {GenerateSchemaParameters} generateParameters - list of API input parameters\n * @param {Schemas} genericSchemas - The generic schemas\n * @param {UiEntityTypes} uiEntityTypes - list of all entity types, as comprised in oDataServiceAVT\n * @param {TemplateType} templateType - the given Fiori Elements' template type\n */\nfunction generateAppSchemasV2(\n    generateParameters: GenerateAppSchemaParameters,\n    genericSchemas: Schemas,\n    uiEntityTypes: UiEntityTypes,\n    templateType: TemplateType\n): Schemas {\n    const appSchemas: Schemas = {};\n    if (templateType === TemplateType.ListReportObjectPageV2 && uiEntityTypes) {\n        /*--- List Report ----*/\n        const allPages = getPagesV2(\n            generateParameters.manifest[ManifestSection.generic].pages,\n            v2.FE_TEMPLATE_V2_LIST_REPORT\n        );\n\n        for (const page in allPages) {\n            const entitySetName = allPages[page].entitySet;\n            const entitySet = getEntitySetByEntitySetName(entitySetName, generateParameters.serviceAVT);\n            const entityTypeName = entitySet?.entityType?.name;\n            const schemaFile = getSchemaFilePath(SchemaType.ListReport, entitySet?.name || entitySetName);\n            const genericSchemaFile = getSchemaFilePath(SchemaType.ListReport);\n            appSchemas[schemaFile.filename] = generateListReportSchemaV2(\n                generateParameters,\n                genericSchemas[genericSchemaFile.filename],\n                entityTypeName\n            );\n        }\n        /*--- Object Pages ----*/\n        generateObjectPageSchemasV2(generateParameters, genericSchemas, appSchemas);\n    } else if (templateType === TemplateType.AnalyticalListPageV2 && uiEntityTypes) {\n        /*--- Analytical List Page ----*/\n        const allPages = getPagesV2(generateParameters.manifest[ManifestSection.generic].pages, v2.FE_TEMPLATE_V2_ALP);\n\n        for (const page in allPages) {\n            const entitySetName = allPages[page].entitySet;\n            const entitySet = getEntitySetByEntitySetName(entitySetName, generateParameters.serviceAVT);\n            const entityTypeName = entitySet?.entityType?.name;\n            const schemaFile = getSchemaFilePath(SchemaType.AnalyticalListPage, entitySet?.name || entitySetName);\n            const genericSchemaFile = getSchemaFilePath(SchemaType.AnalyticalListPage);\n            appSchemas[schemaFile.filename] = generateAnalyticalListReportSchemaV2(\n                generateParameters,\n                genericSchemas[genericSchemaFile.filename],\n                entityTypeName\n            );\n        }\n        /*--- Object Pages ----*/\n        generateObjectPageSchemasV2(generateParameters, genericSchemas, appSchemas);\n    } else if (templateType === TemplateType.OverviewPageV2) {\n        /*--- Overview Page ----*/\n        const schemaFile = getSchemaFilePath(SchemaType.OverviewPage);\n        const genericSchemaFile = getSchemaFilePath(SchemaType.OverviewPage);\n        appSchemas[schemaFile.filename] = generateOVPInterfaceV2(\n            genericSchemas[genericSchemaFile.filename],\n            generateParameters.manifest\n        );\n    }\n    return { ...genericSchemas, ...appSchemas };\n}\n\n/**\n * Generates all app specific schemas for a Fiori Elements V4 application\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {Schemas} genericSchemas - The generic schemas\n * @param {UiEntityTypes} uiEntityTypes - list of all entity types, as comprised in oDataServiceAVT\n * @param {TemplateType} templateType - the given Fiori Elements' template type\n */\nfunction generateAppSchemasV4(\n    generateParameters: GenerateAppSchemaParameters,\n    genericSchemas: Schemas,\n    uiEntityTypes: UiEntityTypes,\n    templateType: TemplateType\n): Schemas {\n    const appSchemas: Schemas = {};\n\n    if (uiEntityTypes) {\n        if (\n            templateType === TemplateType.ListReportObjectPageV4 ||\n            templateType === TemplateType.AnalyticalListPageV4\n        ) {\n            /*--- List Report ----*/\n            const lrPages = getPagesV4(generateParameters.manifest, v4.FE_TEMPLATE_V4_LIST_REPORT);\n            const alpPages = getPagesV4(generateParameters.manifest, v4.FE_TEMPLATE_V4_ALP);\n            const pages = { ...lrPages, ...alpPages };\n            for (const pageId in pages) {\n                const entitySetName = pages[pageId].options.settings.entitySet;\n                const entitySet = getEntitySetByEntitySetName(entitySetName, generateParameters.serviceAVT);\n                const schemaFile = getSchemaFilePath(SchemaType.ListReport, entitySet?.name || entitySetName);\n                const genericSchemaFile = getSchemaFilePath(SchemaType.ListReport);\n                appSchemas[schemaFile.filename] = generateListReportSchemaV4(\n                    generateParameters,\n                    genericSchemas[genericSchemaFile.filename],\n                    entitySet,\n                    pages[pageId].name\n                );\n            }\n            /*--- Object Pages ----*/\n            generateObjectPageSchemasV4(generateParameters, genericSchemas, appSchemas);\n        } else if (templateType === TemplateType.FreestylePageV4) {\n            const genericSchemaFile = getSchemaFilePath(SchemaType.FreestylePage);\n            appSchemas[genericSchemaFile.filename] = generateFreestyleSchemaV4(\n                generateParameters,\n                genericSchemas[genericSchemaFile.filename]\n            );\n            generateObjectPageSchemasV4(generateParameters, genericSchemas, appSchemas);\n        }\n    }\n    return { ...genericSchemas, ...appSchemas };\n}\n\n/**\n * Generates app specific schemas by adding annotation information to copies of the generic schemas, thus replacing all generic definitions.\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {UiEntityTypes} uiEntityTypes - list of all entity types from the service metadata\n * @param templateType - type of the Fiori Elements' template\n */\nasync function generateAppSchemas(\n    generateParameters: GenerateAppSchemaParameters,\n    uiEntityTypes: UiEntityTypes,\n    templateType: TemplateType\n): Promise<Schemas> {\n    const genericSchemas = await getGenericSchemas(templateType, generateParameters.fioriElementsVersion);\n\n    if (generateParameters.fioriElementsVersion === FioriElementsVersion.v4) {\n        return generateAppSchemasV4(generateParameters, genericSchemas, uiEntityTypes, templateType);\n    } else {\n        return generateAppSchemasV2(generateParameters, genericSchemas, uiEntityTypes, templateType);\n    }\n}\n\n/**\n * Imports manifest and flex changes into configuration files with aid of the relevant app provider\n * @param {Manifest} manifest - manifest.json file content of the app in JSON format\n * @param {string[]} flex - list of all UI flexibility changes\n * @param {Schemas} appSchemas - list of app-specific schemas\n * @param {TemplateType} templateType - type of the Fiori Elements' template\n * @param {FileData[]} fragments - extension fragments with their file content\n * @param {ExtensionLogger} logger - logger instance for messages\n *\n * @returns {File[]} a list of all configuration files as generated by the function\n */\nfunction importConfigs(\n    manifest: Manifest,\n    flex: string[],\n    appSchemas: Schemas,\n    templateType: TemplateType,\n    fragments: FileData[],\n    logger: ExtensionLogger\n): File[] {\n    let provider: AppProvider;\n    const files: File[] = [];\n\n    switch (templateType) {\n        case TemplateType.ListReportObjectPageV2:\n        case TemplateType.AnalyticalListPageV2:\n            provider = new V2AppProvider(manifest, flex, appSchemas, fragments, logger);\n            break;\n        case TemplateType.AnalyticalListPageV4:\n        case TemplateType.ListReportObjectPageV4:\n            provider = new V4AppProvider(manifest, appSchemas, templateType, undefined, logger);\n            break;\n        case TemplateType.OverviewPageV2:\n            provider = new V2OvpProvider(manifest, appSchemas, logger);\n            break;\n        case TemplateType.FreestylePageV4:\n            provider = new V4FreestyleAppProvider(manifest, appSchemas, templateType, undefined, logger);\n            break;\n        default:\n            break;\n    }\n    if (provider) {\n        const { appConfig, pageConfigs } = provider.createConfigFiles();\n        for (const app in appConfig) {\n            files.push({ dataSourceUri: app, fileContent: JSON.stringify(appConfig[app], null, 4) });\n        }\n        for (const config in pageConfigs) {\n            files.push({ dataSourceUri: config, fileContent: JSON.stringify(pageConfigs[config], null, 4) });\n        }\n    }\n    return files;\n}\n\nfunction getFileList(schema: Schemas, configs?: File[]): File[] {\n    let files: File[] = [];\n    for (const schemaName of Object.keys(schema).sort()) {\n        let dataSourceUri;\n        if (schemaName === SchemaType.Application) {\n            dataSourceUri = `${DirName.Schemas}/${FileName.App[0].toUpperCase()}${FileName.App.slice(1)}`;\n        } else {\n            dataSourceUri = `${DirName.Schemas}/${schemaName}.json`;\n        }\n        files.push({ dataSourceUri, fileContent: JSON.stringify(schema[schemaName], null, 4) });\n    }\n    if (configs) {\n        files = files.concat(configs);\n    }\n    return files;\n}\n\n/**\n * Import the schema and config files for a given project\n * @param {ImportProjectParameters} importParameters - files of the project: manifest, flex changes, odata files\n */\nexport async function importProjectSchema(importProjectParameters: ImportProjectParameters): Promise<File[]> {\n    // Initialize i18next\n    initI18n();\n\n    const fioriElementsVersion = getVersionFromManifest(importProjectParameters.manifest);\n    const service = parseAndMergeAndConvert(importProjectParameters.annotations, importProjectParameters.logger);\n    const uiEntityTypes = getAnnotationsForUi(service);\n    const templateType = getTemplateTypeFromManifest(\n        importProjectParameters.manifest,\n        fioriElementsVersion,\n        importProjectParameters.logger\n    );\n    const generateParameters: GenerateAppSchemaParameters = {\n        templateType,\n        manifest: importProjectParameters.manifest,\n        serviceAVT: service,\n        fragments: importProjectParameters.fragments,\n        fioriElementsVersion,\n        logger: importProjectParameters.logger\n    };\n\n    const appSchemas = await generateAppSchemas(generateParameters, uiEntityTypes, templateType);\n    return getFileList(appSchemas);\n}\n\n/**\n * Import the schema and config files for a given project\n * @param {ImportProjectParameters} importParameters - files of the project: manifest, flex changes, odata files\n */\nexport async function importProjectSchemaAndConfig(importProjectParameters: ImportProjectParameters): Promise<File[]> {\n    // Initialize i18next\n    initI18n();\n\n    let configFiles: File[] = [];\n    const { manifest, annotations, flex, fragments, logger } = importProjectParameters;\n    const fioriElementsVersion = getVersionFromManifest(manifest);\n    const oDataServiceAVT = parseAndMergeAndConvert(annotations, logger);\n    const templateType = getTemplateTypeFromManifest(manifest, fioriElementsVersion, logger);\n\n    const generateParameters: GenerateAppSchemaParameters = {\n        templateType,\n        manifest: importProjectParameters.manifest,\n        serviceAVT: oDataServiceAVT,\n        fragments: importProjectParameters.fragments,\n        fioriElementsVersion,\n        logger: importProjectParameters.logger\n    };\n    const uiEntityTypes = getAnnotationsForUi(oDataServiceAVT);\n    const appSchemas = await generateAppSchemas(generateParameters, uiEntityTypes, templateType);\n    configFiles = importConfigs(manifest, flex, appSchemas, templateType, fragments, logger);\n    return getFileList(appSchemas, configFiles);\n}\n", "import type {\n    Manifest,\n    FileData,\n    Files,\n    ExtensionLogger,\n    ImportListReportV2Parameters,\n    ImportALPV2Parameters,\n    ImportObjectPageV2Parameters\n} from '@sap/ux-specification-types';\nimport { FioriElementsVersion, PageType, ManifestSection, v2, SchemaType } from '@sap/ux-specification-types';\nimport { AppProvider } from '../../../common/appProvider';\nimport { transferSettingsOfObject } from '../common';\nimport { createListReportConfig } from '../pages/listReport';\nimport { createAnalyticalListPageConfig } from '../pages/analyticalListPage';\nimport { createObjectPageConfigV2 } from '../pages/objectPage';\nimport { AppSettings } from '../../application';\nimport { getSchemaFilePath, generatePageId, getPageTypeV2 } from '../../../common';\n\n/**\n * Method which generates id for passed page\n * @param page - Generic Page object.\n * @returns {string} Generated page id\n */\nfunction generateId(page: v2.SapUiAppPageV2): string {\n    return generatePageId(getPageTypeV2(page.component.name), page.entitySet);\n}\n\nfunction getPageConfigsAndNavigations(\n    page: v2.Page,\n    v2Page: v2.SapUiAppPageV2,\n    flex: string[],\n    manifest: any,\n    schemas: any,\n    fragments: FileData[],\n    pages: { [key: string]: v2.Page }\n) {\n    page.navigation = {};\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    const targets: { [key: string]: v2.Page } = getPagesAndConfigs(v2Page.pages, flex, manifest, schemas, fragments);\n    for (const pageId in targets) {\n        const target = targets[pageId];\n        pages[pageId] = target;\n    }\n    for (const v2ChildPageName in v2Page.pages) {\n        const id = generateId(v2Page.pages[v2ChildPageName]);\n        page.navigation[id] = targets[id].navigationProperty\n            ? `${page.entitySet}.${targets[id].navigationProperty}`\n            : page.entitySet;\n    }\n}\n\n/**\n * Sets up page definitions, including the configurations for them\n * @param {SapUiAppPagesV2} v2Pages - lisr of all pages\n * @param flex - list of flexibility changes\n * @param manifest - manifest.json of the app\n * @param schemas - list of all app-specific schemas\n * @param fragments - list of fragments\n * @param {ExtensionLogger} logger - logger for messages\n * @returns an index table of page definitions\n */\nfunction getPagesAndConfigs(\n    v2Pages: v2.SapUiAppPagesV2,\n    flex: string[],\n    manifest,\n    schemas,\n    fragments?: FileData[],\n    logger?: ExtensionLogger\n): { [key: string]: v2.Page } {\n    const pages: { [key: string]: v2.Page } = {};\n    for (const v2PageName in v2Pages) {\n        const v2Page = v2Pages[v2PageName];\n        const id = generateId(v2Page);\n        const page: v2.Page = {\n            pageType: getPageTypeV2(v2Page.component.name),\n            entitySet: v2Page.entitySet,\n            ...(v2Page.navigationProperty && { navigationProperty: v2Page.navigationProperty }),\n            ...(v2Page.defaultLayoutType && { defaultLayoutType: v2Page.defaultLayoutType })\n        };\n        pages[id] = page;\n\n        // Get the JSON schema for the page. If no page specific schema exists, fall back top the generic schema for the page type\n        const jsonSchema: string =\n            Object.keys(schemas).find((element) => element.includes(id)) ||\n            Object.keys(schemas).find((element) => element.includes(id.slice(0, -1))) ||\n            Object.keys(schemas).find((element) => element.includes(page.pageType));\n\n        // convert settings to config\n        if (jsonSchema) {\n            if (page.pageType === PageType.ListReport) {\n                const importParameters: ImportListReportV2Parameters = {\n                    manifest,\n                    flex,\n                    jsonSchema: schemas[jsonSchema],\n                    fragments,\n                    logger\n                };\n                page.config = createListReportConfig(importParameters);\n            } else if (page.pageType === PageType.AnalyticalListPage) {\n                const importParameters: ImportALPV2Parameters = {\n                    manifest,\n                    flex,\n                    jsonSchema: schemas[jsonSchema],\n                    fragments,\n                    logger\n                };\n                page.config = createAnalyticalListPageConfig(importParameters);\n            } else {\n                const importParameters: ImportObjectPageV2Parameters = {\n                    manifest,\n                    flex,\n                    jsonSchema: schemas[jsonSchema],\n                    entitySet: page.entitySet,\n                    fragments,\n                    logger\n                };\n                page.config = createObjectPageConfigV2(importParameters);\n            }\n        }\n        if (v2Page.pages) {\n            getPageConfigsAndNavigations(page, v2Page, flex, manifest, schemas, fragments, pages);\n        }\n    }\n    return pages;\n}\n\n/**\n * The V2AppProvider collects all the app information for a Fiori Elements V2 app\n */\nexport class V2AppProvider extends AppProvider {\n    public constructor(\n        manifest: Manifest,\n        changes: string[],\n        schemas: Files,\n        fragments?: FileData[],\n        logger?: ExtensionLogger\n    ) {\n        const v2Pages = manifest[ManifestSection.generic].pages;\n        const pageKey = Object.keys(v2Pages)[0];\n        // Import settings\n        const appSettings = new AppSettings();\n        const schemaFile = getSchemaFilePath(SchemaType.Application);\n        const appSchema = schemas[schemaFile.filename];\n        transferSettingsOfObject(appSettings, manifest, appSchema['definitions']['AppSettings'], undefined);\n        // Call base\n        super(\n            manifest,\n            schemas,\n            generateId(v2Pages[pageKey]),\n            getPagesAndConfigs(v2Pages, changes, manifest, schemas, fragments, logger),\n            FioriElementsVersion.v2,\n            appSettings\n        );\n    }\n}\n\n/**\n * Collects all pages of a V2 app from the manifest, by traversing the V2 page hierarchy.\n * @param v2Pages - entry point = complex page definition in manifest\n * @param componentName - Component name\n * @returns index table of pages\n */\nexport function getPages(v2Pages: v2.SapUiAppPagesV2, componentName: string): v2.Pages {\n    const pages: v2.Pages = {};\n    for (const v2PageName in v2Pages) {\n        const v2Page = v2Pages[v2PageName];\n        if (v2Page.component.name === componentName) {\n            const id = generateId(v2Page);\n            pages[id] = v2Page;\n        }\n        if (componentName === v2.FE_TEMPLATE_V2_OBJECT_PAGE && v2Page.pages) {\n            const subPages = getPages(v2Page.pages, componentName);\n            for (const subPageId in subPages) {\n                pages[subPageId] = subPages[subPageId];\n            }\n        }\n    }\n    return pages;\n}\n", "import type {\n    ExtensionLogger,\n    Application,\n    CustomPageConfig,\n    Files,\n    Manifest,\n    PagesBase,\n    v2,\n    v4\n} from '@sap/ux-specification-types';\nimport {\n    DirName,\n    FileName,\n    FioriElementsVersion,\n    OdataVersion,\n    ViewTypes,\n    PageTypeV4,\n    SchemaType\n} from '@sap/ux-specification-types';\nimport { getSchemaFilePath } from './utils';\n\n/**\n * Splits and returns the name of a custom page\n * @param {v4.Page|v2.Page} page - custom page\n * @returns {string} custom page name\n */\nfunction getCustomPageName(page: v2.Page | v4.Page): string {\n    const targetName = (page as v4.Page).view.name?.split('.');\n    return targetName[targetName.length - 1];\n}\n\n/**\n * Returns the view type of a custom page\n * @param {v4.Page|v2.Page} page - custom page\n * @param {Application} app - application\n * @returns {string} view type\n */\nfunction getViewType(page: v2.Page | v4.Page, app: Application): string {\n    const viewType = (page as v4.Page)?.view?.viewType || (app.settings as v4.AppSettings)?.viewType;\n    return (viewType || ViewTypes.XML).toLowerCase();\n}\n\n/**\n * Returns the view path and file name of the custom page\n * @param {v4.Page|v2.Page} page - custom page\n * @param {Application} app - application\n * @param {string} viewName - name of view\n * @returns {string} view path\n */\nfunction getViewPath(\n    page: v4.Page | v2.Page,\n    app: Application,\n    viewPath: string[]\n): { viewPath: string[]; fileName: string } {\n    const splitViewPath = (splitPath: string): string[] => {\n        return splitPath.split(`${app.id}.`)[1]?.split('.');\n    };\n    const appSettings = app.settings as v4.AppSettings;\n    const appPath = (page as v4.Page).view?.path || appSettings?.path;\n    const pageName = (page as v4.Page).view?.name;\n    if (pageName?.includes(app.id)) {\n        viewPath = splitViewPath(pageName);\n    } else if (appPath?.includes(app.id)) {\n        viewPath = [...splitViewPath(appPath), ...pageName.split('.')];\n    }\n    const [pathParts, fileName] = [viewPath.slice(0, -1), ...viewPath.slice(-1)];\n    return { viewPath: pathParts, fileName };\n}\n\n/**\n * Returns the page name and path of a custom page\n * @param {v4.Page|v2.Page} page - custom page\n * @param {string} appId - Application id\n * @returns page name\n */\nfunction getCustomPagePath(page: v2.Page | v4.Page, app: Application): string {\n    const viewName = page.entitySet || getCustomPageName(page);\n    const { viewPath, fileName } = getViewPath(page, app, [viewName]);\n    const viewType = getViewType(page, app);\n    // we always use '/' as separator so that snapshot tests generated from Windows do not fail on Jenkins\n    return [...viewPath, `${fileName}.view.${viewType}`].join('/');\n}\n\nexport interface Controllers {\n    [key: string]: string;\n}\n\nexport abstract class AppProvider {\n    public readonly app: Application;\n    public readonly logger: ExtensionLogger;\n    public readonly schemas: Files;\n    // Store controller names which should be handled lately\n    public unhandledControllers: Array<string> = [];\n\n    protected constructor(\n        manifest: Manifest,\n        schemas: Files,\n        home: string,\n        pages: PagesBase,\n        version: FioriElementsVersion,\n        settings?: v2.AppSettings | v4.AppSettings,\n        logger?: ExtensionLogger\n    ) {\n        const schemaFile = getSchemaFilePath(SchemaType.Application);\n        this.app = {\n            $schema: schemaFile.path,\n            id: manifest['sap.app'].id,\n            pages,\n            home,\n            target: {\n                fioriElements: version,\n                odata: version === FioriElementsVersion.v2 ? OdataVersion.v2 : OdataVersion.v4\n            },\n            ...(settings && { settings })\n        };\n        this.schemas = schemas;\n        this.logger = logger;\n    }\n\n    /**\n     * Create config files for app (app.json) and pages (pages/{name}.json).\n     * This is basically a copy of createFiles optimized to be used in FTFS:\n     * it always uses posix path notation with forward slash (/)\n     * @param {ConvertedMetadata} oDataServiceAVT - Complete service information, as returned by annotation vocabularies tool\n     * @returns app and page files as separate objects\n     */\n    public createConfigFiles(): { appConfig: Files; pageConfigs: Files } {\n        const pageConfigs: Files = {};\n        const appConfig: Files = {};\n        let page: v2.Page | v4.Page;\n        // add schema reference to all pages\n        for (const pageId in this.app.pages) {\n            page = this.app.pages[pageId];\n            if ([PageTypeV4.CustomPage, PageTypeV4.FPMCustomPage].includes(page.pageType as PageTypeV4)) {\n                const $filePath = getCustomPagePath(page, this.app);\n                const { path: $schema } = getSchemaFilePath(page.pageType);\n                const config: CustomPageConfig = { $filePath, $schema };\n                pageConfigs[`${DirName.Pages}/${pageId}.json`] = config;\n            } else if (page.config) {\n                const config = page.config;\n                const schemaFile = getSchemaFilePath(page.pageType, page.entitySet);\n                if (this.schemas[schemaFile.filename]) {\n                    config.$schema = schemaFile.path;\n                } else {\n                    const genericSchemaFile = getSchemaFilePath(page.pageType);\n                    config.$schema = genericSchemaFile.path;\n                }\n                pageConfigs[`${DirName.Pages}/${pageId}.json`] = config;\n            }\n        }\n\n        // remove config before converting to JSON\n        const app: Application = JSON.parse(JSON.stringify(this.app));\n        for (const pageId in app.pages) {\n            delete app.pages[pageId].config;\n        }\n        appConfig[FileName.App] = app;\n\n        return { appConfig, pageConfigs };\n    }\n}\n", "import {\n    v2,\n    FRAGMENTNAMEPART,\n    PropertyName,\n    ControlType,\n    PageType,\n    PAGETYPE_VIEW_EXTENSION_TEMPLATE_MAP,\n    ViewTemplateType,\n    LogSeverity,\n    ManifestSection\n} from '@sap/ux-specification-types';\nimport type { FlexForTransfer } from '../controls/table';\nimport { addFlexForTable } from '../controls/table';\nimport type {\n    ChangeDefinition,\n    FileData,\n    ObjectPageSectionData,\n    Manifest,\n    ExtensionLogger\n} from '@sap/ux-specification-types';\nimport {\n    convertActionKeyToStableId,\n    checkDeprecatedProperties,\n    importProperty,\n    parseChangeString\n} from '../../../common';\nimport { getReflectMetadata } from '../../../common/decoration/decorators';\nimport { ensureManifestSectionByPathV2 } from '../../export/manifest';\nimport { log } from '../../../../extensionLogger';\nimport i18next from 'i18next';\nimport { xml2json } from 'xml-js';\nimport type { TableCustomColumn } from '../../export/controls';\nimport { FRAGMENT_DEFINITION, getRootCustomColumnFromFragmentJSON } from '../../export/controls';\nimport { ActionTypeV2 } from '../../types';\nimport type { Definition } from 'typescript-json-schema';\n\nexport type LROPConfigsType = v2.ListReportConfigV2 | v2.AnalyticalListPageConfigV2 | v2.ObjectPageConfigV2;\n\nexport function convertActionKey(actionProperty: string) {\n    return actionProperty.replace('/', '::');\n}\n\n/**\n * Unescapes the selector ID of a flex change\n * @param selectorId - escaped selector ID\n * @returns unescaped ID\n */\nexport function convertSelector(selectorId: string): string {\n    return selectorId.replace(/:2f/g, '/').replace(/:23/g, '#').replace(/:40/g, '@');\n}\n\n/**\n * Adds flex changes to Smart Filter Bar in config file\n * @param {ListReportConfig | AnalyticalListPageConfig} config - the configuration to be filled\n * @param {string} changePropertyKey - property key of current change\n * @param {ChangeDefinition} change - change definition\n * @param {object} jsonSchema - application specific schema\n */\nfunction addSmartFilterBarFlex(\n    config: v2.ListReportConfigV2 | v2.AnalyticalListPageConfigV2,\n    changePropertyKey: string,\n    change: ChangeDefinition,\n    jsonSchema: object\n) {\n    const schemaProperty =\n        jsonSchema['definitions']?.['ListReportFilterBar']?.properties[changePropertyKey] ||\n        jsonSchema['definitions']?.['AnalyticalListPageFilterBar']?.properties[changePropertyKey];\n    if (schemaProperty) {\n        config.filterBar[changePropertyKey] = change.content.newBinding\n            ? change.content.newBinding\n            : change.content.newValue;\n    }\n}\n\n/**\n * Creates a map to connect action types to the correct schema definition and config part\n * @param definitionType action type that will be filtered for\n * @param jsonSchema application specific schema\n * @returns {Map} actionMap - mapping of actionId, id for schema reference and id for config\n */\nfunction filterActions(definitionType: string, jsonSchema) {\n    const actions = Object.keys(jsonSchema['definitions']).filter(\n        (definition) => definition.startsWith(`${definitionType}`) && definition.includes('<')\n    );\n    const actionMap: Map<string, string> = new Map();\n    actions.forEach((definitionActionId) => {\n        const fullActionId = convertActionKeyToStableId(definitionActionId.split('<')[1]?.split('>')[0]);\n        const splitPoint = fullActionId.indexOf(':::');\n        if (fullActionId.startsWith('DataField') && splitPoint > -1) {\n            const actionIdParts = fullActionId.split(':::');\n            const sSemanticObject = actionIdParts.find((part) => part.startsWith('sSemanticObject'));\n            const sAction = actionIdParts.find((part) => part.startsWith('sAction'));\n            const shortAction = sAction.split('sAction::')[1].replace(':2f', '::');\n            if (sSemanticObject) {\n                const shortActionId = `${sSemanticObject.split('::')[1]}::${shortAction}`;\n                const shortDefinitionActionId = `${actionIdParts[0]}:::${sSemanticObject}:::${sAction}`;\n                actionMap.set(shortActionId, definitionActionId);\n                actionMap.set(definitionActionId, shortDefinitionActionId);\n            } else {\n                actionMap.set(shortAction, definitionActionId);\n                actionMap.set(definitionActionId, fullActionId);\n            }\n        } else {\n            actionMap.set(fullActionId.replace(':2f', '::'), definitionActionId);\n            actionMap.set(definitionActionId, fullActionId);\n        }\n    });\n    return actionMap;\n}\n\n/**\n * Adds a new action column to config\n * @param action - action part of config to be filled\n * @param config - the config of ALP/LR\n * @param configId - id of action to be used in config\n */\nfunction addColumnActionConfigPart(\n    action: { name: ActionTypeV2; configPart: v2.Actions | v2.GenericColumns; id: string },\n    config: v2.ListReportConfigV2 | v2.AnalyticalListPageConfigV2,\n    configId: string\n) {\n    if (!action.configPart) {\n        action.configPart = config.table.columns = {};\n    }\n    if (!action.configPart[`${configId}`]) {\n        action.configPart[`${configId}`] = {};\n    }\n}\n\n/**\n * Adds flex changes to Actions in config file\n * @param {ListReportConfig | AnalyticalListPageConfig} config - the configuration to be filled\n * @param {string} changePropertyKey - property key of current change\n * @param {ChangeDefinition} change - change definition\n * @param {object} jsonSchema - application specific schema\n */\nfunction addActionFlex(\n    config: v2.ListReportConfigV2 | v2.AnalyticalListPageConfigV2,\n    changePropertyKey: string,\n    change: ChangeDefinition,\n    jsonSchema: Definition\n) {\n    const controlId = change.controlId.split('--action::')[1];\n    if (!controlId) {\n        return;\n    }\n    const actionId = convertSelector(controlId);\n    const actionTypes = [\n        {\n            name: ActionTypeV2.Footer,\n            configPart: config.footer.actions,\n            id: actionId.includes('Determining') && actionId.split('::Determining')[0]\n        },\n        { name: ActionTypeV2.ToolBar, configPart: config.table.toolBar.actions, id: actionId },\n        { name: ActionTypeV2.Column, configPart: config.table.columns, id: actionId }\n    ];\n    actionTypes.forEach((action) => {\n        const schemaActions = filterActions(action.name, jsonSchema);\n        if (schemaActions.has(action.id)) {\n            const referenceId = schemaActions.get(action.id);\n            const configId = referenceId.split('<')[1]?.split('>')[0];\n            if (action.name === ActionTypeV2.Column) {\n                addColumnActionConfigPart(action, config, configId);\n            }\n            const configPart = action.configPart[configId];\n            const schemaProperty = (jsonSchema.definitions[referenceId] as Definition)?.properties[changePropertyKey];\n            if (schemaProperty && configPart) {\n                configPart[changePropertyKey] = change.content.newBinding\n                    ? change.content.newBinding\n                    : change.content.newValue;\n            }\n        }\n    });\n}\n\n/**\n * Adds flex changes to Smart Chart in config file\n * @param {ListReportConfig | AnalyticalListPageConfig} config - the configuration to be filled\n * @param {string} changePropertyKey - property key of current change\n * @param {ChangeDefinition} change - change definition\n * @param {object} jsonSchema - application specific schema\n */\nfunction addSmartChartFlex(\n    config: v2.ListReportConfigV2 | v2.AnalyticalListPageConfigV2,\n    changePropertyKey: string,\n    change: ChangeDefinition,\n    jsonSchema: object\n) {\n    const schemaProperty = jsonSchema['definitions']['ChartSettings'].properties[changePropertyKey];\n    if (schemaProperty) {\n        const syncRule = getReflectMetadata(config[PropertyName.chart], changePropertyKey);\n        if (syncRule?.flex?.importFlexValue) {\n            syncRule.flex.importFlexValue(change, config[PropertyName.chart], changePropertyKey);\n        } else {\n            config[PropertyName.chart][changePropertyKey] = change.content.newBinding\n                ? change.content.newBinding\n                : change.content.newValue;\n        }\n    }\n}\n\n/**\n * Checks and adds further flex changes to in config file\n * @param {ListReportConfig | AnalyticalListPageConfig} config - the configuration to be filled\n * @param {ChangeDefinition} change - change definition\n * @param {object} jsonSchema - application specific schema\n */\nfunction addAdditionalFlexChanges(\n    config: v2.ListReportConfigV2 | v2.AnalyticalListPageConfigV2,\n    change: ChangeDefinition,\n    jsonSchema: object\n) {\n    const flexForTransfer: FlexForTransfer = {\n        controlId: change.controlId,\n        propertyId: change.content.property,\n        newValue: change.content.newBinding ? change.content.newBinding : change.content.newValue,\n        controlType: change.controlType,\n        creation: change.creation\n    };\n    let constructorName;\n    if (\n        (!config.table.type || config.table.type === v2.TableTypeV2.ResponsiveTable) &&\n        !flexForTransfer.controlId.includes(PAGETYPE_VIEW_EXTENSION_TEMPLATE_MAP.get(PageType.AnalyticalListPage))\n    ) {\n        constructorName = 'ResponsiveTableWithMultiSelect';\n    } else {\n        constructorName = config.table.constructor.name;\n    }\n    const schemaProperty =\n        jsonSchema['definitions'][`${constructorName}<LineItems>`].properties[flexForTransfer.propertyId];\n    if (schemaProperty || flexForTransfer.controlType === ControlType.TableColumn) {\n        addFlexForTable(config.table, flexForTransfer, jsonSchema);\n    }\n}\n\n/**\n * Adds flex changes to config file\n * @param {ListReportConfig | AnalyticalListPageConfig} config - the configuration to be filled\n * @param {string} changeString - change file as string\n * @param {object} appSchema - application specific schema\n * @param {ExtensionLogger} logger - Logger class for logging messages\n */\nexport function addFlex(\n    config: v2.ListReportConfigV2 | v2.AnalyticalListPageConfigV2,\n    changeString: string,\n    appSchema: object,\n    logger?: ExtensionLogger\n): void {\n    try {\n        const change = parseChangeString(changeString) as ChangeDefinition;\n        const changePropertyKey = change.content.property;\n        if (\n            change.controlId?.includes(PageType.ListReport) ||\n            change.controlId?.includes(PageType.AnalyticalListPage)\n        ) {\n            change.controlId = convertSelector(change.controlId);\n            switch (change.controlType) {\n                case ControlType.SmartFilterBar: {\n                    addSmartFilterBarFlex(config, changePropertyKey, change, appSchema);\n                    break;\n                }\n                case ControlType.DynamicPage: {\n                    const schemaProperty = appSchema['properties'][changePropertyKey];\n                    if (schemaProperty) {\n                        config[change.content.property] = change.content.newValue;\n                    }\n                    break;\n                }\n                case ControlType.Button: {\n                    addActionFlex(config, changePropertyKey, change, appSchema);\n                    break;\n                }\n                case ControlType.SmartChart: {\n                    addSmartChartFlex(config, changePropertyKey, change, appSchema);\n                    break;\n                }\n                default: {\n                    addAdditionalFlexChanges(config, change, appSchema);\n                    break;\n                }\n            }\n        }\n    } catch (error) {\n        log(\n            logger,\n            {\n                severity: LogSeverity.Error,\n                message: i18next.t('FLEXERROR')\n            },\n            ...error\n        );\n    }\n}\n\n/**\n * Special post-processing for quickVariantSelectionX during the import\n * @param propertyKey - key of the current schema property\n * @param configPart  - part of the configuration to be enhanced\n */\nfunction adjustQuickVariantSelectionX(propertyKey: string, configPart: { [key: string]: any }) {\n    if (propertyKey === 'quickVariantSelectionX' && configPart[propertyKey]) {\n        for (const variant in configPart[propertyKey]['variants']) {\n            const currentQuickVariantX = configPart[propertyKey]['variants'][variant];\n            if (currentQuickVariantX['tableSettings']) {\n                for (const key in currentQuickVariantX['tableSettings']) {\n                    currentQuickVariantX[key] = currentQuickVariantX['tableSettings'][key];\n                }\n                delete currentQuickVariantX['tableSettings'];\n            }\n        }\n    }\n}\n\n/**\n * Transfers settings from manifest to object page config\n * @param configPart - part of the configuration to be filled\n * @param manifest - manifest.json of the app\n * @param appSchema - app specific schema\n * @param pageID - ID of the given object page\n * @param sectionId (optional) - ID of the given section (optional)\n * @param {ExtensionLogger} logger - Logger class for logging messages\n */\nexport function transferSettingsOfObject(\n    configPart: { [key: string]: any },\n    manifest: Manifest,\n    appSchema: object,\n    pageKey: string,\n    logger?: ExtensionLogger,\n    kpiKey?: string\n): void {\n    if (!appSchema) {\n        return;\n    }\n    let manifestSection = {};\n    const deprecatedProperties = configPart.getDeprecated ? configPart.getDeprecated() : undefined;\n\n    if (appSchema['properties']) {\n        for (const propertyKey in appSchema['properties']) {\n            const syncRule = getReflectMetadata(configPart, propertyKey);\n            if (syncRule?.manifest) {\n                const path = syncRule.manifest.path([pageKey], manifest, kpiKey);\n                manifestSection = ensureManifestSectionByPathV2(manifest, path);\n                importProperty(syncRule, manifestSection, propertyKey, configPart);\n                checkDeprecatedProperties(deprecatedProperties, manifestSection, path, logger);\n            }\n            // Adjustment of 'quickVariantSelectionX' - tableSettings\n            adjustQuickVariantSelectionX(propertyKey, configPart);\n        }\n    }\n}\n\n/**\n * Determines the table type for a given LR or ALP table, based on the component name and its table settings\n * This does not exactly reflect the run time behavior of Fiori elements but a best guess and expectation.\n * @param manifest - manifest.json file content of the app\n * @param pageKey - key of the page in the manifest\n */\nexport function determineTableType(manifest: Manifest, pageKey: string): v2.TableTypeV2 {\n    const page = manifest[ManifestSection.generic].pages[pageKey];\n    let tableType: v2.TableTypeV2 = v2.TableTypeV2.ResponsiveTable;\n    if (\n        manifest[ManifestSection.generic].pages[pageKey].component.settings &&\n        ((manifest[ManifestSection.generic].pages[pageKey].component.settings.tableSettings &&\n            manifest[ManifestSection.generic].pages[pageKey].component.settings.tableSettings['type']) ||\n            manifest[ManifestSection.generic].pages[pageKey].component.settings['tableType'])\n    ) {\n        tableType = page.component.settings?.tableSettings?.['type'] || page.component.settings['tableType'];\n    } else if (page.component.name === 'sap.suite.ui.generic.template.AnalyticalListPage') {\n        tableType = v2.TableTypeV2.AnalyticalTable;\n    }\n    return tableType;\n}\n\nfunction evaluateFragmentColumn(\n    column: any,\n    viewExtensionsOfPage: any,\n    manifestKey: string,\n    keyPart3: string,\n    config: v2.ListReportConfigV2,\n    extensionType: v2.TableColumnExtensionTypeV2,\n    cellsFragmentName?: string\n): void {\n    if (column['customData'] || column['table:customData']) {\n        const p13nData = column['customData']\n            ? column['customData']['core:CustomData']._attributes.value\n            : column['table:customData']['core:CustomData']._attributes.value;\n        const columnParts = JSON.parse(p13nData.substr(1, p13nData.length));\n        let columnText = column['Text'] && column['Text']._attributes && column['Text']._attributes['text'];\n        if (!columnText) {\n            columnText = column['Label'] && column['Label']._attributes && column['Label']._attributes['text'];\n        }\n        const customElement: TableCustomColumn = {\n            id: column._attributes && column._attributes['id'],\n            text: columnText,\n            ...columnParts,\n            columnKey: columnParts['columnKey'],\n            columnIndex: columnParts['columnIndex'] !== undefined ? Number(columnParts['columnIndex']) : undefined,\n            leadingProperty: columnParts['leadingProperty'],\n            className: viewExtensionsOfPage[manifestKey].className,\n            fragmentName: viewExtensionsOfPage[manifestKey].fragmentName,\n            tabKey: keyPart3,\n            extensionType\n        };\n        if (cellsFragmentName) {\n            customElement.cellsFragmentName = cellsFragmentName;\n        }\n        if (!config.table['columns']['custom']) {\n            config.table['columns']['custom'] = [];\n        }\n        const customColumns = config.table['columns']['custom'] as v2.TableCustomColumns;\n        customColumns.push(customElement);\n    }\n}\n\nfunction determineCellsFragmentName(\n    extensionType: any,\n    viewExtensionsOfPage: any,\n    keyEntitySet: string,\n    referenceId: string\n) {\n    let cellsFragmentName;\n    if (extensionType === ViewTemplateType.ResponsiveTableColumnsExtension) {\n        for (const cellsKey of Object.keys(viewExtensionsOfPage)) {\n            const [cellsKeyType, cellsKeyEntitySet, cellsKeyTab] = cellsKey.split('|');\n            if (\n                cellsKeyType === ViewTemplateType.ResponsiveTableCellsExtension &&\n                cellsKeyEntitySet === keyEntitySet &&\n                cellsKeyTab === referenceId\n            ) {\n                cellsFragmentName = viewExtensionsOfPage[cellsKey].fragmentName;\n            }\n        }\n    }\n    return cellsFragmentName;\n}\n\nfunction analzyeFilteredFragments(\n    filteredFragments: FileData[],\n    config: LROPConfigsType,\n    viewExtensionsOfPage: any,\n    manifestKey: string,\n    keyTab: string,\n    extensionType: any,\n    cellsFragmentName: any\n) {\n    if (filteredFragments[0]) {\n        const fragmentJson = JSON.parse(xml2json(filteredFragments[0].fileContent, { compact: true }));\n        const fragmentDefintion = fragmentJson[FRAGMENT_DEFINITION];\n        const columnDefinition = getRootCustomColumnFromFragmentJSON(fragmentDefintion);\n        if (columnDefinition) {\n            if (!config[PropertyName.table]?.['columns']) {\n                config[PropertyName.table]['columns'] = {};\n            }\n            if (Array.isArray(columnDefinition)) {\n                for (const def of columnDefinition) {\n                    evaluateFragmentColumn(\n                        def,\n                        viewExtensionsOfPage,\n                        manifestKey,\n                        keyTab,\n                        config,\n                        extensionType,\n                        cellsFragmentName\n                    );\n                }\n            } else {\n                evaluateFragmentColumn(\n                    columnDefinition,\n                    viewExtensionsOfPage,\n                    manifestKey,\n                    keyTab,\n                    config,\n                    extensionType,\n                    cellsFragmentName\n                );\n            }\n        }\n    }\n}\n\nfunction processViewExtensions(\n    viewExtensionsOfPage: object,\n    targetKeyEntitySet: string,\n    objectPageSectionData: ObjectPageSectionData,\n    config: LROPConfigsType,\n    fragments?: FileData[]\n) {\n    for (const manifestKey of Object.keys(viewExtensionsOfPage)) {\n        const manifestKeyParts = manifestKey.split('|');\n        const [keyExtensionType, keyEntitySet] = manifestKeyParts;\n        // If Object Page section have key, then Ignore it as it is not from QuickVariantSelectionX\n        const referenceId = manifestKeyParts[2];\n        const keyTab = objectPageSectionData && referenceId === objectPageSectionData.key ? undefined : referenceId;\n        const extensionType = ViewTemplateType[keyExtensionType];\n        if (extensionType && '|' + keyEntitySet === targetKeyEntitySet) {\n            const fragmentType = viewExtensionsOfPage[manifestKey].type\n                ? viewExtensionsOfPage[manifestKey].type.toLowerCase()\n                : 'xml';\n            let fragmentName = viewExtensionsOfPage[manifestKey].fragmentName;\n            if (!fragmentName) {\n                continue;\n            }\n            // Responsive Table ==> check cells' fragment name\n            const cellsFragmentName = determineCellsFragmentName(\n                extensionType,\n                viewExtensionsOfPage,\n                keyEntitySet,\n                referenceId\n            );\n\n            // Retrieve information from fragment\n            const fragmentParts = fragmentName.split('.');\n            fragmentName = fragmentParts[fragmentParts.length - 1] + FRAGMENTNAMEPART + fragmentType;\n            const filteredFragments = fragments.filter((fragment) => fragment['dataSourceUri'].endsWith(fragmentName));\n            analzyeFilteredFragments(\n                filteredFragments,\n                config,\n                viewExtensionsOfPage,\n                manifestKey,\n                keyTab,\n                extensionType,\n                cellsFragmentName\n            );\n        }\n    }\n}\n\n/**\n * Adds custom column information from manifest and fragments to the configuration\n * @param config - configuration, to be enhanced\n * @param manifest - actual manifest.json\n * @param v2Page - actual page in the manifest\n * @param pageType - type of the page\n * @param fragments - list of all fragments\n * @param objectPageSectionData - optional information, for object page\n */\nexport function addFragments(\n    config: LROPConfigsType,\n    manifest: object,\n    v2Page: v2.SapUiAppPageV2,\n    pageType: PageType,\n    fragments?: FileData[],\n    objectPageSectionData?: ObjectPageSectionData\n): void {\n    if (!fragments) {\n        return;\n    }\n    const targetKeyEntitySet =\n        '|' + (objectPageSectionData && objectPageSectionData.target ? objectPageSectionData.target : v2Page.entitySet);\n\n    if (\n        manifest[ManifestSection.ui5] &&\n        manifest[ManifestSection.ui5]['extends'] &&\n        manifest[ManifestSection.ui5]['extends']['extensions'] &&\n        manifest[ManifestSection.ui5]['extends']['extensions']['sap.ui.viewExtensions']\n    ) {\n        const viewExtension = PAGETYPE_VIEW_EXTENSION_TEMPLATE_MAP.get(pageType);\n        const viewExtensionsOfPage =\n            manifest[ManifestSection.ui5]['extends']['extensions']['sap.ui.viewExtensions'][viewExtension];\n        if (!viewExtensionsOfPage) {\n            return;\n        }\n        processViewExtensions(viewExtensionsOfPage, targetKeyEntitySet, objectPageSectionData, config, fragments);\n    }\n}\n", "import type { v2 } from '@sap/ux-specification-types';\nimport { ControlType, DefinitionName, VOCWITHCOLONS } from '@sap/ux-specification-types';\nimport type { Definition } from 'typescript-json-schema';\n\nexport type FlexForTransfer = {\n    controlId: string;\n    controlType: string;\n    propertyId: string;\n    facetId?: string;\n    newValue: any;\n    creation: string;\n};\n\nexport interface FlexChangesForTransfer {\n    [controlId: string]: FlexForTransfer;\n}\n\nexport type ConfigTableType = v2.ResponsiveTable | v2.TreeTable | v2.AnalyticalTable | v2.GridTable | v2.TableALP;\n\nexport function addFlexForTable(config: ConfigTableType, change: FlexForTransfer, jsonSchema: Definition): void {\n    if (change.controlType.endsWith(DefinitionName.Table)) {\n        config[change.propertyId] = change.newValue;\n    } else if (change.controlType === ControlType.TableColumn) {\n        const schemaProperty = (jsonSchema?.definitions[DefinitionName.TableColumn] as Definition).properties[\n            change.propertyId\n        ];\n        if (!schemaProperty) {\n            return;\n        }\n        const idParts = change.controlId.split('-');\n        const lastIdPart = idParts[idParts.length - 1];\n        // As the last stable Id part is still too long in some cases, strip off the fixed parts.\n        // It must the be added again by the export!\n        const annotationPart = lastIdPart.split('template:::TableColumn:::');\n        const colId = annotationPart[annotationPart.length - 1]\n            .replace(/sSmartTableId.+?:::/, '')\n            .replace('::com.sap.vocabularies', VOCWITHCOLONS)\n            .replace('/', ':2f');\n        if (!config.columns) {\n            config.columns = {};\n        }\n        if (!config.columns[colId]) {\n            config.columns[colId] = {};\n        }\n        config.columns[colId][change.propertyId] = change.newValue;\n    }\n}\n", "import type { PageTypeV4 } from '@sap/ux-specification-types';\nimport { v2, PageType } from '@sap/ux-specification-types';\n\n/**\n * Method searches in manifest object by passed path and returns found value.\n * If value was not found in manifest object,\n *   then method created empty object in manifest object within passed path.\n * @param manifest - target manifest object\n * @param path - path to lookup in manifest\n * @returns Found or created value\n */\nexport const ensureManifestSectionByPathV2 = (manifest: object, path: string): object => {\n    let manifestSection = manifest;\n    path.split('/').forEach(function (element) {\n        if (!manifestSection[element]) {\n            manifestSection[element] = {};\n        }\n        manifestSection = manifestSection && manifestSection[element];\n    });\n    return manifestSection ? manifestSection : {};\n};\n\n/**\n * Method searches in manifest object by passed path and returns found value.\n * If value was not found in manifest object, then 'undefined' is returned.\n * @param manifest - target manifest file\n * @param path - path to lookup in manifest\n * @returns Found value\n */\nexport const getManifestSectionByPathV2 = (manifest: object, path: string): object | undefined => {\n    let manifestSection = manifest;\n    const elements = path.split('/');\n    for (const element of elements) {\n        if (!manifestSection[element]) {\n            return undefined;\n        }\n        manifestSection = manifestSection && manifestSection[element];\n    }\n    return manifestSection ? manifestSection : {};\n};\n\nexport const deleteManifestSectionByPathV2 = (manifest: object, path: string): void => {\n    let manifestSection = manifest;\n    for (let index = 0; index < path.split('/').length; index++) {\n        const element = path.split('/')[index];\n        if (index === path.split('/').length - 1) {\n            delete manifestSection[element];\n        } else {\n            manifestSection = manifestSection && manifestSection[element];\n        }\n    }\n};\n\nfunction getNewPageTemplate(pageType: PageType | PageTypeV4): object {\n    return {\n        component: {\n            name: 'sap.suite.ui.generic.template.' + pageType\n        }\n    };\n}\n\n/**\n * Method finds matching pages by 'entitySet' and 'navigationProperty' in passed pages object.\n * @param {SapUiAppPagesV2} pages Object with pages.\n * @param {string} [entitySet] Entity set.\n * @param {string} [navigationProperty] Navigation property.\n * @returns {SapUiAppPageV2 | undefined} Matching page object.\n */\nfunction findPageInManifest(\n    pages: v2.SapUiAppPagesV2,\n    entitySet?: string,\n    navigationProperty?: string\n): v2.SapUiAppPageV2 | undefined {\n    if (!pages) {\n        return;\n    }\n    for (const pageId in pages) {\n        const page = pages[pageId];\n        if (page.entitySet === entitySet && page.navigationProperty === navigationProperty) {\n            return page;\n        }\n    }\n}\n\nfunction transformPageFromAssociation(configPages: v2.Pages, association: string, manifestPage: object) {\n    //Handling partial deletion of a page\n    if (!configPages[association]) {\n        return;\n    }\n    if (manifestPage['pages'] && !Object.values(manifestPage['pages'])[0]) {\n        manifestPage['pages'][`${configPages[association].pageType}|${configPages[association].entitySet}`] =\n            getNewPageTemplate(configPages[association].pageType);\n    }\n    if (!manifestPage['pages']) {\n        manifestPage['pages'] = {\n            [`${configPages[association].pageType}|${configPages[association].entitySet}`]: getNewPageTemplate(\n                configPages[association].pageType\n            )\n        };\n    }\n    if (!Array.isArray(manifestPage['pages'])) {\n        let associatedManifestPage = findPageInManifest(\n            manifestPage['pages'],\n            configPages[association].entitySet,\n            configPages[association].navigationProperty\n        );\n\n        if (!associatedManifestPage) {\n            manifestPage['pages'][`${configPages[association].pageType}|${configPages[association].entitySet}`] =\n                associatedManifestPage = getNewPageTemplate(configPages[association].pageType);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        transformPageToNewManifestV2(association, configPages, associatedManifestPage);\n    }\n}\n\nfunction deletePage(manifestPage: object, configPages: v2.Pages, configPage: v2.Page) {\n    if (manifestPage['pages']) {\n        Object.keys(manifestPage['pages']).forEach((key) => {\n            const currentPage = manifestPage['pages'][key];\n            if (currentPage.component.name === v2.FE_TEMPLATE_V2_OBJECT_PAGE) {\n                const configKey = `ObjectPage_${currentPage.entitySet}`;\n                if (!configPages[configKey]) {\n                    delete manifestPage['pages'][key];\n                }\n            }\n        });\n    }\n    if (\n        (configPage.pageType === PageType.ListReport || configPage.pageType === PageType.AnalyticalListPage) &&\n        Object.keys(configPage.navigation).length === 0\n    ) {\n        delete manifestPage['pages'];\n    }\n}\n\n/**\n * Transfers pages and routings from manifest to the config pages\n * @param pageId - page ID\n * @param configPages - config definitions of each page\n * @param manifestPage - top page definition in manifest\n */\nexport function transformPageToNewManifestV2(pageId: string, configPages: v2.Pages, manifestPage: object): void {\n    const configPage = configPages[pageId];\n    if (!configPage) {\n        return;\n    }\n    if (configPage.entitySet) {\n        manifestPage['entitySet'] = configPage.entitySet;\n    }\n    if (configPage.pageType === PageType.ListReport) {\n        manifestPage['component']['list'] = true;\n    }\n    if (configPage.navigationProperty) {\n        manifestPage['navigationProperty'] = configPage.navigationProperty;\n    }\n    if (configPage.defaultLayoutType) {\n        manifestPage['defaultLayoutType'] = configPage.defaultLayoutType;\n    } else if ('defaultLayoutType' in manifestPage) {\n        delete manifestPage['defaultLayoutType'];\n    }\n    if (configPage.navigation) {\n        for (const association in configPage.navigation) {\n            transformPageFromAssociation(configPages, association, manifestPage);\n        }\n        // Delete page\n        if (!Array.isArray(manifestPage['pages'])) {\n            deletePage(manifestPage, configPages, configPage);\n        }\n    }\n}\n", "export * from './Card';\nexport * from './Field';\nexport * from './FilterBar';\nexport * from './FormAction';\nexport * from './Fragment';\nexport * from './Table';\nexport * from './TableColumn';\nexport * from './ToolBar';\nexport * from './Action';\nexport * from './AnalyticalListPageChart';\nexport * from './AnalyticalListPageKPI';\nexport * from './ObjectPageHeader';\nexport * from './ObjectPageHeaderAction';\nexport * from './ObjectPageFooterAction';\nexport * from './ObjectPageLayout';\nexport * from './ObjectPageCustomSection';\nexport * from './ObjectPageSectionsV2';\nexport * from './ObjectPageChart';\nexport * from './ObjectPageTable';\nexport * from './ObjectPageToolBarAction';\n", "import { syncRule, childId, validity } from '../common/decoration';\nimport type {\n    TableColumnVerticalAlignment,\n    StatePreservationMode,\n    DraftDiscardConfirmationSettings,\n    Target,\n    Application,\n    FlexibleColumnLayout,\n    Manifest\n} from '@sap/ux-specification-types';\nimport { v2, ManifestSection, GENERICAPPSETTINGS, VOCWITHCOLONS } from '@sap/ux-specification-types';\n\nexport const getAppSettingPathV2 = (pageKeys: string[]): string => {\n    return `${ManifestSection.generic}/pages/${pageKeys[0]}/component/settings`;\n};\n\nexport const getTableSettingPathV2 = (pageKeys: string[]): string => {\n    return getAppSettingPathV2(pageKeys) + '/tableSettings';\n};\n\nexport const getChartSettingPathV2 = (pageKeys: string[]): string => {\n    return getAppSettingPathV2(pageKeys) + '/chartSettings';\n};\n\nexport const getDataLoadSettingPathV2 = (pageKeys: string[]): string => {\n    return getAppSettingPathV2(pageKeys) + '/dataLoadSettings';\n};\n\nexport const getCreationFieldsPathV2 = (pageKeys: string[], key: string): string => {\n    return `${getTableSettingPathV2(pageKeys)}/createWithParameterDialog/fields/${key}`;\n};\n\nexport const getOVPsettingPath = (): string => {\n    return ManifestSection.ovp;\n};\n\nexport const getCardSettingsPath = (cardKey: string[]): string => {\n    const pathParts: string[] = [ManifestSection.ovp + '/cards'];\n    cardKey.forEach((block) => {\n        if (block in v2.CardSettingsType) {\n            pathParts.push('settings');\n        } else {\n            pathParts.push(block);\n        }\n    });\n    pathParts.pop();\n    return pathParts.join('/');\n};\n\nexport const getGlobalSettingsPath = (cardKey: string[]): string => {\n    const pathParts: string[] = [ManifestSection.ovp];\n    cardKey.forEach((block) => {\n        pathParts.push(block);\n    });\n    pathParts.pop();\n    return pathParts.join('/');\n};\n\n// This corresponds to ALP KPI settings\nexport const getKPISettingsPath = (pageKeys: string[], kpiKey: string): string => {\n    return `${ManifestSection.generic}/pages/${pageKeys[0]}/component/settings/keyPerformanceIndicators/${kpiKey}`;\n};\n\n// This corresponds to List Report and Object page global settings\nexport const getAppRootSettingOBJPath = (pageKeys: string[]): string => {\n    const pathParts: string[] = [ManifestSection.generic];\n    pageKeys.forEach((pageKey) => {\n        pathParts.push('pages/' + pageKey);\n    });\n    return pathParts.join('/');\n};\n\n// This corresponds to global object page settings\nexport const getAppSettingOBJPathV2 = (pageKeys: string[]): string => {\n    const pathParts: string[] = [];\n    pathParts.push(getAppRootSettingOBJPath(pageKeys));\n    pathParts.push('component/settings');\n    return pathParts.join('/');\n};\n\nexport const getAppSettingOBJsectionPathV2 = (pageKeys: string[], _manifest: Manifest, sectionId: string): string => {\n    const pathParts: string[] = [];\n    pathParts.push(getAppRootSettingOBJPath(pageKeys));\n    const manifestSectionId = sectionId.replace(VOCWITHCOLONS, '::com.sap.vocabularies');\n    pathParts.push('component/settings/sections/' + manifestSectionId);\n    return pathParts.join('/');\n};\n\nexport const getTableSettingsOBJsectionPathV2 = (\n    pageKeys: string[],\n    _manifest: Manifest,\n    sectionId: string\n): string => {\n    const path = getAppSettingOBJsectionPathV2(pageKeys, {}, sectionId);\n    return path + '/tableSettings';\n};\n\nexport const getChartSettingsOBJsectionPathV2 = (\n    pageKeys: string[],\n    _manifest: Manifest,\n    sectionId: string\n): string => {\n    const path = getAppSettingOBJsectionPathV2(pageKeys, {}, sectionId);\n    return path + '/chartSettings';\n};\n\nexport const getViewExtensionsPath = (): string => {\n    return `sap.ui5/extends/extensions/${v2.SAPUI5_VIEW_EXTENSION}/${v2.SAPUI5_VIEW_EXTENSION_OBJECT_PAGE}`;\n};\n\nexport const getObjectPageCustomSectionPath = (\n    pageName: string[],\n    _manifest: Manifest,\n    sectionId: string,\n    ...pathParts: string[]\n): string => {\n    const separator = '|';\n    const sectionIdParts = sectionId.split(separator);\n    const pageNameParts = pageName[pageName.length - 1].split(separator);\n    let idLastPart = '';\n    if (sectionIdParts.length === 4) {\n        // Four parts ==> the last one is incremented to avoid getting the same path\n        // We need to merge 3 and 4\n        idLastPart = [sectionIdParts[2], sectionIdParts[3]].join(separator);\n    } else if (sectionIdParts.length === 3) {\n        idLastPart = sectionIdParts[2];\n    }\n    const customSectionId = [sectionIdParts[0], pageNameParts[pageNameParts.length - 1], idLastPart].join(separator);\n    // Sub-path parts are passed\n    pathParts.unshift(customSectionId);\n\n    return `${getViewExtensionsPath()}/${pathParts.join('/')}`;\n};\n\nexport class ApplicationV2 implements Application {\n    id?: string;\n    pages?: v2.Pages;\n    home?: string;\n    target?: Target;\n    @childId('settings')\n    settings?: AppSettings;\n}\n\nexport class AppSettings implements v2.AppSettings {\n    @syncRule({\n        manifest: {\n            path: (): string => 'sap.app'\n        }\n    })\n    title?: string;\n\n    @syncRule({\n        manifest: {\n            path: (): string => 'sap.app'\n        }\n    })\n    description?: string;\n\n    @syncRule({\n        manifest: {\n            path: (): string => GENERICAPPSETTINGS\n        }\n    })\n    @validity({\n        since: '1.50.0'\n    })\n    flexibleColumnLayout?: FlexibleColumnLayout;\n\n    @syncRule({\n        manifest: {\n            path: (): string => GENERICAPPSETTINGS\n        }\n    })\n    @validity({\n        since: '1.46.0'\n    })\n    forceGlobalRefresh?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (): string => GENERICAPPSETTINGS\n        }\n    })\n    @validity({\n        since: '1.74.0'\n    })\n    tableColumnVerticalAlignment?: TableColumnVerticalAlignment;\n\n    @syncRule({\n        manifest: {\n            path: (): string => 'sap.ui5'\n        }\n    })\n    @validity({\n        since: '1.56.0'\n    })\n    flexEnabled?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (): string => GENERICAPPSETTINGS\n        }\n    })\n    @validity({\n        since: '1.96.0'\n    })\n    draftDiscardConfirmationSettings?: DraftDiscardConfirmationSettings;\n\n    @syncRule({\n        manifest: {\n            path: (): string => GENERICAPPSETTINGS\n        }\n    })\n    @validity({\n        since: '1.96.0'\n    })\n    statePreservationMode?: StatePreservationMode;\n}\n", "import type { v2 } from '@sap/ux-specification-types';\nimport { syncRule } from '../../../common/decoration/decorators';\nimport { getCardSettingsPath } from '../../application';\n\nexport class CommonCardSettings implements v2.CommonCardSettings {\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    entitySet?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    title: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    subTitle?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    identificationAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    selectionAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    presentationAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    defaultSpan?: v2.DefaultSpanDef;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    requireAppAuthorization?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    tabs?: [v2.TabSetting];\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    addODataSelect?: boolean;\n}\n\nexport class CustomCard extends CommonCardSettings implements v2.CustomCard, v2.CustomCardSettings {\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    model: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    template: v2.CardTemplateType;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    settings?: v2.CustomCardSettings;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    itemText?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    valueSelectionInfo?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    staticContent?: {\n        [k: string]: any;\n    }[];\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    listFlavor?: 'standard' | 'bar' | 'carousel';\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    listType?: 'extended' | 'condensed';\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    sortBy?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    sortOrder?: 'ascending' | 'descending';\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    annotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    chartAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    dataPointAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    kpiAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    selectionPresentationAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    dynamicSubtitleAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    ignoreSapText?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    objectStreamCardsSettings?: {\n        showFirstActionInFooter?: boolean;\n        annotationPath?: string;\n    };\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    enableLocaleCurrencyFormatting?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    navigation?: 'dataPointNav' | 'chartNav' | 'headerNav' | 'noHeaderNav';\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    showFilterInHeader?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    showSortingInHeader?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    imageSupported?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    showLineItemDetail?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    showLabelText?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    customParams?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    chartProperties?: {\n        plotArea?: v2.PlotAreaDef;\n    };\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    colorPalette?:\n        | {\n              [k: string]: any;\n          }[]\n        | {\n              [k: string]: any;\n          };\n    [k: string]: any;\n}\n\nexport class ListCard extends CommonCardSettings implements v2.ListCard {\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    model: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    template: v2.CardTemplateType.list | v2.CardTemplateType.listv4;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    settings: v2.ListCardSettings;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    listCardSettings: v2.ListCardSettings;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    listFlavor?: 'standard' | 'bar' | 'carousel';\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    listType?: 'extended' | 'condensed';\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    annotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    valueSelectionInfo?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    sortBy?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    sortOrder?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    dataPointAnnotationPath?: string;\n}\n\nexport class AnalyticalCard extends CommonCardSettings implements v2.AnalyticalCard {\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    model: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    template: v2.CardTemplateType.analytical | v2.CardTemplateType.analyticalv4;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    settings: v2.AnalyticalCardSettings;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    analyticalCardSettings: v2.AnalyticalCardSettings | v2.AnalyticalCardSettingsv4;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    chartAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    dataPointAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    valueSelectionInfo?: string;\n}\n\nexport class StackCard extends CommonCardSettings implements v2.StackCard {\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    model: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    template: v2.CardTemplateType.stack;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    settings: v2.StackCardSettings;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    stackCardSettings: v2.StackCardSettings;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    itemText?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    objectStreamCardsNavigationProperty?: string;\n}\n\nexport class LinklistCard extends CommonCardSettings implements v2.LinklistCard {\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    model: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    template: v2.CardTemplateType.linklist | v2.CardTemplateType.linklistv4;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    settings: v2.LinkListCardSettings;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    linkListCardSettings: v2.LinkListCardSettings;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    title: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    subTitle?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    targetUri?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    listFlavor?: 'standard' | 'bar' | 'carousel';\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    sortBy?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    sortOrder?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    headerAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    identificationAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    defaultSpan?: v2.DefaultSpanDef;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    staticContent?: v2.StaticContent[];\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    requireAppAuthorization?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    annotationPath?: string;\n}\n\nexport class TableCard extends CommonCardSettings implements v2.TableCard {\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    model: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    template: v2.CardTemplateType.table | v2.CardTemplateType.tablev4;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    disableTableCardFlexibility?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    settings: v2.TableCardSettings;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    tableCardSettings: v2.TableCardSettings;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    annotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    listFlavor?: 'standard' | 'bar' | 'carousel';\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    listType?: 'extended' | 'condensed';\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    dataPointAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    selectionPresentationAnnotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getCardSettingsPath(cardKeys)\n        }\n    })\n    valueSelectionInfo?: string;\n}\n", "import type { v2, ControlTypeFunction } from '@sap/ux-specification-types';\nimport { ControlType } from '@sap/ux-specification-types';\nimport { syncRule, exportToFlexChange, buildControlIdFromParent } from '../../../common/decoration';\nimport { addPatternForBindingChangeOfEnumOP, convertSectionId } from '../../../common';\n\n/**\n * Create stable ID for Object Page Form Field\n *\n * @param {string} baseId Base Id of the control\n * @param {string[]} idBreadcrumbs\n * @param {string[]} breadcrumbs\n * @param {ControlTypeFunction} controlType\n * @param {string} facetID title from the app schema (comprising for instance the facet ID)\n * @returns {string} stable ID of Object Page Form Action button\n */\nconst getSmartFieldControlId = (\n    baseId: string,\n    _idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    _controlType: ControlTypeFunction,\n    facetId: string\n): string => {\n    const convertedId = convertSectionId(breadcrumbs[1], facetId);\n    const fieldCrumb = breadcrumbs.slice(-1)[0];\n    const breadcrumbsTrail = [convertedId, fieldCrumb, 'GroupElement'];\n    return buildControlIdFromParent(baseId, breadcrumbsTrail);\n};\n\nexport class Field implements v2.Field {\n    @syncRule({\n        flex: {\n            controlId: getSmartFieldControlId,\n            controlType: (): ControlType => ControlType.GroupElement,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n", "import { syncRule, validity } from '../../../common/decoration/decorators';\nimport { buildControlIdFromParent, exportToFlexChange } from '../../../common/decoration';\nimport { getAppSettingPathV2 } from '../../application';\nimport { convertEnumToCSV } from '../../../common';\nimport { ControlType, DATESETTINGSPATH, v2 } from '@sap/ux-specification-types';\n\nexport function importDateSettings(manifestSection: object): DateRange {\n    if (!manifestSection || !manifestSection['dateSettings']) {\n        return undefined;\n    }\n    const configPart: DateRange = JSON.parse(JSON.stringify(manifestSection['dateSettings']));\n    // converted CSV format to array of strings\n    if (typeof manifestSection['dateSettings']['selectedValues'] === 'string') {\n        configPart.selectedValues = manifestSection['dateSettings']['selectedValues'].split(',') as v2.DateRangeType[];\n    }\n    delete configPart['fields'];\n    return configPart;\n}\n\nfunction importDateSettingsField(manifestSection: string | Array<object>, _sectionId: string, propertyKey: string) {\n    const configPart = manifestSection?.[propertyKey]\n        ? JSON.parse(JSON.stringify(manifestSection?.[propertyKey]))\n        : undefined;\n    let selectionField;\n    if (propertyKey === 'selectedValues' && typeof configPart === 'string') {\n        selectionField = configPart.split(',') as v2.DateRangeType[];\n    }\n    if (propertyKey === 'filter' && typeof configPart === 'object') {\n        selectionField = [];\n        configPart.forEach((section, index) => {\n            selectionField[index] = section;\n            if (section['equals'] && typeof section['equals'] === 'string') {\n                selectionField[index].equals = section['equals'].split(',') as v2.DateRangeType[];\n            }\n        });\n    }\n    return selectionField;\n}\n\nexport function exportDateSettingsField(manifestSection: unknown, configPart: DateRange, key: string): void {\n    manifestSection[key] = JSON.parse(JSON.stringify(configPart[key]));\n    const field = configPart[key];\n    if (key === 'selectedValues') {\n        manifestSection[key] = field.join();\n    }\n    if (key === 'filter') {\n        for (const filterKey in field) {\n            const filterValue = field[filterKey];\n            manifestSection[key][filterKey] = filterValue;\n            if (filterValue.equals && Array.isArray(filterValue.equals)) {\n                manifestSection[key][filterKey].equals = filterValue.equals.join();\n            }\n        }\n    }\n}\n\nexport class DateRange implements v2.DateRange {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => {\n                return getAppSettingPathV2(pageKeys) + DATESETTINGSPATH;\n            }\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    useDateRange?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys) + DATESETTINGSPATH,\n            import: importDateSettings,\n            export: convertEnumToCSV\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    selectedValues?: v2.DateRangeType[];\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys) + DATESETTINGSPATH\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    exclude?: boolean;\n}\n\nconst flexRuleForSmartFilterBar = {\n    controlId: buildControlIdFromParent,\n    controlType: (): ControlType => ControlType.SmartFilterBar,\n    createFlexChange: exportToFlexChange\n};\n\nconst manifestRuleForSelectionField = {\n    path: (pageKeys, _manifest, breadcrumbs): string =>\n        `${getAppSettingPathV2(pageKeys)}${DATESETTINGSPATH}/fields/${breadcrumbs}`\n};\n\nconst manifestRuleForSelectionFieldWithArrays = {\n    ...manifestRuleForSelectionField,\n    import: importDateSettingsField,\n    export: exportDateSettingsField\n};\n\nexport class DefaultDateRange implements v2.DefaultDateRange {\n    @syncRule({\n        manifest: manifestRuleForSelectionField\n    })\n    @validity({\n        since: '1.90.0'\n    })\n    operation: v2.DefaultDateRangeValueType;\n}\n\nexport class SelectionFieldDateSettings implements v2.SelectionFieldDateSettings {\n    @syncRule({\n        manifest: manifestRuleForSelectionFieldWithArrays\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    selectedValues?: v2.DateRangeType[];\n\n    @syncRule({\n        manifest: manifestRuleForSelectionField\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    exclude?: boolean;\n\n    @syncRule({\n        manifest: manifestRuleForSelectionField\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    customDateRangeImplementation?: string;\n\n    @syncRule({\n        manifest: manifestRuleForSelectionFieldWithArrays\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    filter?: v2.FilterType[];\n\n    @syncRule({\n        manifest: manifestRuleForSelectionField\n    })\n    @validity({\n        since: '1.90.0'\n    })\n    defaultValue?: DefaultDateRange;\n}\n\nexport class SelectionFields implements v2.SelectionFields {\n    [key: string]: v2.SelectionField | v2.SelectionFieldDateSettings;\n}\n\nexport class CommonFilterBar implements v2.CommonFilterBar {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.38.0'\n    })\n    smartVariantManagement?: boolean;\n\n    @syncRule({\n        flex: flexRuleForSmartFilterBar\n    })\n    @validity({\n        since: '1.40.0'\n    })\n    liveMode?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    variantManagementHidden: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.52.0' // Available in 1.52 so exact validity information is not required\n    })\n    subTitleIfVariantMgmtHidden?: string;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys) + '/filterSettings',\n            import: importDateSettings\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    dateSettings?: DateRange;\n\n    selectionFields?: SelectionFields;\n\n    @syncRule({\n        flex: flexRuleForSmartFilterBar\n    })\n    @validity({\n        since: '1.28.0'\n    })\n    showClearOnFB?: boolean;\n\n    @syncRule({\n        flex: flexRuleForSmartFilterBar\n    })\n    @validity({\n        since: '1.38.0'\n    })\n    showFilterConfiguration?: boolean;\n\n    @syncRule({\n        flex: flexRuleForSmartFilterBar\n    })\n    @validity({\n        since: '1.28.0'\n    })\n    showRestoreOnFB?: boolean;\n}\n\nexport class AnalyticalListPageFilterBar extends CommonFilterBar implements v2.AnalyticalListPageFilterBar {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    showGoButtonOnFilterBar?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.60.0'\n    })\n    filterDefaultsFromSelectionVariant?: boolean;\n}\n\nexport class ListReportFilterBar extends CommonFilterBar implements v2.ListReportFilterBar {\n    // This is replaced by an enum containing list of SelectionVariant annotations during generate\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.86.0'\n    })\n    annotationPath?: string;\n}\n", "import type { v2, ControlTypeFunction } from '@sap/ux-specification-types';\nimport { ControlType } from '@sap/ux-specification-types';\nimport {\n    syncRule,\n    exportToFlexChange,\n    buildControlIdFromParent,\n    validity,\n    convertSectionId\n} from '../../../common/decoration';\nimport { addPatternForBindingChangeOfEnumOP } from '../../../common';\nimport type { ButtonType } from 'sap/m/library';\nimport type { URI } from 'sap/ui/core/library';\n\n/**\n * Create stable ID for Object Page Form Action button\n *\n * @param {string} baseId Base Id of the control\n * @param {string[]} idBreadcrumbs\n * @param {string[]} breadcrumbs\n * @param {ControlTypeFunction} controlType\n * @param {string} facetID title from the app schema (comprising for instance the facet ID)\n * @returns {string} stable ID of Object Page Form Action button\n */\nconst getFormActionButtonId = (\n    baseId: string,\n    idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    controlType: ControlTypeFunction,\n    facetID: string\n): string => {\n    if (controlType() === ControlType.Button) {\n        const entity = breadcrumbs[breadcrumbs.length - 1];\n        const section = convertSectionId(breadcrumbs[1], facetID);\n        return `${baseId}action::${entity}::${section}::FormAction`;\n    }\n    return buildControlIdFromParent(baseId, idBreadcrumbs);\n};\n\nconst flexRuleForFormAction = {\n    controlId: getFormActionButtonId,\n    controlType: (): ControlType => ControlType.Button,\n    createFlexChange: exportToFlexChange\n};\n\nexport class FormAction implements v2.FormAction {\n    @syncRule({\n        flex: flexRuleForFormAction,\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible: boolean;\n\n    @syncRule({\n        flex: flexRuleForFormAction\n    })\n    tooltip?: string;\n\n    @syncRule({\n        flex: flexRuleForFormAction\n    })\n    icon?: URI;\n\n    @syncRule({\n        flex: flexRuleForFormAction\n    })\n    activeIcon?: URI;\n\n    @syncRule({\n        flex: flexRuleForFormAction\n    })\n    type?: ButtonType;\n}\n\nexport class FieldForAction implements v2.FormAction {\n    @syncRule({\n        flex: flexRuleForFormAction,\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible: boolean;\n\n    @syncRule({\n        flex: flexRuleForFormAction\n    })\n    tooltip?: string;\n\n    @syncRule({\n        flex: flexRuleForFormAction\n    })\n    icon?: URI;\n\n    @syncRule({\n        flex: flexRuleForFormAction\n    })\n    activeIcon?: URI;\n\n    @syncRule({\n        flex: flexRuleForFormAction\n    })\n    @validity({\n        since: '1.73.0'\n    })\n    type?: ButtonType;\n}\n", "import { v2, FRAGMENTNAMEPART, ViewTemplateType, LogSeverity } from '@sap/ux-specification-types';\nimport type { ExportResults, FileData, ExtensionLogger } from '@sap/ux-specification-types';\nimport { xml2json, json2xml } from 'xml-js';\nimport {\n    getSingleColumnContent,\n    getColumnFragmentContent,\n    getResponsiveTableCellsFragment\n} from '../view-controller-generator';\nimport i18next from 'i18next';\nimport { log } from '../../../../extensionLogger';\nimport { deleteManifestSectionByPathV2, ensureManifestSectionByPathV2 } from '../manifest';\nimport { sep } from 'path';\n\nexport const FRAGMENT_DEFINITION = 'core:FragmentDefinition';\nexport const SAP_UI_TABLE = 'sap.ui.table';\n\nconst VIEW_TEMPLATE_TAGTYPE_MAP: Map<ViewTemplateType, { namespace: string; name: string }> = new Map([\n    [ViewTemplateType.ResponsiveTableColumnsExtension, { namespace: 'sap.m', name: 'Column' }],\n    [ViewTemplateType.TreeTableColumnsExtension, { namespace: SAP_UI_TABLE, name: 'Column' }],\n    [ViewTemplateType.GridTableColumnsExtension, { namespace: SAP_UI_TABLE, name: 'Column' }],\n    [ViewTemplateType.AnalyticalTableColumnsExtension, { namespace: SAP_UI_TABLE, name: 'AnalyticalColumn' }]\n]);\n\nconst FE_TEMPLATE_VIEW_EXTENSION_MAP: Map<string, string> = new Map([\n    [v2.FE_TEMPLATE_V2_LIST_REPORT, v2.SAPUI5_VIEW_EXTENSION_LIST_REPORT],\n    [v2.FE_TEMPLATE_V2_ALP, v2.SAPUI5_VIEW_EXTENSION_ANALYTICAL_LIST_PAGE],\n    [v2.FE_TEMPLATE_V2_OBJECT_PAGE, v2.SAPUI5_VIEW_EXTENSION_OBJECT_PAGE]\n]);\n\nconst dummyEntry = {\n    type: 'element',\n    name: 'Text',\n    attributes: { text: 'Placeholder' }\n};\nconst dummyEntryAsString = JSON.stringify(dummyEntry);\n\n/**\n * Lists namespaces available in fragment to consider\n * @param fragment - fragment content\n * @param isCoreFragmentDefinition - If set to true, only the namespaces in core definition will be considered\n * @returns {Map<string, string[]> | undefined} - If available, namespaces will be returned as Map (key: alias, values: name[])\n */\nfunction getFragmentNamespaces(fragment, isCoreFragmentDefinition: boolean): Map<string, string[]> | undefined {\n    const fragmentAttributes = isCoreFragmentDefinition\n        ? fragment[FRAGMENT_DEFINITION]['_attributes']\n        : fragment['_attributes'];\n    if (fragmentAttributes) {\n        const allFragmentNamespaces = new Map<string, string[]>();\n        Object.keys(fragmentAttributes)\n            .filter((attribute) => attribute.startsWith('xmlns'))\n            .forEach((xmlns) => {\n                const existingNamespaces = allFragmentNamespaces.get(fragmentAttributes[xmlns]);\n                allFragmentNamespaces.set(\n                    fragmentAttributes[xmlns],\n                    existingNamespaces\n                        ? [...existingNamespaces, xmlns.split(':')[1] || xmlns]\n                        : [xmlns.split(':')[1] || xmlns]\n                );\n            });\n        return allFragmentNamespaces;\n    }\n}\n\n/**\n * Considers namespace of fragment and returns combined tag name\n * @param tag - tag name and namespace\n * @param {string[]} fragmentNamespace namespaces of fragment\n * @returns {string} tag name consisting of namespace and name\n */\nfunction getTagName(tag: { namespace: string; name: string }, fragmentNamespaces: string[]): string {\n    if (!fragmentNamespaces) {\n        return `${tag.namespace}:${tag.name}`;\n    } else if (fragmentNamespaces.includes('xmlns')) {\n        return tag.name;\n    } else {\n        return `${fragmentNamespaces}:${tag.name}`;\n    }\n}\n\n/**\n * Maps the column template type to the fragment namespace and returns the tag name with namespace of root column definition.\n * @param definition - fragment or content definition\n * @param viewTemplateType - name of the view template that shall be applied\n * @param fragment - fragment definition\n * @returns {unknown | undefined} Root column tag name.\n */\nfunction getTagNameFromFragmentJSON(\n    definition: unknown,\n    viewTemplateType?: ViewTemplateType,\n    fragment: unknown = definition\n): string | undefined {\n    const namespaces = getFragmentNamespaces(fragment, viewTemplateType || fragment !== definition ? true : false);\n    if (viewTemplateType) {\n        const tag = VIEW_TEMPLATE_TAGTYPE_MAP.get(viewTemplateType);\n        return getTagName(tag, namespaces.get(tag.namespace));\n    } else {\n        const keys = VIEW_TEMPLATE_TAGTYPE_MAP.keys();\n        for (const key of keys) {\n            const tag = VIEW_TEMPLATE_TAGTYPE_MAP.get(key);\n            const tagName = namespaces ? getTagName(tag, namespaces.get(tag.namespace)) : tag.name;\n            if (definition[tagName]) {\n                return tagName;\n            }\n        }\n    }\n    return undefined;\n}\n\n/**\n * Method which receives fragment definition node and reads root column definition.\n * @param {unknown} definition - Application or Page Config object.\n * @param {unknown} fragment - fragment definition\n * @returns {unknown | undefined} Root column read from definition.\n */\nexport function getRootCustomColumnFromFragmentJSON(\n    definition: unknown,\n    fragment = definition\n): string | unknown | undefined {\n    const name = getTagNameFromFragmentJSON(definition, undefined, fragment);\n    return definition[name];\n}\n\n/**\n * Internal function adding content to config column\n * @param configColumns - list of all columns in the config\n * @param columnIndex - index of column\n * @returns - filled personalization data\n */\nfunction addP13nData(configColumns: v2.TableCustomColumns, columnIndex: number): string {\n    const columnProperties = [\n        'id',\n        'text',\n        'className',\n        'fragmentName',\n        'tabKey',\n        'extensionType',\n        'cellsFragmentName'\n    ];\n    let p13nData = `\\\\{`;\n    for (const key in configColumns[columnIndex]) {\n        const value = configColumns[columnIndex][key];\n        if (!columnProperties.includes(key) && value !== undefined && value.length !== 0) {\n            if (p13nData !== '\\\\{') {\n                p13nData += `, `;\n            }\n            p13nData += `\"${key}\": \"${value.toString()}\"`;\n        }\n    }\n    p13nData += '}';\n    return p13nData;\n}\n\n/**\n * Internal function handling a single fragment column if detected in the fragment\n * @param columnsInFragment - list of all columns in fragment\n * @param configColumns - list of all columns in the config\n */\nfunction handleFragmentColumn(columnsInFragment: object, configColumns: v2.TableCustomColumns): boolean {\n    let foundInConfig = false;\n    const customData = columnsInFragment['customData'] || columnsInFragment['table:customData'];\n    if (!customData) {\n        return false;\n    }\n\n    let p13nData = customData['core:CustomData']._attributes.value;\n    const columnParts = JSON.parse(p13nData.substr(1, p13nData.length));\n    const columnIndex = configColumns.findIndex((column) => {\n        return column.columnKey === columnParts.columnKey;\n    });\n    if (columnIndex < 0) {\n        return false;\n    }\n\n    //Found ==> update scenario\n    foundInConfig = true;\n    p13nData = addP13nData(configColumns, columnIndex);\n    customData['core:CustomData']._attributes.value = p13nData;\n    if (!columnsInFragment['Text'] && !columnsInFragment['Label'] && configColumns[columnIndex]?.text) {\n        columnsInFragment['Text'] = {\n            _attributes: {}\n        };\n    }\n    if (columnsInFragment['Text'] && columnsInFragment['Text']['_attributes']) {\n        columnsInFragment['Text']._attributes['text'] = configColumns[columnIndex]?.text;\n    } else if (columnsInFragment['Label'] && columnsInFragment['Label']['_attributes']) {\n        columnsInFragment['Label']._attributes['text'] = configColumns[columnIndex]?.text;\n    }\n    if (!columnsInFragment['_attributes']) {\n        columnsInFragment['_attributes'] = {};\n    }\n    columnsInFragment['_attributes']['id'] = configColumns[columnIndex].id;\n    configColumns.splice(columnIndex, 1);\n    return foundInConfig;\n}\n\n/**\n * Deletes obsolete custom columns from the relevant fragment(s)\n * @param manifestSection - Section in manifest.json comprising the extensions\n * @param fragments - list of all fragments\n * @param pattern - Search string to identify the extension in manifest\n * @param appId - application ID\n */\nfunction deleteColumnsFromFragment(\n    manifestSection: object,\n    fragments: FileData[],\n    pattern: string,\n    appId: string\n): void {\n    const fragmentId = manifestSection[pattern].fragmentName.substr(appId.length + 1);\n    const fragmentType = manifestSection['type'] ? manifestSection['type'].toLowerCase() : 'xml';\n    const fragmentParts = fragmentId.split('.');\n    const fragmentName = fragmentParts[fragmentParts.length - 1] + FRAGMENTNAMEPART + fragmentType;\n    for (const fragment of fragments) {\n        const fragmentPathArray = fragment['dataSourceUri'].split(sep);\n        if (fragmentPathArray[fragmentPathArray.length - 1] === fragmentName) {\n            const fragmentJson = JSON.parse(xml2json(fragment.fileContent, { compact: true }));\n            const tagName = getTagNameFromFragmentJSON(fragmentJson[FRAGMENT_DEFINITION]);\n            if (tagName) {\n                delete fragmentJson[FRAGMENT_DEFINITION][tagName];\n                fragment.fileContent = json2xml(JSON.stringify(fragmentJson), { compact: true, spaces: 4 });\n            }\n            break;\n        }\n    }\n}\n\n/**\n * Deletes a given number of (dummy) cells from a fragment\n * @param fragmentCells - list of all cells in the parsed fragment\n * @param noOfEntriesToBeDeleted - number of entries to be deleted\n */\nfunction deleteNumberOfCells(fragmentCells: any, noOfEntriesToBeDeleted: number): void {\n    //only dummy entry will be deleted automatically!\n    for (let index = 0; index < Object.keys(fragmentCells).length; index++) {\n        if (JSON.stringify(fragmentCells[index]) === dummyEntryAsString) {\n            fragmentCells.splice(index, 1);\n            noOfEntriesToBeDeleted -= 1;\n            if (noOfEntriesToBeDeleted === 0) {\n                break;\n            }\n        }\n    }\n}\n\n/**\n * Deletes cells from the relevant fragment\n * @param cellManifestSection - section in mnifest referring the cells'fragment\n * @param fragments - list of all fragments\n * @param appId - application ID\n */\nfunction deleteCellsFromFragment(cellManifestSection: object, fragments: FileData[], appId: string): void {\n    const fragmentType = cellManifestSection['type'] ? cellManifestSection['type'].toLowerCase() : 'xml';\n    const fragmentParts = cellManifestSection['fragmentName'].substr(appId.length + 1).split('.');\n    const fragmentName = fragmentParts[fragmentParts.length - 1] + FRAGMENTNAMEPART + fragmentType;\n    for (const fragment of fragments) {\n        if (fragment['dataSourceUri'].endsWith(fragmentName)) {\n            const fragmentJson = JSON.parse(xml2json(fragment.fileContent));\n            const fragmentCells =\n                fragmentJson.elements[0].elements &&\n                fragmentJson.elements[0].elements.filter((element) => {\n                    return element.type === 'element';\n                });\n            if (fragmentCells) {\n                deleteNumberOfCells(fragmentCells, fragmentCells.length);\n            }\n            break;\n        }\n    }\n}\n\n/**\n * Identifies the right extensions based on a pattern, then deletes all corresponding columns and cells\n * @param manifestSection - Section in manifest.json comprising the extensions\n * @param pattern - Search string to identify the extension in manifest\n * @param appId - application ID\n * @param fragments - list of all fragments\n */\nexport function deleteColumnFromFragment(\n    manifestSection: object,\n    pattern: string,\n    appId: string,\n    fragments: FileData[]\n): void {\n    if (fragments) {\n        //delete columns\n        deleteColumnsFromFragment(manifestSection, fragments, pattern, appId);\n        //delete cells\n        const cellsPath = pattern.replace(\n            ViewTemplateType.ResponsiveTableColumnsExtension,\n            ViewTemplateType.ResponsiveTableCellsExtension\n        );\n        const cellManifestSection = manifestSection[cellsPath];\n        if (cellManifestSection) {\n            deleteCellsFromFragment(cellManifestSection, fragments, appId);\n        }\n    }\n}\n\n/**\n * Adds new (dummy) columns to a given fragment, as many as we have entries in the config\n * @param fragmentCells - list of all cells in fragment\n * @param fragmentJson - complete fragment, parsed as JSON\n * @param config - actual config.json\n */\nfunction addNewColumnsInFragment(fragmentCells: any, fragmentJson: any, config: v2.TableCustomColumns): void {\n    const startIndex = fragmentCells ? Object.keys(fragmentCells).length : 0;\n    if (!fragmentJson.elements[0].elements) {\n        fragmentJson.elements[0].elements = [];\n    }\n    for (let index = startIndex; index < Object.keys(config).length; index++) {\n        fragmentJson.elements[0].elements.push(dummyEntry);\n    }\n}\n\n/**\n * Updates non-empty cells in a given fragment, from the config information\n * @param fragment - identified cells' fragment\n * @param config - config.json that lists the new cells' information\n */\nfunction updateNonEmptyCellsFragment(fragment: FileData, config: v2.TableCustomColumns): void {\n    const fragmentJson = JSON.parse(xml2json(fragment.fileContent));\n    const fragmentCells =\n        fragmentJson.elements[0].elements &&\n        fragmentJson.elements[0].elements.filter((element) => {\n            return element.type === 'element';\n        });\n    if (!fragmentCells || Object.keys(fragmentCells).length !== Object.keys(config).length) {\n        if (!fragmentCells || Object.keys(fragmentCells).length < Object.keys(config).length) {\n            addNewColumnsInFragment(fragmentCells, fragmentJson, config);\n        } else if (Object.keys(fragmentCells).length > Object.keys(config).length) {\n            const noOfEntriesToBeDeleted = Object.keys(fragmentCells).length - Object.keys(config).length;\n            const fragmentElements = fragmentJson.elements[0].elements;\n            deleteNumberOfCells(fragmentElements, noOfEntriesToBeDeleted);\n        }\n        fragment.fileContent = json2xml(JSON.stringify(fragmentJson), { spaces: 4 });\n    }\n}\n\n/**\n * Updates the content of a cell fragment file\n * @param fragments - list of existing fragments, to be enhanced\n * @param cellFragmentFileName - file name of the given cell fragment, as calculated from the config entry\n * @param config - current config JSON\n * @returns a boolean value to indicate if the cell fragment could be found n the given list of fragments\n */\nfunction updateCellsFragment(\n    fragments: FileData[],\n    cellFragmentFileName: string,\n    config: v2.TableCustomColumns\n): boolean {\n    let cellsFragmentFound = false;\n    for (const fragment of fragments) {\n        const fragmentPathArray = fragment['dataSourceUri'].split(sep);\n        if (fragmentPathArray[fragmentPathArray.length - 1] === cellFragmentFileName) {\n            cellsFragmentFound = true;\n            if (!fragment.fileContent || Object.keys(fragment.fileContent).length === 0) {\n                // Empty fragment - use template\n                fragment.fileContent = getResponsiveTableCellsFragment(config);\n            } else {\n                updateNonEmptyCellsFragment(fragment, config);\n            }\n            break;\n        }\n    }\n    return cellsFragmentFound;\n}\n\n/**\n * Adapt manifest from the given custom columns' definition in manifest\n * @param manifestPath - path to the current section of the manifest that describes the extension\n * @param {ExportResults} exportResults - export result comprising fragments and manifest\n * @param config - current config part, describing the new image of the extension\n * @param appId - application ID\n * @param {ExtensionLogger} logger - logger instance for exceptions\n * @returns everything that is needed for further processing the fragment\n */\nfunction exportCustomColumnsToManifest(\n    manifestPath: string,\n    exportResults: ExportResults,\n    config: v2.TableCustomColumns,\n    appId: string,\n    logger?: ExtensionLogger\n): { manifestSection: object; lsFilePath: string; cellsFragmentName: string; fragmentType: string } {\n    let lsFilePath: string;\n    let cellsFragmentName: string;\n    const manifest = exportResults.manifest;\n    const manifestSection = ensureManifestSectionByPathV2(manifest, manifestPath);\n    const fragmentType = manifestSection['type'] ? manifestSection['type'].toLowerCase() : 'xml';\n    manifestSection['type'] = fragmentType.toUpperCase();\n\n    for (const configElement of config) {\n        //last one wins -as there can only be one reference in the manifest\n        if (!configElement.fragmentName) {\n            log(logger, {\n                severity: LogSeverity.Error,\n                message: i18next.t('NOFRAGMENT', { columnKey: configElement.columnKey })\n            });\n            continue;\n        }\n        manifestSection['fragmentName'] = configElement.fragmentName;\n        manifestSection['className'] = configElement.className;\n        lsFilePath =\n            configElement.fragmentName?.replace(appId, '<root>/webapp').replace(/[.]/g, sep) +\n            FRAGMENTNAMEPART +\n            fragmentType;\n    }\n    if (manifestPath.indexOf(ViewTemplateType.ResponsiveTableColumnsExtension) > -1) {\n        const cellsPath = manifestPath.replace(\n            ViewTemplateType.ResponsiveTableColumnsExtension,\n            ViewTemplateType.ResponsiveTableCellsExtension\n        );\n        const cellManifestSection = ensureManifestSectionByPathV2(manifest, cellsPath);\n        const cellsFragmentColumn = config.reduce((previousColumn, column) => {\n            return column.cellsFragmentName ? column : previousColumn;\n        });\n        if (cellsFragmentColumn && cellsFragmentColumn.cellsFragmentName) {\n            cellManifestSection['fragmentName'] = cellsFragmentName = cellsFragmentColumn.cellsFragmentName;\n            cellManifestSection['className'] = config[0].className;\n            cellManifestSection['type'] = fragmentType.toUpperCase();\n        } else {\n            deleteManifestSectionByPathV2(manifest, cellsPath);\n        }\n    }\n    return { manifestSection, lsFilePath, cellsFragmentName, fragmentType };\n}\n\n/**\n * Method inserts new custom column into array of existing columns in same place as it appears in column configs.\n * @param {TableCustomColumn} column - Custom column config object.\n * @param {ViewTemplateType} viewTemplateType - template type\n * @param {Object} columnsInFragmentDefinition - Existing columns definition\n * @param {unknown} fragment - fragment definition\n * @param {number} colPos - column position from config\n * @returns {object} Columns object.\n */\nfunction insertNewColumnInFragment(\n    column: v2.TableCustomColumn,\n    viewTemplateType: ViewTemplateType,\n    columnsInFragmentDefinition: {},\n    fragment: unknown,\n    colPos: number\n): object {\n    const newColumnFragment = getSingleColumnContent(column, viewTemplateType);\n    if (newColumnFragment) {\n        const newColumnDefinition = JSON.parse(xml2json(newColumnFragment, { compact: true }));\n        const newColumn = getRootCustomColumnFromFragmentJSON(newColumnDefinition, fragment);\n        if (Array.isArray(columnsInFragmentDefinition)) {\n            // avoid having same columns\n            const columnExists = columnsInFragmentDefinition.some(\n                (col) => JSON.stringify(col) === JSON.stringify(newColumn)\n            );\n            if (!columnExists) {\n                columnsInFragmentDefinition.push(newColumn);\n            }\n        } else {\n            if (columnsInFragmentDefinition) {\n                // insert new column in array at specific position\n                const newColumnsInFragmentDefinition = [columnsInFragmentDefinition];\n                newColumnsInFragmentDefinition.splice(colPos, 0, newColumn);\n                columnsInFragmentDefinition = newColumnsInFragmentDefinition;\n            } else {\n                columnsInFragmentDefinition = [newColumn];\n            }\n        }\n    }\n    return columnsInFragmentDefinition;\n}\n\nfunction processCustomColumnInArray(columnsInFragmentDefinition: any[], configColumns: v2.TableCustomColumns) {\n    for (let j = 0; j < columnsInFragmentDefinition.length; j++) {\n        const columnFoundInConfig = handleFragmentColumn(columnsInFragmentDefinition[j], configColumns);\n        if (!columnFoundInConfig) {\n            columnsInFragmentDefinition.splice(j, 1);\n        }\n    }\n}\n\nfunction maintainExistingColumnInFragment(\n    columnsInFragmentDefinition: {},\n    configColumns: v2.TableCustomColumns,\n    fragmentJson: any\n) {\n    if (columnsInFragmentDefinition) {\n        //find the right column in the identified fragment file\n        if (Array.isArray(columnsInFragmentDefinition)) {\n            processCustomColumnInArray(columnsInFragmentDefinition, configColumns);\n        } else {\n            const columnFoundInConfig = handleFragmentColumn(columnsInFragmentDefinition, configColumns);\n            if (!columnFoundInConfig) {\n                const coreTagName = getTagNameFromFragmentJSON(fragmentJson[FRAGMENT_DEFINITION]);\n                if (coreTagName) {\n                    delete fragmentJson[FRAGMENT_DEFINITION][coreTagName];\n                    columnsInFragmentDefinition = undefined;\n                }\n            }\n        }\n    }\n    return columnsInFragmentDefinition;\n}\n\n/**\n * Method inserts new custom columns into existing columns.\n * @param {v2.TableCustomColumns} configColumns - Custom columns config object.\n * @param {string} fragmentId - fragment file name\n * @param {Object} columnsInFragmentDefinition - Existing columns definition\n * @param {ViewTemplateType} viewTemplateType - template type\n * @param {unknown} fragment - fragment definition\n * @returns {object} Columns object.\n */\nfunction insertNewColumnsInFragment(\n    configColumns: v2.TableCustomColumns,\n    fragmentId: string,\n    columnsInFragmentDefinition: {},\n    viewTemplateType: ViewTemplateType,\n    fragment: unknown\n) {\n    for (const column of configColumns) {\n        if (column.fragmentName.endsWith(fragmentId)) {\n            const colPos = configColumns.indexOf(column);\n            columnsInFragmentDefinition = insertNewColumnInFragment(\n                column,\n                viewTemplateType,\n                columnsInFragmentDefinition,\n                fragment,\n                colPos\n            );\n        }\n    }\n    return columnsInFragmentDefinition;\n}\n\n/**\n * Actualizes the column information in a fragment\n * @param fragments - list of all fragments\n * @param fragmentName - name of the relevant fragment, as maintained in manifest\n * @param fragmentId - ID = substring of the fragment name without the app ID\n * @param configColumns - list of all custom columns in the config\n * @param viewTemplateType - enum value that determines the view template\n * @returns a boolean value indicating if the fragment was found\n */\nfunction updateColumnsInFragment(\n    fragments: FileData[],\n    fragmentName: string,\n    fragmentId: string,\n    configColumns: v2.TableCustomColumns,\n    viewTemplateType: ViewTemplateType\n): boolean {\n    let fragmentFound = false;\n\n    if (!fragments) {\n        return fragmentFound;\n    }\n\n    //find and update the columns' fragment file\n    for (const fragment of fragments) {\n        if (fragment['dataSourceUri'].endsWith(fragmentName)) {\n            let columnsInFragmentDefinition = {};\n            fragmentFound = true;\n            if (!fragment.fileContent || fragment.fileContent.length === 0) {\n                // Empty fragment - use template\n                fragment.fileContent = getColumnFragmentContent(configColumns, viewTemplateType);\n            } else {\n                const fragmentJson = JSON.parse(xml2json(fragment.fileContent, { compact: true }));\n                const originalFragmentJson = JSON.stringify(fragmentJson);\n                //find the right column in the fragment file\n                columnsInFragmentDefinition = getRootCustomColumnFromFragmentJSON(fragmentJson[FRAGMENT_DEFINITION]);\n                columnsInFragmentDefinition = maintainExistingColumnInFragment(\n                    columnsInFragmentDefinition,\n                    configColumns,\n                    fragmentJson\n                );\n                //Insert scenario for the remaining entries\n                columnsInFragmentDefinition = insertNewColumnsInFragment(\n                    configColumns,\n                    fragmentId,\n                    columnsInFragmentDefinition,\n                    viewTemplateType,\n                    fragmentJson\n                );\n                const tagName = getTagNameFromFragmentJSON(fragmentJson, viewTemplateType);\n                fragmentJson[FRAGMENT_DEFINITION][tagName] = columnsInFragmentDefinition;\n                const fragmentContent = JSON.stringify(fragmentJson);\n                if (fragmentContent !== originalFragmentJson) {\n                    fragment.fileContent = json2xml(fragmentContent, { compact: true, spaces: 4 });\n                }\n            }\n            break;\n        }\n    }\n    return fragmentFound;\n}\n\n/**\n * The function transfers ALL properties of one or more custom columns to a given fragment, or creates a new one if necesary.\n * @param {ExportResults} exportResults - export result comprising fragments and manifest\n * @param manifestPath - path to the current section of the manifest that describes the extension\n * @param config - current config part, describing the new image of the extension\n * @param appId - application ID\n * @param viewTemplateType - name of the view template that shall be applied\n * @param {ExtensionLogger} logger - logger instance for exceptions\n */\nexport function exportCustomColumnsToFragment(\n    exportResults: ExportResults,\n    manifestPath: string,\n    config: v2.TableCustomColumns,\n    appId: string,\n    viewTemplateType: ViewTemplateType,\n    logger?: ExtensionLogger\n): void {\n    const fragments: FileData[] = exportResults.fragments;\n\n    //Find and adapt manifest\n    const { manifestSection, lsFilePath, cellsFragmentName, fragmentType } = exportCustomColumnsToManifest(\n        manifestPath,\n        exportResults,\n        config,\n        appId,\n        logger\n    );\n\n    //Find and adapt fragment\n    const configColumns = JSON.parse(JSON.stringify(config));\n    let fragmentName = manifestSection['fragmentName'];\n    const fragmentId = fragmentName.substr(appId.length + 1);\n    const fragmentParts = fragmentId.split('.');\n    const templateType = fragmentParts[fragmentParts.length - 1];\n    fragmentName = templateType + FRAGMENTNAMEPART + fragmentType;\n    const cellFragmentParts = cellsFragmentName?.split('.');\n    const cellTemplateType = cellFragmentParts ? cellFragmentParts[cellFragmentParts.length - 1] : null;\n    const cellFragmentFileName = cellTemplateType ? cellTemplateType + FRAGMENTNAMEPART + fragmentType : null;\n\n    // update columns in fragment\n    const fragmentFound = updateColumnsInFragment(fragments, fragmentName, fragmentId, configColumns, viewTemplateType);\n\n    let cellsFragmentFound = false;\n    if (cellsFragmentName) {\n        //find an update the cells' fragment file\n        cellsFragmentFound = updateCellsFragment(fragments, cellFragmentFileName, config);\n    } else {\n        cellsFragmentFound = true; //not relevant\n    }\n    if (!fragmentFound) {\n        const fragment: FileData = {\n            fileContent: getColumnFragmentContent(configColumns, viewTemplateType),\n            dataSourceUri: lsFilePath\n        };\n        exportResults.fragments.push(fragment);\n    }\n    if (!cellsFragmentFound) {\n        const fragment: FileData = {\n            fileContent: getResponsiveTableCellsFragment(config),\n            dataSourceUri: lsFilePath.replace(fragmentName, cellFragmentFileName)\n        };\n        exportResults.fragments.push(fragment);\n    }\n}\n\n/**\n * Determines the manifest path of a column extension.\n * @param {string[]} page Page object from manifest.\n * @param {string} entitySet Table's entity set.\n * @param {string} [additionalKey] Key provided when defining the FacetID or QuickVariantSelectionX.\n * @param {string} [tableColumnExtensionType] Column extension type.\n */\nexport const getCustomColumnPath = (\n    page: v2.SapUiAppPageV2,\n    entitySet: string,\n    additionalKey?: string,\n    tableColumnExtensionType?: string\n): { path: string; viewTemplateType: ViewTemplateType } => {\n    const extension: string = FE_TEMPLATE_VIEW_EXTENSION_MAP.get(page.component.name);\n    if (!tableColumnExtensionType) {\n        let tableType =\n            page.component.settings &&\n            page.component.settings.tableSettings &&\n            page.component.settings.tableSettings['type'];\n        if (!tableType) {\n            tableType = 'ResponsiveTable';\n        }\n        if (extension === 'sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage') {\n            tableType = 'AnalyticalTable';\n        }\n        tableColumnExtensionType = tableType + 'ColumnsExtension';\n    }\n    const viewTemplateType = tableColumnExtensionType as ViewTemplateType;\n    let extensionKey = `${tableColumnExtensionType}|${entitySet}`;\n    if (additionalKey) {\n        extensionKey += '|' + additionalKey;\n    }\n    const path = 'sap.ui5/extends/extensions/sap.ui.viewExtensions/' + extension + '/' + extensionKey;\n\n    return { path, viewTemplateType };\n};\n", "import { join } from 'path';\nimport type { v2, ViewTemplateType } from '@sap/ux-specification-types';\nimport { DirName } from '@sap/ux-specification-types';\n\nimport { render } from 'ejs';\nimport { readFileSync } from 'fs';\n\nconst templatesPath = join(__dirname, 'templates');\n\nexport enum ViewTypes {\n    XML = 'xml',\n    HTML = 'html',\n    JSON = 'json'\n}\n\n/**\n * Method which reads passed template and renders it using passed template object.\n * @param {string} templatePath - Path to template.\n * @param {{ [key: string]: string }} templateData - Template data object.\n * @return {string} the rendered template's string\n */\nexport const renderTemplate = (templatePath: string, templateData: { [key: string]: string | boolean }): string => {\n    const template = readFileSync(templatePath, 'utf8');\n    return render(template, templateData);\n};\n\n/**\n * Method escapes view name.\n * @param {string} name - View's name.\n * @return {string} Escaped view name.\n */\nconst escapeViewName = (name: string): string => {\n    // Remove all special characters\n    return name.replace(/[^\\w\\s-]/gi, '');\n};\n\n/**\n * Method which reads passed template and renders it using passed template object.\n * @param {string} name - View's name.\n * @param {string} namespace - Application namespace.\n * @return {string} the rendered template's string\n */\nexport const getControllerContent = (\n    name: string,\n    namespace: string,\n    fcl = false,\n    newControllerRouting = false\n): string => {\n    const templateData = {\n        name: namespace + '.' + escapeViewName(name),\n        newControllerRouting\n    };\n    return renderTemplate(join(templatesPath, fcl ? 'controllerFcl.js' : 'controller.js'), templateData);\n};\n\n/**\n * Method which reads passed template and renders it using passed template object.\n * @param {string} name - View's name.\n * @param {string} namespace - Application namespace.\n * @param {ViewTypes} sourceType - View's source type like XML, HTML, JSON or JS.\n * @param {boolean} [controller=false] - Generate controller.\n * @param {boolean} [page=false] - Is view should contains page structure or not - page structure uses 'sap.m.App' in view template.\n * @return {string} the rendered template's string\n */\nexport const getViewContent = (\n    name: string,\n    namespace: string,\n    sourceType: ViewTypes,\n    controller = false,\n    page = true\n): string => {\n    const escapedName = escapeViewName(name);\n    const templateData: { [key: string]: string | boolean } = {\n        name: escapedName,\n        controllerName: '',\n        page\n    };\n    if (controller) {\n        templateData.controllerName = namespace + '.controller.' + escapedName;\n    }\n    return renderTemplate(join(templatesPath, 'view.' + sourceType), templateData);\n};\n\n/**\n * Method which reads template for fragment and returns rendered result of fragment.\n * @param {string} name - View's name.\n * @param {string} namespace - Application namespace.\n * @param {ViewTypes} sourceType - View's source type like XML, HTML, JSON or JS.\n * @param {boolean} handler - JS handler.\n * @return {string} the rendered template's string\n */\nexport const getFragmentContent = (name: string, namespace: string, sourceType: ViewTypes, handler = false): string => {\n    const escapedName = escapeViewName(name);\n    const templateData: { [key: string]: string } = {\n        name: escapedName,\n        handler: ''\n    };\n    if (handler) {\n        templateData.handler = `${namespace.replace(/\\./g, '/')}/${DirName.Fragment}/${escapedName}`;\n    }\n    return renderTemplate(join(templatesPath, 'fragment.' + sourceType), templateData);\n};\n\n/**\n * Method which reads passed template and renders it using passed template object.\n * @param {string} name - View's name.\n * @param {string} namespace - Application namespace.\n * @return {string} the rendered template's string\n */\nexport const getFragmentJsContent = (): string => {\n    return renderTemplate(join(templatesPath, 'fragment.js'), {});\n};\n\n/**\n * Method which reads the template for a single column extension that shall be added to a fragment\n * @param {TableCustomColumn} column - data (from config) to be inserted in the template\n * @return {string} the rendered template's string\n */\nexport const getSingleColumnContent = (column: v2.TableCustomColumn, template: ViewTemplateType): string => {\n    const templateData: { [key: string]: string } = {\n        id: column.id,\n        text: column.text,\n        columnKey: column.columnKey,\n        columnIndex: column.columnIndex !== undefined ? column.columnIndex.toString() : undefined,\n        leadingProperty: column.leadingProperty\n    };\n    return renderTemplate(join(templatesPath, template + '.xml'), templateData);\n};\n\n/**\n * Method which reads the template for a column extension fragment and returns rendered result of fragment.\n * @param {TableCustomColumns} customColumns - array of all column extensions' data\n * @return {string} the rendered template's string\n */\nexport const getColumnFragmentContent = (\n    customColumns: v2.TableCustomColumns,\n    templateType: ViewTemplateType\n): string => {\n    let fragment = '';\n    fragment = '<core:FragmentDefinition xmlns:core=\"sap.ui.core\" xmlns:table=\"sap.ui.table\" xmlns=\"sap.m\">';\n    if (customColumns) {\n        for (const column of customColumns) {\n            const newContent = getSingleColumnContent(column, templateType);\n            fragment = fragment + '\\n' + newContent;\n        }\n    }\n    return fragment + '\\n' + '</core:FragmentDefinition>';\n};\n\n/**\n * Creates the content for a ResponsiveTableCellsExtesnion fragment\n * @param customColumns - list of custom columns; for each of them a dummy entry gets created in the view content.\n * @returns {string} the rendered template's string\n */\nexport const getResponsiveTableCellsFragment = (customColumns: v2.TableCustomColumns): string => {\n    let fragment = '<core:FragmentDefinition xmlns:core=\"sap.ui.core\" xmlns=\"sap.m\">';\n    if (customColumns) {\n        customColumns.forEach(() => {\n            fragment = fragment + '\\n<Text text=\"Placeholder\"></Text>';\n        });\n    }\n    return fragment + '\\n' + '</core:FragmentDefinition>';\n};\n", "import type { Manifest, v2, ControlTypeFunction, DeprecatedProperties } from '@sap/ux-specification-types';\nimport {\n    ControlType,\n    GENERICAPPSETTINGS,\n    PropertyName,\n    QUICKVARPATH,\n    QUICKVARPATHX\n} from '@sap/ux-specification-types';\nimport { addPatternForBindingChangeOfEnumLR, convertEnumToCSV } from '../../../common';\nimport { buildControlIdFromParent, exportToFlexChange, childId, syncRule, validity } from '../../../common/decoration';\nimport {\n    getAppSettingPathV2,\n    getCreationFieldsPathV2,\n    getDataLoadSettingPathV2,\n    getTableSettingPathV2\n} from '../../application';\nimport type { PopinLayout } from 'sap/m/library';\nimport type { smarttable } from 'sap/ui/comp/library';\n\nconst MULTIEDITPATH = '/multiEdit';\nexport const getSmartTableControlId = (\n    baseId: string,\n    idBreadcrumbs: string[],\n    _breadcrumbs: string[],\n    controlType: ControlTypeFunction\n): string => {\n    if (controlType() === 'sap.m.Table') {\n        return baseId + 'responsiveTable';\n    } else if (controlType() === 'sap.ui.comp.smarttable.SmartTable' && baseId.includes('AnalyticalListPage')) {\n        return baseId + PropertyName.table;\n    }\n    return buildControlIdFromParent(baseId, idBreadcrumbs);\n};\n\n//import & export createWithParameterDialog\nexport function importCreateParameters(manifestSection: object): object {\n    if (!manifestSection['createWithParameterDialog']) {\n        return undefined;\n    }\n    let configPart = {};\n    if (manifestSection['createWithParameterDialog']) {\n        configPart = JSON.parse(JSON.stringify(manifestSection['createWithParameterDialog'])) as Fields4Dialog;\n    }\n    return configPart;\n}\nexport function exportCreateParameters(manifestSection: unknown, configPart: Fields4Dialog): void {\n    if (configPart['createWithParameterDialog']) {\n        manifestSection['createWithParameterDialog'] = JSON.parse(\n            JSON.stringify(configPart['createWithParameterDialog'])\n        );\n    } else {\n        delete manifestSection['createWithParameterDialog'];\n    }\n}\n\nfunction exportVariants(manifestSection: object, configObject: object): void {\n    for (const variant in configObject['variants']) {\n        const variantConfig = configObject['variants'][variant];\n        const tablesettings: string[] = ['type', 'multiSelect', 'selectAll', 'selectionLimit', 'inlineDelete'];\n        for (const key in variantConfig) {\n            if (tablesettings.indexOf(key) !== -1) {\n                if (!variantConfig['tableSettings']) {\n                    variantConfig['tableSettings'] = {};\n                }\n                variantConfig['tableSettings'][key] = variantConfig[key];\n                delete variantConfig[key];\n            }\n        }\n        if (manifestSection['variants']) {\n            manifestSection['variants'][variant] = variantConfig;\n        } else {\n            manifestSection['variants'] = {\n                [variant]: variantConfig\n            };\n        }\n    }\n}\n\nfunction exportQuickVariantSelectionX(manifestSection: object, configObject: object): void {\n    if (!configObject['variants']) {\n        return;\n    }\n    if (Object.keys(configObject['variants']).length > 0) {\n        exportVariants(manifestSection, configObject);\n    } else {\n        delete manifestSection['variants'];\n    }\n}\n\nfunction importMultiEdit(manifestSection) {\n    if (!manifestSection || !manifestSection['multiEdit']) {\n        return undefined;\n    }\n    const configPart: v2.MultiEdit = JSON.parse(JSON.stringify(manifestSection['multiEdit']));\n\n    // convert CSV format to array of strings\n    configPart.ignoredFields = manifestSection['multiEdit']?.['ignoredFields']?.split(',');\n\n    return configPart;\n}\n\nexport class CreateWithFilters {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys) + '/createWithFilters'\n        }\n    })\n    strategy: v2.Strategy;\n}\n\nexport class MultiEdit implements v2.MultiEdit {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getTableSettingPathV2(pageKeys) + MULTIEDITPATH\n        }\n    })\n    enabled?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getTableSettingPathV2(pageKeys) + MULTIEDITPATH\n        }\n    })\n    annotationPath?: string;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getTableSettingPathV2(pageKeys) + MULTIEDITPATH,\n            export: convertEnumToCSV\n        }\n    })\n    ignoredFields?: v2.IgnoredFieldsType[];\n}\n\n//import table type\nfunction importType(manifestSection: object): string {\n    if (manifestSection?.['tableSettings']?.['type']) {\n        return manifestSection['tableSettings']['type'];\n    } else if (manifestSection?.['tableType']) {\n        return manifestSection['tableType'];\n    }\n}\n\n//export table type\nexport function exportType(manifestSection: unknown, configPart: object): void {\n    if (configPart?.['type']) {\n        if (!manifestSection['tableSettings']) {\n            manifestSection['tableSettings'] = {};\n        }\n        manifestSection['tableSettings']['type'] = configPart['type'];\n        if (manifestSection?.['tableType']) {\n            //old format\n            delete manifestSection['tableType'];\n        }\n    }\n}\n\nexport function deleteType(manifestSection: unknown): void {\n    if (manifestSection?.['tableSettings']?.['type']) {\n        delete manifestSection['tableSettings']['type'];\n    }\n    if (manifestSection?.['tableType']) {\n        //old format\n        delete manifestSection['tableType'];\n    }\n}\n\nexport class DataLoadSettings {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getDataLoadSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.75.2'\n    })\n    loadDataOnAppLaunch: v2.LoadDataOnAppLaunchSettings;\n}\n\nexport class FieldPath implements v2.FieldPath {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], _manifest: Manifest, key: string): string =>\n                getCreationFieldsPathV2(pageName, key)\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    path: string;\n}\n\nexport class Fields4Dialog {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getTableSettingPathV2(pageKeys) + '/createWithParameterDialog'\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    fields: v2.CreationFieldKeys;\n}\n\nexport class QuickVariantSelection {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys) + QUICKVARPATH\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    showCounts?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys) + QUICKVARPATH\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    variants: {\n        [key: number]: v2.QuickVariant;\n    };\n}\n\nexport class QuickVariantSelectionX implements v2.QuickVariantSelectionX {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys) + QUICKVARPATHX\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    showCounts?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys) + QUICKVARPATHX\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    enableAutoBinding?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys) + QUICKVARPATHX,\n            export: exportQuickVariantSelectionX\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    variants: {\n        [key: number]: v2.QuickVariantX;\n    };\n}\n\nexport class CommonTableSettings<COLS = v2.GenericColumns> implements v2.CommonTableSettings<COLS> {\n    getDeprecated = (): DeprecatedProperties => {\n        return {\n            tableType: {\n                since: '1.50.0',\n                deprecated: {\n                    since: '1.70.0',\n                    text: 'Use tableSettings.type instead'\n                }\n            },\n            enableAutoBinding: {\n                since: '1.40.0',\n                deprecated: {\n                    since: '1.75.2',\n                    text: 'Use tableSettings.loadDataOnAppLaunch instead'\n                }\n            }\n        };\n    };\n\n    @syncRule({\n        manifest: {\n            key: 'createWithParameterDialog',\n            path: (pageKeys): string => getTableSettingPathV2(pageKeys),\n            import: importCreateParameters,\n            export: exportCreateParameters\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    createWithParameterDialog?: Fields4Dialog;\n\n    @syncRule({\n        flex: {\n            controlId: buildControlIdFromParent,\n            controlType: (): ControlType => ControlType.SmartTable,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    @validity({\n        since: '1.38.0'\n    })\n    showTablePersonalisation?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.SmartTable,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    @validity({\n        since: '1.26.0'\n    })\n    useExportToExcel?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.SmartTable,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    @validity({\n        since: '1.50.0'\n    })\n    exportType?: smarttable.ExportType;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.SmartTable,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    fitContainer?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    quickVariantSelection?: QuickVariantSelection;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    quickVariantSelectionX?: QuickVariantSelectionX;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getTableSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.38.0'\n    })\n    multiSelect?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getTableSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.70.0'\n    })\n    selectAll?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getTableSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.70.0'\n    })\n    selectionLimit?: number;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.75.2'\n    })\n    dataLoadSettings?: DataLoadSettings;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.42.0'\n    })\n    condensedTableLayout?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.56.0'\n    })\n    enableTableFilterInPageVariant?: boolean;\n\n    @childId('toolBar')\n    toolBar?: v2.ToolBar;\n}\nexport class ResponsiveTable extends CommonTableSettings implements v2.ResponsiveTable {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys),\n            import: importType,\n            export: exportType,\n            delete: deleteType\n        }\n    })\n    @validity({\n        since: '1.50.0'\n    })\n    type?: v2.TableTypeV2.ResponsiveTable;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.54.0'\n    })\n    createWithFilters?: CreateWithFilters;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.Table,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    popinLayout?: PopinLayout;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.Table,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    includeItemInSelection?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getTableSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    inlineDelete?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (): string => GENERICAPPSETTINGS\n        }\n    })\n    @validity({\n        since: '1.63.0'\n    })\n    showDraftToggle?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.Table,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    @validity({\n        since: '1.16.0'\n    })\n    growingThreshold?: number;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getTableSettingPathV2(pageKeys),\n            import: importMultiEdit\n        }\n    })\n    @validity({\n        since: '1.98.0'\n    })\n    multiEdit?: MultiEdit;\n}\n\nexport class TreeTable extends CommonTableSettings implements v2.TreeTable {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys),\n            import: importType,\n            export: exportType,\n            delete: deleteType\n        }\n    })\n    @validity({\n        since: '1.50.0'\n    })\n    type?: v2.TableTypeV2.TreeTable;\n\n    @syncRule({\n        manifest: {\n            path: (): string => GENERICAPPSETTINGS\n        }\n    })\n    @validity({\n        since: '1.63.0'\n    })\n    showDraftToggle?: boolean;\n}\n\nexport class AnalyticalTable extends CommonTableSettings implements v2.AnalyticalTable {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys),\n            import: importType,\n            export: exportType,\n            delete: deleteType\n        }\n    })\n    @validity({\n        since: '1.50.0'\n    })\n    type?: v2.TableTypeV2.AnalyticalTable;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    qualifier?: string;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.38.0'\n    })\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    defaultContentView?: v2.DefaultContentView;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    defaultFilterMode?: v2.DefaultFilterMode;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.60.0'\n    })\n    contentTitle?: string;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    autoHide?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.78.0'\n    })\n    allFiltersAsInParameters?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.54.0'\n    })\n    createWithFilters?: CreateWithFilters;\n\n    @syncRule({\n        manifest: {\n            path: (): string => GENERICAPPSETTINGS\n        }\n    })\n    @validity({\n        since: '1.63.0'\n    })\n    showDraftToggle?: boolean;\n}\n\nexport class TableALP extends CommonTableSettings implements v2.TableALP {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys),\n            import: importType,\n            export: exportType,\n            delete: deleteType\n        }\n    })\n    @validity({\n        since: '1.50.0'\n    })\n    type?: v2.TableTypeV2.AnalyticalTable & v2.TableTypeV2.ResponsiveTable & v2.TableTypeV2.GridTable;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    qualifier?: string;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.38.0'\n    })\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    defaultContentView?: v2.DefaultContentView;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    defaultFilterMode?: v2.DefaultFilterMode;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.60.0'\n    })\n    contentTitle?: string;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    autoHide?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.78.0'\n    })\n    allFiltersAsInParameters?: boolean;\n}\n\nexport class ALPResponsiveTable extends TableALP {\n    /*No sync rule needed for type as it is already part of TableALP. This also caused sync issues with flexChanges in release 1.60 as tabletype is not explicity set to ResponsiveTable in 1.60\n    During import, Table type is used in function \"addFlex\" to refer to correct definition in schema.\n    */\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.Table,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    @validity({\n        since: '1.16.0'\n    })\n    growingThreshold?: number;\n}\n\nexport class ALPGridTable extends TableALP {}\n\nexport class ALPAnalyticalTable extends TableALP {}\n\nexport class GridTable extends CommonTableSettings implements v2.GridTable {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys),\n            import: importType,\n            export: exportType,\n            delete: deleteType\n        }\n    })\n    @validity({\n        since: '1.50.0'\n    })\n    type?: v2.TableTypeV2.GridTable;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.54.0'\n    })\n    createWithFilters?: CreateWithFilters;\n\n    @syncRule({\n        manifest: {\n            path: (): string => GENERICAPPSETTINGS\n        }\n    })\n    @validity({\n        since: '1.63.0'\n    })\n    showDraftToggle?: boolean;\n}\n", "import type { v2 } from '@sap/ux-specification-types';\nimport { ControlType } from '@sap/ux-specification-types';\nimport { syncRule, exportToFlexChange } from '../../../common/decoration';\nimport { getActionBreadcrumbParts, convertActionKeyToStableId } from '../../../common';\nimport type { ButtonType } from 'sap/m/library';\nimport type { URI } from 'sap/ui/core/library';\n\n/**\n * Create stable ID for Simple Action button\n *\n * @param {string} baseId Base Id of the control\n * @param {string[]} _idBreadcrumbs\n * @param {string[]} breadcrumbs\n * @returns {string} stable ID of Action button\n */\nconst getActionButtonId = (baseId: string, _idBreadcrumbs: string[], breadcrumbs: string[]): string => {\n    const { actionId } = getActionBreadcrumbParts(breadcrumbs);\n    return `${baseId}action::${convertActionKeyToStableId(actionId).replace(':2f', '::')}`;\n};\n\n/**\n * Create stable ID for Intent Based Action button\n *\n * @param {string} baseId Base Id of the control\n * @param {string[]} _idBreadcrumbs\n * @param {string[]} breadcrumbs\n * @returns {string} stable ID of Intent Based Action button\n */\nexport const buildIntentBasedActionId = (baseId: string, _idBreadcrumbs: string[], breadcrumbs: string[]): string => {\n    const { semanticObjectId, actionId } = getActionBreadcrumbParts(breadcrumbs);\n    return `${baseId}action::${semanticObjectId}::${convertActionKeyToStableId(actionId)}`;\n};\n\n/**\n * Create stable ID for (Intent Based) Footer Action button\n *\n * @param {string} baseId Base Id of the control\n * @param {string[]} _idBreadcrumbs\n * @param {string[]} breadcrumbs\n * @returns {string} stable ID of Footer Action button\n */\nconst getFooterActionButtonId = (baseId: string, _idBreadcrumbs: string[], breadcrumbs: string[]): string => {\n    const { actionId } = getActionBreadcrumbParts(breadcrumbs);\n    return `${baseId}action::${convertActionKeyToStableId(actionId).replace(':2f', '::')}::Determining`;\n};\n\nconst flexRuleForAction = {\n    controlId: getActionButtonId,\n    controlType: (): ControlType => ControlType.Button,\n    createFlexChange: exportToFlexChange\n};\n\nconst flexRuleForFooterAction = {\n    controlId: getFooterActionButtonId,\n    controlType: (): ControlType => ControlType.Button,\n    createFlexChange: exportToFlexChange\n};\n\nexport class Action implements v2.Action {\n    @syncRule({\n        flex: flexRuleForAction\n    })\n    tooltip?: string;\n\n    @syncRule({\n        flex: flexRuleForAction\n    })\n    icon?: URI;\n\n    @syncRule({\n        flex: flexRuleForAction\n    })\n    activeIcon?: URI;\n\n    @syncRule({\n        flex: flexRuleForAction\n    })\n    type?: ButtonType;\n}\n\nexport class ToolBarAction implements v2.Action {\n    @syncRule({\n        flex: flexRuleForAction\n    })\n    tooltip?: string;\n\n    @syncRule({\n        flex: flexRuleForAction\n    })\n    icon?: URI;\n\n    @syncRule({\n        flex: flexRuleForAction\n    })\n    activeIcon?: URI;\n\n    @syncRule({\n        flex: flexRuleForAction\n    })\n    type?: ButtonType;\n}\n\nexport class FooterAction implements v2.Action {\n    @syncRule({\n        flex: flexRuleForFooterAction\n    })\n    tooltip?: string;\n\n    @syncRule({\n        flex: flexRuleForFooterAction\n    })\n    icon?: URI;\n\n    @syncRule({\n        flex: flexRuleForFooterAction\n    })\n    activeIcon?: URI;\n\n    @syncRule({\n        flex: flexRuleForFooterAction\n    })\n    type?: ButtonType;\n}\n", "import { buildIntentBasedActionId } from './Action';\nimport type { v2, SAPUI5_FRAGMENT_CLASS } from '@sap/ux-specification-types';\nimport { ControlType } from '@sap/ux-specification-types';\nimport { syncRule, exportToFlexChange, buildColumnControlId } from '../../../common/decoration';\nimport { addPatternForBindingChangeOfEnumLR, getActionBreadcrumbParts } from '../../../common';\nimport type { TextAlign, URI } from 'sap/ui/core/library';\nimport type { ButtonType } from 'sap/m/library';\n\n/**\n * Create stable ID for Action Column\n *\n * @param {string} baseId Base Id of the control\n * @param {string[]} _idBreadcrumbs\n * @param {string[]} breadcrumbs\n * @returns {string} stable ID of Action Column\n */\nconst buildColumnActionId = (baseId: string, idBreadcrumbs: string[], breadcrumbs: string[]): string => {\n    const columnTemplate = 'template:::TableColumn';\n    const { actionType, actionId } = getActionBreadcrumbParts(breadcrumbs);\n    const smartTableId = `sSmartTableId::${idBreadcrumbs[0]}`;\n    return `${baseId}${columnTemplate}:::${actionType}:::${smartTableId}:::sAction::${actionId}`;\n};\n/**\n * Create stable ID for Intent Based Action Column\n *\n * @param {string} baseId Base Id of the control\n * @param {string[]} _idBreadcrumbs\n * @param {string[]} breadcrumbs\n * @returns {string} stable ID of Action Column\n */\nconst buildColumnIntentBasedId = (baseId: string, idBreadcrumbs: string[], breadcrumbs: string[]): string => {\n    const columnTemplate = 'template:::TableColumn';\n    const { actionType, actionId, semanticObjectId } = getActionBreadcrumbParts(breadcrumbs);\n    const smartTableId = `sSmartTableId::${idBreadcrumbs[0]}`;\n    return `${baseId}${columnTemplate}:::${actionType}:::${smartTableId}:::sSemanticObject::${semanticObjectId}:::sAction::${actionId}`;\n};\n\n/**\n * Create stable ID for Column Action button\n *\n * @param {string} baseId Base Id of the control\n * @param {string[]} _idBreadcrumbs\n * @param {string[]} breadcrumbs\n * @returns {string} stable ID of Column Action button\n */\nconst buildColumnActionButtonId = (baseId: string, _idBreadcrumbs: string[], breadcrumbs: string[]): string => {\n    const { actionId } = getActionBreadcrumbParts(breadcrumbs);\n    return `${baseId}action::${actionId.replace(':2f', '::')}`;\n};\n\n// TableColumnAction column properties\nconst flexRuleForColumn = {\n    controlId: buildColumnActionId,\n    controlType: (): ControlType => ControlType.TableColumn,\n    createFlexChange: exportToFlexChange\n};\n\n// TableColumnAction action properties\nconst flexRuleForColumnAction = {\n    controlId: buildColumnActionButtonId,\n    controlType: (): ControlType => ControlType.Button,\n    createFlexChange: exportToFlexChange\n};\n\n// TableColumnActionIntentBased main properties\nconst flexRuleForColumnIntentBased = {\n    ...flexRuleForColumn,\n    controlId: buildColumnIntentBasedId\n};\n\n// TableColumnActionIntentBased action properties\nconst flexRuleForColumnIntentBasedAction = {\n    ...flexRuleForColumnAction,\n    controlId: buildIntentBasedActionId\n};\n\nexport class TableColumn implements v2.TableColumn {\n    @syncRule({\n        flex: {\n            controlId: buildColumnControlId,\n            controlType: (): ControlType => ControlType.TableColumn,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    width?: string;\n    @syncRule({\n        flex: {\n            controlId: buildColumnControlId,\n            controlType: (): ControlType => ControlType.TableColumn,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    hAlign?: TextAlign;\n}\n\nexport class TableColumnAction implements v2.TableColumnAction {\n    @syncRule({\n        flex: flexRuleForColumn\n    })\n    width?: string;\n\n    @syncRule({\n        flex: flexRuleForColumn,\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    hAlign?: TextAlign;\n\n    @syncRule({\n        flex: flexRuleForColumnAction\n    })\n    tooltip?: string;\n\n    @syncRule({\n        flex: flexRuleForColumnAction\n    })\n    icon?: URI;\n\n    @syncRule({\n        flex: flexRuleForColumnAction\n    })\n    activeIcon?: URI;\n\n    @syncRule({\n        flex: flexRuleForColumnAction\n    })\n    type?: ButtonType;\n}\n\nexport class TableColumnActionIntentBased extends TableColumnAction {\n    @syncRule({\n        flex: flexRuleForColumnIntentBased\n    })\n    width?: string;\n\n    @syncRule({\n        flex: flexRuleForColumnIntentBased,\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    hAlign?: TextAlign;\n\n    @syncRule({\n        flex: flexRuleForColumnIntentBasedAction\n    })\n    tooltip?: string;\n\n    @syncRule({\n        flex: flexRuleForColumnIntentBasedAction\n    })\n    icon?: URI;\n\n    @syncRule({\n        flex: flexRuleForColumnIntentBasedAction\n    })\n    activeIcon?: URI;\n\n    @syncRule({\n        flex: flexRuleForColumnIntentBasedAction\n    })\n    type?: ButtonType;\n}\n\n/**\n * No sync rules are defined for table custom columns, as they are transferred altogether.\n * This approach is needed to support inserts as well as deletions of manifest extensions and fragments\n */\nexport class TableCustomColumn implements v2.TableCustomColumn {\n    id?: string;\n    text?: string;\n    columnKey: string;\n    columnIndex?: number;\n    leadingProperty?: string;\n    className: typeof SAPUI5_FRAGMENT_CLASS;\n    fragmentName: string;\n    cellsFragmentName?: string;\n    tabKey?: string;\n    extensionType: v2.TableColumnExtensionTypeV2;\n}\n", "import type { v2 } from '@sap/ux-specification-types';\n\nexport class ToolBar implements v2.ToolBar {\n    actions: v2.Actions;\n}\n", "import type { v2, ChangeDefinitionInCreation } from '@sap/ux-specification-types';\nimport { ControlType, PropertyName } from '@sap/ux-specification-types';\nimport { exportToFlexChange } from '../../../common/decoration';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getChartSettingPathV2 } from '../../application';\n\nexport const getSmartChartControlId = (baseId: string): string => {\n    return baseId + PropertyName.chart;\n};\n\nexport class ChartSettings implements v2.ChartSettings {\n    @syncRule({\n        flex: {\n            controlId: getSmartChartControlId,\n            controlType: (): ControlType => ControlType.SmartChart,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    showLegendButton?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartChartControlId,\n            controlType: (): ControlType => ControlType.SmartChart,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    showDownloadButton?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartChartControlId,\n            controlType: (): ControlType => ControlType.SmartChart,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    showChartTypeSelectionButton?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartChartControlId,\n            controlType: (): ControlType => ControlType.SmartChart,\n            exportFlexValue: (flexChange: ChangeDefinitionInCreation, configObject: object, key: string): void => {\n                flexChange.content.newValue = configObject[key].join();\n            },\n            importFlexValue: (flexChange: ChangeDefinitionInCreation, configObject: object, key: string): void => {\n                flexChange.content['newValue'] = flexChange.content['newValue'] as string;\n                configObject[key] = flexChange.content['newValue'].split(',') as v2.ChartType[];\n            },\n            createFlexChange: exportToFlexChange\n        }\n    })\n    ignoredChartTypes?: v2.ChartType[];\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getChartSettingPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.81.0'\n    })\n    showDataLabel: boolean;\n}\n", "import type { v2 } from '@sap/ux-specification-types';\nimport { syncRule } from '../../../common/decoration/decorators';\nimport { getKPISettingsPath } from '../../application';\n\nexport class KPISettings implements v2.KPISettings {\n    @syncRule({\n        manifest: {\n            path: (pageKeys, _manifest, KPIKey): string => getKPISettingsPath(pageKeys, KPIKey)\n        }\n    })\n    model: string;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys, _manifest, KPIKey): string => getKPISettingsPath(pageKeys, KPIKey)\n        }\n    })\n    entitySet?: string;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys, _manifest, KPIKey): string => getKPISettingsPath(pageKeys, KPIKey)\n        }\n    })\n    qualifier?: string;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys, _manifest, KPIKey): string => getKPISettingsPath(pageKeys, KPIKey)\n        }\n    })\n    filterable?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys, _manifest, KPIKey): string => getKPISettingsPath(pageKeys, KPIKey)\n        }\n    })\n    detailNavigation?: string;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys, _manifest, KPIKey): string => getKPISettingsPath(pageKeys, KPIKey)\n        }\n    })\n    groupId?: string;\n}\n", "import type { v2 } from '@sap/ux-specification-types';\nimport { ControlType } from '@sap/ux-specification-types';\nimport { syncRule, validity, buildControlIdFromParent, exportToFlexChange } from '../../../common/decoration';\nimport { getAppSettingOBJPathV2 } from '../../application';\nimport { addPatternForBindingChangeOfEnumOP } from '../../../common';\nimport type AvatarShape from 'sap/m/AvatarShape';\n\nconst getAvatarControlId = (baseId: string, idBreadcrumbs: string[]): string => {\n    const idBreadcrumbsCopy = idBreadcrumbs.slice(0);\n    idBreadcrumbsCopy[idBreadcrumbs.length - 1] = 'objectImage';\n    return buildControlIdFromParent(baseId, idBreadcrumbsCopy);\n};\n\nexport class ObjectPageHeader implements v2.ObjectPageHeader {\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingOBJPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.46.0'\n    })\n    showRelatedApps?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingOBJPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.46.0'\n    })\n    editableHeaderContent?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys): string => getAppSettingOBJPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    simpleHeaderFacets?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getAvatarControlId,\n            controlType: (): ControlType => ControlType.Avatar,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    displayShape?: AvatarShape;\n\n    actions?: v2.HeaderActions;\n}\n", "import type { v2, ControlTypeFunction } from '@sap/ux-specification-types';\nimport { ControlType } from '@sap/ux-specification-types';\nimport { syncRule, exportToFlexChange, buildControlIdFromParent } from '../../../common/decoration';\nimport { addPatternForBindingChangeOfEnumOP, convertActionKeyToStableId } from '../../../common';\nimport type { ButtonType } from 'sap/m/library';\nimport type { URI } from 'sap/ui/core/library';\n\n/**\n * Create stable ID for Object Page Header Action button\n *\n * @param {string} baseId Base Id of the control\n * @param {string[]} idBreadcrumbs\n * @param {string[]} breadcrumbs\n * @param {ControlTypeFunction} controlType\n * @returns {string} stable ID of Object Page Header Action button\n */\nconst getActionButtonId = (\n    baseId: string,\n    idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    controlType: ControlTypeFunction\n): string => {\n    if (controlType() === ControlType.Button || controlType() === ControlType.HeaderAction) {\n        const actionId = breadcrumbs[2];\n        return `${baseId}action::${convertActionKeyToStableId(actionId)}`;\n    }\n    return buildControlIdFromParent(baseId, idBreadcrumbs);\n};\n\nconst flexRuleForHeaderAction = {\n    controlId: getActionButtonId,\n    controlType: (): ControlType => ControlType.HeaderAction,\n    createFlexChange: exportToFlexChange\n};\n\nexport class HeaderAction implements v2.HeaderAction {\n    @syncRule({\n        flex: flexRuleForHeaderAction,\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible: boolean;\n\n    @syncRule({\n        flex: flexRuleForHeaderAction\n    })\n    tooltip?: string;\n\n    @syncRule({\n        flex: flexRuleForHeaderAction\n    })\n    icon?: URI;\n\n    @syncRule({\n        flex: flexRuleForHeaderAction\n    })\n    activeIcon?: URI;\n\n    @syncRule({\n        flex: flexRuleForHeaderAction\n    })\n    type?: ButtonType;\n}\n", "import type { v2, ControlTypeFunction } from '@sap/ux-specification-types';\nimport { ControlType } from '@sap/ux-specification-types';\nimport { syncRule, exportToFlexChange, buildControlIdFromParent } from '../../../common/decoration';\nimport {\n    addPatternForBindingChangeOfEnumOP,\n    getActionBreadcrumbParts,\n    convertActionKeyToStableId\n} from '../../../common';\nimport type { ButtonType } from 'sap/m/library';\nimport type { URI } from 'sap/ui/core/library';\n\n/**\n * Create stable ID for Object Page Footer Action button\n *\n * @param {string} baseId Base Id of the control\n * @param {string[]} idBreadcrumbs\n * @param {string[]} breadcrumbs\n * @param {ControlTypeFunction} controlType\n * @returns {string} stable ID of Object Page Footer Action button\n */\nconst getFooterActionButtonId = (\n    baseId: string,\n    idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    controlType: ControlTypeFunction\n): string => {\n    if (controlType() === ControlType.Button) {\n        const { actionId } = getActionBreadcrumbParts(breadcrumbs);\n        return `${baseId}action::${convertActionKeyToStableId(actionId)}::Determining`;\n    }\n    return buildControlIdFromParent(baseId, idBreadcrumbs);\n};\n\nconst flexRuleForFooterAction = {\n    controlId: getFooterActionButtonId,\n    controlType: (): ControlType => ControlType.Button,\n    createFlexChange: exportToFlexChange\n};\n\nexport class ObjectPageFooterAction implements v2.ObjectPageFooterAction {\n    @syncRule({\n        flex: flexRuleForFooterAction,\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible: boolean;\n\n    @syncRule({\n        flex: flexRuleForFooterAction\n    })\n    tooltip?: string;\n\n    @syncRule({\n        flex: flexRuleForFooterAction\n    })\n    icon?: URI;\n\n    @syncRule({\n        flex: flexRuleForFooterAction\n    })\n    activeIcon?: URI;\n\n    @syncRule({\n        flex: flexRuleForFooterAction\n    })\n    type?: ButtonType;\n}\n", "import type { v2 } from '@sap/ux-specification-types';\nimport { ControlType } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { buildControlIdFromParent, exportToFlexChange } from '../../../common/decoration';\n\nconst getControlId = (baseId: string, idBreadcrumbs: string[]): string => {\n    const idBreadcrumbsCopy = idBreadcrumbs.slice(0);\n    idBreadcrumbsCopy[idBreadcrumbs.length - 1] = 'objectPage';\n    return buildControlIdFromParent(baseId, idBreadcrumbsCopy);\n};\n\nexport class ObjectPageLayout implements v2.ObjectPageLayout {\n    @syncRule({\n        flex: {\n            controlId: getControlId,\n            controlType: (): ControlType => ControlType.ObjectPageLayout,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    showHeaderContent?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getControlId,\n            controlType: (): ControlType => ControlType.ObjectPageLayout,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    showAnchorBar?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getControlId,\n            controlType: (): ControlType => ControlType.ObjectPageLayout,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    useIconTabBar?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getControlId,\n            controlType: (): ControlType => ControlType.ObjectPageLayout,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    @validity({\n        since: '1.34.0'\n    })\n    alwaysShowContentHeader?: boolean;\n}\n", "import { ManifestSection } from '@sap/ux-specification-types';\nimport type { SAPUI5_FRAGMENT_CLASS, SAPUI5_VIEW_CLASS, Manifest, ViewTypes, v2 } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getObjectPageCustomSectionPath } from '../../application';\n\nexport class BaseCustomSection implements v2.ObjectPageCustomSectionBase {\n    @syncRule({\n        manifest: {\n            path: getObjectPageCustomSectionPath,\n            export: false,\n            import: (\n                _manifest: v2.SapUi5ViewExtensionView | v2.SapUi5ViewExtensionFragment,\n                sectionId: string\n            ): string => {\n                const sectionParts = sectionId.split('|');\n                return sectionParts[2];\n            }\n        }\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    relatedFacet: string;\n\n    @syncRule({\n        manifest: {\n            path: getObjectPageCustomSectionPath,\n            export: false,\n            import: (\n                _manifest: v2.SapUi5ViewExtensionView | v2.SapUi5ViewExtensionFragment,\n                sectionId: string\n            ): string => {\n                return sectionId.split('|')[0];\n            }\n        }\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    relativePosition: v2.SectionPosition;\n\n    @syncRule({\n        manifest: {\n            path: (entitySet: string[], _manifest: Manifest, sectionId: string): string =>\n                getObjectPageCustomSectionPath(entitySet, {}, sectionId, ManifestSection.generic)\n        }\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    title: string;\n\n    @syncRule({\n        manifest: {\n            path: getObjectPageCustomSectionPath\n        }\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    className: string;\n}\n\nexport class ObjectPageCustomSectionFragment extends BaseCustomSection implements v2.ObjectPageCustomSectionFragment {\n    className: typeof SAPUI5_FRAGMENT_CLASS;\n\n    @syncRule({\n        manifest: {\n            path: getObjectPageCustomSectionPath\n        }\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    fragmentName: string;\n\n    @syncRule({\n        manifest: {\n            path: getObjectPageCustomSectionPath\n        }\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    type: v2.ExtensionFragmentTypes;\n}\n\nexport class ObjectPageCustomSectionView extends BaseCustomSection implements v2.ObjectPageCustomSectionView {\n    className: typeof SAPUI5_VIEW_CLASS;\n\n    @syncRule({\n        manifest: {\n            path: getObjectPageCustomSectionPath\n        }\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    viewName: string;\n\n    @syncRule({\n        manifest: {\n            path: getObjectPageCustomSectionPath\n        }\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    type: ViewTypes;\n}\n", "import type { v2, ControlTypeFunction } from '@sap/ux-specification-types';\nimport { ControlType, DefinitionName } from '@sap/ux-specification-types';\nimport { syncRule } from '../../../common/decoration/decorators';\nimport {\n    addPatternForBindingChangeOfEnumOP,\n    buildControlIdFromParent,\n    exportToFlexChange,\n    convertSectionId\n} from '../../../common';\n\nexport const getTableSectionControlId = (\n    baseId: string,\n    _idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    _controlType: ControlTypeFunction,\n    facetId: string\n): string => {\n    const convertedId = convertSectionId(breadcrumbs[1], facetId);\n    const breadcrumbsTrail = [convertedId, DefinitionName.Table];\n    return buildControlIdFromParent(baseId, breadcrumbsTrail);\n};\nexport const getFormSectionControlId = (\n    baseId: string,\n    _idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    _controlType: ControlTypeFunction,\n    facetId: string\n): string => {\n    const convertedId = convertSectionId(breadcrumbs[1], facetId);\n    const breadcrumbsTrail = [convertedId, 'FormGroup'];\n    return buildControlIdFromParent(baseId, breadcrumbsTrail);\n};\n\nexport const getChartSectionControlId = (\n    baseId: string,\n    _idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    _controlType: ControlTypeFunction,\n    facetID: string\n): string => {\n    const convertedId = convertSectionId(breadcrumbs[1], facetID);\n    const breadcrumbsTrail = [convertedId, 'Chart'];\n    return buildControlIdFromParent(baseId, breadcrumbsTrail);\n};\n\nexport const getSectionControlId = (\n    baseId: string,\n    _idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    _controlType: ControlTypeFunction,\n    facetId: string\n): string => {\n    const convertedId = convertSectionId(breadcrumbs[1], facetId);\n    const breadcrumbsTrail = [convertedId, 'Section'];\n    return buildControlIdFromParent(baseId, breadcrumbsTrail);\n};\n\nexport const getSubSectionControlId = (\n    baseId: string,\n    _idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    _controlType: ControlTypeFunction,\n    facetId: string\n): string => {\n    const convertedId = convertSectionId(breadcrumbs[1], facetId);\n    const breadcrumbsTrail = [convertedId, 'SubSection'];\n    return buildControlIdFromParent(baseId, breadcrumbsTrail);\n};\n\nexport class ObjectPageSectionV2 implements v2.ObjectPageSectionV2 {\n    @syncRule({\n        flex: {\n            controlId: getSectionControlId,\n            controlType: (): ControlType => ControlType.Section,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n\nexport class ObjectPageSectionFormV2 implements v2.ObjectPageSectionFormV2 {\n    @syncRule({\n        flex: {\n            controlId: getSectionControlId,\n            controlType: (): ControlType => ControlType.Section,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n\nexport class ObjectPageSectionChartV2 implements v2.ObjectPageSectionChartV2 {\n    @syncRule({\n        flex: {\n            controlId: getSectionControlId,\n            controlType: (): ControlType => ControlType.Section,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n\nexport class ObjectPageSectionTableV2 implements v2.ObjectPageSectionTableV2 {\n    @syncRule({\n        flex: {\n            controlId: getSectionControlId,\n            controlType: (): ControlType => ControlType.Section,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n\nexport class ObjectPageSectionAddressV2 implements v2.ObjectPageSectionAddressV2 {\n    @syncRule({\n        flex: {\n            controlId: getSectionControlId,\n            controlType: (): ControlType => ControlType.Section,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n\nexport class ObjectPageSectionContactV2 implements v2.ObjectPageSectionContactV2 {\n    @syncRule({\n        flex: {\n            controlId: getSectionControlId,\n            controlType: (): ControlType => ControlType.Section,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n\nexport class ObjectPageSubSectionV2 implements v2.ObjectPageSubSectionV2 {\n    @syncRule({\n        flex: {\n            controlId: getSubSectionControlId,\n            controlType: (): ControlType => ControlType.SubSection,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n\nexport class ObjectPageSubSectionFormV2 implements v2.ObjectPageSubSectionV2 {\n    @syncRule({\n        flex: {\n            controlId: getFormSectionControlId,\n            controlType: (): ControlType => ControlType.Group,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n\nexport class ObjectPageSubSectionChartV2 implements v2.ObjectPageSubSectionV2 {\n    @syncRule({\n        flex: {\n            controlId: getChartSectionControlId,\n            controlType: (): ControlType => ControlType.SmartChart,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n\nexport class ObjectPageSubSectionAddressV2 implements v2.ObjectPageSubSectionAddressV2 {\n    @syncRule({\n        flex: {\n            controlId: getSubSectionControlId,\n            controlType: (): ControlType => ControlType.SubSection,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n\nexport class ObjectPageSubSectionContactV2 implements v2.ObjectPageSubSectionContactV2 {\n    @syncRule({\n        flex: {\n            controlId: getSubSectionControlId,\n            controlType: (): ControlType => ControlType.SubSection,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n\nexport class ObjectPageSubSectionTableV2 implements v2.ObjectPageSubSectionV2 {\n    @syncRule({\n        flex: {\n            controlId: getTableSectionControlId,\n            controlType: (): ControlType => ControlType.SmartTable,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible?: boolean;\n}\n", "import type { v2 } from '@sap/ux-specification-types';\nimport { getAppSettingOBJPathV2, getChartSettingsOBJsectionPathV2 } from '../../application';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\n\nexport class ObjectPageChart implements v2.ObjectPageChart {\n    @syncRule({\n        manifest: {\n            path: getChartSettingsOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.78.0'\n    })\n    variantManagement?: boolean;\n}\n\nexport class GlobalChartSettings implements v2.GlobalChartSettings {\n    @syncRule({\n        manifest: {\n            path: (pageKeys: string[]): string => getAppSettingOBJPathV2(pageKeys) + '/chartSettings'\n        }\n    })\n    @validity({\n        since: '1.78.0'\n    })\n    variantManagement?: boolean;\n}\n", "import type { v2, DeprecatedProperties, ControlTypeFunction } from '@sap/ux-specification-types';\nimport { ControlType, DefinitionName, QUICKVARPATH } from '@sap/ux-specification-types';\nimport {\n    syncRule,\n    validity,\n    buildControlIdFromParent,\n    exportToFlexChange,\n    convertSectionId,\n    childId\n} from '../../../common/decoration';\nimport { getAppSettingOBJsectionPathV2, getTableSettingsOBJsectionPathV2 } from '../../application';\nimport { addPatternForBindingChangeOfEnumOP } from '../../../common';\nimport { exportCreateParameters } from './Table';\nimport type { PopinLayout } from 'sap/m/library';\nimport type { smarttable } from 'sap/ui/comp/library';\n\nconst getSmartTableControlId = (\n    baseId: string,\n    _idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    controlType: ControlTypeFunction,\n    title: string\n): string => {\n    const breadCrumbsCopy = breadcrumbs.slice(1, 2);\n    let suffixId: string;\n\n    if (controlType() === 'sap.ui.comp.smarttable.SmartTable') {\n        suffixId = DefinitionName.Table;\n    } else if (controlType() === 'sap.m.Table') {\n        suffixId = 'responsiveTable';\n    }\n    breadCrumbsCopy.push(suffixId);\n    breadCrumbsCopy[0] = convertSectionId(breadCrumbsCopy[0], title);\n    return buildControlIdFromParent(baseId, breadCrumbsCopy);\n};\n\nexport class QuickVariantSelectionOP {\n    @syncRule({\n        manifest: {\n            path: (pageKeys, manifest, sectionId): string =>\n                getAppSettingOBJsectionPathV2(pageKeys, manifest, sectionId) + QUICKVARPATH\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    showCounts?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys, manifest, sectionId): string =>\n                getAppSettingOBJsectionPathV2(pageKeys, manifest, sectionId) + QUICKVARPATH\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    variants: {\n        [key: number]: v2.QuickVariant;\n    };\n}\n\nexport class FieldPathOP implements v2.FieldPathOP {\n    @syncRule({\n        manifest: {\n            path: (pageKeys, manifest, sectionId, key): string =>\n                getTableSettingsOBJsectionPathV2(pageKeys, manifest, sectionId) +\n                `/createWithParameterDialog/fields/${key}`\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    path: string;\n}\n\nexport class Fields4DialogOP implements v2.Fields4Dialog {\n    @syncRule({\n        manifest: {\n            path: (pageKeys, manifest, sectionId): string =>\n                getTableSettingsOBJsectionPathV2(pageKeys, manifest, sectionId) + '/createWithParameterDialog'\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    fields: v2.CreationFieldKeys;\n}\n\nfunction importCreateParameters(manifestSection: object): object {\n    let configPart;\n    if (manifestSection['createWithParameterDialog']) {\n        configPart = JSON.parse(JSON.stringify(manifestSection['createWithParameterDialog'])) as Fields4DialogOP;\n    }\n    return configPart;\n}\nexport class ObjectPageCommonTableSettings<COLS = v2.GenericColumns> implements v2.ObjectPageCommonTableSettings<COLS> {\n    getDeprecated = (): DeprecatedProperties => {\n        return {\n            tableType: {\n                since: '1.50.0',\n                deprecated: {\n                    since: '1.70.0',\n                    text: 'Use tableSettings.type instead'\n                }\n            }\n        };\n    };\n\n    @syncRule({\n        manifest: {\n            key: 'createWithParameterDialog',\n            path: getTableSettingsOBJsectionPathV2,\n            import: importCreateParameters,\n            export: exportCreateParameters\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    createWithParameterDialog?: Fields4DialogOP;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.SmartTable,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    @validity({\n        since: '1.28.0'\n    })\n    editable?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.54.0'\n    })\n    multiSelect?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.70.0'\n    })\n    selectAll?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.70.0'\n    })\n    selectionLimit?: number;\n\n    @syncRule({\n        manifest: {\n            path: getAppSettingOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.63.0'\n    })\n    quickVariantSelection?: QuickVariantSelectionOP;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.SmartTable,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    @validity({\n        since: '1.26.0'\n    })\n    useExportToExcel?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.SmartTable,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    @validity({\n        since: '1.50.0'\n    })\n    exportType?: smarttable.ExportType;\n\n    @syncRule({\n        manifest: {\n            path: getAppSettingOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.48.5'\n    })\n    createMode?: v2.CreateMode;\n\n    @syncRule({\n        manifest: {\n            path: getAppSettingOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.61.0'\n    })\n    disableDefaultInlineCreateSort?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.78.0'\n    })\n    variantManagement?: boolean;\n\n    @childId('toolBar')\n    toolBar?: v2.ObjectPageToolBar;\n}\n\nexport class ObjectPageResponsiveTable extends ObjectPageCommonTableSettings implements v2.ObjectPageResponsiveTable {\n    @syncRule({\n        manifest: {\n            path: getTableSettingsOBJsectionPathV2\n        }\n    })\n    type?: v2.TableTypeV2.ResponsiveTable;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.Table,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    includeItemInSelection?: boolean;\n\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.Table,\n            createFlexChange: exportToFlexChange\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    popinLayout?: PopinLayout;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    inlineDelete?: boolean;\n    @syncRule({\n        flex: {\n            controlId: getSmartTableControlId,\n            controlType: (): ControlType => ControlType.Table,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    @validity({\n        since: '1.16.0'\n    })\n    growingThreshold?: number;\n}\n\nexport class ObjectPageAnalyticalTable extends ObjectPageCommonTableSettings implements v2.ObjectPageAnalyticalTable {\n    @syncRule({\n        manifest: {\n            path: getTableSettingsOBJsectionPathV2\n        }\n    })\n    type?: v2.TableTypeV2.AnalyticalTable;\n\n    @syncRule({\n        manifest: {\n            path: getAppSettingOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.67.0'\n    })\n    condensedTableLayout?: boolean;\n}\n\nexport class ObjectPageGridTable extends ObjectPageCommonTableSettings implements v2.ObjectPageGridTable {\n    @syncRule({\n        manifest: {\n            path: getTableSettingsOBJsectionPathV2\n        }\n    })\n    type?: v2.TableTypeV2.GridTable;\n\n    @syncRule({\n        manifest: {\n            path: getAppSettingOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.67.0'\n    })\n    condensedTableLayout?: boolean;\n}\n\nexport class ObjectPageTreeTable extends ObjectPageCommonTableSettings implements v2.ObjectPageTreeTable {\n    @syncRule({\n        manifest: {\n            path: getTableSettingsOBJsectionPathV2\n        }\n    })\n    type?: v2.TableTypeV2.TreeTable;\n\n    @syncRule({\n        manifest: {\n            path: getAppSettingOBJsectionPathV2\n        }\n    })\n    @validity({\n        since: '1.67.0'\n    })\n    condensedTableLayout?: boolean;\n}\n", "import type { v2 } from '@sap/ux-specification-types';\nimport { ControlType } from '@sap/ux-specification-types';\nimport { syncRule, exportToFlexChange } from '../../../common/decoration';\nimport {\n    addPatternForBindingChangeOfEnumOP,\n    convertSectionId,\n    getActionBreadcrumbParts,\n    convertActionKeyToStableId\n} from '../../../common';\nimport type { ButtonType } from 'sap/m/library';\nimport type { URI } from 'sap/ui/core/library';\n\n/**\n * Create stable ID for Object Page Toolbar Action button\n *\n * @param {string} baseId Base Id of the control\n * @param {string[]} _idBreadcrumbs\n * @param {string[]} breadcrumbs\n * @param {ControlTypeFunction} controlType\n * @param {string} facetID title from the app schema (comprising for instance the facet ID)\n * @returns {string} stable ID of Object Page Toolbar Action button\n */\nconst getActionButtonId = (\n    baseId: string,\n    _idBreadcrumbs: string[],\n    breadcrumbs: string[],\n    _controlType,\n    facetID: string\n): string => {\n    const { actionId } = getActionBreadcrumbParts(breadcrumbs);\n    const section = convertSectionId(breadcrumbs[1], facetID);\n    return `${baseId}${section}::action::${convertActionKeyToStableId(actionId).replace(':2f', '::')}`;\n};\n\nconst flexRuleForToolBarActionOP = {\n    controlId: getActionButtonId,\n    controlType: (): ControlType => ControlType.Button,\n    createFlexChange: exportToFlexChange\n};\n\nexport class ObjectPageToolBarAction implements v2.ObjectPageToolBarAction {\n    @syncRule({\n        flex: flexRuleForToolBarActionOP,\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    visible: boolean;\n\n    @syncRule({\n        flex: flexRuleForToolBarActionOP\n    })\n    tooltip?: string;\n\n    @syncRule({\n        flex: flexRuleForToolBarActionOP\n    })\n    icon?: URI;\n\n    @syncRule({\n        flex: flexRuleForToolBarActionOP\n    })\n    activeIcon?: URI;\n\n    @syncRule({\n        flex: flexRuleForToolBarActionOP\n    })\n    type?: ButtonType;\n}\n", "import type { UI5Version, ExtensionLogger, ExportResults } from '../..';\nimport type { v2, PageType } from '@sap/ux-specification-types';\nimport type { FlexChangesForTransfer } from './import/controls/table';\nimport type { MetadataFactory, MetadataInstanceInterface } from '../common/decoration/factory';\nimport type * as v2controls from './export/controls';\nimport type * as v2pages from './export/pages';\nimport type { Definition } from 'typescript-json-schema';\n\nexport type V2Controls = typeof v2controls;\nexport type V2Pages = typeof v2pages;\n\nexport type TransferParameterTypeV2 = {\n    v2Page: v2.SapUiAppPageV2;\n    exportResults: ExportResults;\n    appId: string;\n    baseId: string;\n    appSchema: object;\n    ui5Version: UI5Version;\n    factory: MetadataFactory;\n    pageKeys: string[];\n    pageType: PageType;\n    logger: ExtensionLogger;\n    propertyDefinition?: object;\n    nextDefinition?: object;\n};\n\nexport const MULTISELECTTABLE = 'ResponsiveTableWithMultiSelect<LineItems>';\nexport const INLINEDELETETABLE = 'ResponsiveTableWithInlineDelete<LineItems>';\nexport const TREETABLE = 'TreeTable<LineItems>';\nexport const ANALYTICALTABLE = 'AnalyticalTable<LineItems>';\nexport const GRIDTABLE = 'GridTable<LineItems>';\n\nexport enum SectionTypeV2 {\n    SectionAddress = 'ObjectPageSectionAddressV2',\n    SectionChart = 'ObjectPageSectionChartV2',\n    SectionContact = 'ObjectPageSectionContactV2',\n    SectionForm = 'ObjectPageSectionFormV2',\n    Section = 'ObjectPageSectionV2',\n    SubSection = 'ObjectPageSubSectionV2',\n    SectionTable = 'ObjectPageSectionTableV2',\n    SubSectionForm = 'ObjectPageSubSectionFormV2',\n    SubSectionTable = 'ObjectPageSubSectionTableV2',\n    SubSectionAddress = 'ObjectPageSubSectionAddressV2',\n    SubSectionContact = 'ObjectPageSubSectionContactV2',\n    SubSectionChart = 'ObjectPageSubSectionChartV2'\n}\n\nexport enum ActionTypeV2 {\n    Form = 'FormAction',\n    Header = 'HeaderAction',\n    OPToolBar = 'ObjectPageToolBarAction',\n    OPFooter = 'ObjectPageFooterAction',\n    OPColumn = 'ObjectPageTableColumnAction',\n    ToolBar = 'ToolBarAction',\n    Footer = 'FooterAction',\n    Column = 'TableColumnAction',\n    ToolBarIntentBased = 'ToolBarActionIntentBased',\n    FooterIntentBased = 'FooterActionIntentBased',\n    ColumnIntentBased = 'TableColumnActionIntentBased'\n}\n\nexport type ObjectPageV2ConfigParameters = {\n    factory: MetadataInstanceInterface;\n    pageKeys: string[];\n    flexChanges: FlexChangesForTransfer;\n    v2Page: v2.SapUiAppPageV2;\n    objectPageConfig?: v2.ObjectPageConfigV2;\n};\n\nexport type SectionPartProperties = {\n    id?: string;\n    type?: SectionTypeV2;\n    schema?: Definition;\n    title?: string;\n};\n", "import { determineTableType, transferSettingsOfObject, addFlex, addFragments, convertActionKey } from '../common/index';\nimport type { v2, ImportListReportV2Parameters } from '@sap/ux-specification-types';\nimport { LogSeverity, DefinitionName, MANIFESTPATH, ManifestSection, PageType } from '@sap/ux-specification-types';\nimport { parseChangeString } from '../../../common';\nimport { log } from '../../../../extensionLogger';\nimport i18next from 'i18next';\nimport { initI18n } from '../../../../i18n/i18n';\nimport { findListReportPageV2, removeEmptySettings } from '../../import/utils';\nimport { MetadataInstanceFactoryV2 as Factory } from '../../export/factory';\nimport type { MetadataInstanceInterface } from '../../../common/decoration/factory';\nimport { INLINEDELETETABLE, MULTISELECTTABLE } from '../../types';\nimport type { Definition } from 'typescript-json-schema';\n\n/**\n * Imports filterbar information into the LR config\n * @param {ListReportConfig} listReportConfig - LR config, to be filled\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param {ImportListReportV2Parameters} importParameters  - object comprising all input data\n * @param {Definition} schemaDefinitions - app schema definitions\n * @param {string} pageKey - key of the page in manifest\n */\nfunction importFilterBar(\n    listReportConfig: v2.ListReportConfigV2,\n    factory: MetadataInstanceInterface,\n    importParameters: ImportListReportV2Parameters,\n    schemaDefinitions: Definition,\n    pageKey: string\n) {\n    listReportConfig.filterBar = factory.createInstance(\n        PageType.ListReport,\n        DefinitionName.ListReportFilterBar,\n        listReportConfig.filterBar\n    );\n    transferSettingsOfObject(\n        listReportConfig.filterBar,\n        importParameters.manifest,\n        schemaDefinitions[DefinitionName.ListReportFilterBar],\n        pageKey,\n        importParameters.logger\n    );\n    if (schemaDefinitions['SelectionFields']) {\n        listReportConfig.filterBar.selectionFields = factory.createInstance(\n            PageType.ListReport,\n            DefinitionName.ListReportFilterBar,\n            listReportConfig.filterBar.selectionFields\n        );\n        const schemaSelectionFields = schemaDefinitions['SelectionFields'].properties;\n        for (const selectionProperty in schemaSelectionFields) {\n            const selectionKey = selectionProperty;\n            listReportConfig.filterBar.selectionFields[selectionKey] = factory.createInstance(\n                PageType.ListReport,\n                'SelectionFieldDateSettings'\n            );\n            transferSettingsOfObject(\n                listReportConfig.filterBar.selectionFields[selectionKey],\n                importParameters.manifest,\n                schemaDefinitions['SelectionFieldDateSettings'],\n                pageKey,\n                importParameters.logger,\n                selectionKey\n            );\n        }\n    }\n}\n\n/**\n * Imports table information into the LR config\n * @param {TableTypeV2} tableType - table type\n * @param {Definition} schemaDefinitions - app schema definitions\n * @param {ListReportConfig} listReportConfig - LR config, to be filled\n * @param {ImportListReportV2Parameters} importParameters  - object comprising all input data\n * @param {string} pageKey - key of the page in manifest\n */\nfunction importTable(\n    tableType: v2.TableTypeV2,\n    schemaDefinitions: Definition,\n    listReportConfig: v2.ListReportConfigV2,\n    importParameters: ImportListReportV2Parameters,\n    pageKey: string\n) {\n    let localJsonSchema: Definition;\n\n    if (tableType === 'TreeTable' || tableType === 'AnalyticalTable' || tableType === 'GridTable') {\n        localJsonSchema = schemaDefinitions[tableType + '<LineItems>'];\n    } else {\n        if (schemaDefinitions[MULTISELECTTABLE] && schemaDefinitions[INLINEDELETETABLE]) {\n            localJsonSchema = JSON.parse(JSON.stringify(schemaDefinitions[MULTISELECTTABLE])) as Definition;\n            localJsonSchema.properties = {\n                ...localJsonSchema.properties,\n                ...(schemaDefinitions[INLINEDELETETABLE] as Definition).properties\n            };\n        }\n    }\n    transferSettingsOfObject(\n        listReportConfig.table,\n        importParameters.manifest,\n        localJsonSchema,\n        pageKey,\n        importParameters.logger\n    );\n}\n\n/**\n * Adds manifest settings to the config.json of List Report V2\n * @param {ImportListReportV2Parameters} importParameters  - object comprising all input data\n * @param {ListReportConfig} listReportConfig - the configuration to be filled\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param {string} pageKey - key of the page in manifest\n */\nfunction addSettings(\n    importParameters: ImportListReportV2Parameters,\n    listReportConfig: v2.ListReportConfigV2,\n    factory: MetadataInstanceInterface,\n    pageKey: string\n): void {\n    const tableType = determineTableType(importParameters.manifest, pageKey);\n    listReportConfig.table = factory.createInstance(PageType.ListReport, tableType, listReportConfig.table);\n    const schemaDefinitions = (importParameters.jsonSchema as Definition).definitions as Definition;\n\n    //Import table:\n    importTable(tableType, schemaDefinitions, listReportConfig, importParameters, pageKey);\n\n    //Import ToolBar:\n    listReportConfig.table.toolBar = factory.createInstance(PageType.ListReport, DefinitionName.ToolBar, {\n        actions: {}\n    });\n    transferSettingsOfObject(\n        listReportConfig.table.toolBar,\n        importParameters.manifest,\n        schemaDefinitions[DefinitionName.ToolBarLR],\n        pageKey,\n        importParameters.logger\n    );\n    if (schemaDefinitions[DefinitionName.ActionsLR]) {\n        for (const actionProperty in schemaDefinitions[DefinitionName.ActionsLR].properties) {\n            const actionKey = convertActionKey(actionProperty);\n            listReportConfig.table.toolBar.actions[actionKey] = factory.createInstance(\n                PageType.ListReport,\n                DefinitionName.Action\n            );\n            transferSettingsOfObject(\n                listReportConfig.table.toolBar.actions[actionKey],\n                importParameters.manifest,\n                schemaDefinitions[DefinitionName.Action],\n                pageKey,\n                importParameters.logger\n            );\n        }\n    }\n\n    //Import FilterBar:\n    importFilterBar(listReportConfig, factory, importParameters, schemaDefinitions, pageKey);\n\n    //Import Footer:\n    listReportConfig.footer = { actions: {} };\n    const footerAction = schemaDefinitions[DefinitionName.FooterActionsLR];\n    if (footerAction) {\n        for (const actionProperty in footerAction.properties) {\n            const actionKey = convertActionKey(actionProperty);\n            listReportConfig.footer.actions[actionKey] = factory.createInstance(\n                PageType.ListReport,\n                DefinitionName.FooterAction\n            );\n            transferSettingsOfObject(\n                listReportConfig.footer.actions[actionKey],\n                importParameters.manifest,\n                schemaDefinitions[DefinitionName.Action],\n                pageKey,\n                importParameters.logger\n            );\n        }\n    }\n}\n\n/**\n * Creates the configuration file content for a list report V2\n * @param {ImportListReportV2Parameters} importParameters  - object comprising all input data\n *\n * @returns {ListReportConfig} - the configuration (JSON) for the list report\n */\nexport function createListReportConfig(\n    importParameters: ImportListReportV2Parameters\n): v2.ListReportConfigV2 | undefined {\n    // Initialize i18next\n    initI18n();\n\n    if (!importParameters.manifest[ManifestSection.generic]) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOFE'),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.generic]\n            }\n        });\n        return;\n    }\n    const v2Pages = importParameters.manifest[ManifestSection.generic].pages as v2.SapUiAppPagesV2;\n    if (!v2Pages) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOPAGES', { appId: importParameters.manifest['sap.app']['id'] }),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.generic]\n            }\n        });\n        return;\n    }\n    const factory = new Factory();\n    //Instantiate Page\n    const config = factory.createPageInstance(PageType.ListReport);\n\n    const pageKeys: string[] = [];\n    const v2Page = findListReportPageV2(importParameters.manifest[ManifestSection.generic].pages, pageKeys);\n    if (!v2Page) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOLR'),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.generic]\n            }\n        });\n        return;\n    }\n    //Add manifest settings to config\n    addSettings(importParameters, config, factory, pageKeys[0]);\n\n    // Add flex changes to config\n    importParameters.flex.forEach((change) => {\n        if (parseChangeString(change)) {\n            addFlex(config, change, importParameters.jsonSchema, importParameters.logger);\n        }\n    });\n    addFragments(config, importParameters.manifest, v2Page, PageType.ListReport, importParameters.fragments);\n    removeEmptySettings(config);\n    return config;\n}\n", "import i18next from 'i18next';\nimport i18nEn from '@sap/ux-specification-types';\nimport { initI18n as initSyncI18n } from '../sync/i18n';\n\nexport function initI18n(language = 'en'): void {\n    // Initialize i18next of ide-extension\n    i18next.init({\n        resources: {\n            en: {\n                translation: i18nEn\n            }\n        },\n        lng: language,\n        fallbackLng: 'en',\n        joinArrays: '\\n\\n'\n    });\n\n    // Initialize i18next of core module\n    initSyncI18n(i18next);\n}\n", "import type { i18n } from 'i18next';\nimport * as i18nSyncEn from './common/i18n.json';\n\nexport function initI18n(i18nInstance: i18n): void {\n    i18nInstance.addResourceBundle(i18nInstance.language, 'translation', i18nSyncEn);\n}\n", "import { v2, ManifestSection, PageType, MANIFESTPATH, LogSeverity } from '@sap/ux-specification-types';\nimport { ensureManifestSectionByPathV2 } from '../export/manifest';\nimport { getPageTypeV2 } from '../../common';\nimport i18next from 'i18next';\nimport type { ExtensionLogger } from '../../..';\nimport { log } from '../../../extensionLogger';\n\n/**\n * Determines a V2 object page in the manifest, based on the given entity set\n * @param v2Pages - manifest['sap.ui.generic.app'].pages\n * @param entitySet - current entityset\n * @param pageKeys - list of page keys, to be filled\n * @returns v2Page - page as specified in the manifest\n */\nexport function findObjectPageV2(\n    v2Pages: v2.SapUiAppPagesV2,\n    entitySet: string,\n    pageKeys: string[]\n): v2.SapUiAppPageV2 | undefined {\n    for (const key in v2Pages) {\n        const v2Page = v2Pages[key];\n        if (getPageTypeV2(v2Page.component.name) === PageType.ObjectPage && v2Page.entitySet === entitySet) {\n            pageKeys.push(key);\n            return v2Page;\n        } else if (v2Page.pages) {\n            pageKeys.push(key);\n            return findObjectPageV2(v2Page.pages, entitySet, pageKeys);\n        }\n    }\n}\n\n/**\n * Determines a V2 list report page in the manifest\n * @param v2Pages - manifest['sap.ui.generic.app'].pages\n * @param pageKeys - list of page keys, to be filled\n * @returns v2Page - page as specified in the manifest\n */\nexport function findListReportPageV2(v2Pages: v2.SapUiAppPagesV2, pageKeys: string[]): v2.SapUiAppPageV2 | undefined {\n    for (const key in v2Pages) {\n        const v2Page = v2Pages[key];\n        pageKeys.push(key);\n        if (getPageTypeV2(v2Page.component.name) === PageType.ListReport) {\n            return v2Page;\n        }\n    }\n}\n\n/**\n * Determines a V2 analytical list page in the manifest\n * @param v2Pages - manifest['sap.ui.generic.app'].pages\n * @param pageKeys - list of page keys, to be filled\n * @returns v2Page - page as specified in the manifest\n */\nexport function findAnalyticalListPage(\n    v2Pages: v2.SapUiAppPagesV2,\n    pageKeys: string[],\n    logger?: ExtensionLogger\n): v2.SapUiAppPageV2 | undefined {\n    for (const key in v2Pages) {\n        const v2Page = v2Pages[key];\n        pageKeys.push(key);\n        if (getPageTypeV2(v2Page.component.name) === PageType.AnalyticalListPage) {\n            return v2Page;\n        }\n    }\n    //Not found ==> log\n    log(logger, {\n        severity: LogSeverity.Error,\n        message: i18next.t('NOALP'),\n        location: {\n            path: MANIFESTPATH,\n            range: [ManifestSection.generic]\n        }\n    });\n}\n\n/**\n * Method checks if passed extension key is associated to custom section with passed entity.\n * @param {string} extensionKey - Extension key.\n * @param {string} entity - Entity to check in extension.\n * @returns {boolean} Is extension key relates to custom section and associated to passed entity.\n */\nexport function isAssociatedCustomSection(extensionKey: string, entity: string): boolean {\n    const keyParts = extensionKey.split('|');\n    return v2.SectionPosition[keyParts[0]] && keyParts[1] === entity;\n}\n\n/**\n * Method which finds custom section extensions in manifest for passed entitySet\n * @param manifest - manifest.\n * @param entitySet - Entity set to lookup while searching custom section extensions.\n * @returns {object} Found object with custom sections\n */\nexport function findCustomSectionExtensions(manifest: object, entitySet: string): object {\n    const customSectionViews = ensureManifestSectionByPathV2(\n        manifest,\n        `sap.ui5/extends/extensions/${v2.SAPUI5_VIEW_EXTENSION}/${v2.SAPUI5_VIEW_EXTENSION_OBJECT_PAGE}`\n    );\n    const pageCustomSections = {};\n    for (const key in customSectionViews) {\n        if (isAssociatedCustomSection(key, entitySet)) {\n            pageCustomSections[key] = customSectionViews[key];\n        }\n    }\n    return pageCustomSections;\n}\n\n/**\n * Removes empty properties of Footer\n * @param {AnalyticalListPageConfig | ListReportConfig} config - the configuration to be checked\n */\nfunction removeEmptySettingsOfFooter(config: v2.AnalyticalListPageConfigV2 | v2.ListReportConfigV2) {\n    if (config.footer?.actions) {\n        for (const actionKey in config.footer.actions) {\n            if (Object.keys(config.footer.actions[actionKey]).length === 0) {\n                delete config.footer.actions[actionKey];\n            }\n        }\n        if (Object.keys(config.footer.actions).length === 0) {\n            delete config.footer.actions;\n        }\n        if (Object.keys(config.footer).length === 0) {\n            delete config.footer;\n        }\n    }\n}\n\n/**\n * Removes empty properties of FilterBar\n * @param {AnalyticalListPageConfig | ListReportConfig} config - the configuration to be checked\n */\nfunction removeEmptySettingsOfFilterBar(config: v2.AnalyticalListPageConfigV2 | v2.ListReportConfigV2) {\n    if (config.filterBar?.selectionFields) {\n        for (const fieldKey in config.filterBar.selectionFields) {\n            if (Object.keys(config.filterBar.selectionFields[fieldKey]).length === 0) {\n                delete config.filterBar.selectionFields[fieldKey];\n            }\n        }\n        if (Object.keys(config.filterBar?.selectionFields)?.length === 0) {\n            delete config.filterBar.selectionFields;\n        }\n    }\n}\n\n/**\n * Removes empty properties of ToolBar\n * @param {AnalyticalListPageConfig | ListReportConfig} config - the configuration to be checked\n */\nfunction removeEmptySettingsOfToolBar(config: v2.AnalyticalListPageConfigV2 | v2.ListReportConfigV2) {\n    if (config.table?.toolBar) {\n        for (const actionKey in config.table.toolBar.actions) {\n            if (Object.keys(config.table.toolBar.actions[actionKey]).length === 0) {\n                delete config.table.toolBar.actions[actionKey];\n            }\n        }\n        if (Object.keys(config.table.toolBar.actions).length === 0) {\n            delete config.table.toolBar.actions;\n        }\n        if (Object.keys(config.table.toolBar).length === 0) {\n            delete config.table.toolBar;\n        }\n    }\n}\n\n/**\n * Removes empty properties in the config.json of Analytical List Page V2 | ListReport Page V2\n * @param {AnalyticalListPageConfig | ListReportConfig} config - the configuration to be checked\n */\nexport function removeEmptySettings(config: v2.AnalyticalListPageConfigV2 | v2.ListReportConfigV2): void {\n    // Check ToolBar\n    removeEmptySettingsOfToolBar(config);\n    // Check FilterBar\n    removeEmptySettingsOfFilterBar(config);\n    // Check Footer\n    removeEmptySettingsOfFooter(config);\n}\n", "export * from './AnalyticalListPage';\nexport * from './ListReport';\nexport * from './ObjectPage';\nexport * from './OverviewPage';\n", "import { ControlType, v2 } from '@sap/ux-specification-types';\nimport type { AnalyticalTable } from '../controls/Table';\nimport { pageLayoutInformation, childId, syncRule } from '../../../common/decoration/decorators';\nimport { buildControlIdForPage, exportToFlexChange } from '../../../common/decoration';\n\n@pageLayoutInformation({\n    id: 'sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage',\n    pageId: v2.FE_TEMPLATE_V2_ALP\n})\nexport class AnalyticalListPage implements v2.AnalyticalListPageConfigV2 {\n    @syncRule({\n        flex: {\n            controlId: buildControlIdForPage,\n            controlType: (): ControlType => ControlType.DynamicPage,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    fitContent?: boolean;\n\n    @childId('table')\n    table?: AnalyticalTable;\n\n    @childId('template::SmartFilterBar')\n    filterBar?: v2.AnalyticalListPageFilterBar;\n\n    @childId('analyticalListPageChart')\n    chart?: v2.ChartSettings;\n\n    @childId('analyticalListFooter')\n    footer?: v2.GenericFooter;\n\n    keyPerformanceIndicators: {\n        [k: string]: v2.KPISettings;\n    };\n}\n", "import { ControlType, v2 } from '@sap/ux-specification-types';\nimport type { ResponsiveTable, TreeTable, AnalyticalTable, GridTable } from '../controls/Table';\nimport { pageLayoutInformation, childId, syncRule } from '../../../common/decoration/decorators';\nimport { buildControlIdForPage, exportToFlexChange } from '../../../common/decoration';\n\ntype TableClassType = ResponsiveTable | TreeTable | AnalyticalTable | GridTable;\n\n@pageLayoutInformation({\n    id: v2.SAPUI5_VIEW_EXTENSION_LIST_REPORT,\n    pageId: v2.FE_TEMPLATE_V2_LIST_REPORT\n})\nexport class ListReport implements v2.ListReportConfigV2 {\n    @syncRule({\n        flex: {\n            controlId: buildControlIdForPage,\n            controlType: (): ControlType => ControlType.DynamicPage,\n            createFlexChange: exportToFlexChange\n        }\n    })\n    fitContent?: boolean;\n\n    @childId('listReportFilter')\n    filterBar?: v2.ListReportFilterBar;\n\n    @childId('listReport')\n    table?: TableClassType;\n\n    @childId('listReportFooter')\n    footer?: v2.GenericFooter;\n}\n", "/**\n * The module is mapped to specification/v2/pages/ObjectPageConfig.ts\n * This comment is maintained as this module is named as ObjectPage.ts and the corresponding module is named as ObjectPageConfig.ts\n */\n\nimport { v2 } from '@sap/ux-specification-types';\nimport { pageLayoutInformation, childId, syncRule, validity } from '../../../common/decoration/decorators';\nimport { getAppSettingOBJPathV2, getAppRootSettingOBJPath } from '../../application';\nimport type { FlexibleColumnLayoutType } from '@sap/ux-specification-types';\n\n@pageLayoutInformation({\n    id: v2.SAPUI5_VIEW_EXTENSION_OBJECT_PAGE,\n    pageId: v2.FE_TEMPLATE_V2_OBJECT_PAGE\n})\nexport class ObjectPage implements v2.ObjectPageConfigV2 {\n    @syncRule({\n        manifest: {\n            path: (pageKeys: string[]): string => getAppSettingOBJPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    showConfirmationOnDraftActivate?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys: string[]): string => getAppSettingOBJPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.52.1'\n    })\n    hideChevronForUnauthorizedExtNav?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys: string[]): string => getAppSettingOBJPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.48.0'\n    })\n    allowDeepLinking?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys: string[]): string => getAppSettingOBJPathV2(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.52.0'\n    })\n    navToListOnSave?: boolean;\n\n    @childId('header')\n    header?: v2.ObjectPageHeader;\n\n    @childId('sections')\n    sections?: v2.CustomSections | v2.GenericSections;\n\n    @childId('layout')\n    layout?: v2.ObjectPageLayout;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys: string[]): string => getAppRootSettingOBJPath(pageKeys)\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    defaultLayoutTypeIfExternalNavigation?: FlexibleColumnLayoutType.MidColumnFullScreen;\n\n    @syncRule({\n        manifest: {\n            path: (pageKeys: string[]): string => getAppSettingOBJPathV2(pageKeys),\n            import: (value: object): object | undefined => {\n                if ('chartSettings' in value) {\n                    return value['chartSettings'];\n                }\n            },\n            key: 'chartSettings'\n        }\n    })\n    @validity({\n        since: '1.78.0'\n    })\n    globalChartSettings?: v2.GlobalChartSettings;\n}\n", "import type { v2 } from '@sap/ux-specification-types';\nimport { pageLayoutInformation, syncRule, validity } from '../../../common/decoration/decorators';\nimport { getOVPsettingPath, getGlobalSettingsPath } from '../../application';\nimport type { ListCard, AnalyticalCard, StackCard, LinklistCard, TableCard, CustomCard } from '../controls/Card';\n\nfunction importDateSettingsFieldsOVP(manifestSection: object, configPart) {\n    for (const propertyKey in manifestSection['dateSettings']['fields']) {\n        configPart.fields[propertyKey] = manifestSection['dateSettings']['fields'][propertyKey];\n        const selectedValues = manifestSection['dateSettings']['fields'][propertyKey].selectedValues;\n        if (typeof selectedValues === 'string') {\n            configPart.fields[propertyKey].selectedValues = selectedValues.split(',') as v2.DateRangeType[];\n        }\n        for (const filterKey in manifestSection['dateSettings']['fields'][propertyKey].filter) {\n            const filterValue = manifestSection['dateSettings']['fields'][propertyKey].filter[filterKey];\n            configPart.fields[propertyKey].filter[filterKey] = filterValue;\n            if (filterValue.equals && typeof filterValue.equals === 'string') {\n                configPart.fields[propertyKey].filter[filterKey].equals = filterValue.equals.split(\n                    ','\n                ) as v2.DateRangeType[];\n            }\n        }\n    }\n}\n\nexport function importDateSettingsOVP(manifestSection: object): v2.DateRange {\n    if (!manifestSection || !manifestSection['dateSettings']) {\n        return undefined;\n    }\n    const configPart: v2.DateRange = JSON.parse(JSON.stringify(manifestSection['dateSettings']));\n    // converted CSV format to array of strings\n    if (typeof manifestSection['dateSettings']['selectedValues'] === 'string') {\n        configPart.selectedValues = manifestSection['dateSettings']['selectedValues'].split(',') as v2.DateRangeType[];\n    }\n    if (manifestSection['dateSettings']['fields']) {\n        importDateSettingsFieldsOVP(manifestSection, configPart);\n    }\n    return configPart;\n}\n\nexport function importFilterSettings(manifestSection: object): object {\n    const configPart = {};\n    configPart['dateSettings'] = importDateSettingsOVP(manifestSection['filterSettings']);\n    return configPart;\n}\n\nfunction exportFilterFields(configPart: v2.FilterSettingsType, key: string, manifestSection: unknown) {\n    for (const fieldName in configPart['filterSettings'][key]['fields']) {\n        const field = configPart['filterSettings'][key]['fields'][fieldName];\n        if (field.selectedValues) {\n            manifestSection['filterSettings'][key]['fields'][fieldName].selectedValues = field.selectedValues.join();\n        }\n        if (field.filter) {\n            for (const filterKey in field.filter) {\n                const filterValue = field.filter[filterKey];\n                if (filterValue.equals && Array.isArray(filterValue.equals)) {\n                    manifestSection['filterSettings'][key]['fields'][fieldName].filter[filterKey].equals =\n                        filterValue.equals.join();\n                }\n            }\n        }\n    }\n}\n\nexport function exportFilterSettings(manifestSection: object, configPart: v2.FilterSettingsType): void {\n    if (!manifestSection['filterSettings']) {\n        manifestSection['filterSettings'] = {};\n    }\n    const key = 'dateSettings';\n    if (configPart['filterSettings'][key] === undefined) {\n        delete manifestSection['filterSettings'][key];\n    } else {\n        manifestSection['filterSettings'][key] = JSON.parse(JSON.stringify(configPart['filterSettings'][key]));\n        //now convert enum array to joined string\n        if (configPart['filterSettings'][key]['selectedValues']) {\n            manifestSection['filterSettings'][key]['selectedValues'] =\n                configPart['filterSettings'][key]['selectedValues'].join();\n        }\n        if (configPart['filterSettings'][key]['fields']) {\n            exportFilterFields(configPart, key, manifestSection);\n        }\n    }\n}\n\ntype CardClassType = ListCard | AnalyticalCard | StackCard | LinklistCard | TableCard | CustomCard;\n\n@pageLayoutInformation({\n    id: 'sap.suite.ui.generic.template.OverviewPage.view.Details',\n    pageId: 'sap.suite.ui.generic.template.OverviewPage'\n})\nexport class OverviewPage implements v2.OverviewPageConfigV2 {\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    globalFilterModel?: string;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    globalFilterEntityType?: string;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    globalFilterEntitySet?: string;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    containerLayout?: v2.ContainerLayoutType;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    smartVariantRequired?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    showDateInRelativeFormat?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    enableLiveFilter?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    imageSupported?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    considerAnalyticalParameters?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    refreshIntervalInMinutes?: number;\n\n    @syncRule({\n        manifest: { path: (): string => getOVPsettingPath() }\n    })\n    useDateRangeType?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (cardKeys): string => getGlobalSettingsPath(cardKeys)\n        }\n    })\n    @validity({\n        since: '1.80.0'\n    })\n    chartSettings?: v2.ChartSettingsType;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath(),\n            import: importFilterSettings,\n            export: exportFilterSettings\n        }\n    })\n    @validity({\n        since: '1.80.0'\n    })\n    filterSettings?: v2.FilterSettingsType;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    showBasicSearch?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    disableErrorPage?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (): string => getOVPsettingPath()\n        }\n    })\n    bHeaderExpanded?: boolean;\n\n    cards: {\n        [k: string]: CardClassType;\n    };\n}\n", "import type { PageType, PageTypeV4 } from '@sap/ux-specification-types';\nimport type { V2Controls, V2Pages } from '../../v2/types';\nimport type { V4Controls, V4Pages } from '../../v4/types';\n\n/**\n * Common interface that is used for all instantiations of (reflect) metadata classes\n */\nexport interface MetadataInstanceInterface {\n    createInstance(\n        pageType: PageType | PageTypeV4,\n        schemaPropertyName: string,\n        data?: object,\n        controlPropertyValue?: string\n    ): any;\n    createPageInstance(pageType: PageType | PageTypeV4, data?: object): object;\n}\n\nexport abstract class MetadataFactory implements MetadataInstanceInterface {\n    private readonly controls: V2Controls | V4Controls;\n    private readonly pages: V2Pages | V4Pages;\n    private readonly pageTypes: object;\n\n    /**\n     * Sub-classes for V2 and V4 have to pass their specific (reflect) metadata classes:\n     * @param controls - list of imported metadata classes for controls\n     * @param pages - list of imported metadata classes for pages\n     * @param pageTypes - list of supported pages, entry point to further definitions\n     */\n    protected constructor(controls: V2Controls | V4Controls, pages: V2Pages | V4Pages, pageTypes: object) {\n        this.controls = controls;\n        this.pages = pages;\n        this.pageTypes = pageTypes;\n    }\n\n    /**\n     * Creates an instance of a metadata class for a given (complex) property of a JSON schema\n     * @param {PageType} pageType - page type of a Fiori Element\n     * @param schemaPropertyName - name of the complex property in the JSON schema of the page.\n     *                             Used as fallback if no metadataclass can be found by evaluating controlPropertyValue.\n     * @param data - data object from which the values shall be taken over, representing a part of the config\n     * @param controlPropertyValue - value of a controling property that categorizes the complex property, e.g. table type or card template\n     * @returns a class instance comprising the reflect metadata for import or export.\n     *          If no metadata class could be identified, assumption is that no dedicated handler class exists; thus the original data object is returned as is.\n     */\n    createInstance(\n        pageType: PageType | PageTypeV4,\n        schemaPropertyName: string,\n        data?: object,\n        controlPropertyValue?: string\n    ): any {\n        let metadataClass = this.controls[controlPropertyValue]\n            ? this.controls[controlPropertyValue]\n            : this.controls[schemaPropertyName];\n        if (!metadataClass) {\n            metadataClass = this.pageTypes[pageType][controlPropertyValue]\n                ? this.pageTypes[pageType][controlPropertyValue]\n                : this.pageTypes[pageType][schemaPropertyName];\n        }\n        return metadataClass ? Object.assign(new metadataClass(), data) : data;\n    }\n    /**\n     * Creates an instance of a metadata class for a given page\n     * @param {PageType} pageType - page type of a Fiori Element\n     * @param data - data to be taken over (from the config)\n     * @returns a class instance comprising the reflect metadata for import or export\n     */\n    createPageInstance(pageType: PageType | PageTypeV4, data?: object): object {\n        const metadataClass = this.pages[pageType];\n        return Object.assign(new metadataClass(), data);\n    }\n}\n", "import * as controls from './controls';\nimport * as pages from './pages';\nimport type { MetadataInstanceInterface } from '../../common/decoration/factory';\nimport { MetadataFactory } from '../../common/decoration/factory';\nimport { v2, PageType, SAPUI5_FRAGMENT_CLASS, SAPUI5_VIEW_CLASS } from '@sap/ux-specification-types';\n\n/**\n * Note: If the key of the elements corresponds to the name of the definition in schema, you do not have to list it explicitly here.\n * The following tables only comprise entries for elements that do not follow the official pattern (yet)\n */\nconst ALPElements = {\n    //no deviations\n};\n\nconst LRElements = {\n    Table: controls.ResponsiveTable,\n    ResponsiveTableWithMultiSelect: controls.ResponsiveTable,\n    ResponsiveTableWithInlineDelete: controls.ResponsiveTable\n};\n\nconst OVPElements = {\n    [v2.CardSettingsType.listCardSettings]: controls.ListCard,\n    [v2.CardSettingsType.listCardSettingsv4]: controls.ListCard,\n    [v2.CardSettingsType.analyticalCardSettings]: controls.AnalyticalCard,\n    [v2.CardSettingsType.analyticalCardSettingsv4]: controls.AnalyticalCard,\n    [v2.CardSettingsType.stackCardSettings]: controls.StackCard,\n    [v2.CardSettingsType.linkListCardSettings]: controls.LinklistCard,\n    [v2.CardSettingsType.tableCardSettings]: controls.TableCard,\n    [v2.CardSettingsType.tableCardSettingsv4]: controls.TableCard\n};\n\nconst OPElements = {\n    [SAPUI5_VIEW_CLASS]: controls.ObjectPageCustomSectionView,\n    [SAPUI5_FRAGMENT_CLASS]: controls.ObjectPageCustomSectionFragment,\n    Table: controls.ObjectPageResponsiveTable, //default\n    ObjectPageResponsiveTableWithMultiSelect: controls.ObjectPageResponsiveTable,\n    ObjectPageResponsiveTableWithInlineDelete: controls.ObjectPageResponsiveTable\n};\n\nconst pageTypes = {\n    [PageType.AnalyticalListPage]: ALPElements,\n    [PageType.ListReport]: LRElements,\n    [PageType.ObjectPage]: OPElements,\n    [PageType.OverviewPage]: OVPElements\n};\n\n/**\n * V2 specific factory class for creating instances of (reflect) metadata classes\n */\nexport class MetadataInstanceFactoryV2 extends MetadataFactory implements MetadataInstanceInterface {\n    constructor() {\n        super(controls, pages, pageTypes);\n    }\n}\n", "import { transferSettingsOfObject, addFlex, determineTableType, addFragments, convertActionKey } from '../common/index';\nimport type { v2, ImportALPV2Parameters } from '@sap/ux-specification-types';\nimport { DefinitionName, MANIFESTPATH, ManifestSection, PageType, LogSeverity } from '@sap/ux-specification-types';\nimport { log } from '../../../../extensionLogger';\nimport { initI18n } from '../../../../i18n/i18n';\nimport i18next from 'i18next';\nimport { parseChangeString } from '../../../common';\nimport { findAnalyticalListPage, removeEmptySettings } from '../../import/utils';\nimport { MetadataInstanceFactoryV2 as Factory } from '../../export/factory';\nimport type { MetadataInstanceInterface } from '../../../common/decoration/factory';\nimport type { Definition } from 'typescript-json-schema';\n\n/**\n * Adds manifest settings to the config.json\n * @param {AnalyticalListPageConfig} analyticalListPageConfig - the configuration to be filled\n * @param {Manifest} manifest - manifest.json of the app\n * @param {object} jsonSchema - the app-specific schema\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param {string} pageKey - key of the page in manifest\n * @param {ExtensionLogger} logger - instance for logging exceptions\n */\nfunction addSettings(\n    importParameters: ImportALPV2Parameters,\n    analyticalListPageConfig: v2.AnalyticalListPageConfigV2,\n    factory: MetadataInstanceInterface,\n    pageKey: string\n): void {\n    const tableType = determineTableType(importParameters.manifest, pageKey);\n    const schemaDefinitions = (importParameters.jsonSchema as Definition).definitions as Definition;\n\n    analyticalListPageConfig.table = factory.createInstance(\n        PageType.AnalyticalListPage,\n        `ALP${tableType}`,\n        analyticalListPageConfig.table\n    );\n    transferSettingsOfObject(\n        analyticalListPageConfig.table,\n        importParameters.manifest,\n        schemaDefinitions[`ALP${tableType}<LineItems>`],\n        pageKey,\n        importParameters.logger\n    );\n    // ToolBar:\n    analyticalListPageConfig.table.toolBar = factory.createInstance(\n        PageType.AnalyticalListPage,\n        DefinitionName.ToolBar,\n        {\n            actions: {}\n        }\n    );\n    transferSettingsOfObject(\n        analyticalListPageConfig.table.toolBar,\n        importParameters.manifest,\n        schemaDefinitions[DefinitionName.ToolBar],\n        pageKey,\n        importParameters.logger\n    );\n    if (schemaDefinitions[DefinitionName.ActionsLR]) {\n        for (const actionProperty in schemaDefinitions[DefinitionName.ActionsLR].properties) {\n            const actionKey = convertActionKey(actionProperty);\n            analyticalListPageConfig.table.toolBar.actions[actionKey] = factory.createInstance(\n                PageType.AnalyticalListPage,\n                DefinitionName.Action\n            );\n            transferSettingsOfObject(\n                analyticalListPageConfig.table.toolBar.actions[actionKey],\n                importParameters.manifest,\n                schemaDefinitions[DefinitionName.Action],\n                pageKey,\n                importParameters.logger\n            );\n        }\n    }\n    //FilterBar:\n    analyticalListPageConfig.filterBar = factory.createInstance(\n        PageType.AnalyticalListPage,\n        DefinitionName.AnalyticalListPageFilterBar,\n        analyticalListPageConfig.filterBar\n    );\n    transferSettingsOfObject(\n        analyticalListPageConfig.filterBar,\n        importParameters.manifest,\n        schemaDefinitions[DefinitionName.AnalyticalListPageFilterBar],\n        pageKey,\n        importParameters.logger\n    );\n    if (schemaDefinitions[DefinitionName.SelectionFields]) {\n        analyticalListPageConfig.filterBar.selectionFields = factory.createInstance(\n            PageType.AnalyticalListPage,\n            DefinitionName.AnalyticalListPageFilterBar,\n            analyticalListPageConfig.filterBar.selectionFields\n        );\n        const schemaSelectionFields = schemaDefinitions[DefinitionName.SelectionFields].properties;\n        for (const selectionProperty in schemaSelectionFields) {\n            const selectionKey = selectionProperty;\n            analyticalListPageConfig.filterBar.selectionFields[selectionKey] = factory.createInstance(\n                PageType.AnalyticalListPage,\n                'SelectionFieldDateSettings'\n            );\n            transferSettingsOfObject(\n                analyticalListPageConfig.filterBar.selectionFields[selectionKey],\n                importParameters.manifest,\n                schemaDefinitions['SelectionFieldDateSettings'],\n                pageKey,\n                importParameters.logger,\n                selectionKey\n            );\n        }\n    }\n\n    //Chart settings:\n    analyticalListPageConfig.chart = factory.createInstance(\n        PageType.AnalyticalListPage,\n        'ChartSettings',\n        analyticalListPageConfig.chart\n    );\n    transferSettingsOfObject(\n        analyticalListPageConfig.chart,\n        importParameters.manifest,\n        schemaDefinitions['ChartSettings'],\n        pageKey,\n        importParameters.logger\n    );\n    //Footer:\n    analyticalListPageConfig.footer = { actions: {} };\n    const footerAction = schemaDefinitions[DefinitionName.FooterActionsLR];\n    if (footerAction) {\n        for (const actionProperty in footerAction.properties) {\n            const actionKey = convertActionKey(actionProperty);\n            analyticalListPageConfig.footer.actions[actionKey] = factory.createInstance(\n                PageType.AnalyticalListPage,\n                DefinitionName.FooterAction\n            );\n            transferSettingsOfObject(\n                analyticalListPageConfig.footer.actions[actionKey],\n                importParameters.manifest,\n                schemaDefinitions[DefinitionName.Action],\n                pageKey,\n                importParameters.logger\n            );\n        }\n    }\n\n    //KPI's:\n    analyticalListPageConfig.keyPerformanceIndicators = {};\n    const kpiCards =\n        importParameters.manifest[ManifestSection.generic]['pages'][pageKey].component.settings\n            .keyPerformanceIndicators;\n    if (kpiCards) {\n        Object.keys(kpiCards).forEach((kpiKey) => {\n            analyticalListPageConfig.keyPerformanceIndicators[kpiKey] = factory.createInstance(\n                PageType.AnalyticalListPage,\n                'KPISettings'\n            );\n            analyticalListPageConfig.keyPerformanceIndicators = factory.createInstance(\n                PageType.AnalyticalListPage,\n                'KPISettings',\n                analyticalListPageConfig.keyPerformanceIndicators\n            );\n            transferSettingsOfObject(\n                analyticalListPageConfig.keyPerformanceIndicators[kpiKey],\n                importParameters.manifest,\n                schemaDefinitions['KPISettings'],\n                pageKey,\n                importParameters.logger,\n                kpiKey\n            );\n        });\n    }\n}\n\n/**\n * Creates the configuration file content for an analytical list page V2\n * @param {ImportALPV2Parameters} importParameters  - object comprising all input data\n *\n * @returns {AnalyticalListPageConfig} - the configuration (JSON)\n */\nexport function createAnalyticalListPageConfig(\n    importParameters: ImportALPV2Parameters\n): v2.AnalyticalListPageConfigV2 | undefined {\n    // Initialize i18next\n    initI18n();\n\n    if (!importParameters.manifest[ManifestSection.generic]) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOFE'),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.generic]\n            }\n        });\n        return;\n    }\n    const v2Pages = importParameters.manifest[ManifestSection.generic].pages as v2.SapUiAppPagesV2;\n    if (!v2Pages) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOPAGES', { appId: importParameters.manifest['sap.app']['id'] }),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.generic]\n            }\n        });\n        return;\n    }\n    const factory = new Factory();\n    //Instantiate Page\n    const config = factory.createPageInstance(PageType.AnalyticalListPage);\n\n    const pageKeys: string[] = [];\n    const v2Page = findAnalyticalListPage(\n        importParameters.manifest[ManifestSection.generic].pages,\n        pageKeys,\n        importParameters.logger\n    );\n    if (!v2Page) {\n        return;\n    }\n    addSettings(importParameters, config, factory, pageKeys[0]);\n    importParameters.flex.forEach((change) => {\n        if (parseChangeString(change)) {\n            addFlex(config, change, importParameters.jsonSchema);\n        }\n    });\n    addFragments(config, importParameters.manifest, v2Page, PageType.AnalyticalListPage, importParameters.fragments);\n    removeEmptySettings(config);\n    return config;\n}\n", "import type {\n    SapUiGenericAppPageSettings as Settings,\n    ChangeDefinition,\n    DeprecatedProperties,\n    ExtensionLogger,\n    ImportObjectPageV2Parameters,\n    ObjectPageSectionData,\n    SyncRule\n} from '@sap/ux-specification-types';\nimport {\n    ControlType,\n    LogSeverity,\n    v2,\n    ManifestSection,\n    ActionTitlePrefix,\n    PageType,\n    DefinitionName,\n    MANIFESTPATH,\n    PropertyName,\n    SchemaTag,\n    UIVOCABULARYALPHADOT,\n    VOCWITHSLASH\n} from '@sap/ux-specification-types';\nimport type { FlexChangesForTransfer, FlexForTransfer } from '../controls/table';\nimport { addFlexForTable } from '../controls/table';\nimport { log } from '../../../../extensionLogger';\nimport { findObjectPageV2, findCustomSectionExtensions } from '../utils';\nimport type {} from '../../../common';\nimport {\n    DEFINITION_LINK_PREFIX,\n    convertActionKeyToStableId,\n    getTargetFromCustomColumnRef,\n    getReflectMetadata,\n    getSectionTitle,\n    getTextForDeprecated,\n    parseChangeString\n} from '../../../common';\nimport { ensureManifestSectionByPathV2 } from '../../export/manifest';\nimport i18next from 'i18next';\nimport { initI18n } from '../../../../i18n/i18n';\nimport { MetadataInstanceFactoryV2 as Factory } from '../../export/factory';\nimport type { ObjectPageV2ConfigParameters, SectionPartProperties } from '../../types';\nimport { ActionTypeV2, SectionTypeV2 } from '../../types';\nimport { UIAnnotationTerms } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport { convertSelector, addFragments, convertActionKey } from '../common';\nimport type { Definition } from 'typescript-json-schema';\n\n// Comprises list of flexChanges that do not require a facet id\nconst SupportedFlexChangesWithoutFacetId = [ControlType.Avatar, ControlType.ObjectPageLayout, ControlType.DynamicPage];\n\n/**\n * Determines Facet ID from single string selector Id\n * @param {string} selectorId Selector ID\n * @returns {string} FacetID\n */\nfunction getSingleSelectorIdPart(selectorIdParts: string[], facetID: string) {\n    const lastIdParts = selectorIdParts[0].split('-');\n    const id = lastIdParts[lastIdParts.length - 1];\n    if (selectorIdParts[0].indexOf('::action::') >= 0 || selectorIdParts[0].startsWith('action::')) {\n        // Object Page ToolBar Actions\n        facetID =\n            lastIdParts[0].split('::action::')[0] ||\n            lastIdParts[0].split(`${UIAnnotationTerms.LineItem}::`)[1].split('::')[0];\n        facetID = `${ActionTitlePrefix}${facetID}`;\n    } else if (\n        selectorIdParts[0].indexOf(UIAnnotationTerms.LineItem) >= 0 ||\n        selectorIdParts[0].indexOf('UI.LineItem') >= 0 ||\n        selectorIdParts[0].indexOf('::Table') >= 0\n    ) {\n        facetID = lastIdParts[0].split('::Table')[0].split('::responsiveTable')[0];\n    } else {\n        const idParts = id.split('::');\n        if (idParts.length > 1) {\n            facetID = idParts[0];\n        } else if (lastIdParts[0].indexOf('::') > -1) {\n            facetID = lastIdParts[0].split('::')[0];\n        }\n    }\n    return facetID;\n}\n\n/**\n * Determines Facet ID of flex change\n * @param {string} selectorId Control ID of flex change\n * @returns {string} FacetID\n */\nfunction getFacetID(selectorId: string): string {\n    let facetID: string;\n    const selectorIdParts: string[] = selectorId.split(':::');\n    if (selectorIdParts.length === 1) {\n        facetID = getSingleSelectorIdPart(selectorIdParts, facetID);\n    } else if (selectorId.indexOf('sSmartTableId') >= 0) {\n        for (const element of selectorIdParts) {\n            if (element.startsWith('sSmartTableId')) {\n                facetID = element\n                    .split('sSmartTableId::')[1]\n                    .split('::Table')[0]\n                    .split('/responsiveTable')[0]\n                    .replace(`::${UIAnnotationTerms.LineItem}`, `/@${UIAnnotationTerms.LineItem}`);\n                break;\n            }\n        }\n    } else {\n        facetID = selectorIdParts[0];\n    }\n    return facetID;\n}\n\n/**\n * Prepares the list of flex changes\n * @param change - the flex change (UI Adaptation)\n * @returns {FlexChangesForTransfer} - list of prepared flex changes\n */\nfunction prepareFlexChanges(changes: string[], entitySet: string, logger?: ExtensionLogger): FlexChangesForTransfer {\n    const result: FlexChangesForTransfer = {};\n    const complexIdMatch = /.+DataField.+:::sSmartTableId::.+/;\n    changes.forEach((changeString) => {\n        try {\n            const change = parseChangeString(changeString) as ChangeDefinition;\n            if (\n                change &&\n                change.controlId?.includes(v2.FE_TEMPLATE_V2_OBJECT_PAGE) &&\n                change.controlId?.includes(entitySet)\n            ) {\n                let selectorId = change.controlId.split('--')[1].replace(/:3a:3a/g, '::');\n                if (complexIdMatch.exec(selectorId) !== null) {\n                    selectorId = selectorId.split('template:::TableColumn:::')[1];\n                }\n                const facetID: string = getFacetID(selectorId);\n                selectorId = convertSelector(selectorId)\n                    .replace(/:3a:3a/g, '::')\n                    .replace(/\\/@com.sap.vocabularies/g, '::com.sap.vocabularies');\n                result[`${selectorId}::${change.content.property}`] = {\n                    controlId: selectorId,\n                    propertyId: change.content.property,\n                    facetId: facetID,\n                    newValue:\n                        change.content.newBinding !== undefined ? change.content.newBinding : change.content.newValue,\n                    controlType: change.controlType,\n                    creation: change.creation\n                };\n            }\n        } catch (error) {\n            log(\n                logger,\n                {\n                    severity: LogSeverity.Error,\n                    message: i18next.t('FLEXERROR')\n                },\n                ...error\n            );\n        }\n    });\n    const sortedList = Object.entries(result).sort(\n        (a: [string, any], b: [string, any]) => a[1].creation - b[1].creation\n    );\n    return sortedList.reduce((accum, [k, v]) => {\n        accum[k] = v;\n        return accum;\n    }, {});\n}\n\n/**\n * Returns the type of a given section\n * @param schemaSection - current section\n * @returns {SectionTypeV2} - type of section, differentiated by level (Sub/Section)\n */\nconst getSectionType = (schemaSection: object): SectionTypeV2 => {\n    let reference;\n    if (schemaSection['$ref']) {\n        reference = schemaSection['$ref'].includes('<') ? schemaSection['$ref'].split('<')[0] : schemaSection['$ref'];\n        return reference.replace(DEFINITION_LINK_PREFIX, '');\n    } else if (schemaSection['properties']?.['subsections']?.['$ref']) {\n        reference = schemaSection['properties']['subsections']['$ref'];\n        reference = reference.includes('<') ? reference.split('<')[0] : reference;\n        return reference.replace(DEFINITION_LINK_PREFIX, '');\n    } else if (schemaSection['properties']?.['subsections']) {\n        return SectionTypeV2.SubSection;\n    }\n};\n\n/**\n * Import of flex changes of a table to the config JSON of OP\n * @param flexChanges - list of flex changes (pre-processed by prepareFlexChanges)\n * @param propertyKey - key of the current property in the app schema\n * @param configPart - part of the configuration to be filled\n * @param {ImportObjectPageV2Parameters} importParameters  - object comprising all input data\n * @param sectionTitle - title of the section (optional)\n * @param sectionId - ID of the given section (optional)\n */\nfunction importFlexChangesOfTable(\n    flexChanges: FlexChangesForTransfer,\n    propertyKey: string,\n    configPart: { [key: string]: any },\n    importParameters: ImportObjectPageV2Parameters,\n    sectionTitle: string,\n    sectionId: string\n) {\n    let facetIds;\n    if (sectionTitle) {\n        facetIds = [sectionTitle.replace(/@/g, '')];\n    } else {\n        facetIds = [sectionId.replace(/@/g, ''), sectionId?.replace(/::@com.sap.vocabularies/g, VOCWITHSLASH)];\n    }\n\n    for (const selector in flexChanges) {\n        const flexChange = flexChanges[selector];\n        const propertyIdMatch = flexChange.propertyId === propertyKey;\n        const isTableColumn = propertyKey === 'columns' && flexChange.controlType === ControlType.TableColumn;\n        if ((propertyIdMatch || isTableColumn) && facetIds.indexOf(flexChange?.facetId) > -1) {\n            addFlexForTable(configPart, flexChange, importParameters.jsonSchema);\n        }\n    }\n}\n\n/**\n * RegEx check of the control Id and/or the section Id against the selector of a flex change\n * @param schemaDefinition - current section of the app specific schema\n * @param flexChange - flex change\n * @param controlIdChecker - RegEx for the controlId\n * @param selectionIdChecker - RegEx for the selectionId\n * @param sectionId - title of the section (optional)\n * @param controlId - ID of the given control, for e.g. GroupElement, Action (optional)\n * @returns the result of all checks\n */\nfunction matchSelector(\n    schemaDefinition: Definition,\n    flexChange: FlexForTransfer,\n    controlIdChecker: RegExp,\n    selectionIdChecker: RegExp,\n    sectionId?: string,\n    controlId?: string\n): boolean {\n    let idMatch = false,\n        controlIdMatch = false;\n    const idElementChecker = (arr, target) => target.every((v) => arr.includes(v));\n\n    if (controlId) {\n        idMatch = controlIdMatch = controlIdChecker.test(flexChange.controlId);\n        if (sectionId) {\n            idMatch = controlIdMatch && selectionIdChecker.test(flexChange.controlId);\n        }\n    } else if (sectionId) {\n        idMatch = selectionIdChecker.test(flexChange.controlId);\n    }\n    const controlIdParts = flexChange.controlId.split('::');\n\n    return (\n        (flexChange.controlType === ControlType.GroupElement && controlIdMatch) ||\n        (flexChange.facetId?.includes(ActionTitlePrefix) && !sectionId && idMatch) ||\n        (sectionId && idElementChecker(controlIdParts, sectionId.split('::')) && idMatch) ||\n        (schemaDefinition.title && idElementChecker(controlIdParts, schemaDefinition.title.split('::'))) ||\n        (!flexChange.facetId && SupportedFlexChangesWithoutFacetId.includes(flexChange.controlType as ControlType))\n    );\n}\n\n/**\n * Import of (regular) flex changes to the config JSON of OP\n * @param schemaDefinition - current section of the app specific schema\n * @param configPart - part of the configuration to be filled\n * @param flexChanges - list of flex changes (pre-processed by prepareFlexChanges)\n * @param propertyKey - key of the current property in the app schema\n * @param sectionId - title of the section (optional)\n * @param elementId - stable ID part of the given element, for e.g. GroupElement, Action (optional)\n */\nfunction importFlexChanges(\n    schemaDefinition: Definition,\n    configPart: { [key: string]: any },\n    flexChanges: FlexChangesForTransfer,\n    propertyKey: string,\n    sectionId?: string,\n    elementId?: string\n) {\n    const controlIdChecker = new RegExp(`.*${elementId}`);\n    const selectionIdChecker = new RegExp(`.*${sectionId}`);\n\n    for (const selector in flexChanges) {\n        const flexChange = flexChanges[selector];\n        //Property match?\n        if (flexChange.propertyId !== propertyKey) {\n            continue;\n        }\n        //Control type match?\n        if (flexChange.controlType !== schemaDefinition.properties[flexChange.propertyId]?.[SchemaTag.controlType]) {\n            continue;\n        }\n        const match = matchSelector(\n            schemaDefinition,\n            flexChange,\n            controlIdChecker,\n            selectionIdChecker,\n            sectionId,\n            elementId\n        );\n        if (match) {\n            configPart[propertyKey] = flexChange.newValue;\n        }\n    }\n}\n\n/**\n * Checks for deprecated properties and writes them to the log\n * @param manifestSection - given section in the manifest\n * @param deprecatedProperties - list of deperecated properties\n * @param {ImportObjectPageV2Parameters} importParameters  - object comprising all input data\n * @param manifestPath - manifest path, as calcualted by the sync rule\n */\nfunction checkDeprecatedProperties(\n    manifestSection: object,\n    deprecatedProperties: DeprecatedProperties,\n    importParameters: ImportObjectPageV2Parameters,\n    manifestPath: string\n) {\n    if (manifestSection && deprecatedProperties) {\n        for (const key in manifestSection) {\n            const deprecated = deprecatedProperties[key];\n            if (deprecated) {\n                log(importParameters.logger, {\n                    severity: LogSeverity.Warning,\n                    message: getTextForDeprecated(key, deprecated),\n                    location: {\n                        path: 'webapp/manifest.json/',\n                        range: manifestPath.split('/')\n                    }\n                });\n                delete deprecatedProperties[key];\n            }\n        }\n    }\n}\n\n/**\n * Imports manifest settings to the object page config\n * @param syncRule - sync rule for accessing the reflect-metadata\n * @param pageKeys - list of page keys (comprises the one entry describing the given page)\n * @param {ImportObjectPageV2Parameters} importParameters  - object comprising all input data\n * @param configPart - part of the configuration to be filled\n * @param propertyKey  - key of the current property of the schema definition\n * @param deprecatedProperties - list od deperecated properties\n * @param sectionId - ID of the given section (optional)\n * @param sectionTitle - title of the section (optional)\n */\nfunction importManifestSetting(\n    syncRule: SyncRule,\n    pageKeys: string[],\n    importParameters: ImportObjectPageV2Parameters,\n    configPart: { [key: string]: any },\n    propertyKey: string,\n    deprecatedProperties: DeprecatedProperties,\n    sectionPart?: SectionPartProperties\n) {\n    const sectionIdInManifest = sectionPart?.id\n        ? sectionPart.id.replace(/\\/@/g, '::').replace(/@com.sap/g, 'com.sap')\n        : undefined;\n    let manifestPath: string;\n    let manifestSection: object;\n    if (sectionPart?.title) {\n        manifestPath = syncRule.manifest.path(pageKeys, {}, sectionPart.title);\n        manifestSection = ensureManifestSectionByPathV2(importParameters.manifest, manifestPath);\n        if (Object.values(manifestSection).length === 0) {\n            manifestPath = syncRule.manifest.path(pageKeys, {}, sectionIdInManifest);\n            manifestSection = ensureManifestSectionByPathV2(importParameters.manifest, manifestPath);\n        }\n    } else {\n        manifestPath = syncRule.manifest.path(pageKeys, {}, sectionIdInManifest);\n        manifestSection = ensureManifestSectionByPathV2(importParameters.manifest, manifestPath);\n    }\n    const importHandler = syncRule.manifest.import;\n    if (importHandler && typeof importHandler === 'function') {\n        const value = importHandler(manifestSection, sectionPart?.id);\n        if (value !== undefined) {\n            configPart[propertyKey] = value;\n        }\n    } else {\n        const manifestKey = syncRule.manifest.key || propertyKey;\n        if (manifestKey in manifestSection) {\n            configPart[propertyKey] = manifestSection[manifestKey];\n        }\n    }\n    // Check for deprecated properties.\n    checkDeprecatedProperties(manifestSection, deprecatedProperties, importParameters, manifestPath);\n    return manifestSection;\n}\n\n/**\n * Transfers settings from manifest and flexChanges to object page config\n * @param {ImportObjectPageV2Parameters} importParameters  - object comprising all input data\n * @param configPart - part of the configuration to be filled\n * @param schemaDefinition - current section of the app specific schema\n * @param configParameters - comprises page keys and flex changes\n * @param sectionPart - structure comprising the section information\n * @param elementId - stable ID part of the given element (action, column, ...) (optional)\n */\nfunction transferSettingsAndFlexChanges(\n    importParameters: ImportObjectPageV2Parameters,\n    configPart: { [key: string]: any },\n    schemaDefinition: Definition,\n    configParameters: ObjectPageV2ConfigParameters,\n    sectionPart?: SectionPartProperties,\n    elementId?: string\n): void {\n    if (!schemaDefinition) {\n        return;\n    }\n    const deprecatedProperties: DeprecatedProperties = configPart?.getDeprecated ? configPart.getDeprecated() : {};\n    for (const propertyKey in schemaDefinition.properties || schemaDefinition) {\n        const syncRule = getReflectMetadata(configPart, propertyKey);\n        if (propertyKey === 'columns' || syncRule?.flex) {\n            if (\n                sectionPart?.type?.startsWith('ObjectPageSectionTableV2') ||\n                sectionPart?.type?.startsWith('ObjectPageSubSectionTableV2')\n            ) {\n                importFlexChangesOfTable(\n                    configParameters.flexChanges,\n                    propertyKey,\n                    configPart,\n                    importParameters,\n                    sectionPart.title,\n                    sectionPart.id\n                );\n            } else {\n                const facetId = sectionPart?.title || sectionPart?.id;\n                importFlexChanges(\n                    schemaDefinition,\n                    configPart,\n                    configParameters.flexChanges,\n                    propertyKey,\n                    facetId,\n                    elementId\n                );\n            }\n        } else if (syncRule?.manifest) {\n            importManifestSetting(\n                syncRule,\n                configParameters.pageKeys,\n                importParameters,\n                configPart,\n                propertyKey,\n                deprecatedProperties,\n                sectionPart\n            );\n        }\n    }\n}\n\n/**\n *\n * @param actionType - type of action\n * @param configActionId - id of action in config\n * @param {ActionTypeV2|string} importTypeId - type of action that was be initiated\n * @returns {string} actionId - to be used for import of flex changes\n */\nfunction getActionId(actionType: string, configActionId: string, importTypeId: string, facetId: string): string {\n    let actionId = convertActionKeyToStableId(configActionId);\n    if (actionType === ActionTypeV2.Form) {\n        actionId = `action::${actionId}::${facetId}::${importTypeId}`;\n    } else if (actionType === ActionTypeV2.OPFooter) {\n        actionId = `action::${actionId}::Determining`;\n    } else if (actionType === ActionTypeV2.OPToolBar) {\n        actionId = actionId.includes('sAction::')\n            ? `action::${actionId.split('sAction::')[1]}`\n            : `action::${actionId.replace(':2f', '::')}`;\n    }\n    return actionId.replace(/@/g, '');\n}\n\n/**\n *  Fills the action of the configuration\n * @param {ImportObjectPageV2Parameters} importParameters - object comprising all input data\n * @param {object} actionProperties - current properties' list (of action)\n * @param {object} configPart - the given part of the object page config\n * @param {ObjectPageV2ConfigParameters} configParameters - container for factory, pageKeys, flexChanges, v2Page, ObjectPageConfig\n * @param {ActionTypeV2|string} importTypeId - type of action that should be initiated\n */\nfunction fillActions(\n    importParameters: ImportObjectPageV2Parameters,\n    actionProperties: object,\n    configPart: object,\n    configParameters: ObjectPageV2ConfigParameters,\n    importTypeId: ActionTypeV2 | string,\n    facetId?: string\n): void {\n    configPart[PropertyName.actions] = {};\n    const actionType = importTypeId.split('::').pop();\n    if (configParameters.flexChanges && Object.keys(configParameters.flexChanges).length > 0) {\n        const sectionPart: SectionPartProperties = {};\n        if (facetId) {\n            sectionPart.id = facetId;\n        }\n        for (const actionProperty in actionProperties) {\n            const configActionId = convertActionKey(actionProperty);\n            const actionId = getActionId(actionType, configActionId, importTypeId, facetId);\n            if (actionId) {\n                configPart[PropertyName.actions][configActionId] = configParameters.factory.createInstance(\n                    PageType.ObjectPage,\n                    actionType\n                );\n                transferSettingsAndFlexChanges(\n                    importParameters,\n                    configPart[PropertyName.actions][configActionId],\n                    (importParameters.jsonSchema as Definition).definitions[actionType] as Definition,\n                    configParameters,\n                    sectionPart,\n                    actionId\n                );\n            }\n            if (\n                configPart[PropertyName.actions]?.[configActionId] &&\n                Object.keys(configPart[PropertyName.actions][configActionId]).length === 0\n            ) {\n                delete configPart[PropertyName.actions][configActionId];\n            }\n        }\n    }\n    if (Object.keys(configPart[PropertyName.actions]).length === 0) {\n        delete configPart[PropertyName.actions];\n    }\n}\n\n/**\n *  Fills the fields of an object page form\n * @param {ImportObjectPageV2Parameters} importParameters - object comprising all input data\n * @param {sectionPartProperties} sectionPart - current properties' list of form section\n * @param fieldProperties - current properties' list (of fields)\n * @param configPart - the given part of the object page config\n * @param {ObjectPageV2ConfigParameters} configParameters - container for factory, pageKeys, flexChanges, v2Page, ObjectPageConfig\n */\nfunction fillFields(\n    importParameters: ImportObjectPageV2Parameters,\n    sectionPart: SectionPartProperties,\n    fieldProperties: object,\n    configPart: object,\n    configParameters: ObjectPageV2ConfigParameters\n): void {\n    let fieldId: string;\n    configPart[sectionPart.id]['form']['fields'] = {};\n    for (const fieldProperty in fieldProperties) {\n        fieldId = `${fieldProperty}::GroupElement`;\n        configPart[sectionPart.id]['form']['fields'][fieldProperty] = configParameters.factory.createInstance(\n            PageType.ObjectPage,\n            'Field'\n        );\n        const elementId = sectionPart.title.includes(UIVOCABULARYALPHADOT)\n            ? `${sectionPart.id.replace(/@/g, '')}::${fieldId}`\n            : `${sectionPart.title}::${fieldId}`;\n        transferSettingsAndFlexChanges(\n            importParameters,\n            configPart[sectionPart.id]['form']['fields'][fieldProperty],\n            (importParameters.jsonSchema as Definition).definitions[DefinitionName.Field] as Definition,\n            configParameters,\n            {},\n            elementId\n        );\n        if (Object.keys(configPart[sectionPart.id]['form']['fields'][fieldProperty]).length === 0) {\n            delete configPart[sectionPart.id]['form']['fields'][fieldProperty];\n        }\n    }\n    if (Object.keys(configPart[sectionPart.id]['form']['fields']).length === 0) {\n        delete configPart[sectionPart.id]['form']['fields'];\n    }\n}\n\n/**\n * Adjusts the app schema by choosing the right table definition, depending on the table type\n * @param tableType - the type of the given table\n * @param {SectionPartProperties} sectionPart - current properties' list\n * @param schemaDefinitions - definitions' section of the app schema\n * @returns the right schema definition for the given table\n */\nfunction prepareTableSchema(\n    tableType: string,\n    sectionPart: SectionPartProperties,\n    schemaDefinitions: Definition\n): Definition {\n    let tableSchema: object;\n    if (tableType === 'TreeTable' || tableType === 'AnalyticalTable' || tableType === 'GridTable') {\n        tableSchema = schemaDefinitions[`ObjectPage${tableType}<${sectionPart.id}>`] as Definition;\n    } else if (\n        schemaDefinitions[`ObjectPageResponsiveTableWithMultiSelect<${sectionPart.id}>`] &&\n        schemaDefinitions[`ObjectPageResponsiveTableWithInlineDelete<${sectionPart.id}>`]\n    ) {\n        tableSchema = JSON.parse(\n            JSON.stringify(schemaDefinitions[`ObjectPageResponsiveTableWithMultiSelect<${sectionPart.id}>`])\n        );\n        tableSchema['properties'] = {\n            ...tableSchema['properties'],\n            ...schemaDefinitions[`ObjectPageResponsiveTableWithInlineDelete<${sectionPart.id}>`]['properties']\n        };\n    }\n    return tableSchema;\n}\n\n/**\n *  Fills the table section of the object page config\n * @param {ImportObjectPageV2Parameters} importParameters - object comprising all input data\n * @param {SectionPartProperties} sectionPart - current properties' list\n * @param {Settings} manifestSettings - object page settings section of the manifest\n * @param {object} configPart - the given part of the object page config\n * @param {ObjectPageV2ConfigParameters} configParameters - container for factory, pageKeys, flexChanges, v2Page, ObjectPageConfig\n */\nfunction fillTableInConfig(\n    importParameters: ImportObjectPageV2Parameters,\n    sectionPart: SectionPartProperties,\n    manifestSettings: Settings,\n    configPart: object,\n    configParameters: ObjectPageV2ConfigParameters\n): void {\n    const manifestKey = sectionPart.title || sectionPart.id.replace('@com.sap', 'com.sap');\n    const manifestSection = manifestSettings && manifestSettings.sections && manifestSettings.sections[manifestKey];\n\n    if (manifestSection || configParameters.flexChanges) {\n        const tableType: string = manifestSection?.tableSettings?.type || 'ResponsiveTable';\n\n        //Instantiate metadata\n        const OPtable = configParameters.factory.createInstance(PageType.ObjectPage, `ObjectPage${tableType}`, {\n            toolBar: {}\n        });\n        configPart[sectionPart.id] = configParameters.factory.createInstance(PageType.ObjectPage, sectionPart.type, {\n            table: {}\n        });\n        configPart[sectionPart.id][PropertyName.table] = OPtable;\n\n        const schemaDefinitions = (importParameters.jsonSchema as Definition).definitions;\n\n        const tableSchema = prepareTableSchema(tableType, sectionPart, schemaDefinitions);\n        //Transfer settings of (sub)section\n        transferSettingsAndFlexChanges(\n            importParameters,\n            configPart[sectionPart.id],\n            sectionPart.schema,\n            configParameters,\n            { title: sectionPart.title }\n        );\n        //Transfer settings of table\n        transferSettingsAndFlexChanges(\n            importParameters,\n            configPart[sectionPart.id][PropertyName.table],\n            tableSchema,\n            configParameters,\n            sectionPart\n        );\n        //Transfer settings of table toolbar actions\n        const toolBarActions = JSON.parse(JSON.stringify(schemaDefinitions))[\n            `Actions<${sectionPart.id}>`\n        ] as Definition;\n        if (toolBarActions?.properties) {\n            const facetId = sectionPart?.title\n                ? sectionPart.title.replace(/@/g, '::').replace(/::com/g, 'com')\n                : sectionPart?.id?.replace(/@/g, '::').replace(/::com/g, 'com');\n            fillActions(\n                importParameters,\n                toolBarActions.properties,\n                configPart[sectionPart.id][PropertyName.table]['toolBar'],\n                configParameters,\n                ActionTypeV2.OPToolBar,\n                facetId\n            );\n        }\n        if (Object.keys(configPart[sectionPart.id][PropertyName.table]['toolBar']).length === 0) {\n            delete configPart[sectionPart.id][PropertyName.table]['toolBar'];\n        }\n    }\n}\n\n/**\n * Fills custom columns in a V2 object page config JSON\n * @param {ImportObjectPageV2Parameters} importParameters - object comprising all input data\n * @param {string} escapedSectionId - escaped version of the section ID\n * @param {string} sectionTitle - title of current section, if available\n * @param {object} configPart - the given part of the object page config\n * @param {SapUiAppPageV2} v2Page - v2 page from manifest.\n */\nfunction fillCustomColumnsInConfig(\n    importParameters: ImportObjectPageV2Parameters,\n    escapedSectionId: string,\n    configPart: object,\n    v2Page: v2.SapUiAppPageV2\n) {\n    const customColumnSchemaProp = (\n        (importParameters.jsonSchema as Definition).definitions[escapedSectionId] as Definition\n    ).properties.custom as Definition;\n    const customColumnTarget = customColumnSchemaProp\n        ? getTargetFromCustomColumnRef(customColumnSchemaProp.$ref)\n        : undefined;\n    if (customColumnTarget) {\n        const objectPageSectionData: ObjectPageSectionData = {\n            key: escapedSectionId.replace('@', ''),\n            target: customColumnTarget\n        };\n        addFragments(\n            configPart[escapedSectionId],\n            importParameters.manifest,\n            v2Page,\n            PageType.ObjectPage,\n            importParameters.fragments,\n            objectPageSectionData\n        );\n    }\n}\n\n/**\n *  Fills the sections and subsections of the object page config (recursive function)\n * @param {ImportObjectPageV2Parameters} importParameters  - object comprising all input data\n * @param {sectionPartProperties} sectionPart - current properties' list of chart section\n * @param {Settings} manifestSettings - object page settings section of the manifest\n * @param {object} configPart - the given part of the object page config\n * @param {ObjectPageV2ConfigParameters} configParameters - container for factory, pageKeys, flexChanges, v2Page, ObjectPageConfig\n */\nfunction fillChartSection(\n    importParameters: ImportObjectPageV2Parameters,\n    sectionPart: SectionPartProperties,\n    manifestSettings: Settings,\n    configPart: object,\n    configParameters: ObjectPageV2ConfigParameters\n) {\n    const manifestKey = sectionPart.id.replace('@com.sap', 'com.sap');\n    const manifestSection = manifestSettings && manifestSettings.sections && manifestSettings.sections[manifestKey];\n    configPart[sectionPart.id] = configParameters.factory.createInstance(PageType.ObjectPage, sectionPart.type, {\n        chart: {}\n    });\n    configPart[sectionPart.id][PropertyName.chart] = configParameters.factory.createInstance(\n        PageType.ObjectPage,\n        'ObjectPageChart'\n    );\n    if (manifestSection || configParameters.flexChanges) {\n        transferSettingsAndFlexChanges(\n            importParameters,\n            configPart[sectionPart.id],\n            sectionPart.schema,\n            configParameters,\n            { title: sectionPart.title }\n        );\n        transferSettingsAndFlexChanges(\n            importParameters,\n            configPart[sectionPart.id][PropertyName.chart],\n            (importParameters.jsonSchema as Definition).definitions[DefinitionName.ObjectPageChart] as Definition,\n            configParameters,\n            sectionPart\n        );\n    }\n}\n\n/**\n * Fills the form section of the object page config\n * @param {ImportObjectPageV2Parameters} importParameters - object comprising all input data\n * @param {sectionPartProperties} sectionPart - current properties' list of form section\n * @param {object} configPart - the given part of the object page config\n * @param {ObjectPageV2ConfigParameters} configParameters - container for factory, pageKeys, flexChanges, v2Page, ObjectPageConfig\n */\nfunction fillFormSection(\n    importParameters: ImportObjectPageV2Parameters,\n    sectionPart: SectionPartProperties,\n    configPart: object,\n    configParameters: ObjectPageV2ConfigParameters\n) {\n    const formId = sectionPart.schema['properties']['form']['$ref'].split('SectionForm')[1];\n    configPart[sectionPart.id] = configParameters.factory.createInstance(PageType.ObjectPage, sectionPart.type, {\n        form: {}\n    });\n    if (configParameters.flexChanges) {\n        transferSettingsAndFlexChanges(\n            importParameters,\n            configPart[sectionPart.id],\n            sectionPart.schema,\n            configParameters,\n            { title: sectionPart.title }\n        );\n    }\n    const formActions = (importParameters.jsonSchema as Definition).definitions[\n        `SectionActions${formId}`\n    ] as Definition;\n    const facetId = sectionPart?.title\n        ? sectionPart.title.replace(/@/g, '::').replace(/::com/g, 'com')\n        : sectionPart?.id?.replace(/@/g, '::').replace(/::com/g, 'com');\n    if (formActions?.properties) {\n        fillActions(\n            importParameters,\n            formActions.properties,\n            configPart[sectionPart.id]['form'],\n            configParameters,\n            ActionTypeV2.Form,\n            facetId\n        );\n    }\n    const formFields = (importParameters.jsonSchema as Definition).definitions[`SectionFields${formId}`] as Definition;\n    if (formFields?.properties) {\n        fillFields(importParameters, sectionPart, formFields.properties, configPart, configParameters);\n    }\n    if (Object.keys(configPart[sectionPart.id]['form']).length === 0) {\n        delete configPart[sectionPart.id]['form'];\n    }\n    if (Object.keys(configPart[sectionPart.id]).length === 0) {\n        delete configPart[sectionPart.id];\n    }\n}\n\n/**\n *  Fills the subsection of the object page config\n * @param {ImportObjectPageV2Parameters} importParameters - object comprising all input data\n * @param {sectionPartProperties} sectionPart - current properties' list of subsection\n * @param {Settings} manifestSettings - object page settings section of the manifest\n * @param {object} configPart - the given part of the object page config\n * @param {ObjectPageV2ConfigParameters} configParameters - container for factory, pageKeys, flexChanges, v2Page, ObjectPageConfig\n */\nfunction fillSubSection(\n    importParameters: ImportObjectPageV2Parameters,\n    sectionPart: SectionPartProperties,\n    manifestSettings: Settings,\n    configPart: object,\n    configParameters: ObjectPageV2ConfigParameters\n) {\n    configPart[sectionPart.id] = configParameters.factory.createInstance(PageType.ObjectPage, sectionPart.type, {\n        subsections: {}\n    });\n    if (configParameters.flexChanges) {\n        transferSettingsAndFlexChanges(\n            importParameters,\n            configPart[sectionPart.id],\n            sectionPart.schema,\n            configParameters,\n            sectionPart\n        );\n    }\n    let currentSchemaSection;\n    const schemaProperties = sectionPart.schema.properties;\n    if ((schemaProperties?.subsections as Definition)?.properties) {\n        currentSchemaSection = (schemaProperties.subsections as Definition).properties;\n    } else {\n        currentSchemaSection = schemaProperties;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    fillSectionsInConfig(\n        importParameters,\n        currentSchemaSection,\n        manifestSettings,\n        configPart[sectionPart.id]['subsections'],\n        configParameters\n    );\n    if (Object.keys(configPart[sectionPart.id]['subsections']).length < 1) {\n        delete configPart[sectionPart.id]['subsections'];\n    }\n}\n\n/**\n * Fills the sections and subsections of the object page config (recursive function)\n * @param {ImportObjectPageV2Parameters} importParameters - object comprising all input data\n * @param {object} sectionProperties - current properties' list (of sections or subsections)\n * @param {Settings} manifestSettings - object page settings section of the manifest\n * @param {object} configPart - the given part of the object page config\n * @param {ObjectPageV2ConfigParameters} configParameters - container for factory, pageKeys, flexChanges, v2Page, ObjectPageConfig.\n */\nfunction fillSectionsInConfig(\n    importParameters: ImportObjectPageV2Parameters,\n    sectionProperties: object,\n    manifestSettings: Settings,\n    configPart: object,\n    configParameters: ObjectPageV2ConfigParameters\n): void {\n    const appSchemaDefinitions = (importParameters.jsonSchema as Definition).definitions;\n    for (const sectionId in sectionProperties) {\n        const escapedSectionId = sectionId.replace(/\\/@/g, '::');\n        const sectionPart: SectionPartProperties = {\n            id: escapedSectionId,\n            type: getSectionType(sectionProperties[sectionId]),\n            schema: sectionProperties[sectionId],\n            title: getSectionTitle(sectionProperties[sectionId], importParameters.jsonSchema)\n        };\n        if (sectionPart.schema['$ref'] && sectionPart.type) {\n            switch (sectionPart.type) {\n                case SectionTypeV2.SectionTable:\n                case SectionTypeV2.SubSectionTable: {\n                    sectionPart.schema = appSchemaDefinitions[`${sectionPart.type}<${sectionId}>`] as Definition;\n                    fillTableInConfig(importParameters, sectionPart, manifestSettings, configPart, configParameters);\n                    // Custom column ref\n                    fillCustomColumnsInConfig(importParameters, escapedSectionId, configPart, configParameters.v2Page);\n                    break;\n                }\n                case SectionTypeV2.SectionChart:\n                case SectionTypeV2.SubSectionChart: {\n                    // Section without subsections\n                    sectionPart.schema = appSchemaDefinitions[`${sectionPart.type}<${sectionId}>`] as Definition;\n                    fillChartSection(importParameters, sectionPart, manifestSettings, configPart, configParameters);\n                    break;\n                }\n                case SectionTypeV2.SectionForm:\n                case SectionTypeV2.SubSectionForm: {\n                    sectionPart.schema = appSchemaDefinitions[`${sectionPart.type}<${sectionId}>`] as Definition;\n                    fillFormSection(importParameters, sectionPart, configPart, configParameters);\n                    break;\n                }\n                case SectionTypeV2.Section:\n                case SectionTypeV2.SectionAddress:\n                case SectionTypeV2.SubSectionAddress:\n                case SectionTypeV2.SectionContact:\n                case SectionTypeV2.SubSectionContact:\n                case SectionTypeV2.SubSection: {\n                    // Section with subsections\n                    sectionPart.schema = appSchemaDefinitions[`${sectionPart.type}<${sectionId}>`] as Definition;\n                    fillSubSection(importParameters, sectionPart, manifestSettings, configPart, configParameters);\n                    break;\n                }\n            }\n        } else if (sectionPart.schema.properties?.['subsections']) {\n            sectionPart.schema = appSchemaDefinitions[`${sectionPart.type}<${sectionId}>`] as Definition;\n            fillSubSection(importParameters, sectionPart, manifestSettings, configPart, configParameters);\n        }\n    }\n}\n\n/**\n * Fill properties of object page confg based on manifest settings\n * @param {ImportObjectPageV2Parameters} importParameters  - object comprising all input data\n * @param pageKeys - list of page keys (comprises the one entry describing the given page)\n * @param flexChangesForTransfer - list of flex changes (pre-processed by prepareFlexChanges)\n * @param v2Page - page definition in manifest.json\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @returns {ObjectPageConfig} - the object page configuration (JSON)\n */\nfunction fillConfig(\n    importParameters: ImportObjectPageV2Parameters,\n    configParameters: ObjectPageV2ConfigParameters\n): v2.ObjectPageConfigV2 {\n    const objectPageConfig: v2.ObjectPageConfigV2 = configParameters.factory.createPageInstance(PageType.ObjectPage);\n\n    const manifestSettings = configParameters.v2Page.component.settings;\n    // Transfer page information\n    transferSettingsAndFlexChanges(\n        importParameters,\n        objectPageConfig,\n        importParameters.jsonSchema['properties'],\n        configParameters\n    );\n\n    // Transfer header information\n    objectPageConfig.header = configParameters.factory.createInstance(\n        PageType.ObjectPage,\n        DefinitionName.ObjectPageHeader\n    );\n    const definitions = (importParameters.jsonSchema as Definition).definitions;\n    const schemaDefinition = definitions[DefinitionName.ObjectPageHeader]\n        ? definitions[DefinitionName.ObjectPageHeader]\n        : definitions['ObjectPageHeader<GenericActions>'];\n    transferSettingsAndFlexChanges(\n        importParameters,\n        objectPageConfig.header,\n        schemaDefinition as Definition,\n        configParameters\n    );\n    const headerAction = definitions[DefinitionName.HeaderActions] as Definition;\n    if (headerAction) {\n        fillActions(\n            importParameters,\n            headerAction.properties,\n            objectPageConfig.header,\n            configParameters,\n            ActionTypeV2.Header\n        );\n    }\n    objectPageConfig.footer = {};\n    const footerAction = definitions[DefinitionName.FooterActions] as Definition;\n    if (footerAction) {\n        fillActions(\n            importParameters,\n            footerAction.properties,\n            objectPageConfig.footer,\n            configParameters,\n            ActionTypeV2.OPFooter\n        );\n    }\n\n    // Transfer Layout information\n    objectPageConfig.layout = configParameters.factory.createInstance(PageType.ObjectPage, 'ObjectPageLayout');\n    transferSettingsAndFlexChanges(\n        importParameters,\n        objectPageConfig.layout,\n        definitions[DefinitionName.ObjectPageLayout] as Definition,\n        configParameters\n    );\n    if (Object.keys(objectPageConfig.layout).length === 0) {\n        delete objectPageConfig.layout;\n    }\n\n    // Fill sections and subsections\n    objectPageConfig.sections = {};\n    const sections = definitions[DefinitionName.Sections] as Definition;\n    if (sections) {\n        fillSectionsInConfig(\n            importParameters,\n            sections.properties,\n            manifestSettings,\n            objectPageConfig.sections,\n            configParameters\n        );\n    }\n\n    // Find custom sections\n    const customSections = findCustomSectionExtensions(importParameters.manifest, importParameters.entitySet);\n    if (Object.keys(customSections).length > 0) {\n        objectPageConfig.sections.custom = [];\n        for (const sectionId in customSections) {\n            const customSection =\n                'fragmentName' in customSections[sectionId]\n                    ? configParameters.factory.createInstance(PageType.ObjectPage, 'ObjectPageCustomSectionFragment')\n                    : configParameters.factory.createInstance(PageType.ObjectPage, 'ObjectPageCustomSectionView');\n            const customSectionDefinition =\n                definitions[\n                    'fragmentName' in customSections[sectionId]\n                        ? 'ObjectPageCustomSectionFragment'\n                        : 'ObjectPageCustomSectionView'\n                ];\n            transferSettingsAndFlexChanges(\n                importParameters,\n                customSection,\n                customSectionDefinition as Definition,\n                configParameters,\n                { id: sectionId }\n            );\n            objectPageConfig.sections.custom.push(customSection);\n        }\n    }\n\n    return objectPageConfig;\n}\n\n/**\n * Creates the configuration (file content) for a V2 object page\n * @param {ImportObjectPageV2Parameters} importParameters  - object comprising all input data\n *\n * @returns {ObjectPageConfig} - the object page configuration (JSON)\n */\nexport function createObjectPageConfigV2(\n    importParameters: ImportObjectPageV2Parameters\n): v2.ObjectPageConfigV2 | undefined {\n    // Initialize i18next\n    initI18n();\n    if (!importParameters.manifest[ManifestSection.generic]) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOFE'),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.generic]\n            }\n        });\n        return;\n    }\n    const pageKeys: string[] = [];\n    const v2Pages = importParameters.manifest[ManifestSection.generic].pages;\n    if (!v2Pages) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOPAGES', { appId: importParameters.manifest['sap.app']['id'] }),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.generic]\n            }\n        });\n        return;\n    }\n    const entitySet = importParameters.entitySet;\n    const v2Page: v2.SapUiAppPageV2 = findObjectPageV2(v2Pages, importParameters.entitySet, pageKeys);\n    if (!v2Page) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOENTITYSET', { entitySet }),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.generic]\n            }\n        });\n        return;\n    }\n    const flexChangesForTransfer = prepareFlexChanges(importParameters.flex, entitySet);\n\n    const factory = new Factory();\n\n    //Fill config.json with manifest settings and flex changes\n    return fillConfig(importParameters, { pageKeys, flexChanges: flexChangesForTransfer, v2Page, factory });\n}\n", "import type { Manifest, v2, Files } from '@sap/ux-specification-types';\nimport { FioriElementsVersion, PageType, ManifestSection, SchemaType } from '@sap/ux-specification-types';\nimport { AppProvider } from '../../../common/appProvider';\nimport { transferSettingsOfObject } from '../common';\nimport { createOverviewPageConfig } from '../pages/overviewPage';\nimport { AppSettings } from '../../application';\nimport { getSchemaFilePath, generatePageId } from '../../../common';\nimport type { ExtensionLogger, ImportOverviewPageV2Parameters } from '../../../..';\n\nexport class V2OvpProvider extends AppProvider {\n    public constructor(manifest: Manifest, schemas: Files, logger?: ExtensionLogger) {\n        const pages: v2.Pages = {};\n        const sapOvp = manifest[ManifestSection.ovp];\n        const appSettings = new AppSettings();\n        const schemaFile = getSchemaFilePath(SchemaType.Application);\n        transferSettingsOfObject(\n            appSettings,\n            manifest,\n            schemas[schemaFile.filename]['definitions']['AppSettings'],\n            undefined\n        );\n        const jsonSchema: string = Object.keys(schemas).find((element) => element.includes(PageType.OverviewPage));\n        const parameters: ImportOverviewPageV2Parameters = {\n            manifest,\n            jsonSchema: schemas[jsonSchema]\n        };\n        const page: v2.Page = {\n            pageType: PageType.OverviewPage,\n            config: createOverviewPageConfig(parameters),\n            entitySet: sapOvp.globalFilterEntitySet\n        };\n        const id = generatePageId(page.pageType, page.entitySet);\n        pages[id] = page;\n        super(manifest, schemas, id, pages, FioriElementsVersion.v2, appSettings, logger);\n    }\n}\n", "import type { Manifest } from '@sap/ux-specification-types';\nimport { v2, ManifestSection, PageType } from '@sap/ux-specification-types';\nimport { getReflectMetadata } from '../../../common/decoration/decorators';\nimport { ensureManifestSectionByPathV2 } from '../../export/manifest';\nimport { MetadataInstanceFactoryV2 as Factory } from '../../export/factory';\nimport type { MetadataInstanceInterface } from '../../../common/decoration/factory';\nimport { assignReflectMetadataRules } from '../../export/export';\nimport { importProperty } from '../../../common';\nimport type { ImportOverviewPageV2Parameters } from '../../../..';\n\n/**\n * Transfers the card settings from manifest to config\n * @param propertyKey - Key of the property or setting\n * @param manifestSection - Section in manifest.json\n * @param configPart - Part of the config JSON\n * @param pathHierarchy - Parts of the path or breadcrumbs\n */\nfunction transferCardSettings(\n    propertyKey: string,\n    manifestSection: object,\n    configPart: { [key: string]: any },\n    pathHierarchy?: string[]\n): void {\n    if (propertyKey === 'settings') {\n        switch (manifestSection['template']) {\n            case 'sap.ovp.cards.charts.analytical':\n                configPart[pathHierarchy[0]][v2.CardSettingsType.analyticalCardSettings] = manifestSection[propertyKey];\n                break;\n            case 'sap.ovp.cards.v4.charts.analytical':\n                configPart[pathHierarchy[0]][v2.CardSettingsType.analyticalCardSettingsv4] =\n                    manifestSection[propertyKey];\n                break;\n            case 'sap.ovp.cards.list':\n            case 'sap.ovp.cards.v4.list':\n                configPart[pathHierarchy[0]][v2.CardSettingsType.listCardSettings] = manifestSection[propertyKey];\n                break;\n            case 'sap.ovp.cards.stack':\n                configPart[pathHierarchy[0]][v2.CardSettingsType.stackCardSettings] = manifestSection[propertyKey];\n                break;\n            case 'sap.ovp.cards.linklist':\n            case 'sap.ovp.cards.v4.linklist':\n                configPart[pathHierarchy[0]][v2.CardSettingsType.linkListCardSettings] = manifestSection[propertyKey];\n                break;\n            case 'sap.ovp.cards.table':\n            case 'sap.ovp.cards.v4.table':\n                configPart[pathHierarchy[0]][v2.CardSettingsType.tableCardSettings] = manifestSection[propertyKey];\n                break;\n            default:\n                configPart[pathHierarchy[0]].settings = manifestSection[propertyKey];\n                break;\n        }\n    } else {\n        configPart[pathHierarchy[0]][propertyKey] = manifestSection[propertyKey];\n    }\n}\n\n/**\n * Handles a list of properties of a given part of the schema, transfers the relevant property values or settings from manifest to config.\n * @param configPart - Part of the config JSON\n * @param manifest - manifest.json or app descriptor\n * @param appSchema - app specific JSON schema\n * @param pathHierarchy - Parts of the path or breadcrumbs\n */\nfunction transferSettingsOfObject(\n    configPart: { [key: string]: any },\n    manifest: Manifest,\n    appSchema: object,\n    pathHierarchy?: string[]\n): void {\n    for (const propertyKey in appSchema) {\n        const syncRule = getReflectMetadata(configPart, propertyKey);\n        if (syncRule?.manifest) {\n            const path = syncRule.manifest.path([...pathHierarchy, propertyKey]);\n            const manifestSection = ensureManifestSectionByPathV2(manifest, path);\n            if (Object.prototype.hasOwnProperty.call(manifestSection, propertyKey)) {\n                if (pathHierarchy.length !== 0) {\n                    transferCardSettings(propertyKey, manifestSection, configPart, pathHierarchy);\n                } else {\n                    importProperty(syncRule, manifestSection, propertyKey, configPart);\n                }\n            }\n        }\n    }\n}\n\n/**\n * OVP: Transfers all settings from manifest to config\n * @param pageConfig - the OVP configuration (JSON)\n * @param manifest  - manifest.json or app descriptor\n * @param appSchema - app specific JSON schema\n * @param factory - Metadata factory\n */\nfunction addSettings(\n    pageConfig: v2.OverviewPageConfigV2,\n    manifest: Manifest,\n    appSchema: object,\n    factory: MetadataInstanceInterface\n): void {\n    transferSettingsOfObject(pageConfig, manifest, appSchema['properties'], []);\n\n    pageConfig.cards = {};\n\n    Object.keys(manifest[ManifestSection.ovp]['cards']).forEach((newKey) => {\n        const cardTemplate = manifest[ManifestSection.ovp]['cards'][newKey].template;\n        const cardType = v2.cardTemplateTypeMap[cardTemplate];\n\n        //instantiate Card:\n        pageConfig.cards[newKey] = assignReflectMetadataRules(factory, cardType, {}, 'CustomCard') as v2.CardType;\n\n        pageConfig.cards = assignReflectMetadataRules(factory, cardType, pageConfig.cards, 'CustomCard') as {\n            [k: string]: v2.CardType;\n        };\n\n        //transfer settings:\n        transferSettingsOfObject(pageConfig.cards, manifest, manifest[ManifestSection.ovp]['cards'][newKey], [newKey]);\n    });\n}\n\n/**\n * Creates the configuration (file content) for an overview page\n * @param {object} manifest  - manifest of the app\n * @param {object} jsonSchema - app specific JSON schema\n *\n * @returns {object} - the OVP configuration (JSON)\n */\nexport function createOverviewPageConfig(importParameters: ImportOverviewPageV2Parameters): object {\n    const factory = new Factory();\n    //Instantiate Page\n    const config = factory.createPageInstance(PageType.OverviewPage);\n\n    if (importParameters.jsonSchema) {\n        addSettings(config, importParameters.manifest, importParameters.jsonSchema, factory);\n    }\n    return config;\n}\n", "// Note: the main functions or entry points reside in ./exportPage.ts\nimport merge from 'deepmerge';\nimport type { ObjectPageCustomSectionFragment, ObjectPageCustomSectionView } from './controls';\nimport { exportCustomColumnsToFragment, getCustomColumnPath, deleteColumnFromFragment } from './controls';\nimport type { NextDefinition } from '../../common';\nimport {\n    getReflectMetadata,\n    getChildId,\n    convertSectionId,\n    getNextTargetDefinition,\n    DEFINITION_LINK_PREFIX,\n    arrayCombineMerge,\n    deleteEmptyStructure,\n    fillFlexChangeContent,\n    getTargetFromCustomColumnRef\n} from '../../common';\nimport { getViewExtensionsPath } from '../application';\nimport { ensureManifestSectionByPathV2, getManifestSectionByPathV2 } from './manifest';\nimport { isAssociatedCustomSection } from '../import/utils';\nimport type { MetadataInstanceInterface } from '../../common/decoration/factory';\nimport type { TransferParameterTypeV2 } from '../types';\nimport type { Definition } from 'typescript-json-schema';\nimport type {\n    Manifest,\n    SapOvp,\n    ExportHandlerFunction,\n    ExportResults,\n    SyncRule,\n    ObjectPageSectionData\n} from '@sap/ux-specification-types';\n\nimport {\n    v2,\n    PropertyName,\n    ViewTemplateType,\n    ManifestSection,\n    PageType,\n    FacetTitlePrefix\n} from '@sap/ux-specification-types';\n\n/**\n * Create missing card from the manifest\n * @param key - card name\n * @param ovp - OVP section of manifest, to be updated\n */\nfunction createCard(key: string, ovp: SapOvp): void {\n    if (!ovp.cards) {\n        ovp.cards = {};\n    }\n    if (!(key in ovp.cards)) {\n        ovp.cards[key] = {};\n    }\n}\n\n/**\n * Recursive function that searches for next avaialble id by increasing number by 1.\n * @param {boolean} sectionIds All ids in use.\n * @param {string} candidateId Candidate id to check if it is available.\n * @return {string} Id string.\n */\nfunction findAvailableId(sectionIds: string[], candidateId: string): string {\n    if (sectionIds.includes(candidateId)) {\n        const idParts = candidateId.split('|');\n        if (idParts.length === 3) {\n            idParts.push('1');\n        } else {\n            idParts[3] = (parseInt(idParts[3]) + 1).toString();\n        }\n        return findAvailableId(sectionIds, idParts.join('|'));\n    }\n    return candidateId;\n}\n\n/**\n * Private recursive function that traverses the content of the current object. It reads decorators and fills manifest entries and flex changes\n * @param configObject - current object to traverse\n * @param exportResults - object with all collected manifest entries and flex changes\n * @param jsonSchema - application specific schema\n * @param targetDefinition - the current entry point or definition in the app schema\n * @param {MetadataInstanceInterface} factory - factory for creating metadata instances\n * @param pathHierarchy -  elements of the path indicating the hierarchical level\n */\nexport function transferManifestEntriesOVP(\n    configObject: { [key: string]: any },\n    exportResults: ExportResults,\n    jsonSchema: object,\n    targetDefinition: object,\n    factory: MetadataInstanceInterface,\n    pathHierarchy?: string[]\n): void {\n    if (targetDefinition) {\n        if (targetDefinition['properties']) {\n            // eslint-disable-next-line @typescript-eslint/no-use-before-define\n            processProperties(\n                configObject,\n                exportResults,\n                jsonSchema,\n                targetDefinition['properties'],\n                factory,\n                pathHierarchy\n            );\n        } else if (targetDefinition['additionalProperties']) {\n            // eslint-disable-next-line @typescript-eslint/no-use-before-define\n            processProperties(\n                configObject,\n                exportResults,\n                jsonSchema,\n                targetDefinition['additionalProperties'],\n                factory,\n                pathHierarchy\n            );\n        }\n    }\n}\n\n/**\n * Assign sync rules to {currentObject}\n * @param {string} structureName - name of the complex structure in schema\n * @param {object} currentObject - the given part of the configuration\n * @param {string} defaultTypeName - name of the default type that shall be taken if no class is registered for structureName\n */\nexport function assignReflectMetadataRules(\n    factory: MetadataInstanceInterface,\n    structureName: string,\n    currentObject: object,\n    defaultTypeName: string\n): object {\n    return factory.createInstance(PageType.OverviewPage, defaultTypeName, currentObject, structureName);\n}\n\ntype ProcessDefinitionParams = {\n    pathHierarchy: string[];\n    propertyList: object;\n    appSchema: Definition;\n    currentObject: object;\n    configObject: { [key: string]: any };\n    factory: MetadataInstanceInterface;\n    exportResults: ExportResults;\n};\n\nfunction processAnyOfDefinitionsOfOVP(params: ProcessDefinitionParams): object {\n    params.pathHierarchy.pop();\n    let newConfigObject = params.currentObject;\n    for (const anyOfKey in params.propertyList['anyOf']) {\n        if (params.propertyList['anyOf'][anyOfKey].$ref) {\n            const definitionArray = params.propertyList['anyOf'][anyOfKey].$ref.split(DEFINITION_LINK_PREFIX);\n            const nextTargetDefinition = params.appSchema['definitions'][definitionArray[definitionArray.length - 1]];\n            const cardSettingsType = params.pathHierarchy[1];\n            params.currentObject = params.configObject[cardSettingsType];\n            newConfigObject = assignReflectMetadataRules(\n                params.factory,\n                cardSettingsType,\n                params.currentObject,\n                'CustomCard'\n            );\n            transferManifestEntriesOVP(\n                newConfigObject,\n                params.exportResults,\n                params.appSchema,\n                nextTargetDefinition as Definition,\n                params.factory,\n                [...params.pathHierarchy]\n            );\n        } else if (typeof params.propertyList['anyOf'][anyOfKey] === 'object') {\n            // eslint-disable-next-line @typescript-eslint/no-use-before-define\n            processProperties(\n                params.configObject,\n                params.exportResults,\n                params.appSchema,\n                params.propertyList['anyOf'][anyOfKey].properties,\n                params.factory,\n                [...params.pathHierarchy, 'anyOfObject']\n            );\n        }\n    }\n    return newConfigObject;\n}\n\nfunction checkSyncRuleForExport(\n    exportHandler: boolean | ExportHandlerFunction,\n    manifestSection: object,\n    configObject: { [key: string]: any },\n    key: string,\n    currentObject: object,\n    exceptionList: string[]\n) {\n    if (exportHandler && typeof exportHandler === 'function') {\n        exportHandler(manifestSection, configObject, key);\n    } else if (typeof currentObject === 'object' && !exceptionList.includes(key)) {\n        // colorPalette is an exception as it can contain anything as per our schema, so just replace the object\n        manifestSection[key] = merge(manifestSection[key] || {}, currentObject || {}, {\n            arrayMerge: arrayCombineMerge\n        });\n    } else {\n        manifestSection[key] = currentObject;\n    }\n}\n\n/**\n * Transfer manifest settings from config to manifest\n * @param syncRule - metadata rule used for import and export\n * @param pathHierarchy -  elements of the path indicating the hierarchical level\n * @param key\n * @param exportResults - overall result list, to be updated\n * @param currentObject\n * @param configObject\n */\nfunction transferToManifest(\n    syncRule: SyncRule,\n    pathHierarchy: string[],\n    key: string,\n    exportResults: ExportResults,\n    currentObject: object,\n    configObject: { [key: string]: any }\n) {\n    const exceptionList = ['colorPalette', 'tabs'];\n    const path = syncRule.manifest.path([...pathHierarchy, key]);\n    const manifestSection = ensureManifestSectionByPathV2(exportResults.manifest, path);\n    if (key in v2.CardSettingsType || key === 'settings') {\n        manifestSection['settings'] = merge(manifestSection['settings'] || {}, currentObject || {}, {\n            arrayMerge: arrayCombineMerge\n        });\n    } else if (currentObject !== undefined) {\n        const exportHandler = syncRule.manifest.export;\n        if (exportHandler !== false) {\n            checkSyncRuleForExport(exportHandler, manifestSection, configObject, key, currentObject, exceptionList);\n        }\n    } else if (manifestSection[key] !== undefined) {\n        delete manifestSection[key];\n    }\n}\n\nfunction transferCards(\n    currentObject: object,\n    appSchema: Definition,\n    factory: MetadataInstanceInterface,\n    exportResults: ExportResults\n) {\n    Object.keys(currentObject).forEach((cardKey) => {\n        const cardType = currentObject[cardKey].template;\n        //Determine target defintion\n        let targetDefinition;\n        if (!Object.values(v2.CardTemplateType).includes(cardType)) {\n            targetDefinition = ['CustomCard'];\n        } else {\n            targetDefinition = Object.keys(appSchema.definitions).filter(\n                (definition) =>\n                    (\n                        (appSchema.definitions[definition] as Definition).properties?.template as Definition\n                    )?.enum?.indexOf(currentObject[cardKey].template) > -1\n            );\n        }\n        //Get metadata\n        currentObject[cardKey] = assignReflectMetadataRules(\n            factory,\n            targetDefinition[0],\n            currentObject[cardKey],\n            'CustomCard'\n        );\n        createCard(cardKey, exportResults['manifest'][ManifestSection.ovp]);\n        transferManifestEntriesOVP(\n            currentObject[cardKey],\n            exportResults,\n            appSchema,\n            appSchema.definitions[targetDefinition[0]] as Definition,\n            factory,\n            [cardKey]\n        );\n    });\n    //check for deletions:\n    Object.keys(exportResults.manifest[ManifestSection.ovp].cards).forEach((manifestCard) => {\n        if (!currentObject[manifestCard]) {\n            delete exportResults.manifest[ManifestSection.ovp].cards[manifestCard];\n        }\n    });\n}\n\nfunction exportOfObject(params: ProcessDefinitionParams, key: string, factory: MetadataInstanceInterface): void {\n    if (key === 'cards') {\n        //inserts and updates:\n        transferCards(params.currentObject, params.appSchema, factory, params.exportResults);\n    } else if (params.propertyList[key].$ref) {\n        const definitionArray = params.propertyList[key].$ref.split(DEFINITION_LINK_PREFIX);\n        const nextTargetDefinition = params.appSchema.definitions[definitionArray[definitionArray.length - 1]];\n        params.currentObject = assignReflectMetadataRules(\n            params.factory,\n            key,\n            params.currentObject,\n            key === 'settings' ? 'CustomCard' : ''\n        );\n        transferManifestEntriesOVP(\n            params.currentObject,\n            params.exportResults,\n            params.appSchema,\n            nextTargetDefinition as Definition,\n            factory,\n            [...params.pathHierarchy, key]\n        );\n    } else if (params.propertyList[key].anyOf) {\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        processProperties(\n            params.configObject,\n            params.exportResults,\n            params.appSchema,\n            params.propertyList[key],\n            factory,\n            [...params.pathHierarchy, key, 'anyOf']\n        );\n    } else if (params.propertyList[key]['properties'] !== undefined) {\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        processProperties(\n            params.configObject,\n            params.exportResults,\n            params.appSchema,\n            params.propertyList[key].properties,\n            params.factory,\n            [...params.pathHierarchy, key, 'objectProperties']\n        );\n    }\n}\n\n/**\n * Recursive function that transfers the content of a list of properties of a configuration to the overall exportResults\n * @param configObject - the given part of the configuration\n * @param exportResults - overall result list, to be updated\n * @param appSchema - app-specific JSON schema\n * @param propertyList - current property list of the config (properties or additional properties)\n * @param {MetadataInstanceInterface} factory - factory for creating metadata instances\n * @param pathHierarchy -  elements of the path indicating the hierarchical level\n */\nfunction processProperties(\n    configObject: { [key: string]: any },\n    exportResults: ExportResults,\n    appSchema: Definition,\n    propertyList: object,\n    factory: MetadataInstanceInterface,\n    pathHierarchy?: string[]\n): void {\n    let isAnyOfObject = false;\n    let isObjectProperty = false;\n\n    for (const key in propertyList) {\n        let currentObject = configObject[key];\n        let syncRule = getReflectMetadata(configObject, key);\n\n        if (pathHierarchy[pathHierarchy.length - 1] === 'anyOfObject') {\n            isAnyOfObject = true;\n            pathHierarchy.pop();\n        }\n        if (isAnyOfObject) {\n            currentObject = configObject[pathHierarchy[pathHierarchy.length - 1]][key];\n            syncRule = getReflectMetadata(configObject, pathHierarchy[pathHierarchy.length - 1]);\n        }\n\n        if (pathHierarchy[pathHierarchy.length - 1] === 'objectProperties') {\n            isObjectProperty = true;\n            pathHierarchy.pop();\n        }\n        if (isObjectProperty) {\n            currentObject = configObject[pathHierarchy[pathHierarchy.length - 1]][key];\n            syncRule = getReflectMetadata(configObject, pathHierarchy[pathHierarchy.length - 1]);\n        }\n\n        const processDefinitionParams: ProcessDefinitionParams = {\n            pathHierarchy,\n            propertyList,\n            appSchema,\n            currentObject,\n            configObject,\n            factory,\n            exportResults\n        };\n        if (pathHierarchy[pathHierarchy.length - 1] === 'anyOf') {\n            currentObject = processAnyOfDefinitionsOfOVP(processDefinitionParams);\n        }\n        if (syncRule?.manifest) {\n            transferToManifest(syncRule, pathHierarchy, key, exportResults, currentObject, configObject);\n        }\n        if (currentObject && typeof currentObject === 'object' && propertyList[key]) {\n            exportOfObject(processDefinitionParams, key, factory);\n        }\n    }\n}\n\n/**\n * Evaluates an export rule for a property, transfers to flex change\n * @param {TransferParameterTypeV2} transferParameters - list of input parameters for the recursive function call\n * @param breadcrumbs - list of breadcrumbs, i.e. ID parts for building the stable ID\n * @param syncRule - export rule from the object classes decorator\n * @param configObject - current (sub)object of the configuration file\n * @param ids - list of parent & child ids\n * @param title - title from the app schema (comprising for instance the facet ID)\n * @param key - key of the given property\n */\nfunction evaluateFlexRule(\n    transferParameters: TransferParameterTypeV2,\n    breadcrumbs: string[],\n    syncRule: SyncRule,\n    ids: string[],\n    title: string,\n    configObject: object,\n    key: string\n): void {\n    let localBreadcrumbs: string[];\n\n    if (breadcrumbs.length === 0) {\n        //only added on top = page level, do not forward\n        localBreadcrumbs = ['page'];\n    } else {\n        localBreadcrumbs = breadcrumbs;\n    }\n    const controlId = syncRule.flex.controlId(\n        transferParameters.baseId,\n        ids,\n        localBreadcrumbs,\n        syncRule.flex.controlType,\n        title\n    );\n    const flexChange = fillFlexChangeContent(configObject, syncRule, transferParameters.ui5Version, key, controlId);\n    const localManifest = JSON.parse(JSON.stringify(transferParameters.exportResults.manifest)) as Manifest;\n    localManifest['sap.app'].id = transferParameters.appId;\n    const completeFlexChange = syncRule.flex.createFlexChange(flexChange, localManifest);\n    const flexChangeExists = transferParameters.exportResults.flexChanges.find((change) => {\n        let result = false,\n            oldChange: object = JSON.parse(change);\n        oldChange = {\n            content: oldChange['content'],\n            selector: oldChange['selector']\n        };\n        let newChange: object = JSON.parse(completeFlexChange);\n        newChange = {\n            content: newChange['content'],\n            selector: newChange['selector']\n        };\n        if (JSON.stringify(oldChange) === JSON.stringify(newChange)) {\n            result = true;\n        }\n        return result;\n    });\n    if (!flexChangeExists) {\n        transferParameters.exportResults.flexChanges.push(completeFlexChange);\n    }\n}\n\n/**\n * Exports a given config property value to manifest\n * @param {TransferParameterTypeV2} transferParameters - list of input parameters for the recursive function call\n * @param syncRule - export rule from the object classes decorator\n * @param manifestSection - current section in manifest.json\n * @param configObject - current (sub)object of the configuration file\n * @param key - key of the given property in the config\n * @param manifestKey - key of the given property in manifest\n */\nfunction exportConfigValue(\n    transferParameters: TransferParameterTypeV2,\n    syncRule: SyncRule,\n    manifestSection: object,\n    configObject: object,\n    key: string,\n    manifestKey: string\n) {\n    if (\n        // In case of arrays we take over complete array\n        !(\n            transferParameters.propertyDefinition['type'] !== 'array' &&\n            transferParameters.nextDefinition &&\n            transferParameters.nextDefinition['targetDefinition'].type === 'object' &&\n            transferParameters.nextDefinition['targetDefinition'].properties\n        )\n    ) {\n        const exportHandler = syncRule.manifest.export;\n        if (exportHandler && typeof exportHandler === 'function') {\n            exportHandler(manifestSection, configObject, key, manifestKey);\n        } else if (exportHandler !== false) {\n            manifestSection[manifestKey] = configObject[key];\n        }\n    } else if (\n        transferParameters.propertyDefinition['type'] !== 'array' &&\n        manifestSection[manifestKey] === undefined\n    ) {\n        manifestSection[manifestKey] = {};\n    }\n}\n\n/**\n * Evaluates an export rule for a property, transfers to manifest setting\n * @param {TransferParameterTypeV2} transferParameters - list of input parameters for the recursive function call\n * @param syncRule - export rule from the object classes decorator\n * @param configObject - current (sub)object of the configuration file\n * @param ids - list of parent & child ids\n * @param title - title from the app schema (comprising for instance the facet ID)\n * @param key - key of the given property\n */\nfunction evaluateManifestRule(\n    transferParameters: TransferParameterTypeV2,\n    path: string,\n    syncRule: SyncRule,\n    key: string,\n    configObject: object\n) {\n    const manifestSection = ensureManifestSectionByPathV2(transferParameters.exportResults.manifest, path);\n    const manifestKey = syncRule.manifest.key || key;\n    if (configObject[key] !== undefined) {\n        exportConfigValue(transferParameters, syncRule, manifestSection, configObject, key, manifestKey);\n    } else {\n        //delete value\n        const deleteHandler = syncRule.manifest.delete;\n        if (deleteHandler && typeof deleteHandler === 'function') {\n            deleteHandler(manifestSection, configObject, key, manifestKey);\n        } else if (Object.prototype.hasOwnProperty.call(manifestSection, manifestKey)) {\n            delete manifestSection[manifestKey];\n        }\n    }\n    deleteEmptyStructure(transferParameters.exportResults.manifest, path);\n}\n\nfunction getManifestPathOfSections(\n    breadcrumbs: string[],\n    path: string,\n    syncRule: SyncRule,\n    transferParameters: TransferParameterTypeV2,\n    title: string\n) {\n    if (breadcrumbs[1] === 'custom') {\n        path = syncRule.manifest.path(transferParameters.pageKeys, {}, breadcrumbs[2]);\n    } else {\n        path = syncRule.manifest.path(\n            transferParameters.pageKeys,\n            {},\n            title?.startsWith(FacetTitlePrefix) ? title.split(FacetTitlePrefix)[1] : breadcrumbs[1],\n            breadcrumbs[breadcrumbs.length - 1]\n        );\n        path = path.replace('/@', '::').replace(/VOCWITHCOLONS/g, '::com.sap.vocabularies');\n    }\n    return path;\n}\n\nfunction getManifestPathOfTable(\n    breadcrumbs: string[],\n    path: string,\n    syncRule: SyncRule,\n    transferParameters: TransferParameterTypeV2,\n    configObject: object\n) {\n    if (breadcrumbs[1] === 'columns' && breadcrumbs[2] === 'custom') {\n        path = syncRule.manifest.path(\n            transferParameters.pageKeys,\n            transferParameters.exportResults.manifest,\n            configObject['tabKey']\n        );\n    } else {\n        path = syncRule.manifest.path(transferParameters.pageKeys, {}, breadcrumbs[breadcrumbs.length - 1]);\n    }\n    return path;\n}\n\n/**\n * Determines the path to a manifest setting, based on the syncRule\n * @param {TransferParameterTypeV2} transferParameters - list of input parameters for the recursive function call\n * @param breadcrumbs - list of breadcrumbs, i.e. ID parts for building the stable ID\n * @param {SyncRule} syncRule - export rule from the object classes decorator\n * @param configObject - current (sub)object of the configuration file\n * @param title - title from the app schema (comprising for instance the facet ID)\n * @returns the path to the manifest setting\n */\nfunction getManifestPath(\n    transferParameters: TransferParameterTypeV2,\n    breadcrumbs: string[],\n    syncRule: SyncRule,\n    configObject: object,\n    title: string\n): string {\n    let path: string;\n    if (breadcrumbs[0] === PropertyName.sections) {\n        path = getManifestPathOfSections(breadcrumbs, path, syncRule, transferParameters, title);\n    } else if (breadcrumbs[0] === PropertyName.table) {\n        path = getManifestPathOfTable(breadcrumbs, path, syncRule, transferParameters, configObject);\n    } else if (breadcrumbs[0] === 'keyPerformanceIndicators') {\n        path = syncRule.manifest.path(transferParameters.pageKeys, transferParameters.exportResults.manifest, title);\n    } else if (breadcrumbs[0] === 'filterBar' && breadcrumbs[1] === 'selectionFields') {\n        path = syncRule.manifest.path(\n            transferParameters.pageKeys,\n            transferParameters.exportResults.manifest,\n            breadcrumbs.slice(2).join('/')\n        );\n    } else {\n        path = syncRule.manifest.path(transferParameters.pageKeys);\n    }\n    return path;\n}\n\n/**\n * Evaluates an export rule for a property or object, transfers to flex change or manifest setting\n * @param {TransferParameterTypeV2} transferParameters - list of input parameters for the recursive function call\n * @param {SyncRule} syncRule - export rule from the object classes decorator\n * @param configObject - current (sub)object of the configuration file\n * @param breadcrumbs - list of breadcrumbs, i.e. ID parts for building the stable ID\n * @param ids - list of parent & child ids\n * @param title - title from the app schema (comprising for instance the facet ID)\n * @param key - key of the given property\n */\nfunction evaluateExportRule(\n    transferParameters: TransferParameterTypeV2,\n    syncRule: SyncRule,\n    configObject: object,\n    breadcrumbs: string[],\n    ids: string[],\n    title: string,\n    key: string\n): void {\n    if (!syncRule) {\n        return;\n    }\n    //eliminate subsections' hierarchy\n    let index = breadcrumbs.indexOf('subsections');\n    while (index > -1) {\n        breadcrumbs.splice(index - 1, 2);\n        index = breadcrumbs.indexOf('subsections');\n    }\n\n    if (syncRule.flex) {\n        evaluateFlexRule(transferParameters, breadcrumbs, syncRule, ids, title, configObject, key);\n    } else if (syncRule.manifest) {\n        const path = getManifestPath(transferParameters, breadcrumbs, syncRule, configObject, title);\n        evaluateManifestRule(transferParameters, path, syncRule, key, configObject);\n    }\n}\n\ntype ColumnParams = {\n    path: string;\n    exportResults: ExportResults;\n    entitySet: string;\n    config: v2.TableCustomColumns;\n    sectionKey: string;\n    extensionType: string;\n    appId: string;\n};\n\n/**\n * Deletes an obsolete custom column from manifest\n */\nfunction deleteObsoleteColumn(key: string, columnParams: ColumnParams, manifestSection: object) {\n    const keyParts = key.split('|');\n    const keyEntitySet = keyParts[1];\n    const keyTab = keyParts[2];\n    if (keyEntitySet === columnParams.entitySet) {\n        //relevant extension. still present in config?\n        const existingConfigEntries = columnParams.config?.filter(\n            (column) =>\n                (column.tabKey === keyTab ||\n                    (keyTab === undefined && column.tabKey === '') ||\n                    (keyTab && columnParams.sectionKey === keyTab)) &&\n                column.extensionType === columnParams.extensionType\n        );\n        if (!existingConfigEntries || existingConfigEntries.length === 0) {\n            deleteColumnFromFragment(manifestSection, key, columnParams.appId, columnParams.exportResults.fragments);\n            // delete from manifest\n            delete manifestSection[key];\n            // delete cells entry\n            if (key.startsWith(ViewTemplateType.ResponsiveTableColumnsExtension)) {\n                const cellsPattern = key.replace(\n                    ViewTemplateType.ResponsiveTableColumnsExtension,\n                    ViewTemplateType.ResponsiveTableCellsExtension\n                );\n                deleteColumnFromFragment(\n                    manifestSection,\n                    cellsPattern,\n                    columnParams.appId,\n                    columnParams.exportResults.fragments\n                );\n                // delete from manifest\n                delete manifestSection[cellsPattern];\n            }\n        }\n    }\n}\n\n/**\n * Walks through the extensions registered in manifest and compares the columns of the fragment with the ones present in config.\n * If not present anymore, the extension column gets deleted from fragment.\n * @param path - path to extesnions section in manifest\n * @param exportResults - result structure, including the fragments that may get updated\n * @param entitySet - current entity set\n * @param config - current config JSON\n * @param sectionKey - section key\n * @param extensionType - extensionType\n * @param appId - application ID\n */\nfunction deleteObsoleteColumnsFromFragment(columnParams: ColumnParams) {\n    const folderPath = columnParams.path.substring(0, columnParams.path.lastIndexOf('/'));\n    const manifestSection = getManifestSectionByPathV2(columnParams.exportResults.manifest, folderPath);\n    const extensionPattern = columnParams.path.substring(columnParams.path.lastIndexOf('/') + 1);\n    for (const key in manifestSection) {\n        if (key.startsWith(extensionPattern)) {\n            deleteObsoleteColumn(key, columnParams, manifestSection);\n        }\n    }\n}\n\n/**\n * Clusters the custom columns if a config by the extension's path in manifest\n * @param customColumnsInConfig - list of all custom columns in config\n * @param schemaDefinition - schema definition of the table custom column\n * @param v2Page - current page in manifest\n * @param entitySet - current entity set\n * @param sectionKey key of the section (in case of OP)\n * @returns the custom columns, clustered by the manifest path\n */\nfunction clusterConfigColumnsByPath(\n    customColumnsInConfig: v2.TableCustomColumns,\n    schemaDefinition: object,\n    v2Page: v2.SapUiAppPageV2,\n    entitySet: string,\n    sectionKey: string\n): object {\n    const cluster = {};\n    for (const customColumn of customColumnsInConfig) {\n        //verify that mandatory parameters are filled\n        if (\n            !customColumn['className'] ||\n            !customColumn['fragmentName'] ||\n            !customColumn['columnKey'] ||\n            !customColumn['extensionType']\n        ) {\n            continue;\n        }\n        //check fragment name\n        if (schemaDefinition['properties']['fragmentName']['pattern']) {\n            const namePattern = new RegExp(schemaDefinition['properties']['fragmentName']['pattern']);\n            if (namePattern.test(customColumn['fragmentName']) === false) {\n                continue;\n            }\n        }\n        const { path, viewTemplateType } = getCustomColumnPath(\n            v2Page,\n            entitySet,\n            customColumn.tabKey || sectionKey,\n            customColumn['extensionType']\n        );\n\n        if (!cluster[path]) {\n            cluster[path] = {\n                viewTemplateType: viewTemplateType,\n                columns: []\n            };\n        }\n        cluster[path].columns.push(customColumn);\n    }\n    return cluster;\n}\n\n/**\n * Transfers column extensions to manifest and fragment files\n * @param {TransferParameterTypeV2} transferParameters - list of input parameters for the recursive function call\n * @param {TableCustomColumns} customColumnsInConfig - config part comprising the table custom columns\n * @param {object} schemaDefinition - Column schema definition\n * @param {ObjectPageSectionData} [objectPageSectionData] - Object Page section's data containing target and key options.\n */\nfunction transferColumnExtensions(\n    transferParameters: TransferParameterTypeV2,\n    customColumnsInConfig: v2.TableCustomColumns,\n    schemaDefinition: object,\n    objectPageSectionData?: ObjectPageSectionData\n): void {\n    const sectionKey = objectPageSectionData ? objectPageSectionData.key : undefined;\n    const sectionTarget = objectPageSectionData ? objectPageSectionData.target : undefined;\n    const entitySet = sectionTarget || transferParameters.v2Page.entitySet;\n    for (const extensionType in v2.TableColumnExtensionTypeV2) {\n        const { path } = getCustomColumnPath(transferParameters.v2Page, entitySet, sectionKey, extensionType);\n        if (!path) {\n            continue;\n        }\n        const columParams = {\n            path,\n            exportResults: transferParameters.exportResults,\n            entitySet,\n            config: customColumnsInConfig,\n            sectionKey,\n            extensionType,\n            appId: transferParameters.appId\n        };\n        deleteObsoleteColumnsFromFragment(columParams);\n    }\n    if (customColumnsInConfig) {\n        //cluster existing custom columns by manifest path (or tab key)\n        const cluster = clusterConfigColumnsByPath(\n            customColumnsInConfig,\n            schemaDefinition,\n            transferParameters.v2Page,\n            entitySet,\n            sectionKey\n        );\n        //Export to fragment\n        for (const path in cluster) {\n            exportCustomColumnsToFragment(\n                transferParameters.exportResults,\n                path,\n                cluster[path].columns,\n                transferParameters.appId,\n                cluster[path].viewTemplateType,\n                transferParameters.logger\n            );\n        }\n    }\n}\n\n/**\n * Recursive function that traverses the content of the current object. It reads decorators and fills manifest entries and flex changes\n * @param {TransferParameterTypeV2} transferParameters - list of input parameters for the recursive function call\n * @param configSections - sections from configuration object\n * @param pageKey  - page key\n * @param parentIds - array of collected parent ids\n * @param breadcrumbs - array of properties that we are currently processing. Required for instance for table column name\n * @param targetDefinition - the current entry point or definition in the app schema\n */\nfunction transferManifestExtensions(\n    transferParameters: TransferParameterTypeV2,\n    configSections: (ObjectPageCustomSectionFragment | ObjectPageCustomSectionView)[],\n    pageKey: string,\n    parentIds: string[],\n    breadcrumbs: string[],\n    targetDefinition: object\n): void {\n    const sectionIds: string[] = [];\n    const entity = pageKey.split('|')[1];\n    if (!configSections) {\n        return;\n    }\n    for (const section of configSections) {\n        const id = findAvailableId(sectionIds, [section.relativePosition, entity, section.relatedFacet].join('|'));\n        sectionIds.push(id);\n    }\n    for (let index = 0; index < sectionIds.length; index++) {\n        const definition = targetDefinition['anyOf'].find((element) =>\n            element.$ref.includes(configSections[index].constructor.name)\n        );\n        const definitionArray = definition.$ref.split(DEFINITION_LINK_PREFIX);\n        const nextTargetDefinition =\n            transferParameters.appSchema['definitions'][definitionArray[definitionArray.length - 1]];\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        transferManifestEntriesAndFlexChange(\n            transferParameters,\n            configSections[index],\n            parentIds,\n            [...breadcrumbs, sectionIds[index]],\n            nextTargetDefinition\n        );\n    }\n    // Delete removed manifest entries\n    const manifestSections = ensureManifestSectionByPathV2(\n        transferParameters.exportResults.manifest,\n        getViewExtensionsPath()\n    );\n    for (const key in manifestSections) {\n        if (isAssociatedCustomSection(key, entity) && !sectionIds.includes(key)) {\n            delete manifestSections[key];\n        }\n    }\n}\n\n/**\n * Method returns converted section id by resolving passed section id and title from schema.\n * @param {string[]} breadcrumbs Array of properties that we are currently processing. Required for instance for table column name.\n * @param {string} title Title from JSON schema, comprising the facet ID\n * @returns {string | undefined} Resolved section id.\n */\nfunction getSectionId(breadcrumbs: string[], title: string): string | undefined {\n    let sectionId = undefined;\n    for (let i = breadcrumbs.length - 1; i >= 0; i--) {\n        if (breadcrumbs[i] === PropertyName.table) {\n            sectionId = breadcrumbs[i - 1];\n            break;\n        }\n    }\n    return convertSectionId(sectionId, title);\n}\n\n/**\n * Processes index tables in schema\n */\nfunction transferIndexTable(\n    currentConfigObject: object,\n    transferParameters: TransferParameterTypeV2,\n    title: string,\n    key: string,\n    ids: string[],\n    breadcrumbs: string[]\n) {\n    const propertyDefinition = transferParameters.propertyDefinition as Definition;\n    if (!currentConfigObject || !propertyDefinition?.additionalProperties) {\n        return;\n    }\n    Object.keys(currentConfigObject).forEach((newKey) => {\n        const nextDefinition = getNextTargetDefinition(\n            transferParameters.appSchema,\n            title,\n            currentConfigObject[newKey],\n            propertyDefinition.additionalProperties as Definition,\n            key,\n            transferParameters.factory,\n            transferParameters.pageType\n        );\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        transferManifestEntriesAndFlexChange(\n            transferParameters,\n            nextDefinition.configObject,\n            ids,\n            [...breadcrumbs, key],\n            nextDefinition.targetDefinition,\n            newKey\n        );\n    });\n}\n\n/**\n * Transfers custom columns of schema\n */\nfunction transferCustomColumns(\n    propertyDefinition: any,\n    breadcrumbs: string[],\n    title: string,\n    transferParameters: TransferParameterTypeV2,\n    configObject: { [key: string]: any },\n    nextDefinition: NextDefinition\n) {\n    let objectPageSectionData: ObjectPageSectionData | undefined;\n    const target = getTargetFromCustomColumnRef(propertyDefinition.$ref);\n    if (target) {\n        objectPageSectionData = {\n            target,\n            key: getSectionId(breadcrumbs, title)\n        };\n    }\n    transferColumnExtensions(\n        transferParameters,\n        configObject?.custom as v2.TableCustomColumns,\n        nextDefinition.targetDefinition,\n        objectPageSectionData\n    );\n}\n\n/**\n * Processes anyOf definitions of schema\n */\nfunction handleAnyOfDefinitions(\n    propertyDefinition: any,\n    transferParameters: TransferParameterTypeV2,\n    title: string,\n    currentConfigObject: object,\n    key: string,\n    ids: string[],\n    breadcrumbs: string[]\n) {\n    propertyDefinition['anyOf'].forEach((element) => {\n        const nextDefinition = getNextTargetDefinition(\n            transferParameters.appSchema,\n            title,\n            currentConfigObject,\n            element,\n            key,\n            transferParameters.factory,\n            transferParameters.pageType\n        );\n        if (nextDefinition) {\n            // eslint-disable-next-line @typescript-eslint/no-use-before-define\n            transferManifestEntriesAndFlexChange(\n                transferParameters,\n                nextDefinition.configObject,\n                ids,\n                [...breadcrumbs, key],\n                nextDefinition.targetDefinition,\n                nextDefinition.title\n            );\n        }\n    });\n}\n\n/**\n * Processes complex definitions of schema\n */\nfunction transferComplexProperty(\n    transferParameters: TransferParameterTypeV2,\n    breadcrumbs: string[],\n    configObject: { [key: string]: any },\n    ids: string[],\n    propertyKey: string,\n    nextDefinition: NextDefinition,\n    title?: string\n): void {\n    const propertyDefinition = transferParameters.propertyDefinition as Definition;\n    if (\n        propertyDefinition?.type === 'array' &&\n        (breadcrumbs[0] === 'sections' || breadcrumbs[0] === 'subsections') &&\n        propertyKey === 'custom'\n    ) {\n        transferManifestExtensions(\n            transferParameters,\n            configObject[propertyKey],\n            transferParameters.pageKeys[transferParameters.pageKeys.length - 1],\n            ids,\n            [...breadcrumbs, propertyKey],\n            propertyDefinition?.items as Definition\n        );\n    } else if (nextDefinition && propertyKey === 'custom') {\n        transferCustomColumns(propertyDefinition, breadcrumbs, title, transferParameters, configObject, nextDefinition);\n        return;\n    } else if (nextDefinition) {\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        transferManifestEntriesAndFlexChange(\n            transferParameters,\n            nextDefinition.configObject,\n            ids,\n            [...breadcrumbs, propertyKey],\n            nextDefinition.targetDefinition,\n            nextDefinition.title\n        );\n    } else if (propertyDefinition['anyOf']) {\n        handleAnyOfDefinitions(\n            propertyDefinition,\n            transferParameters,\n            title,\n            configObject?.[propertyKey],\n            propertyKey,\n            ids,\n            breadcrumbs\n        );\n    }\n}\n\n/**\n * Function that traverses the content of the current object. It reads decorators and fills manifest entries and flex changes\n * @param {TransferParameterTypeV2} transferParameters - list of input parameters for the recursive function call\n * @param configObject - current (sub)object of the configuration file\n * @param parentIds - array of collected parent ids\n * @param breadcrumbs - array of properties that we are currently processing. Required for instance for table column name\n * @param schemaDefinition - the current entry point or definition in the app schema\n * @param title - title from the app schema (comprising for instance the facet ID)\n */\nexport function transferManifestEntriesAndFlexChange(\n    transferParameters: TransferParameterTypeV2,\n    configObject: { [key: string]: any },\n    parentIds: string[],\n    breadcrumbs: string[],\n    schemaDefinition: Definition,\n    title?: string\n): void {\n    let currentConfigObject: object;\n\n    if (!schemaDefinition?.properties) {\n        return;\n    }\n    for (const propertyKey in schemaDefinition.properties) {\n        currentConfigObject = configObject?.[propertyKey];\n        const childId = configObject && getChildId(configObject, propertyKey);\n        const ids = childId ? [...parentIds, childId] : parentIds;\n        const syncRule = getReflectMetadata(configObject, propertyKey);\n        const propertyDefinition = (transferParameters.propertyDefinition = schemaDefinition.properties[\n            propertyKey\n        ] as Definition);\n        const nextDefinition = (transferParameters.nextDefinition = getNextTargetDefinition(\n            transferParameters.appSchema,\n            title,\n            currentConfigObject,\n            propertyDefinition,\n            propertyKey,\n            transferParameters.factory,\n            transferParameters.pageType\n        ));\n        //Evaluate sync rule for the export\n        evaluateExportRule(transferParameters, syncRule, configObject, [...breadcrumbs], ids, title, propertyKey);\n        //index table\n        transferIndexTable(currentConfigObject, transferParameters, title, propertyKey, ids, breadcrumbs);\n\n        if (currentConfigObject === undefined || typeof currentConfigObject === 'object') {\n            transferComplexProperty(\n                transferParameters,\n                breadcrumbs,\n                configObject,\n                ids,\n                propertyKey,\n                nextDefinition,\n                title\n            );\n        } else if (propertyDefinition?.$ref === DEFINITION_LINK_PREFIX + 'TableCustomColumns') {\n            //empty config ==> delete all given extensions\n            transferColumnExtensions(\n                transferParameters,\n                [],\n                transferParameters.appSchema['definitions']['TableCustomColumn']\n            );\n            continue;\n        }\n    }\n}\n", "import type {\n    LineItem,\n    DataFieldForActionAbstractTypes,\n    DataFieldAbstractTypes\n} from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport type { AnnotationTerm, ConvertedMetadata, EntitySet, EntityType } from '@sap-ux/vocabularies-types';\nimport { getDataFieldDescription, findAlias, DEFINITION_LINK_PREFIX } from '../../common/utils';\nimport { getStableIdPartFromDataField } from './StableIdHelper';\nimport { UIAnnotationTypes, UIAnnotationTerms } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport {\n    addCommonLineItemDefinitions,\n    getFacetDefinitionLink,\n    parseSchemaDefinition,\n    prepareRef,\n    addDescriptiveEnumDefinition,\n    getActionKey,\n    addKeyToDefinition\n} from '../../common';\nimport i18next from 'i18next';\nimport { log, LogSeverity } from '../../..';\nimport type { Definition, DefinitionOrBoolean } from 'typescript-json-schema';\nimport type { ExtensionLogger, GenerateAppSchemaParameters } from '@sap/ux-specification-types';\nimport {\n    v4,\n    ManifestSection,\n    SchemaTag,\n    MANIFESTPATH,\n    SchemaKeyName,\n    DefinitionName,\n    UIVOCABULARY,\n    PropertyName,\n    TemplateType\n} from '@sap/ux-specification-types';\n\ntype CustomExtension = v4.TableCustomColumn | v4.CustomAction;\n\ninterface CustomExtensions {\n    [key: string]: CustomExtension;\n}\n\n/**\n * Sort function for properties in schema definitions.\n * @param definition - definition which contains list of properties, unsorted\n * @returns - list of properties, sorted by property index\n */\nfunction sortPropertiesRecords(definition: DefinitionOrBoolean) {\n    definition = typeof definition === 'object' ? definition : {};\n    function sortByPropertyIndex(): (a: [string, unknown], b: [string, unknown]) => number {\n        return ([_key1, value1], [_key2, value2]) => value1[SchemaTag.propertyIndex] - value2[SchemaTag.propertyIndex];\n    }\n    const unsortedObjArr = [...Object.entries(definition.properties)];\n    return unsortedObjArr.sort(sortByPropertyIndex());\n}\n\n/**\n * Method receives extension object and returns title/text.\n * @param extension - custom extension object from manifest.\n * @returns Title/text of custom extension.\n */\nfunction getExtensionText(extension: CustomExtension): string {\n    return 'header' in extension ? extension.header : extension.text;\n}\n\n/**\n * Adds a custom extension to the right position of a sorted array\n * @param extension - custom extension\n * @param sortedExtensionsArray - array of all entries(annotation entries and extensions), to be enhanced\n * @param targetIndex - index of the anchor entry\n * @param extId - ID of the new custom extension\n * @param newExtensionReference - schema reference of the new extension\n */\nfunction addExtensionToSortedArray(\n    extension: CustomExtension,\n    sortedExtensionsArray: [string, unknown][],\n    targetIndex: number,\n    extId: string,\n    newExtensionReference: { $ref: string; description: string }\n): void {\n    const placement = extension.position?.placement || v4.Placement.After;\n    if (placement === v4.Placement.Before) {\n        sortedExtensionsArray.splice(targetIndex, 0, [extId, newExtensionReference]);\n    } else {\n        sortedExtensionsArray.splice(targetIndex + 1, 0, [extId, newExtensionReference]);\n    }\n}\n\n/**\n * Adds remaining custom extensions that might self-reference and were not added in previous steps\n * @param {CustomExtensions} remainingExtensions - list of custom extensions that are left for post-processing\n * @param {string} extId - current id of remaining extensions\n * @param {CustomExtension} extension - current extension of remaining custom extensions\n * @param {[string, unknown]} sortedExtArray - sorted array of annotation-based extensions, to be updated\n * @param { $ref, description, key } newCustomExt - description based on extension in manifest\n */\nfunction addRemainingTargetByBefore(\n    remainingExtensions: CustomExtensions,\n    extId: string,\n    extension: CustomExtension,\n    sortedExtArray: [string, unknown][],\n    newCustomExt: { $ref: string; description: string; keys: Array<object> }\n) {\n    const targetRemainingIndex = Object.entries(remainingExtensions)\n        .filter(([key]) => key !== extId)\n        .findIndex(\n            ([_key, entry]) =>\n                entry.position?.placement === 'Before' && entry.position?.anchor === extension.position?.anchor\n        );\n    if (targetRemainingIndex === -1) {\n        sortedExtArray.splice(sortedExtArray.length, 0, [extId, newCustomExt]);\n        delete remainingExtensions[extId];\n    }\n}\n\n/**\n * Post-processing of custom extensions that are left after the first loop of adding extensions, i.e. custom extensions referring to other custom extensions\n * @param remainingExtensions - list of custom extensions that are left for post-processing\n * @param extensionDefinitionName - custom extension definition name, different in LR and OP\n * @param sortedExtArray - sorted array of annotation-based extensions, to be updated\n * @param logger - logger for error messages\n * @param {boolean} forceAdd - add self-referencing custom extensions after other additions\n */\nfunction adjustCustomExtReferringToCustomExt(\n    remainingExtensions: CustomExtensions,\n    extensionDefinitionName: string,\n    sortedExtArray: [string, unknown][],\n    logger: ExtensionLogger,\n    forceAdd = false\n): void {\n    const initialRemaining = Object.entries(remainingExtensions).length;\n    const getExtensionDetails = (extension: CustomExtension, extId: string) => {\n        const description = getExtensionText(extension);\n        return {\n            $ref: `${DEFINITION_LINK_PREFIX}${extensionDefinitionName}`,\n            description,\n            keys: [{ name: SchemaKeyName.key, value: `${extId}` }]\n        };\n    };\n    for (const extId in remainingExtensions) {\n        const extension = remainingExtensions[extId];\n        // Detect description based on extension in manifest\n        const newCustomExt = getExtensionDetails(extension, extId);\n        if (extension.position?.anchor && extension.position?.placement) {\n            const targetIndex = sortedExtArray.findIndex((element) => element[0] === extension.position.anchor);\n            if (targetIndex > -1) {\n                addExtensionToSortedArray(extension, sortedExtArray, targetIndex, extId, newCustomExt);\n                delete remainingExtensions[extId];\n            } else if (\n                extId === extension.position.anchor ||\n                Object.keys(remainingExtensions).indexOf(extension.position.anchor) === -1\n            ) {\n                log(logger, {\n                    severity: LogSeverity.Error,\n                    message: i18next.t('INVALIDANCHOR', { id: extId, anchor: extension.position.anchor }),\n                    location: {\n                        path: MANIFESTPATH,\n                        range: [ManifestSection.generic]\n                    }\n                });\n                sortedExtArray.splice(sortedExtArray.length, 0, [extId, newCustomExt]);\n                delete remainingExtensions[extId];\n            } else if (forceAdd) {\n                addRemainingTargetByBefore(remainingExtensions, extId, extension, sortedExtArray, newCustomExt);\n            }\n        }\n    }\n    const endRemaining = Object.entries(remainingExtensions).length;\n    if (endRemaining > 0 && initialRemaining !== endRemaining) {\n        adjustCustomExtReferringToCustomExt(remainingExtensions, extensionDefinitionName, sortedExtArray, logger);\n    } else if (endRemaining > 0) {\n        adjustCustomExtReferringToCustomExt(remainingExtensions, extensionDefinitionName, sortedExtArray, logger, true);\n    }\n}\n\n/**\n * Returns anchor for extension. Priority:\n * 1. 'anchor' property in extension;\n * 2. When 'anchor' is not defined in extension and does calculation based placement and current list of extension and annotation entries.\n * @param extension - extension in manifest\n * @param sortedExtensionsArray - sorted array of annotation-based nodes, to be enhanced by extensions\n */\nfunction getExtensionAnchor(extension: CustomExtension, sortedExtensionsArray: [string, unknown][]): string {\n    // Default placement is After\n    const placement = extension.position?.placement || v4.Placement.After;\n    let anchor = extension.position?.anchor;\n    if (!anchor) {\n        // Simulate runtime behavior - if there no anchor, then logic uses first or last annotation node\n        // In some cases last extension can be previously inserted extension - in such case we still need use annotation node\n        const index = placement === v4.Placement.Before ? 0 : sortedExtensionsArray.length - 1;\n        anchor = sortedExtensionsArray[index] ? sortedExtensionsArray[index][0] : undefined;\n    }\n    return anchor;\n}\n\n/**\n * Adds extension at the right position of the sorted array of annotation-based nodes\n * @param extensions - list of extensions in manifest\n * @param sortedExtensionsArray - sorted array of annotation-based nodes, to be enhanced by extensions\n * @param extensionDefinitionName - extension definition name, different in LR and OP\n * @param loggeloggerr - logger for error messages\n */\nfunction addExtensionToArray(\n    extensions: CustomExtensions,\n    sortedExtensionsArray: [string, unknown][],\n    extensionDefinitionName: string,\n    templatePropertyName = 'template',\n    logger?: ExtensionLogger\n): [string, unknown][] {\n    const annotationEntries = [...sortedExtensionsArray];\n    const localExtensions = { ...extensions };\n    for (const extensionId in localExtensions) {\n        const extension = localExtensions[extensionId];\n        if (!(templatePropertyName in extension)) {\n            // Skip regular entries(columns, actions, etc.)\n            delete localExtensions[extensionId];\n            continue;\n        }\n        const newExtensionReference = {\n            $ref: `${DEFINITION_LINK_PREFIX}${extensionDefinitionName}`,\n            description: getExtensionText(extension) || extensionId,\n            keys: [{ name: SchemaKeyName.key, value: `${extensionId}` }]\n        };\n        const anchor = getExtensionAnchor(extension, annotationEntries);\n        if (anchor) {\n            const targetIndex = sortedExtensionsArray.findIndex((element) => element[0] === anchor);\n            if (targetIndex > -1) {\n                addExtensionToSortedArray(\n                    extension,\n                    sortedExtensionsArray,\n                    targetIndex,\n                    extensionId,\n                    newExtensionReference\n                );\n                delete localExtensions[extensionId];\n            }\n        } else {\n            // Empty array - no any anchor to reference to\n            sortedExtensionsArray.push([extensionId, newExtensionReference]);\n            delete localExtensions[extensionId];\n        }\n    }\n    if (Object.keys(localExtensions).length > 0) {\n        //Second loop is necessary for custom columns that refer to custom columns\n        adjustCustomExtReferringToCustomExt(localExtensions, extensionDefinitionName, sortedExtensionsArray, logger);\n    }\n    return sortedExtensionsArray;\n}\n\n/**\n * Common function for enhancing the LineItems definition of app schema by custom columns\n * @param appSchema - app-specific JSON schema\n * @param v4Page - actual page in the manifest\n * @param logger - logger for error messages\n * @param customColumnDefinitionName - custom column definition name\n * @param sectionId - identifier of the current object page section in schema\n * @param sectionIdInManifest - identifier of the current object page section in manifest\n */\nexport function addCustomColumnDefinition(\n    appSchema: Definition,\n    v4Page: v4.SapUiAppPageV4,\n    logger: ExtensionLogger,\n    customColumnDefinitionName: string = DefinitionName.CustomColumn,\n    sectionId?: string,\n    sectionIdInManifest?: string\n): void {\n    const lineItemId = sectionId || DefinitionName.LineItems;\n    const lineItems = appSchema.definitions[lineItemId];\n    if (!lineItems) {\n        return;\n    }\n    //sort line items\n    let sortedColumnsArray = sortPropertiesRecords(lineItems);\n\n    const id = sectionIdInManifest ? sectionIdInManifest.replace(/::/g, '/') : `@${UIAnnotationTerms.LineItem}`;\n    const columns = v4Page.options?.settings?.controlConfiguration?.[id]?.['columns'];\n    if (columns) {\n        sortedColumnsArray = addExtensionToArray(\n            columns,\n            sortedColumnsArray,\n            customColumnDefinitionName,\n            undefined,\n            logger\n        );\n    }\n    //Adjust propertyIndex\n    for (let index = 0; index < sortedColumnsArray.length; index++) {\n        sortedColumnsArray[index][1][SchemaTag.propertyIndex] = index;\n    }\n    const sortedColumnsAsObject = {};\n    sortedColumnsArray.forEach(([key, value]) => (sortedColumnsAsObject[key] = value));\n    (appSchema.definitions[lineItemId] as Definition).properties = sortedColumnsAsObject;\n}\n\n/**\n * Processes a LineItem record of type DataFieldForAction during app schema generation\n * @param {LineItemDataForSchema} data: structure of input data\n * @param actions - actions definition in schema, parent object\n * @param lineItemPath - annotation path to the line item\n * @param lineItemRecord - actual record of the line item collection\n * @param recordIndex - record index in the collection\n */\nfunction addActionRecordToSchema(\n    data: LineItemDataForSchema,\n    actionsDefinition: Definition,\n    lineItemPath: string,\n    lineItemRecord: DataFieldForActionAbstractTypes,\n    recordIndex: number\n): void {\n    // Action but not inline action\n    if (lineItemRecord.Determining !== true) {\n        //no footer bar -> toolbar action\n        let actionDefinitionName: DefinitionName;\n        if (data.lineItemId.startsWith(DefinitionName.LineItemsOfView)) {\n            actionDefinitionName = DefinitionName.ViewToolBarAction;\n        } else if (data.lineItemId.startsWith(DefinitionName.LineItems)) {\n            actionDefinitionName = DefinitionName.ToolBarAction;\n        } else {\n            actionDefinitionName = DefinitionName.ObjectPageToolBarAction;\n        }\n        const actionId = (lineItemRecord.Action as string).replace('/', '??');\n        const description = getDataFieldDescription(lineItemRecord as DataFieldAbstractTypes, data.entityType);\n        const prefix = lineItemRecord.$Type.split(`${UIVOCABULARY}.`)[1];\n        const actionDefinition = (actionsDefinition.properties[`${prefix}::${lineItemRecord.Action as string}`] = {\n            $ref: getFacetDefinitionLink(actionDefinitionName, prepareRef(actionId)),\n            description\n        });\n        const { key, ns } = getActionKey(lineItemRecord.Action as string, true);\n        actionDefinition[SchemaTag.propertyIndex] = recordIndex;\n        actionDefinition[SchemaTag.keys] = [{ name: SchemaKeyName.action, value: key }];\n        if (ns) {\n            actionDefinition[SchemaTag.target] = ns;\n        }\n        actionDefinition[SchemaTag.annotationType] = lineItemRecord.$Type;\n        const action = parseSchemaDefinition(actionDefinitionName, prepareRef(actionId), data.appSchema);\n        action[SchemaTag.annotationPath] = `${lineItemPath}/${recordIndex}`;\n    }\n}\n\n/**\n * Processes a LineItem record of type DataField during app schema generation\n * @param {LineItemDataForSchema} data: structure of input data\n * @param lineItem - object comprising the line item information:\n * { lineItemRecord, lineItemId, lineItemPath }\n * @param columnDefinitionName - Schema definition name for the column\n * @param recordIndex - record index in the collection\n */\nfunction addLineItemRecordToSchema(\n    data: LineItemDataForSchema,\n    lineItem: object,\n    columnDefinitionName: string,\n    recordIndex: number\n) {\n    const lineItemId = lineItem['lineItemId'];\n    const lineItemRecord = lineItem['lineItemRecord'];\n    if (lineItemRecord['Target']?.['value']) {\n        const regex = `@${findAlias(UIVOCABULARY, data.oDataServiceAVT)}.`;\n        lineItemRecord['Target']['value'] = lineItemRecord['Target']['value'].replace(regex, '@');\n    }\n    const schemaKey = getStableIdPartFromDataField(lineItemRecord);\n    if (schemaKey) {\n        const properties = (data.appSchema.definitions[lineItemId] as Definition).properties;\n        properties[schemaKey] = {\n            $ref: DEFINITION_LINK_PREFIX + columnDefinitionName,\n            description: getDataFieldDescription(lineItemRecord, data.entityType)\n        };\n        properties[schemaKey][SchemaTag.annotationType] = lineItemRecord?.$Type;\n        properties[schemaKey][SchemaTag.annotationPath] = `${lineItem['lineItemPath']}/${recordIndex}`;\n        properties[schemaKey][SchemaTag.propertyIndex] = recordIndex;\n        if (lineItemRecord['Value']?.$target?.type) {\n            properties[schemaKey][SchemaTag.dataType] = lineItemRecord['Value']?.$target?.type.replace('Edm.', '');\n        }\n        addKeyToDefinition(lineItemRecord, properties, schemaKey);\n    }\n}\n\nexport type LineItemDataForSchema = {\n    appSchema: Definition;\n    lineItemAnnotation: AnnotationTerm<LineItem>;\n    entityType: EntityType;\n    oDataServiceAVT: ConvertedMetadata;\n    lineItemId: string;\n};\n\n/**\n * Adds the line item definition, columns and actions to the app schema (for the list report or an object page section comprising a table)\n * @param {LineItemDataForSchema} data: structure comprising\n * - appSchema - the app specific schema that shall get enhanced\n * - lineItemAnnotation - the UI.LineItem annotation, comprising all records\n * - entityType - the entity type as part of the AVT ConvertedMetadata\n * - oDataServiceAVT - complete service information, as returned by Annotation Vocabularies Tool\n * - lineItemId - in case of OP the parameter must be passed to distinguish the OP tables;\n *                in case of LR or ALP 'LineItems' is passed.\n * @param columnDefinitionName - name of the column definition, i.e. TableColumn or ObjectPageTableColumn\n * @param customColumnDefinitionName - name of the custom column definition\n */\nexport function addLineItemsTypeToSchema(\n    data: LineItemDataForSchema,\n    columnDefinitionName: string = DefinitionName.TableColumn,\n    customColumnDefinitionName: string = DefinitionName.CustomColumn,\n    customActionDefinitionName: string = DefinitionName.CustomTableAction\n): void {\n    const { actions, lineItemPath } = addCommonLineItemDefinitions(\n        data.appSchema,\n        data.lineItemAnnotation,\n        data.entityType,\n        data.lineItemId,\n        customColumnDefinitionName,\n        customActionDefinitionName\n    );\n\n    if (!data.lineItemAnnotation) {\n        return;\n    }\n    let i = 0;\n    data.lineItemAnnotation.forEach((lineItemRecord) => {\n        if (\n            (lineItemRecord.$Type === UIAnnotationTypes.DataFieldForAction ||\n                lineItemRecord.$Type === UIAnnotationTypes.DataFieldForIntentBasedNavigation) &&\n            (lineItemRecord.Inline !== true || lineItemRecord.Determining === true)\n        ) {\n            addActionRecordToSchema(data, actions, lineItemPath, lineItemRecord, i);\n        } else {\n            const lineItem = { lineItemRecord, lineItemId: data.lineItemId, lineItemPath };\n            const columnDefinition =\n                lineItemRecord.$Type === UIAnnotationTypes.DataFieldForAction\n                    ? `${columnDefinitionName}Action`\n                    : columnDefinitionName;\n            addLineItemRecordToSchema(data, lineItem, columnDefinition, i);\n        }\n        i++;\n    });\n}\n\n/**\n * Adds an enum or value help to position > anchor of custom column\n * @param appSchema - app specific JSON schema\n * @param lineItemId - ID of the current line item in schema\n * @param v4Page - current page in manifest\n * @param positionName - ID of the definition of custom column position in schema\n * @param sectionIdInManifest - identifier of the current object page section in manifest\n */\nexport function addFragmentEnumForAnchor(\n    appSchema: Definition,\n    lineItemId: string,\n    v4Page: v4.SapUiAppPageV4,\n    positionName: string = DefinitionName.Position,\n    sectionIdInManifest?: string\n): void {\n    const columns = (appSchema.definitions[lineItemId] as Definition)?.properties;\n    const enumEntries = [];\n    if (columns) {\n        for (const key in columns) {\n            if (key !== 'custom') {\n                enumEntries.push(key);\n            }\n        }\n    }\n    const id = lineItemId !== DefinitionName.LineItems ? sectionIdInManifest : `@${UIAnnotationTerms.LineItem}`;\n    const columnsInManifest = v4Page.options?.settings?.controlConfiguration?.[id]?.['columns'];\n    if (columnsInManifest) {\n        for (const key in columnsInManifest) {\n            if (enumEntries.indexOf(key) === -1) {\n                enumEntries.push(key);\n            }\n        }\n    }\n    if (enumEntries.length > 0) {\n        (appSchema.definitions[positionName] as Definition).properties['anchor']['enum'] = enumEntries;\n    }\n}\n\n/**\n * Adds an enum or value help to position > anchor of custom column\n * @param appSchema - app specific JSON schema\n * @param definitionId - definition key of actions\n * @param positionName - target definition to update\n */\nexport function addEnumForActionAnchor(\n    appSchema: Definition,\n    definitionId: string,\n    positionName: string = DefinitionName.CustomActionPosition\n): void {\n    addDescriptiveEnumDefinition(appSchema, appSchema.definitions[definitionId], {\n        definition: positionName,\n        property: 'anchor'\n    });\n}\n\n/**\n * Find the relevant V4 page under the routing targets of manifest,json\n * @param pages - list of all pages in manifest\n * @param pageName - search criterion: page name\n * @param entitySet - search criterion: entity set\n * @param logger - logger for messages\n * @returns the page definition in manifest (if found)\n */\nexport function findPageV4(\n    pages: v4.SapUiAppPageV4[],\n    pageName: string,\n    entitySet: EntitySet,\n    logger: ExtensionLogger\n): v4.SapUiAppPageV4 | undefined {\n    let v4Page: v4.SapUiAppPageV4;\n    if (entitySet) {\n        for (const i in pages) {\n            if (\n                pages[i].options?.settings?.entitySet === entitySet.name &&\n                (pages[i].name === pageName ||\n                    (pageName === v4.FE_TEMPLATE_V4_ALP && pages[i].name === v4.FE_TEMPLATE_V4_LIST_REPORT))\n            ) {\n                v4Page = pages[i];\n                break;\n            }\n        }\n    }\n    if (!v4Page) {\n        log(logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOENTITYSET', { entitySet }),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.generic]\n            }\n        });\n    }\n    return v4Page;\n}\n\n/**\n * Depending on the template type, strip down the app schema so that only the relevant views are part of it\n * @param {Definition} appSchema - app specific JSON schema, to be adjusted\n * @param {GenerateAppSchemaParameters} generateParameters - object comprising all input parameters\n * @returns the right definition name for the table in the schema\n */\nexport function alignSchemaWithTemplateType(\n    appSchema: Definition,\n    generateParameters: GenerateAppSchemaParameters\n): DefinitionName.Table | DefinitionName.ALPTableView {\n    let tableDefinitionName;\n    const tableDefinition = appSchema.properties[PropertyName.table] as Definition;\n    if (generateParameters.templateType === TemplateType.AnalyticalListPageV4) {\n        tableDefinitionName = DefinitionName.ALPTableView;\n\n        delete tableDefinition.anyOf;\n        tableDefinition.$ref = `${DEFINITION_LINK_PREFIX}${DefinitionName.ALPTableView}`;\n        delete appSchema.definitions[DefinitionName.Table];\n        delete appSchema.definitions[DefinitionName.LRChartView];\n        delete appSchema.definitions[DefinitionName.LRTableView];\n        delete appSchema.definitions[DefinitionName.MultiTableModeV4];\n    } else if (generateParameters.templateType === TemplateType.ListReportObjectPageV4) {\n        tableDefinitionName = DefinitionName.Table;\n\n        delete tableDefinition.anyOf;\n        tableDefinition.$ref = `${DEFINITION_LINK_PREFIX}${DefinitionName.Table}`;\n        (appSchema.definitions[tableDefinitionName] as Definition).properties[PropertyName.annotationPath][\n            SchemaTag.hidden\n        ] = true;\n        delete appSchema.definitions[DefinitionName.ALPTableView];\n        appSchema.properties[PropertyName.defaultPath][SchemaTag.hidden] = true;\n    }\n    return tableDefinitionName;\n}\n\n/**\n * Common function for enhancing LineItems and FieldGroups definitions of app schema by custom action definitions\n * @param appSchema - app-specific JSON schema\n * @param v4Page - actual page in the manifest\n * @param logger - logger for error messages\n * @param customActionDefinitionName - definition name of custom action\n * @param sectionId - identifier of the current object page section in schema\n * @param sectionIdInManifest - identifier of the current object page section in manifest\n */\nexport function addCustomActionDefinition(\n    appSchema: Definition,\n    v4Page: v4.SapUiAppPageV4,\n    logger: ExtensionLogger,\n    customActionDefinitionName: string = DefinitionName.CustomTableAction,\n    sectionId = '',\n    sectionIdInManifest = ''\n): void {\n    const definition = appSchema.definitions[sectionId];\n    if (!definition) {\n        return;\n    }\n    // Sort existing actions\n    let sortedActionsArray = sortPropertiesRecords(definition);\n\n    let configId;\n    if (sectionIdInManifest) {\n        if (customActionDefinitionName.indexOf(DefinitionName.CustomFormActionOP) !== -1) {\n            configId = sectionIdInManifest.replace(/::/g, '#');\n        } else {\n            configId = sectionIdInManifest.replace(/::/g, '/');\n        }\n    } else {\n        if (customActionDefinitionName === DefinitionName.CustomFormActionOP) {\n            configId = `@${UIAnnotationTerms.FieldGroup}`;\n        } else {\n            configId = `@${UIAnnotationTerms.LineItem}`;\n        }\n    }\n\n    const actions = v4Page.options?.settings?.controlConfiguration?.[configId]?.['actions'];\n    if (actions) {\n        sortedActionsArray = addExtensionToArray(\n            actions,\n            sortedActionsArray,\n            customActionDefinitionName,\n            'press',\n            logger\n        );\n    }\n    // Adjust propertyIndex\n    for (let index = 0; index < sortedActionsArray.length; index++) {\n        sortedActionsArray[index][1][SchemaTag.propertyIndex] = index;\n    }\n    const sortedActionsAsObject = {};\n    sortedActionsArray.forEach(([key, value]) => (sortedActionsAsObject[key] = value));\n    (appSchema.definitions[sectionId] as Definition).properties = sortedActionsAsObject;\n}\n", "import type { LineItemDataForSchema } from '../utils/utils';\nimport {\n    alignSchemaWithTemplateType,\n    addCustomColumnDefinition,\n    addFragmentEnumForAnchor,\n    addLineItemsTypeToSchema,\n    findPageV4,\n    addEnumForActionAnchor,\n    addCustomActionDefinition\n} from '../utils/utils';\n\nimport {\n    ArtifactType,\n    ManifestSection,\n    UIVOCABULARY,\n    TemplateType,\n    Visualization,\n    SchemaKeyName,\n    PropertyName,\n    DefinitionName,\n    FacetBase,\n    MANIFESTPATH,\n    SchemaTag,\n    LogSeverity,\n    UIVOCABULARYDOT\n} from '@sap/ux-specification-types';\nimport type { v4, GenerateAppSchemaParameters } from '@sap/ux-specification-types';\nimport type { AnnotationTerm, EntitySet, EntityType } from '@sap-ux/vocabularies-types';\nimport type { DataFieldAbstractTypes, LineItem, SelectionFields } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport { UIAnnotationTerms } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport i18next from 'i18next';\nimport { log } from '../../../extensionLogger';\nimport {\n    addEnumForSingleTabVariant,\n    createAnnotationPath,\n    DEFINITION_LINK_PREFIX,\n    determineDataType,\n    findAlias,\n    getDataFieldDescription,\n    getLabelForPropertyPath,\n    prepareRef,\n    parseSchemaDefinition,\n    addDefinitionRef,\n    getCustomExtensionDefinitionName,\n    getDefinitionKey\n} from '../../common';\nimport type { Definition } from 'typescript-json-schema';\n\n/**\n * Adds the selection fields to the app schema, as properties of the FilterBar\n * @param entityType - the entity type as part of the AVT ConvertedMetadata\n * @param appSchema - the app specific schema that shall get enhanced\n * @param selectionFieldsAnnotation - the UI.SelectionField annotation\n */\nfunction addSelectionFields(\n    entityType: EntityType,\n    appSchema: Definition,\n    selectionFieldsAnnotation: AnnotationTerm<SelectionFields>\n): void {\n    const selectionFieldsDefinition = appSchema.definitions.SelectionFields as Definition;\n    selectionFieldsDefinition.additionalProperties = false;\n    selectionFieldsDefinition.properties = {};\n    if (!entityType) {\n        return;\n    }\n    selectionFieldsDefinition[SchemaTag.annotationPath] = createAnnotationPath(\n        entityType.fullyQualifiedName,\n        UIAnnotationTerms.SelectionFields\n    );\n    if (!selectionFieldsAnnotation) {\n        return;\n    }\n    let i = 0;\n    selectionFieldsAnnotation.forEach((selectionField) => {\n        let description = selectionField.value;\n        const fieldDefinition = 'SelectionField::' + prepareRef(selectionField.value);\n        if (selectionField.type === 'PropertyPath') {\n            description = getLabelForPropertyPath(selectionField, entityType);\n        }\n        selectionFieldsDefinition.properties[fieldDefinition] = {\n            $ref: DEFINITION_LINK_PREFIX + fieldDefinition\n        };\n        selectionFieldsDefinition.properties[fieldDefinition][SchemaTag.propertyIndex] = i;\n        const dataType = determineDataType(selectionField);\n        appSchema.definitions[fieldDefinition] = {\n            type: 'object',\n            properties: {},\n            description,\n            additionalProperties: false,\n            ...(dataType && { dataType })\n        };\n        appSchema.definitions[fieldDefinition][SchemaTag.isViewNode] = true;\n        appSchema.definitions[fieldDefinition][SchemaTag.keys] = [\n            { name: SchemaKeyName.value, value: `${selectionField.value}` }\n        ];\n        if (selectionField.$target?.fullyQualifiedName.indexOf('@') > -1) {\n            appSchema.definitions[fieldDefinition][SchemaTag.target] = selectionField.$target.fullyQualifiedName\n                .split('@')[0]\n                .split('/')[0];\n        } else if (selectionField.$target?.fullyQualifiedName) {\n            appSchema.definitions[fieldDefinition][SchemaTag.target] =\n                selectionField.$target.fullyQualifiedName.split('/')[0];\n        }\n\n        appSchema.definitions[fieldDefinition][SchemaTag.annotationType] = selectionField?.type;\n        appSchema.definitions[fieldDefinition][SchemaTag.annotationPath] = `${\n            selectionFieldsDefinition[SchemaTag.annotationPath]\n        }/${i}`;\n        i++;\n    });\n}\n\n/**\n * Convert alias prefix of visualization if different from @UI (e.g. SAP__UI)\n * @param visualization visualization of an (Selection)PresentationVariant\n * @param alias - the given alias or namespace of the OData annotations\n * @returns the converted visualization\n */\nfunction convertVisualization(visualization: string, alias: string): string | undefined {\n    if (visualization && !visualization.startsWith(`@${alias}`)) {\n        return visualization.replace(visualization.split('.')[0], '@UI');\n    } else {\n        return visualization;\n    }\n}\n\nfunction defineActions(\n    appSchema: Definition,\n    schemaIdForActions: string,\n    annotations,\n    targetAnnotation: string,\n    entityType: EntityType\n) {\n    appSchema.definitions[schemaIdForActions] = JSON.parse(JSON.stringify(appSchema.definitions['Actions']));\n    const actions = appSchema.definitions[schemaIdForActions] as Definition;\n    actions.properties = {};\n    actions.additionalProperties = false;\n    const chartAnnotation = annotations[targetAnnotation?.split(`${UIVOCABULARY}.`)[1]];\n    if (chartAnnotation && chartAnnotation.Actions) {\n        let i = 0;\n        chartAnnotation.Actions.forEach((actionRecord) => {\n            const actionDefinition = prepareRef(`${DefinitionName.ChartToolBarAction}<${actionRecord.Action}>`);\n            const description = getDataFieldDescription(actionRecord as DataFieldAbstractTypes, entityType);\n            const prefix = actionRecord.$Type.split(`${UIVOCABULARY}.`)[1];\n            const action = (actions.properties[`${prefix}::${actionRecord.Action}`] = {\n                $ref: DEFINITION_LINK_PREFIX + actionDefinition,\n                description\n            });\n            //Add tags\n            action[SchemaTag.propertyIndex] = i;\n            action[SchemaTag.annotationType] = actionRecord.$Type;\n            action[SchemaTag.annotationPath] = `/${actionRecord.fullyQualifiedName}`;\n            //as ChartToolBarAction is an empty object, copy ViewToolBarAction and remove properties\n            appSchema.definitions[actionDefinition] = JSON.parse(\n                JSON.stringify(appSchema.definitions[DefinitionName.ViewToolBarAction])\n            );\n            (appSchema.definitions[actionDefinition] as Definition).properties = {};\n            appSchema.definitions[actionDefinition][SchemaTag.annotationPath] = actionRecord.fullyQualifiedName;\n            i++;\n        });\n    }\n}\n\n/**\n * Finds the right visualization for a given view\n * @param allVisualizations - list of visualizations for the given (S)PV\n * @param alias - alias definition for the relevant namespace\n * @param namespace - namespace for the UI annotations\n * @param viewKey - view key: primary, secondary, or anything else; may also be undefined. The first visualization is taken in this case.\n * @param visualizationType - allows to find the right visualization if there are many.\n * @returns the value of the first fitting visualization\n */\nfunction findTheRightVisualization(\n    allVisualizations: Array<object>,\n    alias: string,\n    namespace: string,\n    viewKey?: string,\n    visualizationType?: Visualization\n): { visualization: string; targetAnnotation: string } {\n    let visualization: string, visualizationObject: object, targetAnnotation: string;\n    if (allVisualizations) {\n        if (viewKey === 'primary') {\n            visualizationObject = allVisualizations.find((vis) => {\n                return vis['value'].indexOf('Chart') > -1;\n            });\n        } else if (viewKey === 'secondary') {\n            visualizationObject = allVisualizations.find((vis) => {\n                return vis['value'].indexOf(FacetBase.LineItem) > -1;\n            });\n        } else {\n            if (visualizationType) {\n                visualizationObject = allVisualizations.find((v) => v['value'].indexOf(visualizationType) > -1);\n            } else {\n                visualizationObject = allVisualizations[0];\n            }\n        }\n        visualization = convertVisualization(visualizationObject?.['value'], alias);\n        if (visualizationObject?.['$target']?.fullyQualifiedName) {\n            targetAnnotation = `/${namespace}/${visualizationObject['$target'].fullyQualifiedName.split(namespace)[1]}`;\n        } else if (visualization) {\n            targetAnnotation = `/${namespace}/` + visualization.replace(`UI`, UIVOCABULARY);\n        }\n    }\n    return { visualization, targetAnnotation };\n}\n\n/**\n * An annotationPath must be analyzed, to find the right target annotation and visualization\n *\n */\nfunction analyzeChartAnnotation(\n    namespace: string,\n    annotationPath: string,\n    annotationAVT: object,\n    viewKey: string\n): { visualization: string; targetAnnotation: string; chartTitle: string } {\n    const visualization = '@UI.Chart';\n    const targetAnnotationFullName = `/${namespace}/@${annotationPath}`;\n    let chartTitle: string;\n\n    if (annotationAVT['Title']) {\n        chartTitle = annotationAVT['Title'];\n    } else {\n        chartTitle = `Chart View (${viewKey})`;\n    }\n    return { visualization, targetAnnotation: targetAnnotationFullName, chartTitle };\n}\n\n/**\n * An annotationPath must be analyzed, to find the right target annotation and visualization\n * @param annotationPath - given annotationPath\n * @param uIAnnotations - annotations of UI namespace of the given entityType\n * @param generateParameters - parameters required to generate app schema\n * @param viewKey - allows to distinguish the different view types (LR or ALP)\n * @param visualizationType - allows to find the right visualization if there are many.\n * @returns { visualization: string describing the visualization of the annotation,\n *            targetAnnotation: the target annotation behind the visualization\n *            namespace: namespace of the annotation,\n *            title: title to be shown, derived from the annotation }\n */\nfunction analyzeViewAnnotation(\n    annotationPath: string,\n    uIAnnotations: object,\n    generateParameters: GenerateAppSchemaParameters,\n    viewKey?: string,\n    visualizationType?: Visualization\n): { visualization: string; targetAnnotation: string; namespace: string; title: string } {\n    let namespace: string = undefined,\n        title: string;\n    const UILINEITEM = '@UI.LineItem';\n    const annotationInManifest = annotationPath?.split(`${UIVOCABULARY}.`)[1];\n    const annotationAVT = annotationInManifest && uIAnnotations[annotationInManifest];\n    if (!annotationAVT) {\n        return { visualization: undefined, targetAnnotation: undefined, namespace, title: `View (${viewKey})` };\n    }\n    title = annotationAVT.Text;\n    namespace = annotationAVT.fullyQualifiedName.split('@com.sap.vocabularies.UI.v1.')[0];\n    const alias = findAlias(UIVOCABULARY, generateParameters.serviceAVT);\n\n    if (annotationInManifest.startsWith('PresentationVariant')) {\n        const { visualization, targetAnnotation } = findTheRightVisualization(\n            annotationAVT.Visualizations,\n            alias,\n            namespace,\n            viewKey,\n            visualizationType\n        );\n        title = title || `View (${viewKey})`;\n        return { visualization, targetAnnotation, namespace, title };\n    } else if (annotationInManifest.startsWith('SelectionPresentationVariant')) {\n        let { visualization, targetAnnotation } = findTheRightVisualization(\n            annotationAVT.PresentationVariant.Visualizations,\n            alias,\n            namespace,\n            viewKey,\n            visualizationType\n        );\n        if (!visualization) {\n            visualization = UILINEITEM; // default visualization\n            targetAnnotation = `/${namespace}/` + visualization.replace(`UI`, UIVOCABULARY); // default targetAnnotation\n        }\n        title = title || `View (${viewKey})`;\n        return { visualization, targetAnnotation, namespace, title };\n    } else if (annotationInManifest.startsWith('SelectionVariant')) {\n        const visualization = UILINEITEM;\n        const targetAnnotation = `/${namespace}/@com.sap.vocabularies.UI.v1.LineItem`;\n        title = title || `Table View (${viewKey})`;\n        return { visualization, targetAnnotation, namespace, title };\n    } else if (annotationInManifest.startsWith('LineItem')) {\n        const visualization = UILINEITEM;\n        const targetAnnotation = `/${namespace}/@${annotationPath}`;\n        title = title || `Table View (${viewKey})`;\n        return { visualization, targetAnnotation, namespace, title };\n    } else if (annotationInManifest.startsWith('Chart')) {\n        const { visualization, targetAnnotation, chartTitle } = analyzeChartAnnotation(\n            namespace,\n            annotationPath,\n            annotationAVT,\n            viewKey\n        );\n        return { visualization, targetAnnotation, namespace, title: chartTitle };\n    }\n    return { visualization: undefined, targetAnnotation: undefined, namespace, title: `View (${viewKey})` };\n}\n\n/**\n * Adds the ALP chart view to the app-specific schema\n * @param {Definition} appSchema - app-specific JSON schema\n * @param targetAnnotation - target annotation of the chart view, as determined by analyzeViewAnnotation\n * @param annotations - UI annotations, as determined by AVT\n */\nfunction addALPChartView(appSchema: Definition, chartAnnotationPath: string, targetAnnotation: string, annotations) {\n    const chartView = appSchema.definitions[DefinitionName.ALPChartView] as Definition;\n    appSchema.definitions[DefinitionName.ALPChart] = JSON.parse(JSON.stringify(chartView));\n    delete appSchema.definitions[DefinitionName.ALPChart][SchemaTag.isViewNode];\n    if (targetAnnotation) {\n        appSchema.definitions[DefinitionName.ALPChart][SchemaTag.annotationPath] = targetAnnotation;\n    }\n    (appSchema.definitions[DefinitionName.ALPChart] as Definition).properties.annotationPath[SchemaTag.hidden] = true;\n\n    chartView.properties.annotationPath[SchemaTag.hidden] = true;\n    chartView.additionalProperties = false;\n    chartView.description = `Chart (key: primary)`;\n    chartView.title = `Chart`;\n    chartView.$ref = `${DEFINITION_LINK_PREFIX}${DefinitionName.ALPChart}`;\n    if (chartAnnotationPath) {\n        const viewAnnotation = chartAnnotationPath.split(UIVOCABULARYDOT)[1];\n        const pathParts = annotations[viewAnnotation].fullyQualifiedName.split('@');\n        chartView[SchemaTag.annotationPath] = `/${pathParts[0]}/@${pathParts[1]}`;\n    }\n    chartView[SchemaTag.artifactType] = ArtifactType.Manifest;\n    chartView[SchemaTag.key] = 'primary';\n    chartView[SchemaTag.keys] = [{ name: SchemaKeyName.key, value: 'primary' }];\n}\n\n/**\n * Adds the ALP views to the app-specific schema\n * @param {Definition} appSchema - app-specific JSON schema\n * @param {Array<Object>} viewsPaths - views' paths' section in the manifest\n * @param {EntityType} entityType - actual entity type of the page's entitySet\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param templateAnnotation - defaultTemplateAnnotationPath as registered in manifest\n * @param {SapUiAppPageV4} v4Page - actual page in the manifest\n */\nfunction addALPViews(\n    appSchema: Definition,\n    viewsPaths: Array<Object>,\n    entityType: EntityType,\n    generateParameters: GenerateAppSchemaParameters,\n    templateAnnotation: string,\n    v4Page: v4.SapUiAppPageV4,\n    tableDefinitionName: string\n) {\n    const annotations = entityType.annotations.UI;\n    //1. Chart View\n    const chartAnnotationPath = viewsPaths?.[0]?.['primary']?.[0]?.[SchemaTag.annotationPath];\n    const { targetAnnotation } = analyzeViewAnnotation(chartAnnotationPath, annotations, generateParameters, 'primary');\n    addALPChartView(appSchema, chartAnnotationPath, targetAnnotation, annotations);\n    // Copy toolbar\n    const schemaIdForActions = `Actions<ALPChart>`;\n    (appSchema.definitions[DefinitionName.ViewChartToolBar] as Definition).properties.actions['$ref'] =\n        DEFINITION_LINK_PREFIX + schemaIdForActions;\n\n    defineActions(appSchema, schemaIdForActions, annotations, targetAnnotation, entityType);\n\n    //2. Table View\n    const { visualization: tableVisualization, targetAnnotation: target } = analyzeViewAnnotation(\n        viewsPaths?.[0]?.['secondary']?.[0]?.[SchemaTag.annotationPath],\n        annotations,\n        generateParameters,\n        'secondary'\n    );\n    const tableDefinition = appSchema.definitions[tableDefinitionName] as Definition;\n    if (tableVisualization || templateAnnotation) {\n        tableDefinition.properties.toolBar['$ref'] = `${DEFINITION_LINK_PREFIX}${DefinitionName.ToolBarLR}`;\n        // Switch from generic column to specific definition\n        tableDefinition.properties['columns'] = {\n            $ref: DEFINITION_LINK_PREFIX + DefinitionName.LineItems\n        };\n        tableDefinition.properties.annotationPath[SchemaTag.hidden] = true;\n    } else {\n        tableDefinition.properties = {};\n    }\n    const tableView = appSchema.definitions[DefinitionName.ALPTableView] as Definition;\n    appSchema.definitions[DefinitionName.ALPTable] = JSON.parse(JSON.stringify(tableView));\n    delete appSchema.definitions[DefinitionName.ALPTable][SchemaTag.isViewNode];\n    tableView.additionalProperties = false;\n    tableView.description = `Table (key: secondary)`;\n    tableView.title = `Table`;\n    if (tableVisualization) {\n        delete tableView.properties;\n        tableView.$ref = `${DEFINITION_LINK_PREFIX}${DefinitionName.ALPTable}`;\n    } else if (!templateAnnotation) {\n        tableView.properties = {};\n    }\n    tableView[SchemaTag.artifactType] = ArtifactType.Manifest;\n\n    let annotationTerm: string, viewAnnotation: string;\n    if (tableVisualization && tableVisualization.indexOf(FacetBase.LineItem) > -1) {\n        annotationTerm = tableVisualization.split('.')[1];\n        viewAnnotation = viewsPaths[0]['secondary'][0].annotationPath.split(UIVOCABULARYDOT)[1];\n    } else if (templateAnnotation) {\n        annotationTerm = viewAnnotation = templateAnnotation.split(UIVOCABULARYDOT)[1];\n    }\n    if (annotationTerm) {\n        const dataForLineItem: LineItemDataForSchema = {\n            appSchema,\n            lineItemAnnotation: entityType.annotations.UI[annotationTerm] as AnnotationTerm<LineItem>,\n            entityType,\n            oDataServiceAVT: generateParameters.serviceAVT,\n            lineItemId: DefinitionName.LineItems\n        };\n        addLineItemsTypeToSchema(dataForLineItem, DefinitionName.ViewTableColumn);\n        if (target) {\n            appSchema.definitions[DefinitionName.ALPTable][SchemaTag.annotationPath] = target;\n        }\n        const pathParts = annotations[viewAnnotation].fullyQualifiedName.split('@');\n        tableView[SchemaTag.annotationPath] = `/${pathParts[0]}/@${pathParts[1]}`;\n        tableView[SchemaTag.key] = 'secondary';\n        tableView[SchemaTag.keys] = [{ name: SchemaKeyName.key, value: 'secondary' }];\n    }\n    addCustomColumnDefinition(appSchema, v4Page, generateParameters.logger);\n    // Table toolbar actions with custom actions\n    const schemaIdForToolbarActions = `${DefinitionName.Actions}<${prepareRef(DefinitionName.LineItems)}>`;\n    addCustomActionDefinition(appSchema, v4Page, generateParameters.logger, undefined, schemaIdForToolbarActions);\n    addEnumForActionAnchor(appSchema, schemaIdForToolbarActions, DefinitionName.CustomActionPosition);\n}\n\ntype ViewsParameters = {\n    viewKey: string;\n    appSchema: Definition;\n    targetAnnotation: string;\n    navPropName: string;\n    targetEntityType: EntityType;\n    title: string;\n};\n\n/**\n * Modifies the app schema, adds the right line chart settings\n * @param inputParameters - list of input parameters as collected by the calling instance\n * @param annotations - UI annotations of the given entityType\n * @returns the ID for the chart view in schema\n */\nfunction addViewChartDefinitions(inputParameters: ViewsParameters, annotations): string {\n    const idForChart = `${DefinitionName.LRChartView}<${inputParameters.viewKey}>`;\n    inputParameters.appSchema.definitions[idForChart] = JSON.parse(\n        JSON.stringify(inputParameters.appSchema.definitions[DefinitionName.LRChartView])\n    );\n    delete inputParameters.appSchema.definitions[idForChart][SchemaTag.isViewNode];\n    inputParameters.appSchema.definitions[idForChart][SchemaTag.annotationPath] = inputParameters.targetAnnotation;\n    if (inputParameters.navPropName) {\n        inputParameters.appSchema.definitions[idForChart]['navigationProperty'] = inputParameters.navPropName;\n    }\n    //Copy toolbar\n    const idForToolbar = `${DefinitionName.ViewChartToolBar}<${inputParameters.viewKey}>`;\n    inputParameters.appSchema.definitions[idForToolbar] = JSON.parse(\n        JSON.stringify(inputParameters.appSchema.definitions[DefinitionName.ViewChartToolBar])\n    );\n    inputParameters.appSchema.definitions[idForChart][\n        'properties'\n    ].toolBar.$ref = `${DEFINITION_LINK_PREFIX}${idForToolbar}`;\n    //Copy actions\n    const schemaIdForActions = `${DefinitionName.Actions}<${inputParameters.viewKey}>`;\n    defineActions(\n        inputParameters.appSchema,\n        schemaIdForActions,\n        annotations,\n        inputParameters.targetAnnotation,\n        inputParameters.targetEntityType\n    );\n    inputParameters.appSchema.definitions[idForToolbar]['properties'][PropertyName.actions][\n        '$ref'\n    ] = `${DEFINITION_LINK_PREFIX}${schemaIdForActions}`;\n\n    return idForChart;\n}\n\n/**\n * Adds the definition of a chart view to the app schema\n * @param inputParameters - list of input parameters as collected by the calling instance\n * @param UIAnnotations - AVT UI annotations of the given entity type\n * @param appSchema - app schema\n * @param viewsDefinition - the views definition in app schema (MultiTableModeV4)\n * @param viewKey - view key\n * @param title - view title\n */\nfunction addViewChart(\n    inputParameters: ViewsParameters,\n    UIAnnotations,\n    appSchema: Definition,\n    viewsDefinition: Definition,\n    viewKey: string,\n    title: string\n) {\n    const idForChart = addViewChartDefinitions(inputParameters, UIAnnotations);\n    (appSchema.definitions[idForChart] as Definition).properties.annotationPath[SchemaTag.hidden] = true;\n    (appSchema.definitions[idForChart] as Definition).properties.index[SchemaTag.hidden] = true;\n    (appSchema.definitions[idForChart] as Definition).properties.entitySet[SchemaTag.hidden] = true;\n    const titleOnHover = `Chart View (key: ${viewKey})`;\n    viewsDefinition.properties[viewKey] = {\n        $ref: `${DEFINITION_LINK_PREFIX}${idForChart}`,\n        description: title ? title : titleOnHover,\n        title: titleOnHover\n    };\n}\n\n/**\n * Modifies the app schema, adds the right line item settings as derived from the visualization\n * @param inputParameters - list of input parameters as collected by the calling instance\n * @param viewsDefinition - the views definition in app schema (MultiTableModeV4)\n * @param visualization - visualization from the given (S)PV\n * @param templateAnnotation - defaultTemplateAnnotationPath as registered in manifest\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n */\nfunction addViewLineItems(\n    inputParameters: ViewsParameters,\n    viewsDefinition: Definition,\n    visualization: string,\n    templateAnnotation: string,\n    generateParameters: GenerateAppSchemaParameters\n): void {\n    const tableId = `${DefinitionName.LRTableView}<${inputParameters.viewKey}>`;\n    const viewId = `${DefinitionName.LineItemsOfView}::${inputParameters.viewKey}`;\n    const lrTableView = parseSchemaDefinition(\n        DefinitionName.LRTableView,\n        inputParameters.viewKey,\n        inputParameters.appSchema\n    );\n    delete lrTableView[SchemaTag.isViewNode];\n    lrTableView[SchemaTag.annotationPath] = inputParameters.targetAnnotation;\n    if (inputParameters.navPropName) {\n        lrTableView['navigationProperty'] = inputParameters.navPropName;\n    }\n    //Copy toolbar\n    addDefinitionRef(lrTableView.properties.toolBar as Definition, DefinitionName.ToolBar, viewId);\n    const title = `Table View (key: ${inputParameters.viewKey})`;\n    viewsDefinition.properties[inputParameters.viewKey] = {\n        $ref: `${DEFINITION_LINK_PREFIX}${tableId}`,\n        description: inputParameters.title || title,\n        title\n    };\n    addDefinitionRef(lrTableView.properties.columns as Definition, viewId);\n    lrTableView.properties.annotationPath[SchemaTag.hidden] = true;\n    lrTableView.properties.index[SchemaTag.hidden] = true;\n    lrTableView.properties.entitySet[SchemaTag.hidden] = true;\n    const annotationTerm = visualization?.split('.')[1] || templateAnnotation.split(UIVOCABULARYDOT)[1];\n    const dataForLineItem: LineItemDataForSchema = {\n        appSchema: inputParameters.appSchema,\n        lineItemAnnotation: inputParameters.targetEntityType.annotations.UI[annotationTerm] as AnnotationTerm<LineItem>,\n        entityType: inputParameters.targetEntityType,\n        oDataServiceAVT: generateParameters.serviceAVT,\n        lineItemId: viewId\n    };\n    addLineItemsTypeToSchema(\n        dataForLineItem,\n        DefinitionName.ViewTableColumn,\n        DefinitionName.ViewCustomColumn,\n        DefinitionName.ViewCustomAction\n    );\n}\n\n/**\n * Adds the schema tags to a given view\n * @param viewsDefinition - the views definition in app schema (MultiTableModeV4)\n * @param viewKey - key property of the view\n * @param namespace - target namespace for annotations\n * @param view - the given view\n */\nfunction addTagsToView(viewsDefinition: Definition, viewKey: string, namespace: string, view: Object) {\n    viewsDefinition.properties[viewKey][SchemaTag.isViewNode] = true;\n    viewsDefinition.properties[viewKey][SchemaTag.annotationPath] = namespace\n        ? `/${namespace}/@${view[SchemaTag.annotationPath]}`\n        : undefined;\n    viewsDefinition.properties[viewKey][SchemaTag.artifactType] = ArtifactType.Manifest;\n    viewsDefinition.properties[viewKey][SchemaTag.key] = viewKey;\n    viewsDefinition.properties[viewKey][SchemaTag.keys] = [{ name: SchemaKeyName.key, value: viewKey }];\n}\n\n/**\n * Adjusts the entity type if a different entity set is maintained for a view\n * @param {EntitySet} entitySet - actual entity set (AVT information)\n * @param view - the current view in manifest\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {EntityType} entityType - actual entity type of the page's entitySet\n * @returns the target entity type\n */\nfunction getTargetEntityType(\n    entitySet: EntitySet,\n    view: Object,\n    generateParameters: GenerateAppSchemaParameters,\n    entityType: EntityType\n): EntityType {\n    let targetEntityType = entityType;\n    let viewEntitySet = entitySet;\n    if (view['entitySet'] && view['entitySet'] !== entitySet.name) {\n        viewEntitySet = generateParameters.serviceAVT?.entitySets.find((es) => {\n            return es.name === view['entitySet'];\n        });\n        targetEntityType = viewEntitySet.entityType;\n    }\n    return targetEntityType;\n}\n\n/**\n * Adds view custom extensions - custom column and custom action definitions\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {object} commonInputParameters - list of input parameters as collected by the calling instance\n * @param {string} visualization - visualization of the annotation\n * @param {SapUiAppPageV4} v4Page - the given page in manifest\n */\nfunction addViewCustomExtensions(\n    commonInputParameters: ViewsParameters,\n    generateParameters: GenerateAppSchemaParameters,\n    visualization: string,\n    v4Page: v4.SapUiAppPageV4\n) {\n    const sectionId = `${DefinitionName.LineItemsOfView}::${commonInputParameters.viewKey}`;\n    const navigationProperty = commonInputParameters.navPropName ? `${commonInputParameters.navPropName}/` : '';\n    const sectionIdInManifest = `${navigationProperty}@${UIAnnotationTerms.LineItem}${\n        visualization.split(Visualization.LineItem)[1]\n    }`;\n    const viewColumnDefinition = parseSchemaDefinition(\n        DefinitionName.ViewCustomColumn,\n        sectionId,\n        commonInputParameters.appSchema\n    );\n    addDefinitionRef(viewColumnDefinition.properties.position as Definition, DefinitionName.ViewPosition, sectionId);\n    parseSchemaDefinition(DefinitionName.ViewPosition, sectionId, commonInputParameters.appSchema);\n    addCustomColumnDefinition(\n        commonInputParameters.appSchema,\n        v4Page,\n        generateParameters.logger,\n        `${DefinitionName.ViewCustomColumn}<${sectionId}>`,\n        sectionId,\n        sectionIdInManifest\n    );\n    addFragmentEnumForAnchor(\n        commonInputParameters.appSchema,\n        sectionId,\n        v4Page,\n        `${DefinitionName.ViewPosition}<${sectionId}>` as DefinitionName,\n        sectionIdInManifest\n    );\n    // Remove generic position\n    if (commonInputParameters.appSchema.definitions.Position) {\n        delete commonInputParameters.appSchema.definitions.Position;\n        delete commonInputParameters.appSchema.definitions.TableCustomColumn;\n    }\n    // Table toolbar actions with custom actions\n    const schemaIdForToolbarActions = `${DefinitionName.Actions}<${sectionId}>`;\n    const customActionDefinitionKey = `${DefinitionName.ViewCustomAction}<${sectionId}>`;\n    addCustomActionDefinition(\n        commonInputParameters.appSchema,\n        v4Page,\n        generateParameters.logger,\n        customActionDefinitionKey,\n        schemaIdForToolbarActions,\n        sectionIdInManifest\n    );\n    // Anchor selection\n    parseSchemaDefinition(DefinitionName.ViewCustomActionPosition, sectionId, commonInputParameters.appSchema);\n    const customActionPositionDefinitionKey = `${DefinitionName.ViewCustomActionPosition}<${sectionId}>`;\n    const customActionDefinition = commonInputParameters.appSchema.definitions[customActionDefinitionKey] as Definition;\n    (\n        customActionDefinition.properties.position as Definition\n    ).$ref = `${DEFINITION_LINK_PREFIX}${customActionPositionDefinitionKey}`;\n    addEnumForActionAnchor(\n        commonInputParameters.appSchema,\n        schemaIdForToolbarActions,\n        customActionPositionDefinitionKey\n    );\n    // Remove generic position\n    if (commonInputParameters.appSchema.definitions.CustomActionPosition) {\n        delete commonInputParameters.appSchema.definitions.CustomActionPosition;\n    }\n}\n\n/**\n * Adds definition parts to a LR View (LineItem/Chart)\n * @param {string} templateAnnotation - defaultTemplateAnnotationPath as registered in manifest\n * @param {string} visualization - visualization of the annotation\n * @param viewsDefinition - the views definition in app schema (MultiTableModeV4)\n * @param {object} commonInputParameters - list of input parameters as collected by the calling instance\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {SapUiAppPageV4} v4Page - the given page in manifest\n * @param uiAnnotations - UI annotations of the given entityType\n * @paran view - the given view\n */\nfunction addLRViewParts(\n    visualization: string,\n    viewsDefinition: Definition,\n    commonInputParameters: ViewsParameters,\n    generateParameters: GenerateAppSchemaParameters,\n    v4Page: v4.SapUiAppPageV4,\n    uiAnnotations: object,\n    view: object\n) {\n    if (visualization?.indexOf(Visualization.LineItem) > -1) {\n        //Add Line item view\n        addViewLineItems(\n            commonInputParameters,\n            viewsDefinition,\n            visualization,\n            commonInputParameters.targetAnnotation,\n            generateParameters\n        );\n        addViewCustomExtensions(commonInputParameters, generateParameters, visualization, v4Page);\n    } else if (visualization?.indexOf('Chart') > -1) {\n        //Add Chart view\n        addViewChart(\n            commonInputParameters,\n            uiAnnotations,\n            commonInputParameters.appSchema,\n            viewsDefinition,\n            commonInputParameters.viewKey,\n            commonInputParameters.title\n        );\n    } else if (view['template']) {\n        const titleOnHover = view['label'] || `Custom View (key: ${commonInputParameters.viewKey})`;\n        viewsDefinition.properties[commonInputParameters.viewKey] = {\n            description: commonInputParameters.title || titleOnHover,\n            title: titleOnHover,\n            // Default view - use table view reference as default\n            $ref: `${DEFINITION_LINK_PREFIX}${DefinitionName.TableViewExtension}`\n        };\n    } else {\n        const titleOnHover = `View (key: ${commonInputParameters.viewKey})`;\n        viewsDefinition.properties[commonInputParameters.viewKey] = {\n            description: commonInputParameters.title || titleOnHover,\n            title: titleOnHover,\n            // Default view - use table view reference as default\n            $ref: `${DEFINITION_LINK_PREFIX}${DefinitionName.LRTableView}`\n        };\n    }\n}\n\n/**\n * Add list report views to the app-specific schema\n * @param {Definition} appSchema - app-specific JSON schema\n * @param {Array<Object>} viewsPaths - views' paths' section in the manifest\n * @param {EntityType} entityType - actual entity type of the page's entitySet\n * @param {EntitySet} entitySet - actual entity set (AVT information)\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {string} templateAnnotation - defaultTemplateAnnotationPath as registered in manifest\n * @param {SapUiAppPageV4} v4Page - the given page in manifest\n */\nfunction addLRViews(\n    appSchema: Definition,\n    viewsPaths: Array<Object>,\n    entityType: EntityType,\n    entitySet: EntitySet,\n    generateParameters: GenerateAppSchemaParameters,\n    v4Page: v4.SapUiAppPageV4,\n    tableDefinitionName: DefinitionName.Table | DefinitionName.ALPTableView\n) {\n    const tableDefinition = appSchema.definitions[tableDefinitionName] as Definition;\n    tableDefinition.properties = {\n        annotationPath: tableDefinition.properties.annotationPath,\n        initialLoad: tableDefinition.properties.initialLoad,\n        views: tableDefinition.properties.views\n    };\n    const viewsDefinition = appSchema.definitions.MultiTableModeV4 as Definition;\n    for (const view of viewsPaths) {\n        if (!view[SchemaTag.key]) {\n            continue;\n        }\n        let navPropName: string = undefined;\n        const targetEntityType = getTargetEntityType(entitySet, view, generateParameters, entityType);\n        const uiAnnotations = targetEntityType.annotations.UI;\n        const { visualization, targetAnnotation, namespace, title } = analyzeViewAnnotation(\n            view?.[SchemaTag.annotationPath],\n            uiAnnotations,\n            generateParameters,\n            view[SchemaTag.key]\n        );\n        if (view['entitySet']) {\n            navPropName = entityType.navigationProperties.find((np) => {\n                return np.targetTypeName === namespace;\n            })?.name;\n        }\n        const viewKey = prepareRef(view[SchemaTag.key]);\n        const commonInputParameters: ViewsParameters = {\n            viewKey,\n            appSchema,\n            targetAnnotation,\n            navPropName,\n            targetEntityType,\n            title\n        };\n        addLRViewParts(\n            visualization,\n            viewsDefinition,\n            commonInputParameters,\n            generateParameters,\n            v4Page,\n            uiAnnotations,\n            view\n        );\n        addTagsToView(viewsDefinition, viewKey, namespace, view);\n    }\n}\n\n/**\n * Adapts the table definition in schema.\n * Evaluates the path depending on if defaultTemplateAnnotationPath or Selection-/PresentationVariant is present.\n * @param {SapUiAppPageV4} v4Page - the given page in manifest\n * @param {EntityType} entityType - the current entity type, as defined in AVT\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param appSchema - the app-specific JSON schema\n * @param alias - alias definition for the UI vocabulary\n */\nfunction adaptTableDefinition(\n    appSchema: Definition,\n    entityType: EntityType,\n    generateParameters: GenerateAppSchemaParameters,\n    templateAnnotation: string,\n    v4Page: v4.SapUiAppPageV4,\n    alias: string,\n    tableDefinitionName: DefinitionName.Table | DefinitionName.ALPTableView\n) {\n    //here: tableDefinitionName = DefinitionName.Table\n    const tableDefinition = appSchema.definitions[tableDefinitionName] as Definition;\n    const { visualization, targetAnnotation, namespace } = analyzeViewAnnotation(\n        templateAnnotation,\n        entityType.annotations.UI,\n        generateParameters,\n        undefined,\n        Visualization.LineItem\n    );\n    if (visualization) {\n        const annotationTerm = visualization.split('.')[1];\n        const annotationTermInSchema = `${DefinitionName.LineItems}OfSPV::${prepareRef(annotationTerm)}`;\n        const spvTable = (appSchema.definitions[`${tableDefinitionName}SPV`] = JSON.parse(\n            JSON.stringify(appSchema.definitions[tableDefinitionName])\n        ) as Definition);\n        delete spvTable[SchemaTag.isViewNode];\n        addDefinitionRef(spvTable.properties.toolBar as Definition, DefinitionName.ToolBar, annotationTermInSchema);\n        // Switch from generic column to specific definition\n        spvTable[SchemaTag.annotationPath] = targetAnnotation;\n        spvTable.properties.columns = {} as Definition;\n        addDefinitionRef(spvTable.properties.columns, annotationTermInSchema);\n\n        delete tableDefinition.properties;\n        addDefinitionRef(tableDefinition, `${tableDefinitionName}SPV`);\n        tableDefinition[SchemaTag.annotationPath] = `/${namespace}/@${templateAnnotation}`;\n        const lineItemAnnotation = entityType.annotations.UI[annotationTerm] as AnnotationTerm<LineItem>;\n        const dataForLineItem: LineItemDataForSchema = {\n            appSchema,\n            lineItemAnnotation,\n            entityType,\n            oDataServiceAVT: generateParameters.serviceAVT,\n            lineItemId: annotationTermInSchema\n        };\n        addLineItemsTypeToSchema(dataForLineItem);\n        const annotationTermQualifier = annotationTerm.split('#')?.[1];\n        const sectionIdInManifest = annotationTermQualifier\n            ? `@${UIAnnotationTerms.LineItem}#${annotationTermQualifier}`\n            : `@${UIAnnotationTerms.LineItem}`;\n        addCustomColumnDefinition(\n            appSchema,\n            v4Page,\n            generateParameters.logger,\n            undefined,\n            annotationTermInSchema,\n            sectionIdInManifest\n        );\n        addFragmentEnumForAnchor(appSchema, annotationTermInSchema, v4Page, undefined, sectionIdInManifest);\n        // Table toolbar actions with custom actions\n        const schemaIdForToolbarActions = `${DefinitionName.Actions}<${annotationTermInSchema}>`;\n        const customColumnDefinitionName = getCustomExtensionDefinitionName(\n            appSchema,\n            annotationTermInSchema,\n            DefinitionName.CustomTableAction\n        );\n        addCustomActionDefinition(\n            appSchema,\n            v4Page,\n            generateParameters.logger,\n            getDefinitionKey(customColumnDefinitionName),\n            schemaIdForToolbarActions,\n            sectionIdInManifest\n        );\n        addEnumForActionAnchor(appSchema, schemaIdForToolbarActions, DefinitionName.CustomActionPosition);\n    } else {\n        tableDefinition.properties.toolBar['$ref'] = `${DEFINITION_LINK_PREFIX}${DefinitionName.ToolBarLR}`;\n        // Switch from generic column to specific definition\n        addDefinitionRef(tableDefinition.properties.columns as Definition, DefinitionName.LineItems);\n        const lineItemAnnotation = entityType?.annotations?.[alias]?.LineItem;\n        const dataForLineItem: LineItemDataForSchema = {\n            appSchema,\n            lineItemAnnotation,\n            entityType,\n            oDataServiceAVT: generateParameters.serviceAVT,\n            lineItemId: DefinitionName.LineItems\n        };\n        addLineItemsTypeToSchema(dataForLineItem);\n        addCustomColumnDefinition(appSchema, v4Page, generateParameters.logger);\n        addFragmentEnumForAnchor(appSchema, DefinitionName.LineItems, v4Page);\n        if (lineItemAnnotation) {\n            tableDefinition[SchemaTag.annotationPath] = createAnnotationPath(\n                entityType.fullyQualifiedName,\n                lineItemAnnotation.term,\n                lineItemAnnotation.qualifier\n            );\n        }\n        // Table toolbar actions with custom actions\n        const schemaIdForActions = `${DefinitionName.Actions}<${prepareRef(DefinitionName.LineItems)}>`;\n        addCustomActionDefinition(appSchema, v4Page, generateParameters.logger, undefined, schemaIdForActions);\n        addEnumForActionAnchor(appSchema, schemaIdForActions, DefinitionName.CustomActionPosition);\n    }\n}\n\n/**\n * Checks for the default annotation path to use for LR table\n * @param {SapUiAppPageV4} v4Page - actual page in the manifest\n * @param {EntityType} entityType - actual entity type (AVT information)\n * @returns {string} annotation term\n */\nfunction getDefaultAnnotationPath(\n    v4Page: v4.SapUiAppPageV4,\n    entityType: EntityType,\n    templateType: TemplateType\n): string | undefined {\n    if (v4Page.options.settings?.views?.paths && templateType === TemplateType.ListReportObjectPageV4) {\n        return;\n    }\n    if (v4Page.options.settings?.defaultTemplateAnnotationPath) {\n        return v4Page.options.settings.defaultTemplateAnnotationPath;\n    }\n    if (templateType === TemplateType.ListReportObjectPageV4) {\n        return (\n            entityType.annotations.UI?.SelectionPresentationVariant?.term ||\n            entityType.annotations.UI?.PresentationVariant?.term\n        );\n    }\n}\n\n/**\n * Add views to schema (LR or ALP)\n * @param {Definition} appSchema - app-specific JSON schema\n * @param {SapUiAppPageV4} v4Page - actual page in the manifest\n * @param {EntityType} entityType - actual entity type (AVT information)\n * @param {EntitySet} entitySet - actual entity set (AVT information)\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n */\nfunction addTableAndViews(\n    appSchema: Definition,\n    v4Page: v4.SapUiAppPageV4,\n    entityType: EntityType,\n    entitySet: EntitySet,\n    generateParameters: GenerateAppSchemaParameters,\n    alias: string\n): void {\n    const viewsPaths = v4Page.options?.settings?.views?.paths;\n    const defaultAnnotation = getDefaultAnnotationPath(v4Page, entityType, generateParameters.templateType);\n    const tableDefinitionName = alignSchemaWithTemplateType(appSchema, generateParameters);\n    if (generateParameters.templateType === TemplateType.ListReportObjectPageV4) {\n        if (viewsPaths) {\n            addLRViews(appSchema, viewsPaths, entityType, entitySet, generateParameters, v4Page, tableDefinitionName);\n        } else {\n            if (!v4Page.options?.settings?.views) {\n                (appSchema.definitions.MultiTableModeV4 as Definition).properties = {};\n            }\n            adaptTableDefinition(\n                appSchema,\n                entityType,\n                generateParameters,\n                defaultAnnotation,\n                v4Page,\n                alias,\n                tableDefinitionName\n            );\n        }\n        appSchema.properties[PropertyName.chart][SchemaTag.hidden] = true;\n    } else if (generateParameters.templateType === TemplateType.AnalyticalListPageV4) {\n        addALPViews(\n            appSchema,\n            viewsPaths,\n            entityType,\n            generateParameters,\n            defaultAnnotation,\n            v4Page,\n            tableDefinitionName\n        );\n        addFragmentEnumForAnchor(appSchema, DefinitionName.LineItems, v4Page);\n    }\n}\n\n/**\n * Generates an app specific schema for the FE V4 ListReport from the generic schema.\n * Generic types are replaced by information from the app specific annotations.\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param genericSchema  - generic JSON schema of an object page\n * @param {EntitySet} entitySet - entity set (AVT object) that is relevant for the given page\n * @param {string} templateName - allows to distinguish list report from ALP\n *\n * @returns {object} application-specific schema of the list report\n */\nexport function generateListReportSchemaV4(\n    generateParameters: GenerateAppSchemaParameters,\n    genericSchema: object,\n    entitySet: EntitySet,\n    templateName: string\n): object {\n    const appSchema: Definition = JSON.parse(JSON.stringify(genericSchema));\n    const entityType = entitySet?.entityType;\n    const alias = generateParameters.serviceAVT && findAlias(UIVOCABULARY, generateParameters.serviceAVT);\n    //Add selection fields\n    const selectionFieldAnnotation = alias && entityType?.annotations?.[alias]?.SelectionFields;\n    addSelectionFields(entityType, appSchema, selectionFieldAnnotation);\n\n    appSchema.properties[PropertyName.defaultTemplateAnnotationPath][SchemaTag.hidden] = true;\n\n    //enum for annotation path as part of QuickVariantSelection\n    addEnumForSingleTabVariant(entityType, appSchema, DefinitionName.AnnotationPathAsObject);\n\n    if (generateParameters.manifest) {\n        //Find page in targets\n        const pages = generateParameters.manifest[ManifestSection.ui5].routing\n            .targets as unknown as v4.SapUiAppPageV4[];\n        if (!pages) {\n            log(generateParameters.logger, {\n                severity: LogSeverity.Error,\n                message: i18next.t('NOPAGES', { appId: generateParameters.manifest['sap.app']['id'] }),\n                location: {\n                    path: MANIFESTPATH,\n                    range: [ManifestSection.generic]\n                }\n            });\n            return appSchema;\n        }\n        const v4Page = findPageV4(pages, templateName, entitySet, generateParameters.logger);\n        if (!v4Page) {\n            return appSchema;\n        }\n        addTableAndViews(appSchema, v4Page, entityType, entitySet, generateParameters, alias);\n    }\n    delete appSchema.definitions.GenericColumns;\n    delete appSchema.definitions.Action;\n\n    return appSchema;\n}\n", "import type { Definition } from 'typescript-json-schema';\nimport type { ExtensionLogger, GenerateAppSchemaParameters } from '../../..';\nimport type { PresentationVariantV4 } from '../types';\nimport type { AnnotationTerm, ConvertedMetadata, EntityType } from '@sap-ux/vocabularies-types';\nimport type {\n    Chart,\n    DataFieldAbstractTypes,\n    LineItem,\n    PresentationVariant\n} from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport i18next from 'i18next';\nimport { log } from '../../../extensionLogger';\nimport { UIAnnotationTerms, UIAnnotationTypes } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport {\n    v4,\n    FioriElementsVersion,\n    ManifestSection,\n    SectionType,\n    Visualization,\n    DefinitionName,\n    SchemaKeyName,\n    MANIFESTPATH,\n    METADATAPATH,\n    LogSeverity,\n    SchemaTag,\n    FacetBase,\n    UIVOCABULARYDOT\n} from '@sap/ux-specification-types';\nimport type { FacetConfig, FacetConfigs, FacetSection } from '@sap/ux-specification-types';\nimport {\n    DEFINITION_LINK_PREFIX,\n    addCommonHeaderSchema,\n    addDefinitionForRelatedFacetKeys,\n    addEnumForSingleTabVariant,\n    addFooterActions,\n    addHeaderActions,\n    addSectionTitleAndDescription,\n    addTargetTitleAndSectionDescription,\n    createDefaultSection,\n    determineDataType,\n    determineDataTypeOfTarget,\n    getActionNameAndId,\n    getDataFieldDescription,\n    getFacetAnnotationPath,\n    getFacetDefinitionLink,\n    getFacetKeyInSchema,\n    getObjectPageFacets,\n    getObjectPageHeaderFacets,\n    getObjectPageFacetSection,\n    handleAddressContact,\n    handleForm,\n    parseSchemaDefinition,\n    prepareRef,\n    replaceAlias\n} from '../../common';\nimport type { LineItemDataForSchema } from '../utils/utils';\nimport {\n    addCustomColumnDefinition,\n    addFragmentEnumForAnchor,\n    addLineItemsTypeToSchema,\n    findPageV4,\n    addCustomActionDefinition,\n    addEnumForActionAnchor\n} from '../utils/utils';\nimport { getStableIdPartFromDataField } from '../../v4/utils/StableIdHelper';\n\n/**\n * Callback for adding a single action to headerActions of V4\n * @param {EntityType} entityType - current entity type\n * @param {Definition} appSchema Schema of the app\n * @param actionAnnotation - annotation as present in AVT ConvertedMetadata\n * @param {Definition} headerActions - list of header actions, to be enhanced\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n */\nfunction addHeaderActionCallBackV4(\n    entityType,\n    appSchema: Definition,\n    actionAnnotation: any,\n    headerActions: {\n        type: string;\n        properties: {};\n        description: string;\n        additionalProperties: boolean;\n        isViewNode: boolean;\n    },\n    oDataServiceAVT: ConvertedMetadata\n): any {\n    return (item, index) => {\n        if (\n            (!item['Determining'] && item.$Type === UIAnnotationTypes.DataFieldForAction) ||\n            item.$Type === UIAnnotationTypes.DataFieldForIntentBasedNavigation\n        ) {\n            const { actionName, actionId, namespace } = getActionNameAndId(item, entityType, oDataServiceAVT);\n            if (!actionId) {\n                return;\n            }\n            const stableId = getStableIdPartFromDataField(item);\n            //stableId is used as key in V4, as the DataFieldForAction:: prefix shall be present in manifest settings\n            const convertedIdentification = actionAnnotation.fullyQualifiedName.replace(\n                `@${UIAnnotationTerms.Identification}`,\n                `/@${UIAnnotationTerms.Identification}`\n            );\n            const actionDefinitionKey = `HeaderAction<${prepareRef(stableId)}>`;\n            const headerAction = (appSchema.definitions[actionDefinitionKey] = {\n                type: 'object',\n                $ref: `${DEFINITION_LINK_PREFIX}${DefinitionName.HeaderActionV4}`,\n                description: getDataFieldDescription(item, entityType)\n            });\n\n            headerAction[SchemaTag.isViewNode] = true;\n            headerAction[SchemaTag.keys] = [{ name: SchemaKeyName.action, value: actionName }];\n            if (namespace) {\n                appSchema.definitions[actionDefinitionKey][SchemaTag.target] = namespace;\n            }\n            headerAction[SchemaTag.annotationPath] = `/${convertedIdentification}/${index}`;\n            headerActions.properties[stableId] = {\n                $ref: `${DEFINITION_LINK_PREFIX}${actionDefinitionKey}`\n            };\n        }\n    };\n}\n\n/**\n * Callback for adding a single action to footerActions of V4\n * @param {EntityType} entityType - current entity type\n * @param {Definition} appSchema Schema of the app\n * @param {Definition} footerActions - list of footer actions, to be enhanced\n * @param {String} convertedIdentification - converted UI.Identification term\n */\nfunction addFooterActionCallBackV4(\n    entityType,\n    appSchema: Definition,\n    footerActions: {\n        type: string;\n        properties: {};\n        description: string;\n        additionalProperties: boolean;\n        isViewNode: boolean;\n    },\n    convertedIdentification\n): any {\n    return (item, index) => {\n        if (item['Determining'] && item.$Type === UIAnnotationTypes.DataFieldForAction) {\n            const actionId = getStableIdPartFromDataField(item);\n            const description = getDataFieldDescription(item, entityType);\n            const actionDefinitionKey = prepareRef(`${DefinitionName.ObjectPageFooterAction}<${actionId}>`);\n\n            appSchema.definitions[actionDefinitionKey] = {\n                type: 'object',\n                $ref: `${DEFINITION_LINK_PREFIX}${DefinitionName.FooterActionV4}`,\n                description: description\n            };\n            appSchema.definitions[actionDefinitionKey][SchemaTag.isViewNode] = true;\n            appSchema.definitions[actionDefinitionKey][\n                SchemaTag.annotationPath\n            ] = `/${convertedIdentification}/${index}`;\n\n            footerActions.properties[actionId] = {\n                $ref: `${DEFINITION_LINK_PREFIX}${actionDefinitionKey}`\n            };\n        }\n    };\n}\n\n/**\n * Object Page specific enhancements to addCustomColumnDefinition\n * @param {object} appSchema App schema in general\n * @param {SapUiAppPageV4} v4Page Current page in manifest\n * @param {string} lineItemId - identifier of the current table in schema\n * @param {string} facetIdInManifest - identifier of the current object page section in manifest\n * @param {ExtensionLogger} logger - logger for exceptions\n */\nfunction addCustomColumnsOP(\n    appSchema: Definition,\n    v4Page: v4.SapUiAppPageV4,\n    lineItemId: string,\n    facetIdInManifest: string,\n    logger: ExtensionLogger\n) {\n    // Create type specific copy of 'TableCustomColumnOP'\n    const useDefinitionAsKey =\n        lineItemId !== DefinitionName.LineItems &&\n        lineItemId !== 'LineItemsOfSPV::LineItem' &&\n        lineItemId !== '@com.sap.vocabularies.UI.v1.LineItem';\n    const customColumDefinitionKey = useDefinitionAsKey\n        ? `${DefinitionName.CustomColumnOP}<${lineItemId}>`\n        : DefinitionName.CustomColumnOP;\n    const customColumnDefinition = appSchema.definitions[customColumDefinitionKey] as Definition;\n    customColumnDefinition[SchemaTag.isViewNode] = true;\n    customColumnDefinition.description = 'Custom Column';\n\n    // Update definitions for type specific custom columns\n    const schemaId = `${DefinitionName.CustomColumnOP}<${lineItemId}>`;\n    addCustomColumnDefinition(appSchema, v4Page, logger, schemaId, lineItemId, facetIdInManifest);\n    const facetKey = useDefinitionAsKey ? lineItemId : DefinitionName.PositionOP;\n    parseSchemaDefinition(DefinitionName.PositionOP, facetKey, appSchema, useDefinitionAsKey);\n    const positionId = useDefinitionAsKey ? `${DefinitionName.PositionOP}<${lineItemId}>` : DefinitionName.PositionOP;\n    (customColumnDefinition.properties.position as Definition).$ref = `${DEFINITION_LINK_PREFIX}${positionId}`;\n    addFragmentEnumForAnchor(appSchema, lineItemId, v4Page, positionId, facetIdInManifest.replace(/::/g, '/'));\n}\n\n/**\n * Object Page specific enhancements to addCustomColumnDefinition\n * @param {object} appSchema App schema in general\n * @param {SapUiAppPageV4} v4Page Current page in manifest\n * @param {string} lineItemId - identifier of the current table in schema\n * @param {string} facetIdInManifest - identifier of the current object page section in manifest\n * @param {ExtensionLogger} logger - logger for exceptions\n */\nfunction addCustomActionsOP(\n    appSchema: Definition,\n    v4Page: v4.SapUiAppPageV4,\n    lineItemId: string,\n    facetIdInManifest: string,\n    logger: ExtensionLogger\n) {\n    // Create type specific copy of 'TableCustomActionOP'\n    const useDefinitionAsKey =\n        lineItemId !== DefinitionName.LineItems &&\n        lineItemId !== 'LineItemsOfSPV::LineItem' &&\n        lineItemId !== '@com.sap.vocabularies.UI.v1.LineItem';\n    const customActionDefinitionKey = useDefinitionAsKey\n        ? `${DefinitionName.CustomTableActionOP}<${lineItemId}>`\n        : DefinitionName.CustomTableActionOP;\n    const customActionDefinition = appSchema.definitions[customActionDefinitionKey] as Definition;\n    customActionDefinition[SchemaTag.isViewNode] = true;\n    customActionDefinition.description = 'Custom Action';\n    // Update definitions for type specific custom columns\n    const schemaId = `${DefinitionName.CustomTableActionOP}<${lineItemId}>`;\n    const schemaIdForActions = `${DefinitionName.Actions}<${prepareRef(lineItemId)}>`;\n    addCustomActionDefinition(appSchema, v4Page, logger, schemaId, schemaIdForActions, facetIdInManifest);\n    const facetKey = useDefinitionAsKey ? lineItemId : DefinitionName.CustomActionPositionOP;\n    parseSchemaDefinition(DefinitionName.CustomActionPositionOP, facetKey, appSchema, useDefinitionAsKey);\n    // Anchor selection\n    const positionId = useDefinitionAsKey\n        ? `${DefinitionName.CustomActionPositionOP}<${lineItemId}>`\n        : DefinitionName.CustomActionPositionOP;\n    (customActionDefinition.properties.position as Definition).$ref = `${DEFINITION_LINK_PREFIX}${positionId}`;\n    addEnumForActionAnchor(appSchema, schemaIdForActions, positionId);\n}\n\n/**\n * Object Page specific enhancements to handleFormIdentification\n * @param {object} appSchema App schema in general\n * @param {SapUiAppPageV4} v4Page Current page in manifest\n * @param {string} formItemId - identifier of the current form in schema\n * @param {string} facetIdInManifest - identifier of the current object page section in manifest\n * @param {ExtensionLogger} logger - logger for exceptions\n */\nfunction addFormCustomActionsOP(\n    appSchema: Definition,\n    v4Page: v4.SapUiAppPageV4,\n    formItemId: string,\n    facetIdInManifest: string,\n    logger: ExtensionLogger\n) {\n    const useDefinitionAsKey = true;\n    const customActionDefinitionKey = useDefinitionAsKey\n        ? `${DefinitionName.CustomFormActionOP}<${formItemId}>`\n        : DefinitionName.CustomFormActionOP;\n    const customActionDefinition = appSchema.definitions[customActionDefinitionKey] as Definition;\n    customActionDefinition[SchemaTag.isViewNode] = true;\n    customActionDefinition.description = 'Custom Action';\n    const schemaId = `${DefinitionName.CustomFormActionOP}<${formItemId}>`;\n    const schemaIdForActions = `${DefinitionName.SectionActions}<${prepareRef(formItemId)}>`;\n    addCustomActionDefinition(appSchema, v4Page, logger, schemaId, schemaIdForActions, facetIdInManifest);\n    const facetKey = useDefinitionAsKey ? formItemId : DefinitionName.CustomActionPositionOP;\n    parseSchemaDefinition(DefinitionName.CustomActionPositionOP, facetKey, appSchema, useDefinitionAsKey);\n    // Anchor selection\n    const positionId = useDefinitionAsKey\n        ? `${DefinitionName.CustomActionPositionOP}<${formItemId}>`\n        : DefinitionName.CustomActionPositionOP;\n    (customActionDefinition.properties.position as Definition).$ref = `${DEFINITION_LINK_PREFIX}${positionId}`;\n    addEnumForActionAnchor(appSchema, schemaIdForActions, positionId);\n    if (appSchema.definitions[schemaIdForActions]) {\n        (appSchema.definitions[schemaIdForActions] as Definition).additionalProperties = {\n            $ref: `${DEFINITION_LINK_PREFIX}${customActionDefinitionKey}`\n        };\n    }\n}\n\n/**\n * Adds definitions for line items in object page sections to the app schema\n * @param {FacetConfig} facet - the given facet from the UI annotations\n * @param {string} facetKey - key of the facet, as used in annotation\n * @param {Definition} appSchema - app schema in general\n * @param {object} lineItemFacet - current lineItem facet\n * @param {ConvertedMetadata} oDataServiceAVT - complete service information, as returned by annotation vocabularies tool\n * @param {SapUiAppPageV4} v4Page Current page in manifest\n * @param {ExtensionLogger} logger - logger for exceptions\n */\nfunction handleLineItem(\n    facet: FacetConfig,\n    facetKey: string,\n    appSchema: Definition,\n    lineItemFacet: object,\n    oDataServiceAVT: ConvertedMetadata,\n    v4Page: v4.SapUiAppPageV4,\n    logger: ExtensionLogger\n): Definition {\n    const lineItemId = getFacetKeyInSchema(facetKey);\n    const index = facetKey.lastIndexOf('::');\n    const annotation = index > -1 ? facetKey.substring(index + 2) : facetKey;\n    const tableDefinition = parseSchemaDefinition(DefinitionName.ObjectPageTable, facetKey, appSchema);\n    if (facet.entityType && annotation) {\n        tableDefinition[SchemaTag.annotationPath] = `/${facet.entityType.fullyQualifiedName}/${annotation}`;\n    }\n    tableDefinition.properties.columns = {\n        $ref: `${DEFINITION_LINK_PREFIX}${lineItemId}`\n    };\n    (tableDefinition.properties.toolBar as Definition).$ref = getFacetDefinitionLink(\n        DefinitionName.ObjectPageToolBar,\n        facetKey\n    );\n    //adjust quickVariantSelection\n    (tableDefinition.properties.quickVariantSelection as Definition).$ref = getFacetDefinitionLink(\n        DefinitionName.QuickVariantSelectionV4OP,\n        facetKey\n    );\n    const tableQVS = parseSchemaDefinition(DefinitionName.QuickVariantSelectionV4OP, facetKey, appSchema);\n    tableQVS.properties.paths['items'].$ref = getFacetDefinitionLink(DefinitionName.AnnotationPathAsObject, facetKey);\n    parseSchemaDefinition(DefinitionName.AnnotationPathAsObject, facetKey, appSchema);\n\n    addEnumForSingleTabVariant(facet.entityType, appSchema, `${DefinitionName.AnnotationPathAsObject}<${lineItemId}>`);\n    const dataForLineItem: LineItemDataForSchema = {\n        appSchema,\n        lineItemAnnotation: lineItemFacet['target'] as AnnotationTerm<LineItem>,\n        entityType: lineItemFacet['entityType'],\n        oDataServiceAVT,\n        lineItemId\n    };\n    addLineItemsTypeToSchema(\n        dataForLineItem,\n        DefinitionName.ObjectPageTableColumn,\n        DefinitionName.CustomColumnOP,\n        DefinitionName.CustomTableActionOP\n    );\n    addCustomColumnsOP(appSchema, v4Page, lineItemId, facetKey, logger);\n    addCustomActionsOP(appSchema, v4Page, lineItemId, facetKey, logger);\n    return tableDefinition;\n}\n\n/**\n * Adds definitions for table section in object page sections to the app schema\n * @param {FacetConfig} facet - current facet.\n * @param {string} facetKey - facet key.\n * @param {Definition} appSchema - app specific schema that potentially gets enhanced.\n * @param {object} lineItemFacet - current lineItem facet\n * @param {GenerateSchemaParameters} generateParameters - list of API input parameters\n * @param {SapUiAppPageV4} v4Page Current page in manifest\n * @param {Definition} sections - schema of current sections definition.\n * @returns {object} sectionTable - section of app schema containing added table section\n */\nfunction handleSectionTable(\n    facet: FacetConfig,\n    facetKey: string,\n    appSchema: Definition,\n    lineItemFacet: FacetConfig,\n    generateParameters: GenerateAppSchemaParameters,\n    v4Page,\n    sections?: Definition\n): { sectionTable: Definition; table: Definition } {\n    if (sections) {\n        sections.properties[facetKey] = {\n            $ref: getFacetDefinitionLink(DefinitionName.ObjectPageSectionTableV4, facetKey)\n        };\n    }\n    const sectionTable = parseSchemaDefinition(DefinitionName.ObjectPageSectionTableV4, facetKey, appSchema);\n    addSectionTitleAndDescription(facet, sectionTable, getFacetKeyInSchema(facetKey));\n    sectionTable[SchemaTag.annotationPath] = facet.annotationPath;\n    sectionTable[SchemaTag.target] = facet.namespace;\n    sectionTable.properties.table['$ref'] = getFacetDefinitionLink(DefinitionName.ObjectPageTable, facetKey);\n    const table = handleLineItem(\n        facet,\n        facetKey,\n        appSchema,\n        lineItemFacet,\n        generateParameters.serviceAVT,\n        v4Page,\n        generateParameters.logger\n    );\n    return { sectionTable, table };\n}\n\n/**\n * Adds definitions for Identification and Form facet items in object page sections to the app schema\n * @param {FacetConfig} facet - current facet\n * @param {v4.SapUiAppPageV4} v4Page Current page in manifest\n * @param {string} facetKey - facet key\n * @param {object} sections - schema of current sections definition\n * @param {object} appSchema - app specific schema that potentially gets enhanced\n * @param {SectionType} sectionPrefix - prefix to distinguish Section and HeaderSection\n * @param {ExtensionLogger} logger - logger for exceptions\n */\nfunction handleFormIdentification(\n    facet: FacetConfig,\n    v4Page: v4.SapUiAppPageV4,\n    facetKey: string,\n    sections: Definition,\n    appSchema: Definition,\n    sectionPrefix: SectionType,\n    logger: ExtensionLogger\n) {\n    let definitionType: DefinitionName;\n    if (sectionPrefix === SectionType.Section) {\n        definitionType = DefinitionName.ObjectPageSectionForm;\n    } else if (sectionPrefix === SectionType.HeaderSection) {\n        definitionType = DefinitionName.ObjectPageHeaderSectionForm;\n    }\n    sections['properties'][facetKey] = {\n        $ref: getFacetDefinitionLink(definitionType, facetKey)\n    };\n    const formSection: Definition = parseSchemaDefinition(definitionType, facetKey, appSchema);\n    if (!facet.ID) {\n        formSection.properties = {};\n    }\n    addSectionTitleAndDescription(facet, formSection, facetKey);\n    formSection[SchemaTag.annotationPath] = facet.annotationPath;\n    formSection[SchemaTag.target] = facet.namespace;\n    formSection[SchemaTag.isViewNode] = true;\n    const targetId = handleForm(sectionPrefix, facet, formSection, appSchema, FioriElementsVersion.v4, facetKey);\n    if (facet.base === FacetBase.Form) {\n        const formItemId = getFacetKeyInSchema(facetKey);\n        parseSchemaDefinition(DefinitionName.CustomFormActionOP, targetId, appSchema);\n        addFormCustomActionsOP(appSchema, v4Page, targetId, formItemId, logger);\n    }\n}\n\n/**\n * Adds definitions for header sections (DataPoint, Chart) in object page sections to the app schema\n * @param {FacetConfig} facet - current facet.\n * @param {string} facetKey - facet key.\n * @param {object} sections - schema of current sections definition.\n * @param {object} appSchema - app specific schema that potentially gets enhanced.\n * @param {SectionType} facetDefinitionKey - key to identify new definition\n */\nfunction handleHeaderFacet(\n    facet: FacetConfig,\n    facetKey: string,\n    sections: Definition,\n    appSchema: Definition,\n    facetDefinitionKey: string\n) {\n    sections['properties'][facetKey] = {\n        $ref: `${DEFINITION_LINK_PREFIX}${facetDefinitionKey}`\n    };\n    const sectionFacet = parseSchemaDefinition(\n        DefinitionName.CommonHeaderFacetSettings,\n        facetDefinitionKey,\n        appSchema,\n        false\n    );\n    addTargetTitleAndSectionDescription(facet, sectionFacet, facetKey);\n    sectionFacet[SchemaTag.annotationPath] = facet.annotationPath;\n    sectionFacet[SchemaTag.target] = facet.namespace;\n    sectionFacet[SchemaTag.dataType] = determineDataTypeOfTarget(facet?.target);\n    sectionFacet[SchemaTag.isViewNode] = true;\n}\n\n/**\n * Adds definitions for Chart items in object page sections to the app schema\n * @param {FacetConfig | Chart | object} facet - current facet.\n * @param {string} facetKey - facet key.\n * @param {object} appSchema - app specific schema that potentially gets enhanced.\n * @param {EntityType} entityType - current entity type\n */\nfunction handleChartActions(\n    facet: FacetConfig | Chart | object,\n    facetKey: string,\n    appSchema: Definition,\n    entityType: EntityType\n): Definition {\n    const actions = parseSchemaDefinition(DefinitionName.ObjectPageToolBarActions, facetKey, appSchema);\n    actions.additionalProperties = false;\n    actions.properties = {};\n    if ((facet as Chart).Actions) {\n        let i = 0;\n        (facet as Chart).Actions.forEach((actionRecord) => {\n            const description = getDataFieldDescription(actionRecord as DataFieldAbstractTypes, entityType);\n            const prefix = actionRecord.$Type.split(UIVOCABULARYDOT)[1];\n            const actionId = (actionRecord.Action as string).replace('/', '??');\n            const toolBarActionsProperty = (actions.properties[`${prefix}::${actionRecord.Action}`] = {\n                $ref: getFacetDefinitionLink(DefinitionName.ObjectPageToolBarAction, actionId),\n                description\n            });\n            toolBarActionsProperty[SchemaTag.propertyIndex] = i;\n            toolBarActionsProperty[SchemaTag.annotationType] = actionRecord.$Type;\n            const toolBarAction = parseSchemaDefinition(\n                DefinitionName.ObjectPageToolBarAction,\n                prepareRef(actionId),\n                appSchema\n            );\n            toolBarAction[SchemaTag.annotationPath] = getFacetAnnotationPath(actionRecord);\n            toolBarAction[SchemaTag.dataType] = determineDataType(actionRecord);\n            toolBarAction.properties = {};\n            i++;\n        });\n    }\n    return actions;\n}\n\n/**\n * Adds definitions for Chart items in object page sections to the app schema\n * @param {FacetConfig | Chart | object} facet - current facet.\n * @param {string} facetKey - facet key.\n * @param {object} appSchema - app specific schema that potentially gets enhanced.\n * @param {EntityType} entityType - current entity type\n */\nfunction handleChart(\n    facet: FacetConfig | Chart | object,\n    facetKey: string,\n    appSchema: Definition,\n    entityType?: EntityType\n): { chart: Definition; chartActions: Definition } {\n    const chart = parseSchemaDefinition(DefinitionName.ObjectPageChart, facetKey, appSchema);\n    if (facet['Title']) {\n        chart.description = facet['Title'];\n    }\n    chart[SchemaTag.annotationPath] = getFacetAnnotationPath(facet as PresentationVariantV4);\n    chart[SchemaTag.dataType] = determineDataTypeOfTarget((facet as FacetConfig).target || facet);\n    chart[SchemaTag.isViewNode] = true;\n    chart.properties.toolBar['$ref'] = getFacetDefinitionLink(DefinitionName.ObjectPageToolBar, facetKey);\n    const chartToolBar = parseSchemaDefinition(DefinitionName.ObjectPageToolBar, facetKey, appSchema);\n\n    chartToolBar.properties.actions['$ref'] = getFacetDefinitionLink(DefinitionName.ObjectPageToolBarActions, facetKey);\n    const chartActions = handleChartActions(facet, facetKey, appSchema, entityType);\n    return { chart, chartActions };\n}\n\n/**\n * Adds definitions for Chart section in object page sections to the app schema\n * @param {FacetConfig} facet - current facet.\n * @param {string} facetKey - facet key.\n * @param {object} appSchema - app specific schema that potentially gets enhanced.\n * @param {object} sections - schema of current sections definition.\n * @param {EntityType} entityType - current entity type\n */\nfunction handleSectionChart(\n    facet: FacetConfig | Chart,\n    facetKey: string,\n    appSchema: Definition,\n    sections?: Definition,\n    entityType: EntityType = (facet as FacetConfig).entityType\n): { sectionChart: Definition; chart: Definition; chartActions?: Definition } {\n    if (sections) {\n        sections.properties[facetKey] = {\n            $ref: getFacetDefinitionLink(DefinitionName.ObjectPageSectionChart, facetKey)\n        };\n    }\n    const sectionChart = parseSchemaDefinition(DefinitionName.ObjectPageSectionChart, facetKey, appSchema);\n    addTargetTitleAndSectionDescription(facet as FacetConfig, sectionChart, facetKey);\n\n    sectionChart[SchemaTag.annotationPath] = getFacetAnnotationPath(facet);\n    sectionChart.properties.chart['$ref'] = getFacetDefinitionLink(DefinitionName.ObjectPageChart, facetKey);\n    const { chart, chartActions } = handleChart(\n        (facet as FacetConfig).target || facet,\n        facetKey,\n        appSchema,\n        entityType\n    );\n    return { sectionChart, chart, chartActions };\n}\n\n/**\n * Adds definitions for presentation variants in object page sections to the app schema\n * @param {FacetConfig} facet - the given facet from the UI annotations\n * @param {string} facetKey - key of the facet, as used in annotation\n * @param {Definition} appSchema - app schema in general\n * @param {object} sections - schema of current sections definition.\n * @param {GenerateSchemaParameters} generateParameters - list of API input parameters\n * @param {SapUiAppPageV4} v4Page Current page in manifest\n */\nfunction handleSectionPresentationVariant(\n    facet: FacetConfig,\n    facetKey: string,\n    appSchema: Definition,\n    sections: Definition,\n    generateParameters: GenerateAppSchemaParameters,\n    v4Page: v4.SapUiAppPageV4\n) {\n    let facetTarget, visualizationKey, target;\n    const visualizations = (facet.target as PresentationVariant).Visualizations;\n    const navPath = facetKey.lastIndexOf('::') > 0 ? facetKey.slice(0, facetKey.lastIndexOf('::')) : undefined;\n    if (visualizations?.[0]) {\n        if (visualizations[0].$target) {\n            facetTarget = visualizations[0].$target;\n            visualizationKey = `@${facetTarget.fullyQualifiedName.split('@')[1].split('/')[0]}`;\n            target = facetTarget;\n        } else {\n            facetTarget = visualizations[0];\n            visualizationKey =\n                '@' +\n                replaceAlias(`${facetTarget.targetString.split('@')[1].split('/')[0]}`, generateParameters.serviceAVT);\n            const navigationProp = generateParameters.entitySet.entityType.navigationProperties.find((prop) => {\n                return prop.name === navPath;\n            });\n            const targetType = navigationProp.targetType;\n            target = targetType.annotations.UI[visualizationKey.split(UIVOCABULARYDOT)[1]];\n        }\n    }\n    if (facetTarget) {\n        const visualizationType = visualizationKey.split(UIVOCABULARYDOT)[1];\n        const namespace = facet.target[SchemaTag.fullyQualifiedName].split('@')[0];\n        const fullVisualizationKey = navPath ? `${navPath}::${visualizationKey}` : visualizationKey;\n\n        if (visualizationType.startsWith(Visualization.Chart)) {\n            sections.properties[`${facetKey}<${visualizationKey}>`] = {\n                $ref: getFacetDefinitionLink(DefinitionName.ObjectPageSectionChart, fullVisualizationKey)\n            };\n            const { sectionChart, chart } = handleSectionChart(\n                facetTarget as Chart,\n                fullVisualizationKey,\n                appSchema,\n                undefined,\n                facet.entityType\n            );\n            sectionChart[SchemaTag.annotationPath] = facet.annotationPath;\n            addTargetTitleAndSectionDescription(facet, sectionChart, facetKey);\n            chart[SchemaTag.annotationPath] = `/${namespace}/${visualizationKey}`;\n            chart[SchemaTag.target] = namespace;\n        } else if (visualizationType.startsWith(Visualization.LineItem)) {\n            sections.properties[`${facetKey}<${visualizationKey}>`] = {\n                $ref: getFacetDefinitionLink(DefinitionName.ObjectPageSectionTableV4, fullVisualizationKey)\n            };\n            const { sectionTable, table } = handleSectionTable(\n                facet,\n                fullVisualizationKey,\n                appSchema,\n                { target, entityType: facet.entityType } as FacetConfig,\n                generateParameters,\n                v4Page\n            );\n            sectionTable[SchemaTag.annotationPath] = facet.annotationPath;\n            addTargetTitleAndSectionDescription(facet, sectionTable, facetKey);\n            delete sectionTable[SchemaTag.isViewNode];\n            table[SchemaTag.annotationPath] = `/${namespace}/${visualizationKey}`;\n            table[SchemaTag.target] = namespace;\n        }\n    }\n}\n\n/**\n * Adds definitions for collections in object page sections to the app schema\n * @param {FacetConfig} facet - the given facet from the UI annotations\n * @param {string} facetKey - key of the facet, as used in annotation\n * @param {Definition} appSchema - app schema in general\n * @param {Definition} sections - schema of current sections definition.\n * @param {SectionType} sectionPrefix - prefix to distinguish Section and HeaderSection\n * @param {GenerateSchemaParameters} generateParameters - list of API input parameters\n * @param {SapUiAppPageV4} v4Page Current page in manifest\n */\nfunction handleCollection(\n    facet: FacetConfig,\n    facetKey: string,\n    appSchema: Definition,\n    sections: Definition,\n    sectionPrefix: SectionType,\n    generateParameters: GenerateAppSchemaParameters,\n    v4Page: v4.SapUiAppPageV4\n) {\n    const collectionFacet = (sections.properties[facetKey] = createDefaultSection(appSchema, facet, facetKey));\n    collectionFacet.properties = {\n        subsections: {\n            additionalProperties: false,\n            type: 'object',\n            properties: {},\n            description: 'Subsections'\n        }\n    };\n    const subSections = collectionFacet.properties.subsections;\n    subSections[SchemaTag.annotationPath] = facet.annotationPath;\n    subSections[SchemaTag.target] = facet.namespace;\n    subSections[SchemaTag.keys] = [\n        {\n            name: SchemaKeyName.id,\n            value: facet.ID\n        }\n    ];\n    subSections[SchemaTag.isViewNode] = true;\n    for (const key in facet.facets) {\n        addSection(generateParameters, facet.facets, key, subSections as Definition, appSchema, sectionPrefix, v4Page);\n    }\n}\n\n/**\n * Creates a section definition in app schema.\n * @param {GenerateSchemaParameters} generateParameters - list of API input parameters\n * @param {FacetConfigs} facets - list of all facets.\n * @param {string} facetKey - facet key.\n * @param {object} sections - schema of current sections definition.\n * @param {object} appSchema - app specific schema that potentially gets enhanced.\n * @param {SectionType} sectionPrefix - prefix to distinguish Section and HeaderSection\n * @param {SapUiAppPageV4} v4Page Current page in manifest\n */\nfunction addSection(\n    generateParameters: GenerateAppSchemaParameters,\n    facets: FacetConfigs,\n    facetKey: string,\n    sections: Definition,\n    appSchema: Definition,\n    sectionPrefix: SectionType,\n    v4Page: v4.SapUiAppPageV4\n): void {\n    const facet: FacetConfig = facets[facetKey];\n    const facetDefinitionKey = `ObjectPage${sectionPrefix}${facet.base}<${getFacetKeyInSchema(facetKey)}>`;\n    switch (facet.base) {\n        case FacetBase.PresentationVariant: {\n            handleSectionPresentationVariant(facet, facetKey, appSchema, sections, generateParameters, v4Page);\n            break;\n        }\n        case FacetBase.CollectionFacet: {\n            handleCollection(facet, facetKey, appSchema, sections, sectionPrefix, generateParameters, v4Page);\n            break;\n        }\n        case FacetBase.LineItem: {\n            if (sectionPrefix === SectionType.Section) {\n                const lineItemFacet = facets[facetKey];\n                handleSectionTable(facet, facetKey, appSchema, lineItemFacet, generateParameters, v4Page, sections);\n            }\n            break;\n        }\n        case FacetBase.Form:\n        case FacetBase.Identification: {\n            handleFormIdentification(\n                facet,\n                v4Page,\n                facetKey,\n                sections,\n                appSchema,\n                sectionPrefix,\n                generateParameters.logger\n            );\n            break;\n        }\n        case FacetBase.DataPoint: {\n            handleHeaderFacet(facet, facetKey, sections, appSchema, facetDefinitionKey);\n            break;\n        }\n        case FacetBase.Chart: {\n            if (sectionPrefix === SectionType.HeaderSection) {\n                handleHeaderFacet(facet, facetKey, sections, appSchema, facetDefinitionKey);\n            } else if (sectionPrefix === SectionType.Section) {\n                handleSectionChart(facet, facetKey, appSchema, sections);\n            }\n            break;\n        }\n        case FacetBase.Address:\n        case FacetBase.Contact: {\n            handleAddressContact(facet, facetKey, sections, appSchema, sectionPrefix);\n            break;\n        }\n        default: {\n            sections['properties'][facetKey] = createDefaultSection(appSchema, facet, facetKey);\n        }\n    }\n}\n\n/**\n * Derives the sections from the UI.Facets annotation and adds them to the schema\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {object} appSchema - application specific JSON schema\n * @param {SapUiAppPageV4} v4Page - current page\n */\nfunction addSections(\n    generateParameters: GenerateAppSchemaParameters,\n    appSchema: Definition,\n    v4Page: v4.SapUiAppPageV4\n): void {\n    // Get facet annotations\n    const facets: FacetConfigs = getObjectPageFacets(\n        generateParameters.entitySet.entityType,\n        generateParameters.serviceAVT,\n        FioriElementsVersion.v4,\n        generateParameters.logger\n    );\n    if (!facets) {\n        delete appSchema.definitions[DefinitionName.ObjectPageSubSections];\n        return;\n    }\n\n    const sections = appSchema.definitions[DefinitionName.Sections] as Definition;\n\n    for (const facetKey in facets) {\n        addSection(generateParameters, facets, facetKey, sections, appSchema, SectionType.Section, v4Page);\n    }\n    // Custom sections as part of sections\n    if (appSchema.definitions[DefinitionName.CustomSections]) {\n        sections.properties = {\n            ...sections.properties,\n            ...(appSchema.definitions[DefinitionName.CustomSections] as Definition).properties\n        };\n    }\n}\n\n/**\n * Derives the header sections from the UI.HeaderFacets annotation and adds them to the schema\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {object} appSchema - application specific JSON schema\n * @param {EntityType} entityType - current entity type\n * @param {SapUiAppPageV4} v4Page - current page in manifest\n */\nfunction addHeaderSections(\n    generateParameters: GenerateAppSchemaParameters,\n    appSchema: Definition,\n    entityType: EntityType,\n    v4Page: v4.SapUiAppPageV4\n): void {\n    // Get facet annotations\n    const facets: FacetConfigs = getObjectPageHeaderFacets(\n        entityType,\n        generateParameters.serviceAVT,\n        FioriElementsVersion.v4,\n        generateParameters.logger\n    );\n    const sections = appSchema.definitions[DefinitionName.HeaderSections] as Definition;\n    sections.properties = {};\n    sections.additionalProperties = false;\n\n    if (!facets) {\n        return;\n    }\n    for (const facetKey in facets) {\n        addSection(generateParameters, facets, facetKey, sections, appSchema, SectionType.HeaderSection, v4Page);\n    }\n    //delete generic definitions\n    delete appSchema.definitions[DefinitionName.ObjectPageHeaderSectionForm];\n    delete appSchema.definitions[DefinitionName.ObjectPageHeaderSectionChart];\n    delete appSchema.definitions[DefinitionName.ObjectPageHeaderSectionDataPoint];\n    delete appSchema.definitions[DefinitionName.ObjectPageHeaderSectionContact];\n    delete appSchema.definitions[DefinitionName.ObjectPageHeaderSectionAddress];\n}\n\n/**\n * Adds the related facets keys 'enum' to the app schema\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {object} schema - app specific schema that potentially gets enhanced\n * @param {string} entitySetName - entity set of the actual (object) page\n * @param {SapUiAppPageV4[]} pages - list of all pages\n */\nfunction addRelatedFacetKeysType(\n    generateParameters: GenerateAppSchemaParameters,\n    schema: object,\n    entitySetName: string,\n    pages: v4.SapUiAppPageV4[]\n): void {\n    Object.keys(pages).forEach((element) => {\n        if (\n            pages[element].options &&\n            pages[element].options.settings &&\n            pages[element].options.settings.entitySet === entitySetName &&\n            pages[element].name === v4.FE_TEMPLATE_V4_OBJECT_PAGE\n        ) {\n            // Find sections from annotation\n            const facetSections: FacetSection[] = getObjectPageFacetSection(\n                generateParameters.entitySet.entityType,\n                generateParameters.serviceAVT,\n                generateParameters.logger\n            );\n            // Find custom sections ids from manifest\n            const page: v4.SapUiAppPageV4 = pages[element];\n            if (\n                page.options &&\n                page.options.settings &&\n                page.options.settings.content &&\n                page.options.settings.content.body &&\n                page.options.settings.content.body.sections\n            ) {\n                Object.keys(page.options.settings.content.body.sections).forEach(function (key) {\n                    // Just in case - avoid duplications\n                    if (!facetSections.find((section: FacetSection) => section.key === key)) {\n                        facetSections.push({\n                            key,\n                            custom: true\n                        });\n                    }\n                });\n            }\n            // Update schema definition\n            addDefinitionForRelatedFacetKeys(schema, [DefinitionName.ObjectPageCustomSectionFragment], facetSections, [\n                'ID',\n                'label',\n                'key'\n            ]);\n        }\n    });\n}\n\n/**\n * Add Object Page Header to app-specific schema\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {Definition} appSchema Schema of the app\n * @param {SapUiAppPageV4} v4Page - current page in manifest\n */\nfunction addHeader(\n    generateParameters: GenerateAppSchemaParameters,\n    appSchema: Definition,\n    v4Page: v4.SapUiAppPageV4\n): void {\n    const entityType = generateParameters.entitySet.entityType;\n    addCommonHeaderSchema(appSchema, entityType);\n\n    // Add header actions\n    addHeaderActions(appSchema, entityType, generateParameters.serviceAVT, addHeaderActionCallBackV4);\n\n    // Add header sections\n    appSchema.definitions[DefinitionName.HeaderSections][\n        SchemaTag.annotationPath\n    ] = `/${entityType.fullyQualifiedName}/@${UIAnnotationTerms.HeaderFacets}`;\n    addHeaderSections(generateParameters, appSchema, entityType, v4Page);\n}\n\n/**\n * Generates an app specific schema out of the generic schema.\n * Generic types are replaced by information from the app specific annotations.\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param genericSchema  - generic JSON schema of an object page\n * @param entityTypeName - the base entity type of the given page\n *\n * @returns the app specific JSON schema\n */\nexport function generateObjectPageSchemaV4(\n    generateParameters: GenerateAppSchemaParameters,\n    genericSchema: object,\n    entityTypeName: string\n): object {\n    const appSchema: Definition = JSON.parse(JSON.stringify(genericSchema));\n\n    // Change reference to generated sections\n    appSchema.properties.sections = {\n        $ref: `${DEFINITION_LINK_PREFIX}${DefinitionName.Sections}`\n    };\n\n    const entitySet = generateParameters.serviceAVT?.entitySets?.find((es) => es.entityType.name === entityTypeName);\n    if (!entitySet) {\n        log(generateParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOENTITYSET4NAME', { entityType: entityTypeName }),\n            location: {\n                path: METADATAPATH\n            }\n        });\n    }\n    generateParameters.entitySet = entitySet;\n\n    if (\n        !generateParameters.manifest[ManifestSection.ui5].routing ||\n        !generateParameters.manifest[ManifestSection.ui5].routing.targets\n    ) {\n        log(generateParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOROUTING'),\n            location: {\n                path: MANIFESTPATH\n            }\n        });\n        return appSchema;\n    }\n\n    //initialize sections\n    const sections = (appSchema.definitions[DefinitionName.Sections] = {\n        type: 'object',\n        properties: {},\n        additionalProperties: false,\n        description: DefinitionName.Sections\n    } as Definition);\n    sections[SchemaTag.isViewNode] = true;\n    if (entitySet) {\n        const pages = generateParameters.manifest[ManifestSection.ui5].routing\n            .targets as unknown as v4.SapUiAppPageV4[];\n        if (!pages) {\n            log(generateParameters.logger, {\n                severity: LogSeverity.Error,\n                message: i18next.t('NOPAGES', { appId: generateParameters.manifest['sap.app']['id'] }),\n                location: {\n                    path: MANIFESTPATH,\n                    range: [ManifestSection.generic]\n                }\n            });\n            return appSchema;\n        }\n        const v4Page = findPageV4(pages, v4.FE_TEMPLATE_V4_OBJECT_PAGE, entitySet, generateParameters.logger);\n        if (!v4Page) {\n            return appSchema;\n        }\n\n        // Add Header\n        addHeader(generateParameters, appSchema, v4Page);\n\n        // Add sections\n        sections[SchemaTag.isViewNode] = true;\n        sections[SchemaTag.annotationPath] = `/${entitySet.entityType.fullyQualifiedName}/@${UIAnnotationTerms.Facets}`;\n        addSections(generateParameters, appSchema, v4Page);\n\n        // Custom Section facets\n        addRelatedFacetKeysType(generateParameters, appSchema, entitySet.name, pages);\n\n        // Add Footer (actions only)\n        addFooterActions(appSchema, generateParameters, FioriElementsVersion.v4, addFooterActionCallBackV4);\n    }\n    // Delete generic definitions from schema\n    delete appSchema.definitions[DefinitionName.CommonHeaderFacetSettings];\n    delete appSchema.definitions[DefinitionName.GenericColumnsOP];\n    delete appSchema.definitions[DefinitionName.GenericSections];\n    delete appSchema.definitions[DefinitionName.ObjectPageChart];\n    delete appSchema.definitions[DefinitionName.ObjectPageSectionAddress];\n    delete appSchema.definitions[DefinitionName.ObjectPageSectionChart];\n    delete appSchema.definitions[DefinitionName.ObjectPageSectionContact];\n    delete appSchema.definitions[DefinitionName.ObjectPageSectionDataPoint];\n    delete appSchema.definitions[DefinitionName.ObjectPageSectionForm];\n    delete appSchema.definitions[DefinitionName.ObjectPageSectionTableV4];\n    delete appSchema.definitions[DefinitionName.ObjectPageSectionPresentationVariant];\n    delete appSchema.definitions[DefinitionName.ObjectPageSubSections];\n    delete appSchema.definitions[DefinitionName.ObjectPageTable];\n    delete appSchema.definitions[DefinitionName.ObjectPageToolBar];\n    delete appSchema.definitions[DefinitionName.ObjectPageToolBarAction];\n    delete appSchema.definitions[DefinitionName.ObjectPageToolBarActions];\n    delete appSchema.definitions[DefinitionName.QuickVariantSelectionV4OP];\n\n    return appSchema;\n}\n", "import type { GenerateAppSchemaParameters } from '@sap/ux-specification-types';\n\n/**\n * Generates an app specific schema for the FE V4 Freestyle page from the generic schema.\n * Generic types are replaced by information from the app specific annotations.\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param genericSchema  - generic JSON schema of an object page\n *\n * @returns {object} application-specific schema of the freestyle page\n */\nexport function generateFreestyleSchemaV4(\n    _generateParameters: GenerateAppSchemaParameters,\n    genericSchema: object\n): object {\n    return JSON.parse(JSON.stringify(genericSchema));\n}\n", "import { parseAndMergeAndConvert } from '../../common/utils';\nimport { generateFreestyleSchemaV4, generateListReportSchemaV4, generateObjectPageSchemaV4 } from '.';\nimport type { ExtensionLogger, GenerateAppSchemaParameters, FileData } from '@sap/ux-specification-types';\nimport { v4, FioriElementsVersion, TemplateType } from '@sap/ux-specification-types';\n\n/**\n * Generates the app specific schema of an object page out of the generic schema for the same page.\n * Generic types are replaced by information from the app specific annotations.\n *\n * @param genericSchema - generic JSON schema of a list report\n * @param entitySetName - the base entity set of the given page\n * @param annotations - list of all annotation files (file content plus URI as identifier)\n * @param manifest - manifest.json of the app\n * @param {ExtensionLogger} logger - Logger class for logging messages\n * @param {FileData[]} fragments - list of fragment files and their content\n *\n * @returns the app specific JSON schema\n */\nexport function generateObjectPageInterfaceV4(\n    genericSchema: object,\n    entitySet: string,\n    annotations: FileData[],\n    manifest: object,\n    logger?: ExtensionLogger,\n    fragments?: FileData[]\n): object {\n    const serviceAVT = parseAndMergeAndConvert(annotations, logger);\n    const generateParameters: GenerateAppSchemaParameters = {\n        templateType: TemplateType.ListReportObjectPageV4,\n        fioriElementsVersion: FioriElementsVersion.v4,\n        manifest,\n        fragments,\n        serviceAVT,\n        logger\n    };\n    return generateObjectPageSchemaV4(generateParameters, genericSchema, entitySet);\n}\n\n/**\n * Generates the app specific schema of a list report out of the generic schema.\n * Generic types are replaced by information from the app specific annotations.\n * @param {TemplateType} templateType - the template type allows distinguishing LR and ALP\n * @param genericSchema - generic JSON schema of a list report\n * @param entitySetName - the base entity set of the given page\n * @param annotations - list of all annotation files (file content plus URI as identifier)\n * @param {ExtensionLogger} logger - Logger class for logging messages\n * @param manifest - manifest.json of the app\n *\n * @returns the app specific JSON schema\n */\nexport function generateListReportInterfaceV4(\n    templateType: TemplateType,\n    genericSchema: object,\n    entitySetName: string,\n    annotations: FileData[],\n    logger?: ExtensionLogger,\n    manifest?: object\n): object {\n    const serviceAVT = parseAndMergeAndConvert(annotations, logger);\n    const entitySet = serviceAVT?.entitySets.find((es) => es.name === entitySetName);\n    const generateParameters: GenerateAppSchemaParameters = {\n        templateType,\n        fioriElementsVersion: FioriElementsVersion.v4,\n        manifest,\n        serviceAVT,\n        logger\n    };\n\n    const templateName =\n        templateType === TemplateType.ListReportObjectPageV4 ? v4.FE_TEMPLATE_V4_LIST_REPORT : v4.FE_TEMPLATE_V4_ALP;\n    return generateListReportSchemaV4(generateParameters, genericSchema, entitySet, templateName);\n}\n\n/**\n * Generates the app specific schema of a freestyle page out of the generic schema.\n * Generic types are replaced by information from the app specific annotations.\n * @param {TemplateType} templateType - the template type allows distinguishing LR and ALP\n * @param genericSchema - generic JSON schema of a list report\n * @param annotations - list of all annotation files (file content plus URI as identifier)\n * @param {ExtensionLogger} logger - Logger class for logging messages\n * @param manifest - manifest.json of the app\n *\n * @returns the app specific JSON schema\n */\nexport function generateFreestyleInterfaceV4(\n    templateType: TemplateType,\n    genericSchema: object,\n    annotations: FileData[],\n    manifest?: object,\n    _entitySetName?: string,\n    logger?: ExtensionLogger\n): object {\n    const serviceAVT = parseAndMergeAndConvert(annotations, logger);\n    const generateParameters: GenerateAppSchemaParameters = {\n        templateType,\n        fioriElementsVersion: FioriElementsVersion.v4,\n        manifest,\n        serviceAVT,\n        logger\n    };\n    return generateFreestyleSchemaV4(generateParameters, genericSchema);\n}\n", "import { syncRule, childId, validity } from '../common/decoration/decorators';\nimport type { v4, ViewTypes, Target, Manifest, Application } from '@sap/ux-specification-types';\nimport { UIAnnotationTerms } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport { QUICKVARPATH } from '@sap/ux-specification-types';\nimport { controllerExtensions } from './sync-rules/controllerExtensions';\n\nexport const getSettingsPathForPage = (pageName: string[]): string => {\n    return `sap.ui5/routing/targets/${pageName[0]}/options/settings`;\n};\n\nexport const getSettingsPathForLRViewsPaths = (pageName: string[]): string => {\n    return getSettingsPathForPage(pageName) + `/views/paths`;\n};\n\nexport const getSettingsPathForHeaderOP = (pageName: string[]): string => {\n    return getSettingsPathForPage(pageName) + `/content/header`;\n};\n\nexport const getSettingsPathForFooterOP = (pageName: string[]): string => {\n    return getSettingsPathForPage(pageName) + `/content/footer`;\n};\n\nexport const getControlConfigurationPath = (pageName: string[]): string => {\n    return getSettingsPathForPage(pageName) + '/controlConfiguration';\n};\n\nexport const getHeaderFacetSettingPath = (pageName: string[], _manifest: Manifest, sectionId: string): string => {\n    return getControlConfigurationPath(pageName) + `/@${UIAnnotationTerms.HeaderFacets}/facets/${sectionId}`;\n};\n\n/**\n * Common function that calculates the path in manifest for table settings of a list report or ALP table view\n * @param pageName - page name in manifest\n * @param manifest - manifest (not used)\n * @param targetAnnotationEncoded - encoded target annotation (not used)\n * @param viewKey - view key (not used)\n * @param targetAnnotation - target annotation, i.e. the line item (with or without qualifier)\n * @returns - path as string\n */\nexport const getTableSettingsPathForView = (\n    pageName: string[],\n    _manifest: Manifest,\n    _targetAnnotationEncoded: string,\n    _viewKey: string,\n    targetAnnotation: string\n): string => {\n    const annotationEncoded = targetAnnotation?.replace(/\\//gi, '??');\n    return annotationEncoded\n        ? getControlConfigurationPath(pageName) + `/${annotationEncoded}/tableSettings`\n        : undefined;\n};\n\nexport const getTableSettingsPathForLR = (\n    pageName: string[],\n    manifest: Manifest,\n    targetAnnotationEncoded: string,\n    columnKey: string,\n    targetAnnotation: string\n): string => {\n    if (targetAnnotation) {\n        return getTableSettingsPathForView(pageName, manifest, targetAnnotationEncoded, columnKey, targetAnnotation);\n    } else {\n        return getControlConfigurationPath(pageName) + `/@${UIAnnotationTerms.LineItem}/tableSettings`;\n    }\n};\n\nexport const getQuickVariantPath = (\n    pageName: string[],\n    manifest: Manifest,\n    targetAnnotationEncoded: string,\n    columnKey: string,\n    targetAnnotation: string\n): string => {\n    return (\n        getTableSettingsPathForLR(pageName, manifest, targetAnnotationEncoded, columnKey, targetAnnotation) +\n        QUICKVARPATH\n    );\n};\n\nexport const getColumnsPathForView = (\n    pageName: string[],\n    _manifest: Manifest,\n    _targetAnnotationEncoded: string,\n    columnKey: string,\n    targetAnnotation: string\n): string => {\n    const annotationEncoded = targetAnnotation.replace(/\\//gi, '??');\n    return getControlConfigurationPath(pageName) + `/${annotationEncoded}/columns/${columnKey}`;\n};\n\nexport const getColumnsPathForLR = (\n    pageName: string[],\n    manifest: Manifest,\n    targetAnnotationEncoded: string,\n    columnKey: string,\n    targetAnnotation: string\n): string => {\n    if (targetAnnotation) {\n        return getColumnsPathForView(pageName, manifest, targetAnnotationEncoded, columnKey, targetAnnotation);\n    } else {\n        return getControlConfigurationPath(pageName) + `/@${UIAnnotationTerms.LineItem}/columns/${columnKey}`;\n    }\n};\n\nexport const getActionsPathForView = (\n    pageName: string[],\n    _manifest: Manifest,\n    _targetAnnotationEncoded: string,\n    columnKey: string,\n    targetAnnotation: string\n): string => {\n    const annotationEncoded = targetAnnotation.replace(/\\//gi, '??');\n    return getControlConfigurationPath(pageName) + `/${annotationEncoded}/actions/${columnKey}`;\n};\n\nexport const getActionsPathForLR = (\n    pageName: string[],\n    manifest: Manifest,\n    targetAnnotationEncoded: string,\n    columnKey: string,\n    targetAnnotation: string\n): string => {\n    if (targetAnnotation) {\n        return getActionsPathForView(pageName, manifest, targetAnnotationEncoded, columnKey, targetAnnotation);\n    } else {\n        return getControlConfigurationPath(pageName) + `/@${UIAnnotationTerms.LineItem}/actions/${columnKey}`;\n    }\n};\n\nexport const getColumnsPathForOP = (\n    pageName: string[],\n    _manifest: Manifest,\n    sectionId: string,\n    columnKey: string\n): string => {\n    return getControlConfigurationPath(pageName) + `/${sectionId}/columns/${columnKey}`;\n};\n\nexport const getActionsPathForOP = (\n    pageName: string[],\n    _manifest: Manifest,\n    sectionId: string,\n    columnKey: string\n): string => {\n    return getControlConfigurationPath(pageName) + `/${sectionId}/actions/${columnKey.replace('/', '??')}`;\n};\n\nexport const getHeaderActionsPath = (\n    pageName: string[],\n    _manifest: Manifest,\n    sectionId: string,\n    columnKey: string\n): string => {\n    return getSettingsPathForHeaderOP(pageName) + `/actions/${columnKey.replace('/', '??')}`;\n};\n\nexport const getFooterActionsPath = (\n    pageName: string[],\n    _manifest: Manifest,\n    sectionId: string,\n    columnKey: string\n): string => {\n    return getSettingsPathForFooterOP(pageName) + `/actions/${columnKey.replace('/', '??')}`;\n};\n\nexport const getTableSettingsPathForOP = (pageName: string[], _manifest: Manifest, sectionId: string): string => {\n    return getControlConfigurationPath(pageName) + `/${sectionId}/tableSettings`;\n};\n\nexport const getCustomSectionPath = (\n    pageName: string[],\n    _manifest: Manifest,\n    sectionId: string,\n    pathPart?: string\n): string => {\n    let path = getSettingsPathForPage(pageName) + `/content/body/sections/${sectionId}`;\n    if (pathPart) {\n        path += '/' + pathPart;\n    }\n    return path;\n};\n\nexport class ApplicationV4 implements Application {\n    $schema?: string;\n    id?: string;\n    pages?: v4.Pages;\n    home?: string;\n    target?: Target;\n    @childId('settings')\n    settings?: AppSettings;\n}\n\nexport class AppSettings implements v4.AppSettings {\n    @syncRule({\n        manifest: {\n            path: (): string => 'sap.app'\n        }\n    })\n    title?: string;\n\n    @syncRule({\n        manifest: {\n            path: (): string => 'sap.app'\n        }\n    })\n    description?: string;\n\n    @syncRule({\n        manifest: {\n            path: (): string => 'sap.ui5/routing/config'\n        }\n    })\n    @validity({\n        since: '1.78.0'\n    })\n    flexibleColumnLayout?: v4.FlexibleColumnLayoutV4;\n\n    @syncRule({\n        manifest: {\n            path: (): string => 'sap.ui5'\n        }\n    })\n    @validity({\n        since: '1.56.0'\n    })\n    flexEnabled?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (): string => 'sap.ui5/routing/config'\n        }\n    })\n    viewType?: ViewTypes;\n\n    @syncRule({\n        manifest: {\n            path: (): string => 'sap.ui5/routing/config'\n        }\n    })\n    path?: string;\n\n    @syncRule(controllerExtensions)\n    controllerExtensions?: v4.ControllerExtensions;\n}\n", "import { PageType, v4 } from '@sap/ux-specification-types';\n\nconst PAGE_TYPE_TO_CONTROLLER_EXTENSION_MAP = new Map<PageType, string>([\n    [PageType.ListReport, v4.SAPUI5_VIEW_EXTENSION_LIST_REPORT],\n    [PageType.ObjectPage, v4.SAPUI5_VIEW_EXTENSION_OBJECT_PAGE]\n]);\n\n/**\n * Method transfers values of 'controllerNames' and 'controllerName' from source to target.\n * Method can be uses in both ways - import or export.\n * @param {SapUi5ControllerExtensionV4} source - source object\n * @param {SapUi5ControllerExtensionV4} target - target object\n */\nconst applyControllerNameProperties = (\n    source: v4.SapUi5ControllerExtensionV4,\n    target: v4.SapUi5ControllerExtensionV4\n) => {\n    const properties = ['controllerNames', 'controllerName'];\n    for (const property of properties) {\n        if (property in source) {\n            target[property] = source[property];\n        } else if (property in target) {\n            // Deletion of property happens\n            delete target[property];\n        }\n    }\n};\n\n/**\n * Method returns extension key for import(page.json).\n * @param {string} manifestKey - extension name in manifest.\n * @returns - extension key for import.\n */\nconst getExtensionKeyForImport = (manifestKey: string): string | undefined => {\n    for (const [pageType, key] of PAGE_TYPE_TO_CONTROLLER_EXTENSION_MAP) {\n        if (manifestKey.startsWith(key)) {\n            // Replace SAPUI5 specific key like 'sap.fe.templates.ObjectPage.ObjectPageController' with more readable PageType\n            let configKey: string = pageType;\n            if (manifestKey.includes('#')) {\n                // Append with page id\n                const id = manifestKey.split('#')[1]?.split('::')[1];\n                configKey += `#${id}`;\n            }\n            return configKey;\n        }\n    }\n    return undefined;\n};\n\n/**\n * Method returns extension key for export(manifest.json).\n * @param {string} configKey - extension name in config.\n * @param {string} appId - application id.\n * @returns - extension key for export.\n */\nconst getExtensionKeyForExport = (configKey: string, appId: string): string => {\n    let manifestKey = '';\n    for (const [pageType, key] of PAGE_TYPE_TO_CONTROLLER_EXTENSION_MAP) {\n        if (configKey.startsWith(pageType)) {\n            manifestKey = key;\n        }\n    }\n    const idParts = configKey.split('#');\n    if (idParts.length > 1) {\n        const pageId = idParts[1];\n        manifestKey = `${manifestKey}#${appId}::${pageId}`;\n    }\n    return manifestKey;\n};\n\nexport const controllerExtensions = {\n    manifest: {\n        path: (): string => `sap.ui5/extends/extensions/${v4.SAPUI5_CONTROLLER_EXTENSION}`,\n        import: (extensions: v4.SapUi5ControllerExtensionsV4): v4.ControllerExtensions | undefined => {\n            const result: v4.ControllerExtensions = {};\n            if (extensions && typeof extensions === 'object') {\n                for (const manifestKey in extensions) {\n                    const configKey = getExtensionKeyForImport(manifestKey);\n                    if (configKey) {\n                        result[configKey] = {};\n                        applyControllerNameProperties(extensions[manifestKey], result[configKey]);\n                    }\n                }\n            }\n            return Object.keys(result).length ? result : undefined;\n        },\n        export: (\n            manifestSection: v4.SapUi5ControllerExtensionsV4,\n            configObject: v4.ApplicationV4,\n            key: string\n        ): void => {\n            const appId = configObject?.id || '';\n            const configExtensions = configObject?.settings?.[key] || {};\n            // Go through all config extensions\n            for (const configKey in configExtensions) {\n                const manifestKey = getExtensionKeyForExport(configKey, appId);\n                if (!manifestSection[manifestKey]) {\n                    manifestSection[manifestKey] = {};\n                }\n                applyControllerNameProperties(configExtensions[configKey], manifestSection[manifestKey]);\n            }\n            // Handle removed extensions\n            for (const manifestKey in manifestSection) {\n                const configKey = getExtensionKeyForImport(manifestKey);\n                if (configKey && !configExtensions[configKey]) {\n                    delete manifestSection[manifestKey];\n                }\n            }\n        }\n    }\n};\n", "import {\n    PageTypeV4,\n    SchemaType,\n    ManifestSection,\n    MANIFESTPATH,\n    SchemaTag,\n    DefinitionName,\n    LogSeverity\n} from '@sap/ux-specification-types';\nimport type { v4, ImportListReportV4Parameters } from '@sap/ux-specification-types';\nimport { DEFINITION_LINK_PREFIX, getPageTypeV4, removeEmptyStructure, getDefinitionKey } from '../../../common';\nimport { transferSettingsOfObject } from '../utils';\nimport { initI18n } from '../../../../i18n/i18n';\nimport i18next from 'i18next';\nimport { log } from '../../../../extensionLogger';\nimport { MetadataInstanceFactoryV4 as Factory } from '../../export/factory';\nimport type { MetadataInstanceInterface } from '../../../common/decoration/factory';\nimport type { Definition } from 'typescript-json-schema';\nimport { UIAnnotationTerms } from '@sap-ux/vocabularies-types/vocabularies/UI';\n\n/**\n * Imports the content of annotation-based as well as custom columns\n * @param {ListReportConfig | AnalyticalListPageConfig} config - the configuration to be filled\n * @param {ImportListReportV4Parameters} importParameters  - object comprising all input data\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param {PageTypeV4} pageType - page type\n * @param {string} routingId - ID of the given page\n * @param {string} configId - config id\n * @param {string} viewId - view id in multi view mode\n */\nfunction transferColumns(\n    config: v4.Table | v4.LRTableView,\n    importParameters: ImportListReportV4Parameters,\n    factory: MetadataInstanceInterface,\n    pageType: PageTypeV4,\n    routingId: string,\n    configId?: string,\n    viewId?: string\n) {\n    const schemaDefinitions = importParameters.jsonSchema.definitions;\n    const lineItemsId = configId && configId !== `@${UIAnnotationTerms.LineItem}` ? configId : DefinitionName.LineItems;\n    const lineItems = schemaDefinitions[lineItemsId] as Definition;\n    if (lineItems) {\n        config.columns = {};\n        for (const columnKey in lineItems.properties) {\n            const columnDefinition = (schemaDefinitions[lineItemsId] as Definition).properties[columnKey] as Definition;\n            const schemaPropertyName = columnDefinition.$ref.split(DEFINITION_LINK_PREFIX)[1].split('<')[0];\n            config.columns[columnKey] = factory.createInstance(pageType, schemaPropertyName);\n            const targetAnnotation = viewId || configId;\n            transferSettingsOfObject(\n                config.columns[columnKey],\n                importParameters.manifest,\n                schemaDefinitions[schemaPropertyName] as Definition,\n                routingId,\n                [columnKey, targetAnnotation],\n                targetAnnotation,\n                importParameters.logger\n            );\n            removeEmptyStructure(config.columns, columnKey);\n        }\n        removeEmptyStructure(config, 'columns');\n    } else {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOLINEITEMS')\n        });\n    }\n}\n\n/**\n * Import table toolbar actions of list report\n * @param {ImportListReportV4Parameters} importParameters  - object comprising all input data\n * @param {ListReportConfigV4} config - the configuration to be filled\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param {SapUiAppPageV4} page - page in manifest\n * @param {PageTypeV4} pageType - page type\n */\nfunction importActions(\n    importParameters: ImportListReportV4Parameters,\n    tableConfig: v4.Table | v4.LRTableView | v4.ALPTableView,\n    factory: MetadataInstanceInterface,\n    pageType: PageTypeV4,\n    routingId: string,\n    columnDefinitionName: string = DefinitionName.LineItems,\n    viewId?: string\n) {\n    const schemaDefinitions = importParameters.jsonSchema.definitions;\n    let targetAnnotation = viewId;\n    if (\n        !targetAnnotation &&\n        [DefinitionName.LineItems, `${DefinitionName.LineItems}OfSPV::LineItem`].indexOf(columnDefinitionName) === -1\n    ) {\n        targetAnnotation = `@${UIAnnotationTerms.LineItem}#${columnDefinitionName.split('::').pop()}`;\n    }\n    const actionsDefinition = schemaDefinitions[`${DefinitionName.Actions}<${columnDefinitionName}>`];\n    if (typeof actionsDefinition === 'object') {\n        for (const actionKey in actionsDefinition.properties) {\n            const actionDefinition = actionsDefinition.properties[actionKey];\n            if (typeof actionDefinition === 'object' && actionDefinition.$ref) {\n                const definitionKey = getDefinitionKey(actionDefinition.$ref);\n                const schemaPropertyName = definitionKey.split('<')[0];\n                tableConfig.toolBar.actions[actionKey] = factory.createInstance(pageType, schemaPropertyName);\n\n                transferSettingsOfObject(\n                    tableConfig.toolBar.actions[actionKey],\n                    importParameters.manifest,\n                    schemaDefinitions[definitionKey] as Definition,\n                    routingId,\n                    [actionKey, targetAnnotation]\n                );\n                removeEmptyStructure(tableConfig.toolBar.actions, actionKey);\n            }\n        }\n    }\n}\n\nfunction transferToolBar(\n    importParameters: ImportListReportV4Parameters,\n    config: v4.ListReportConfigV4 | v4.Table,\n    factory: MetadataInstanceInterface,\n    pageType: PageTypeV4,\n    routingId: string,\n    columnDefinitionName: string = DefinitionName.LineItems,\n    viewId?: string\n) {\n    const toolbarInstance = factory.createInstance(pageType, DefinitionName.ToolBar, {\n        actions: {}\n    });\n    let table;\n    if (!viewId && config && 'table' in config) {\n        table = config.table;\n    } else {\n        table = config;\n    }\n    table.toolBar = toolbarInstance;\n\n    transferSettingsOfObject(\n        table.toolBar,\n        importParameters.manifest,\n        importParameters.jsonSchema.definitions[DefinitionName.ToolBarLR],\n        routingId,\n        []\n    );\n    importActions(importParameters, table, factory, pageType, routingId, columnDefinitionName, viewId);\n\n    removeEmptyStructure(table.toolBar, 'actions');\n    removeEmptyStructure(table, 'toolBar');\n}\n\n/**\n * Determines the target annotation of a list report view or defaultTemplateAnnotationPath\n * @param schemaDefinitions - app schema definitions\n * @param definitionName - current definition name\n * @returns the target annotation as string\n */\nfunction determineTargetAnnotationOfView(schemaDefinitions: Definition, definitionName: string): string {\n    const lineItemAnnotation = schemaDefinitions[definitionName]?.[SchemaTag.annotationPath];\n    const navigationProperty = schemaDefinitions[definitionName]?.navigationProperty;\n    let targetAnnotation = lineItemAnnotation?.substr(lineItemAnnotation.lastIndexOf('@'));\n    targetAnnotation = navigationProperty ? `${navigationProperty}/${targetAnnotation}` : targetAnnotation;\n    return targetAnnotation;\n}\n\n/**\n * Import chart & table view of ALP\n * @param {ImportListReportV4Parameters} importParameters  - object comprising all input data\n * @param {ListReportConfigV4} config - the configuration to be filled\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param {SapUiAppPageV4} page - page in manifest\n * @param {PageTypeV4} pageType - page type\n * @param {string} routingId - page key in manifest\n */\nfunction importALPViews(\n    importParameters: ImportListReportV4Parameters,\n    config: v4.ListReportConfigV4,\n    factory: MetadataInstanceInterface,\n    pageType: PageTypeV4,\n    routingId: string\n): void {\n    const schemaDefinitions = importParameters.jsonSchema.definitions;\n    //chart view\n    config.chart = factory.createInstance(pageType, DefinitionName.ALPChart);\n    const chartDefinition = schemaDefinitions[DefinitionName.ALPChart] as Definition;\n    const chartAnnotationPath = chartDefinition[SchemaTag.annotationPath];\n    transferSettingsOfObject(config.chart, importParameters.manifest, chartDefinition, routingId, [\n        chartDefinition[SchemaTag.key],\n        chartAnnotationPath?.substr(chartAnnotationPath.lastIndexOf('@'))\n    ]);\n    config.chart.toolBar = factory.createInstance(pageType, DefinitionName.ToolBar, { actions: {} });\n    transferSettingsOfObject(\n        config.chart.toolBar,\n        importParameters.manifest,\n        schemaDefinitions[DefinitionName.ViewChartToolBar] as Definition,\n        routingId,\n        []\n    );\n    //table view\n    const tableAnnotationPath = schemaDefinitions[DefinitionName.ALPTable][SchemaTag.annotationPath];\n    if (tableAnnotationPath) {\n        const tableDefinition = schemaDefinitions[DefinitionName.ALPTable];\n        const tableConfig = (config.table = factory.createInstance(\n            pageType,\n            DefinitionName.ALPTable\n        ) as v4.ALPTableView);\n        transferToolBar(importParameters, config, factory, pageType, routingId);\n        const configId = tableAnnotationPath.substr(tableAnnotationPath.lastIndexOf('@'));\n        transferSettingsOfObject(tableConfig, importParameters.manifest, tableDefinition, routingId, [\n            tableDefinition[SchemaTag.key],\n            configId\n        ]);\n        //transfer columns\n        transferColumns(tableConfig, importParameters, factory, pageType, routingId, undefined, configId);\n    }\n}\n\n/**\n * Method received view definition name and returns view type.\n * @param {string} definition  - definition name in schema.\n * @returns {DefinitionName | undefined} Resolved view type.\n */\nfunction getViewTypeByDefinition(definition: string): DefinitionName | undefined {\n    let viewType: DefinitionName;\n    if (definition.indexOf(DefinitionName.LRTableView) > -1) {\n        viewType = DefinitionName.LRTableView;\n    } else if (definition.indexOf(DefinitionName.LRChartView) > -1) {\n        viewType = DefinitionName.LRChartView;\n    } else if (definition === DefinitionName.TableViewExtension) {\n        viewType = DefinitionName.TableViewExtension;\n    }\n    return viewType;\n}\n\n/**\n * Import table views of list report\n * @param {ImportListReportV4Parameters} importParameters  - object comprising all input data\n * @param {ListReportConfigV4} config - the configuration to be filled\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param {PageTypeV4} pageType - page type\n * @param {string} routingId - page key in manifest\n */\nfunction importLRViews(\n    importParameters: ImportListReportV4Parameters,\n    config: v4.ListReportConfigV4,\n    factory: MetadataInstanceInterface,\n    pageType: PageTypeV4,\n    routingId: string\n): void {\n    const tableViewConfig: v4.MultiTableModeV4 = ((config.table as v4.Table).views = factory.createInstance(\n        pageType,\n        DefinitionName.MultiTableModeV4\n    ));\n    const schemaDefinitions = importParameters.jsonSchema.definitions as Definition;\n\n    //Transfer settings on overall views' level\n    transferSettingsOfObject(\n        tableViewConfig,\n        importParameters.manifest,\n        schemaDefinitions[DefinitionName.MultiTableModeV4],\n        routingId,\n        []\n    );\n    const properties = schemaDefinitions[DefinitionName.MultiTableModeV4].properties;\n    const sortedList = Object.entries(properties).sort(\n        (a, b) => a[1][SchemaTag.propertyIndex] - b[1][SchemaTag.propertyIndex]\n    );\n    for (const element of sortedList) {\n        //process single views\n        if (element[1]['$ref']) {\n            const nextDefinition = element[1]['$ref'].split(DEFINITION_LINK_PREFIX)[1];\n            const viewType = getViewTypeByDefinition(nextDefinition);\n            const tableView = (tableViewConfig[element[0]] = factory.createInstance(pageType, viewType));\n            const targetAnnotation = determineTargetAnnotationOfView(schemaDefinitions, nextDefinition);\n            transferSettingsOfObject(\n                tableView,\n                importParameters.manifest,\n                schemaDefinitions[nextDefinition],\n                routingId,\n                [element[0], targetAnnotation]\n            );\n            if (viewType === DefinitionName.LRTableView) {\n                const definitionName = `${DefinitionName.LineItemsOfView}::${element[0]}`;\n                transferToolBar(\n                    importParameters,\n                    tableView,\n                    factory,\n                    pageType,\n                    routingId,\n                    definitionName,\n                    targetAnnotation\n                );\n                transferColumns(\n                    tableView,\n                    importParameters,\n                    factory,\n                    pageType,\n                    routingId,\n                    definitionName,\n                    targetAnnotation\n                );\n            }\n            if (Object.keys(tableView).length === 0) {\n                delete tableViewConfig[element[0]];\n            }\n        }\n    }\n    removeEmptyStructure(config.table, 'views');\n}\n\n/**\n * Adds manifest settings to the config.json of LR or ALP V4\n * @param {ImportListReportV4Parameters} importParameters  - object comprising all input data\n * @param {ListReportConfig | AnalyticalListPageConfig} config - the configuration to be filled\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param {PageTypeV4} pageType - page type\n * @param {string} routingId - page key in manifest\n * @param {SchemaType} schemaType - allows distinction of LR and ALP scenario\n */\nexport function addSettings(\n    importParameters: ImportListReportV4Parameters,\n    config: v4.ListReportConfigV4,\n    factory: MetadataInstanceInterface,\n    pageType: PageTypeV4,\n    routingId: string,\n    schemaType: SchemaType\n): void {\n    // Transfer page level settings with sync rules\n    transferSettingsOfObject(config, importParameters.manifest, importParameters.jsonSchema, routingId, []);\n\n    //FilterBar:\n    config.filterBar = factory.createInstance(pageType, DefinitionName.FilterBar);\n\n    transferSettingsOfObject(\n        config.filterBar,\n        importParameters.manifest,\n        importParameters.jsonSchema.definitions[DefinitionName.FilterBar],\n        routingId,\n        []\n    );\n    //Distinguish ALP table from LR table\n    if (schemaType === SchemaType.ListReport) {\n        let definitionName = DefinitionName.Table;\n        let tableDefinition = importParameters.jsonSchema.definitions[definitionName] as Definition;\n        let columnDefinitionName;\n        if (tableDefinition.$ref) {\n            //(S)PV scenario ==> delegation, go to TableSPV\n            definitionName = tableDefinition.$ref.split(DEFINITION_LINK_PREFIX)[1] as DefinitionName;\n            tableDefinition = importParameters.jsonSchema.definitions[definitionName] as Definition;\n            columnDefinitionName = (tableDefinition.properties.columns as Definition).$ref.split(\n                DEFINITION_LINK_PREFIX\n            )[1];\n        }\n        config.table = factory.createInstance(pageType, DefinitionName.Table);\n        const targetAnnotation = determineTargetAnnotationOfView(\n            importParameters.jsonSchema.definitions,\n            definitionName\n        );\n        transferSettingsOfObject(config.table, importParameters.manifest, tableDefinition, routingId, [\n            definitionName,\n            targetAnnotation\n        ]);\n        //transfer toolbar\n        transferToolBar(importParameters, config, factory, pageType, routingId, columnDefinitionName);\n        //transfer columns\n        transferColumns(\n            config.table,\n            importParameters,\n            factory,\n            pageType,\n            routingId,\n            columnDefinitionName,\n            targetAnnotation\n        );\n        importLRViews(importParameters, config, factory, pageType, routingId);\n    } else if (schemaType === SchemaType.AnalyticalListPage) {\n        importALPViews(importParameters, config, factory, pageType, routingId);\n    }\n}\n\n/**\n * Creates the configuration file content for a list report V4\n * @param {ImportListReportV4Parameters} importParameters  - object comprising all input data\n *\n * @returns {ListReportConfig} - the configuration (JSON) for the list report\n */\nexport function createListReportConfig(\n    importParameters: ImportListReportV4Parameters,\n    schemaType: SchemaType\n): v4.ListReportConfigV4 | undefined {\n    // Initialize i18next\n    initI18n();\n    if (!importParameters.jsonSchema) {\n        return;\n    }\n    if (!importParameters.manifest[ManifestSection.ui5] || !importParameters.manifest[ManifestSection.ui5]['routing']) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOROUTING'),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.ui5]\n            }\n        });\n        return;\n    }\n    const v4Pages = importParameters.manifest[ManifestSection.ui5]['routing']['targets'];\n    if (!v4Pages) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOTARGETS'),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.ui5]\n            }\n        });\n        return;\n    }\n    const factory = new Factory();\n    //Instantiate Page\n    const config = factory.createPageInstance(PageTypeV4.ListReport);\n\n    for (const key in v4Pages) {\n        const v4Page = v4Pages[key];\n        const pageType = getPageTypeV4(v4Page);\n        if ('name' in v4Page && (pageType === PageTypeV4.ListReport || pageType === PageTypeV4.AnalyticalListPage)) {\n            addSettings(importParameters, config, factory, PageTypeV4.ListReport, key, schemaType);\n            break;\n        }\n    }\n\n    return config;\n}\n", "import type { Definition, DefinitionOrBoolean } from 'typescript-json-schema';\nimport { importProperty, checkDeprecatedProperties, getManifestSectionByPathV4 } from '../../common';\nimport { getReflectMetadata } from '../../common/decoration/decorators';\nimport type { ExtensionLogger } from '../../..';\nimport type { Manifest } from '@sap/ux-specification-types';\n\n/**\n * Transfers settings from manifest to object page config\n * @param configPart - part of the configuration to be filled\n * @param manifest - manifest.json of the app\n * @param appSchema - app specific schema\n * @param pageID - ID of the given object page\n * @param sectionId (optional) - ID of the given section (optional)\n * @param {ExtensionLogger} logger - Logger class for logging messages\n */\nexport function transferSettingsOfObject(\n    configPart: { [key: string]: any },\n    manifest: Manifest,\n    appSchema: Definition | DefinitionOrBoolean,\n    pageKey: string,\n    breadcrumbs: string[],\n    sectionId?: string,\n    logger?: ExtensionLogger\n): void {\n    if (!appSchema) {\n        return;\n    }\n    let manifestSection = {};\n    const deprecatedProperties = configPart?.getDeprecated;\n    const targetAnnotationEncoded = sectionId && sectionId.replace('/', '::');\n\n    for (const propertyKey in appSchema['properties']) {\n        const syncRule = getReflectMetadata(configPart, propertyKey);\n\n        if (syncRule?.manifest) {\n            const path = syncRule.manifest.path([pageKey], manifest, targetAnnotationEncoded, ...breadcrumbs);\n            manifestSection = getManifestSectionByPathV4(manifest, path, sectionId, targetAnnotationEncoded);\n            if (manifestSection && Object.keys(manifestSection).length > 0) {\n                importProperty(syncRule, manifestSection, propertyKey, configPart, sectionId, breadcrumbs);\n                checkDeprecatedProperties(deprecatedProperties, manifestSection, path, logger);\n            }\n        }\n    }\n}\n", "export * from './Table';\nexport * from './TableColumn';\nexport * from './ToolBar';\nexport * from './ToolBarAction';\nexport * from './ObjectPageToolBarAction';\nexport * from './ObjectPageForm';\nexport * from './ObjectPageFormAction';\nexport * from './FilterBar';\nexport * from './ObjectPageTableColumn';\nexport * from './ObjectPageHeader';\nexport * from './ObjectPageFooter';\nexport * from './ObjectPageHeaderSection';\nexport * from './ObjectPageLayout';\nexport * from './ObjectPageTable';\nexport * from './ObjectPageCustomSection';\nexport * from './ObjectPageForm';\nexport * from './ObjectPageHeaderAction';\nexport * from './ObjectPageFooterAction';\n", "import type { Manifest } from '@sap/ux-specification-types';\nimport { v4, SchemaTag } from '@sap/ux-specification-types';\nimport type { ToolBar } from './ToolBar';\nimport { addPatternForBindingChangeOfEnumLR } from '../../../common';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport {\n    getTableSettingsPathForLR,\n    getSettingsPathForPage,\n    getSettingsPathForLRViewsPaths,\n    getTableSettingsPathForView,\n    getQuickVariantPath\n} from '../../application';\n\n/**\n * Special edition of the global function getManifestSectionByPathV4 that initializes the views array if empty\n * @param manifest - manifest.json\n * @param path - path to the views array in manifest\n * @param key - key of the view\n * @returns the paths array of the views\n */\nconst getManifestSectionByPathV4 = (manifest: object, path: string): Array<object> => {\n    let manifestSection = manifest;\n    for (const element of path.split('/')) {\n        if (!manifestSection[element]) {\n            if (element === 'paths') {\n                manifestSection[element] = [];\n            } else {\n                manifestSection[element] = {};\n            }\n        }\n        manifestSection = manifestSection[element];\n    }\n    return manifestSection as Array<object>;\n};\n\n/**\n * Common function for determining the path in manifest of a list report view's path\n * @param pageName - page name in manifest\n * @param manifest - manifest.json\n * @param _targetAnnotationEncoded - target annotation (not used here)\n * @param viewKey - value of the key property of the view\n * @returns the path to the entry in manifest\n */\nfunction getSettingsPathForLRViewsPath(\n    pageName: string[],\n    manifest: Manifest,\n    _targetAnnotationEncoded: string,\n    viewKey: string,\n    _targetAnnotation: string,\n    configObject: object\n): string {\n    const viewsPath = getSettingsPathForLRViewsPaths(pageName);\n    const manifestSection = getManifestSectionByPathV4(JSON.parse(JSON.stringify(manifest)), viewsPath);\n    let path: string;\n    for (let index = 0; index < manifestSection.length; index++) {\n        const view = manifestSection[index];\n        if (view && (view[SchemaTag.key] === configObject?.['key'] || view[SchemaTag.key] === viewKey)) {\n            path = `${viewsPath}/${index}`;\n            break;\n        }\n    }\n    if (!path) {\n        path = `${viewsPath}/[]`;\n    }\n    return path;\n}\n\n/**\n * sync rule function for export of creationMode.name\n * @param manifestSection - section in manifest comprising the table settings\n * @param configObject - section in config.json describing the table settings\n * @param key - key or property in config.json\n * @param manifestKey - key or property in manifest\n */\nexport function exportCreationModeName(\n    manifestSection: unknown,\n    configObject: unknown,\n    key: string,\n    manifestKey: string\n): void {\n    if (typeof manifestSection['creationMode'] === 'string') {\n        manifestSection['creationMode'] = {};\n    }\n    manifestSection['creationMode'][manifestKey] = configObject[key];\n}\n\n/**\n * Subroutine of checkViewOrder, fills the new list of views for the manifest\n */\nfunction fillNewlyOrderedViews(\n    manifestSection: object,\n    keyInConfig: string,\n    newIndex: string,\n    minIndex: number,\n    maxIndex: number,\n    direction: number\n): Array<object> {\n    const newlyOrderedViews = JSON.parse(JSON.stringify(manifestSection));\n    const viewKeys = Object.keys(manifestSection);\n\n    for (const index of viewKeys) {\n        const indexInManifest = Number(index);\n        const view = manifestSection[index];\n        if (keyInConfig === view['key']) {\n            newlyOrderedViews[newIndex] = view;\n        } else {\n            if (indexInManifest >= minIndex && indexInManifest <= maxIndex) {\n                newlyOrderedViews[Math.max(0, indexInManifest + direction)] = view;\n            } else {\n                newlyOrderedViews[index] = view;\n            }\n        }\n    }\n    return newlyOrderedViews;\n}\n\n/**\n * If a view index was changed we need to adapt the order of views in manifest\n * @param manifestSection - section in manifest comprising the table settings\n * @param configObject - section in config.json describing the table settings\n */\nexport function checkViewOrder(manifestSection: unknown, configObject: unknown): void {\n    const keyInConfig = configObject['key'];\n    const oldIndex = (manifestSection as Array<object>).findIndex((view) => {\n        return view?.['key'] === keyInConfig;\n    });\n    const newIndex = configObject['index'];\n    if (oldIndex > -1 && oldIndex !== newIndex) {\n        const direction = newIndex > oldIndex ? -1 : 1;\n        const minIndex = Math.min(Number(oldIndex), newIndex);\n        const maxIndex = Math.max(Number(oldIndex), newIndex);\n        const newlyOrderedViews = fillNewlyOrderedViews(\n            manifestSection as object,\n            keyInConfig,\n            newIndex,\n            minIndex,\n            maxIndex,\n            direction\n        );\n        for (const index of Object.keys(newlyOrderedViews)) {\n            manifestSection[index] = newlyOrderedViews[index];\n        }\n    }\n}\n\n/**\n * common sync rule function for export of creation for personalization object\n * @param manifestSection - section in manifest comprising the table settings\n * @param configObject - section in config.json describing the table settings\n * @param key - key or property in config.json\n * @param manifestKey - key or property in manifest\n */\nexport function exportPersonalization(\n    manifestSection: unknown,\n    configObject: unknown,\n    key: string,\n    manifestKey?: string\n): void {\n    if (\n        !manifestSection[manifestKey] &&\n        typeof configObject[key] === 'object' &&\n        Object.keys(configObject[key]).length\n    ) {\n        // Create 'personalization' object only when config object is not empty\n        configObject[key] = {};\n    }\n}\n\n/**\n * common sync rule function for export of personalization properties\n * @param manifestSection - section in manifest comprising the table settings\n * @param configObject - section in config.json describing the table settings\n * @param key - key or property in config.json\n * @param manifestKey - key or property in manifest\n */\nexport function exportPersonalizationProperty(\n    manifestSection: unknown,\n    configObject: unknown,\n    key: string,\n    manifestKey: string\n): void {\n    if (typeof manifestSection['personalization'] === 'boolean' || !manifestSection['personalization']) {\n        manifestSection['personalization'] = {};\n    }\n    manifestSection['personalization'][manifestKey] = configObject[key];\n}\n\n/**\n * sync rule function for the deletion of creationMode.name\n * @param manifestSection - section in manifest comprising the table settings\n * @param manifestKey - key or property in manifest\n */\nexport function deleteCreationModeName(manifestSection: unknown, manifestKey: string): void {\n    if (\n        typeof manifestSection['creationMode'] === 'object' &&\n        manifestSection['creationMode'][manifestKey] !== undefined\n    ) {\n        delete manifestSection['creationMode'][manifestKey];\n    } else if (typeof manifestSection['creationMode'] === 'string' && manifestSection['creationMode'] !== undefined) {\n        delete manifestSection['creationMode'];\n    }\n}\n\n/**\n * common sync rule function for the deletion of any property of personalization\n * @param manifestSection - section in manifest comprising the table settings\n * @param _configObject - page config object\n * @param _key - key or property in page config object\n * @param manifestKey - key or property in manifest\n */\nexport function deletePersonalizationProperty(\n    manifestSection: unknown,\n    _configObject: object,\n    _key: string,\n    manifestKey: string\n): void {\n    if (\n        typeof manifestSection['personalization'] === 'object' &&\n        manifestSection['personalization'][manifestKey] !== undefined\n    ) {\n        delete manifestSection['personalization'][manifestKey];\n        if (Object.keys(manifestSection['personalization']).length === 0) {\n            delete manifestSection['personalization'];\n        }\n    } else if (\n        typeof manifestSection['personalization'] === 'string' &&\n        manifestSection['personalization'] !== undefined\n    ) {\n        delete manifestSection['personalization'];\n    }\n}\n\n/**\n * sync rule deleting a view if the index gets deleted\n * @param manifestSection - manifest section of the given view\n * @param configObject - section of the configration JSON\n * @param syncRuleKey - key of the view\n * @param config - the complete config JSON\n */\nfunction deleteView(\n    manifestSection: object,\n    configObject: object,\n    _configPropertyKey: string,\n    _manifestKey: string,\n    syncRuleKey: string,\n    config: object\n): void {\n    let deletedViewIndex;\n    if (!configObject || Object.keys(configObject).length === 0) {\n        const viewsInManifest = manifestSection as Array<object>;\n        Object.keys(viewsInManifest).forEach((index) => {\n            if (viewsInManifest[index] && viewsInManifest[index].key === syncRuleKey) {\n                manifestSection[Number(index)] = {};\n                deletedViewIndex = index;\n            }\n        });\n    }\n    if (deletedViewIndex) {\n        const viewsInConfig = config['table']['views'];\n        for (const key in viewsInConfig) {\n            if (viewsInConfig[key].index > deletedViewIndex) {\n                viewsInConfig[key].index--;\n            }\n        }\n    }\n}\n\n/**\n * sync rule for preventing the deletion of a property\n */\nfunction doNotDelete(): void {\n    return;\n}\n\n/**\n * sync rule function for export of creationMode.createAtEnd\n * @param manifestSection - section in manifest comprising the table settings\n * @param configObject - section in config.json describing the table settings\n * @param key - key or property in config.json\n * @param manifestKey - key or property in manifest\n */\nexport function exportCreationModeCreateAtEnd(\n    manifestSection: unknown,\n    configObject: unknown,\n    key: string,\n    manifestKey: string\n): void {\n    if (typeof manifestSection['creationMode'] === 'object') {\n        manifestSection['creationMode'][manifestKey] = configObject[key];\n    } else if (typeof manifestSection['creationMode'] === 'string') {\n        // If createAtEnd property is defined in config, then we have to convert manifest property creationMode to an object\n        manifestSection['creationMode'] = {\n            name: configObject['name'],\n            [manifestKey]: configObject[key]\n        };\n    }\n}\n\n/**\n * sync rule function for the deletion of creationMode.createAtEnd\n * @param manifestSection - section in manifest comprising the table settings\n * @param manifestKey - key or property in manifest\n */\nexport function deleteCreationModeCreateAtEnd(manifestSection: unknown, manifestKey: string): void {\n    if (\n        typeof manifestSection['creationMode'] === 'object' &&\n        manifestSection['creationMode'][manifestKey] !== undefined\n    ) {\n        delete manifestSection['creationMode'][manifestKey];\n    }\n}\n\n/**\n * sync rule for the import of personalization, does an implicit conversion of the former boolean value to the new object representation\n * @param tableSettings - table settings in manifest, to be analyzed\n * @returns - object representing the value(s) for the config file\n */\nfunction importPersonalization(tableSettings: object): object | undefined {\n    const value: any = tableSettings['personalization'];\n    if (typeof value === 'object') {\n        return value;\n    } else if (typeof value === 'boolean') {\n        return {\n            column: value,\n            sort: value,\n            filter: value\n        };\n    }\n}\n\n/**\n * sync rule for the import of creationMode, does an implicit conversion of the former string value to the new object representation\n * @param tableSettings - table settings in manifest, to be analyzed\n * @returns - object representing the value(s) for the config file\n */\nfunction importCreationMode(tableSettings: object): object | undefined {\n    const value: any = tableSettings['creationMode'];\n    if (typeof value === 'object') {\n        return value;\n    } else if (typeof value === 'string') {\n        return {\n            name: value\n        };\n    }\n}\n\n/**\n * sync rule for the import of the index of a table view\n * @param manifestSection - manifest section, as determined by synRule.path\n * @param _sectionId  - not used\n * @param _propertyKey - not used\n * @param breadcrumbs - list if breadcrumbs, includes the given view key\n * @returns index of the view in manifest, undefined if not found\n */\nfunction determineIndexOfView(\n    manifestSection: object[],\n    _sectionId: string,\n    _propertyKey: string,\n    breadcrumbs: string[]\n): number | undefined {\n    const viewIndex = manifestSection.findIndex((view) => view['key'] === breadcrumbs[0]);\n    return viewIndex === -1 ? undefined : viewIndex;\n}\n\n/**********************************\n * Sync class for TableCreationMode\n */\nexport class TableCreationMode implements v4.TableCreationMode {\n    //name\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR, // Here we are using path of parent to have correct value for manifestSection\n            export: (manifestSection, configObject, key, manifestKey): void => {\n                exportCreationModeName(manifestSection, configObject, key, manifestKey);\n            },\n            delete: (manifestSection, _configObject, _key, manifestKey): void => {\n                deleteCreationModeName(manifestSection, manifestKey);\n            }\n        }\n    })\n    name?: v4.TableCreationModeType;\n\n    //createAtEnd\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR, // Here we are using path of parent to have correct value for manifestSection\n            export: (manifestSection, configObject, key, manifestKey): void => {\n                exportCreationModeCreateAtEnd(manifestSection, configObject, key, manifestKey);\n            },\n            delete: (manifestSection, _configObject, _key, manifestKey): void => {\n                deleteCreationModeCreateAtEnd(manifestSection, manifestKey);\n            }\n        }\n    })\n    createAtEnd?: boolean;\n}\n\n/**********************************\n * Sync class for TableCreationMode\n */\nexport class ViewTableCreationMode implements v4.ViewTableCreationMode {\n    //name\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView, // Here we are using path of parent to have correct value for manifestSection\n            export: (manifestSection, configObject, key, manifestKey): void => {\n                exportCreationModeName(manifestSection, configObject, key, manifestKey);\n            },\n            delete: (manifestSection, _configObject, _key, manifestKey): void => {\n                deleteCreationModeName(manifestSection, manifestKey);\n            }\n        }\n    })\n    name?: v4.TableCreationModeType;\n\n    //createAtEnd\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView, // Here we are using path of parent to have correct value for manifestSection\n            export: (manifestSection, configObject, key, manifestKey): void => {\n                exportCreationModeCreateAtEnd(manifestSection, configObject, key, manifestKey);\n            },\n            delete: (manifestSection, _configObject, _key, manifestKey): void => {\n                deleteCreationModeCreateAtEnd(manifestSection, manifestKey);\n            }\n        }\n    })\n    createAtEnd?: boolean;\n}\n\n/************************************\n * Sync class for PersonalizationType\n */\nexport class PersonalizationType implements v4.PersonalizationType {\n    //column\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR, // Here we are using path of parent to have correct value for manifestSection\n            export: exportPersonalizationProperty,\n            delete: deletePersonalizationProperty\n        }\n    })\n    column?: boolean;\n\n    //sort\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR,\n            export: exportPersonalizationProperty,\n            delete: deletePersonalizationProperty\n        }\n    })\n    sort?: boolean;\n\n    //filter\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR,\n            export: exportPersonalizationProperty,\n            delete: deletePersonalizationProperty\n        }\n    })\n    filter?: boolean;\n}\n\nexport class ViewPersonalizationType implements v4.ViewPersonalizationType {\n    //column\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView, // Here we are using path of parent to have correct value for manifestSection\n            export: exportPersonalizationProperty,\n            delete: deletePersonalizationProperty\n        }\n    })\n    column?: boolean;\n\n    //sort\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView,\n            export: exportPersonalizationProperty,\n            delete: deletePersonalizationProperty\n        }\n    })\n    sort?: boolean;\n\n    //filter\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR,\n            export: exportPersonalizationProperty,\n            delete: deletePersonalizationProperty\n        }\n    })\n    filter?: boolean;\n}\n\n/****************************************\n * Sync class for QuickVariantSelectionV4\n */\nexport class QuickVariantSelectionV4 implements v4.QuickVariantSelectionV4 {\n    //paths\n    @syncRule({\n        manifest: {\n            path: getQuickVariantPath\n        }\n    })\n    paths: v4.AnnotationPathAsObject[];\n\n    //hideTableTitle\n    @syncRule({\n        manifest: {\n            path: getQuickVariantPath\n        }\n    })\n    hideTableTitle?: boolean;\n\n    //showCounts\n    @syncRule({\n        manifest: {\n            path: getQuickVariantPath\n        }\n    })\n    showCounts?: boolean;\n}\n\n/****************************************\n * Sync class for TableSettings\n */\nexport class TableSettings implements v4.TableSettings {\n    //type\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    type?: v4.TableTypeV4;\n\n    //creationMode\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR,\n            import: importCreationMode\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    creationMode?: TableCreationMode;\n\n    //personalization\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR,\n            import: importPersonalization,\n            export: exportPersonalization\n        }\n    })\n    @validity({\n        since: '1.86.0'\n    })\n    personalization?: PersonalizationType;\n\n    //selectionMode\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    selectionMode?: v4.SelectionMode;\n\n    //selectAll\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    selectAll?: boolean;\n\n    //selectionLimit\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    selectionLimit?: number;\n\n    //enableExport\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    enableExport?: boolean;\n\n    //quickVariantSelection\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    quickVariantSelection?: QuickVariantSelectionV4;\n\n    //condensedTableLayout\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    condensedTableLayout?: boolean;\n}\n\n/****************************************\n * Sync class for ALPChartView (renamed due to indirection in app schema)\n */\nexport class ALPChart implements v4.ALPChartView {\n    //annotationPath\n    @syncRule({\n        manifest: {\n            path: (entitySet): string => getSettingsPathForPage(entitySet) + '/views/paths/0/primary/0',\n            delete: deleteView\n        }\n    })\n    annotationPath: string;\n\n    //toolBar\n    toolBar?: v4.ViewChartToolBar;\n}\n\nexport class CommonViewSettings implements v4.CommonViewSettings {\n    //key\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPath,\n            delete: doNotDelete\n        }\n    })\n    key: string;\n    //index\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPaths,\n            import: determineIndexOfView,\n            export: (manifestSection, configObject): void => {\n                checkViewOrder(manifestSection, configObject);\n            },\n            delete: deleteView\n        }\n    })\n    index: number;\n\n    //annotationPath\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPath,\n            delete: doNotDelete\n        }\n    })\n    annotationPath: string;\n\n    //entitySet\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPath\n        }\n    })\n    entitySet?: string;\n}\n\n/****************************************\n * Sync class for view table settings\n */\nexport class TableViewSettings extends CommonViewSettings implements v4.TableSettings {\n    //type\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    type?: v4.TableTypeV4;\n\n    //creationMode\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView,\n            import: importCreationMode\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    creationMode?: TableCreationMode;\n\n    //personalization\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView,\n            import: importPersonalization\n        }\n    })\n    @validity({\n        since: '1.86.0'\n    })\n    personalization?: ViewPersonalizationType;\n\n    //selectionMode\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    selectionMode?: v4.SelectionMode;\n\n    //selectAll\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    selectAll?: boolean;\n\n    //selectionLimit\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    selectionLimit?: number;\n\n    //enableExport\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    enableExport?: boolean;\n\n    //quickVariantSelection\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    quickVariantSelection?: QuickVariantSelectionV4;\n\n    //condensedTableLayout\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    condensedTableLayout?: boolean;\n}\n\nfunction getTableViewSettings<T>(SuperClass: T) {\n    return TableViewSettings;\n}\n\n/****************************************\n * Sync class for ALPTableView (renamed due to indirection in app schema)\n */\nexport class ALPTable extends TableViewSettings implements v4.ALPTableView {\n    //annotationPath\n    @syncRule({\n        manifest: {\n            path: (entitySet): string => getSettingsPathForPage(entitySet) + '/views/paths/0/secondary/0',\n            delete: doNotDelete\n        }\n    })\n    annotationPath: string;\n\n    //initialLoad\n    @syncRule({\n        manifest: {\n            path: (entitySet: string[]): string => getSettingsPathForPage(entitySet)\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    initialLoad?: v4.InitialLoadType;\n\n    //toolBar\n    toolBar?: ToolBar;\n}\n\n/****************************************\n * Sync class for LRChartView\n */\nexport class LRChartView extends CommonViewSettings implements v4.LRChartView {\n    //toolBar\n    toolBar?: v4.ViewChartToolBar;\n\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPath\n        },\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    visible?: boolean;\n}\n\n/****************************************\n * Sync class for LRTableView\n */\nexport class LRTableView extends getTableViewSettings(CommonViewSettings) {\n    //keepPreviousPersonalization\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPath\n        }\n    })\n    keepPreviousPersonalization?: boolean;\n\n    //entitySet\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPath\n        }\n    })\n    entitySet?: string;\n\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPath\n        },\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    visible?: boolean;\n\n    //toolBar\n    toolBar?: ToolBar;\n}\n\nexport class TableViewExtension implements v4.TableViewExtension {\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPath\n        }\n    })\n    key: string;\n\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPaths,\n            import: determineIndexOfView,\n            export: (manifestSection, configObject): void => {\n                checkViewOrder(manifestSection, configObject);\n            },\n            delete: deleteView\n        }\n    })\n    index: number;\n\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPath\n        }\n    })\n    label?: string;\n\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPath\n        }\n    })\n    template: string;\n\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForLRViewsPath\n        },\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    visible?: boolean;\n}\n\n/**\n * LR multi-view: own class for properties on views' level\n */\nexport class MultiTableModeV4 implements v4.MultiTableModeV4 {\n    // List of annotation paths\n    [key: string]: v4.ViewTypeV4;\n\n    //showCounts\n    @syncRule({\n        manifest: {\n            path: (entitySet): string => getSettingsPathForPage(entitySet) + '/views'\n        }\n    })\n    showCounts?: boolean;\n}\n\n/****************************************\n * Sync class for Table\n */\nexport class Table extends TableSettings implements v4.Table {\n    //annotationPath\n    @syncRule({\n        manifest: {\n            path: (entitySet): string => getSettingsPathForPage(entitySet) + '/views/paths/0/secondary/0',\n            delete: doNotDelete\n        }\n    })\n    annotationPath?: string;\n\n    //views\n    views?: MultiTableModeV4;\n\n    //initialLoad\n    @syncRule({\n        manifest: {\n            path: (entitySet: string[]): string => getSettingsPathForPage(entitySet)\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    initialLoad?: v4.InitialLoadType;\n\n    //toolBar\n    toolBar?: ToolBar;\n}\n", "import type { v4, Manifest } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getColumnsPathForLR, getColumnsPathForView } from '../../application';\n\nexport class ActionAfterExecutionConfiguration implements v4.ActionAfterExecutionConfiguration {\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string =>\n                getColumnsPathForLR(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/afterExecution'\n        }\n    })\n    navigateToInstance?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string =>\n                getColumnsPathForLR(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/afterExecution'\n        }\n    })\n    enableAutoScroll?: boolean;\n}\n\n/************************************\n * Sync class for TableColumn\n */\nexport class TableColumn implements v4.TableColumn {\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    width?: string;\n\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForLR\n        }\n    })\n    @validity({\n        since: '1.85.0'\n    })\n    availability?: v4.Availability;\n}\n\n/************************************\n * Sync class for ViewTableColumn\n */\nexport class ViewTableColumn implements v4.ViewTableColumn {\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    width?: string;\n\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForView\n        }\n    })\n    @validity({\n        since: '1.85.0'\n    })\n    availability?: v4.Availability;\n}\n\nexport class TableColumnAction extends TableColumn implements v4.TableColumnAction {\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    afterExecution?: ActionAfterExecutionConfiguration;\n}\n\nexport class ViewTableColumnAction extends ViewTableColumn implements v4.ViewTableColumnAction {\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    afterExecution?: ActionAfterExecutionConfiguration;\n}\n\n/**\n * Sync class for Position\n */\nexport class Position implements v4.Position {\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string => getColumnsPathForLR(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    anchor?: string;\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string => getColumnsPathForLR(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    placement: v4.Placement;\n}\n\n/**\n * Sync class for ViewPosition\n */\nexport class ViewPosition implements v4.ViewPosition {\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string => getColumnsPathForView(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    anchor?: string;\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string => getColumnsPathForView(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    placement: v4.Placement;\n}\n\n/**\n * Sync class for TableCustomColumn\n */\nexport class TableCustomColumn implements v4.TableCustomColumn {\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    position?: Position;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    header: string;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    width?: string;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    template: string;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForLR\n        }\n    })\n    @validity({\n        since: '1.86.0'\n    })\n    horizontalAlign?: v4.HorizontalAlign;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    availability?: v4.Availability;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForLR\n        }\n    })\n    @validity({\n        since: '1.85.0'\n    })\n    properties?: v4.ColumnPropertiesType;\n}\n\n/**\n * Sync class for ViewTableCustomColumn\n */\nexport class ViewTableCustomColumn implements v4.ViewTableCustomColumn {\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    position?: Position;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    header: string;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    width?: string;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    template: string;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForView\n        }\n    })\n    @validity({\n        since: '1.86.0'\n    })\n    horizontalAlign?: v4.HorizontalAlign;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    availability?: v4.Availability;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForView\n        }\n    })\n    @validity({\n        since: '1.85.0'\n    })\n    properties?: v4.ColumnPropertiesType;\n}\n", "import type { v4 } from '@sap/ux-specification-types';\nimport { ToolBarAction, CustomTableAction } from './ToolBarAction';\n\nexport class Actions implements v4.Actions {\n    [key: string]: ToolBarAction | CustomTableAction;\n}\n\nexport class ToolBar implements v4.ToolBar {\n    actions: Actions;\n}\n", "import type { v4, Manifest } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getActionsPathForLR, getActionsPathForView } from '../../application';\nimport { addPatternForBindingChangeOfEnumLR } from '../../../common/decoration/control';\n\nexport class ActionAfterExecutionConfigurationToolBarLR implements v4.ActionAfterExecutionConfiguration {\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string =>\n                getActionsPathForLR(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/afterExecution'\n        }\n    })\n    navigateToInstance?: boolean;\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string =>\n                getActionsPathForLR(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/afterExecution'\n        }\n    })\n    enableAutoScroll?: boolean;\n}\n\nexport class ToolBarAction implements v4.ToolBarAction {\n    @syncRule({\n        manifest: {\n            path: getActionsPathForLR\n        }\n    })\n    enableOnSelect?: v4.SelectType;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForLR\n        }\n    })\n    afterExecution?: ActionAfterExecutionConfigurationToolBarLR;\n}\n\nexport class ViewToolBarAction implements v4.ViewToolBarAction {\n    @syncRule({\n        manifest: {\n            path: getActionsPathForView\n        }\n    })\n    enableOnSelect?: v4.SelectType;\n}\n\n/**\n * Sync class for Position\n */\nexport class CustomActionPosition implements v4.CustomActionPosition {\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string => getActionsPathForLR(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    anchor?: string;\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string => getActionsPathForLR(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    placement: v4.ActionPlacement;\n}\n\nexport class CustomTableAction implements v4.CustomTableAction {\n    @syncRule({\n        manifest: {\n            path: getActionsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    text: string;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    position: CustomActionPosition;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    press: string;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForLR\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    requiresSelection?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForLR\n        },\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    visible?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForLR\n        },\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    enabled?: boolean;\n}\n\n/**\n * Sync class for Position\n */\nexport class ViewCustomActionPosition implements v4.ViewCustomActionPosition {\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string => getActionsPathForView(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    anchor?: string;\n    @syncRule({\n        manifest: {\n            path: (\n                pageName: string[],\n                manifest: Manifest,\n                sectionId: string,\n                columnKey: string,\n                targetAnnotation: string\n            ): string => getActionsPathForView(pageName, manifest, sectionId, columnKey, targetAnnotation) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    placement: v4.ActionPlacement;\n}\n\nexport class ViewTableCustomAction implements v4.ViewTableCustomAction {\n    @syncRule({\n        manifest: {\n            path: getActionsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    text: string;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    position: CustomActionPosition;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    press: string;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForView\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    requiresSelection?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForView\n        },\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    visible?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForView\n        },\n        generate: addPatternForBindingChangeOfEnumLR\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    enabled?: boolean;\n}\n", "import type { v4, Manifest } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getActionsPathForOP } from '../../application';\nimport { addPatternForBindingChangeOfEnumOP } from '../../../common/decoration/control';\n\nexport class ObjectPageToolBarAction implements v4.ObjectPageToolBarAction {\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        }\n    })\n    enableOnSelect?: v4.SelectType;\n}\n\n/**\n * Sync class for Position\n */\nexport class CustomActionPositionOP implements v4.CustomActionPositionOP {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey: string): string =>\n                getActionsPathForOP(pageName, manifest, sectionId, columnKey) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    anchor?: string;\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey: string): string =>\n                getActionsPathForOP(pageName, manifest, sectionId, columnKey) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    placement: v4.ActionPlacement;\n}\n\nexport class CustomTableActionOP implements v4.CustomTableActionOP {\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    text: string;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    position: CustomActionPositionOP;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    press: string;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    requiresSelection?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    visible?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    enabled?: boolean;\n}\n", "import type { Manifest, v4 } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getActionsPathForOP } from '../../application';\nimport { CustomFormActionOP } from './ObjectPageFormAction';\n\nexport class ActionAfterExecutionConfigurationForm implements v4.ActionAfterExecutionConfiguration {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey): string =>\n                getActionsPathForOP(pageName, manifest, sectionId, columnKey) + '/afterExecution'\n        }\n    })\n    navigateToInstance?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey): string =>\n                getActionsPathForOP(pageName, manifest, sectionId, columnKey) + '/afterExecution'\n        }\n    })\n    enableAutoScroll?: boolean;\n}\n\nexport class FormAction implements v4.FormAction {\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    afterExecution?: ActionAfterExecutionConfigurationForm;\n}\n\nexport class ObjectPageFormActions implements v4.ObjectPageFormActions {\n    [key: string]: FormAction | CustomFormActionOP;\n}\n\nexport class ObjectPageForm implements v4.ObjectPageForm {\n    actions: ObjectPageFormActions;\n}\n", "import type { v4 } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getActionsPathForOP } from '../../application';\nimport { addPatternForBindingChangeOfEnumOP } from '../../../common/decoration/control';\nimport type { CustomActionPositionOP } from './ObjectPageToolBarAction';\n\nexport class CustomFormActionOP implements v4.CustomFormActionOP {\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    text: string;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    position: CustomActionPositionOP;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    press: string;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    visible?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getActionsPathForOP\n        },\n        generate: addPatternForBindingChangeOfEnumOP\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    enabled?: boolean;\n}\n", "import type { v4 } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getSettingsPathForPage } from '../../application';\n\nexport class FilterBar implements v4.FilterBar {\n    selectionFields?: v4.SelectionFields;\n\n    @syncRule({\n        manifest: {\n            path: (entitySet: string[]): string => getSettingsPathForPage(entitySet)\n        }\n    })\n    @validity({\n        since: '1.99.0'\n    })\n    hideFilterBar?: boolean;\n}\n", "import type { v4, Manifest } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getColumnsPathForOP } from '../../application';\n\nexport class ActionAfterExecutionConfigurationOP implements v4.ActionAfterExecutionConfiguration {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey): string =>\n                getColumnsPathForOP(pageName, manifest, sectionId, columnKey) + '/afterExecution'\n        }\n    })\n    navigateToInstance?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey): string =>\n                getColumnsPathForOP(pageName, manifest, sectionId, columnKey) + '/afterExecution'\n        }\n    })\n    enableAutoScroll?: boolean;\n}\n\nexport class ObjectPageTableColumn implements v4.ObjectPageTableColumn {\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    width?: string;\n\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForOP\n        }\n    })\n    @validity({\n        since: '1.85.0'\n    })\n    availability?: v4.Availability;\n}\n\nexport class ObjectPageTableColumnAction extends ObjectPageTableColumn implements v4.ObjectPageTableColumnAction {}\n\nexport class PositionOP implements v4.PositionOP {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey): string =>\n                getColumnsPathForOP(pageName, manifest, sectionId, columnKey) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    anchor?: string;\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey): string =>\n                getColumnsPathForOP(pageName, manifest, sectionId, columnKey) + '/position'\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    placement: v4.Placement;\n}\nexport class TableCustomColumnOP implements v4.TableCustomColumnOP {\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    position?: PositionOP;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    header: string;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    width?: string;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    template: string;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForOP\n        }\n    })\n    @validity({\n        since: '1.86.0'\n    })\n    horizontalAlign?: v4.HorizontalAlign;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    availability?: v4.Availability;\n    @syncRule({\n        manifest: {\n            path: getColumnsPathForOP\n        }\n    })\n    @validity({\n        since: '1.85.0'\n    })\n    properties?: v4.ColumnPropertiesType;\n}\n", "import type { v4 } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getSettingsPathForPage, getSettingsPathForHeaderOP } from '../../application';\n\nexport class ObjectPageHeader implements v4.ObjectPageHeader {\n    @syncRule({\n        manifest: {\n            path: (entitySet: string[]): string => getSettingsPathForPage(entitySet)\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    editableHeaderContent?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (entitySet: string[]): string => getSettingsPathForPage(entitySet)\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    showRelatedApps?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForHeaderOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    visible?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getSettingsPathForHeaderOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    anchorBarVisible?: boolean;\n    sections?: v4.HeaderSections;\n    actions?: v4.HeaderActions;\n}\n", "import type { v4 } from '@sap/ux-specification-types';\n\nexport class ObjectPageFooter implements v4.ObjectPageFooter {\n    actions?: v4.ObjectPageFooterActions;\n}\n", "import type { v4, Manifest } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getHeaderFacetSettingPath } from '../../application';\n\nexport class FlexSettings implements v4.FlexSettings {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string): string =>\n                getHeaderFacetSettingPath(pageName, manifest, sectionId) + '/flexSettings'\n        }\n    })\n    @validity({\n        since: '1.81.0'\n    })\n    designtime?: v4.DesigntimeValues;\n}\n\nexport class CommonHeaderFacetSettings implements v4.CommonHeaderFacetSettings {\n    @syncRule({\n        manifest: {\n            path: getHeaderFacetSettingPath\n        }\n    })\n    @validity({\n        since: '1.81.0'\n    })\n    stashed?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getHeaderFacetSettingPath\n        }\n    })\n    @validity({\n        since: '1.81.0'\n    })\n    flexSettings?: FlexSettings;\n}\n\nexport class ObjectPageHeaderSectionForm extends CommonHeaderFacetSettings implements v4.ObjectPageHeaderSectionForm {}\n\nexport class ObjectPageHeaderSectionChart\n    extends CommonHeaderFacetSettings\n    implements v4.ObjectPageHeaderSectionChart {}\n\nexport class ObjectPageHeaderSectionDataPoint\n    extends CommonHeaderFacetSettings\n    implements v4.ObjectPageHeaderSectionDataPoint {}\n\nexport class ObjectPageHeaderSectionContact\n    extends CommonHeaderFacetSettings\n    implements v4.ObjectPageHeaderSectionContact {}\n\nexport class ObjectPageHeaderSectionAddress\n    extends CommonHeaderFacetSettings\n    implements v4.ObjectPageHeaderSectionAddress {}\n\nexport class HeaderSections implements v4.HeaderSections {\n    [key: string]:\n        | ObjectPageHeaderSectionForm\n        | ObjectPageHeaderSectionChart\n        | ObjectPageHeaderSectionDataPoint\n        | ObjectPageHeaderSectionContact\n        | ObjectPageHeaderSectionAddress;\n}\n", "import type { v4 } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getSettingsPathForPage } from '../../application';\n\nexport class ObjectPageLayout implements v4.ObjectPageLayout {\n    @syncRule({\n        manifest: {\n            path: (entitySet: string[]): string => getSettingsPathForPage(entitySet)\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    sectionLayout?: v4.SectionLayoutType;\n}\n", "import type { Manifest, v4 } from '@sap/ux-specification-types';\nimport { QUICKVARPATH } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getTableSettingsPathForOP } from '../../application';\nimport {\n    exportCreationModeName,\n    deleteCreationModeName,\n    exportCreationModeCreateAtEnd,\n    deleteCreationModeCreateAtEnd,\n    exportPersonalizationProperty,\n    deletePersonalizationProperty,\n    exportPersonalization\n} from './Table';\n\nexport class TableCreationModeOP implements v4.TableCreationModeOP {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string): string =>\n                getTableSettingsPathForOP(pageName, manifest, sectionId),\n            export: (manifestSection, configObject, key, manifestKey): void => {\n                exportCreationModeName(manifestSection, configObject, key, manifestKey);\n            },\n            delete: (manifestSection, _configObject, _key, manifestKey): void => {\n                deleteCreationModeName(manifestSection, manifestKey);\n            }\n        }\n    })\n    name?: v4.TableCreationModeType;\n\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string): string =>\n                getTableSettingsPathForOP(pageName, manifest, sectionId),\n            export: (manifestSection, configObject, key, manifestKey): void => {\n                exportCreationModeCreateAtEnd(manifestSection, configObject, key, manifestKey);\n            },\n            delete: (manifestSection, _configObject, _key, manifestKey): void => {\n                deleteCreationModeCreateAtEnd(manifestSection, manifestKey);\n            }\n        }\n    })\n    createAtEnd?: boolean;\n}\n\nexport class PersonalizationTypeOP implements v4.PersonalizationTypeOP {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string): string =>\n                getTableSettingsPathForOP(pageName, manifest, sectionId), // Here we are using path of parent to have correct value for manifestSection\n            export: exportPersonalizationProperty,\n            delete: deletePersonalizationProperty\n        }\n    })\n    column?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string): string =>\n                getTableSettingsPathForOP(pageName, manifest, sectionId), // Here we are using path of parent to have correct value for manifestSection\n            export: exportPersonalizationProperty,\n            delete: deletePersonalizationProperty\n        }\n    })\n    sort?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string): string =>\n                getTableSettingsPathForOP(pageName, manifest, sectionId),\n            export: exportPersonalizationProperty,\n            delete: deletePersonalizationProperty\n        }\n    })\n    filter?: boolean;\n}\n\nexport class QuickVariantSelectionV4OP implements v4.QuickVariantSelectionV4 {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string): string =>\n                getTableSettingsPathForOP(pageName, manifest, sectionId) + QUICKVARPATH\n        }\n    })\n    paths: v4.AnnotationPathAsObject[];\n\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string): string =>\n                getTableSettingsPathForOP(pageName, manifest, sectionId) + QUICKVARPATH\n        }\n    })\n    hideTableTitle?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string): string =>\n                getTableSettingsPathForOP(pageName, manifest, sectionId) + QUICKVARPATH\n        }\n    })\n    showCounts?: boolean;\n}\n\nexport class ObjectPageTable implements v4.ObjectPageTable {\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    type?: v4.TableTypeV4;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForOP,\n            import: (tableSettings: object): object | undefined => {\n                const value: any = tableSettings['creationMode'];\n                if (typeof value === 'object') {\n                    return value;\n                } else if (typeof value === 'string') {\n                    return {\n                        name: value\n                    };\n                }\n            }\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    creationMode?: TableCreationModeOP;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForOP,\n            import: (tableSettings: object): object | undefined => {\n                const value: any = tableSettings['personalization'];\n                if (typeof value === 'object') {\n                    return value;\n                } else if (typeof value === 'boolean') {\n                    return {\n                        column: value,\n                        sort: value,\n                        filter: value\n                    };\n                }\n            },\n            export: exportPersonalization\n        }\n    })\n    @validity({\n        since: '1.86.0'\n    })\n    personalization?: PersonalizationTypeOP;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    selectionMode?: v4.SelectionMode;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    selectAll?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    selectionLimit?: number;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    enableExport?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    quickVariantSelection?: QuickVariantSelectionV4OP;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    condensedTableLayout?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForOP\n        }\n    })\n    @validity({\n        since: '1.86.0'\n    })\n    enableFullScreen?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: getTableSettingsPathForOP\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    enablePaste?: boolean;\n}\n", "import type { Manifest } from '@sap/ux-specification-types';\nimport { SAPUI5_FRAGMENT_CLASS, v4 } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getCustomSectionPath } from '../../application';\n\nexport class ObjectPageCustomSectionFragment implements v4.ObjectPageCustomSectionFragment {\n    @syncRule({\n        manifest: {\n            path: (entitySet: string[], manifest: Manifest, sectionId): string =>\n                getCustomSectionPath(entitySet, manifest, sectionId, 'position'),\n            key: 'anchor'\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    relatedFacet: string;\n\n    @syncRule({\n        manifest: {\n            path: getCustomSectionPath,\n            import: (_manifest: v4.SapUi5RoutingTargetContentSection, sectionId: string): string => {\n                // Id is read from path's section - it is object's key\n                return sectionId;\n            },\n            export: false\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    id: string;\n\n    @syncRule({\n        manifest: {\n            path: (entitySet: string[], manifest: Manifest, sectionId: string): string =>\n                getCustomSectionPath(entitySet, manifest, sectionId, 'position'),\n            key: 'placement'\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    relativePosition: v4.SectionPosition;\n\n    @syncRule({\n        manifest: {\n            path: getCustomSectionPath\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    title: string;\n\n    @syncRule({\n        manifest: {\n            path: getCustomSectionPath,\n            import: (manifest: v4.SapUi5RoutingTargetContentSection): v4.CustomSectionViewTypesV4 | string => {\n                // Currently only XML supported, but idea is that we need to check 'manifest.type' and allow other types - maybe JS, JSON, etc.\n                if (!manifest.type || manifest.type.startsWith(v4.CustomSectionViewTypesV4.XML)) {\n                    return v4.CustomSectionViewTypesV4.XML;\n                }\n                return '';\n            },\n            export: (manifest: v4.SapUi5RoutingTargetContentSection, object: ObjectPageCustomSectionFragment): void => {\n                // Currently only 'XMLFragment', but in future we can add logic here\n                let type = '' as typeof v4.SAPUI5_FRAGMENT_TYPE_V4;\n                if ('type' in object) {\n                    type += object.type;\n                }\n                if ('className' in object) {\n                    if (object.className === SAPUI5_FRAGMENT_CLASS) {\n                        type += 'Fragment';\n                    } else {\n                        type += object.className;\n                    }\n                }\n                manifest.type = type;\n            }\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    type: v4.CustomSectionViewTypesV4;\n\n    @syncRule({\n        manifest: {\n            path: getCustomSectionPath,\n            import: (manifest: v4.SapUi5RoutingTargetContentSection): typeof SAPUI5_FRAGMENT_CLASS | string => {\n                // Currently only XML Fragment supported, but idea is that we need to check 'value.type'\n                // f.e. type === 'XMLFragment' ? 'sap.ui.core.Fragment' : ...\n                if (!manifest.type || manifest.type.startsWith(v4.CustomSectionViewTypesV4.XML)) {\n                    if (!manifest.type || manifest.type === 'XMLFragment') {\n                        return SAPUI5_FRAGMENT_CLASS;\n                    } else {\n                        return (manifest.type as string).slice(v4.CustomSectionViewTypesV4.XML.length);\n                    }\n                }\n                // Fallback - if there is unsupported value\n                return manifest.type;\n            },\n            export: false\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    className: typeof SAPUI5_FRAGMENT_CLASS;\n\n    @syncRule({\n        manifest: {\n            path: getCustomSectionPath,\n            import: (manifestSection: v4.SapUi5RoutingTargetContentSection): string => {\n                // During import, we need to consider both `name` and `template` to correctly fill our config and to be upgrade safe\n                return manifestSection.name || manifestSection.template;\n            },\n            key: 'template' // key: 'name' deprecated since '1.86'\n        }\n    })\n    @validity({\n        since: '1.77.0'\n    })\n    fragmentName: string;\n}\n", "import type { Manifest, v4 } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getHeaderActionsPath } from '../../application';\n\nexport class ActionAfterExecutionConfigurationHeader implements v4.ActionAfterExecutionConfiguration {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey): string =>\n                getHeaderActionsPath(pageName, manifest, sectionId, columnKey) + '/afterExecution'\n        }\n    })\n    navigateToInstance?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey): string =>\n                getHeaderActionsPath(pageName, manifest, sectionId, columnKey) + '/afterExecution'\n        }\n    })\n    enableAutoScroll?: boolean;\n}\n\nexport class HeaderActionV4 implements v4.HeaderActionV4 {\n    @syncRule({\n        manifest: {\n            path: getHeaderActionsPath\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    afterExecution?: ActionAfterExecutionConfigurationHeader;\n}\n", "import type { Manifest, v4 } from '@sap/ux-specification-types';\nimport { syncRule, validity } from '../../../common/decoration/decorators';\nimport { getFooterActionsPath } from '../../application';\n\nexport class ActionAfterExecutionConfigurationFooter implements v4.ActionAfterExecutionConfiguration {\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey): string =>\n                getFooterActionsPath(pageName, manifest, sectionId, columnKey) + '/afterExecution'\n        }\n    })\n    navigateToInstance?: boolean;\n\n    @syncRule({\n        manifest: {\n            path: (pageName: string[], manifest: Manifest, sectionId: string, columnKey): string =>\n                getFooterActionsPath(pageName, manifest, sectionId, columnKey) + '/afterExecution'\n        }\n    })\n    enableAutoScroll?: boolean;\n}\n\nexport class FooterActionV4 implements v4.HeaderActionV4 {\n    @syncRule({\n        manifest: {\n            path: getFooterActionsPath\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    afterExecution?: ActionAfterExecutionConfigurationFooter;\n}\n", "export * from './ListReport';\nexport * from './ObjectPage';\nexport * from './FreestylePage';\n", "import type { v4 } from '@sap/ux-specification-types';\nimport type { Table, FilterBar } from '../controls';\nimport { pageLayoutInformation, childId, syncRule, validity } from '../../../common/decoration/decorators';\nimport { getSettingsPathForPage } from '../../application';\n\n/**\n * sync rule deleting all views if the chart view gets deleted\n * @param manifestSection - manifest section of the given view\n */\nfunction deleteAllALPViews(manifestSection: object): void {\n    if (manifestSection['paths']?.[0]?.primary || manifestSection['paths']?.[0]?.secondary) {\n        Object.keys(manifestSection).forEach((key) => delete manifestSection[key]);\n    }\n}\n\n/**\n * sync rule for preventing the export of a property\n */\nfunction doNotExport(): void {\n    return;\n}\n\n/**\n * sync rule for preventing the import of a property\n */\nfunction doNotImport(): void {\n    return;\n}\n\n/**\n * Sync class for import and export of V4 list report\n */\n@pageLayoutInformation({\n    id: 'sap.suite.ui.generic.template.ListReport.view.ListReport',\n    pageId: 'sap.suite.ui.generic.template.ListReport'\n})\nexport class ListReport implements v4.ListReportConfigV4 {\n    @syncRule({\n        manifest: {\n            path: (entitySet): string => getSettingsPathForPage(entitySet) + '/views',\n            import: doNotImport,\n            export: doNotExport,\n            delete: deleteAllALPViews\n        }\n    })\n    chart?: v4.ALPChartView;\n\n    /* Table\n    Example Ids: EntitySet - Booking\n    s4v4lrop::BookingList--fe::table::Booking::LineItem-innerTable for sap.m.Table\n    s4v4lrop::BookingList--fe::table::Booking::LineItem for sap.ui.mdc.Table\n    */\n    table?: v4.ALPTableView | Table;\n\n    @syncRule({\n        manifest: {\n            path: (entitySet: string[]): string => getSettingsPathForPage(entitySet)\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    variantManagement?: v4.VariantManagementTypeListReport;\n\n    @syncRule({\n        manifest: {\n            path: (entitySet): string => getSettingsPathForPage(entitySet) + '/views/paths/[]/0'\n        }\n    })\n    defaultPath?: v4.DefaultPathType;\n\n    @syncRule({\n        manifest: {\n            path: (entitySet): string => getSettingsPathForPage(entitySet)\n        }\n    })\n    defaultTemplateAnnotationPath?: string;\n\n    // Currently childIds are not used in case of OData V4 Example Id - \"fe::FilterBar::Booking\", where Booking is entitySet\n    @childId('fe::FilterBar')\n    filterBar?: FilterBar;\n}\n", "import type { ObjectPageHeader, ObjectPageLayout } from '../controls';\nimport { v4 } from '@sap/ux-specification-types';\nimport { pageLayoutInformation, childId, syncRule, validity } from '../../../common/decoration/decorators';\nimport { getSettingsPathForPage } from '../../application';\n\n@pageLayoutInformation({\n    id: `${v4.FE_TEMPLATE_V4_OBJECT_PAGE}.view.Details`,\n    pageId: v4.FE_TEMPLATE_V4_OBJECT_PAGE\n})\nexport class ObjectPage implements v4.ObjectPageConfigV4 {\n    @childId('header')\n    header?: ObjectPageHeader;\n\n    @childId('layout')\n    layout?: ObjectPageLayout;\n\n    @syncRule({\n        manifest: {\n            path: (entitySet: string[]): string => getSettingsPathForPage(entitySet)\n        }\n    })\n    @validity({\n        since: '1.84.0'\n    })\n    variantManagement?: v4.VariantManagementTypeObjectPage;\n\n    @childId('sections')\n    sections?: v4.GenericSections | v4.CustomSections;\n\n    footer?: v4.ObjectPageFooter<v4.ObjectPageFooterActions>;\n}\n", "/**\n * Sync class for import and export of V4 freestyle page\n */\nexport class FreestylePage {}\n", "import * as controls from './controls';\nimport * as pages from './pages';\nimport type { MetadataInstanceInterface } from '../../common/decoration/factory';\nimport { MetadataFactory } from '../../common/decoration/factory';\nimport { PageType } from '@sap/ux-specification-types';\n\n/**\n * Note: If the key of the elements corresponds to the name of the definition in schema, you do not have to list it explicitly here.\n * The following tables only comprise entries for elements that do not follow the official pattern (yet)\n */\nconst ALPElements = {\n    //no deviations\n};\n\nconst LRElements = {\n    //no deviations\n};\n\nconst OPElements = {\n    Table: controls.ObjectPageTable,\n    TableColumn: controls.ObjectPageTableColumn,\n    ObjectPageCustomSectionView: controls.ObjectPageCustomSectionFragment,\n    ActionAfterExecutionConfiguration: controls.ActionAfterExecutionConfigurationOP\n};\n\nconst pageTypes = {\n    [PageType.AnalyticalListPage]: ALPElements,\n    [PageType.ListReport]: LRElements,\n    [PageType.ObjectPage]: OPElements\n};\n\n/**\n * V4 specific factory class for creating instances of (reflect) metadata classes\n */\nexport class MetadataInstanceFactoryV4 extends MetadataFactory implements MetadataInstanceInterface {\n    constructor() {\n        super(controls, pages, pageTypes);\n    }\n}\n", "import type { Definition } from 'typescript-json-schema';\nimport type { Manifest, v4, ImportObjectPageV4Parameters } from '@sap/ux-specification-types';\nimport {\n    MANIFESTPATH,\n    FacetTitlePrefix,\n    ManifestSection,\n    PageTypeV4,\n    DefinitionName,\n    LogSeverity,\n    PropertyName\n} from '@sap/ux-specification-types';\nimport { UIAnnotationTerms, UIAnnotationTypes } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport { transferSettingsOfObject } from '../utils';\nimport { DEFINITION_LINK_PREFIX, getDefinitionKey } from '../../../common';\nimport i18next from 'i18next';\nimport { log } from '../../../../extensionLogger';\nimport { initI18n } from '../../../../i18n/i18n';\nimport { MetadataInstanceFactoryV4 as Factory } from '../../export/factory';\nimport type { MetadataInstanceInterface } from '../../../common/decoration/factory';\n\n/**\n * Converts section ID to manifest ID (replaces '::' with ['/', '#'])\n * @param sectionId - converted ID of the given object page section\n * @param splitOnLt - split ID and get only part in <...>\n * @param annotationTerm - annotationTerm to split Id on\n * @returns manifest ID\n */\nexport function getManifestId(sectionId: string, splitOnLt = false, annotationTerm?: string) {\n    const Id = splitOnLt ? sectionId.split('<')[1]?.slice(0, -1) : sectionId;\n    if (annotationTerm) {\n        const pathParts = Id.split(`@${annotationTerm}`);\n        return `${pathParts[0]?.replace(/::/g, '/')}@${annotationTerm}${pathParts[1]?.replace(/::/g, '#')}`;\n    }\n\n    return `${sectionId?.replace(/::/g, '/').replace(/::/g, '#')}`;\n}\n\n/**\n * Converts manifest ID to definition ID (replaces ['#', '/'] with '::')\n * @param manifestId - ID of the given object page section in manifest\n * @returns definition ID\n */\nexport function getDefinitionId(manifestId: string) {\n    return manifestId.replace(/#/g, '::').replace(/\\//g, '::');\n}\n\n/**\n * Fills the section table columns in a V4 config\n * @param {ImportObjectPageV4Parameters} importParameters  - object comprising all input data\n * @param manifestSection - section of the manifest.json\n * @param configPart - the given part of the object page config\n * @param sectionId - converted ID of the given object page section\n * @param manifestSectionId - ID of the given object page section in manifest\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param v4Page - page definition in V4 format\n */\nfunction fillTableColumnsInConfig(\n    importParameters: ImportObjectPageV4Parameters,\n    manifestSection: string | number | boolean | object,\n    configPart: object,\n    sectionId: string,\n    factory: MetadataInstanceInterface,\n    manifestSectionId: string\n) {\n    if (manifestSection['columns']) {\n        configPart[sectionId].table.columns = {};\n        let tableDefinition: DefinitionName;\n        const lineItems = importParameters.jsonSchema.definitions[getDefinitionId(manifestSectionId)] as Definition;\n        if (lineItems) {\n            for (const columnKey in lineItems.properties) {\n                const columnInSchema = lineItems.properties[columnKey] as Definition;\n                if (columnInSchema.$ref.indexOf(DefinitionName.CustomColumnOP) > -1) {\n                    tableDefinition = DefinitionName.CustomColumnOP;\n                } else {\n                    tableDefinition = DefinitionName.ObjectPageTableColumn;\n                }\n                const columnInConfig = factory.createInstance(PageTypeV4.ObjectPage, tableDefinition);\n\n                transferSettingsOfObject(\n                    columnInConfig,\n                    importParameters.manifest,\n                    importParameters.jsonSchema.definitions[tableDefinition],\n                    importParameters.routingId,\n                    [columnKey],\n                    manifestSectionId\n                );\n                if (Object.keys(columnInConfig).length > 0) {\n                    configPart[sectionId].table.columns[columnKey] = columnInConfig;\n                }\n            }\n        }\n    }\n}\n\n/**\n * Fills the table actions in config.json\n * @param {ImportObjectPageV4Parameters} importParameters - object comprising all input data\n * @param sectionId - ID of the current section\n * @param configPart - the given part of the object page config\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param v4Page - current (object) page\n */\nfunction fillTableActionsInConfig(\n    importParameters: ImportObjectPageV4Parameters,\n    sectionId: string,\n    configPart: object,\n    factory: MetadataInstanceInterface,\n    manifestSectionId: string = sectionId\n) {\n    const actionsDefinition =\n        importParameters.jsonSchema.definitions[`${DefinitionName.Actions}<${getDefinitionId(manifestSectionId)}>`];\n    if (typeof actionsDefinition === 'object') {\n        for (const actionKey in actionsDefinition['properties']) {\n            const actionDefinition = actionsDefinition.properties[actionKey];\n            if (typeof actionDefinition === 'object' && actionDefinition.$ref) {\n                const definitionKey = getDefinitionKey(actionDefinition.$ref);\n                const schemaPropertyName = definitionKey.split('<')[0];\n                configPart[sectionId].table.toolBar.actions[actionKey] = factory.createInstance(\n                    PageTypeV4.ObjectPage,\n                    schemaPropertyName\n                );\n                transferSettingsOfObject(\n                    configPart[sectionId].table.toolBar.actions[actionKey],\n                    importParameters.manifest,\n                    importParameters.jsonSchema.definitions[definitionKey],\n                    importParameters.routingId,\n                    [actionKey.replace('/', '??')],\n                    manifestSectionId\n                );\n                if (Object.keys(configPart[sectionId].table.toolBar.actions[actionKey]).length === 0) {\n                    delete configPart[sectionId].table.toolBar.actions[actionKey];\n                }\n            }\n        }\n    }\n}\n\n/**\n * Fills form  actions in config.json\n * @param {ImportObjectPageV4Parameters} importParameters - object comprising all input data\n * @param sectionId - ID of the current section\n * @param configPart - the given part of the object page config\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param v4Page - current (object) page\n */\nfunction fillFormActionsInConfig(\n    importParameters: ImportObjectPageV4Parameters,\n    manifestSection: string | number | boolean | object,\n    sectionId: string,\n    configPart: object,\n    factory: MetadataInstanceInterface,\n    manifestSectionId: string = sectionId\n) {\n    if (manifestSection['actions']) {\n        configPart[sectionId].form.actions = {};\n        const forms = importParameters.jsonSchema.definitions[\n            `${DefinitionName.ObjectPageSectionForm}<${getDefinitionId(manifestSectionId)}>`\n        ] as Definition;\n        const formReference = forms.properties.form['$ref'].split(DEFINITION_LINK_PREFIX)[1];\n        const form = importParameters.jsonSchema.definitions[formReference] as Definition;\n        const actions = form.properties['actions'] as Definition;\n        const actionsReference = actions.$ref.split(DEFINITION_LINK_PREFIX)[1];\n        const actionsDefinition = importParameters.jsonSchema.definitions[actionsReference] as Definition;\n\n        for (const actionKey in actionsDefinition['properties']) {\n            const actionDefinition = actionsDefinition.properties[actionKey] as Definition;\n            const definitionKey = getDefinitionKey(actionDefinition.$ref);\n            const formActionDefinition = importParameters.jsonSchema.definitions[definitionKey] as Definition;\n            if (\n                formActionDefinition['annotationType'] === UIAnnotationTypes.DataFieldForAction ||\n                formActionDefinition.description === 'Custom Action'\n            ) {\n                // For custom actions we use definitionKey.split('<')[0];\n                const formActionKey = getDefinitionKey(formActionDefinition.$ref) || definitionKey.split('<')[0];\n                configPart[sectionId].form.actions[actionKey] = factory.createInstance(\n                    PageTypeV4.ObjectPage,\n                    formActionKey\n                );\n                transferSettingsOfObject(\n                    configPart[sectionId].form.actions[actionKey],\n                    importParameters.manifest,\n                    importParameters.jsonSchema.definitions[formActionKey],\n                    importParameters.routingId,\n                    [actionKey.replace('/', '??')],\n                    manifestSectionId\n                );\n                if (Object.keys(configPart[sectionId].form.actions[actionKey]).length === 0) {\n                    delete configPart[sectionId].form.actions[actionKey];\n                }\n            }\n        }\n    }\n}\n\n/**\n * Fills the table settings in config.json\n * @param {ImportObjectPageV4Parameters} importParameters  - object comprising all input data\n * @param manifestSettings - object page settings section of the manifest\n * @param configPart - the given part of the object page config\n * @param sectionId - ID of the current section\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param v4Page - current (object) page\n */\nfunction fillTableInConfig(\n    importParameters: ImportObjectPageV4Parameters,\n    manifestSettings: v4.SapUiPageSettingsV4,\n    configPart: object,\n    sectionId: string,\n    factory: MetadataInstanceInterface,\n    tableId?: string\n) {\n    const manifestSectionId = tableId ? tableId : getManifestId(sectionId, false, UIAnnotationTerms.LineItem);\n    const manifestSection = manifestSettings.controlConfiguration[manifestSectionId];\n\n    if (manifestSection) {\n        // Data needs to be transferred\n        configPart[sectionId] = {};\n        configPart[sectionId].table = factory.createInstance(PageTypeV4.ObjectPage, DefinitionName.ObjectPageTable);\n\n        const sectionDefinition = `${DefinitionName.ObjectPageTable}<${\n            tableId ? getDefinitionId(tableId) : sectionId.replace('#', '::')\n        }>`;\n        transferSettingsOfObject(\n            configPart[sectionId].table,\n            importParameters.manifest,\n            importParameters.jsonSchema.definitions[sectionDefinition],\n            importParameters.routingId,\n            [],\n            manifestSectionId\n        );\n\n        configPart[sectionId].table.toolBar = factory.createInstance(PageTypeV4.ObjectPage, DefinitionName.ToolBar, {\n            actions: {}\n        });\n        fillTableActionsInConfig(importParameters, sectionId, configPart, factory, manifestSectionId);\n        fillTableColumnsInConfig(importParameters, manifestSection, configPart, sectionId, factory, manifestSectionId);\n    }\n}\n\n/**\n * Fills the form settings in config.json\n * @param {ImportObjectPageV4Parameters} importParameters  - object comprising all input data\n * @param manifestSettings - object page settings section of the manifest\n * @param configPart - the given part of the object page config\n * @param sectionId - ID of the current section\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param formId - from defitinion ID\n */\nfunction fillFormInConfig(\n    importParameters: ImportObjectPageV4Parameters,\n    manifestSettings: v4.SapUiPageSettingsV4,\n    configPart: object,\n    sectionId: string,\n    factory: MetadataInstanceInterface\n) {\n    const manifestSectionId = getManifestId(sectionId);\n    const manifestSection = manifestSettings.controlConfiguration[manifestSectionId];\n    if (manifestSection) {\n        configPart[sectionId] = {};\n        configPart[sectionId].form = factory.createInstance(PageTypeV4.ObjectPage, DefinitionName.ObjectPageForm, {\n            actions: {}\n        });\n        fillFormActionsInConfig(importParameters, manifestSection, sectionId, configPart, factory, manifestSectionId);\n    }\n}\n\n/**\n * Fills the sections and subsections of the configuration (recursive function)\n * @param {ImportObjectPageV4Parameters} importParameters  - object comprising all input data\n * @param sectionProperties - current properties' list (of sections or subsections)\n * @param manifestSettings - object page settings section of the manifest\n * @param configPart - the given part of the object page config\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param v4Page - current (object) page\n */\nfunction fillSectionsInConfig(\n    importParameters: ImportObjectPageV4Parameters,\n    sectionProperties: Definition,\n    manifestSettings: v4.SapUiPageSettingsV4,\n    configPart: Definition,\n    factory: MetadataInstanceInterface\n): void {\n    for (const sectionId in sectionProperties) {\n        const schemaSection: Definition = sectionProperties[sectionId];\n        let tableManifestId = sectionId;\n        if (\n            sectionId.includes('com.sap.vocabularies.UI.v1.PresentationVariant') &&\n            schemaSection.$ref?.startsWith(DEFINITION_LINK_PREFIX + DefinitionName.ObjectPageSectionTableV4)\n        ) {\n            const sectionIdRef = schemaSection['$ref'].split(DEFINITION_LINK_PREFIX)[1];\n            tableManifestId = sectionIdRef ? getManifestId(sectionIdRef, true, UIAnnotationTerms.LineItem) : sectionId;\n            fillTableInConfig(importParameters, manifestSettings, configPart, sectionId, factory, tableManifestId);\n        } else if (schemaSection.$ref?.startsWith(DEFINITION_LINK_PREFIX + DefinitionName.ObjectPageSectionTableV4)) {\n            // Section without subsections\n            fillTableInConfig(importParameters, manifestSettings, configPart, sectionId, factory);\n        } else if (schemaSection.properties && schemaSection.properties.subsections) {\n            configPart[sectionId] = {\n                subsections: {}\n            };\n            fillSectionsInConfig(\n                importParameters,\n                schemaSection.properties.subsections['properties'],\n                manifestSettings,\n                configPart[sectionId].subsections,\n                factory\n            );\n        } else if (\n            schemaSection.$ref?.startsWith(DEFINITION_LINK_PREFIX + DefinitionName.ObjectPageSectionForm) &&\n            schemaSection.$ref?.includes('@com.sap.vocabularies.UI.v1.FieldGroup::')\n        ) {\n            // Form section\n            fillFormInConfig(importParameters, manifestSettings, configPart, sectionId, factory);\n        }\n    }\n}\n\n/**\n * Fills the header facets in the config file of a V4 object page\n * @param appSchema - app specific schema\n * @param objectPageConfig - configuration, to be enhanced\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param manifest - manifest.json of the app\n * @param v4Page - current (object) page\n */\nfunction fillHeaderFacets(\n    appSchema: Definition,\n    objectPageConfig: v4.ObjectPageConfigV4,\n    factory: MetadataInstanceInterface,\n    manifest: Manifest,\n    routingId: string\n): void {\n    const headerSections = appSchema.definitions[DefinitionName.HeaderSections] as Definition;\n    if (headerSections && headerSections.properties) {\n        objectPageConfig.header.sections = {};\n        for (const sectionId in headerSections.properties) {\n            const sectionDefinitionKey = headerSections.properties[sectionId]['$ref']?.split(DEFINITION_LINK_PREFIX)[1];\n            const sectionDefinition = sectionDefinitionKey\n                ? appSchema.definitions[sectionDefinitionKey]\n                : headerSections.properties[sectionId];\n            const factoryKey = sectionDefinitionKey ? sectionDefinitionKey.split('<')[0] : undefined;\n\n            objectPageConfig.header.sections[sectionId] = factoryKey\n                ? factory.createInstance(PageTypeV4.ObjectPage, factoryKey)\n                : {};\n\n            transferSettingsOfObject(\n                objectPageConfig.header.sections[sectionId],\n                manifest,\n                sectionDefinition,\n                routingId,\n                [],\n                (sectionDefinition as Definition)?.title?.split(FacetTitlePrefix)[1]\n            );\n        }\n    }\n}\n\n/**\n * Fills the header and footer actions in the config file of a V4 object page\n * @param appSchema - app specific schema\n * @param objectPageConfig - configuration, to be enhanced\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @param manifest - manifest.json of the app\n * @param v4Page - current (object) page\n * @param definitionName definition name in the schema\n * @param actionType - header or a footer action\n */\nfunction fillHeaderFooterActions(\n    appSchema: Definition,\n    objectPageConfig: v4.ObjectPageConfigV4,\n    factory: MetadataInstanceInterface,\n    manifest: Manifest,\n    routingId: string,\n    definitionName: DefinitionName,\n    actionType: PropertyName\n): void {\n    const actions = appSchema.definitions[definitionName] as Definition;\n    if (typeof actions === 'object') {\n        objectPageConfig[actionType].actions = {};\n        for (const actionKey in actions.properties) {\n            const definition = actions.properties[actionKey];\n            if (typeof definition === 'object' && definition.$ref) {\n                const definitionKey = getDefinitionKey(definition.$ref);\n                const actionDefinition = appSchema.definitions[definitionKey] as Definition;\n                const key = getDefinitionKey(actionDefinition.$ref);\n\n                objectPageConfig[actionType].actions[actionKey] = factory.createInstance(PageTypeV4.ObjectPage, key);\n                transferSettingsOfObject(\n                    objectPageConfig[actionType].actions[actionKey],\n                    manifest,\n                    appSchema.definitions[key],\n                    routingId,\n                    [actionKey.replace('/', '??')]\n                );\n                if (Object.keys(objectPageConfig[actionType].actions[actionKey]).length === 0) {\n                    delete objectPageConfig[actionType].actions[actionKey];\n                }\n            }\n        }\n    }\n}\n\n/**\n * Fills the object page configuration from the given manifest\n * @param {ImportObjectPageV4Parameters} importParameters  - object comprising all input data\n * @param v4Page - current (object) page\n * @param {MetadataInstanceInterface} factory - factory, for generating the access to reflect-metadata\n * @returns {ObjectPageConfig} the object page configuration\n */\nfunction fillObjectPageConfig(\n    importParameters: ImportObjectPageV4Parameters,\n    v4Page: v4.SapUiAppPageV4,\n    factory: MetadataInstanceInterface\n): v4.ObjectPageConfigV4 {\n    const objectPageConfig: v4.ObjectPageConfigV4 = factory.createPageInstance(PageTypeV4.ObjectPage);\n\n    const manifestSettings = v4Page.options && v4Page.options.settings;\n\n    // Transfer header information\n    objectPageConfig.header = factory.createInstance(PageTypeV4.ObjectPage, DefinitionName.ObjectPageHeader);\n    transferSettingsOfObject(\n        objectPageConfig.header,\n        importParameters.manifest,\n        importParameters.jsonSchema.definitions[DefinitionName.ObjectPageHeader],\n        importParameters.routingId,\n        []\n    );\n\n    // Transfer footer information\n    objectPageConfig.footer = factory.createInstance(PageTypeV4.ObjectPage, DefinitionName.ObjectPageFooter);\n    transferSettingsOfObject(\n        objectPageConfig.footer,\n        importParameters.manifest,\n        importParameters.jsonSchema.definitions[DefinitionName.ObjectPageFooter],\n        importParameters.routingId,\n        []\n    );\n\n    // Transfer layout information\n    objectPageConfig.layout = factory.createInstance(PageTypeV4.ObjectPage, DefinitionName.ObjectPageLayout);\n    transferSettingsOfObject(\n        objectPageConfig.layout,\n        importParameters.manifest,\n        importParameters.jsonSchema.definitions[DefinitionName.ObjectPageLayout],\n        importParameters.routingId,\n        []\n    );\n\n    transferSettingsOfObject(\n        objectPageConfig,\n        importParameters.manifest,\n        importParameters.jsonSchema,\n        importParameters.routingId,\n        []\n    );\n    if (!objectPageConfig.sections) {\n        objectPageConfig.sections = {};\n    }\n    if (manifestSettings) {\n        if (manifestSettings.controlConfiguration && importParameters.jsonSchema.definitions[DefinitionName.Sections]) {\n            // Fill sections and subsections\n            objectPageConfig.sections = {};\n            fillSectionsInConfig(\n                importParameters,\n                importParameters.jsonSchema.definitions[DefinitionName.Sections]['properties'],\n                manifestSettings,\n                objectPageConfig.sections as Definition,\n                factory\n            );\n        }\n        // Fill Custom sections\n        const customSections = manifestSettings.content?.body?.sections;\n        if (customSections) {\n            objectPageConfig.sections.custom = [];\n            for (const sectionId in customSections) {\n                const section = factory.createInstance(\n                    PageTypeV4.ObjectPage,\n                    DefinitionName.ObjectPageCustomSectionFragment\n                );\n                transferSettingsOfObject(\n                    section,\n                    importParameters.manifest,\n                    importParameters.jsonSchema.definitions[DefinitionName.ObjectPageCustomSectionFragment],\n                    importParameters.routingId,\n                    [],\n                    sectionId\n                );\n                objectPageConfig.sections.custom.push(section);\n            }\n        }\n\n        // Fill header facets\n        fillHeaderFacets(\n            importParameters.jsonSchema,\n            objectPageConfig,\n            factory,\n            importParameters.manifest,\n            importParameters.routingId\n        );\n        fillHeaderFooterActions(\n            importParameters.jsonSchema,\n            objectPageConfig,\n            factory,\n            importParameters.manifest,\n            importParameters.routingId,\n            DefinitionName.HeaderActions,\n            PropertyName.header\n        );\n        fillHeaderFooterActions(\n            importParameters.jsonSchema,\n            objectPageConfig,\n            factory,\n            importParameters.manifest,\n            importParameters.routingId,\n            DefinitionName.FooterActions,\n            PropertyName.footer\n        );\n    }\n    return objectPageConfig;\n}\n\n/**\n * External API: Create configuration (file content) for a V4 object page\n * @param {ImportObjectPageV4Parameters} importParameters  - object comprising all input data\n * @param {ExtensionLogger} logger - Logger class for logging messages\n *\n * @returns {ObjectPageConfig} config - the object page configuration\n */\nexport function createObjectPageConfigV4(\n    importParameters: ImportObjectPageV4Parameters\n): v4.ObjectPageConfigV4 | undefined {\n    // Initialize i18next\n    initI18n();\n    if (!importParameters.manifest[ManifestSection.ui5] || !importParameters.manifest[ManifestSection.ui5]['routing']) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOROUTING'),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.ui5]\n            }\n        });\n        return;\n    }\n    const v4Pages = importParameters.manifest[ManifestSection.ui5]['routing']['targets'] as v4.SapUiAppPageV4[];\n    if (!v4Pages) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOTARGETS'),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.ui5, 'routing']\n            }\n        });\n        return;\n    }\n    const v4Page = v4Pages[importParameters.routingId];\n    if (!v4Page) {\n        log(importParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOROUTINGID', { routingId: importParameters.routingId }),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.ui5, 'routing']\n            }\n        });\n        return;\n    }\n    const factory = new Factory();\n\n    //Fill config.json\n    return fillObjectPageConfig(importParameters, v4Page, factory);\n}\n", "import { AppProvider } from '../../../common/appProvider';\nimport { AppSettings } from '../../application';\nimport { generatePageId, getSchemaFilePath } from '../../../common';\nimport { createListReportConfig } from '../pages/listReport';\nimport { createObjectPageConfigV4 } from '../pages/objectPage';\nimport type { Files, SapUi5RoutingRoute, SapUi5RoutingRouteTarget, v2, Manifest } from '@sap/ux-specification-types';\nimport {\n    v4,\n    MANIFESTPATH,\n    TemplateType,\n    PageTypeV4,\n    FioriElementsVersion,\n    SchemaType,\n    ManifestSection,\n    ViewTypes,\n    LogSeverity\n} from '@sap/ux-specification-types';\nimport { transferSettingsOfObject } from '../utils';\nimport type {\n    ExtensionLogger,\n    ImportObjectPageV4Parameters,\n    ImportListReportV4Parameters,\n    ImportAnalyticalListPageV4Parameters\n} from '../../../..';\nimport { log } from '../../../../extensionLogger';\nimport i18next from 'i18next';\nimport type { Definition } from 'typescript-json-schema';\n\nexport enum Constants {\n    OptionalQuery = ':?query:',\n    Component = 'sap/fe/AppComponent',\n    Namespace = 'sap.fe.templates'\n}\n\n// Store controller names which should be handled lately\nexport const unhandledControllers: Array<string> = [];\n// Store route associations\nlet associations: object = {};\n\n/**\n * Sort in following way\n * 1. string targets first\n * 2. Then sort targets as array by elements count - from lowest to highest(ASC)\n * @param {SapUi5RoutingRoute} route1 - First instance of router to compare.\n * @param {SapUi5RoutingRoute} route2 - Second instance of router to compare.\n * @return {number} Compare result.\n */\nfunction routesSorter(route1: SapUi5RoutingRoute, route2: SapUi5RoutingRoute): number {\n    const target1 = route1.target;\n    const target2 = route2.target;\n    const isT1Array = Array.isArray(target1);\n    const isT2Array = Array.isArray(target2);\n    if (isT1Array && isT2Array) {\n        return target1.length - target2.length;\n    }\n    if (!isT1Array && !isT2Array) {\n        return 0;\n    }\n    return !isT1Array ? -1 : 1;\n}\n\n/**\n * Method to resolve target and return target name as string.\n * Thing is that we can receive target as array of targets and we need detect which target is unique target in that array.\n * @param {SapUi5RoutingRouteTarget} target - Target to resolve.\n * @param {Array<string>} usedTargets - Array of resolved targets(which means that those targets are not unique anymore).\n * @return {string} Resolved unique target namet.\n */\nfunction resolveTarget(target: SapUi5RoutingRouteTarget, usedTargets: Array<string> = []): string {\n    if (!Array.isArray(target)) {\n        return target;\n    }\n    let targetParts: Array<string> = target;\n    for (const usedTarget of usedTargets) {\n        targetParts = targetParts.filter((targetPart) => !usedTarget.includes(targetPart));\n    }\n    return targetParts[0];\n}\n\n/**\n * Method which populates object with routings routes associations.\n * @param {SapUi5RoutingRoute} routes - Routing routes.\n * @return {object} Map object of association routes.\n */\nfunction populateAssociations(routes: SapUi5RoutingRoute[]): object {\n    const routesAssociations = {};\n    routes = routes.concat().sort(routesSorter);\n    const resolvedTargets = [];\n    for (const route of routes) {\n        const parts = route.pattern.split(':')[0].split('/');\n        let target;\n        if (Array.isArray(route.target)) {\n            target = resolveTarget(route.target, resolvedTargets);\n            resolvedTargets.push(route.target);\n        } else {\n            target = route.target;\n        }\n        for (const part of parts) {\n            const prop = part.split('(')[0];\n            routesAssociations[target] = routesAssociations[target] ? `${routesAssociations[target]}.${prop}` : prop;\n        }\n    }\n    return routesAssociations;\n}\n\n/**\n * Determines the page type of a routing target\n * @param target - routing target, as defined in manifest\n * @param logger - logger for error messages\n * @param routingTargetId - ID of the routing target\n * @returns the page type\n */\nfunction determinePageType(\n    target: v4.RoutingTargetOptions,\n    logger: ExtensionLogger,\n    routingTargetId: string\n): PageTypeV4 {\n    let pageType: PageTypeV4;\n    if (target['name']) {\n        if (target['name'] === v4.FE_TEMPLATE_V4_CUSTOM_PAGE) {\n            pageType = PageTypeV4.FPMCustomPage;\n        } else if (\n            target['name'].endsWith(PageTypeV4.ListReport) ||\n            target['name'].endsWith(PageTypeV4.AnalyticalListPage)\n        ) {\n            pageType = PageTypeV4.ListReport;\n        } else if (target['name'].endsWith(PageTypeV4.ObjectPage)) {\n            pageType = PageTypeV4.ObjectPage;\n        } else {\n            pageType = PageTypeV4.CustomPage;\n        }\n    } else if ('viewId' in target) {\n        pageType = PageTypeV4.CustomPage;\n    } else {\n        log(logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('INVALIDTARGETDEFINITION', { target: JSON.stringify(target) }),\n            location: {\n                path: MANIFESTPATH,\n                range: [`${ManifestSection.ui5}/routing/targets/${routingTargetId}`]\n            }\n        });\n        if (target['viewType'] in ViewTypes && 'viewName' in target) {\n            pageType = PageTypeV4.CustomPage;\n        }\n    }\n    return pageType;\n}\n\nexport type ConversionParameters = {\n    target: v4.RoutingTargetOptions;\n    pageType: PageTypeV4;\n    manifest: Manifest;\n    schemas: Files;\n    logger: ExtensionLogger;\n    page: v4.Page;\n    id: string;\n    templateType: TemplateType;\n};\n\nfunction convertSettingsToConfig(params: ConversionParameters) {\n    const schemaId = generatePageId(\n        params.page.pageType,\n        params.page.entitySet,\n        params.target['viewId'] || (params.pageType === PageTypeV4.CustomPage && params.target['id'])\n    );\n    if (!schemaId) {\n        return;\n    }\n    // Get the JSON schema for the page. If no page specific schema exists, fall back top the generic schema for the page type\n    const jsonSchema: string =\n        Object.keys(params.schemas).find((element) => element.includes(schemaId)) ||\n        Object.keys(params.schemas).find((element) => element.includes(schemaId.slice(0, -1))) ||\n        Object.keys(params.schemas).find((element) => element.includes(params.page.pageType));\n\n    if (jsonSchema) {\n        if (params.page.pageType === PageTypeV4.ObjectPage) {\n            const importParameters: ImportObjectPageV4Parameters = {\n                manifest: params.manifest,\n                jsonSchema: params.schemas[jsonSchema],\n                routingId: params.id,\n                logger: params.logger\n            };\n            params.page.config = createObjectPageConfigV4(importParameters);\n        } else if (params.templateType === TemplateType.ListReportObjectPageV4) {\n            const importParameters: ImportListReportV4Parameters = {\n                manifest: params.manifest,\n                jsonSchema: params.schemas[jsonSchema],\n                logger: params.logger\n            };\n            params.page.config = createListReportConfig(importParameters, SchemaType.ListReport);\n        } else if (params.templateType === TemplateType.AnalyticalListPageV4) {\n            const importParameters: ImportAnalyticalListPageV4Parameters = {\n                manifest: params.manifest,\n                jsonSchema: params.schemas[jsonSchema],\n                logger: params.logger\n            };\n            params.page.config = createListReportConfig(importParameters, SchemaType.AnalyticalListPage);\n        }\n    }\n}\n\n/**\n * Updates the class variable collecting the unhandled controllers\n * @param target - current routing target\n */\nfunction updateUnhandledControllers(target: v4.RoutingTargetOptions): void {\n    if (target.options) {\n        if ('viewName' in target.options.settings) {\n            const viewParts = target.options.settings.viewName.split('.');\n            unhandledControllers.push(viewParts[viewParts.length - 1]);\n        }\n    } else if ('viewId' in target) {\n        // There no 'options' for custom page target -\n        //    we need check target's controller source for navigation\n        const viewParts = target.viewName.split('.');\n        unhandledControllers.push(viewParts[viewParts.length - 1]);\n    }\n}\n\n/**\n * Evaluates the target options in manifest while setting up the page config.\n * Fills the page navigation object\n * @param {RoutingTargetOptions} target - target definition in manifest\n * @param {Page} page - page config, to be updated\n */\nfunction evaluateTargetOptions(target: v4.RoutingTargetOptions, page: v4.PageV4): void {\n    if (target.options) {\n        if (target.options.settings.variantManagement) {\n            page.variantManagement = target.options.settings.variantManagement;\n        }\n        page.navigation = {};\n        for (const name in target.options.settings.navigation) {\n            const navigationRoute = target.options.settings.navigation[name];\n            page.navigation[name] = navigationRoute.detail;\n        }\n    }\n}\n\n/**\n * Checks if the manifest's routing target represents a custom page definition\n * @param {RoutingTargetOptions} target - target definition in manifest\n * @param {Page} page - page config, to be updated\n * @param {PageTypeV4} pageType - page type\n */\nfunction evaluateCustomPageSettings(target: v4.RoutingTargetOptions, page: v4.Page, pageType: PageTypeV4): void {\n    if ('viewId' in target) {\n        // Populate view of custom page\n        page.view = {\n            id: target.viewId,\n            name: target.viewName,\n            ...(target.viewType && { viewType: target.viewType }),\n            ...(target.viewPath && { path: target.viewPath }),\n            ...(target.path && { path: target.path })\n        };\n    } else if ([PageTypeV4.CustomPage, PageTypeV4.FPMCustomPage].includes(pageType)) {\n        const customPageName =\n            (target as v4.SapUi5RoutingTargetCustomPageV4New).options?.settings?.viewName || target['viewName'];\n        page.view = {\n            ...(target.id && { id: target.id }),\n            ...(customPageName && { name: customPageName }),\n            ...(target.name && { template: target.name as any }),\n            ...(target['viewType'] && { viewType: target['viewType'] })\n        };\n    }\n}\n\n/**\n * Determines the Pages(app.json) using routing configuration from manifest and creates the configuration for each page\n * @param manifest - manifest.json of the app\n * @param schemas - list of JSON schemas of all pages\n */\nexport function getPagesAndConfigs(\n    manifest: Manifest,\n    schemas: Files,\n    templateType: TemplateType,\n    logger?: ExtensionLogger\n): v4.Pages {\n    const pages: v4.Pages = {};\n    const routing: v4.SapUi5RoutingV4 = manifest[ManifestSection.ui5].routing as v4.SapUi5RoutingV4;\n    associations = populateAssociations(routing.routes || []);\n    for (const id in routing.targets) {\n        const target: v4.RoutingTargetOptions = routing.targets[id];\n        const pageType = determinePageType(target, logger, id);\n        const page: v4.Page = { pageType };\n        // Entity set\n        if (target.options) {\n            page.entitySet = target.options.settings.entitySet;\n        }\n        if (target.controlAggregation) {\n            page.controlAggregation = target.controlAggregation;\n        }\n        if (associations[id] && associations[id].indexOf('.') !== -1) {\n            const parts = associations[id].split('.');\n            page.navigationProperty = parts[parts.length - 1];\n        }\n        // Custom page's view object\n        evaluateCustomPageSettings(target, page, pageType);\n        evaluateTargetOptions(target, page);\n        updateUnhandledControllers(target);\n        // Get layout from route\n        const route = routing.routes.find((routingRoute) => routingRoute.name === 'BookingObjectPage');\n        if (route && 'layout' in route) {\n            page.defaultLayoutType = route.layout;\n        }\n        pages[id] = page;\n        // convert settings to config\n        const conversionParameters: ConversionParameters = {\n            target,\n            pageType,\n            manifest,\n            schemas,\n            logger,\n            page,\n            id,\n            templateType\n        };\n        convertSettingsToConfig(conversionParameters);\n    }\n\n    return pages;\n}\n\n/**\n * Get the id of the page that is to open when the application is started.\n * @param routing UI5 routing configuration\n */\nexport function getHome(routing: v4.SapUi5RoutingV4): string | undefined {\n    let routeHome;\n    if (routing && routing.routes && routing.routes.length > 0) {\n        for (const route of routing.routes) {\n            //find the home, i.e. route which starts with ':?query:' pattern for List Report,\n            //resp. doesn't contain '/' for Form Page\n            if (route.pattern.startsWith(':?query:')) {\n                routeHome = route;\n                break;\n            } else if (route.pattern.indexOf('/') === -1) {\n                routeHome = route;\n                continue;\n            }\n        }\n        if (routeHome) {\n            return resolveTarget(routeHome.target);\n        } else {\n            return resolveTarget(routing.routes[0].target);\n        }\n    } else {\n        return undefined;\n    }\n}\n\n/**\n * Method which detects app settings from manifest.\n * Currently only some settings are detected - Flexible Column Layout, viewPath, viewType, path\n * @param routing UI5 routing configuration.\n * @return {AppSettings} Application settings.\n */\nexport function getSettings(routing: v4.SapUi5RoutingV4): AppSettings {\n    const config = routing.config;\n    if (config) {\n        return {\n            ...(config.flexibleColumnLayout && { flexibleColumnLayout: config.flexibleColumnLayout }),\n            ...(config.viewType && { viewType: config.viewType }),\n            ...(config.viewPath && { path: config.viewPath }),\n            ...(config.path && { path: config.path })\n        };\n    }\n    return undefined;\n}\n\nexport function getPages(manifest: Manifest, targetName: string): v4.SapUiAppPagesV4 {\n    const routing = manifest[ManifestSection.ui5].routing as v4.SapUi5RoutingV4;\n    const pages: v4.SapUiAppPagesV4 = {};\n    if (routing) {\n        for (const id in routing.targets) {\n            const v4Page = routing.targets[id];\n            if (v4Page['name'] === targetName) {\n                pages[id] = v4Page as v4.SapUiAppPageV4;\n            }\n        }\n    }\n    return pages;\n}\n\nexport abstract class BaseAppProvider extends AppProvider {\n    public constructor(\n        manifest: Manifest,\n        schemas: Files,\n        templateType: TemplateType,\n        _settings?: v2.AppSettings | v4.AppSettings,\n        logger?: ExtensionLogger\n    ) {\n        // Import settings\n        const appSettings = new AppSettings();\n        const schemaFile = getSchemaFilePath(SchemaType.Application);\n        const appSchema = schemas[schemaFile.filename] as Definition;\n        transferSettingsOfObject(appSettings, manifest, appSchema.definitions.AppSettings, '', []);\n        super(\n            manifest,\n            schemas,\n            getHome(manifest[ManifestSection.ui5].routing as v4.SapUi5RoutingV4),\n            getPagesAndConfigs(manifest, schemas, templateType, logger),\n            FioriElementsVersion.v4,\n            { ...getSettings(manifest[ManifestSection.ui5].routing as v4.SapUi5RoutingV4), ...appSettings },\n            logger\n        );\n        this.unhandledControllers = unhandledControllers;\n    }\n}\n", "import type { ExtensionLogger } from '../../../..';\nimport type { v4, Manifest, Files, TemplateType } from '@sap/ux-specification-types';\nimport { BaseAppProvider } from './baseAppProvider';\n\nexport class V4AppProvider extends BaseAppProvider {\n    public constructor(\n        manifest: Manifest,\n        schemas: Files,\n        templateType: TemplateType,\n        settings?: v4.AppSettings,\n        logger?: ExtensionLogger\n    ) {\n        super(manifest, schemas, templateType, settings, logger);\n    }\n}\n", "import type { ExtensionLogger } from '../../../..';\nimport type { v4, Manifest, Files, TemplateType } from '@sap/ux-specification-types';\nimport { BaseAppProvider } from './baseAppProvider';\n\nexport class V4FreestyleAppProvider extends BaseAppProvider {\n    public constructor(\n        manifest: Manifest,\n        schemas: Files,\n        templateType: TemplateType,\n        settings?: v4.AppSettings,\n        logger?: ExtensionLogger\n    ) {\n        // Import settings\n        super(manifest, schemas, templateType, settings, logger);\n    }\n}\n", "import { readFile } from 'fs';\nimport { join } from 'path';\nimport type { FioriElementsVersion } from '@sap/ux-specification-types';\nimport { SchemaType } from '@sap/ux-specification-types';\n\n/**\n * Return the path to the generic JSON schema\n * @param version - Fiori elements version\n * @param schemaType - Type of the schema, e.g Application, ListReport, ObjectPage, ...\n */\nexport const getPathToGenericSchema = (\n    version: FioriElementsVersion,\n    schemaType: SchemaType,\n    directory: string = __dirname\n): string | undefined => {\n    const fileName =\n        schemaType === SchemaType.Application\n            ? `${SchemaType.Application}${version.toUpperCase()}.json`\n            : `${schemaType}Config.json`;\n    if (directory.endsWith('dist')) {\n        return join(directory, 'schemas', version, fileName);\n    } else if (directory.endsWith(join('specification', 'packages', 'specification'))) {\n        return join(directory, 'dist', 'schemas', version, fileName);\n    } else if (directory.endsWith(join('src', 'specification'))) {\n        return join(directory, '..', '..', 'dist', 'schemas', version, fileName);\n    } else if (directory.indexOf('node_modules') > -1) {\n        const moduleRoot = directory.substring(0, directory.indexOf('node_modules') + 12);\n        return join(moduleRoot, '@sap', 'ux-specification', 'dist', 'schemas', version, fileName);\n    }\n    return undefined;\n};\n\n/**\n * Read JSON schema from given path\n * @param path - path to schema file\n */\nconst readJsonSchema = async (path: string): Promise<JSON> => {\n    return new Promise((resolve, reject): void => {\n        readFile(path, { encoding: 'utf8' }, (err, data): void => {\n            if (err) {\n                reject(err);\n            } else {\n                resolve(JSON.parse(data));\n            }\n        });\n    });\n};\n\n/**\n * Return the generic schema for a given version and type\n * @param version - Fiori elements version, e.g. v2 or v4\n * @param schemaType - Type of the schema, e.g Application, ListReport, ObjectPage, ...\n */\nexport const getGenericSchema = async (version: FioriElementsVersion, schemaType: SchemaType): Promise<JSON> => {\n    try {\n        const path = getPathToGenericSchema(version, schemaType, __dirname);\n        return await readJsonSchema(path);\n    } catch (error) {\n        throw new Error(`No schema available for type: ${schemaType}, version: ${version}. Error was ${error.message}`);\n    }\n};\n", "import type { Definition } from 'typescript-json-schema';\nimport type { MetadataInstanceInterface } from '../../common/decoration/factory';\nimport type { v2, PageType, PageTypeV4, FileData, SyncRule } from '@sap/ux-specification-types';\nimport { ArtifactType, DefinitionName, SchemaTag, SchemaKeyName } from '@sap/ux-specification-types';\nimport type { AnnotationTerm, EntityType } from '@sap-ux/vocabularies-types';\nimport type { DataFieldAbstractTypes, LineItem, SelectionFields } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport {\n    addKeyToDefinition,\n    getActionKey,\n    DEFINITION_LINK_PREFIX,\n    addDataTypeToDefinition,\n    addCommonLineItemDefinitions,\n    createAnnotationPath,\n    determineDataType,\n    getDataFieldDescription,\n    getLabelForPropertyPath,\n    getNextTargetDefinition,\n    getSchemaKeyOfLineItemRecord,\n    prepareRef\n} from '../../common';\nimport { getReflectMetadata } from '../../common/decoration/decorators';\nimport { UIAnnotationTypes, UIAnnotationTerms } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport { sep } from 'path';\nimport { xml2json } from 'xml-js';\nimport { ActionTypeV2 } from '../types';\n\n/**\n * Common function for enhancing the LineItems definiton of app schema by custom columns\n * @param appSchema - app-specific JSON schema\n * @param customColumnsDefinitionName - custom column definition name (plural)\n * @param customColumnDefinitionName - custom column definition name (singular)\n */\nfunction addCustomColumnDefinition(\n    appSchema: Definition,\n    customColumnsDefinitionName: string,\n    customColumnDefinitionName: string\n): void {\n    if (appSchema.definitions[DefinitionName.LineItems]) {\n        (appSchema.definitions[DefinitionName.LineItems] as Definition).properties['custom'] = {\n            $ref: `${DEFINITION_LINK_PREFIX}${customColumnsDefinitionName}`\n        };\n    }\n    appSchema.definitions[customColumnsDefinitionName] = {\n        type: 'array',\n        items: {\n            $ref: `${DEFINITION_LINK_PREFIX}${customColumnDefinitionName}`\n        },\n        description: 'Custom Columns'\n    };\n    appSchema.definitions[customColumnsDefinitionName][SchemaTag.isViewNode] = true;\n    const extensionType = (appSchema.definitions[customColumnDefinitionName] as Definition).properties['extensionType'];\n    if (extensionType) {\n        extensionType[SchemaTag.artifactType] = ArtifactType.Manifest;\n    }\n}\n\n/**\n * Prepares and returns id of action for further use and reference\n * @param actionType - type of action\n * @param lineItemProperties - properties of the line item collection: lineItemPath, lineItemRecord, lineItemId\n * @returns {string} actionId\n */\nfunction getActionId(\n    actionType: ActionTypeV2,\n    lineItemProperties: { lineItemPath: any; lineItemRecord: any; lineItemId: any; entityType: EntityType }\n): string {\n    let actionId: string;\n    if (actionType === ActionTypeV2.ColumnIntentBased) {\n        actionId = getSchemaKeyOfLineItemRecord(lineItemProperties.lineItemRecord);\n    } else if (actionType === ActionTypeV2.ToolBarIntentBased || actionType === ActionTypeV2.FooterIntentBased) {\n        actionId = prepareRef(\n            `${lineItemProperties.lineItemRecord.SemanticObject}::${lineItemProperties.lineItemRecord.Action}`\n        );\n    } else if (\n        actionType === ActionTypeV2.Column &&\n        lineItemProperties.lineItemRecord.$Type === UIAnnotationTypes.DataFieldForAction\n    ) {\n        actionId = prepareRef(`DataFieldForAction:::sAction::${lineItemProperties.lineItemRecord.Action}`);\n    } else {\n        actionId = prepareRef(lineItemProperties.lineItemRecord.Action);\n    }\n    if (lineItemProperties.lineItemId && lineItemProperties.lineItemId !== 'LineItems') {\n        return `${lineItemProperties.lineItemId}??${actionId}`;\n    } else {\n        return actionId;\n    }\n}\n\n/**\n * Processes a LineItem record of type DataFieldForAction and DataFieldForIntentBasedNavigation during app schema generation\n * @param appSchema - the app specific schema that shall get enhanced\n * @param entityType - the entity type as part of the AVT ConvertedMetadata\n * @param actions - actions definition in schema, parent object\n * @param lineItemProperties - properties of the line item collection: lineItemPath, lineItemRecord, lineItemId\n * @param actionType - type of action\n * @param recordIndex - record index in the collection\n */\nexport function handleActionRecord(\n    appSchema: Definition,\n    actions: Definition,\n    lineItemProps: { lineItemPath; lineItemRecord; lineItemId; entityType: EntityType },\n    actionType: ActionTypeV2,\n    recordIndex: number\n): void {\n    let actionReferenceType;\n    const actionTemplate = lineItemProps.lineItemId === DefinitionName.LineItems ? '' : 'ObjectPage';\n    const actionId = getActionId(actionType, lineItemProps);\n\n    if (actionType === ActionTypeV2.Footer || actionType === ActionTypeV2.FooterIntentBased) {\n        actionReferenceType = `Action`;\n        actionType = ActionTypeV2.Footer;\n    } else if (actionType === ActionTypeV2.Column || actionType === ActionTypeV2.ColumnIntentBased) {\n        actionReferenceType = `TableColumnAction`;\n    } else {\n        actionReferenceType = actionTemplate !== '' ? `${actionTemplate}${actionType}` : `Action`;\n        actionType = ActionTypeV2.ToolBar;\n    }\n    const actionDefinition = `${actionTemplate}${actionType}<${actionId}>`;\n    const description = getDataFieldDescription(\n        lineItemProps.lineItemRecord as DataFieldAbstractTypes,\n        lineItemProps.entityType\n    );\n    actions.properties[actionId] = {\n        $ref: DEFINITION_LINK_PREFIX + actionDefinition\n    };\n    actions.properties[actionId][SchemaTag.propertyIndex] = recordIndex;\n    const { key, ns } = getActionKey(lineItemProps.lineItemRecord.Action, true);\n    if (appSchema.definitions[actionReferenceType]) {\n        appSchema.definitions[actionDefinition] = {\n            ...JSON.parse(JSON.stringify(appSchema.definitions[actionReferenceType])),\n            description,\n            keys: [{ name: 'Action', value: key }],\n            annotationPath: `${lineItemProps.lineItemPath}/${recordIndex}`\n        };\n        if (ns) {\n            appSchema.definitions[actionDefinition][SchemaTag.target] = ns;\n        }\n    } else {\n        appSchema.definitions[actionDefinition] = {\n            type: 'object',\n            properties: {},\n            description,\n            additionalProperties: false\n        };\n        appSchema.definitions[actionDefinition][SchemaTag.isViewNode] = true;\n        appSchema.definitions[actionDefinition][SchemaTag.keys] = [{ name: SchemaKeyName.action, value: key }];\n        if (ns) {\n            appSchema.definitions[actionDefinition][SchemaTag.target] = ns;\n        }\n        appSchema.definitions[actionDefinition][\n            SchemaTag.annotationPath\n        ] = `${lineItemProps.lineItemPath}/${recordIndex}`;\n    }\n}\n\n/**\n * Returns the type of a column lineItem action\n * @param lineItemId - optional: in case of OP the parameter must be passed to distinguish the OP tables;\n * @param {object} lineItemRecord - actual record of the line item collection\n * @param actionTypes - array of action types to be filled\n */\nfunction getColumnActionType(lineItemId: string, lineItemRecord, actionTypes: ActionTypeV2[]) {\n    if (\n        lineItemId !== DefinitionName.LineItems &&\n        lineItemRecord.Inline === true &&\n        (lineItemRecord.$Type === UIAnnotationTypes.DataFieldForAction ||\n            lineItemRecord.$Type === UIAnnotationTypes.DataFieldForIntentBasedNavigation)\n    ) {\n        actionTypes.push(ActionTypeV2.OPColumn);\n    } else if (lineItemRecord.Inline === true && lineItemRecord.$Type === UIAnnotationTypes.DataFieldForAction) {\n        actionTypes.push(ActionTypeV2.Column);\n    } else if (\n        lineItemRecord.Inline === true &&\n        lineItemRecord.$Type === UIAnnotationTypes.DataFieldForIntentBasedNavigation\n    ) {\n        actionTypes.push(ActionTypeV2.ColumnIntentBased);\n    }\n}\n\n/**\n * Returns the type of a lineItem action\n * @param {object} lineItemRecord - actual record of the line item collection\n * @returns {string[] | undefined } ActionTypeV2[] - action type(s) of the lineItem\n */\nfunction getActionType(lineItemRecord: DataFieldAbstractTypes, lineItemId: string): ActionTypeV2[] | undefined {\n    const actionTypes: ActionTypeV2[] = [];\n    if (\n        lineItemRecord.$Type !== UIAnnotationTypes.DataFieldForAction &&\n        lineItemRecord.$Type !== UIAnnotationTypes.DataFieldForIntentBasedNavigation\n    ) {\n        return undefined;\n    }\n    if (\n        lineItemRecord.Inline !== true &&\n        lineItemRecord.Determining !== true &&\n        lineItemRecord.$Type === UIAnnotationTypes.DataFieldForAction\n    ) {\n        actionTypes.push(ActionTypeV2.ToolBar);\n    } else if (\n        lineItemRecord.Inline !== true &&\n        lineItemRecord.Determining !== true &&\n        lineItemRecord.$Type === UIAnnotationTypes.DataFieldForIntentBasedNavigation\n    ) {\n        actionTypes.push(ActionTypeV2.ToolBarIntentBased);\n    } else if (lineItemRecord.Determining === true && lineItemRecord.$Type === UIAnnotationTypes.DataFieldForAction) {\n        actionTypes.push(ActionTypeV2.Footer);\n    } else if (\n        lineItemRecord.Determining === true &&\n        lineItemRecord.$Type === UIAnnotationTypes.DataFieldForIntentBasedNavigation\n    ) {\n        actionTypes.push(ActionTypeV2.FooterIntentBased);\n    }\n    getColumnActionType(lineItemId, lineItemRecord, actionTypes);\n    return actionTypes;\n}\n\ntype LineItemProperties = {\n    lineItemPath: string;\n    lineItemRecord: DataFieldAbstractTypes;\n    lineItemId: string;\n    entityType: EntityType;\n};\n\nfunction generateGenericColumn(lineItemProperties: LineItemProperties, appSchema: Definition, recordIndex: number) {\n    const schemaKey = getSchemaKeyOfLineItemRecord(lineItemProperties.lineItemRecord);\n    if (schemaKey) {\n        const lineItemDefinition = appSchema.definitions[lineItemProperties.lineItemId] as Definition;\n        lineItemDefinition.properties[schemaKey] = {\n            $ref: DEFINITION_LINK_PREFIX + DefinitionName.TableColumn,\n            description: getDataFieldDescription(lineItemProperties.lineItemRecord, lineItemProperties.entityType)\n            // Custom property in schema - for object properties ordering purpose\n        };\n        lineItemDefinition.properties[schemaKey][SchemaTag.propertyIndex] = recordIndex;\n        lineItemDefinition.properties[schemaKey][\n            SchemaTag.annotationPath\n        ] = `${lineItemProperties.lineItemPath}/${recordIndex}`;\n        addDataTypeToDefinition(\n            lineItemDefinition.properties[schemaKey] as Definition,\n            lineItemProperties.lineItemRecord\n        );\n        addKeyToDefinition(lineItemProperties.lineItemRecord, lineItemDefinition.properties, schemaKey);\n    }\n}\n\nfunction handleAnyAction(\n    actionType: ActionTypeV2,\n    appSchema: Definition,\n    actions: object,\n    lineItemProperties: LineItemProperties,\n    recordIndex: number,\n    footerActions: object,\n    lineItemId: string\n) {\n    switch (actionType) {\n        case ActionTypeV2.ToolBar:\n        case ActionTypeV2.ToolBarIntentBased: {\n            handleActionRecord(appSchema, actions, lineItemProperties, actionType, recordIndex);\n            break;\n        }\n        case ActionTypeV2.Footer:\n        case ActionTypeV2.FooterIntentBased: {\n            if (footerActions) {\n                handleActionRecord(appSchema, footerActions, lineItemProperties, actionType, recordIndex);\n            }\n            break;\n        }\n        case ActionTypeV2.Column:\n        case ActionTypeV2.ColumnIntentBased: {\n            handleActionRecord(\n                appSchema,\n                appSchema.definitions[lineItemId] as Definition,\n                lineItemProperties,\n                actionType,\n                recordIndex\n            );\n            break;\n        }\n        case ActionTypeV2.OPColumn: {\n            generateGenericColumn(lineItemProperties, appSchema, recordIndex);\n        }\n    }\n}\n\n/**\n * Adds the line item records to the app schema (for the list report or an object page section comprising a table)\n * @param appSchema - the app specific schema that shall get enhanced\n * @param lineItemAnnotation - the UI.LineItem annotation, comprising all records\n * @param entityType - the entity type as part of the AVT ConvertedMetadata\n * @param lineItemId - optional: in case of OP the parameter must be passed to distinguish the OP tables;\n *                      in case of LR or ALP no ID is passed, 'LineItems' is taken then.\n * @param customColumnRef - schema reference to custom column definition.\n */\nexport function addLineItemsType(\n    appSchema: Definition,\n    lineItemAnnotation: AnnotationTerm<LineItem>,\n    entityType: EntityType,\n    lineItemId?: string,\n    customColumnRef?: string\n): void {\n    // Add the correct lineItem definition\n    lineItemId = lineItemId || DefinitionName.LineItems;\n\n    const { actions, footerActions, lineItemPath } = addCommonLineItemDefinitions(\n        appSchema,\n        lineItemAnnotation,\n        entityType,\n        lineItemId\n    );\n\n    if (lineItemAnnotation) {\n        let recordIndex = 0;\n        lineItemAnnotation.forEach((lineItemRecord) => {\n            const lineItemProperties: LineItemProperties = { lineItemPath, lineItemRecord, lineItemId, entityType };\n            const actionTypes = getActionType(lineItemRecord, lineItemId);\n            if (actionTypes) {\n                actionTypes.forEach((actionType) => {\n                    handleAnyAction(\n                        actionType,\n                        appSchema,\n                        actions,\n                        lineItemProperties,\n                        recordIndex,\n                        footerActions,\n                        lineItemId\n                    );\n                });\n            } else {\n                generateGenericColumn(lineItemProperties, appSchema, recordIndex);\n            }\n            recordIndex++;\n        });\n    }\n    if (customColumnRef) {\n        (appSchema.definitions[lineItemId] as Definition).properties['custom'] = {\n            $ref: `${DEFINITION_LINK_PREFIX}${customColumnRef}`\n        };\n    }\n}\n\n/**\n * Adds enum entries of possible leading properties for 'leadingProperty' property in TableCustomColumn properties.\n * @param appSchema - the app specific schema that shall get enhanced\n * @param entityType - the entity type as part of the AVT ConvertedMetadata\n * @param definitionName - definition name of CustomColumn definition\n */\nexport function addListReportLeadingProperties(\n    appSchema: object,\n    entityType: EntityType,\n    definitionName: string\n): void {\n    // Leading Property\n    const leadingPropertySchema =\n        appSchema['definitions'][definitionName] &&\n        appSchema['definitions'][definitionName]['properties'] &&\n        appSchema['definitions'][definitionName]['properties']['leadingProperty'];\n    if (leadingPropertySchema) {\n        const properties = [\n            //  Entity properties\n            ...(entityType?.entityProperties || []),\n            // Navigation Properties\n            ...(entityType?.navigationProperties || [])\n        ];\n        leadingPropertySchema['enum'] = properties?.reduce((result: string[], property) => {\n            if (!result.includes(property.name)) {\n                result.push(property.name);\n            }\n            return result;\n        }, []);\n    }\n}\n\n/**\n * Adds enum entries of posible tabKey properties for 'leadingProperty' property in TableCustomColumn properties.\n * @param appSchema - the app specific schema that shall get enhanced\n * @param definitionName - definition name of CustomColumn definition\n * @param page - sapui5 page object\n */\nexport function addTabkeyEnum(appSchema: object, definitionName: string, page?: v2.SapUiAppPageV2): void {\n    const tabkeyPropertySchema =\n        appSchema['definitions'][definitionName] &&\n        appSchema['definitions'][definitionName]['properties'] &&\n        appSchema['definitions'][definitionName]['properties']['tabKey'];\n    if (page) {\n        const quickVariantsX =\n            page.component &&\n            page.component.settings &&\n            page.component.settings.quickVariantSelectionX &&\n            page.component.settings.quickVariantSelectionX['variants'];\n        if (quickVariantsX) {\n            const enumEntries = [];\n            Object.keys(quickVariantsX).reduce((result: string[], variant) => {\n                const key =\n                    quickVariantsX[variant] && quickVariantsX[variant]['key'] !== undefined\n                        ? quickVariantsX[variant]['key']\n                        : undefined;\n                // Avoid duplicates\n                if (key !== undefined && !result.includes(key)) {\n                    result.push(key);\n                }\n                return result;\n            }, enumEntries);\n            tabkeyPropertySchema['enum'] = enumEntries;\n        }\n    }\n}\n\n/**\n * Adds enum entries of posible fragment entries.\n * @param {object} appSchema The app specific schema that shall get enhanced.\n * @param {FileData[]} fragments Array of fragments.\n * @param {string[]} appId Application id.\n * @param {string} property Property name.\n * @param {string} definitionName Definition name of CustomColumn definition.\n */\nexport function addFragmentEnum(\n    appSchema: Definition,\n    fragments: FileData[],\n    appId: string,\n    property: string,\n    definitionName: string\n): void {\n    if (!fragments || !appId || appId.startsWith('${')) {\n        return;\n    }\n    const enumEntries = [];\n    fragments.forEach((fragment) => {\n        let relPath = fragment.dataSourceUri.split('webapp')[1];\n        if (relPath && relPath.indexOf('.fragment.xml') > 0) {\n            const fragmentJson = JSON.parse(xml2json(fragment.fileContent, { compact: true }))[\n                'core:FragmentDefinition'\n            ];\n            if (\n                (property === 'fragmentName' &&\n                    (!fragmentJson || fragmentJson.Column || fragmentJson['table:Column'])) ||\n                (property === 'cellsFragmentName' &&\n                    (!fragmentJson ||\n                        (!fragmentJson.Column &&\n                            !fragmentJson['table:Column'] &&\n                            !fragmentJson['smartfilterbar:ControlConfiguration'])))\n            ) {\n                relPath = relPath.replace(new RegExp('\\\\' + sep, 'g'), '/');\n                const fragmentName = appId + relPath.split('.fragment.xml')[0].replace(/\\//g, '.');\n                enumEntries.push(fragmentName);\n            }\n        }\n    });\n    if (enumEntries.length > 0) {\n        const fragmentPropertySchema = appSchema.definitions[definitionName]?.['properties']?.[property];\n        fragmentPropertySchema['enum'] = enumEntries;\n    }\n}\n\n/**\n * Adds the custom columns to the line item records of the app schema (for the list report comprising a table).\n * @param {object} appSchema The app specific schema that shall get enhanced.\n * @param {EntityType} entityType The entity type as part of the AVT ConvertedMetadata.\n * @param {SapUiAppPageV2} page Sapui5 page object.\n * @param {object} manifest Application manifest.\n * @param {FileData[]} [fragments] Array of fragments.\n * @param {string} [customColumnsDefinitionName=DefinitionName.CustomColumns] Definition name of Custom Columns definition.\n * @param {string} [customColumnDefinitionName=DefinitionName.CustomColumn] Definition name of Custom Column definition.\n */\nexport function addTableColumnExtensions(\n    appSchema: object,\n    entityType: EntityType,\n    page: v2.SapUiAppPageV2,\n    manifest: object,\n    fragments?: FileData[],\n    customColumnsDefinitionName: string = DefinitionName.CustomColumns,\n    customColumnDefinitionName: string = DefinitionName.CustomColumn\n): void {\n    addCustomColumnDefinition(appSchema, customColumnsDefinitionName, customColumnDefinitionName);\n\n    // Leading Property\n    addListReportLeadingProperties(appSchema, entityType, customColumnDefinitionName);\n    // Tab key property\n    addTabkeyEnum(appSchema, customColumnDefinitionName, page);\n    // Fragment property\n    const appId = manifest && manifest['sap.app'] && manifest['sap.app']['id'];\n    addFragmentEnum(appSchema, fragments, appId, 'fragmentName', customColumnDefinitionName);\n    addFragmentEnum(appSchema, fragments, appId, 'cellsFragmentName', customColumnDefinitionName);\n}\n\n/**\n * Processes an anyOf definition of the generic schema\n * @param propertyDefinition - current definition in the generic schema\n * @param schema - the app-specific schema\n * @param propertyKey - key of the single property\n * @param factory - factory for creating metadata instances\n * @param pageType - page type\n */\nfunction processAnyOf(\n    propertyDefinition: any,\n    schema: object,\n    propertyKey: string,\n    factory: MetadataInstanceInterface,\n    pageType: PageType | PageTypeV4\n) {\n    propertyDefinition['anyOf'].forEach((element) => {\n        const nextDefinition = getNextTargetDefinition(schema, '', {}, element, propertyKey, factory, pageType);\n        if (nextDefinition) {\n            // eslint-disable-next-line @typescript-eslint/no-use-before-define\n            processMetadata(schema, nextDefinition.targetDefinition, nextDefinition.configObject, pageType, factory);\n        }\n    });\n}\n\n/**\n * Processes an object reference of the generic schema\n * @param schema\n * @param propertyDefinition - current definition in the generic schema\n * @param propertyKey - key of the single property\n * @param factory - factory for creating metadata instances\n * @param pageType - page type\n */\nfunction processObject(\n    schema: object,\n    propertyDefinition: any,\n    propertyKey: string,\n    factory: MetadataInstanceInterface,\n    pageType: PageType | PageTypeV4\n) {\n    const nextDefinition = getNextTargetDefinition(schema, '', {}, propertyDefinition, propertyKey, factory, pageType);\n    if (nextDefinition) {\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        processMetadata(schema, nextDefinition.targetDefinition, nextDefinition.configObject, pageType, factory);\n    }\n}\n\n/**\n * Determines the artifact type of a property and adds it to the property definition in schema\n * @param syncRule - sync rule of the current property\n * @param propertyDefinition - current definition in the generic schema\n */\nfunction addArtifactType(syncRule: SyncRule, propertyDefinition: any) {\n    if (syncRule.manifest !== undefined) {\n        propertyDefinition.artifactType = ArtifactType.Manifest;\n    } else if (syncRule.flex !== undefined) {\n        propertyDefinition.artifactType = ArtifactType.FlexChange;\n        //Add control type\n        if (syncRule.flex.controlType) {\n            propertyDefinition.controlType = syncRule.flex.controlType();\n        }\n    } else {\n        propertyDefinition.artifactType = ArtifactType.Annotation;\n    }\n}\n\n/**\n * After the generation of a generic schema, apply post-generation rule to a single property\n * @param metaDataDefinition\n * @param schema - given app schema, to be adapted\n * @param pageType - page type\n * @param factory - factory for creating metadata instances\n * @param propertyDefinition - definition of the single property\n * @param propertyKey - key of the single property\n * @param schemaDefinition - the current entry point or definition in the app schema\n */\nfunction processSingleProperty(\n    metaDataDefinition: { [key: string]: any },\n    schema: object,\n    pageType: PageType | PageTypeV4,\n    factory: MetadataInstanceInterface,\n    propertyDefinition: any,\n    propertyKey: string,\n    schemaDefinition: object\n): void {\n    if (metaDataDefinition) {\n        const syncRule = getReflectMetadata(metaDataDefinition, propertyKey);\n        if (syncRule) {\n            if (typeof syncRule.generate === 'function') {\n                syncRule.generate(schema, schemaDefinition, propertyKey);\n                propertyDefinition = schemaDefinition['properties'][propertyKey];\n            }\n            //Add artifact type\n            addArtifactType(syncRule, propertyDefinition);\n        }\n        if (propertyDefinition.type === 'object' || propertyDefinition.$ref) {\n            processObject(schema, propertyDefinition, propertyKey, factory, pageType);\n        } else if (propertyDefinition['anyOf']) {\n            processAnyOf(propertyDefinition, schema, propertyKey, factory, pageType);\n        }\n    }\n}\n\n/**\n * After the generation of a generic schema, apply rules to a list of properties of the given schema section\n * @param schema - given app schema, to be adapted\n * @param schemaDefinition - the current entry point or definition in the app schema\n * @param pageType - page type\n * @param factory - factory for creating metadata instances\n */\nfunction processProperties(\n    schema: object,\n    schemaDefinition: object,\n    metaDataDefinition: { [key: string]: any },\n    propertiesSection: string,\n    pageType: PageType | PageTypeV4,\n    factory: MetadataInstanceInterface\n) {\n    if (schemaDefinition[propertiesSection]) {\n        for (const propertyKey in schemaDefinition[propertiesSection]) {\n            if (propertyKey === 'anyOf') {\n                processAnyOf(schemaDefinition[propertiesSection], schema, propertyKey, factory, pageType);\n            } else {\n                const propertyDefinition = schemaDefinition[propertiesSection][propertyKey];\n                if (propertyDefinition['anyOf']) {\n                    processAnyOf(propertyDefinition, schema, propertyKey, factory, pageType);\n                } else if (propertyKey === '$ref') {\n                    processObject(schema, schemaDefinition[propertiesSection], propertyKey, factory, pageType);\n                } else {\n                    processSingleProperty(\n                        metaDataDefinition,\n                        schema,\n                        pageType,\n                        factory,\n                        propertyDefinition,\n                        propertyKey,\n                        schemaDefinition\n                    );\n                }\n            }\n        }\n    }\n}\n\n/**\n * Apply post-processing rules as specified in form of \"generate\" at the syncRule\n * @param schema - given app schema, to be adapted\n * @param schemaDefinition - the current entry point or definition in the app schema\n * @param pageType - page type\n * @param factory - factory for creating metadata instances\n */\nexport function processMetadata(\n    schema: object,\n    schemaDefinition: object,\n    metaDataDefinition: { [key: string]: any },\n    pageType: PageType | PageTypeV4,\n    factory: MetadataInstanceInterface\n): void {\n    processProperties(schema, schemaDefinition, metaDataDefinition, 'properties', pageType, factory);\n    processProperties(schema, schemaDefinition, metaDataDefinition, 'additionalProperties', pageType, factory);\n    processProperties(schema, schemaDefinition, metaDataDefinition, 'patternProperties', pageType, factory);\n}\n\n/**\n * Method updates passed 'enum' array by removing passed matching entries.\n * @param {Array<unknown>} values Array of values.\n * @param {Array<unknown>} valuesToRemove Array of values to remove.\n */\nexport function removeElementsFromEnum(values: Array<unknown>, valuesToRemove: Array<unknown>): void {\n    for (const value of valuesToRemove) {\n        const index = values.indexOf(value);\n        if (index !== -1) {\n            // Value exists - remove it\n            values.splice(index, 1);\n        }\n    }\n}\n\n/**\n * Adds the selection fields to the app schema, as properties of the Filterbar\n * @param entityType - the entity type as part of the AVT ConvertedMetadata\n * @param appSchema - the app specific schema that shall get enhanced\n * @param selectionFieldsAnnotation - the UI.SelectionField annotation\n */\nexport function addSelectionFields(\n    appSchema: Definition,\n    selectionFieldsAnnotation: AnnotationTerm<SelectionFields>,\n    entityType: EntityType\n): void {\n    appSchema.definitions.SelectionFields = {\n        ...(appSchema.definitions.SelectionFields as object),\n        properties: {},\n        additionalProperties: false\n    };\n    const selectionFieldsDefinition = appSchema.definitions.SelectionFields;\n    selectionFieldsDefinition[SchemaTag.annotationPath] = createAnnotationPath(\n        entityType.fullyQualifiedName,\n        UIAnnotationTerms.SelectionFields\n    );\n\n    if (!selectionFieldsAnnotation) {\n        return;\n    }\n    let i = 0;\n    selectionFieldsAnnotation.forEach((selectionField) => {\n        let description = selectionField.value;\n        const fieldDefinition = `SelectionField<${prepareRef(selectionField.value)}>`;\n        const dataType = determineDataType(selectionField);\n        if (selectionField.type === 'PropertyPath') {\n            description = getLabelForPropertyPath(selectionField, entityType);\n        }\n        selectionFieldsDefinition.properties[selectionField.value] = {\n            $ref: DEFINITION_LINK_PREFIX + fieldDefinition\n        };\n        selectionFieldsDefinition.properties[selectionField.value][SchemaTag.propertyIndex] = i;\n        appSchema.definitions[fieldDefinition] = {\n            type: 'object',\n            description,\n            additionalProperties: false\n        };\n        appSchema.definitions[fieldDefinition][SchemaTag.isViewNode] = true;\n        appSchema.definitions[fieldDefinition][SchemaTag.annotationType] = selectionField?.type;\n        appSchema.definitions[fieldDefinition][SchemaTag.dataType] = dataType;\n        appSchema.definitions[fieldDefinition][SchemaTag.keys] = [\n            { name: SchemaKeyName.value, value: `${selectionField.value}` }\n        ];\n        appSchema.definitions[fieldDefinition][SchemaTag.annotationPath] = `${\n            selectionFieldsDefinition[SchemaTag.annotationPath]\n        }/${i}`;\n\n        if (['Date', 'DateTime', 'DateTimeOffset'].includes(dataType)) {\n            appSchema.definitions[fieldDefinition]['$ref'] = `${DEFINITION_LINK_PREFIX}SelectionFieldDateSettings`;\n        } else {\n            appSchema.definitions[fieldDefinition]['properties'] = {};\n        }\n        i++;\n    });\n}\n\n/**\n * Add entityProperties to passed a passed enum entry\n * @param {string[]} appSchemaEnum - Enum to be enhanced\n * @param {EntityType} entityType - Given entity type for which entries shall get generated\n */\nexport function addEntityPropertiesToEnum(appSchemaEnum: string[], entityType: EntityType): void {\n    for (const key of entityType.entityProperties) {\n        appSchemaEnum.push(key.name);\n    }\n}\n", "import { addLineItemsType, addSelectionFields, addTableColumnExtensions, addEntityPropertiesToEnum } from './utils';\nimport { findListReportPageV2 } from '../import';\nimport {\n    DEFINITION_LINK_PREFIX,\n    addFieldsType,\n    addEnumForSingleTabVariant,\n    addEnumForMultiTabVariant,\n    addEnumForVariantEntitySet,\n    addEnumForFilterBarAnnotationPath,\n    addEnumFieldGroupAnnotationPath\n} from '../../common';\nimport i18next from 'i18next';\nimport { initI18n } from '../../../i18n/i18n';\nimport { ManifestSection, METADATAPATH, DefinitionName, LogSeverity, MANIFESTPATH } from '@sap/ux-specification-types';\nimport { log } from '../../../extensionLogger';\nimport { ANALYTICALTABLE, GRIDTABLE, INLINEDELETETABLE, MULTISELECTTABLE, TREETABLE } from '../types';\nimport type { ConvertedMetadata, EntitySet, EntityType } from '@sap-ux/vocabularies-types';\nimport type { Definition } from 'typescript-json-schema';\nimport type { GenerateAppSchemaParameters } from '@sap/ux-specification-types';\n\n/**\n * Adds the enum types for QuickVariant and QuickVariantX, based on the entity type annotations\n * @param {EntityType} entityType\n * @param {EntitySet} entitySet - current entity set of the page or view\n * @param {Definition} appSchema - app specific JSON schema\n * @param {ConvertedMetadata} oDataServiceAVT - combined service metadata, as returned by annotation vocabularies tools\n */\nexport function addEnumForVariantPaths(\n    entityType: EntityType,\n    entitySet: EntitySet,\n    appSchema: Definition,\n    oDataServiceAVT: ConvertedMetadata\n): void {\n    addEnumForSingleTabVariant(entityType, appSchema, 'QuickVariant');\n    addEnumForMultiTabVariant(appSchema, 'QuickVariantX', entitySet);\n    addEnumForVariantEntitySet(oDataServiceAVT, appSchema, 'QuickVariantX');\n}\n\n/**\n * Generates an app specific schema for the FE V2 Listreport from the generic schema.\n * Generic types are replaced by information from the app specific annotations.\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param {object} genericSchema - generic JSON schema of a list report\n * @param {string} entityTypeName - the base entity type of the given page\n * @param {EntityType[]} entityTypes - list of all entity types\n * @returns appSchema - the application specific JSON schema\n */\nexport function generateListReportSchemaV2(\n    generateParameters: GenerateAppSchemaParameters,\n    genericSchema: Definition,\n    entityTypeName: string\n): object {\n    // Initialize i18next\n    initI18n();\n\n    const appSchema = JSON.parse(JSON.stringify(genericSchema)) as Definition;\n\n    appSchema.properties.table['anyOf']['0']['$ref'] = DEFINITION_LINK_PREFIX + MULTISELECTTABLE;\n    appSchema.properties.table['anyOf']['1']['$ref'] = DEFINITION_LINK_PREFIX + INLINEDELETETABLE;\n    appSchema.properties.table['anyOf']['2']['$ref'] = DEFINITION_LINK_PREFIX + TREETABLE;\n    appSchema.properties.table['anyOf']['3']['$ref'] = DEFINITION_LINK_PREFIX + ANALYTICALTABLE;\n    appSchema.properties.table['anyOf']['4']['$ref'] = DEFINITION_LINK_PREFIX + GRIDTABLE;\n\n    const responsiveTableMultiSelect = JSON.parse(\n        JSON.stringify(genericSchema.definitions.ResponsiveTableWithMultiSelect)\n    ) as Definition;\n    const responsiveTableInlineDelete = JSON.parse(\n        JSON.stringify(genericSchema.definitions.ResponsiveTableWithInlineDelete)\n    );\n    const treeTableDefinition = JSON.parse(JSON.stringify(genericSchema.definitions.TreeTable));\n    const analyticalTableDefinition = JSON.parse(JSON.stringify(genericSchema.definitions.AnalyticalTable));\n    const gridTableDefinition = JSON.parse(JSON.stringify(genericSchema.definitions.GridTable));\n\n    const lrLineItems = {\n        $ref: DEFINITION_LINK_PREFIX + DefinitionName.LineItems\n    };\n    responsiveTableMultiSelect.properties.columns = lrLineItems;\n    responsiveTableInlineDelete.properties.columns = lrLineItems;\n    treeTableDefinition.properties.columns = lrLineItems;\n    analyticalTableDefinition.properties.columns = lrLineItems;\n    gridTableDefinition.properties.columns = lrLineItems;\n\n    const lrToolBar = DEFINITION_LINK_PREFIX + DefinitionName.ToolBarLR;\n    appSchema.definitions[MULTISELECTTABLE] = responsiveTableMultiSelect;\n    (appSchema.definitions[MULTISELECTTABLE] as Definition).properties.toolBar['$ref'] = lrToolBar;\n    appSchema.definitions[INLINEDELETETABLE] = responsiveTableInlineDelete;\n    (appSchema.definitions[INLINEDELETETABLE] as Definition).properties.toolBar['$ref'] = lrToolBar;\n    appSchema.definitions[TREETABLE] = treeTableDefinition;\n    (appSchema.definitions[TREETABLE] as Definition).properties.toolBar['$ref'] = lrToolBar;\n    appSchema.definitions[ANALYTICALTABLE] = analyticalTableDefinition;\n    (appSchema.definitions[ANALYTICALTABLE] as Definition).properties.toolBar['$ref'] = lrToolBar;\n    appSchema.definitions[GRIDTABLE] = gridTableDefinition;\n    (appSchema.definitions[GRIDTABLE] as Definition).properties.toolBar['$ref'] = lrToolBar;\n\n    const entityType = generateParameters.serviceAVT?.entityTypes.find((et) => et.name === entityTypeName);\n    if (!entityType) {\n        log(generateParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOENTITYTYPE', { entityType: entityTypeName }),\n            location: {\n                path: METADATAPATH\n            }\n        });\n    } else {\n        //handle line items\n        const lineItemAnnotation =\n            entityType.annotations && entityType.annotations.UI && entityType.annotations.UI.LineItem;\n        addLineItemsType(appSchema, lineItemAnnotation, entityType);\n        //handle filter fields\n        const selectionFieldAnnotation = entityType?.annotations?.UI?.SelectionFields;\n        addSelectionFields(appSchema, selectionFieldAnnotation, entityType);\n\n        //add fields for createWithParameterDialog\n        addFieldsType(appSchema, entityType);\n\n        // add entityProperties to a enum, in this case MultiEdit -> ignoredFields\n        appSchema.definitions.MultiEdit['properties']['ignoredFields']['items']['enum'] = [];\n        addEntityPropertiesToEnum(\n            appSchema.definitions.MultiEdit['properties']['ignoredFields']['items']['enum'],\n            entityType\n        );\n\n        const pageKeys = [];\n        const v2Page = findListReportPageV2(generateParameters.manifest[ManifestSection.generic].pages, pageKeys);\n        if (!v2Page) {\n            log(generateParameters.logger, {\n                severity: LogSeverity.Error,\n                message: i18next.t('NOALP'),\n                location: {\n                    path: MANIFESTPATH,\n                    range: [ManifestSection.generic]\n                }\n            });\n            return appSchema;\n        }\n        addTableColumnExtensions(\n            appSchema,\n            entityType,\n            v2Page,\n            generateParameters.manifest,\n            generateParameters.fragments\n        );\n\n        const entitySet = generateParameters.serviceAVT?.entitySets?.find((es) => es.name === v2Page.entitySet);\n        addEnumForVariantPaths(entityType, entitySet, appSchema, generateParameters.serviceAVT);\n        addEnumForFilterBarAnnotationPath(entityType, appSchema, DefinitionName.ListReportFilterBar);\n        addEnumFieldGroupAnnotationPath(entityType, appSchema, DefinitionName.MultiEditV2);\n\n        //Delete generic definitions\n        delete appSchema.definitions.ResponsiveTableWithMultiSelect;\n        delete appSchema.definitions.ResponsiveTableWithInlineDelete;\n        delete appSchema.definitions.TreeTable;\n        delete appSchema.definitions.AnalyticalTable;\n        delete appSchema.definitions.GridTable;\n        delete appSchema.definitions.GenericColumns;\n        delete appSchema.definitions.TableColumnAction;\n        delete appSchema.definitions.ToolBar;\n        delete appSchema.definitions.Actions;\n        delete appSchema.definitions.GenericFooter;\n    }\n    return appSchema;\n}\n", "import { addLineItemsType, addSelectionFields, addTableColumnExtensions, removeElementsFromEnum } from './utils';\nimport { findAnalyticalListPage } from '../import';\nimport { addFieldsType, DEFINITION_LINK_PREFIX } from '../../common';\nimport i18next from 'i18next';\nimport { initI18n } from '../../../i18n/i18n';\nimport { log } from '../../../extensionLogger';\nimport {\n    v2,\n    ManifestSection,\n    LogSeverity,\n    METADATAPATH,\n    DefinitionName,\n    PropertyName\n} from '@sap/ux-specification-types';\nimport { addEnumForVariantPaths } from './listReport';\nimport type { Definition } from 'typescript-json-schema';\nimport type { GenerateAppSchemaParameters } from '@sap/ux-specification-types';\n\n/**\n * Generates an app specific schema out of the generic schema.\n * Generic types are replaced by information from the app specific annotations.\n * @param {GenerateAppSchemaParameters} generateParameters - list of API input parameters\n * @param genericSchema - generic JSON schema of a list report\n * @param entityTypeName - the base entity type of the given page\n */\nexport function generateAnalyticalListReportSchemaV2(\n    generateParameters: GenerateAppSchemaParameters,\n    genericSchema: object,\n    entityTypeName: string\n): object {\n    // Initialize i18next\n    initI18n();\n\n    const appSchema = JSON.parse(JSON.stringify(genericSchema)) as Definition;\n\n    (appSchema.properties[PropertyName.table] as Definition).anyOf[0]['$ref'] =\n        DEFINITION_LINK_PREFIX + 'ALPResponsiveTable<LineItems>';\n    const tableDefinitionResponsive = JSON.parse(\n        JSON.stringify(appSchema.definitions['ALPResponsiveTable'])\n    ) as Definition;\n    tableDefinitionResponsive.properties['columns']['$ref'] = `${DEFINITION_LINK_PREFIX}${DefinitionName.LineItems}`;\n    tableDefinitionResponsive.properties['toolBar']['$ref'] = `${DEFINITION_LINK_PREFIX}${DefinitionName.ToolBarLR}`;\n    appSchema.definitions['ALPResponsiveTable<LineItems>'] = tableDefinitionResponsive;\n\n    appSchema.properties[PropertyName.table]['anyOf'][1]['$ref'] = `${DEFINITION_LINK_PREFIX}ALPGridTable<LineItems>`;\n    const tableDefinitionGrid = JSON.parse(JSON.stringify(appSchema['definitions']['ALPGridTable'])) as Definition;\n    tableDefinitionGrid.properties['columns']['$ref'] = `${DEFINITION_LINK_PREFIX}${DefinitionName.LineItems}`;\n    tableDefinitionGrid.properties['toolBar']['$ref'] = `${DEFINITION_LINK_PREFIX}${DefinitionName.ToolBarLR}`;\n    appSchema.definitions['ALPGridTable<LineItems>'] = tableDefinitionGrid;\n\n    appSchema.properties[PropertyName.table]['anyOf'][2][\n        '$ref'\n    ] = `${DEFINITION_LINK_PREFIX}ALPAnalyticalTable<LineItems>`;\n    const tableDefinitionAnalytical = JSON.parse(\n        JSON.stringify(appSchema.definitions['ALPAnalyticalTable'])\n    ) as Definition;\n    tableDefinitionAnalytical.properties['columns']['$ref'] = `${DEFINITION_LINK_PREFIX}${DefinitionName.LineItems}`;\n    tableDefinitionAnalytical.properties['toolBar']['$ref'] = `${DEFINITION_LINK_PREFIX}${DefinitionName.ToolBarLR}`;\n    appSchema.definitions['ALPAnalyticalTable<LineItems>'] = tableDefinitionAnalytical;\n\n    // Remove Custom Column non existing extensions - TreeTableColumnsExtension does not exist in ALP\n    removeElementsFromEnum(appSchema['definitions']['TableColumnExtensionTypeV2']['enum'], [\n        v2.TableColumnExtensionTypeV2.TreeTableColumnsExtension\n    ]);\n\n    const entityType = generateParameters.serviceAVT?.entityTypes?.find((et) => et.name === entityTypeName);\n    if (!entityType) {\n        log(generateParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOENTITYTYPE', { entityType: entityTypeName }),\n            location: {\n                path: METADATAPATH\n            }\n        });\n    } else {\n        //handle line items\n        const lineItemAnnotation = entityType?.annotations?.UI?.LineItem;\n        addLineItemsType(appSchema, lineItemAnnotation, entityType);\n        //handle filter fields\n        const selectionFieldAnnotation = entityType?.annotations?.UI?.SelectionFields;\n        addSelectionFields(appSchema, selectionFieldAnnotation, entityType);\n\n        //add fields for createWithParameterDialog\n        addFieldsType(appSchema, entityType);\n\n        const pageKeys = [];\n        const v2Page = findAnalyticalListPage(\n            generateParameters.manifest[ManifestSection.generic].pages,\n            pageKeys,\n            generateParameters.logger\n        );\n        if (!v2Page) {\n            return appSchema;\n        }\n        addTableColumnExtensions(\n            appSchema,\n            entityType,\n            v2Page,\n            generateParameters.manifest,\n            generateParameters.fragments\n        );\n        const entitySet = generateParameters.serviceAVT?.entitySets?.find((es) => es.name === v2Page.entitySet);\n        addEnumForVariantPaths(entityType, entitySet, appSchema, generateParameters.serviceAVT);\n\n        // Delete generic definitions that have been replaced\n        delete appSchema.definitions['ALPGridTable'];\n        delete appSchema.definitions['ALPResponsiveTable'];\n        delete appSchema.definitions['ALPAnalyticalTable'];\n        delete appSchema.definitions['GenericColumns'];\n        delete appSchema.definitions['TableColumnAction'];\n        delete appSchema.definitions['ToolBar'];\n        delete appSchema.definitions['GenericFooter'];\n        delete appSchema.definitions['Actions'];\n    }\n\n    return appSchema;\n}\n", "import type { Manifest, SapUi5OdataModel } from '@sap/ux-specification-types';\nimport { DEFINITION_LINK_PREFIX } from '../../common';\n\n/**\n * Method returns array of card definition names.\n * @param genericSchema - Generic schema of Overview Page.\n *\n * @returns Array of definition names\n */\nexport function getCardDefinitionNames(genericSchema: object): Array<string> {\n    // Apply enum to all card properties\n    const properties = genericSchema['properties'];\n    const cardProperties =\n        (properties['cards'] &&\n            properties['cards']['additionalProperties'] &&\n            properties['cards']['additionalProperties']['anyOf']) ||\n        [];\n    return cardProperties.map((cardProperty: object) => {\n        // Resolve ref\n        const refParts = cardProperty['$ref'].split('/');\n        return refParts[refParts.length - 1];\n    });\n}\n\n/**\n * Defines and adds enum entries for 'model' property of Cards.\n * @param appSchema - the app specific schema that shall get enhanced\n * @param manifest - manifest.json of the app\n */\nexport function addModelsEnum(appSchema: object, manifest: Manifest): void {\n    const dataSources = (manifest && manifest['sap.app'] && manifest['sap.app'].dataSources) || {};\n    const serviceKeys = Object.keys(dataSources);\n    const models = (manifest && manifest['sap.ui5'] && manifest['sap.ui5'].models) || {};\n    let enumValues = [];\n    enumValues = enumValues.concat(\n        Object.keys(models).filter((model) => serviceKeys.includes((models[model] as SapUi5OdataModel).dataSource))\n    );\n\n    // Define enum\n    const definition = appSchema['definitions'];\n    definition['CardModel'] = {\n        enum: enumValues,\n        type: 'string'\n    };\n    // Apply enum to all card properties\n    const cards = getCardDefinitionNames(appSchema);\n    for (const card of cards) {\n        const property = definition[card]['properties']['model'];\n        delete property.type;\n        property['$ref'] = DEFINITION_LINK_PREFIX + 'CardModel';\n    }\n}\n\n/**\n * Generates an app specific schema out of the generic schema.\n * Generic types are replaced by information from the app manifest.\n *\n * @param genericSchema - generic JSON schema of an object page\n * @param manifest - manifest.json of the app\n *\n * @returns the app specific JSON schema\n */\nexport function generateOverviewPageSchemaV2(genericSchema: object, manifest: Manifest): object {\n    const appSchema = JSON.parse(JSON.stringify(genericSchema));\n    // schema validation for card name\n    appSchema['properties']['cards']['propertyNames'] = {\n        pattern: '^[a-zA-Z0-9_\\\\.\\\\-]+$'\n    };\n    // Enhance 'model' property with enum entries\n    addModelsEnum(appSchema, manifest);\n    return appSchema;\n}\n", "import { parseAndMergeAndConvert } from '../../common/utils';\nimport { generateObjectPageSchemaV2 } from './objectPage';\nimport { generateListReportSchemaV2 } from './listReport';\nimport { generateAnalyticalListReportSchemaV2 } from './analyticalListReport';\nimport { generateOverviewPageSchemaV2 } from './overviewPage';\nimport type { ExtensionLogger, GenerateAppSchemaParameters, FileData } from '@sap/ux-specification-types';\nimport { FioriElementsVersion, TemplateType } from '@sap/ux-specification-types';\n\n/**\n * Generates an app specific schema out of the generic schema.\n * Generic types are replaced by information from the app specific annotations.\n *\n * @param {object} genericSchema - generic JSON schema of an object page\n * @param {string} entitySet - the base entity type of the given page\n * @param {FileData[]} annotations - list of all annotation files (file content plus URI as identifier)\n * @param {object} manifest - manifest.json of the app\n * @param {FileData[]} [fragments] - Array with XML fragments.\n * @param {ExtensionLogger} logger - Logger class for logging messages\n *\n * @returns the app specific JSON schema\n */\nexport function generateObjectPageInterfaceV2(\n    genericSchema: object,\n    entitySet: string,\n    annotations: FileData[],\n    manifest: object,\n    fragments?: FileData[],\n    logger?: ExtensionLogger\n): object {\n    const serviceAVT = parseAndMergeAndConvert(annotations, logger);\n    const generateParameters: GenerateAppSchemaParameters = {\n        templateType: TemplateType.ListReportObjectPageV2,\n        fioriElementsVersion: FioriElementsVersion.v2,\n        manifest,\n        fragments,\n        serviceAVT,\n        logger\n    };\n    return generateObjectPageSchemaV2(generateParameters, genericSchema, entitySet);\n}\n\n/**\n * Generates the app specific schema of a list report out of the generic schema.\n * Generic types are replaced by information from the app specific annotations.\n *\n * @param genericSchema - generic JSON schema of a list report\n * @param entityType - the base entity type of the given page\n * @param annotations - list of all annotation files (file content plus URI as identifier)\n * @param manifest - manifest.json of the app\n * @param {FileData[]} fragments - list of fragment files and their content\n * @param {ExtensionLogger} logger - Logger class for logging messages\n *\n * @returns the app specific JSON schema\n */\nexport function generateListReportInterfaceV2(\n    genericSchema: object,\n    entityType: string,\n    annotations: FileData[],\n    manifest: object,\n    fragments?: FileData[],\n    logger?: ExtensionLogger\n): object {\n    const serviceAVT = parseAndMergeAndConvert(annotations, logger);\n    const generateParameters: GenerateAppSchemaParameters = {\n        templateType: TemplateType.ListReportObjectPageV2,\n        fioriElementsVersion: FioriElementsVersion.v2,\n        manifest,\n        fragments,\n        serviceAVT,\n        logger\n    };\n    return generateListReportSchemaV2(generateParameters, genericSchema, entityType);\n}\n\n/**\n * Generates the app specific schema of an overview page\n * @param genericSchema - file content of the generic schema\n * @param manifest - manifest.json of the app\n *\n * @returns the generic schema, as equivalent to the app schema\n */\nexport function generateOVPInterfaceV2(genericSchema: object, manifest: object): object {\n    return generateOverviewPageSchemaV2(genericSchema, manifest);\n}\n\n/**\n * Generates the app specific schema of an analytical list page out of the generic schema.\n * Generic types are replaced by information from the app specific annotations.\n *\n * @param genericSchema - generic JSON schema of a list report\n * @param entityType - the base entity type of the given page\n * @param annotations - list of all annotation files (file content plus URI as identifier)\n * @param manifest - manifest.json of the app\n * @param {FileData[]} fragments - list of fragment files and their content\n * @param {ExtensionLogger} logger - Logger class for logging messages\n * @param {string} appId - application ID\n *\n * @returns the app specific JSON schema\n */\nexport function generateAnalyticalListPageInterfaceV2(\n    genericSchema: object,\n    entityType: string,\n    annotations: FileData[],\n    manifest: object,\n    fragments?: FileData[],\n    logger?: ExtensionLogger\n): object {\n    const serviceAVT = parseAndMergeAndConvert(annotations, logger);\n    const generateParameters: GenerateAppSchemaParameters = {\n        templateType: TemplateType.AnalyticalListPageV2,\n        fioriElementsVersion: FioriElementsVersion.v2,\n        manifest,\n        fragments,\n        serviceAVT,\n        logger\n    };\n    return generateAnalyticalListReportSchemaV2(generateParameters, genericSchema, entityType);\n}\n", "import i18next from 'i18next';\nimport _unset from 'lodash.unset';\nimport Ajv from 'ajv';\nimport type {\n    UI5Version,\n    ExportParametersV2,\n    ExportAnalyticalListPageV2Parameters,\n    ExportListReportV2Parameters,\n    ExportObjectPageV2Parameters,\n    ExportOverviewPageV2Parameters\n} from '../../..';\nimport type { ExportResults, FileData, FioriElementsVersion } from '@sap/ux-specification-types';\nimport {\n    v2,\n    PageType,\n    SchemaType,\n    SAPUI5_FRAGMENT_CLASS,\n    MANIFESTPATH,\n    ManifestSection,\n    LogSeverity\n} from '@sap/ux-specification-types';\nimport type { ObjectPage } from './pages';\nimport { getPageLayoutInformation, getReflectMetadata } from '../../common';\nimport { ApplicationV2, AppSettings } from '../application';\nimport { ensureManifestSectionByPathV2, transformPageToNewManifestV2 } from './manifest';\nimport { findListReportPageV2, findAnalyticalListPage, findObjectPageV2 } from '../import';\nimport { MetadataInstanceFactoryV2 as Factory } from './factory';\nimport { transferManifestEntriesAndFlexChange, transferManifestEntriesOVP } from './export';\nimport type { MetadataInstanceInterface } from '../../common/decoration/factory';\nimport type { TransferParameterTypeV2 } from '../types';\nimport { log } from '../../../extensionLogger';\n\n/**\n * Returns a fresh export results object with default values\n */\nconst getDefaultExportResult = (fragmentFiles?: FileData[]): ExportResults => ({\n    flexChanges: [],\n    manifest: {\n        [ManifestSection.generic]: { pages: {} }\n    },\n    fragments: fragmentFiles ? fragmentFiles : []\n});\n\n/**\n * Instantiates the export classes for a single object page section\n * @param currentSection - Export class as an object, to be updated\n * @param sectionId - Current section ID\n * @param {MetadataInstanceInterface} factory - factory for creating metadata instances\n */\nfunction getClassesForSingleSection(\n    currentSection: object,\n    sectionId: string,\n    factory: MetadataInstanceInterface\n): void {\n    if (currentSection && sectionId === 'custom') {\n        // Custom sections\n        for (const index in currentSection) {\n            if (currentSection[index].className === SAPUI5_FRAGMENT_CLASS) {\n                currentSection[index] = factory.createInstance(\n                    PageType.ObjectPage,\n                    'ObjectPageCustomSectionFragment',\n                    currentSection[index]\n                );\n            } else {\n                currentSection[index] = factory.createInstance(\n                    PageType.ObjectPage,\n                    'ObjectPageCustomSectionView',\n                    currentSection[index]\n                );\n            }\n        }\n    }\n}\n\n/**\n * Recursive sub-function for handling subsections\n * @param currentSection - Object page section in config\n */\nfunction getSubsectionClasses(currentSection: object, factory: MetadataInstanceInterface): void {\n    if (currentSection?.['subsections']) {\n        let subSection: object;\n\n        for (const subSectionId in currentSection['subsections']) {\n            subSection = currentSection['subsections'][subSectionId];\n            getClassesForSingleSection(subSection, subSectionId, factory);\n            getSubsectionClasses(subSection, factory);\n        }\n    }\n}\n\n/**\n * Instantiates the export classes for the object page section\n * @param objectPageConfig - the given object page configuration\n * @param objectPage - the overall object page export class where the sections shall be included\n * @param {MetadataInstanceInterface} factory - factory for creating metadata instances\n */\nfunction getExportClassesForSections(\n    objectPageConfig: v2.ObjectPageConfigV2,\n    objectPage: ObjectPage,\n    factory: MetadataInstanceInterface\n): void {\n    // Main function\n    let section: object;\n\n    for (const sectionId in objectPageConfig.sections) {\n        section = objectPage.sections[sectionId];\n        getClassesForSingleSection(section, sectionId, factory);\n        getSubsectionClasses(section, factory);\n    }\n}\n\n/**\n * Run through the given ListReport config and return respective manifest entry and flex changes\n * @param {ExportListReportV2Parameters} exportParameters - all API parameters needed for the export\n * @param ui5Version - SAP UI5 version\n *\n * @returns ExportResults - The export result comprises the enhanced manifest as well as a list of flex changes.\n */\nfunction exportListReportPage(exportParameters: ExportListReportV2Parameters, ui5Version: UI5Version): ExportResults {\n    const listReportConfig = exportParameters.page.config as v2.ListReportConfigV2;\n    const entitySet = exportParameters.page.entitySet;\n    const exportResults: ExportResults = getDefaultExportResult(exportParameters.fragments);\n    const factory = new Factory();\n    const listReport = factory.createPageInstance(PageType.ListReport, listReportConfig);\n    const pageLayoutInformation = getPageLayoutInformation(listReport);\n    const baseId = `${exportParameters.appId}::${pageLayoutInformation.id}::${entitySet}--`;\n    const pageKeys: string[] = [];\n    const v2Page = findListReportPageV2(exportParameters.manifest[ManifestSection.generic].pages, pageKeys);\n    if (!v2Page) {\n        log(exportParameters.logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOLR'),\n            location: {\n                path: MANIFESTPATH,\n                range: [ManifestSection.generic]\n            }\n        });\n        return;\n    }\n    if (!v2Page.component.settings) {\n        v2Page.component.settings = {};\n    }\n    exportResults.manifest = JSON.parse(JSON.stringify(exportParameters.manifest));\n\n    if (listReportConfig && Object.keys(listReportConfig).length !== 0) {\n        const transferParameters: TransferParameterTypeV2 = {\n            v2Page,\n            exportResults,\n            appId: exportParameters.appId,\n            baseId,\n            appSchema: exportParameters.jsonSchema,\n            ui5Version,\n            factory,\n            pageKeys,\n            pageType: PageType.ListReport,\n            logger: exportParameters.logger\n        };\n\n        transferManifestEntriesAndFlexChange(\n            transferParameters,\n            listReport,\n            [],\n            [],\n            exportParameters.jsonSchema //starting point for target definition\n        );\n    }\n\n    return exportResults;\n}\n\n/**\n * Run through the given AnalyticalListPage config and return respective manifest entry and flex changes\n * @param {ExportAnalyticalListPageV2Parameters} exportParameters - all API parameters needed for the export\n * @param ui5Version - SAP UI5 version\n *\n * @returns ExportResults - The export result comprises the enhanced manifest as well as a list of flex changes.\n */\nfunction exportAnalyticalListPage(\n    exportParameters: ExportAnalyticalListPageV2Parameters,\n    ui5Version: UI5Version\n): ExportResults {\n    const analyticalListPageConfig = exportParameters.page.config;\n    const entitySet = exportParameters.page.entitySet;\n    const exportResults: ExportResults = getDefaultExportResult(exportParameters.fragments);\n    exportResults.flexChanges = [];\n    exportResults.manifest = JSON.parse(JSON.stringify(exportParameters.manifest));\n    const factory = new Factory();\n    //Instantiate Page\n    const analyticalListPage = factory.createPageInstance(PageType.AnalyticalListPage, analyticalListPageConfig);\n\n    //Instantiate base ID\n    const pageLayoutInformation = getPageLayoutInformation(analyticalListPage);\n    const baseId = `${exportParameters.appId}::${pageLayoutInformation.id}::${entitySet}--`;\n    const pageKeys: string[] = [];\n\n    const v2Page = findAnalyticalListPage(\n        exportParameters.manifest[ManifestSection.generic].pages,\n        pageKeys,\n        exportParameters.logger\n    );\n    if (!v2Page) {\n        return;\n    }\n    if (!v2Page.component.settings) {\n        v2Page.component.settings = {};\n    }\n    exportResults.manifest = JSON.parse(JSON.stringify(exportParameters.manifest));\n\n    if (analyticalListPageConfig && Object.keys(analyticalListPageConfig).length !== 0) {\n        const transferParameters: TransferParameterTypeV2 = {\n            v2Page,\n            exportResults,\n            appId: exportParameters.appId,\n            baseId,\n            appSchema: exportParameters.jsonSchema,\n            ui5Version,\n            factory,\n            pageKeys,\n            pageType: PageType.AnalyticalListPage,\n            logger: exportParameters.logger\n        };\n\n        transferManifestEntriesAndFlexChange(\n            transferParameters,\n            analyticalListPage,\n            [],\n            [],\n            exportParameters.jsonSchema //starting point for target definition\n        );\n    }\n\n    return exportResults;\n}\n\n/**\n * Run through the given ObjectPage config and return respective manifest entry and flex changes\n * @param {ExportObjectPageV2Parameters} exportParameters - all API parameters needed for the export\n * @param ui5Version - SAP UI5 version\n *\n * @returns ExportResults - The export result comprises the enhanced manifest as well as a list of flex changes.\n */\nfunction exportObjectPage(exportParameters: ExportObjectPageV2Parameters, ui5Version: UI5Version): ExportResults {\n    const objectPageConfig = exportParameters.page.config as v2.ObjectPageConfigV2;\n    const entitySet = exportParameters.page.entitySet;\n    const exportResults: ExportResults = getDefaultExportResult(exportParameters.fragments);\n    const factory = new Factory();\n    const objectPage = factory.createPageInstance(PageType.ObjectPage, objectPageConfig);\n    exportResults.manifest = JSON.parse(JSON.stringify(exportParameters.manifest));\n    if (objectPageConfig) {\n        const pageLayoutInformation = getPageLayoutInformation(objectPage);\n        const baseId = `${exportParameters.appId}::${pageLayoutInformation.id}::${entitySet}--`;\n\n        const pageKeys: string[] = [];\n        const v2Page: v2.SapUiAppPageV2 = findObjectPageV2(\n            exportParameters.manifest[ManifestSection.generic].pages,\n            entitySet,\n            pageKeys\n        );\n        if (!v2Page) {\n            return exportResults;\n        }\n        if (objectPageConfig.sections) {\n            getExportClassesForSections(objectPageConfig, objectPage, factory);\n        }\n        if (Object.keys(objectPageConfig).length !== 0) {\n            const transferParameters: TransferParameterTypeV2 = {\n                v2Page,\n                exportResults,\n                appId: exportParameters.appId,\n                baseId,\n                appSchema: exportParameters.jsonSchema,\n                ui5Version,\n                factory,\n                pageKeys,\n                pageType: PageType.ObjectPage,\n                logger: exportParameters.logger\n            };\n\n            transferManifestEntriesAndFlexChange(\n                transferParameters,\n                objectPage,\n                [],\n                [],\n                exportParameters.jsonSchema //starting point for target definition\n            );\n        }\n    }\n    return exportResults;\n}\n/**\n * Run through the given ObjectPage config and return respective manifest entry and flex changes\n * @param {ExportOverviewPageV2Parameters} exportParameters - all API parameters needed for the export\n *\n * @returns ExportResults - The export result comprises the enhanced manifest as well as a list of flex changes.\n */\nconst exportOverviewPage = (exportParameters: ExportOverviewPageV2Parameters): ExportResults => {\n    const exportResults: ExportResults = getDefaultExportResult();\n    exportResults.manifest = JSON.parse(JSON.stringify(exportParameters.manifest));\n    const factory = new Factory();\n    const overviewPage = factory.createPageInstance(PageType.OverviewPage, exportParameters.page.config);\n\n    const ajv = new Ajv({ allErrors: true });\n    const validate = ajv.compile(exportParameters.jsonSchema);\n\n    if (!validate(overviewPage)) {\n        for (const err of validate.errors) {\n            const additionalProperty = err.params['additionalProperty'];\n            if (\n                err.keyword === 'additionalProperties' &&\n                !Object.values(v2.CardSettingsType).includes(err.params['additionalProperty']) &&\n                additionalProperty !== 'settings'\n            ) {\n                _unset(overviewPage, `${err.dataPath.slice(1)}.${additionalProperty}`);\n            }\n        }\n    }\n    if (exportParameters.page.config && Object.keys(exportParameters.page.config).length !== 0) {\n        transferManifestEntriesOVP(\n            overviewPage,\n            exportResults,\n            exportParameters.jsonSchema,\n            exportParameters.jsonSchema,\n            factory,\n            []\n        );\n    }\n\n    return exportResults;\n};\n\n/**\n * Exports a Fiori Element V2 application.\n * It converts the entries of the input application (config file) to corresponding manifest settings and flex changes\n * @param application - content of the config file of an application\n * @param manifest - app descriptor (manifest.json)\n * @param jsonSchema - application specific schema\n * @returns ExportResults - The export result comprises the enhanced manifest as well as a list of flex changes.\n */\nconst exportApplicationV2 = (application: ApplicationV2, manifest: object, jsonSchema: object): ExportResults => {\n    const exportResults: ExportResults = getDefaultExportResult();\n    exportResults.manifest = JSON.parse(JSON.stringify(manifest));\n\n    //transfer application settings\n    const applicationV2 = Object.assign(new ApplicationV2(), application);\n    applicationV2.settings = Object.assign(new AppSettings(), application['settings']);\n    for (const key in jsonSchema['definitions']['AppSettings']['properties']) {\n        const syncRule = getReflectMetadata(applicationV2.settings, key);\n        if (syncRule && syncRule.manifest) {\n            const path = syncRule.manifest.path();\n            const manifestSection = ensureManifestSectionByPathV2(exportResults.manifest, path);\n            if (application['settings'] && application['settings'][key] !== undefined) {\n                manifestSection[key] = application['settings'][key];\n            } else {\n                delete manifestSection[key];\n            }\n        }\n    }\n    // transfer pages and routings\n    const manifestPages = exportResults.manifest[ManifestSection.generic]?.pages;\n    if (manifestPages && application['pages']) {\n        transformPageToNewManifestV2(application.home, application['pages'], Object.values(manifestPages)[0] as object);\n    }\n    return exportResults;\n};\n\n/**\n * Exports a Fiori Element V2 page.\n * It converts the entries of the input page (config file) to corresponding manifest settings and flex changes\n * @param exportParametersV2 - list of parameters for the export; the list varies for the different scgema types\n *\n * @returns ExportResults - The export result comprises the enhanced manifest as well as a list of flex changes.\n */\nexport function exportPageV2(\n    exportParametersV2: ExportParametersV2[FioriElementsVersion.v2],\n    ui5Version: UI5Version\n): ExportResults | undefined {\n    if (exportParametersV2[SchemaType.ListReport]) {\n        return exportListReportPage(exportParametersV2[SchemaType.ListReport], ui5Version);\n    } else if (exportParametersV2[SchemaType.ObjectPage]) {\n        return exportObjectPage(exportParametersV2[SchemaType.ObjectPage], ui5Version);\n    } else if (exportParametersV2[SchemaType.OverviewPage]) {\n        return exportOverviewPage(exportParametersV2[SchemaType.OverviewPage]);\n    } else if (exportParametersV2[SchemaType.Application]) {\n        const { application, manifest, jsonSchema } = exportParametersV2[SchemaType.Application];\n        return exportApplicationV2(application, manifest, jsonSchema);\n    } else if (exportParametersV2[SchemaType.AnalyticalListPage]) {\n        return exportAnalyticalListPage(exportParametersV2[SchemaType.AnalyticalListPage], ui5Version);\n    }\n}\n", "import type { TransferParameterTypeV4 } from './types';\nimport { generateCustomExtension } from '../../../api';\nimport type { GenerateCustomExtensionParams, ExtensionLogger } from '@sap/ux-specification-types';\nimport { CustomExtensionType, PropertyName, LogSeverity } from '@sap/ux-specification-types';\nimport type * as fpmWriter from '@sap-ux/fe-fpm-writer';\nimport { UIAnnotationTerms } from '@sap-ux/vocabularies-types/vocabularies/UI';\nimport i18next from 'i18next';\nimport { log } from '../../../extensionLogger';\nimport { extractLastIdPart } from './utils';\n\n/**\n * Function creates a new custom column with aid of the FPM writer\n * @param propertyDefinition - Definition of the given property in JSON schema\n * @param breadcrumbs - array of sequence of properties that we are currently processing.\n * @param {TransferParameterTypeV4} transferParameters - list of parameters passed from API\n * @param configObject - current object in the configuration\n * @returns {boolean} - true if a new column was created\n */\nexport function createNewCustomColumn(\n    propertyKey: string,\n    transferParameters: TransferParameterTypeV4,\n    configObject: { [key: string]: any },\n    logger: ExtensionLogger,\n    breadcrumbs: string[]\n): boolean {\n    if (!configObject) {\n        return false;\n    }\n    if (!transferParameters.appRootPath) {\n        log(logger, {\n            severity: LogSeverity.Error,\n            message: i18next.t('NOBASEPATH', { appId: transferParameters.appId })\n        });\n        return false;\n    }\n    if (configObject.template && configObject.template.indexOf(propertyKey) === -1) {\n        //Existing fragment which does not fit to FPM writer syntax\n        return false;\n    }\n    const sectionsIndex = breadcrumbs.lastIndexOf(PropertyName.sections);\n    const sectionId = sectionsIndex > -1 ? extractLastIdPart(breadcrumbs[sectionsIndex + 1]) : undefined;\n    const entityInManifest = sectionId ? sectionId.replace(/::/g, '/') : `@${UIAnnotationTerms.LineItem}`;\n    const handler = configObject.eventHandler === true ? true : undefined;\n\n    const data: fpmWriter.CustomTableColumn = {\n        target: transferParameters.pageNameArray[0],\n        targetEntity: entityInManifest,\n        position: configObject.position,\n        name: propertyKey,\n        ...(configObject.header && { header: configObject.header }),\n        ...(configObject.width && { width: configObject.width }),\n        ...(configObject.availability && { availability: configObject.availability }),\n        ...(handler && { eventHandler: handler })\n    };\n    const columnApiParams: GenerateCustomExtensionParams = {\n        customExtension: CustomExtensionType.CustomColumn,\n        basePath: transferParameters.appRootPath,\n        data\n    };\n    generateCustomExtension(columnApiParams);\n    return true;\n}\n", "import type { v4 } from '@sap/ux-specification-types';\n\n/**\n * Method updates passed dependency lib in passed manifest.\n * @param {SapUi5V4} manifest - Manifest \"sap.ui5\" object.\n * @param {string} name - Library name to check.\n * @param {boolean} [add=true] - Add or remove library.\n */\nexport function updateDependencyLib(manifest: v4.SapUi5V4, name: string, add = true): void {\n    if (add) {\n        if (!manifest.dependencies) {\n            manifest.dependencies = {};\n        }\n        if (!manifest.dependencies.libs) {\n            manifest.dependencies.libs = {};\n        }\n        if (manifest.dependencies.libs[name] === undefined) {\n            manifest.dependencies.libs[name] = {};\n        }\n    } else if (manifest.dependencies && manifest.dependencies.libs && manifest.dependencies.libs[name] !== undefined) {\n        delete manifest.dependencies.libs[name];\n    }\n}\n\n/**\n * Looks for <...> pattern in the input string; if found, extracts this last part of the string\n * @param longId - schema ID in its long format\n * @returns the converted ID\n */\nexport function extractLastIdPart(longId: string): string {\n    let lastIdPart = longId;\n    if (longId.indexOf('<') > -1) {\n        lastIdPart = longId.substring(longId.indexOf('<') + 1, longId.length - 1);\n        const navPart = longId.substring(0, longId.lastIndexOf('::')).replace(/::/g, '/');\n        if (navPart) {\n            lastIdPart = `${navPart}/${lastIdPart}`;\n        }\n    }\n    return lastIdPart;\n}\n", "import type { SapUi5RoutingRoute, SapUi5RoutingTarget, SapUi5RoutingTargetSettings } from '@sap/ux-specification-types';\nimport { v4, ManifestSection, PageTypeV4 } from '@sap/ux-specification-types';\n\nexport enum Constants {\n    OptionalQuery = ':?query:',\n    Component = 'sap/fe/AppComponent',\n    Namespace = 'sap.fe.templates'\n}\n\n/**\n * Transform Pages(from app.json) to UI5 routing configuration(manifest.json)\n * @param routing UI5 routing configuration\n */\nconst createRoute = (pattern: string, name: string, target: string): SapUi5RoutingRoute => {\n    return {\n        pattern,\n        name,\n        target\n    };\n};\n\n/**\n * Method returns SapUi5RoutingTargetBase.options object.\n * @param {string} [entitySet] - Entity set.\n * @param {string} [variantManagement] - Variant management string.\n * @return {{settings: SapUi5RoutingTargetSettings}} Returns object for SapUi5RoutingTargetBase.options.\n */\nconst createTargetOption = (\n    entitySet?: string,\n    variantManagement?: string\n): {\n    settings: SapUi5RoutingTargetSettings;\n} => {\n    return {\n        settings: {\n            ...(entitySet && { entitySet }),\n            ...(variantManagement && { variantManagement }),\n            navigation: {}\n        }\n    };\n};\n\nfunction initializeRouting(manifestRouting: v4.SapUi5RoutingV4): v4.SapUi5RoutingV4 {\n    let routing: v4.SapUi5RoutingV4 = manifestRouting;\n    if (!routing) {\n        routing = {\n            routes: [],\n            targets: {}\n        };\n    } else {\n        if (!routing.routes) {\n            routing.routes = [];\n        }\n        if (!routing.targets) {\n            routing.targets = {};\n        }\n    }\n    return routing;\n}\n\nfunction setTargetOptions(target: v4.RoutingTargetOptions, keyInManifest: string, navigationEntry: object) {\n    if (!target.options.settings.navigation) {\n        target.options.settings.navigation = {};\n    }\n    target.options.settings.navigation[keyInManifest] = {\n        detail: navigationEntry\n    };\n}\n\n/**\n * Calculates the query pattern for new target entries of the manifest\n * @param parts - array of strings, each entry represents one navigation\n * @param pages - list of all pages\n * @returns the query pattern for the new target\n */\nfunction calculateQueryPattern(parts: string[], pages: v4.Pages): string {\n    let pattern = '';\n    parts.forEach((part, index) => {\n        const targetPage = pages[part];\n        let key = '';\n        if (targetPage?.pageType !== PageTypeV4.ListReport) {\n            // Keys should be like - 'key', 'key2', 'key3'\n            key = `({key${index ? index + 1 : ''}})`;\n        }\n        const partToInsert = targetPage?.entitySet ? targetPage.entitySet : part;\n        pattern += `${pattern ? '/' : ''}${partToInsert}${key}`;\n    });\n    return `${pattern}${Constants.OptionalQuery}`;\n}\n\n/**\n * Recursive function to determine all parts to combine the query pattern, by traversing the routing navigation links\n * @param parts - list of query parts, to be enhanced per call\n * @param navKey - the key of the given routing navigation entry\n * @param pages - list of all pages\n * @param pageId - key of the current page\n */\nfunction getAllNavigationParts(parts: string[], navKey: string, pages: v4.Pages, pageId: string): void {\n    parts.push(navKey);\n    let referringPage;\n    for (const key in pages) {\n        if (typeof pages[key].navigation === 'object') {\n            const pageKey = Object.keys(pages[key].navigation).find(\n                (index) => pages[key].navigation[index]['route'] === pageId\n            );\n            if (pageKey) {\n                navKey = pageKey;\n                referringPage = pages[key];\n            }\n        }\n        if (referringPage) {\n            getAllNavigationParts(parts, navKey, pages, key);\n            break;\n        }\n    }\n}\n\n/**\n * Updates the route navigation entries of a page\n * @param page - the current page\n * @param pages - all pages in manifest\n * @param target - the given routing target\n * @param routing - the current routing\n * @param pageId - key of the page in manifest\n */\nfunction handlePageNavigation(\n    page: v4.PageV4,\n    pages: v4.Pages,\n    target: v4.RoutingTargetOptions,\n    routing: v4.SapUi5RoutingV4,\n    pageId: string\n) {\n    if (page.navigation) {\n        for (const keyInManifest in page.navigation) {\n            const navigationEntry = page.navigation[keyInManifest];\n            setTargetOptions(target, keyInManifest, navigationEntry as object);\n            if (navigationEntry?.['route']) {\n                if (!routing.routes.some((routingRoute) => routingRoute.name === navigationEntry['route'])) {\n                    const parts: string[] = [];\n                    getAllNavigationParts(parts, keyInManifest, pages, pageId);\n                    const partsInRightOrder = [...parts].reverse();\n                    const pattern = calculateQueryPattern(partsInRightOrder, pages);\n                    // Make sure there no route duplication\n                    routing.routes.push(createRoute(pattern, navigationEntry['route'], navigationEntry['route']));\n                }\n            }\n        }\n    }\n}\n\nfunction removeDeletedPages(routing: v4.SapUi5RoutingV4, pages: v4.Pages) {\n    for (const id in routing.targets) {\n        if (!pages || !pages[id]) {\n            // Remove target\n            delete routing.targets[id];\n            // Remove routes\n            const index = routing.routes.findIndex((route) => route.name === id);\n            if (index !== -1) {\n                routing.routes.splice(index, 1);\n            }\n        }\n    }\n}\n\nfunction transferEntitySet(page: v4.Page, target: v4.RoutingTargetOptions) {\n    if (page.entitySet) {\n        if (!target.options) {\n            target.options = createTargetOption(page.entitySet, page.variantManagement);\n        }\n        target.options.settings.entitySet = page.entitySet;\n    } else {\n        delete target.options?.settings?.entitySet;\n    }\n}\n\n/**\n * Method detects removed custom sections and deletes removed custom sections from manifest.\n * @param page current page\n * @param target routing target to be filled\n */\nfunction deleteRemovedCustomSections(page: v4.Page, target: v4.RoutingTargetOptions): void {\n    // Delete removed custom sections\n    const manifestSections = target?.options?.settings?.content?.body?.sections;\n    if (page.pageType === PageTypeV4.ObjectPage && manifestSections && typeof manifestSections === 'object') {\n        const objectPage = page.config as v4.ObjectPageConfigV4;\n        const customSections = Array.isArray(objectPage?.sections?.custom) ? objectPage.sections.custom : [];\n        const latestIds = customSections.map((section: v4.ObjectPageCustomSectionFragment) => section.id);\n        const existingIds = Object.keys(manifestSections);\n        for (const id of existingIds) {\n            if (!latestIds.includes(id)) {\n                // Delete removed custom section\n                delete manifestSections[id];\n            }\n        }\n    }\n}\n\nfunction updateRoute(routing: v4.SapUi5RoutingV4, id: string, page: v4.Page) {\n    const route = routing.routes.find((routingRoute) => routingRoute.name === id);\n    if (route) {\n        if (page.defaultLayoutType) {\n            route.layout = page.defaultLayoutType;\n        } else {\n            delete route.layout;\n        }\n    }\n}\n\n/**\n * Fills target with page information\n * @param page current page\n * @param target routing target to be filled\n * @param id page id\n * @param pages all pages of app.json\n * @returns filled target\n */\nfunction fillTarget(\n    page: v4.Page,\n    target: v4.RoutingTargetOptions,\n    id: string,\n    pages: v4.Pages\n): v4.RoutingTargetOptions {\n    if (page.pageType && ![PageTypeV4.CustomPage, PageTypeV4.FPMCustomPage].includes(page.pageType)) {\n        target = {\n            ...target,\n            ...({\n                type: 'Component',\n                id: target?.['id'] || id,\n                name: `${Constants.Namespace}.${pages[id].pageType}`\n            } as SapUi5RoutingTarget)\n        };\n    } else if (\n        page.view &&\n        !!target &&\n        ((target as v4.SapUi5RoutingTargetCustomPageV4).viewName ||\n            (target as v4.SapUi5RoutingTargetCustomPageV4).viewId)\n    ) {\n        // Existing old syntax for Custom Page\n        target = {\n            ...target,\n            ...({\n                viewId: page.view.id,\n                viewName: page.view.name,\n                path: page.view.path,\n                viewType: page.view.viewType\n            } as v4.SapUi5RoutingTargetCustomPageV4)\n        };\n    } else if (page.view) {\n        target = {\n            ...target,\n            ...({\n                type: 'Component',\n                id: page.view.id,\n                name: page.view.template || v4.FE_TEMPLATE_V4_CUSTOM_PAGE,\n                viewType: page.view.viewType,\n                options: {\n                    settings: {\n                        viewName: page.view.name\n                    }\n                }\n            } as v4.SapUi5RoutingTargetCustomPageV4New)\n        };\n    }\n    return target;\n}\n\n/**\n * Transform Pages(from app.json) to UI5 routing configuration (manifest.json)\n * @param routing UI5 routing configuration\n */\nexport function transformRoutingV4(homePage: string, pages: v4.Pages, manifest: object): v4.SapUi5RoutingV4 {\n    const routing = initializeRouting(manifest[ManifestSection.ui5].routing as v4.SapUi5RoutingV4);\n\n    // add default route\n    if (homePage && !routing.routes.some((route) => route.name === homePage)) {\n        // Make sure there no route duplication\n        routing.routes.push(createRoute(Constants.OptionalQuery, homePage, homePage));\n    }\n    for (const id in pages) {\n        let target: v4.RoutingTargetOptions;\n        const page = pages[id];\n        if (routing.targets[id]) {\n            target = routing.targets[id];\n        }\n        target = fillTarget(page, target, id, pages);\n        transferEntitySet(page, target);\n        deleteRemovedCustomSections(page, target);\n        if (target && !page.controlAggregation) {\n            delete target.contextPattern;\n            delete target.controlAggregation;\n        }\n        if (target?.options?.settings?.navigation) {\n            // We handle page 'navigation' from scratch - clear 'navigation' before handling\n            target.options.settings.navigation = {};\n        }\n        // Handle page 'navigation'\n        handlePageNavigation(page, pages, target, routing, id);\n        // Update associated route with layout information\n        updateRoute(routing, id, page);\n\n        routing.targets[id] = target;\n    }\n    // Remove deleted pages\n    removeDeletedPages(routing, pages);\n    return routing;\n}\n", "import type { SapUi5RootView } from '@sap/ux-specification-types';\nimport {\n    v4,\n    FIORI_FCL_ROOT_ID,\n    FIORI_FCL_ROOT_VIEW_NAME,\n    ViewTypes,\n    FlexibleColumnLayoutAggregations\n} from '@sap/ux-specification-types';\nimport type { ApplicationV4 } from '../application';\nimport { Constants as V4Constants } from './manifest';\nimport { updateDependencyLib } from './utils';\n\n// Aggregations mapping for target levels\n// 0 - BeginColumnPages, 1 - MidColumnPages, 2 - EndColumnPages\nconst fclAggregations = [\n    FlexibleColumnLayoutAggregations.BeginColumnPages,\n    FlexibleColumnLayoutAggregations.MidColumnPages,\n    FlexibleColumnLayoutAggregations.EndColumnPages\n];\n\n/**\n * Recursive method which updates manifest routing to enable FCL support.\n * Method contains some parts like setting 'ThreeColumnsEndExpanded' to 2st->3rd page navigation - it was requested for demo purposes.\n * @param {SapUi5} manifestUI5 - SAPUI5 manifest data.\n * @param {Application} app - Project application.\n * @param {string} pageName - Page name which should be used to apply FCL.\n * @param {Array<string>} targetPages - Current array of target pages to join in.\n * For example to display two column FCL we have - ['1stLevelPage', '2ndLevelPage']\n * @param {number} level - Current navigation level.\n */\nconst applyFCLRouting = (\n    manifestUI5: v4.SapUi5V4,\n    app: ApplicationV4,\n    pageName: string,\n    targetPages: Array<string> = [],\n    level = 0\n): void => {\n    const routeOfPage = manifestUI5.routing.routes.find((route) => {\n        return route.name === pageName;\n    });\n    if (!routeOfPage) {\n        return;\n    }\n    // Update route\n    if (typeof routeOfPage.target === 'string') {\n        // 1-3 level navigation is placed like [`1st Page`, `2nd Page`, `3rd Page`]\n        // 4+ level navigation is placed as fullscreen - [`4th+n Page`]\n        routeOfPage.target = level <= 2 ? [...targetPages, routeOfPage.target] : [routeOfPage.target];\n    }\n    // Update target\n    const target = manifestUI5.routing.targets[pageName];\n    const page = app.pages?.[pageName];\n    if (!page) {\n        return;\n    }\n    if ('controlAggregation' in page) {\n        target.controlAggregation = page.controlAggregation;\n    } else if (fclAggregations[level]) {\n        target.controlAggregation = fclAggregations[level];\n    } else {\n        target.controlAggregation = FlexibleColumnLayoutAggregations.EndColumnPages;\n    }\n    const pattern = routeOfPage.pattern.replace(V4Constants.OptionalQuery, '');\n    if (pattern) {\n        target.contextPattern = pattern.startsWith('/') ? pattern : `/${pattern}`;\n    } else {\n        target.contextPattern = '';\n    }\n    // Loop further pages\n    if (page.navigation) {\n        level++;\n        for (const pageId in page.navigation) {\n            applyFCLRouting(manifestUI5, app, page.navigation[pageId]['route'], routeOfPage.target, level);\n        }\n    }\n};\n\n/**\n * Method enables FCL support by updating Manifest.\n * @param {SapUi5} manifestUI5 - SAPUI5 manifest data.\n * @param {Application} app - Project application.\n */\nconst enableFcl = (manifestUI5: v4.SapUi5V4, app: ApplicationV4): void => {\n    // Apply config with router class\n    manifestUI5.routing.config.routerClass = v4.FIORI_FCL_ROUTER_CLASS;\n    // Make changes in\n    applyFCLRouting(manifestUI5, app, app.home);\n    // Update 'rootView'\n    const rootView: SapUi5RootView = {\n        viewName: FIORI_FCL_ROOT_VIEW_NAME,\n        type: ViewTypes.XML,\n        async: true,\n        id: FIORI_FCL_ROOT_ID\n    };\n    manifestUI5.rootView = manifestUI5.rootView ? { ...manifestUI5.rootView, ...rootView } : rootView;\n    // Added in scope of #523. Starting from SAPUI5 1.83+ - we need make sure that dependency to `sap.f` library is added to manifest.\n    updateDependencyLib(manifestUI5, v4.SAPUI5_DEPENDENCY_LIB_SAP_F);\n};\n\n/**\n * Method disables FCL support by updating Manifest.\n * @param {SapUi5} manifestUI5 - SAPUI5 manifest data.\n */\nconst disableFcl = (sapui5: v4.SapUi5V4): void => {\n    if (sapui5.rootView && sapui5.rootView.viewName === FIORI_FCL_ROOT_VIEW_NAME) {\n        // FCL is disabled and rootview name is equal to FCL ROOT VIEW, then remove rootview\n        delete sapui5.rootView;\n    }\n    if (sapui5.routing) {\n        if (sapui5.routing.config && sapui5.routing.config.routerClass === v4.FIORI_FCL_ROUTER_CLASS) {\n            // Remove routing class\n            delete sapui5.routing.config.routerClass;\n        }\n        const routes = sapui5.routing.routes || [];\n        for (const route of routes) {\n            if (route.target && Array.isArray(route.target)) {\n                // In 'applyFCLRouting' we set property 'target' as Array\n                // When FCL is disabled, property 'target' should not be an array anymore - resetting back.\n                route.target = route.name;\n            }\n        }\n    }\n};\n\n/**\n * Method updates Manifest depending on is FCL ON or OFF.\n * @param {SapUi5} manifestUI5 - SAPUI5 manifest data.\n * @param {Application} app - Project application.\n */\nexport const updateFcl = (manifestUI5: v4.SapUi5V4, app: ApplicationV4): void => {\n    if (app.settings && app.settings.flexibleColumnLayout) {\n        enableFcl(manifestUI5, app);\n    } else {\n        disableFcl(manifestUI5);\n    }\n};\n", "import type { ObjectPage } from './pages';\nimport type { ObjectPageCustomSectionFragment } from './controls';\nimport { createNewCustomColumn } from './exportCustomColumn';\nimport type { NextDefinition } from '../../common';\nimport {\n    getReflectMetadata,\n    getChildId,\n    getPageLayoutInformation,\n    getManifestSectionByPathV4,\n    fillFlexChangeContent,\n    DEFINITION_LINK_PREFIX\n} from '../../common';\nimport { ApplicationV4, AppSettings, getSettingsPathForPage } from '../application';\nimport { transformRoutingV4 } from './manifest';\nimport { updateFcl } from './flexibleColumnLayout';\nimport {\n    DefinitionName,\n    FacetTitlePrefix,\n    PropertyName,\n    SchemaTag,\n    PageType,\n    PageTypeV4,\n    SchemaType,\n    ManifestSection,\n    TemplateType\n} from '@sap/ux-specification-types';\nimport type {\n    FioriElementsVersion,\n    Manifest,\n    v4,\n    SapUi5RoutingTarget,\n    SyncRule,\n    ExportAnalyticalListPageV4Parameters,\n    ExportListReportV4Parameters,\n    ExportObjectPageV4Parameters,\n    ExportParametersV4,\n    ExportHandlerFunction,\n    ExportResults,\n    UI5Version\n} from '@sap/ux-specification-types';\nimport { deleteEmptyStructure, getNextTargetDefinition } from '../../common/utils';\nimport { MetadataInstanceFactoryV4 as Factory } from './factory';\nimport type { MetadataInstanceInterface } from '../../common/decoration/factory';\nimport type { TransferParameterTypeV4 } from './types';\nimport type { Definition, DefinitionOrBoolean } from 'typescript-json-schema';\nimport { extractLastIdPart } from './utils';\n\n/**\n * Return the skeleton of a new routing target for the manifest, pre-filled with some values\n * @param name - name of the template, e.g. \"sap.suite.ui.generic.template.ObjectPage\"\n * @param entitySet - the main entity set\n * @param navigationProperty - navigation property\n */\nconst getNewRoutingTarget = (name: string, entitySet: string): SapUi5RoutingTarget => {\n    return {\n        type: 'Component',\n        id: '',\n        name: name,\n        options: {\n            settings: {\n                entitySet: entitySet,\n                navigation: {},\n                controlConfiguration: {}\n            }\n        }\n    };\n};\n\nconst defaultExportResult: ExportResults = {\n    flexChanges: [],\n    manifest: {\n        'sap.ui5': {\n            flexEnabled: true,\n            routing: {\n                targets: {}\n            }\n        },\n        'sap.app': {}\n    },\n    fragments: []\n};\n\n/**\n * Applies the sync rule for a flex change during export\n * @param syncRule - export rule from the object classes decorator\n * @param transferParameters - list of parameters passed from API\n * @param ids - list of parent & child ids\n * @param breadcrumbs - list of breadcrumbs, i.e. ID parts for building the stable ID\n * @param title - title from the app schema (comprising for instance the facet ID)\n * @param configObject - current (sub)object of the configuration file\n * @param key - key of the given property\n */\nfunction exportFlexChange(\n    syncRule: SyncRule,\n    transferParameters: TransferParameterTypeV4,\n    ids: string[],\n    breadcrumbs: string[],\n    configObject: { [key: string]: any },\n    key: string\n) {\n    const controlId = syncRule.flex.controlId(\n        transferParameters.baseId,\n        ids,\n        breadcrumbs,\n        syncRule.flex.controlType,\n        transferParameters.title\n    );\n    const flexChange = fillFlexChangeContent(configObject, syncRule, transferParameters.ui5Version, key, controlId);\n    transferParameters.exportResults.flexChanges.push(\n        syncRule.flex.createFlexChange(flexChange, transferParameters.exportResults.manifest)\n    );\n}\n\nfunction determineTargetAnnotationOfTable(\n    ids: string[],\n    transferParameters: TransferParameterTypeV4,\n    configObject: { [key: string]: any }\n) {\n    let targetAnnotationEncoded = '@com.sap.vocabularies.UI.v1.LineItem';\n    let targetAnnotation = '@com.sap.vocabularies.UI.v1.LineItem';\n    const annotationPath =\n        transferParameters.appSchema.definitions[DefinitionName.TableSPV]?.[SchemaTag.annotationPath];\n    if (ids.length > 1 && transferParameters.config['table'].annotationPath) {\n        const annoPath = transferParameters.appSchema.definitions[DefinitionName.ALPTable]?.[SchemaTag.annotationPath];\n        targetAnnotationEncoded = targetAnnotation = annoPath && annoPath.substr(annoPath.lastIndexOf('@'));\n    } else if (configObject.table?.annotationPath) {\n        //view definition\n        targetAnnotationEncoded = targetAnnotation = `@${configObject.table.annotationPath}`;\n    } else if (ids[0] === PropertyName.table && annotationPath) {\n        const annotationPathArray = annotationPath.split('/');\n        targetAnnotationEncoded = targetAnnotation = annotationPathArray[annotationPathArray.length - 1];\n    }\n    return { targetAnnotationEncoded, targetAnnotation };\n}\n\nfunction determineTargetAnnotationOfChart(\n    ids: string[],\n    transferParameters: TransferParameterTypeV4,\n    targetAnnotationEncoded: string,\n    targetAnnotation: string,\n    configObject: { [key: string]: any }\n) {\n    if (ids.length > 1) {\n        const annoPath = transferParameters.appSchema.definitions[DefinitionName.ALPChart]?.[SchemaTag.annotationPath];\n        targetAnnotationEncoded = targetAnnotation = annoPath && annoPath.substr(annoPath.lastIndexOf('@'));\n    } else {\n        //chart level\n        targetAnnotationEncoded = targetAnnotation = `@${configObject.chart?.annotationPath}`;\n    }\n    return { targetAnnotationEncoded, targetAnnotation };\n}\n\nfunction determineTargetAnnotationOfViews(\n    transferParameters: TransferParameterTypeV4,\n    ids: string[],\n    targetAnnotation: string,\n    targetAnnotationEncoded: string\n) {\n    const parentDefinition = (transferParameters.appSchema.definitions['MultiTableModeV4'] as Definition)?.properties[\n        ids[2]\n    ];\n    if (parentDefinition) {\n        if (ids.length === 3) {\n            //the parent definition comprises the annotation of the visualization of the (Selection)PresentationVariant.\n            targetAnnotation = targetAnnotationEncoded =\n                parentDefinition[SchemaTag.annotationPath] &&\n                parentDefinition[SchemaTag.annotationPath].substr(\n                    parentDefinition[SchemaTag.annotationPath].lastIndexOf('@')\n                );\n        } else if (ids.length > 3) {\n            //the own definition comprises the lineItem or chart annotation from the visualization\n            const ownDefinitionName = (parentDefinition as Definition).$ref?.split(DEFINITION_LINK_PREFIX)[1];\n            const ownDefinition = ownDefinitionName && transferParameters.appSchema.definitions[ownDefinitionName];\n            const annotation =\n                ownDefinition?.[SchemaTag.annotationPath] &&\n                ownDefinition[SchemaTag.annotationPath].substr(\n                    ownDefinition[SchemaTag.annotationPath].lastIndexOf('@')\n                );\n            targetAnnotation = targetAnnotationEncoded = ownDefinition['navigationProperty']\n                ? `${ownDefinition['navigationProperty']}/${annotation}`\n                : annotation;\n        }\n    }\n    return { targetAnnotation, targetAnnotationEncoded };\n}\n\nfunction determineTargetAnnotationOfSections(\n    ids: string[],\n    custom: boolean,\n    targetAnnotationEncoded: string,\n    targetAnnotation: string\n) {\n    if (ids[1] === 'custom' && ids[2] !== ids[ids.length - 1]) {\n        custom = true;\n        targetAnnotationEncoded = ids[2];\n        targetAnnotation = targetAnnotationEncoded && targetAnnotationEncoded.replace(/::/g, '/');\n    } else {\n        const sectionId = extractLastIdPart(ids[1]);\n        targetAnnotationEncoded = sectionId && sectionId.replace(/\\//g, '::');\n        targetAnnotation = targetAnnotationEncoded && targetAnnotationEncoded.replace(/::/g, '/');\n    }\n    return { custom, targetAnnotationEncoded, targetAnnotation };\n}\n\n/**\n * Determines the target annotation that is relevant for the sync rule\n * @param {string[]} ids - list of ids of parent elements\n * @param {TransferParameterTypeV4} transferParameters - list of parameters passed from API\n * @param { [key: string]: any } configObject - the given config.json, to be exported\n * @returns { targetAnnotationEncoded, targetAnnotation, custom }\n */\nfunction determineTargetAnnotation(\n    ids: string[],\n    transferParameters: TransferParameterTypeV4,\n    configObject: { [key: string]: any }\n): { targetAnnotationEncoded: string; targetAnnotation: string; custom: boolean } {\n    let targetAnnotation,\n        targetAnnotationEncoded,\n        custom = false;\n    if (ids[0] === PropertyName.table && ids[1] !== PropertyName.views) {\n        ({ targetAnnotationEncoded, targetAnnotation } = determineTargetAnnotationOfTable(\n            ids,\n            transferParameters,\n            configObject\n        ));\n    } else if (ids[0] === PropertyName.chart && transferParameters.templateType === TemplateType.AnalyticalListPageV4) {\n        ({ targetAnnotationEncoded, targetAnnotation } = determineTargetAnnotationOfChart(\n            ids,\n            transferParameters,\n            targetAnnotationEncoded,\n            targetAnnotation,\n            configObject\n        ));\n    } else if (ids[0] === PropertyName.sections) {\n        ({ custom, targetAnnotationEncoded, targetAnnotation } = determineTargetAnnotationOfSections(\n            ids,\n            custom,\n            targetAnnotationEncoded,\n            targetAnnotation\n        ));\n    } else if (ids[1] === PropertyName.sections) {\n        //header sections\n        if (transferParameters.title && transferParameters.title.indexOf(FacetTitlePrefix) > -1) {\n            targetAnnotation = targetAnnotationEncoded = transferParameters.title.split(FacetTitlePrefix)[1];\n        } else if (ids[2]) {\n            targetAnnotation = targetAnnotationEncoded = ids[2].split('@')[1];\n        } else if (targetAnnotationEncoded) {\n            targetAnnotation = targetAnnotationEncoded = targetAnnotationEncoded.replace(/::/g, '/');\n        }\n    } else if (ids[1] === PropertyName.views) {\n        ({ targetAnnotation, targetAnnotationEncoded } = determineTargetAnnotationOfViews(\n            transferParameters,\n            ids,\n            targetAnnotation,\n            targetAnnotationEncoded\n        ));\n    }\n    return { targetAnnotationEncoded, targetAnnotation, custom };\n}\n\n/**\n * Calculates an additional key for the sync rule from the given ID's\n * @param {string[]} ids - list of ids of parent elements\n * @returns the key for the sync rule\n */\nfunction determineKeyForSyncRule(ids: string[]): string | undefined {\n    let idIndex = 0;\n    for (let index = ids.length - 1; index > -1; index--) {\n        const element = ids[index];\n        if (element === 'columns' || element === PropertyName.actions || element === 'views') {\n            idIndex = index + 1;\n            break;\n        }\n    }\n    return idIndex > 0 ? ids[idIndex].replace(/\\//gi, '??') : undefined;\n}\n\ntype ExportToManifestParams = {\n    exportHandler: boolean | ExportHandlerFunction;\n    manifestSection: object;\n    configObject: { [key: string]: any };\n    configPropertyKey: string;\n    manifestKey: string;\n    syncRuleKey: string;\n};\n\n/**\n * Creates a new object in manifest\n * @param {ExportToManifestParams} params - list of parameters\n */\nfunction createNewObjectInManifest(params: ExportToManifestParams) {\n    if (params.exportHandler && typeof params.exportHandler === 'function') {\n        params.exportHandler(\n            params.manifestSection,\n            params.configObject,\n            params.configPropertyKey,\n            params.manifestKey,\n            params.syncRuleKey\n        );\n    } else if (!params.manifestSection[params.manifestKey]) {\n        params.manifestSection[params.manifestKey] = {};\n    }\n}\n\n/**\n * Transfers a property value from config to manifest\n * @param {ExportToManifestParams} params - list of parameters\n * @param propertyDefinition - schema definition of a particular property\n * @param nextDefinition - schema definition referred by $ref\n */\nfunction transferPropertyToManifest(\n    params: ExportToManifestParams,\n    propertyDefinition: object,\n    nextDefinition: object\n) {\n    if (\n        !(\n            propertyDefinition['type'] !== 'array' &&\n            nextDefinition?.['targetDefinition']?.type === 'object' &&\n            nextDefinition?.['targetDefinition']?.properties\n        )\n    ) {\n        if (params.exportHandler !== false) {\n            if (params.exportHandler && typeof params.exportHandler === 'function') {\n                params.exportHandler(\n                    params.manifestSection,\n                    params.configObject,\n                    params.configPropertyKey,\n                    params.manifestKey,\n                    params.syncRuleKey\n                );\n            } else if (\n                Array.isArray(params.configObject[params.configPropertyKey]) &&\n                !params.configObject[params.configPropertyKey].length\n            ) {\n                delete params.manifestSection[params.manifestKey];\n            } else {\n                params.manifestSection[params.manifestKey] = params.configObject[params.configPropertyKey];\n            }\n        }\n    } else if (propertyDefinition['type'] !== 'array' && params.manifestSection[params.manifestKey] === undefined) {\n        createNewObjectInManifest(params);\n    }\n}\n\n/**\n * Transfers a change in config.json to manifest\n * @param ids - list of parent & child ids\n * @param {SyncRule} syncRule - syncRule (metadata)\n * @param {TransferParameterTypeV4} transferParameters - list of parameters passed from API\n * @param {string} configPropertyKey - key of property in the config\n * @param { [key: string]: any } configObject - the given config.json, to be exported\n * @param propertyDefinition - schema definition of a particular property\n * @param nextDefinition - schema definition referred by $ref\n */\nfunction exportManifestChange(\n    ids: string[],\n    syncRule: SyncRule,\n    transferParameters: TransferParameterTypeV4,\n    configPropertyKey: string,\n    configObject: { [key: string]: any },\n    propertyDefinition: object,\n    nextDefinition: object\n) {\n    //eliminate subsections' hierarchy\n    let index = ids.indexOf('subsections');\n    while (index > -1) {\n        ids.splice(index - 1, 2);\n        index = ids.indexOf('subsections');\n    }\n    const { targetAnnotationEncoded, targetAnnotation, custom } = determineTargetAnnotation(\n        ids,\n        transferParameters,\n        configObject\n    );\n\n    const syncRuleKey = determineKeyForSyncRule(ids);\n    const path = syncRule.manifest.path(\n        transferParameters.pageNameArray,\n        transferParameters.exportResults.manifest,\n        targetAnnotationEncoded,\n        syncRuleKey,\n        targetAnnotation,\n        configObject\n    );\n    const manifestSection = getManifestSectionByPathV4(\n        transferParameters.exportResults.manifest,\n        path,\n        targetAnnotation,\n        custom ? undefined : targetAnnotationEncoded\n    );\n    if (manifestSection) {\n        const manifestKey = syncRule.manifest.key || configPropertyKey;\n        if (configObject[configPropertyKey] !== undefined) {\n            // In case of arrays we take over complete array\n            const exportParams: ExportToManifestParams = {\n                exportHandler: syncRule.manifest.export,\n                manifestSection,\n                configObject,\n                configPropertyKey,\n                manifestKey,\n                syncRuleKey\n            };\n            transferPropertyToManifest(exportParams, propertyDefinition, nextDefinition);\n        } else if (syncRule.manifest.delete) {\n            const deleteHandler = syncRule.manifest.delete;\n            if (typeof deleteHandler === 'function') {\n                deleteHandler(\n                    manifestSection,\n                    configObject,\n                    configPropertyKey,\n                    manifestKey,\n                    syncRuleKey,\n                    transferParameters.config\n                );\n            }\n        } else if (manifestSection[manifestKey] !== undefined) {\n            delete manifestSection[manifestKey];\n        }\n    }\n    deleteEmptyStructure(transferParameters.exportResults.manifest, path, targetAnnotation, targetAnnotationEncoded);\n}\n\n/**\n * Evaluates an export rule for a property or object, transfers to flex change or manifest setting\n * @param transferParameters - list of parameters passed from API\n * @param breadcrumbs - list of breadcrumbs, i.e. ID parts for building the stable ID\n * @param key - key of the given property\n * @param configObject - current (sub)object of the configuration file\n * @param ids - list of parent & child ids\n * @param title - title from the app schema (comprising for instance the facet ID)\n * @param propertyDefinition - schema definition of a particular property\n * @param nextDefinition - schema definition referred by $ref\n */\nfunction evaluateExportRule(\n    transferParameters: TransferParameterTypeV4,\n    breadcrumbs: string[],\n    key: string,\n    configObject: { [key: string]: any },\n    ids: string[],\n    propertyDefinition: object,\n    nextDefinition: NextDefinition\n): void {\n    const syncRule = getReflectMetadata(configObject, key);\n    if (syncRule) {\n        if (syncRule.flex) {\n            exportFlexChange(syncRule, transferParameters, ids, breadcrumbs, configObject, key);\n        } else if (syncRule.manifest) {\n            exportManifestChange(\n                ids,\n                syncRule,\n                transferParameters,\n                key,\n                configObject,\n                propertyDefinition,\n                nextDefinition\n            );\n        }\n    }\n}\n\n/**\n * Processes an (object-like) sub-object of the app schema and transfer all connected config entries to manifest\n * @param {TransferEntryParameters} parameters - list of parameters\n * @param {NextDefinition} nextDefinition - the next definition in app schema to be processed\n * @param currentConfigObject - current config object\n * @param ids - list of parent & child ID's\n * @param localIdParts - list of ID parts for building the stable ID\n */\nfunction transferSubObject(\n    parameters: TransferEntryParameters,\n    nextDefinition: NextDefinition,\n    currentConfigObject: any,\n    ids: string[],\n    localIdParts: string[]\n) {\n    let objects = [],\n        isArray = false;\n    if (parameters.propertyDefinition.$ref && nextDefinition) {\n        objects.push(nextDefinition.configObject);\n    } else if (parameters.propertyDefinition['anyOf']) {\n        objects.push(currentConfigObject);\n    } else if (parameters.propertyDefinition.type === 'array') {\n        objects = currentConfigObject;\n        isArray = true;\n    } else {\n        objects.push(currentConfigObject);\n    }\n    parameters.index = 0;\n    for (const innerObject of objects) {\n        const additionalIds = [];\n        if (parameters.breadcrumbs[0] === PropertyName.sections && parameters.key === 'custom' && isArray) {\n            // We need add custom section 'id' into breadcrumbs to retrieve correct path to manifest\n            additionalIds.push(innerObject['id']);\n        }\n        parameters.transferParameters.title = nextDefinition.title;\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        transferManifestEntriesAndFlexChange(\n            parameters.transferParameters,\n            innerObject,\n            [...ids, ...additionalIds],\n            localIdParts,\n            [...parameters.breadcrumbs, parameters.key],\n            nextDefinition.targetDefinition\n        );\n        parameters.index++;\n    }\n}\n\n/**\n * Creates an ALP 'views' entry in the resulting manifest if not yet existing yet.\n * Adds the secondary = table view if missing.\n * @param {TransferParameterTypeV4} transferParameters - list of parameters passed from API\n * @param configObject - current object in config.json\n * @returns\n * - a boolean indicating that the views entry got created.\n * - a boolean indicating if the processing of sub-objects shall be stopped\n **/\nfunction createALPTableView(\n    transferParameters: TransferParameterTypeV4,\n    configObject: any,\n    key: string\n): { newElementCreated: boolean; stopProcessing: boolean } {\n    let newElementCreated = false;\n    if (!configObject[key] || Object.keys(configObject[key]).length === 0 || !configObject.chart) {\n        return { newElementCreated, stopProcessing: true };\n    }\n    const path = getSettingsPathForPage(transferParameters.pageNameArray) + `/views`;\n    const views = getManifestSectionByPathV4(transferParameters.exportResults.manifest, path);\n    if (!views['paths'] || Object.keys(views['paths']).length === 0) {\n        views['paths'] = [\n            {\n                secondary: [\n                    {\n                        annotationPath: configObject[key].annotationPath\n                    }\n                ]\n            }\n        ];\n        newElementCreated = true;\n    } else if (!views['paths'][0].secondary) {\n        views['paths'][0].secondary = [\n            {\n                annotationPath: configObject[key].annotationPath\n            }\n        ];\n        newElementCreated = true;\n    }\n    return { newElementCreated, stopProcessing: false };\n}\n\n/**\n * Creates an ALP 'views' entry in the resulting manifest if not yet existing yet\n * Adds the primary = chart view if missing.\n * @param {TransferParameterTypeV4} transferParameters - list of parameters passed from API\n * @param configObject - current object in config.json\n * @returns\n * - a boolean indicating that the views entry got created.\n * - a boolean indicating if the processing of sub-objects shall be stopped\n */\nfunction createALPChartView(\n    transferParameters: TransferParameterTypeV4,\n    configObject: any,\n    key: string\n): { newElementCreated: boolean; stopProcessing: boolean } {\n    let newElementCreated = false;\n\n    if (!configObject[key] || Object.keys(configObject[key]).length === 0) {\n        return { newElementCreated, stopProcessing: true };\n    }\n    const path = getSettingsPathForPage(transferParameters.pageNameArray) + `/views`;\n    const views = getManifestSectionByPathV4(transferParameters.exportResults.manifest, path);\n    if (!views['paths'] || Object.keys(views['paths']).length === 0) {\n        views['paths'] = [\n            {\n                primary: [\n                    {\n                        annotationPath: configObject[key].annotationPath\n                    }\n                ]\n            }\n        ];\n        newElementCreated = true;\n    } else if (!views['paths'][0].primary) {\n        views['paths'][0].primary = [\n            {\n                annotationPath: configObject[key].annotationPath\n            }\n        ];\n        newElementCreated = true;\n    }\n    if (!views['paths'][0].secondary) {\n        views['paths'][0].secondary = [\n            {\n                annotationPath: configObject?.table?.annotationPath || 'com.sap.vocabularies.UI.v1.LineItem'\n            }\n        ];\n    }\n    return { newElementCreated, stopProcessing: false };\n}\n\n/**\n * Creates an LR 'views' entry in the resulting manifest if not yet existing yet.\n * Adds the current table view if missing.\n * @param {TransferParameterTypeV4} transferParameters - list of parameters passed from API\n * @param configObject - current object in config.json\n * @returns a boolean indicating that the views entry got created.\n */\nfunction createLRTableView(\n    index: number,\n    transferParameters: TransferParameterTypeV4,\n    key: string,\n    configObject: any\n): boolean {\n    if (!configObject || Object.keys(configObject).length === 0) {\n        return false;\n    }\n    let newElementCreated = false;\n    const path = getSettingsPathForPage(transferParameters.pageNameArray) + `/views`;\n    const views = getManifestSectionByPathV4(transferParameters.exportResults.manifest, path);\n    const newEntry = {\n        key: configObject['key'],\n        annotationPath: configObject.annotationPath\n    };\n    if (!views['paths'] || Object.keys(views['paths']).length === 0) {\n        //No views yet\n        views['paths'] = [newEntry];\n        newElementCreated = true;\n    } else {\n        const existingIndex = views['paths'].findIndex((view) => view.key === configObject['key'] || view.key === key);\n        if (existingIndex === -1) {\n            //Given view does not exist yet\n            views['paths'].push(newEntry);\n            newElementCreated = true;\n        } else if (existingIndex !== configObject.index) {\n            //Reordering scenario\n            const savedContent = JSON.parse(JSON.stringify(views['paths'][existingIndex]));\n            views['paths'].splice(existingIndex, 1);\n            views['paths'].splice(index, 0, savedContent);\n            newElementCreated = true;\n        }\n    }\n    return newElementCreated;\n}\n\n/**\n * Special logic to create new elements in manifest\n * @param definitionName - schema definition name of the current object\n * @param key - key of the current object\n * @param configObject - current object in config.json\n * @param breadcrumbs - array of sequence of properties that we are currently processing. Required for instance for table column name\n * @param {TransferParameterTypeV4} transferParameters - list of parameters passed from API\n * @returns newElementCreated - boolean value to indicate that a new element was created ==> no further sync rule on this level\n */\nfunction createNewElement(\n    index: number,\n    definitionName: string,\n    key: string,\n    configObject: any,\n    breadcrumbs: string[],\n    transferParameters: TransferParameterTypeV4,\n    preprocessed = false\n): { newElementCreated: boolean; stopProcessing: boolean } {\n    let newElementCreated = false;\n    const stopProcessing = false;\n    if (definitionName && !preprocessed) {\n        if (definitionName.startsWith(DefinitionName.CustomColumn)) {\n            newElementCreated = createNewCustomColumn(\n                key,\n                transferParameters,\n                configObject[key],\n                transferParameters.logger,\n                breadcrumbs\n            );\n        } else if (definitionName === DefinitionName.ALPChartView && key === PropertyName.chart && configObject) {\n            return createALPChartView(transferParameters, configObject, key);\n        } else if (definitionName === DefinitionName.ALPTableView && key === PropertyName.table && configObject) {\n            return createALPTableView(transferParameters, configObject, key);\n        } else if (\n            key &&\n            (definitionName.startsWith(DefinitionName.LRTableView) ||\n                definitionName.startsWith(DefinitionName.LRChartView))\n        ) {\n            newElementCreated = createLRTableView(index, transferParameters, key, configObject[key]);\n        }\n    }\n    return { newElementCreated, stopProcessing };\n}\n\ntype TransferEntryParameters = {\n    transferParameters: TransferParameterTypeV4;\n    breadcrumbs: string[];\n    key: string;\n    index: number;\n    configObject: { [key: string]: any };\n    propertyDefinition: Definition;\n};\n\n/**\n * Transfers one entry of a list (aka one property of the config) to the manifest\n * @param {TransferEntryParameters} parameters - list of parameters\n * @param parentIds - array of collected parent ids\n * @param stableIdParts - list of parts of the stable ID for flex changes\n * @param preprocessed - indicates that the list was already preprocessed by following the config order\n */\nfunction transferSortedListEntry(\n    parameters: TransferEntryParameters,\n    parentIds: string[],\n    stableIdParts: string[],\n    preprocessed = false\n): void {\n    const currentConfigObject = parameters.configObject[parameters.key];\n    const childId = getChildId(parameters.configObject, parameters.key);\n    const nextDefinition = getNextTargetDefinition(\n        parameters.transferParameters.appSchema,\n        parameters.transferParameters.title,\n        currentConfigObject,\n        parameters.propertyDefinition,\n        parameters.key,\n        parameters.transferParameters.factory,\n        parameters.transferParameters.pageType\n    );\n    const { newElementCreated, stopProcessing } = createNewElement(\n        parameters.index,\n        parameters.propertyDefinition.$ref?.split(DEFINITION_LINK_PREFIX)[1],\n        parameters.key,\n        parameters.configObject,\n        parameters.breadcrumbs,\n        parameters.transferParameters,\n        preprocessed\n    );\n    const ids = childId ? [...parentIds, childId] : [...parentIds, parameters.key];\n    if (!newElementCreated) {\n        evaluateExportRule(\n            parameters.transferParameters,\n            parameters.breadcrumbs,\n            parameters.key,\n            parameters.configObject,\n            ids,\n            parameters.propertyDefinition,\n            nextDefinition\n        );\n    }\n\n    if (\n        parameters.propertyDefinition &&\n        ((typeof currentConfigObject === 'object' && Object.keys(currentConfigObject).length !== 0) ||\n            (parameters.propertyDefinition.$ref && nextDefinition.configObject)) &&\n        !stopProcessing\n    ) {\n        const localIdParts = childId ? [...stableIdParts, childId] : stableIdParts;\n        transferSubObject(parameters, nextDefinition, currentConfigObject, ids, localIdParts);\n    }\n}\n\n/**\n * Function for special handling of anyOf definitions during the export\n * @param {TransferEntryParameters} parameters - list of parameters\n * @param anyOfDefinitions - the array of definitions from the anyOf (of additionalProperties)\n * @param schemaDefinition - parent definition, comprising properties as well as additionalProperties\n * @param parentIds - array of collected parent ids\n * @param stableIdParts - list of parts of the stable ID for flex changes\n * @returns\n */\nfunction transferConfigEntriesWithAnyOfDefinitions(\n    transferEntryParameters: TransferEntryParameters,\n    anyOfDefinitions: Definition[],\n    schemaDefinition: Definition,\n    parentIds: string[],\n    stableIdParts: string[]\n): boolean {\n    let preprocessed = false;\n    if (anyOfDefinitions) {\n        const configEntries = Object.entries(transferEntryParameters.configObject);\n        if (!configEntries || configEntries.length < 1) {\n            return preprocessed;\n        }\n        configEntries.sort((a, b) => a[1]['index'] - b[1]['index']);\n        //follow the config order, to support reordering\n        configEntries.forEach((configEntry) => {\n            if (schemaDefinition.properties[configEntry[0]]) {\n                transferEntryParameters.key = configEntry[0];\n                transferEntryParameters.propertyDefinition = schemaDefinition.properties[configEntry[0]] as Definition;\n                //already part of schema\n                transferSortedListEntry(transferEntryParameters, parentIds, stableIdParts);\n                preprocessed = true;\n            } else if (typeof configEntry[1] === 'object') {\n                //match against potential schema definitions\n                anyOfDefinitions.forEach((anyOfDefinition) => {\n                    if (anyOfDefinition.$ref) {\n                        transferEntryParameters.key = configEntry[0];\n                        transferEntryParameters.propertyDefinition = anyOfDefinition;\n                        transferSortedListEntry(transferEntryParameters, parentIds, stableIdParts);\n                        preprocessed = true;\n                    }\n                });\n            }\n            transferEntryParameters.index++;\n        });\n    }\n    return preprocessed;\n}\n\n/**\n * Method updates list of definition entries from schema with entries for insertion based on `additionalProperties` entry.\n * @param {TransferParameterTypeV4} transferParameters - list of parameters passed from API.\n * @param {Definition} additionalProperties - allowed additional properties.\n * @param {[string, DefinitionOrBoolean][]} list - list with entries.\n * @param {{ [key: string]: unknown }} configObject - configuration object.\n */\nfunction mergeEntriesForInsert(\n    transferParameters: TransferParameterTypeV4,\n    additionalProperties: Definition,\n    list: [string, DefinitionOrBoolean][],\n    configObject: { [key: string]: unknown }\n): void {\n    let properties = additionalProperties?.properties;\n    let required = additionalProperties?.required;\n    if (!properties && additionalProperties?.$ref) {\n        const reference = additionalProperties?.$ref;\n        const definition = transferParameters.appSchema.definitions[reference.split(DEFINITION_LINK_PREFIX)[1]];\n        if (typeof definition === 'object') {\n            properties = definition.properties;\n            required = definition.required;\n        }\n    }\n\n    if (!properties) {\n        return;\n    }\n    required = required || [];\n    // Merge new entries for creation into list\n    for (const key in configObject) {\n        const entry = configObject[key];\n        // Check if entry from config does not exist in list - potential insert.\n        // Additionally check if interface of config entry matches additionalProperties - all required properties should exist in entry\n        if (\n            typeof entry === 'object' &&\n            !list.some((item) => item[0] === key) &&\n            required.every((property: string): boolean => entry[property])\n        ) {\n            list.push([key, additionalProperties]);\n        }\n    }\n}\n\n/**\n * Recursive function that traverses the content of the current object. It reads decorators and fills exportResultManifest entries and flex changes\n * @param {TransferParameterTypeV4} transferParameters - list of parameters passed from API\n * @param configObject - current object to traverse\n * @param parentIds - array of collected parent ids\n * @param stableIdParts - list of parts of the stable ID for flex changes\n * @param breadcrumbs - array of sequence of properties that we are currently processing. Required for instance for table column name\n * @param schemaDefinition - the current entry point or definition in the app schema\n * @param title - the title to be used for the given schema definition\n */\nfunction transferManifestEntriesAndFlexChange(\n    transferParameters: TransferParameterTypeV4,\n    configObject: { [key: string]: any },\n    parentIds: string[],\n    stableIdParts: string[],\n    breadcrumbs: string[],\n    schemaDefinition: Definition\n): void {\n    if (!schemaDefinition?.properties) {\n        return;\n    }\n    let index = 0;\n    //In case of additionalProperties = flexible array definition ==> new entries from the config shall be exported too\n    const transferEntryParameters: TransferEntryParameters = {\n        transferParameters,\n        breadcrumbs,\n        key: undefined,\n        index,\n        configObject,\n        propertyDefinition: undefined\n    };\n    const additionalProperties = schemaDefinition.additionalProperties as Definition;\n    const anyOfDefinitions = additionalProperties?.anyOf as Definition[];\n\n    const preprocessed = transferConfigEntriesWithAnyOfDefinitions(\n        transferEntryParameters,\n        anyOfDefinitions,\n        schemaDefinition,\n        parentIds,\n        stableIdParts\n    );\n    //Sort if there is a propertyIndex, so that the exported list ends up in manifest in the right order\n    let sortedList = schemaDefinition.properties && Object.entries(schemaDefinition.properties);\n    if (sortedList) {\n        if (sortedList[0]?.[1][SchemaTag.propertyIndex]) {\n            sortedList = Object.entries(schemaDefinition.properties).sort(\n                (a, b) => a[1][SchemaTag.propertyIndex] - b[1][SchemaTag.propertyIndex]\n            );\n        }\n        if (additionalProperties?.$ref) {\n            // Merge new entries for creation into list\n            mergeEntriesForInsert(transferParameters, additionalProperties, sortedList, configObject);\n        }\n        index = 0;\n        sortedList.forEach((element: object) => {\n            transferEntryParameters.key = element[0];\n            transferEntryParameters.propertyDefinition = element[1];\n            transferEntryParameters.index = index;\n            transferSortedListEntry(transferEntryParameters, parentIds, stableIdParts, preprocessed);\n            if (element[1].$ref) {\n                index++;\n            }\n        });\n    }\n}\n\n/**\n * Instantiates the export classes for a single object page section\n * @param sectionId - Current section ID\n */\nfunction getClassesForSingleSection(\n    objectPageConfig: v4.ObjectPageConfigV4,\n    sectionId: string,\n    factory: MetadataInstanceInterface\n): void {\n    if (sectionId === 'custom' && Array.isArray(objectPageConfig.sections[sectionId])) {\n        // Custom sections\n        const customSections: Array<ObjectPageCustomSectionFragment> = objectPageConfig.sections\n            .custom as Array<ObjectPageCustomSectionFragment>;\n        for (let index = 0; index < customSections.length; index++) {\n            customSections[index] = factory.createInstance(\n                PageType.ObjectPage,\n                'ObjectPageCustomSectionView',\n                customSections[index],\n                customSections[index].className\n            );\n        }\n    }\n}\n\n/**\n * Recursive sub-function for handling subsections\n * @param section - Object page section in config\n */\nfunction getSubsectionClasses(section: object, factory: MetadataInstanceInterface): void {\n    if (section['subsections']) {\n        let subSection: object;\n        for (const subSectionId in section['subsections']) {\n            subSection = section['subsections'][subSectionId];\n            getClassesForSingleSection(subSection, subSectionId, factory);\n            getSubsectionClasses(subSection, factory);\n        }\n    }\n}\n\n/**\n * Instantiates the export classes for the object page section\n * @param objectPageConfig - the given object page configuration\n * @param objectPage - the overall object page export class where the sections shall be included\n */\nfunction getExportClassesForSections(\n    objectPageConfig: v4.ObjectPageConfigV4,\n    objectPage: ObjectPage,\n    factory: MetadataInstanceInterface\n): void {\n    let section: object;\n    for (const sectionId in objectPageConfig.sections) {\n        section = objectPage.sections[sectionId];\n        getClassesForSingleSection(objectPageConfig, sectionId, factory);\n        getSubsectionClasses(section, factory);\n    }\n}\n\n/**\n * Run through the given ObjectPage config and return respective exportResultManifest entry and flex changes\n * @param appId - id of the Fiori elements app, which is usually namespace.appid\n * @param objectPageConfig - content of the src/ObjectPage_<entity_set>.json file\n * @param manifest - manifest of the application\n * @param pageName - routing target defined in manifest\n */\nconst exportObjectPage = (exportParameters: ExportObjectPageV4Parameters, ui5Version: UI5Version): ExportResults => {\n    const exportResults: ExportResults = defaultExportResult;\n    exportResults.manifest = JSON.parse(JSON.stringify(exportParameters.manifest));\n\n    const factory = new Factory();\n    const objectPage = factory.createPageInstance(PageType.ObjectPage, exportParameters.page.config);\n    const pageLayoutInformation = getPageLayoutInformation(objectPage);\n    const pageName = exportParameters.page.name;\n    const baseId = `${exportParameters.appId}::${pageLayoutInformation.id}::${pageName}--`;\n\n    if (exportParameters.page.config?.[PropertyName.sections]) {\n        getExportClassesForSections(exportParameters.page.config, objectPage, factory);\n    }\n    const transferParameters: TransferParameterTypeV4 = {\n        exportResults,\n        appId: exportParameters.appId,\n        appRootPath: exportParameters.appRootPath,\n        baseId,\n        appSchema: exportParameters.jsonSchema,\n        config: objectPage,\n        ui5Version,\n        factory,\n        pageNameArray: [pageName],\n        pageType: PageType.ObjectPage,\n        title: undefined,\n        templateType: TemplateType.ListReportObjectPageV4\n    };\n\n    transferManifestEntriesAndFlexChange(\n        transferParameters,\n        objectPage,\n        [], //no parentIds\n        [], // no stableIds\n        [], // no breadcrumbs\n        exportParameters.jsonSchema //starting point for target definition\n    );\n\n    return exportResults;\n};\n\n/**\n * Run through the given List Page (LR or ALP) config and return respective exportResultManifest entry and flex changes\n * @param {ExportListReportV4Parameters} exportParameters - all API parameters needed for the export\n * @param config - content of the config file\n * @param {PageTypeV4} - pageType - Page type\n * @param ui5Version - SAP UI5 version\n */\nconst exportListPage = (\n    exportParameters: ExportListReportV4Parameters,\n    factory: Factory,\n    config: v4.ListReportConfigV4,\n    pageType: PageTypeV4,\n    ui5Version: UI5Version,\n    templateType: TemplateType\n): ExportResults => {\n    const exportResults: ExportResults = defaultExportResult;\n    exportResults.manifest = JSON.parse(JSON.stringify(exportParameters.manifest)) as Manifest;\n    const appSchema = exportParameters.jsonSchema as Definition;\n\n    const definitionName = config.table?.[PropertyName.annotationPath]\n        ? DefinitionName.ALPTableView\n        : DefinitionName.Table;\n    const tableDefinition = (config.table = factory.createInstance(pageType, definitionName, config.table));\n    let tableDefinitionName = DefinitionName.LineItems;\n    if (appSchema.definitions[DefinitionName.TableSPV]) {\n        const tableRef = (appSchema.definitions[DefinitionName.TableSPV] as Definition).properties.columns['$ref'];\n        tableDefinitionName = tableRef.split(DEFINITION_LINK_PREFIX)[1];\n    }\n    const appSchemaActions = appSchema.definitions[`${DefinitionName.Actions}<${tableDefinitionName}>`] as Definition;\n    if (tableDefinition.toolBar?.actions && appSchemaActions) {\n        for (const actionKey in appSchemaActions.properties) {\n            tableDefinition.toolBar.actions[actionKey] = factory.createInstance(\n                pageType,\n                DefinitionName.ToolBarAction,\n                tableDefinition.toolBar.actions[actionKey]\n            );\n        }\n    }\n\n    const pageLayoutInformation = getPageLayoutInformation(config);\n    const pageName = exportParameters.page.name;\n    const baseId = `${exportParameters.appId}::${pageLayoutInformation.id}::${pageName}--`;\n    if (!exportResults.manifest[ManifestSection.ui5].routing.targets[pageName]) {\n        const newTarget = getNewRoutingTarget(pageLayoutInformation.pageId, pageName);\n        exportResults.manifest[ManifestSection.ui5].routing.targets[pageName] = newTarget;\n    }\n\n    const transferParameters: TransferParameterTypeV4 = {\n        exportResults,\n        appId: exportParameters.appId,\n        appRootPath: exportParameters.appRootPath,\n        baseId,\n        appSchema,\n        config,\n        ui5Version,\n        factory,\n        pageNameArray: [pageName],\n        pageType: PageType.ListReport,\n        title: undefined,\n        logger: exportParameters.logger,\n        templateType\n    };\n\n    transferManifestEntriesAndFlexChange(\n        transferParameters,\n        config,\n        [], //no parentIds\n        [], // no stableIds\n        [], // no breadcrumbs\n        appSchema //starting point for target definition\n    );\n\n    return exportResults;\n};\n\n/**\n * Run through the given ListReport config and return respective exportResultManifest entry and flex changes\n * @param {ExportListReportV4Parameters} exportParameters - all API parameters needed for the export\n * @param ui5Version - SAP UI5 version\n * @returns ExportResults - The export result comprises the enhanced manifest as well as a list of flex changes.\n */\nconst exportListReportPage = (\n    exportParameters: ExportListReportV4Parameters,\n    ui5Version: UI5Version,\n    templateType: TemplateType\n): ExportResults => {\n    const factory = new Factory();\n    const listReport = factory.createPageInstance(PageType.ListReport, exportParameters.page.config);\n\n    return exportListPage(exportParameters, factory, listReport, PageTypeV4.ListReport, ui5Version, templateType);\n};\n\n/**\n * Run through the given Analytical List Page config and return respective exportResultManifest entry and flex changes\n * @param {ExportAnalyticalListPageV4Parameters} exportParameters - all API parameters needed for the export\n * @param ui5Version - SAP UI5 version\n * @returns ExportResults - The export result comprises the enhanced manifest as well as a list of flex changes.\n *\n * @returns ExportResults - The export result comprises the enhanced manifest as well as a list of flex changes.\n */\nconst exportAnalyticalListPage = (\n    exportParameters: ExportAnalyticalListPageV4Parameters,\n    ui5Version: UI5Version\n): ExportResults => {\n    return exportListReportPage(exportParameters, ui5Version, TemplateType.AnalyticalListPageV4);\n};\n\n/**\n * API for the export of a V4 app configuration\n * Export means the transfer of the properties and values of the given config to manifest entries or flex changes\n * @param application - V4 application (app.json config file)\n * @param manifest - Manifest of the given app\n * @param appSchema - App schema\n *\n * @returns ExportResults = object comprising the updated manifest and a list of flex changes\n */\nconst exportApplicationV4 = (application: ApplicationV4, manifest: object, appSchema: Definition): ExportResults => {\n    const exportResults: ExportResults = defaultExportResult;\n    exportResults.manifest = JSON.parse(JSON.stringify(manifest));\n\n    const applicationV4 = Object.assign(new ApplicationV4(), application);\n\n    //transform application settings\n    applicationV4.settings = Object.assign(new AppSettings(), applicationV4.settings);\n    for (const key in (appSchema.definitions.AppSettings as Definition).properties) {\n        const syncRule = getReflectMetadata(applicationV4.settings, key);\n        if (syncRule && syncRule.manifest) {\n            const path = syncRule.manifest.path();\n            const manifestSection = getManifestSectionByPathV4(exportResults.manifest, path);\n            if (syncRule.manifest.export) {\n                const exportParams: ExportToManifestParams = {\n                    exportHandler: syncRule.manifest.export,\n                    manifestSection,\n                    configObject: application,\n                    configPropertyKey: key,\n                    manifestKey: key,\n                    syncRuleKey: key\n                };\n                const propertyDefinition = (appSchema.definitions.AppSettings as Definition).properties[key];\n                transferPropertyToManifest(exportParams, propertyDefinition as Definition, {});\n            } else {\n                if (application.settings?.[key] !== undefined) {\n                    manifestSection[key] = application.settings[key];\n                } else {\n                    delete manifestSection[key];\n                }\n            }\n            deleteEmptyStructure(exportResults.manifest, path);\n        }\n    }\n    //transform routing\n    exportResults.manifest[ManifestSection.ui5].routing = transformRoutingV4(\n        application['home'],\n        application['pages'],\n        exportResults.manifest\n    );\n\n    // Update FCL data\n    updateFcl(exportResults.manifest[ManifestSection.ui5] as v4.SapUi5V4, application);\n\n    return exportResults;\n};\n\n/**\n * General API for the export of a V4 config page\n * Export means the transfer of the properties and values of the given config to manifest entries or flex changes\n * @param appId - Application ID\n * @param page - Current page (config)\n * @param manifest - Manifest of the given app\n * @param jsonSchema - App schema\n *\n * @returns ExportResults = object comprising the updated manifest and a list of flex changes\n */\nexport const exportPageV4 = (\n    exportParametersV4: ExportParametersV4[FioriElementsVersion.v4],\n    ui5Version: UI5Version\n): ExportResults | undefined => {\n    if (exportParametersV4[SchemaType.ListReport]) {\n        return exportListReportPage(\n            exportParametersV4[SchemaType.ListReport],\n            ui5Version,\n            TemplateType.ListReportObjectPageV4\n        );\n    } else if (exportParametersV4[SchemaType.ObjectPage]) {\n        return exportObjectPage(exportParametersV4[SchemaType.ObjectPage], ui5Version);\n    } else if (exportParametersV4[SchemaType.Application]) {\n        const { application, manifest, jsonSchema } = exportParametersV4[SchemaType.Application];\n        return exportApplicationV4(application, manifest, jsonSchema);\n    } else if (exportParametersV4[SchemaType.AnalyticalListPage]) {\n        return exportAnalyticalListPage(exportParametersV4[SchemaType.AnalyticalListPage], ui5Version);\n    }\n};\n", "import { basename, join } from 'path';\nimport { readFile as readFileFs, readdir, stat, exists } from 'fs';\nimport type { Manifest, FileData } from '@sap/ux-specification-types';\n\nexport interface Project {\n    root: string;\n    name: string;\n    manifest: Manifest;\n    annotations: FileData[];\n    changes: string[];\n    fragments: FileData[];\n}\n\nconst readFile = async (path: string): Promise<string> => {\n    return new Promise((resolve, reject): void => {\n        readFileFs(path, { encoding: 'utf8' }, (err, data): void => {\n            if (err) {\n                reject(err);\n            } else {\n                resolve(data);\n            }\n        });\n    });\n};\n\nconst readJSON = async <T>(path: string): Promise<T> => {\n    return JSON.parse(await readFile(path)) as T;\n};\n\nexport const readDirectory = async (path: string): Promise<string[]> => {\n    return new Promise((resolve, reject): void => {\n        readdir(path, { encoding: 'utf8' }, (err, data): void => {\n            if (err) {\n                reject(err);\n            } else {\n                resolve(data);\n            }\n        });\n    });\n};\n\nexport const isDirectory = async (path: string): Promise<boolean> => {\n    return new Promise((resolve): void => {\n        stat(path, (err, stats): void => {\n            if (err) {\n                resolve(false);\n            } else {\n                resolve(stats.isDirectory());\n            }\n        });\n    });\n};\n\nconst resourceExists = async (path: string): Promise<boolean> => {\n    return new Promise((resolve) => {\n        exists(path, (doesExist) => {\n            resolve(doesExist);\n        });\n    });\n};\n\nconst getManifest = async (path: string): Promise<Manifest> => {\n    return readJSON<Manifest>(join(path, 'manifest.json'));\n};\n\nexport const getChanges = async (webapp: string): Promise<string[]> => {\n    const changes: string[] = [];\n    const changesDirectory = join(webapp, 'changes');\n    if (!(await resourceExists(changesDirectory))) {\n        return changes;\n    }\n    const extensions = [\n        '.change',\n        '.variant',\n        '.ctrl_variant',\n        '.ctrl_variant_change',\n        '.ctrl_variant_management_change'\n    ];\n    const files = await readDirectory(changesDirectory);\n    for (const file of files) {\n        if (extensions.some((ext) => file.endsWith(ext))) {\n            changes.push(await readFile(join(changesDirectory, file)));\n        }\n    }\n    return changes;\n};\n\nconst getFragments = async (webAppPath: string): Promise<FileData[]> => {\n    const fragments: FileData[] = [];\n\n    const directoryPath = join(webAppPath, 'ext', 'fragments');\n    if (!(await resourceExists(directoryPath))) {\n        return fragments;\n    }\n    const files = await readDirectory(directoryPath);\n    for (const file of files) {\n        const filePath = join(directoryPath, file);\n        const data = await readFile(filePath);\n        fragments.push({\n            dataSourceUri: filePath,\n            fileContent: data\n        });\n    }\n    return fragments;\n};\n\nconst getAnnotations = async (manifest: Manifest, webAppPath: string): Promise<FileData[]> => {\n    const annotationData: FileData[] = [];\n    const serviceDataSources = manifest?.['sap.app']?.dataSources;\n    if (serviceDataSources?.mainService?.settings?.localUri) {\n        const metadataPath = join(webAppPath, serviceDataSources.mainService.settings.localUri);\n        annotationData.push({\n            dataSourceUri: metadataPath,\n            fileContent: await readFile(metadataPath)\n        });\n    }\n    if (serviceDataSources?.mainService?.settings?.annotations) {\n        for (const annotationRef of serviceDataSources.mainService.settings.annotations) {\n            if (serviceDataSources[annotationRef]?.settings?.localUri) {\n                const annotationFilePath = join(webAppPath, serviceDataSources[annotationRef].settings.localUri);\n                annotationData.push({\n                    dataSourceUri: annotationFilePath,\n                    fileContent: await readFile(annotationFilePath)\n                });\n            }\n        }\n    }\n    //Consider CAP/multiple services\n    if (annotationData.length === 0) {\n        for (const key in serviceDataSources) {\n            const dataSource = serviceDataSources[key];\n            if (dataSource?.type === 'ODataAnnotation' && dataSource?.settings?.localUri) {\n                const annotationFilePath = join(webAppPath, dataSource.settings.localUri);\n                annotationData.push({\n                    dataSourceUri: annotationFilePath,\n                    fileContent: await readFile(annotationFilePath)\n                });\n            }\n        }\n    }\n\n    return annotationData;\n};\n\n/**\n * Get the project artefacts, like manifest, service metadata, annotations\n * @param root - project root where package.json is\n */\nexport const getProject = async (root: string): Promise<Project> => {\n    const name = basename(root);\n    const webappPath = join(root, 'webapp');\n    const manifest = await getManifest(webappPath);\n    const annotations = await getAnnotations(manifest, webappPath);\n    const changes = await getChanges(webappPath);\n    const fragments = await getFragments(webappPath);\n    return {\n        root,\n        name,\n        manifest,\n        annotations,\n        changes,\n        fragments\n    };\n};\n"],
  "mappings": "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AK,KAAM,CAE/F,GAAI,EAAW,GAAK,KAAO,EAAW,GAAK,KAAO,EAAI,EAAI,GAEtD,GADA,IACI,EAAW,GAAK,KAAO,EAAW,GAAK,IACvC,iBAGC,EAAW,GAAK,KAAO,EAAW,GAAK,KAAO,EAAI,EAAI,GAC3D,KACI,EAAW,GAAK,KAAO,EAAW,GAAK,KAAO,EAAW,EAAI,GAAK,KAAO,EAAW,EAAI,GAAK,KAAK,CAClG,IACA,QACJ,CAIJ,GAFA,IAEI,GAAK,IAAO,EAAkB,IAAO,EAAa,GAClD,MAAO,EAEf,CACJ,CAIA,MAHK,CAAA,CAAA,GAAkB,IAAO,EAAa,IAGvC,EAAkB,GAAK,EAAc,EAAY,CAAU,EAInE,CAjFA,UAkFA,WAAkB,EAAG,CACjB,MAAO,OAAO,IAAM,QACxB,CAFA,UAGA,WAAoB,EAAM,CACtB,GAAI,CAAC,EAAK,OAAO,EACb,KAAM,IAAI,OAAM,+BAA+B,CAEvD,CAJA,SAIA,CAAA,EC1OA,GAAA,GAAA,GAAA,CAAA,aACA,OAAO,eAAe,EAAS,aAAc,CAAE,MAAO,EAAK,CAAC,EAE5D,GAAI,GAAO,CACP,WACA,WACA,MACA,MACA,MACA,cACA,KACA,OACA,MACA,OACA,MACA,OACA,OACA,MACA,OACA,SACA,MACA,WACA,WACA,UACA,MACA,UACA,IACA,MACA,KACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,QACA,MACA,MACA,MACA,SACA,YACA,OACA,MACA,MACA,MACA,MACA,KACA,MACA,OACA,MACA,MACA,YACA,MACA,MACA,SACA,MACA,OACA,MACA,OACA,MACA,MACA,QACA,MACA,MACA,eACA,MACA,KACA,QACA,MACA,MACA,MACA,MACA,eACA,WACA,KACA,MACA,IACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,QACA,gBACA,YACA,YACA,UACA,aACA,KACA,MACA,SACA,SACA,YACA,SACA,QACA,SACA,IACA,OACA,MACA,WACA,KACA,MACA,MACA,KACA,MACA,WACA,MACA,MACA,OACA,WACA,MACA,OACA,MACA,MACA,MACA,MACA,QACA,OACA,cACA,MACA,OACA,OACA,OACA,QACA,KACA,SACA,eACA,WACA,OACA,QACA,SACA,MACA,OACA,MACA,MACA,OACA,MACA,OACA,MACA,KACA,MACA,MACA,IACA,MACA,MACA,WACA,SACA,KACA,QACA,OACA,MACA,WACA,MACA,QACA,MACA,KACA,MACA,OACA,SACA,KACA,MACA,KACA,OACA,MACA,MACA,MACA,OACA,YACA,QACA,QACA,MACA,MACA,OACA,QACA,UACA,MACA,MACA,KACA,MACA,OACA,OACA,OACA,OACA,QACA,MACA,KACA,KACA,MACA,MACA,MACA,aACA,QACA,KACA,MACA,KACA,IACA,OACA,KACA,OACA,eACA,OACA,QACA,MACA,OACA,MACA,MACA,KACA,MACA,MACA,MACA,QACA,OACA,IACA,OACA,QACA,MACA,OACA,WACA,KACA,QACA,MACA,OACA,MACA,SACA,KACA,MACA,KACA,UACA,MACA,OACA,SACA,MACA,gBACA,mBACA,sBACA,iBACA,gBACA,eACA,kBACA,mBACA,oBACA,KACA,MACA,MACA,IACA,MACA,OACA,WACA,MACA,OACA,UACA,KACA,aACA,UACA,OACA,MACA,KACA,MACA,MACA,KACA,MACA,OACA,MACA,IACA,KACA,MACA,KACA,MACA,OACA,MACA,UACA,QACA,MACA,SACA,OACA,OACA,QACA,OACA,MACA,QACA,MACA,KACA,MACA,MACA,OACA,OACA,MACA,MACA,OACJ,EACA,EAAQ,QAAU,CAAA,CAAA,ECvSlB,GAAA,GAAA,GAAA,CAAA,aACA,OAAO,eAAe,EAAS,aAAc,CAAE,MAAO,EAAK,CAAC,EAE5D,GAAI,GAAO,CACP,MACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,KACJ,EACA,EAAQ,QAAU,CAAA,CAAA,EClBlB,GAAA,GAAA,GAAA,CAAA,aAEA,GAAM,GAAK,QAAQ,MACb,EAAO,QAAQ,QACf,EAAY,GAAA,EACZ,EAAS,GAAA,EACT,EAAY,GAAA,EACZ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CA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,sCACJ,EAEA,EAAY,kBAAoB,CAC5B,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,wCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,0CACA,uCACA,uCACA,uCACA,0CACA,0CACA,uCACA,uCACA,uCACA,uCACA,wCACA,wCACA,wCACA,wCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,0CACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,4DACA,uCACA,uCACA,uCACA,sCACJ,EAEA,EAAY,UAAY,CACpB,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,mCACA,sCACA,mCACA,mCACA,gCACA,mCACA,mCACA,mCACA,mCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,mCACA,gCACA,+BACJ,EAEA,EAAY,YAAc,CACtB,CAAC,EAAG,EAAG,CAAC,EACR,CAAC,EAAG,EAAG,CAAC,EACR,CAAC,EAAG,EAAG,CAAC,EACR,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EACf,CAAC,EAAG,EAAG,CAAC,EACR,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EACf,CAAC,EAAG,EAAG,CAAC,EACR,CAAC,EAAG,EAAG,EAAG,IAAK,CAAC,EAChB,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EACf,CAAC,EAAG,EAAG,CAAC,EACR,CAAC,EAAG,EAAG,EAAG,IAAK,CAAC,EAChB,CAAC,EAAG,EAAG,EAAG,IAAK,CAAC,EAChB,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EACf,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EACf,CAAC,EAAG,EAAG,CAAC,EACR,CAAC,EAAG,EAAG,EAAG,IAAK,CAAC,EAChB,CAAC,EAAG,EAAG,EAAG,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AK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MACL,GAAK,MACL,GAAK,MACL,GAAK,MACL,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MACL,GAAK,MACL,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MACL,GAAK,MACL,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MACL,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MACL,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,OAAU,GAAK,OACpB,GAAK,OAAU,GAAK,OACpB,GAAK,OAAU,GAAK,OACpB,GAAK,OAAU,GAAK,OACpB,GAAK,OAAU,GAAK,OACpB,GAAK,OACL,GAAK,OAAU,GAAK,KAC5B,EAEA,GAAU,aAAe,SAAU,EAAG,CAClC,MAAO,IAAK,IAAU,GAAK,IACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,IACL,GAAK,IACL,GAAK,IACL,GAAU,SAAS,CAAC,GACpB,GAAK,KAAU,GAAK,KACpB,GAAK,KAAU,GAAK,KACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MACL,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MACL,GAAK,MACL,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MACL,GAAK,MACL,GAAK,MACL,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,MAAU,GAAK,MACpB,GAAK,MACL,GAAK,OAAU,GAAK,OACpB,GAAK,OACL,GAAK,OACL,GAAK,KACL,GAAK,KACL,GAAK,KACL,GAAK,KACL,GAAK,MACL,GAAK,MACL,GAAK,MACL,GAAK,OACL,GAAK,OAAU,GAAK,OACpB,GAAK,OAAU,GAAK,OACpB,GAAK,OAAU,GAAK,KAC/B,EAEA,GAAU,aAAe,SAAU,EAAG,CAClC,OAAS,GAAI,EAAE,WAAY,GAAK,KAAM,EAAI,EAAE,YACxC,GAAI,EAAE,UAAY,GAAwB,EAAE,UAAY,EAA+B,CACnF,GAAI,GAAI,EAAE,UACN,GAAQ,EAEZ,IADA,EAAI,EAAE,YACC,GAAK,MAAS,GAAE,UAAY,GAAwB,EAAE,UAAY,IAAgC,CACrG,GAAK,EAAE,UACP,GAAI,IAAM,EACV,EAAI,EAAE,YACN,GAAI,WAAW,YAAY,EAAG,CAClC,CACA,GAAI,GAAM,UAAY,EAA+B,CACjD,GAAI,GAAI,GAAM,WACd,GAAI,GAAM,aAAe,KACrB,EAAE,YAAY,EAAK,EACnB,EAAE,YAAY,EAAE,cAAc,eAAe,CAAC,CAAC,MAC5C,CACH,GAAI,IAAO,GAAM,YACjB,EAAE,YAAY,EAAK,EACnB,EAAE,aAAa,EAAE,cAAc,eAAe,CAAC,EAAG,EAAI,CAC1D,CACJ,KACI,IAAM,UAAY,EAEtB,GAAI,GAAK,KACL,KAER,KAAW,GAAE,UAAY,GACrB,GAAU,aAAa,CAAC,CAGpC,EAEA,GAAU,YAAc,SAAU,EAAG,EAAG,CACpC,KAAO,GAAK,MAAM,CACd,GAAI,EAAE,cAAgB,EAClB,MAAO,GAEX,GAAI,IAAM,OACN,MAAO,GAEX,EAAI,EAAE,YAAY,UACtB,CACA,MAAO,EACX,EAEA,GAAU,eAAiB,SAAU,EAAG,EAAI,CAGxC,GAAI,EAAE,UAAY,GACV,GAAE,aAAa,IAAI,GAAK,GACrB,EAAE,eAAe,KAAM,IAAI,GAAK,GACnC,MAAO,GAGf,OAAS,GAAI,EAAE,WAAY,GAAK,KAAM,EAAI,EAAE,YAAa,CACrD,GAAI,IAAM,GAAU,eAAe,EAAG,CAAE,EACxC,GAAI,IAAO,KACP,MAAO,GAEf,CACA,MAAO,KACX,EAIA,GAAI,IAAkB,UAAY,CAC9B,WAAoB,EAAM,GAAW,CACjC,GAAI,IAAM,GAAY,KAAO,GAAU,SAAS,EAAI,GACpD,OAAQ,OACC,GAAe,uBAChB,MAAO,qBAAuB,OAC7B,GAAe,SAChB,MAAO,aAAe,GAE9B,MAAO,KACX,CATA,SAWA,WAAwB,EAAM,GAAO,GAAS,CAC1C,GAAI,GAAM,MAAM,KAAK,KAAM,EAAW,EAAM,EAAK,GAAK,EAAO,EAE7D,MAAA,GAAI,KAAO,EACX,EAAI,UAAY,GAET,CACX,CAPA,gBASA,EAAe,UAAY,OAAO,OAAO,MAAM,SAAS,EACxD,EAAe,UAAU,YAAc,EACvC,EAAe,WAAa,MAE5B,EAAe,UAAU,SAAW,UAAY,CAC5C,MAAO,MAAK,OAChB,EAEA,EAAe,YAAc,SAAU,EAAS,GAAO,CACnD,MAAO,IAAI,GAAe,KAAM,GAAO,CAAO,CAClD,EAEA,EAAe,uBAAyB,GACxC,EAAe,SAAW,GAEnB,CACX,EAAG,EAIH,GAAgB,UAAY,CAAC,EAC7B,GAAgB,UAAU,YAAc,GACxC,GAAgB,WAAa,OAAO,UAEpC,YAAyB,EAAG,EAAG,EAAG,CAC9B,KAAK,MAAQ,EAAE,MAAM,CAAC,EACtB,KAAK,QAAU,GAAI,IACnB,KAAK,QAAQ,kBAAoB,GAAI,IAAuB,CAAC,CACjE,CAJA,WAMA,GAAgB,iBAAmB,SAAU,EAAG,CAC5C,MAAO,GAAE,WAAa,EAA2B,EAAI,EAAE,aAC3D,EAEA,GAAgB,cAAgB,SAAU,EAAG,CACzC,GAAI,CAAC,EAAK,MAAO,GAEjB,GAAI,GAAM,GAAgB,iBAAiB,CAAC,EAE5C,GAAI,CACA,MAAO,GAAI,eAAe,WAAW,OAAQ,KAAK,CACtD,MAAA,CACI,MAAO,EACX,CACJ,EAEA,GAAgB,UAAU,SAAW,SAAU,EAAG,EAAG,EAAK,CACtD,KAAK,QAAQ,sBAAwB,EAIrC,KAAK,QAAQ,gBAAkB,GAAgB,cAAc,CAAC,EAE9D,GAAI,IAAS,KAAK,MAAM,SAAS,KAAK,OAAO,EAC7C,MAAO,IAAI,IAAY,GAAQ,CAAC,CACpC,EAIA,GAAuB,UAAY,CAAC,EACpC,GAAuB,UAAU,YAAc,GAC/C,GAAuB,WAAa,OAAO,UAE3C,YAAgC,EAAG,CAC/B,KAAK,gBAAkB,CAC3B,CAFA,WAIA,GAAuB,UAAU,aAAe,SAAU,EAAQ,EAAG,CACjE,MAAI,MAAK,iBAAmB,KACjB,KAEJ,KAAK,gBAAgB,mBAAmB,CAAM,CACzD,EAIA,GAAoB,UAAY,CAAC,EACjC,GAAoB,UAAU,YAAc,GAC5C,GAAoB,WAAa,OAAO,UAExC,YAA6B,EAAG,CAC5B,KAAK,KAAO,EACZ,KAAK,kBAAoB,GAAI,GACjC,CAHA,WAKA,GAAoB,UAAU,mBAAqB,SAAU,EAAQ,CACjE,MAAO,MAAK,kBAAkB,aAAa,EAAQ,KAAK,IAAI,CAChE,EAIA,GAAY,UAAY,CAAC,EACzB,GAAY,UAAU,YAAc,GACpC,GAAY,WAAa,OAAO,UAEhC,YAAqB,EAAG,EAAG,CAavB,OAZI,GAAK,GAAY,UACb,GAAE,cAAgB,GAClB,EAAI,GAAY,YACT,EAAE,cAAgB,GACzB,EAAI,GAAY,YACT,EAAE,cAAgB,GACzB,EAAI,GAAY,aACT,EAAE,cAAgB,IACzB,GAAI,GAAY,+BAGxB,KAAK,WAAa,EACV,OACC,IAAY,YACb,KAAK,YAAc,EAAE,YAAY,EACjC,WACC,IAAY,YACb,KAAK,YAAc,EAAE,YAAY,EACjC,WACC,IAAY,aACb,KAAK,aAAe,EAAE,aAAa,EACnC,WACC,IAAY,4BACZ,IAAY,wBACb,GAAI,EAAE,cAAgB,GAAU,CAC5B,KAAK,gBAAkB,EAAE,MAAM,EAC/B,MACJ,CACA,UACC,IAAY,iCACZ,IAAY,2BACb,GAAI,EAAE,cAAgB,GAAU,CAC5B,KAAK,qBAAuB,GAC5B,KAAK,MAAQ,EAAE,QAAQ,EACvB,KAAK,cAAgB,EACrB,MACJ,CACA,UACC,IAAY,iCACZ,IAAY,2BACb,GAAI,EAAE,cAAgB,GAAU,CAC5B,KAAK,MAAQ,EAAE,QAAQ,EACvB,KAAK,eAAiB,KAAK,MAAM,OACjC,MACJ,CACA,MAER,KAAM,IAAI,IAAe,GAAe,QAAQ,CACpD,CAjDA,WAmDA,GAAY,UAAU,YAAc,UAAY,CAC5C,GAAI,KAAK,YAAc,GAAY,8BAC5B,KAAK,YAAc,GAAY,2BAClC,KAAM,IAAI,IAAe,GAAe,QAAQ,EAEpD,MAAO,MAAK,MAAM,KAAK,gBAC3B,EAEA,GAAY,UAAU,aAAe,SAAU,EAAG,CAC9C,GAAI,KAAK,YAAc,GAAY,8BAC5B,KAAK,YAAc,GAAY,2BAClC,KAAM,IAAI,IAAe,GAAe,QAAQ,EAEpD,MAAO,MAAK,MAAM,EACtB,EAEA,GAAY,SAAW,EACvB,GAAY,YAAc,EAC1B,GAAY,YAAc,EAC1B,GAAY,aAAe,EAC3B,GAAY,6BAA+B,EAC3C,GAAY,2BAA6B,EACzC,GAAY,6BAA+B,EAC3C,GAAY,2BAA6B,EACzC,GAAY,wBAA0B,EACtC,GAAY,wBAA0B,EAItC,YAAiC,EAAK,EAAG,CACrC,EAAI,iBAAmB,SAAU,EAAG,GAAG,CACnC,GAAI,CACA,MAAO,IAAI,IAAgB,EAAG,GAAG,CAAC,CACtC,OAAS,GAAT,CACI,KAAM,IAAI,IAAe,GAAe,uBAAwB,EAAC,CACrE,CACJ,EACA,EAAI,iBAAmB,SAAU,EAAG,CAChC,MAAO,IAAI,IAAoB,CAAC,CACpC,EACA,EAAI,SAAW,SAAU,EAAG,GAAI,GAAG,EAAG,GAAK,CACvC,GAAI,EAAI,GAAK,EAAI,EACb,KAAM,CAAE,KAAM,EAAG,SAAU,UAAY,CAAE,MAAO,4BAA8B,CAAE,EAEpF,MAAO,GAAI,iBAAiB,EAAG,GAAG,CAAC,EAAE,SAAS,GAAI,EAAG,EAAG,CAC5D,CACJ,CAjBA,WAsBA,GAAI,CACA,GAAI,IAAgB,GACpB,GAAI,CACI,SAAS,gBACN,SAAS,eAAe,YACxB,SAAS,eAAe,WAAW,QAAS,IAAI,GACnD,IAAgB,GAExB,MAAA,CACA,CACI,IACA,GAAwB,SAAU,GAAI,EAAa,CAE3D,MAAA,CACA,CAKA,GAAwB,EAAS,GAAI,EAAa,EAEjD,UAAY,CACT,GAAI,GAAS,GAAI,GAEb,EAAoB,GAAI,IACxB,EAA0B,GAAI,IAC9B,GAA0B,GAAI,IAElC,YAAoC,EAAM,CACtC,MAAO,CACH,aAAc,SAAU,GAAQ,GAAM,CAClC,GAAI,IAAK,EAAK,GAAQ,EAAI,EAE1B,MAAO,KAAM,EAAkB,aAAa,GAAQ,EAAI,CAC5D,CACJ,CACJ,CARA,UAUA,WAAkC,EAAK,CACnC,MAAO,IAA2B,EAAI,aAAa,KAAK,CAAG,CAAC,CAChE,CAFA,SAIA,YAA+B,EAAK,CAChC,MAAO,IAA2B,SAAU,GAAQ,CAChD,MAAO,GAAI,GACf,CAAC,CACL,CAJA,UAMA,YAAwB,EAAU,CAC9B,MAAI,IAAY,MAAO,GAAS,cAAiB,WACtC,EAAyB,CAAQ,EAGxC,MAAO,IAAa,WACb,GAA2B,CAAQ,EAI1C,MAAO,IAAa,SACb,GAAsB,CAAQ,EAGlC,CACX,CAfA,WAkBA,YAAsB,EAAO,CACzB,GAAI,IAAU,MACV,MAAO,GAAU,KACjB,YAAiB,KACjB,YAAiB,KACjB,YAAiB,KACjB,YAAiB,IACjB,MAAO,GAGX,OAAQ,MAAO,QACN,SAAU,MAAO,IAAI,IAAQ,CAAK,MAClC,UAAW,MAAO,IAAI,IAAS,CAAK,MACpC,SAAU,MAAO,IAAI,IAAQ,CAAK,EAI3C,GAAI,IAAK,GAAI,IACb,MAAA,IAAG,SAAS,CAAC,EAAE,OAAO,CAAK,CAAC,EACrB,EACX,CApBA,WAsBA,YAAuB,EAAM,CACzB,MAAO,UAAU,GAAS,CACtB,GAAI,IAAO,MAAM,UAAU,MAAM,KAAK,UAAW,CAAC,EAAE,IAAI,SAAU,GAAK,CACnE,MAAO,IAAI,SAAS,EAAO,CAC/B,CAAC,EACG,GAAS,EAAK,MAAM,KAAM,CAAC,EAAE,OAAO,GAAS,EAAI,CAAC,EACtD,MAAO,IAAa,EAAM,CAC9B,CACJ,CARA,UAUA,YAA0C,EAAM,CAC5C,MAAO,CACH,YAAa,SAAU,GAAM,GAAW,CACpC,GAAI,IAAQ,EAAK,GAAM,EAAS,EAChC,MAAI,IACO,GAAc,EAAK,EAEvB,EAAwB,YAAY,GAAM,EAAS,CAC9D,CACJ,CACJ,CAVA,WAYA,YAAwC,EAAK,CACzC,MAAO,IAAiC,EAAI,YAAY,KAAK,CAAG,CAAC,CACrE,CAFA,WAIA,YAAqC,EAAK,CACtC,MAAO,IAAiC,SAAU,GAAM,CACpD,MAAO,GAAI,GACf,CAAC,CACL,CAJA,WAMA,YAA8B,EAAU,CACpC,MAAI,IAAY,MAAO,GAAS,aAAgB,WACrC,GAA+B,CAAQ,EAG9C,MAAO,IAAa,WACb,GAAiC,CAAQ,EAIhD,MAAO,IAAa,SACb,GAA4B,CAAQ,EAGxC,CACX,CAfA,WAiBA,YAA0C,EAAM,CAC5C,MAAO,CACH,YAAa,SAAU,GAAM,GAAW,CACpC,GAAI,IAAQ,EAAK,GAAM,EAAS,EAChC,MAAO,IAAa,EAAK,CAC7B,CACJ,CACJ,CAPA,WASA,YAA8B,EAAU,CACpC,GAAI,EAAU,CACV,GAAI,MAAO,GAAS,aAAgB,WAChC,MAAO,IAAiC,EAAS,YAAY,KAAK,CAAQ,CAAC,EAG/E,GAAI,MAAO,IAAa,WACpB,MAAO,IAAiC,CAAQ,EAIpD,GAAI,MAAO,IAAa,SACpB,MAAO,IAAiC,SAAU,GAAM,CACpD,MAAO,GAAS,GACpB,CAAC,CAET,CAEA,MAAO,GACX,CAnBA,WAqBA,WAAuB,EAAM,GAAM,GAAQ,CACnC,IAAQ,KAAU,IAAK,GAAQ,GAAO,GAC9C,CAFA,UAIA,WAAqB,EAAS,CAC1B,GAAI,IAAU,GAAI,IAElB,MAAI,GACA,IAAQ,kBAAoB,GAAe,EAAQ,UAAU,EAC7D,GAAQ,iBAAmB,GAAqB,EAAQ,SAAS,EACjE,GAAQ,iBAAmB,GAAqB,EAAQ,SAAS,EACjE,GAAQ,sBAAwB,EAAQ,KACxC,EAAc,+BAAgC,GAAS,CAAO,EAC9D,EAAc,SAAU,GAAS,CAAO,GAExC,GAAQ,kBAAoB,EAGzB,EACX,CAfA,UAiBA,YAAkB,EAAkB,GAAS,CACzC,GAAI,IAAU,EAAY,EAAO,EAEjC,MAAO,GAAiB,SAAS,EAAO,CAC5C,CAJA,WAMA,GAAI,GAAqB,CACrB,SAAU,SAAU,EAAS,CACzB,MAAO,IAAS,KAAK,WAAY,CAAO,CAC5C,EAEE,eAAgB,SAAU,EAAS,CACjC,MAAO,MAAK,SAAS,CAAO,EAAE,YAAY,CAC9C,EAEE,eAAgB,SAAU,EAAS,CACjC,MAAO,MAAK,SAAS,CAAO,EAAE,YAAY,CAC9C,EAEE,gBAAiB,SAAU,EAAS,CAClC,MAAO,MAAK,SAAS,CAAO,EAAE,aAAa,CAC/C,EAEE,gBAAiB,SAAU,EAAS,CAClC,MAAO,MAAK,SAAS,CAAO,EAAE,QAAQ,CAC1C,EAEE,OAAQ,SAAU,EAAS,CACzB,MAAO,MAAK,gBAAgB,CAAO,EAAE,QAAQ,CACjD,EAEE,QAAS,SAAU,EAAS,CAC1B,MAAO,MAAK,OAAO,CAAO,EAAE,EAChC,CACJ,EAEA,WAAe,EAAO,CAClB,GAAI,IAAS,EAAO,MAAM,CAAK,EAE/B,MAAO,QAAO,OAAO,EAAoB,CACrC,WAAY,CACR,MAAO,EACX,CACJ,CAAC,CACL,CARA,UAUA,EAAQ,MAAQ,CACpB,EAAG,EAEH,EACI,EACA,CACI,MAAA,EACA,YAAA,EACA,YAAA,GAEA,KAAA,EACA,SAAA,GACA,SAAA,EACA,aAAA,EAEA,YAAA,EACA,aAAA,EAEA,aAAA,GAEA,gBAAA,EACA,kBAAA,EACA,kBAAA,EACA,qBAAA,EACA,yBAAA,EACA,4BAAA,EAEA,cAAA,EACA,eAAA,EACA,kBAAA,GACA,aAAA,EACA,aAAA,EACA,oBAAA,EAEA,aAAA,EACA,kBAAA,EAEA,aAAA,GAEA,SAAA,GACA,SAAA,GACA,QAAA,GACA,QAAA,GAEA,kBAAA,GACA,iBAAA,GACA,iBAAA,GAEA,UAAA,EACJ,CACJ,EAGA,EAAQ,OAAS,SAAU,EAAG,EAAK,EAAQ,CACvC,MAAO,GAAQ,mBAAmB,EAAG,EAAK,KAAM,CAAM,CAC1D,EAEA,EAAQ,cAAgB,SAAU,EAAU,CACxC,GAAI,GAAW,CACX,SAAU,GAAY,CAAC,EACvB,mBAAoB,SAAU,EAAQ,CAClC,MAAO,MAAK,SAAS,EACzB,CACJ,EAEA,MAAO,UAAU,EAAG,GAAK,GAAQ,CAC7B,MAAO,GAAQ,mBAAmB,EAAG,GAAK,EAAU,EAAM,CAC9D,CACJ,EAEA,EAAQ,mBAAqB,SAAU,EAAG,EAAK,EAAU,GAAQ,CAC7D,GAAI,IAAa,GAAI,IAAgB,EAAG,EAAU,GAAI,EAAa,EAC/D,EAAO,GAAY,SAEnB,GAAS,GAAW,SAAS,EAAK,EAAM,IAAI,EAEhD,MAAI,IAAO,YAAc,GAAY,YACjC,GAAS,GAAO,YAEX,GAAO,YAAc,GAAY,YACtC,GAAS,GAAO,YAEX,GAAO,YAAc,GAAY,aACtC,GAAS,GAAO,aAGhB,IAAS,GAAO,MACZ,IACA,IAAS,GAAO,KAIjB,EACX,EAEA,EAAQ,QAAU,SAAU,EAAG,EAAK,CAChC,MAAO,GAAQ,OAAO,EAAG,EAAK,EAAI,CACtC,CAGJ,GAAG,CAAK,CAAA,CAAA,EC9uJR,GAAA,GAAA,CAAA,EAAA,IAAA,CAaA,WAAe,EAAK,EAAU,CAAC,EAAG,CAE9B,EAAQ,OAAS,EAAQ,QAAW,KAAM,IAE1C,YAAqB,CACjB,MAAO,GAAI,GAAK,EAAQ,GAAK,EAAQ,GAAK,EAAM,CACpD,CAFA,SAIA,YAAyB,CACrB,MAAA,GAAM,KAAK,EACJ,EAAI,EAAI,GAAK,EAAQ,GAAK,EAAQ,GAAK,EAAsB,EAAK,CAC7E,CAHA,SAKA,YAAoB,CAChB,GAAM,GAAO,EAAY,EACnB,EAAW,CAAC,EACd,EACA,EAAQ,EAAc,EAE1B,KAAO,GAAO,CACV,GAAI,EAAM,KAAK,OAAS,UAAW,CAC/B,GAAI,EACA,KAAM,IAAI,OAAM,2BAA2B,EAE/C,EAAmB,EAAM,IAC7B,CAEK,EAAM,UACP,EAAS,KAAK,EAAM,IAAI,EAG5B,EAAQ,EAAc,CAC1B,CAEA,GAAI,CAAC,EACD,KAAM,IAAI,OAAM,qBAAqB,EAGzC,MAAO,CACH,YAAa,EAAO,EAAK,KAAO,KAChC,KAAM,EACN,SAAA,CACJ,CACJ,CA9BA,SAgCA,YAAuB,CACnB,MAAO,GAAsB,EAAI,CACrC,CAFA,SAIA,WAA+B,EAAkB,CAC7C,GAAM,GAAuB,EAAnB,EAAyB,eAAwB,mBAAV,EACjD,GAAI,CAAC,EAAG,OAGR,GAAM,GAAO,CACT,KAAM,EAAE,GACR,KAAM,wBACN,WAAY,CAAC,CACjB,EAGA,KAAO,CAAE,GAAI,GAAK,EAAG,IAAI,IAAI,CACzB,GAAM,GAAO,EAAU,EACvB,GAAI,CAAC,EAAM,MAAO,GAClB,EAAK,WAAW,EAAK,MAAQ,EAAK,KACtC,CAEA,MAAA,GAAM,KAAK,EAEJ,CACH,SAAU,EAAmB,GAAQ,EAAQ,OAAO,CAAI,IAAM,GAC9D,KAAA,CACJ,CACJ,CAxBA,SA0BA,WAAa,EAAW,CACpB,GAAM,GAAI,EAAM,iBAAiB,EACjC,GAAI,CAAC,EAAG,OAGR,GAAM,GAAO,CACT,KAAM,UACN,KAAM,EAAE,GACR,WAAY,CAAC,EACb,SAAU,CAAC,CACf,EAGA,KAAO,CAAE,GAAI,GAAK,EAAG,GAAG,GAAK,EAAG,IAAI,GAAK,EAAG,IAAI,IAAI,CAChD,GAAM,GAAO,EAAU,EACvB,GAAI,CAAC,EAAM,MAAO,GAClB,EAAK,WAAW,EAAK,MAAQ,EAAK,KACtC,CAEA,GAAM,GAAW,EAAY,GAAQ,EAAQ,OAAO,CAAI,IAAM,GAG9D,GAAI,EAAM,SAAS,EACf,MAAA,GAAK,SAAW,KACT,CACH,SAAA,EACA,KAAA,CACJ,EAKJ,GAFA,EAAM,MAAM,EAER,CAAC,EAAU,CAEX,GAAI,GAAQ,EAAU,EACtB,KAAO,GACE,EAAM,UACP,EAAK,SAAS,KAAK,EAAM,IAAI,EAEjC,EAAQ,EAAU,CAE1B,CAGA,MAAA,GAAM,eAAe,EAEd,CACH,SAAA,EACA,KAAA,CACJ,CACJ,CAlDA,SAoDA,YAAmB,CACf,GAAM,GAAI,EAAM,qBAAqB,EACrC,GAAI,EAAG,CACH,GAAM,GAAO,CACT,KAAM,eACN,QAAS,EAAE,EACf,EACA,MAAO,CACH,SAAU,EAAQ,OAAO,CAAI,IAAM,GACnC,KAAA,CACJ,CACJ,CACJ,CAZA,SAcA,YAAiB,CACb,GAAI,EAAI,WAAW,WAAW,EAAG,CAC7B,GAAM,GAAmB,EAAI,QAAQ,KAAK,EAC1C,GAAI,EAAmB,GAAI,CACvB,GAAM,GAAqB,EAAmB,EACxC,EAAO,CACT,KAAM,QACN,QAAS,EAAI,UAAU,EAAG,CAAiB,CAC/C,EACA,MAAA,GAAM,EAAI,MAAM,CAAiB,EAC1B,CACH,SAAU,EAAQ,OAAO,CAAI,IAAM,GACnC,KAAA,CACJ,CACJ,CACJ,CACJ,CAhBA,SAkBA,YAAmB,CACf,GAAM,GAAI,EAAM,kBAAkB,EAClC,GAAI,EAAG,CACH,GAAM,GAAO,CACT,KAAM,UACN,QAAS,EAAE,EACf,EACA,MAAO,CACH,SAAU,EAAQ,OAAO,CAAI,IAAM,GACnC,KAAA,CACJ,CACJ,CACJ,CAZA,SAcA,YAAmB,CACf,GAAM,GAAI,EAAM,UAAU,EAC1B,GAAI,EAAG,CACH,GAAM,GAAO,CACT,KAAM,OACN,QAAS,EAAE,EACf,EACA,MAAO,CACH,SAAU,EAAQ,OAAO,CAAI,IAAM,GACnC,KAAA,CACJ,CACJ,CACJ,CAZA,SAcA,YAAqB,CACjB,GAAM,GAAI,EAAM,2CAA2C,EAC3D,GAAK,EACL,MAAO,CAAC,KAAM,EAAE,GAAI,MAAO,EAAM,EAAE,EAAE,CAAC,CAC1C,CAJA,SASA,WAAe,EAAK,CAChB,MAAO,GAAI,QAAQ,eAAgB,EAAE,CACzC,CAFA,SAOA,WAAe,EAAI,CACf,GAAM,GAAI,EAAI,MAAM,CAAE,EACtB,GAAK,EACL,MAAA,GAAM,EAAI,MAAM,EAAE,GAAG,MAAM,EACpB,CACX,CALA,SAUA,YAAe,CACX,MAAa,GAAI,SAAV,CACX,CAFA,SAOA,WAAY,EAAQ,CAChB,MAAa,GAAI,QAAQ,CAAM,IAAxB,CACX,CAFA,gBAIA,EAAM,EAAI,KAAK,EAER,EAAS,CACpB,CAnOA,UAqOA,EAAO,QAAU,CAAA,CAAA,EClPjB,GAAA,GAAA,CAAA,EAAA,IAAA,CAoBA,WAAiB,EAAO,CACpB,GAAI,CAAC,EAAM,QAAQ,aAAe,CAAC,EAAM,QAAQ,cAAe,OAChE,EAAM,SAAW,EAAM,QAAQ,cAC/B,GAAI,GACJ,IAAK,EAAI,EAAG,EAAI,EAAM,MAAO,IACzB,EAAM,SAAW,EAAM,QAAQ,WAEvC,CAPA,UAcA,WAAuB,EAAO,EAAS,CACnC,EAAM,SAAW,CACrB,CAFA,UAUA,WAAqB,EAAM,EAAO,EAAe,CAC7C,GAAI,MAAO,GAAK,SAAY,SACxB,EAAmB,EAAM,EAAO,CAAa,UACtC,EAAK,OAAS,UACrB,EAAmB,EAAM,EAAO,CAAa,UACtC,EAAK,OAAS,wBACrB,EAA4B,EAAM,EAAO,CAAa,MAEtD,MAAM,IAAI,OAAM,sBAAwB,EAAK,IAAI,CAEzD,CAVA,UAkBA,WAA4B,EAAM,EAAO,EAAe,CAC/C,GACD,GAAK,QAAU,EAAK,QAAQ,KAAK,GAEjC,EAAK,QAAQ,OAAS,GAClB,EAAC,GAAiB,EAAM,QAAQ,OAAS,GACzC,EAAQ,CAAK,EAEjB,EAAc,EAAO,EAAK,OAAO,EAEzC,CAVA,UAkBA,WAA4B,EAAM,EAAO,EAAe,CAQpD,GAPI,CAAC,GAAiB,EAAM,QAAQ,OAAS,GACzC,EAAQ,CAAK,EAGjB,EAAc,EAAO,IAAM,EAAK,IAAI,EACpC,EAAkB,EAAO,EAAK,UAAU,EAEpC,EAAK,WAAa,KAAM,CACxB,GAAM,GAA4B,EAAM,QAAQ,gCAAkC,MAAQ,KAE1F,EAAc,EAAO,CAAyB,CAClD,SAAW,EAAK,SAAS,SAAW,EAEhC,EAAc,EAAO,MAAQ,EAAK,KAAO,GAAG,MACzC,CAEH,EAAc,EAAO,GAAG,EAExB,EAAM,QAEN,GAAI,GAAoB,EAAK,WAAW,eAAiB,WAEzD,GAAI,CAAC,GAAqB,EAAM,QAAQ,gBAAiB,CACrD,GAAI,GAAoB,GACpB,EAAkC,GAClC,EAAuB,GAE3B,EAAK,SAAS,QAAQ,SAAS,EAAO,EAAO,CACrC,EAAM,OAAS,OACX,GAAM,QAAQ,SAAS;CAAI,EAC3B,GAAkC,GAClC,EAAM,QAAU,EAAM,QAAQ,KAAK,GAC5B,KAAU,GAAK,IAAU,EAAK,SAAS,OAAS,IACnD,EAAM,QAAQ,KAAK,EAAE,SAAW,GAEhC,GAAM,QAAU,IAGpB,EAAM,QAAQ,OAAS,GACvB,GAAoB,KAEjB,EAAM,OAAS,QACtB,EAAoB,GAEpB,EAAuB,EAE/B,CAAC,EAEG,GAAsB,EAAC,GAAwB,CAAC,IAChD,GAAoB,GAE5B,CAEA,EAAK,SAAS,QAAQ,SAAS,EAAO,CAClC,EAAY,EAAO,EAAO,GAAiB,EAAmB,EAAM,OAAO,CAC/E,CAAC,EAED,EAAM,QAEF,CAAC,GAAiB,CAAC,GACnB,EAAQ,CAAK,EAEjB,EAAc,EAAO,KAAO,EAAK,KAAO,GAAG,CAC/C,CACJ,CAjEA,UAwEA,WAA2B,EAAO,EAAY,CAC1C,OAAO,KAAK,CAAU,EAAE,QAAQ,SAAS,EAAM,CAC3C,GAAM,GAAU,EAAW,GAAM,QAAQ,KAAM,QAAQ,EACvD,EAAc,EAAO,IAAM,EAAO,KAAO,EAAU,GAAG,CAC1D,CAAC,CACL,CALA,UAYA,WAAqC,EAAM,EAAO,CAC1C,EAAM,QAAQ,OAAS,GACvB,EAAQ,CAAK,EAEjB,EAAc,EAAO,KAAO,EAAK,IAAI,EACrC,EAAkB,EAAO,EAAK,UAAU,EACxC,EAAc,EAAO,IAAI,CAC7B,CAPA,UAiBA,WAAgB,EAAK,EAAU,CAAC,EAAG,CAC/B,EAAQ,YAAc,eAAiB,GAAU,EAAQ,YAAc,OACvE,EAAQ,gBAAkB,EAAQ,kBAAoB,GACtD,EAAQ,cAAgB,iBAAmB,GAAU,EAAQ,cAAgB;EAC7E,EAAQ,gCAAkC,CAAC,CAAC,EAAQ,gCAGpD,GAAM,GADS,GAAA,EACU,EAAK,CAAC,OAAQ,EAAQ,MAAM,CAAC,EAChD,EAAQ,CAAC,QAAS,GAAI,MAAO,EAAG,QAAS,CAAO,EAEtD,MAAI,GAAU,aACV,EAA4B,EAAU,YAAa,CAAK,EAG5D,EAAU,SAAS,QAAQ,SAAS,EAAO,CACvC,EAAY,EAAO,EAAO,EAAK,CACnC,CAAC,EAEM,EAAM,QACR,QAAQ,QAAS;CAAI,EACrB,QAAQ,MAAO,EAAQ,aAAa,CAC7C,CArBA,UAwBA,EAAO,QAAU,CAAA,CAAA,EC7MjB,GAAA,GAAA,GAAA,CAAA,aACA,GAAI,GAAmB,GAAQ,EAAK,iBAAqB,QAAO,OAAU,SAAS,EAAG,EAAG,EAAG,EAAI,CACxF,IAAO,QAAW,GAAK,GAC3B,OAAO,eAAe,EAAG,EAAI,CAAE,WAAY,GAAM,IAAK,UAAW,CAAE,MAAO,GAAE,EAAI,CAAE,CAAC,CACvF,EAAM,SAAS,EAAG,EAAG,EAAG,EAAI,CACpB,IAAO,QAAW,GAAK,GAC3B,EAAE,GAAM,EAAE,EACd,GACI,EAAsB,GAAQ,EAAK,oBAAwB,QAAO,OAAU,SAAS,EAAG,EAAG,CAC3F,OAAO,eAAe,EAAG,UAAW,CAAE,WAAY,GAAM,MAAO,CAAE,CAAC,CACtE,EAAK,SAAS,EAAG,EAAG,CAChB,EAAE,QAAa,CACnB,GACI,EAAgB,GAAQ,EAAK,cAAiB,SAAU,EAAK,CAC7D,GAAI,GAAO,EAAI,WAAY,MAAO,GAClC,GAAI,GAAS,CAAC,EACd,GAAI,GAAO,KAAM,OAAS,KAAK,GAAS,IAAM,WAAa,OAAO,UAAU,eAAe,KAAK,EAAK,CAAC,GAAG,EAAgB,EAAQ,EAAK,CAAC,EACvI,MAAA,GAAmB,EAAQ,CAAG,EACvB,CACX,EACI,EAAmB,GAAQ,EAAK,iBAAoB,SAAU,EAAK,CACnE,MAAQ,IAAO,EAAI,WAAc,EAAM,CAAE,QAAW,CAAI,CAC5D,EACA,OAAO,eAAe,EAAS,aAAc,CAAE,MAAO,EAAK,CAAC,EAC5D,EAAQ,sBAAwB,OAChC,GAAM,GAAW,GAAA,EACX,EAAkB,GAAA,EAClB,EAAQ,GAAA,EACR,EAAS,QAAQ,QACjB,EAAW,GAAA,EACX,EAAQ,EAAa,GAAA,CAAgB,EACrC,EAAkB,EAAgB,GAAA,CAAwB,EAC1D,EAAa,GAAA,EACb,EAAc,GAAA,EASpB,WAA+B,EAAU,EAAQ,EAAI,CAMjD,GAJK,GACD,GAAK,EAAgB,OAAO,EAAS,OAAO,CAAC,GAEjD,EAAW,iBAAiB,EAAU,CAAE,EACpC,CAAC,EAAG,OAAO,EAAO,KAAK,EAAU,EAAO,kBAAkB,CAAC,EAC3D,KAAM,IAAI,OAAM,qBAAqB,EAAO,qBAAqB,EAGrE,GAAM,GAAc,EAAkB,EAAU,EAAO,mBAAoB,CAAE,EACvE,EAAmB,EAAoB,EAAO,kBAAmB,EAAa,CAAE,EACtF,MAAA,GAAK,EAAe,EAAU,EAAO,mBAAoB,EAAO,gBAAiB,EAAa,EAAkB,CAAE,EAC3G,CACX,CAdA,UAeA,EAAQ,sBAAwB,EAShC,WAA2B,EAAU,EAAU,EAAI,CAC/C,GAAI,GACJ,GAAI,CACA,EAAc,EAAG,KAAK,EAAO,KAAK,EAAU,CAAQ,CAAC,CACzD,OACO,EADP,CAEI,KAAM,IAAI,OAAM,0CAA0C,EAAW,gBAAgB,CAAK,GAAG,CACjG,CACA,GAAM,GAAe,GAAC,EAAO,IAAY,CACrC,KAAM,IAAI,OAAM,4CAA4C,QAAY,GAAS,CACrF,EAFqB,KAIjB,EACJ,GAAI,CACA,EAAe,GAAI,GAAS,UAAU,CAAE,aAAA,CAAa,CAAC,EAAE,gBAAgB,CAAW,CACvF,OACO,EADP,CAEI,KAAM,IAAI,OAAM,2CAA2C,EAAW,gBAAgB,CAAK,GAAG,CAClG,CACA,MAAO,EACX,CApBA,UA2BA,WAAiC,EAAgB,CAC7C,GAAM,GAAe,EAAe,WAAW,OACzC,EAAuB,OAAO,QAAQ,CAAY,EAAE,KAAK,CAAC,CAAC,EAAG,KAAW,IAAU,eAAe,EACxG,MAAK,IACD,GAAe,WAAW,OAAO,OAAY,gBAC7C,EAAe,gBAAgB,eAAe,gCAAiC,eAAgB,eAAe,GAE3G,EAAuB,EAAqB,GAAK,QAC5D,CARA,UAiBA,WAA6B,EAAmB,EAAc,EAAI,CAC9D,GAAM,GAAqB,EAAkB,kBACvC,EAAmB,EAAY,gBAAgB,mBAAmB,YAA6B,EAC/F,EAAkB,EAAM,OAAO,EAAG,KAAK,CAAgB,EAAG,CAC5D,gBAAiB,EAAwB,CAAY,EACrD,KAAM,CACV,EAAG,CAAC,CAAC,EACC,EAAe,GAAC,EAAO,IAAY,CACrC,KAAM,IAAI,OAAM,qEAAqE,QAAY,GAAS,CAC9G,EAFqB,KAIjB,EACJ,GAAI,CACA,EAAmB,GAAI,GAAS,UAAU,CAAE,aAAA,CAAa,CAAC,EAAE,gBAAgB,CAAe,CAC/F,OACO,EADP,CAEI,KAAM,IAAI,OAAM,oEAAoE,EAAW,gBAAgB,CAAK,GAAG,CAC3H,CACA,MAAO,EACX,CAnBA,UA+BA,WAAwB,EAAU,EAAU,EAAiB,EAAc,EAAkB,EAAI,CAG7F,GAAM,GAFc,EAAM,cAAc,EAAa,WAAW,MAAM,EAEtC,EAAiB,CAAY,EAC7D,GAAI,GAAe,EAAY,OAAS,EAAG,CACvC,GAAM,GAAa,EAAY,GACzB,EAAa,EAAa,WAAW,EAAiB,gBAAiB,EAAI,EACjF,EAAW,YAAY,CAAU,EAEjC,GAAM,GAAgB,GAAI,GAAS,cAAc,EAAE,kBAAkB,CAAY,EACjF,EAAG,MAAM,EAAO,KAAK,EAAU,CAAQ,EAAG,EAAgB,QAAQ,CAAa,CAAC,CACpF,KAEI,MAAM,IAAI,OAAM,iCAAiC,IAAkB,EAEvE,MAAO,EACX,CAhBA,SAgBA,CAAA,EC7JA,GAAA,GAAA,GAAA,CAAA,aACA,OAAO,eAAe,EAAS,aAAc,CAAE,MAAO,EAAK,CAAC,EAC5D,EAAQ,4BAA8B,OAMtC,GAAI,GACH,AAAA,UAAU,EAA6B,CACpC,EAA4B,WAAgB,aAC5C,EAA4B,WAAgB,YAChD,GAAG,EAA8B,EAAQ,6BAAgC,GAAQ,4BAA8B,CAAC,EAAE,CAAA,CAAA,ECZlH,GAAA,GAAA,GAAA,CAAA,aACA,OAAO,eAAe,EAAS,aAAc,CAAE,MAAO,EAAK,CAAC,EAC5D,EAAQ,4BAA8B,EAAQ,qCAAuC,EAAQ,qCAAuC,OACpI,GAAM,GAAW,GAAA,EACX,EAAkB,GAAA,EAClB,EAAS,QAAQ,QACjB,EAAQ,GAAA,EACR,EAAU,GAAA,EACV,EAAa,GAAA,EACb,EAAa,GAAA,EACb,EAAc,GAAA,EACd,EAAU,GAAA,EAChB,EAAQ,qCAAuC,mDAC/C,EAAQ,qCAAuC,mDAC/C,GAAM,GAA4B,8BAC5B,EAA0B,GAAI,KAAI,CACpC,CAAC,EAAQ,4BAA4B,WAAY,EAAQ,oCAAoC,EAC7F,CAAC,EAAQ,4BAA4B,WAAY,EAAQ,oCAAoC,CACjG,CAAC,EAQD,WAAkC,EAAQ,EAAO,CAC7C,MAAK,GAAO,SAAS,CAAK,GACtB,EAAO,KAAK,CAAK,EAEd,CACX,CALA,UAaA,WAAwC,EAAU,EAAa,CAC3D,GAAI,GAAI,EAAI,EACZ,GAAM,GAAc,GAAM,GAAM,GAAK,EAAS,cAAgB,MAAQ,IAAO,OAAS,OAAS,EAAG,WAAa,MAAQ,IAAO,OAAS,OAAS,EAAG,cAAgB,MAAQ,IAAO,OAAS,OAAS,EAAG,GACvM,GAAI,GAAe,MAAyC,EAAW,eAAe,CAAW,EAC7F,MAAO,GAAW,EAG1B,CAPA,UAmBA,WAAyC,EAAmB,EAAQ,EAAgB,CAChF,GAAI,EAAO,UAAW,CACd,EAAkB,iBAElB,GAAO,eAAiB,mBAG5B,MACJ,CAEI,EAAkB,gBAAkB,EAAkB,iBAAmB,EAAO,eAEhF,GAAO,gBAAkB,EAAkB,gBAAkB,CAAC,GAAG,EAAkB,eAAe,EAAI,CAAC,EAEvG,EAAyB,EAAO,gBAAiB,EAAkB,cAAc,EACjF,EAAyB,EAAO,gBAAiB,CAAc,EAE/D,EAAO,eAAiB,kBAEnB,EAAkB,iBAAmB,CAAC,EAAkB,gBAAgB,SAAS,CAAc,GAEpG,GAAO,gBAAkB,EAAyB,CAAC,GAAG,EAAkB,eAAe,EAAG,CAAc,EAEhH,CAvBA,UA8BA,WAAsC,EAAe,CACjD,OAAW,CAAC,EAAK,IAAU,GACvB,GAAI,EAAc,WAAW,CAAK,EAC9B,MAAO,CACH,SAAU,CACd,CAIZ,CATA,UAkBA,WAAuB,EAAM,EAAc,EAAU,CAEjD,GAAM,GAAS,OAAO,OAAO,CAAC,EAAG,CAAI,EAErC,EAAW,kBAAkB,EAAQ,EAAc,CAAQ,EAE3D,EAAO,eAAiB,GAAG,EAAO,MAAM,EAAO,OAE/C,GAAI,GACJ,GAAI,MAAO,GAAO,WAAc,SAAU,CAEtC,EAAO,UAAU,SAAW,EAAO,UAAU,UAAY,EAAQ,4BAA4B,WAC7F,GAAM,CAAE,SAAA,EAAU,OAAA,GAAW,EAAO,UACpC,EAAc,EAAwB,IAAI,CAAQ,GAAK,EAAQ,qCAC3D,GAEA,GAAc,GAAG,KAAe,EAAS,WAAW,OAAO,IAEnE,KAGI,GAAc,EAAO,UACrB,EAAO,UAAY,EAA6B,EAAO,SAAS,GAAK,EAAO,UAEhF,EAAO,YAAc,EAErB,GAAM,GAAoB,EAA+B,EAAU,CAAW,EAE9E,MAAI,IACA,EAAgC,EAAmB,EAAQ,EAAO,cAAc,EAE7E,CACX,CAhCA,UAwCA,WAA6B,EAAQ,CACjC,GAAI,GAAS,GACP,CAAE,eAAA,GAAmB,EAC3B,GAAK,EAIL,MAAO,CAAC,EAAK,IAAU,CAEnB,GAAI,IAAQ,IAAM,EAAQ,CACtB,EAAS,GACT,GAAM,GAAY,EAA+B,EAAO,EAAO,WAAW,EACtE,GACA,MAAO,GAAU,EAEzB,CACA,MAAO,EACX,CACJ,CAlBA,UA2BA,WAAqC,EAAU,EAAkB,EAAI,CAE5D,GACD,GAAK,EAAgB,OAAO,EAAS,OAAO,CAAC,GAEjD,EAAW,iBAAiB,EAAU,CAAE,EACxC,GAAM,GAAe,EAAO,KAAK,EAAU,sBAAsB,EAC3D,EAAW,EAAG,SAAS,CAAY,EAEnC,EAAiB,EAAc,EAAkB,EAAc,CAAQ,EAEvE,EAAiB,EAAM,OAAO,EAAG,KAAK,EAAY,gBAAgB,oCAAoC,CAAC,EAAG,EAAgB,CAAC,CAAC,EAClI,EAAG,WAAW,EAAc,KAAK,MAAM,CAAc,EAAG,EAAoB,CAAc,CAAC,EAE3F,GAAM,GAAM,EAAiB,WAAa,KAAO,KAC3C,EAAW,EAAO,KAAK,EAAe,KAAM,GAAG,EAAe,mBAAmB,GAAK,EAC5F,MAAK,GAAG,OAAO,CAAQ,GACnB,EAAG,QAAQ,EAAY,gBAAgB,mCAAmC,GAAK,EAAG,EAAU,CAAc,EAE1G,EAAiB,YACjB,EAAQ,kBAAkB,EAAU,EAAiB,cAAe,CAAE,EAEnE,CACX,CAvBA,UAwBA,EAAQ,4BAA8B,CAAA,CAAA,ECrMtC,GAAA,GAAA,GAAA,CAAA,aACA,OAAO,eAAe,EAAS,aAAc,CAAE,MAAO,EAAK,CAAC,EAC5D,EAAQ,4BAA8B,EAAQ,4BAA8B,EAAQ,sBAAwB,EAAQ,kBAAoB,EAAQ,gBAAkB,EAAQ,iBAAmB,EAAQ,UAAY,EAAQ,mBAAqB,EAAQ,sBAAwB,EAAQ,qBAAuB,EAAQ,qBAAuB,EAAQ,cAAgB,EAAQ,mBAAqB,EAAQ,mBAAqB,EAAQ,mBAAqB,OAC3b,GAAI,GAAS,GAAA,EACb,OAAO,eAAe,EAAS,qBAAsB,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,MAAO,GAAO,kBAAoB,CAAE,CAAC,EACjI,OAAO,eAAe,EAAS,qBAAsB,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,MAAO,GAAO,kBAAoB,CAAE,CAAC,EACjI,OAAO,eAAe,EAAS,qBAAsB,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,MAAO,GAAO,kBAAoB,CAAE,CAAC,EACjI,GAAI,GAAU,GAAA,EACd,OAAO,eAAe,EAAS,gBAAiB,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,MAAO,GAAQ,aAAe,CAAE,CAAC,EACxH,GAAI,GAAW,GAAA,EACf,OAAO,eAAe,EAAS,uBAAwB,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,MAAO,GAAS,oBAAsB,CAAE,CAAC,EACvI,GAAI,GAAW,GAAA,EACf,OAAO,eAAe,EAAS,uBAAwB,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,MAAO,GAAS,oBAAsB,CAAE,CAAC,EACvI,GAAI,GAAY,GAAA,EAChB,OAAO,eAAe,EAAS,wBAAyB,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,MAAO,GAAU,qBAAuB,CAAE,CAAC,EAC1I,GAAI,GAAS,GAAA,EACb,OAAO,eAAe,EAAS,qBAAsB,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,MAAO,GAAO,kBAAoB,CAAE,CAAC,EACjI,GAAI,GAAQ,GAAA,EACZ,OAAO,eAAe,EAAS,YAAa,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,MAAO,GAAM,SAAW,CAAE,CAAC,EAC9G,GAAI,GAAa,GAAA,EACjB,OAAO,eAAe,EAAS,mBAAoB,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,MAAO,GAAW,gBAAkB,CAAE,CAAC,EACjI,OAAO,eAAe,EAAS,kBAAmB,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,MAAO,GAAW,eAAiB,CAAE,CAAC,EAC/H,GAAI,GAAU,GAAA,EACd,OAAO,eAAe,EAAS,oBAAqB,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,MAAO,GAAQ,iBAAmB,CAAE,CAAC,EAChI,GAAI,GAAmB,GAAA,EACvB,OAAO,eAAe,EAAS,wBAAyB,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,MAAO,GAAiB,qBAAuB,CAAE,CAAC,EACjJ,GAAI,GAAU,GAAA,EACd,OAAO,eAAe,EAAS,8BAA+B,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,MAAO,GAAQ,2BAA6B,CAAE,CAAC,EACpJ,GAAI,GAAyB,GAAA,EAC7B,OAAO,eAAe,EAAS,8BAA+B,CAAE,WAAY,GAAM,IAAK,UAAY,CAAE,MAAO,GAAuB,2BAA6B,CAAE,CAAC,CAAA,CAAA,EC7BnK,GAAA,CAAA,EAAA,GAAA,GAAA,CAAA,YAAA,IAAA,GAAA,kBAAA,IAAA,GAAA,aAAA,IAAA,GAAA,6BAAA,IAAA,GAAA,YAAA,IAAA,GAAA,4BAAA,IAAA,GAAA,4BAAA,0BAAA,IAAA,GAAA,cAAA,oBAAA,IAAA,GAAA,iBAAA,IAAA,GAAA,eAAA,IAAA,GAAA,eAAA,IAAA,GAAA,QAAA,IAAA,GAAA,4BAAA,IAAA,GAAA,gBAAA,IAAA,GAAA,kBAAA,IAAA,GAAA,yBAAA,IAAA,GAAA,iBAAA,IAAA,GAAA,UAAA,IAAA,GAAA,iBAAA,IAAA,GAAA,SAAA,IAAA,GAAA,qBAAA,IAAA,GAAA,gBAAA,IAAA,GAAA,iCAAA,IAAA,GAAA,yBAAA,IAAA,GAAA,mBAAA,IAAA,GAAA,YAAA,IAAA,GAAA,iBAAA,IAAA,GAAA,aAAA,IAAA,GAAA,aAAA,IAAA,GAAA,gBAAA,IAAA,GAAA,aAAA,IAAA,GAAA,qCAAA,IAAA,GAAA,SAAA,IAAA,GAAA,WAAA,IAAA,GAAA,aAAA,IAAA,GAAA,aAAA,IAAA,GAAA,cAAA,IAAA,GAAA,sBAAA,IAAA,GAAA,kBAAA,IAAA,GAAA,cAAA,IAAA,GAAA,UAAA,IAAA,GAAA,WAAA,IAAA,GAAA,YAAA,IAAA,GAAA,sBAAA,IAAA,GAAA,6BAAA,IAAA,GAAA,aAAA,IAAA,GAAA,aAAA,IAAA,GAAA,qBAAA,IAAA,GAAA,gBAAA,IAAA,GAAA,cAAA,IAAA,GAAA,aAAA,IAAA,GAAA,iBAAA,IAAA,GAAA,UAAA,IAAA,GAAA,cAAA,IAAA,GAAA,GAAA,IAAA,GAAA,GAAA,IAAA,EAAA,CAAA,ECEO,GAAK,IAAA,IACR,GAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,aAAe,eACf,EAAA,WAAa,aACb,EAAA,mBAAqB,qBALb,IAAA,IAAA,CAAA,CAAA,EAQA,GAAA,IACR,GAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,cAAgB,gBAChB,EAAA,mBAAqB,qBALb,IAAA,IAAA,CAAA,CAAA,EAQC,GAA8D,GAAI,KAAI,CAC/E,CAAC,aAAqB,0DAA0D,EAChF,CAAC,qBAA6B,0EAA0E,EACxG,CAAC,aAAqB,uDAAuD,CACjF,CAAC,EAoBW,GAAA,IACR,GAAA,GAAK,KACL,EAAA,GAAK,KAFG,IAAA,IAAA,CAAA,CAAA,EAIA,GAAA,IACR,GAAA,GAAK,KACL,EAAA,GAAK,KAFG,IAAA,IAAA,CAAA,CAAA,EC1CA,GAAA,IACR,GAAA,UAAY,YACZ,EAAA,wBAA0B,0BAC1B,EAAA,sBAAwB,wBACxB,EAAA,oBAAsB,sBACtB,EAAA,wBAA0B,0BAC1B,EAAA,wBAA0B,0BAC1B,EAAA,iCAAmC,mCACnC,EAAA,mCAAqC,qCACrC,EAAA,oBAAsB,sBATd,IAAA,IAAA,CAAA,CAAA,EAYM,GAAA,IACd,GAAA,OAAS,SACT,EAAA,SAAW,gBAFG,IAAA,IAAA,CAAA,CAAA,EAUN,GAAA,IACR,GAAA,YAAc,cACd,EAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,aAAe,eACf,EAAA,mBAAqB,qBACrB,EAAA,cAAgB,gBANR,IAAA,IAAA,CAAA,CAAA,EASA,GAAA,IACR,GAAA,KAAO,OACP,EAAA,SAAW,WAFH,IAAA,IAAA,CAAA,CAAA,EAKA,GAAA,IACR,GAAA,QAAU,UACV,EAAA,UAAY,YAFJ,IAAA,IAAA,CAAA,CAAA,EAKA,GAAA,IACR,GAAA,QAAU,UACV,EAAA,WAAa,aACb,EAAA,cAAgB,gBAHR,IAAA,IAAA,CAAA,CAAA,EAMA,GAAA,IACR,GAAA,SAAW,WACX,EAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,SAAW,WAJH,IAAA,IAAA,CAAA,CAAA,EAOA,GAAA,IACR,GAAA,MAAQ,cACR,EAAA,YAAc,eACd,EAAA,WAAa,oCACb,EAAA,eAAiB,4CACjB,EAAA,WAAa,oCACb,EAAA,MAAQ,8BACR,EAAA,aAAe,qCACf,EAAA,OAAS,eACT,EAAA,cAAgB,8BAChB,EAAA,OAAS,eACT,EAAA,6BAA+B,wCAC/B,EAAA,yBAA2B,yBAC3B,EAAA,iBAAmB,4BACnB,EAAA,iBAAmB,4BACnB,EAAA,aAAe,wCACf,EAAA,YAAc,oBACd,EAAA,KAAO,qBACP,EAAA,MAAQ,0BACR,EAAA,QAAU,6BACV,EAAA,WAAa,gCApBL,IAAA,IAAA,CAAA,CAAA,EA6BA,GAAA,IACR,GAAA,SAAW,WACX,EAAA,MAAQ,QAFA,IAAA,IAAA,CAAA,CAAA,EAUA,GAAA,IACR,GAAA,MAAQ,MACR,EAAA,QAAU,WACV,EAAA,MAAQ,QACR,EAAA,OAAS,SACT,EAAA,KAAO,OACP,EAAA,QAAU,UACV,EAAA,aAAe,eACf,EAAA,WAAa,aACb,EAAA,KAAO,OACP,EAAA,SAAW,WACX,EAAA,IAAM,MACN,EAAA,OAAS,UAZD,IAAA,IAAA,CAAA,CAAA,EAcA,GAAA,IACR,GAAA,IAAM,WADE,IAAA,IAAA,CAAA,CAAA,EAGC,GAAmB,aACnB,GAAoB,cAsIrB,GAAA,IACR,GAAA,SAAW,WACX,EAAA,gBAAkB,kBAClB,EAAA,MAAQ,QACR,EAAA,KAAO,OACP,EAAA,eAAiB,iBACjB,EAAA,UAAY,YACZ,EAAA,QAAU,UACV,EAAA,QAAU,UACV,EAAA,oBAAsB,sBACtB,EAAA,QAAU,GAVF,IAAA,IAAA,CAAA,CAAA,EAoEC,GAA+B,+CAEhC,GAAA,IACR,GAAA,gCAAkC,kCAClC,EAAA,gCAAkC,kCAClC,EAAA,0BAA4B,4BAC5B,EAAA,0BAA4B,4BAC5B,EAAA,8BAAgC,gCALxB,IAAA,IAAA,CAAA,CAAA,EASA,GAAA,IACR,GAAA,OAAS,SACT,EAAA,QAAU,UACV,EAAA,UAAY,qBACZ,EAAA,SAAW,WACX,EAAA,aAAe,eACf,EAAA,SAAW,WACX,EAAA,aAAe,eACf,EAAA,4BAA8B,8BAC9B,EAAA,uBAAyB,yBACzB,EAAA,mBAAqB,qBACrB,EAAA,0BAA4B,4BAC5B,EAAA,mBAAqB,qBACrB,EAAA,kBAAoB,oBACpB,EAAA,oBAAsB,sBACtB,EAAA,aAAe,oBACf,EAAA,eAAiB,sBACjB,EAAA,cAAgB,qBAChB,EAAA,eAAiB,iBACjB,EAAA,UAAY,YACZ,EAAA,MAAQ,QACR,EAAA,OAAS,SACT,EAAA,cAAgB,gBAChB,EAAA,UAAY,YACZ,EAAA,OAAS,SACT,EAAA,aAAe,eACf,EAAA,eAAiB,iBACjB,EAAA,cAAgB,gBAChB,EAAA,gBAAkB,2BAClB,EAAA,KAAO,OACP,EAAA,WAAa,aACb,EAAA,eAAiB,iBACjB,EAAA,iBAAmB,mBACnB,EAAA,cAAgB,gBAChB,EAAA,gBAAkB,kBAClB,EAAA,cAAgB,gBAChB,EAAA,eAAiB,iBACjB,EAAA,eAAiB,iBACjB,EAAA,UAAY,YACZ,EAAA,gBAAkB,kBAClB,EAAA,oBAAsB,sBACtB,EAAA,YAAc,cACd,EAAA,YAAc,cACd,EAAA,YAAc,YACd,EAAA,iBAAmB,mBACnB,EAAA,gBAAkB,kBAClB,EAAA,gCAAkC,kCAClC,EAAA,eAAiB,iBACjB,EAAA,iBAAmB,mBACnB,EAAA,uBAAyB,yBACzB,EAAA,wBAA0B,0BAC1B,EAAA,iBAAmB,mBACnB,EAAA,4BAA8B,8BAC9B,EAAA,6BAA+B,+BAC/B,EAAA,iCAAmC,mCACnC,EAAA,+BAAiC,iCACjC,EAAA,+BAAiC,iCACjC,EAAA,iBAAmB,mBACnB,EAAA,8BAAgC,gCAChC,EAAA,yBAA2B,2BAC3B,EAAA,uBAAyB,yBACzB,EAAA,yBAA2B,2BAC3B,EAAA,2BAA6B,6BAC7B,EAAA,sBAAwB,wBACxB,EAAA,qCAAuC,uCACvC,EAAA,yBAA2B,2BAC3B,EAAA,sBAAwB,wBACxB,EAAA,gBAAkB,kBAClB,EAAA,sBAAwB,wBACxB,EAAA,kBAAoB,oBACpB,EAAA,wBAA0B,0BAC1B,EAAA,yBAA2B,2BAC3B,EAAA,SAAW,WACX,EAAA,WAAa,aACb,EAAA,aAAe,eACf,EAAA,wBAA0B,0BAC1B,EAAA,0BAA4B,4BAC5B,EAAA,iBAAmB,mBACnB,EAAA,SAAW,WACX,EAAA,eAAiB,iBACjB,EAAA,gBAAkB,kBAClB,EAAA,MAAQ,QACR,EAAA,SAAW,WACX,EAAA,YAAc,cACd,EAAA,mBAAqB,qBACrB,EAAA,cAAgB,gBAChB,EAAA,UAAY,qBACZ,EAAA,QAAU,UACV,EAAA,gBAAkB,kBAClB,EAAA,iBAAmB,wBACnB,EAAA,iBAAmB,wBACnB,EAAA,iBAAmB,mBACnB,EAAA,kBAAoB,oBACpB,EAAA,aAAe,eACf,EAAA,yBAA2B,2BAC3B,EAAA,qBAAuB,uBACvB,EAAA,uBAAyB,yBAhGjB,IAAA,IAAA,CAAA,CAAA,EAmGA,GAAA,IACR,GAAA,QAAU,UACV,EAAA,eAAiB,iBACjB,EAAA,MAAQ,QACR,EAAA,YAAc,cACd,EAAA,8BAAgC,gCAChC,EAAA,SAAW,WACX,EAAA,MAAQ,QACR,EAAA,MAAQ,QACR,EAAA,OAAS,SACT,EAAA,OAAS,SAVD,IAAA,IAAA,CAAA,CAAA,EAaA,GAAA,IACR,GAAA,eAAiB,iBACjB,EAAA,eAAiB,iBACjB,EAAA,aAAe,eACf,EAAA,YAAc,cACd,EAAA,SAAW,WACX,EAAA,mBAAqB,qBACrB,EAAA,OAAS,SACT,EAAA,WAAa,aACb,EAAA,IAAM,MACN,EAAA,KAAO,OACP,EAAA,OAAS,SACT,EAAA,cAAgB,gBAZR,IAAA,IAAA,CAAA,CAAA,EAeA,GAAA,IACR,GAAA,GAAK,KACL,EAAA,MAAQ,QACR,EAAA,OAAS,SACT,EAAA,OAAS,SACT,EAAA,IAAM,MALE,IAAA,IAAA,CAAA,CAAA,EAQC,GAAe,mCACf,GAAe,uBACf,GAAe,yBACf,GAAgB,0BAChB,GAAe,6BACf,GAAkB,8BAClB,GAAuB,+BACvB,GAAe,yBACf,GAAgB,0BAChB,GAAmB,+BACnB,GAAmB,aCpdpB,GAAA,IACR,GAAA,WAAa,aADL,IAAA,IAAA,CAAA,CAAA,EAUA,GAAA,IACR,GAAA,IAAM,MACN,EAAA,OAAS,SACT,EAAA,OAAS,SAHD,IAAA,IAAA,CAAA,CAAA,EAMA,GAAA,IACR,GAAA,YAAc,cACd,EAAA,UAAY,YAFJ,IAAA,IAAA,CAAA,CAAA,EAcA,GAAA,IACR,GAAA,iBAAmB,mBACnB,EAAA,eAAiB,iBACjB,EAAA,eAAiB,iBAHT,IAAA,IAAA,CAAA,CAAA,EC5BA,GAAA,IACR,GAAA,MAAQ,QACR,EAAA,gBAAkB,kBAFV,IAAA,IAAA,CAAA,CAAA,EAuEA,GAAA,IACR,GAAA,GAAK,SACL,EAAA,IAAM,UACN,EAAA,QAAU,qBACV,EAAA,IAAM,UACN,EAAA,IAAM,UALE,IAAA,IAAA,CAAA,CAAA,EAQC,GAAqB,8BCnFrB,GAA2B,0CAE3B,GAAoB,cAErB,GAAA,IACR,GAAA,IAAM,MACN,EAAA,KAAO,OACP,EAAA,KAAO,OAHC,IAAA,IAAA,CAAA,CAAA,EAuCC,GAAoB,uBACpB,GAAwB,uBC/BrC,GAAwF,GAAA,GAAA,CAAA,EAItE,GAAA,IACd,GAAA,MAAQ,QACR,EAAA,QAAU,UACV,EAAA,KAAO,OAHO,IAAA,IAAA,CAAA,CAAA,EAML,GAAmB,CAC3B,MAAoB,QACpB,QAAsB,UACtB,KAAmB,aACxB,EAwWY,GAAA,IACR,GAAA,uBAAyB,yBACzB,EAAA,uBAAyB,yBACzB,EAAA,eAAiB,iBACjB,EAAA,qBAAuB,uBACvB,EAAA,qBAAuB,uBACvB,EAAA,gBAAkB,kBANV,IAAA,IAAA,CAAA,CAAA,EAmBA,GAAA,IACR,GAAA,WAAa,aACb,EAAA,aAAe,eACf,EAAA,cAAgB,gBAChB,EAAA,WAAa,aACb,EAAA,aAAe,eACf,EAAA,WAAa,aACb,EAAA,oBAAsB,sBAPd,IAAA,IAAA,CAAA,CAAA,ECzZZ,GAAA,CAAA,EAAA,GAAA,GAAA,CAAA,iBAAA,IAAA,GAAA,iBAAA,IAAA,GAAA,cAAA,IAAA,GAAA,UAAA,IAAA,GAAA,oBAAA,IAAA,GAAA,WAAA,IAAA,GAAA,cAAA,IAAA,GAAA,mBAAA,IAAA,GAAA,0BAAA,IAAA,GAAA,kBAAA,IAAA,GAAA,uBAAA,IAAA,GAAA,eAAA,IAAA,GAAA,mBAAA,IAAA,GAAA,2BAAA,IAAA,GAAA,2BAAA,IAAA,GAAA,kBAAA,IAAA,GAAA,mBAAA,IAAA,GAAA,eAAA,IAAA,GAAA,aAAA,IAAA,GAAA,4BAAA,IAAA,GAAA,uBAAA,IAAA,GAAA,4BAAA,IAAA,GAAA,sBAAA,IAAA,GAAA,2CAAA,IAAA,GAAA,kCAAA,IAAA,GAAA,kCAAA,IAAA,GAAA,gBAAA,IAAA,GAAA,cAAA,IAAA,GAAA,SAAA,IAAA,GAAA,2BAAA,IAAA,GAAA,YAAA,IAAA,GAAA,oBAAA,IAAA,GAAA,sBAAA,IAAA,EAAA,CAAA,ECiIO,GAAK,IAAA,IACR,GAAA,WAAa,aACb,EAAA,eAAiB,iBACjB,EAAA,gBAAkB,kBAHV,IAAA,IAAA,CAAA,CAAA,EAMA,GAAA,IACR,GAAA,WAAa,kCACb,EAAA,aAAe,qCACf,EAAA,KAAO,qBACP,EAAA,OAAS,wBACT,EAAA,SAAW,yBACX,EAAA,WAAa,4BACb,EAAA,MAAQ,sBACR,EAAA,QAAU,yBACV,EAAA,MAAQ,sBATA,IAAA,IAAA,CAAA,CAAA,EAYC,GAAsB,CAC/B,kCAAmC,iBACnC,qCAAsC,iBACtC,qBAAsB,WACtB,wBAAyB,WACzB,yBAA0B,eAC1B,4BAA6B,eAC7B,sBAAuB,YACvB,yBAA0B,YAC1B,sBAAuB,WAC3B,EAEY,GAAA,IACR,GAAA,uBAAyB,yBACzB,EAAA,yBAA2B,2BAC3B,EAAA,iBAAmB,mBACnB,EAAA,mBAAqB,qBACrB,EAAA,kBAAoB,oBACpB,EAAA,qBAAuB,uBACvB,EAAA,kBAAoB,oBACpB,EAAA,oBAAsB,sBARd,IAAA,IAAA,CAAA,CAAA,EAWA,GAAA,IACR,GAAA,QAAU,UACV,EAAA,IAAM,MACN,EAAA,IAAM,MACN,EAAA,IAAM,MACN,EAAA,MAAQ,SALA,IAAA,IAAA,CAAA,CAAA,EAwSA,GAAA,IACR,GAAA,SAAW,WACX,EAAA,IAAM,MACN,EAAA,SAAW,WAHH,IAAA,IAAA,CAAA,CAAA,EAMA,GAAA,IACR,GAAA,SAAW,WACX,EAAA,UAAY,YAFJ,IAAA,IAAA,CAAA,CAAA,EAKA,GAAA,IACR,GAAA,UAAY,YACZ,EAAA,WAAa,aAFL,IAAA,IAAA,CAAA,CAAA,EAkHA,GAAA,IACR,GAAA,SAAW,WACX,EAAA,SAAW,WAFH,IAAA,IAAA,CAAA,CAAA,EC/kBM,GAAA,IACd,GAAA,UAAY,YACZ,EAAA,KAAO,OACP,EAAA,KAAO,OACP,EAAA,GAAK,KACL,EAAA,KAAO,OACP,EAAA,SAAW,WACX,EAAA,UAAY,YACZ,EAAA,KAAO,OACP,EAAA,WAAa,aACb,EAAA,MAAQ,QACR,EAAA,QAAU,UACV,EAAA,aAAe,eACf,EAAA,UAAY,YACZ,EAAA,SAAW,WACX,EAAA,KAAO,OACP,EAAA,SAAW,WACX,EAAA,UAAY,YACZ,EAAA,WAAa,aACb,EAAA,aAAe,eACf,EAAA,UAAY,YACZ,EAAA,KAAO,OACP,EAAA,cAAgB,gBAChB,EAAA,UAAY,YACZ,EAAA,WAAa,aACb,EAAA,MAAQ,QACR,EAAA,SAAW,WACX,EAAA,SAAW,WACX,EAAA,SAAW,WACX,EAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,SAAW,WACX,EAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,UAAY,YACZ,EAAA,UAAY,YACZ,EAAA,UAAY,YACZ,EAAA,YAAc,cACd,EAAA,YAAc,cACd,EAAA,YAAc,cACd,EAAA,SAAW,WACX,EAAA,SAAW,WACX,EAAA,SAAW,WACX,EAAA,SAAW,WACX,EAAA,YAAc,cAhDA,IAAA,IAAA,CAAA,CAAA,EAmDA,GAAA,IACd,GAAA,UAAY,YACZ,EAAA,MAAQ,QACR,EAAA,SAAW,WACX,EAAA,SAAW,WACX,EAAA,UAAY,YACZ,EAAA,SAAW,WACX,EAAA,UAAY,YACZ,EAAA,YAAc,cACd,EAAA,YAAc,cACd,EAAA,SAAW,WACX,EAAA,SAAW,WACX,EAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,SAAW,WACX,EAAA,SAAW,WACX,EAAA,SAAW,WACX,EAAA,SAAW,WACX,EAAA,WAAa,aArBC,IAAA,IAAA,CAAA,CAAA,ECqCN,GAAA,IACR,GAAA,IAAM,MADE,IAAA,IAAA,CAAA,CAAA,EAIA,GAAA,IACR,GAAA,gBAAkB,kBAClB,EAAA,UAAY,YACZ,EAAA,gBAAkB,kBAClB,EAAA,UAAY,YAJJ,IAAA,IAAA,CAAA,CAAA,EAOA,GAAA,IACR,GAAA,gCAAkC,kCAClC,EAAA,gCAAkC,kCAClC,EAAA,0BAA4B,4BAC5B,EAAA,0BAA4B,4BAJpB,IAAA,IAAA,CAAA,CAAA,EAmGA,GAAA,IACR,GAAA,UAAY,YADJ,IAAA,IAAA,CAAA,CAAA,EAmBM,GAAA,IACd,GAAA,gBAAkB,kBADJ,IAAA,IAAA,CAAA,CAAA,EAIN,GAAA,IACR,GAAA,WAAa,aACb,EAAA,MAAQ,QACR,EAAA,MAAQ,QAHA,IAAA,IAAA,CAAA,CAAA,EAMA,GAAA,IACR,GAAA,OAAS,SACT,EAAA,QAAU,UAFF,IAAA,IAAA,CAAA,CAAA,EAKA,GAAA,IACR,GAAA,OAAS,SACT,EAAA,MAAQ,QACR,EAAA,iBAAmB,mBAHX,IAAA,IAAA,CAAA,CAAA,ECxOA,GAAA,IACR,GAAA,IAAM,MACN,EAAA,OAAS,SACT,EAAA,KAAO,OACP,EAAA,YAAc,cACd,EAAA,IAAM,MACN,EAAA,MAAQ,QACR,EAAA,QAAU,UACV,EAAA,OAAS,SACT,EAAA,QAAU,UACV,EAAA,OAAS,SACT,EAAA,eAAiB,kBACjB,EAAA,WAAa,cACb,EAAA,cAAgB,iBAChB,EAAA,mBAAqB,sBACrB,EAAA,6BAA+B,iCAC/B,EAAA,QAAU,WACV,EAAA,WAAa,cACb,EAAA,SAAW,YACX,EAAA,eAAiB,mBACjB,EAAA,kBAAoB,sBACpB,EAAA,gBAAkB,mBAClB,EAAA,uBAAyB,2BACzB,EAAA,0BAA4B,8BAC5B,EAAA,iCAAmC,sCACnC,EAAA,kBAAoB,kBACpB,EAAA,qBAAuB,qBACvB,EAAA,sBAAwB,uBACxB,EAAA,yBAA2B,0BAC3B,EAAA,UAAY,YACZ,EAAA,oBAAsB,uBA9Bd,IAAA,IAAA,CAAA,CAAA,EC6JA,GAAA,IACR,GAAA,WAAa,aACb,EAAA,YAAc,cACd,EAAA,aAAe,eAHP,IAAA,IAAA,CAAA,CAAA,EAMA,GAAA,IACR,GAAA,IAAM,MADE,IAAA,IAAA,CAAA,CAAA,ECrIA,GAAA,IACR,GAAA,OAAS,SADD,IAAA,IAAA,CAAA,CAAA,ECjBC,GAAiB,gCACjB,GAA6B,2CAC7B,GAA6B,2CAC7B,GAAqB,mDC0BrB,GAAwB,wBACxB,GAA8B,8BAW9B,GAAoC,wDACpC,GAAoC,2DACpC,GACT,2ECDQ,GAAA,IACR,GAAA,MAAQ,QACR,EAAA,UAAY,YAFJ,IAAA,IAAA,CAAA,CAAA,ECxDZ,GAAA,CAAA,EAAA,GAAA,GAAA,CAAA,gBAAA,IAAA,GAAA,aAAA,IAAA,GAAA,yBAAA,IAAA,GAAA,gBAAA,IAAA,GAAA,iBAAA,IAAA,GAAA,eAAA,IAAA,GAAA,mBAAA,IAAA,GAAA,2BAAA,IAAA,GAAA,2BAAA,IAAA,GAAA,2BAAA,IAAA,GAAA,uBAAA,IAAA,GAAA,gBAAA,IAAA,GAAA,gBAAA,IAAA,GAAA,UAAA,IAAA,GAAA,4BAAA,IAAA,GAAA,4BAAA,IAAA,GAAA,wBAAA,IAAA,GAAA,kCAAA,IAAA,GAAA,kCAAA,IAAA,GAAA,kBAAA,IAAA,GAAA,gBAAA,IAAA,GAAA,kBAAA,IAAA,GAAA,WAAA,IAAA,GAAA,cAAA,IAAA,GAAA,sBAAA,IAAA,GAAA,YAAA,IAAA,GAAA,gCAAA,IAAA,GAAA,gCAAA,IAAA,EAAA,CAAA,ECAO,GAAK,IAAA,IACR,GAAA,MAAQ,QACR,EAAA,OAAS,SAFD,IAAA,IAAA,CAAA,CAAA,ECUA,GAAA,IACR,GAAA,MAAQ,QACR,EAAA,KAAO,OACP,EAAA,OAAS,SACT,EAAA,KAAO,OAJC,IAAA,IAAA,CAAA,CAAA,EAOA,GAAA,IACR,GAAA,gBAAkB,kBAClB,EAAA,UAAY,YACZ,EAAA,gBAAkB,kBAHV,IAAA,IAAA,CAAA,CAAA,EAQA,GAAA,IACR,GAAA,QAAU,UACV,EAAA,OAAS,SACT,EAAA,YAAc,cAHN,IAAA,IAAA,CAAA,CAAA,EAMA,GAAA,IACR,GAAA,SAAW,WACX,EAAA,QAAU,UACV,EAAA,KAAO,OAHC,IAAA,IAAA,CAAA,CAAA,EAMA,GAAA,IACR,GAAA,QAAU,UACV,EAAA,UAAY,YACZ,EAAA,KAAO,OAHC,IAAA,IAAA,CAAA,CAAA,EC/BA,GAAA,IACR,GAAA,OAAS,SACT,EAAA,MAAQ,QAFA,IAAA,IAAA,CAAA,CAAA,ECNM,GAAA,IACd,GAAA,4BAA6B,2BADf,IAAA,IAAA,CAAA,CAAA,ECAN,GAAA,IACR,GAAA,KAAO,OACP,EAAA,KAAO,OAFC,IAAA,IAAA,CAAA,CAAA,EC8EA,GAAA,IACR,GAAA,MAAQ,QACR,EAAA,OAAS,SAFD,IAAA,IAAA,CAAA,CAAA,EAKA,GAAA,IACR,GAAA,IAAM,MADE,IAAA,IAAA,CAAA,CAAA,ECjBC,GAAiB,mBACjB,GAA6B,kBAC7B,GAA6B,8BAC7B,GAA6B,8BAC7B,GAAqB,sCAgBrB,GAA0B,cAU3B,GAAA,IACR,GAAA,WAAa,aACb,EAAA,YAAc,cAFN,IAAA,IAAA,CAAA,CAAA,EC7BC,GAAyB,uBAgBzB,GAA8B,QAe9B,GAA8B,8BAC9B,GAAoC,mDACpC,GAAoC,mDCnGrC,GAAA,IACR,GAAA,MAAQ,QACR,EAAA,OAAS,SAFD,IAAA,IAAA,CAAA,CAAA,EA6CA,GAAA,IACR,GAAA,QAAY,UACZ,EAAA,WAAe,aACf,EAAA,OAAW,SAHH,IAAA,IAAA,CAAA,CAAA,EAMA,GAAA,IACR,GAAA,MAAU,QACV,EAAA,OAAW,SACX,EAAA,IAAQ,MAHA,IAAA,IAAA,CAAA,CAAA,EC3CA,GAAA,IACR,GAAA,KAAO,OACP,EAAA,QAAU,UAFF,IAAA,IAAA,CAAA,CAAA,ECNA,GAAA,IACR,GAAA,KAAO,OACP,EAAA,QAAU,UACV,EAAA,KAAO,OAHC,IAAA,IAAA,CAAA,CAAA,EAAA,GAAA,QAAA,GAAA,EAAA,gOCaZ,GAAA,IAAA,QAAA,yBAAS,OAAA,eAAA,GAAA,8BAAA,CAAA,WAAA,GAAA,IAAA,UAAA,CAAA,MAAA,IAAA,2BAA2B,CAAA,CAAA,EAAE,OAAA,eAAA,GAAA,4BAAA,CAAA,WAAA,GAAA,IAAA,UAAA,CAAA,MAAA,IAAA,aAAa,CAAA,CAAA,EAInD,GAAkB,IAAlB,AAAA,UAAkB,EAAW,CACzB,EAAA,MAAA,QACA,EAAA,QAAA,UACA,EAAA,KAAA,MACJ,GAJkB,GAAA,GAAA,aAAA,IAAA,YAAW,CAAA,EAAA,EAMhB,GAAA,iBAAmB,CAC5B,MAAqB,QACrB,QAAuB,UACvB,KAAoB,eAyWxB,GAAY,IAAZ,AAAA,UAAY,EAAY,CACpB,EAAA,uBAAA,yBACA,EAAA,uBAAA,yBACA,EAAA,eAAA,iBACA,EAAA,qBAAA,uBACA,EAAA,qBAAA,uBACA,EAAA,gBAAA,iBACJ,GAPY,GAAA,GAAA,cAAA,IAAA,aAAY,CAAA,EAAA,EAmBxB,GAAY,IAAZ,AAAA,UAAY,EAAmB,CAC3B,EAAA,WAAA,aACA,EAAA,aAAA,eACA,EAAA,cAAA,gBACA,EAAA,WAAA,aACA,EAAA,aAAA,eACA,EAAA,WAAA,aACA,EAAA,oBAAA,qBACJ,GARY,GAAA,GAAA,qBAAA,IAAA,oBAAmB,CAAA,EAAA,0iBCzZ/B,GAAA,CAAA,EAAA,GAAA,GAAA,CAAA,iBAAA,IAAA,GAAA,iBAAA,IAAA,GAAA,cAAA,IAAA,GAAA,UAAA,IAAA,GAAA,oBAAA,IAAA,GAAA,WAAA,IAAA,GAAA,cAAA,IAAA,GAAA,mBAAA,IAAA,GAAA,0BAAA,IAAA,GAAA,kBAAA,IAAA,GAAA,uBAAA,IAAA,GAAA,eAAA,IAAA,GAAA,mBAAA,IAAA,GAAA,2BAAA,IAAA,GAAA,2BAAA,IAAA,GAAA,kBAAA,IAAA,GAAA,mBAAA,IAAA,GAAA,eAAA,IAAA,GAAA,aAAA,IAAA,GAAA,4BAAA,IAAA,GAAA,uBAAA,IAAA,GAAA,4BAAA,IAAA,GAAA,sBAAA,IAAA,GAAA,2CAAA,IAAA,GAAA,kCAAA,IAAA,GAAA,kCAAA,IAAA,GAAA,gBAAA,IAAA,GAAA,cAAA,IAAA,GAAA,SAAA,IAAA,GAAA,2BAAA,IAAA,GAAA,YAAA,IAAA,GAAA,oBAAA,IAAA,GAAA,sBAAA,IAAA,EAAA,CAAA,ECiIO,GAAK,IAAA,IACR,GAAA,WAAa,aACb,EAAA,eAAiB,iBACjB,EAAA,gBAAkB,kBAHV,IAAA,IAAA,CAAA,CAAA,EAMA,GAAA,IACR,GAAA,WAAa,kCACb,EAAA,aAAe,qCACf,EAAA,KAAO,qBACP,EAAA,OAAS,wBACT,EAAA,SAAW,yBACX,EAAA,WAAa,4BACb,EAAA,MAAQ,sBACR,EAAA,QAAU,yBACV,EAAA,MAAQ,sBATA,IAAA,IAAA,CAAA,CAAA,EAYC,GAAsB,CAC/B,kCAAmC,iBACnC,qCAAsC,iBACtC,qBAAsB,WACtB,wBAAyB,WACzB,yBAA0B,eAC1B,4BAA6B,eAC7B,sBAAuB,YACvB,yBAA0B,YAC1B,sBAAuB,WAC3B,EAEY,GAAA,IACR,GAAA,uBAAyB,yBACzB,EAAA,yBAA2B,2BAC3B,EAAA,iBAAmB,mBACnB,EAAA,mBAAqB,qBACrB,EAAA,kBAAoB,oBACpB,EAAA,qBAAuB,uBACvB,EAAA,kBAAoB,oBACpB,EAAA,oBAAsB,sBARd,IAAA,IAAA,CAAA,CAAA,EAWA,GAAA,IACR,GAAA,QAAU,UACV,EAAA,IAAM,MACN,EAAA,IAAM,MACN,EAAA,IAAM,MACN,EAAA,MAAQ,SALA,IAAA,IAAA,CAAA,CAAA,EAwSA,GAAA,IACR,GAAA,SAAW,WACX,EAAA,IAAM,MACN,EAAA,SAAW,WAHH,IAAA,IAAA,CAAA,CAAA,EAMA,GAAA,IACR,GAAA,SAAW,WACX,EAAA,UAAY,YAFJ,IAAA,IAAA,CAAA,CAAA,EAKA,GAAA,IACR,GAAA,UAAY,YACZ,EAAA,WAAa,aAFL,IAAA,IAAA,CAAA,CAAA,EAkHA,GAAA,IACR,GAAA,SAAW,WACX,EAAA,SAAW,WAFH,IAAA,IAAA,CAAA,CAAA,EC/kBM,GAAA,IACd,GAAA,UAAY,YACZ,EAAA,KAAO,OACP,EAAA,KAAO,OACP,EAAA,GAAK,KACL,EAAA,KAAO,OACP,EAAA,SAAW,WACX,EAAA,UAAY,YACZ,EAAA,KAAO,OACP,EAAA,WAAa,aACb,EAAA,MAAQ,QACR,EAAA,QAAU,UACV,EAAA,aAAe,eACf,EAAA,UAAY,YACZ,EAAA,SAAW,WACX,EAAA,KAAO,OACP,EAAA,SAAW,WACX,EAAA,UAAY,YACZ,EAAA,WAAa,aACb,EAAA,aAAe,eACf,EAAA,UAAY,YACZ,EAAA,KAAO,OACP,EAAA,cAAgB,gBAChB,EAAA,UAAY,YACZ,EAAA,WAAa,aACb,EAAA,MAAQ,QACR,EAAA,SAAW,WACX,EAAA,SAAW,WACX,EAAA,SAAW,WACX,EAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,SAAW,WACX,EAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,UAAY,YACZ,EAAA,UAAY,YACZ,EAAA,UAAY,YACZ,EAAA,YAAc,cACd,EAAA,YAAc,cACd,EAAA,YAAc,cACd,EAAA,SAAW,WACX,EAAA,SAAW,WACX,EAAA,SAAW,WACX,EAAA,SAAW,WACX,EAAA,YAAc,cAhDA,IAAA,IAAA,CAAA,CAAA,EAmDA,GAAA,IACd,GAAA,UAAY,YACZ,EAAA,MAAQ,QACR,EAAA,SAAW,WACX,EAAA,SAAW,WACX,EAAA,UAAY,YACZ,EAAA,SAAW,WACX,EAAA,UAAY,YACZ,EAAA,YAAc,cACd,EAAA,YAAc,cACd,EAAA,SAAW,WACX,EAAA,SAAW,WACX,EAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,WAAa,aACb,EAAA,SAAW,WACX,EAAA,SAAW,WACX,EAAA,SAAW,WACX,EAAA,SAAW,WACX,EAAA,WAAa,aArBC,IAAA,IAAA,CAAA,CAAA,ECqCN,GAAA,IACR,GAAA,IAAM,MADE,IAAA,IAAA,CAAA,CAAA,EAIA,GAAA,IACR,GAAA,gBAAkB,kBAClB,EAAA,UAAY,YACZ,EAAA,gBAAkB,kBAClB,EAAA,UAAY,YAJJ,IAAA,IAAA,CAAA,CAAA,EAOA,GAAA,IACR,GAAA,gCAAkC,kCAClC,EAAA,gCAAkC,kCAClC,EAAA,0BAA4B,4BAC5B,EAAA,0BAA4B,4BAJpB,IAAA,IAAA,CAAA,CAAA,EAmGA,GAAA,IACR,GAAA,UAAY,YADJ,IAAA,IAAA,CAAA,CAAA,EAmBM,GAAA,IACd,GAAA,gBAAkB,kBADJ,IAAA,IAAA,CAAA,CAAA,EAIN,GAAA,IACR,GAAA,WAAa,aACb,EAAA,MAAQ,QACR,EAAA,MAAQ,QAHA,IAAA,IAAA,CAAA,CAAA,EAMA,GAAA,IACR,GAAA,OAAS,SACT,EAAA,QAAU,UAFF,IAAA,IAAA,CAAA,CAAA,EAKA,GAAA,IACR,GAAA,OAAS,SACT,EAAA,MAAQ,QACR,EAAA,iBAAmB,mBAHX,IAAA,IAAA,CAAA,CAAA,ECxOA,GAAA,IACR,GAAA,IAAM,MACN,EAAA,OAAS,SACT,EAAA,KAAO,OACP,EAAA,YAAc,cACd,EAAA,IAAM,MACN,EAAA,MAAQ,QACR,EAAA,QAAU,UACV,EAAA,OAAS,SACT,EAAA,QAAU,UACV,EAAA,OAAS,SACT,EAAA,eAAiB,kBACjB,EAAA,WAAa,cACb,EAAA,cAAgB,iBAChB,EAAA,mBAAqB,sBACrB,EAAA,6BAA+B,iCAC/B,EAAA,QAAU,WACV,EAAA,WAAa,cACb,EAAA,SAAW,YACX,EAAA,eAAiB,mBACjB,EAAA,kBAAoB,sBACpB,EAAA,gBAAkB,mBAClB,EAAA,uBAAyB,2BACzB,EAAA,0BAA4B,8BAC5B,EAAA,iCAAmC,sCACnC,EAAA,kBAAoB,kBACpB,EAAA,qBAAuB,qBACvB,EAAA,sBAAwB,uBACxB,EAAA,yBAA2B,0BAC3B,EAAA,UAAY,YACZ,EAAA,oBAAsB,uBA9Bd,IAAA,IAAA,CAAA,CAAA,EC6JA,GAAA,IACR,GAAA,WAAa,aACb,EAAA,YAAc,cACd,EAAA,aAAe,eAHP,IAAA,IAAA,CAAA,CAAA,EAMA,GAAA,IACR,GAAA,IAAM,MADE,IAAA,IAAA,CAAA,CAAA,ECrIA,GAAA,IACR,GAAA,OAAS,SADD,IAAA,IAAA,CAAA,CAAA,ECjBC,GAAiB,gCACjB,GAA6B,2CAC7B,GAA6B,2CAC7B,GAAqB,mDC0BrB,GAAwB,wBACxB,GAA8B,8BAW9B,GAAoC,wDACpC,GAAoC,2DACpC,GACT,2ECDQ,GAAA,IACR,GAAA,MAAQ,QACR,EAAA,UAAY,YAFJ,IAAA,IAAA,CAAA,CAAA,EAAA,GAAA,QAAA,GAAA,EAAA,0iBCxDZ,GAAA,CAAA,EAAA,GAAA,GAAA,CAAA,gBAAA,IAAA,GAAA,aAAA,IAAA,GAAA,yBAAA,IAAA,GAAA,gBAAA,IAAA,GAAA,iBAAA,IAAA,GAAA,eAAA,IAAA,GAAA,mBAAA,IAAA,GAAA,2BAAA,IAAA,GAAA,2BAAA,IAAA,GAAA,2BAAA,IAAA,GAAA,uBAAA,IAAA,GAAA,gBAAA,IAAA,GAAA,gBAAA,IAAA,GAAA,UAAA,IAAA,GAAA,4BAAA,IAAA,GAAA,4BAAA,IAAA,GAAA,wBAAA,IAAA,GAAA,kCAAA,IAAA,GAAA,kCAAA,IAAA,GAAA,kBAAA,IAAA,GAAA,gBAAA,IAAA,GAAA,kBAAA,IAAA,GAAA,WAAA,IAAA,GAAA,cAAA,IAAA,GAAA,sBAAA,IAAA,GAAA,YAAA,IAAA,GAAA,gCAAA,IAAA,GAAA,gCAAA,IAAA,EAAA,CAAA,ECAO,GAAK,IAAA,IACR,GAAA,MAAQ,QACR,EAAA,OAAS,SAFD,IAAA,IAAA,CAAA,CAAA,ECUA,GAAA,IACR,GAAA,MAAQ,QACR,EAAA,KAAO,OACP,EAAA,OAAS,SACT,EAAA,KAAO,OAJC,IAAA,IAAA,CAAA,CAAA,EAOA,GAAA,IACR,GAAA,gBAAkB,kBAClB,EAAA,UAAY,YACZ,EAAA,gBAAkB,kBAHV,IAAA,IAAA,CAAA,CAAA,EAQA,GAAA,IACR,GAAA,QAAU,UACV,EAAA,OAAS,SACT,EAAA,YAAc,cAHN,IAAA,IAAA,CAAA,CAAA,EAMA,GAAA,IACR,GAAA,SAAW,WACX,EAAA,QAAU,UACV,EAAA,KAAO,OAHC,IAAA,IAAA,CAAA,CAAA,EAMA,GAAA,IACR,GAAA,QAAU,UACV,EAAA,UAAY,YACZ,EAAA,KAAO,OAHC,IAAA,IAAA,CAAA,CAAA,EC/BA,GAAA,IACR,GAAA,OAAS,SACT,EAAA,MAAQ,QAFA,IAAA,IAAA,CAAA,CAAA,ECNM,GAAA,IACd,GAAA,4BAA6B,2BADf,IAAA,IAAA,CAAA,CAAA,ECAN,GAAA,IACR,GAAA,KAAO,OACP,EAAA,KAAO,OAFC,IAAA,IAAA,CAAA,CAAA,EC8EA,GAAA,IACR,GAAA,MAAQ,QACR,EAAA,OAAS,SAFD,IAAA,IAAA,CAAA,CAAA,EAKA,GAAA,IACR,GAAA,IAAM,MADE,IAAA,IAAA,CAAA,CAAA,ECjBC,GAAiB,mBACjB,GAA6B,kBAC7B,GAA6B,8BAC7B,GAA6B,8BAC7B,GAAqB,sCAgBrB,GAA0B,cAU3B,GAAA,IACR,GAAA,WAAa,aACb,EAAA,YAAc,cAFN,IAAA,IAAA,CAAA,CAAA,EC7BC,GAAyB,uBAgBzB,GAA8B,QAe9B,GAA8B,8BAC9B,GAAoC,mDACpC,GAAoC,mDCnGrC,GAAA,IACR,GAAA,MAAQ,QACR,EAAA,OAAS,SAFD,IAAA,IAAA,CAAA,CAAA,EA6CA,GAAA,IACR,GAAA,QAAY,UACZ,EAAA,WAAe,aACf,EAAA,OAAW,SAHH,IAAA,IAAA,CAAA,CAAA,EAMA,GAAA,IACR,GAAA,MAAU,QACV,EAAA,OAAW,SACX,EAAA,IAAQ,MAHA,IAAA,IAAA,CAAA,CAAA,EC3CA,GAAA,IACR,GAAA,KAAO,OACP,EAAA,QAAU,UAFF,IAAA,IAAA,CAAA,CAAA,ECNA,GAAA,IACR,GAAA,KAAO,OACP,EAAA,QAAU,UACV,EAAA,KAAO,OAHC,IAAA,IAAA,CAAA,CAAA,EAAA,GAAA,QAAA,GAAA,EAAA,svBCHZ,GAAA,KAAA,EAAA,EACA,GAAA,KAAA,EAAA,EACA,GAAA,GAAA,GAAA,IAAA,EACA,GAAA,GAAA,GAAA,IAAA,ICHA,iCAEA,GAAI,IAAoB,WAA2B,EAAO,CACzD,MAAO,IAAgB,CAAK,GACxB,CAAC,GAAU,CAAK,CACrB,EAHwB,qBAKxB,YAAyB,EAAO,CAC/B,MAAO,CAAC,CAAC,GAAS,MAAO,IAAU,QACpC,CAFS,wBAIT,YAAmB,EAAO,CACzB,GAAI,GAAc,OAAO,UAAU,SAAS,KAAK,CAAK,EAEtD,MAAO,KAAgB,mBACnB,IAAgB,iBAChB,GAAe,CAAK,CACzB,CANS,kBAST,GAAI,IAAe,MAAO,SAAW,YAAc,OAAO,IACtD,GAAqB,GAAe,OAAO,IAAI,eAAe,EAAI,MAEtE,YAAwB,EAAO,CAC9B,MAAO,GAAM,WAAa,EAC3B,CAFS,uBAIT,YAAqB,EAAK,CACzB,MAAO,OAAM,QAAQ,CAAG,EAAI,CAAC,EAAI,CAAC,CACnC,CAFS,oBAIT,YAAuC,EAAO,EAAS,CACtD,MAAQ,GAAQ,QAAU,IAAS,EAAQ,kBAAkB,CAAK,EAC/D,GAAU,GAAY,CAAK,EAAG,EAAO,CAAO,EAC5C,CACJ,CAJS,sCAMT,YAA2B,EAAQ,EAAQ,EAAS,CACnD,MAAO,GAAO,OAAO,CAAM,EAAE,IAAI,SAAS,EAAS,CAClD,MAAO,IAA8B,EAAS,CAAO,CACtD,CAAC,CACF,CAJS,0BAMT,YAA0B,EAAK,EAAS,CACvC,GAAI,CAAC,EAAQ,YACZ,MAAO,IAER,GAAI,GAAc,EAAQ,YAAY,CAAG,EACzC,MAAO,OAAO,IAAgB,WAAa,EAAc,EAC1D,CANS,yBAQT,YAAyC,EAAQ,CAChD,MAAO,QAAO,sBACX,OAAO,sBAAsB,CAAM,EAAE,OAAO,SAAS,EAAQ,CAC9D,MAAO,GAAO,qBAAqB,CAAM,CAC1C,CAAC,EACC,CAAC,CACL,CANS,wCAQT,YAAiB,EAAQ,CACxB,MAAO,QAAO,KAAK,CAAM,EAAE,OAAO,GAAgC,CAAM,CAAC,CAC1E,CAFS,gBAIT,YAA4B,EAAQ,EAAU,CAC7C,GAAI,CACH,MAAO,KAAY,EACpB,MAAE,CACD,MAAO,EACR,CACD,CANS,2BAST,YAA0B,EAAQ,EAAK,CACtC,MAAO,IAAmB,EAAQ,CAAG,GACjC,CAAE,QAAO,eAAe,KAAK,EAAQ,CAAG,GACvC,OAAO,qBAAqB,KAAK,EAAQ,CAAG,EAClD,CAJS,yBAMT,YAAqB,EAAQ,EAAQ,EAAS,CAC7C,GAAI,GAAc,CAAC,EACnB,MAAI,GAAQ,kBAAkB,CAAM,GACnC,GAAQ,CAAM,EAAE,QAAQ,SAAS,EAAK,CACrC,EAAY,GAAO,GAA8B,EAAO,GAAM,CAAO,CACtE,CAAC,EAEF,GAAQ,CAAM,EAAE,QAAQ,SAAS,EAAK,CACrC,AAAI,GAAiB,EAAQ,CAAG,GAIhC,CAAI,GAAmB,EAAQ,CAAG,GAAK,EAAQ,kBAAkB,EAAO,EAAI,EAC3E,EAAY,GAAO,GAAiB,EAAK,CAAO,EAAE,EAAO,GAAM,EAAO,GAAM,CAAO,EAEnF,EAAY,GAAO,GAA8B,EAAO,GAAM,CAAO,EAEvE,CAAC,EACM,CACR,CAnBS,oBAqBT,YAAmB,EAAQ,EAAQ,EAAS,CAC3C,EAAU,GAAW,CAAC,EACtB,EAAQ,WAAa,EAAQ,YAAc,GAC3C,EAAQ,kBAAoB,EAAQ,mBAAqB,GAGzD,EAAQ,8BAAgC,GAExC,GAAI,GAAgB,MAAM,QAAQ,CAAM,EACpC,EAAgB,MAAM,QAAQ,CAAM,EACpC,EAA4B,IAAkB,EAElD,MAAK,GAEM,EACH,EAAQ,WAAW,EAAQ,EAAQ,CAAO,EAE1C,GAAY,EAAQ,EAAQ,CAAO,EAJnC,GAA8B,EAAQ,CAAO,CAMtD,CAnBS,kBAqBT,GAAU,IAAM,WAAsB,EAAO,EAAS,CACrD,GAAI,CAAC,MAAM,QAAQ,CAAK,EACvB,KAAM,IAAI,OAAM,mCAAmC,EAGpD,MAAO,GAAM,OAAO,SAAS,EAAM,EAAM,CACxC,MAAO,IAAU,EAAM,EAAM,CAAO,CACrC,EAAG,CAAC,CAAC,CACN,EARgB,gBAUhB,GAAI,IAAc,GAElB,GAAO,QAAU,wLCnIJ,GAAA,kBAAuC,CAChD,CAAE,MAAO,eAAgB,UAAW,4BAA6B,IAAK,EAAE,EACxE,CAAE,MAAO,cAAe,UAAW,2BAA4B,IAAK,EAAE,EACtE,CAAE,MAAO,aAAc,UAAW,0BAA2B,IAAK,EAAE,EACpE,CAAE,UAAW,oBAAqB,MAAO,OAAQ,IAAK,EAAE,EACxD,CAAE,UAAW,wBAAyB,MAAO,WAAY,IAAK,EAAE,EAChE,CAAE,UAAW,iCAAkC,MAAO,SAAU,IAAK,EAAE,EACvE,CAAE,UAAW,6BAA8B,MAAO,KAAM,IAAK,EAAE,EAC/D,CAAE,UAAW,kCAAmC,MAAO,UAAW,IAAK,EAAE,EACzE,CAAE,UAAW,oCAAqC,MAAO,YAAa,IAAK,EAAE,EAC7E,CAAE,UAAW,mCAAoC,MAAO,WAAY,IAAK,EAAE,EAC3E,CAAE,UAAW,uCAAwC,MAAO,eAAgB,IAAK,EAAE,EACnF,CAAE,UAAW,wCAAyC,MAAO,gBAAiB,IAAK,EAAE,EACrF,CAAE,UAAW,gCAAiC,MAAO,QAAS,IAAK,EAAE,GAezE,YAAsB,EAA+B,EAAsB,CAOvE,GANK,EAAW,qBACZ,GAAW,oBAAsB,EAAW,OAAO,CAAC,EAAgC,IAChF,GAAI,EAAI,WAAa,EACd,GACR,CAAA,CAAE,GAEL,CAAC,EACD,MAAO,GAEX,GAAM,GAAe,EAAe,YAAY,GAAG,EAC7C,EAAY,EAAe,UAAU,EAAG,CAAY,EACpD,EAAQ,EAAe,UAAU,EAAe,CAAC,EACjD,EAAY,EAAW,oBAAoB,GACjD,GAAI,EACA,MAAO,GAAG,EAAU,SAAS,IAC1B,GAAI,EAAe,QAAQ,GAAG,IAAM,GAAI,CAE3C,GAAM,CAAC,KAAa,GAAa,EAAe,MAAM,GAAG,EACzD,MAAO,GAAG,KAAY,GAAM,EAAY,EAAU,KAAK,GAAG,CAAC,QAE3D,OAAO,EAEf,CAvBgB,cAAhB,GAAA,MAAA,GAgCA,YAAwB,EAA+B,EAAgC,CAOnF,GANK,EAAW,cACZ,GAAW,aAAe,EAAW,OAAO,CAAC,EAAgC,IACzE,GAAI,EAAI,OAAS,EACV,GACR,CAAA,CAAE,GAEL,CAAC,EACD,MAAO,GAEX,GAAM,CAAC,KAAa,GAAS,EAAa,MAAM,GAAG,EAC7C,EAAY,EAAW,aAAa,GAC1C,GAAI,EACA,MAAO,GAAG,EAAU,aAAa,EAAM,KAAK,GAAG,IAC5C,GAAI,EAAa,QAAQ,GAAG,IAAM,GAAI,CAEzC,GAAM,CAAC,KAAa,GAAa,EAAa,MAAM,GAAG,EACvD,MAAO,GAAG,KAAY,GAAQ,EAAY,EAAU,KAAK,GAAG,CAAC,QAE7D,OAAO,EAEf,CArBgB,gBAAhB,GAAA,QAAA,GAuBA,GAAY,IAAZ,AAAA,UAAY,EAAW,CACnB,EAAA,8CAAA,4CACA,EAAA,6CAAA,2CACA,EAAA,+BAAA,iCACA,EAAA,2BAAA,yBACA,EAAA,6BAAA,iCACA,EAAA,8BAAA,gCACA,EAAA,oCAAA,uCACA,EAAA,uCAAA,0CACA,EAAA,+CAAA,kDACA,EAAA,yCAAA,wBACA,EAAA,wCAAA,wBACA,EAAA,qCAAA,wBACA,EAAA,iCAAA,+BACA,EAAA,sCAAA,wBACA,EAAA,+BAAA,wBACA,EAAA,8BAAA,wBACA,EAAA,0CAAA,wBACA,EAAA,2BAAA,wBACA,EAAA,iCAAA,wBACA,EAAA,wCAAA,2CACA,EAAA,2CAAA,mBACA,EAAA,0CAAA,wBACA,EAAA,gCAAA,wBACA,EAAA,0CAAA,wBACA,EAAA,kCAAA,sCACA,EAAA,6BAAA,wBACA,EAAA,sCAAA,wBACA,EAAA,mCAAA,iCACA,EAAA,uCAAA,0CACA,EAAA,wCAAA,cACA,EAAA,kCAAA,qCACA,EAAA,8CAAA,iDACA,EAAA,2DAAA,wBACA,EAAA,2DAAA,wBACA,EAAA,gDAAA,2CACA,EAAA,gDAAA,wBACA,EAAA,+CAAA,yCACA,EAAA,4CAAA,+CACA,EAAA,+CAAA,kDACA,EAAA,oDAAA,uDACA,EAAA,4CAAA,wBACA,EAAA,0CAAA,wBACA,EAAA,2CAAA,wBACA,EAAA,8CAAA,wBACA,EAAA,2CAAA,8CACA,EAAA,4CAAA,wBACA,EAAA,0CAAA,6CACA,EAAA,gDAAA,mDACA,EAAA,8CAAA,iDACA,EAAA,gDAAA,mDACA,EAAA,gDAAA,mDACA,EAAA,mDAAA,wBACA,EAAA,mDAAA,wBACA,EAAA,gDAAA,mDACA,EAAA,+CAAA,kDACA,EAAA,gDAAA,mDACA,EAAA,+CAAA,kDACA,EAAA,gDAAA,mDACA,EAAA,4DAAA,+DACA,EAAA,mDAAA,sDACA,EAAA,8DAAA,wBACA,EAAA,sDAAA,yDACA,EAAA,8CAAA,iDACA,EAAA,2CAAA,4CACA,EAAA,gDAAA,4CACA,EAAA,0DAAA,wBACA,EAAA,2CAAA,8CACA,EAAA,sCAAA,wBACA,EAAA,yCAAA,wBACA,EAAA,sDAAA,mBACA,EAAA,6CAAA,mBACA,EAAA,+CAAA,kDACA,EAAA,kDAAA,qDACA,EAAA,mCAAA,oBACA,EAAA,mCAAA,oBACA,EAAA,qCAAA,wBACA,EAAA,yCAAA,uCACA,EAAA,sCAAA,cACA,EAAA,sCAAA,yCACA,EAAA,mCAAA,sCACA,EAAA,sDAAA,sCACA,EAAA,iDAAA,sCACA,EAAA,wCAAA,sCACA,EAAA,2CAAA,sCACA,EAAA,oCAAA,YACA,EAAA,oCAAA,YACA,EAAA,+BAAA,WACA,EAAA,6CAAA,gDACA,EAAA,+CAAA,wBACA,EAAA,6CAAA,wBACA,EAAA,yDAAA,wBACA,EAAA,2DAAA,YACA,EAAA,oDAAA,wBACA,EAAA,0DAAA,2DACA,EAAA,iDAAA,YACA,EAAA,uDAAA,YACA,EAAA,0CAAA,mBACA,EAAA,uDAAA,wBACA,EAAA,6CAAA,gDACA,EAAA,kDAAA,wBACA,EAAA,8CAAA,wBACA,EAAA,6CAAA,wBACA,EAAA,yCAAA,wBACA,EAAA,oDAAA,oBACA,EAAA,wDAAA,oBACA,EAAA,+CAAA,mBACA,EAAA,4CAAA,YACA,EAAA,4CAAA,YACA,EAAA,oDAAA,6BACA,EAAA,oDAAA,6BACA,EAAA,yCAAA,wBACA,EAAA,+CAAA,wBACA,EAAA,wDAAA,2DACA,EAAA,uDAAA,wBACA,EAAA,+DAAA,iEACA,EAAA,+CAAA,kDACA,EAAA,8CAAA,iDACA,EAAA,4CAAA,qBACA,EAAA,kDAAA,qDACA,EAAA,2CAAA,kBACA,EAAA,kDAAA,4DACA,EAAA,gEAAA,4DACA,EAAA,mDAAA,cACA,EAAA,6CAAA,mBACA,EAAA,4DAAA,qBACA,EAAA,2CAAA,8CACA,EAAA,gDAAA,wBACA,EAAA,4DAAA,+DACA,EAAA,kDAAA,wBACA,EAAA,4CAAA,+CACA,EAAA,8DAAA,kDACA,EAAA,2DAAA,wBACA,EAAA,mDAAA,sDACA,EAAA,iDAAA,wBACA,EAAA,qDAAA,wBACA,EAAA,oDAAA,wBACA,EAAA,kDAAA,wBACA,EAAA,iDAAA,wBACA,EAAA,uDAAA,wBACA,EAAA,sDAAA,wBACA,EAAA,yDAAA,wBACA,EAAA,wDAAA,wBACA,EAAA,sDAAA,wBACA,EAAA,qDAAA,wBACA,EAAA,iDAAA,wBACA,EAAA,+CAAA,wBACA,EAAA,iDAAA,wBACA,EAAA,qDAAA,wBACA,EAAA,kDAAA,wBACA,EAAA,sDAAA,wBACA,EAAA,+CAAA,wBACA,EAAA,mDAAA,wBACA,EAAA,oDAAA,wBACA,EAAA,sDAAA,wBACA,EAAA,wDAAA,wBACA,EAAA,4CAAA,+CACA,EAAA,4CAAA,+CACA,EAAA,qDAAA,kDACA,EAAA,mDAAA,mBACA,EAAA,8CAAA,mBACA,EAAA,8CAAA,iDACA,EAAA,wDAAA,+CACA,EAAA,qDAAA,oBACA,EAAA,yDAAA,oBACA,EAAA,4CAAA,+CACA,EAAA,qDAAA,wDACA,EAAA,4CAAA,qBACA,EAAA,4CAAA,wCACA,EAAA,4CAAA,qBACA,EAAA,4CAAA,wCACA,EAAA,+EAAA,wBACA,EAAA,kDAAA,kDACA,EAAA,mDAAA,kDACA,EAAA,iDAAA,mBACA,EAAA,iDAAA,mBACA,EAAA,mEAAA,cACA,EAAA,iDAAA,oDACA,EAAA,iDAAA,oDACA,EAAA,wDAAA,wBACA,EAAA,uDAAA,wBACA,EAAA,+CAAA,kDACA,EAAA,8CAAA,iDACA,EAAA,iDAAA,oDACA,EAAA,wDAAA,2DACA,EAAA,wDAAA,2DACA,EAAA,uDAAA,0DACA,EAAA,8DAAA,wBACA,EAAA,+DAAA,wBACA,EAAA,0DAAA,6DACA,EAAA,yCAAA,4CACA,EAAA,6CAAA,+CACA,EAAA,oCAAA,uCACA,EAAA,uCAAA,+CACA,EAAA,yCAAA,+CACA,EAAA,yCAAA,4CACA,EAAA,8CAAA,iDACA,EAAA,2CAAA,6CACA,EAAA,0CAAA,6CACA,EAAA,uCAAA,qBACA,EAAA,4CAAA,+CACA,EAAA,wCAAA,2CACA,EAAA,kCAAA,qCACA,EAAA,oCAAA,iDACA,EAAA,+CAAA,kDACA,EAAA,gDAAA,kDACA,EAAA,8CAAA,mBACA,EAAA,qCAAA,mCACA,EAAA,2CAAA,mCACA,EAAA,8CAAA,mCACA,EAAA,gDAAA,mCACA,EAAA,2CAAA,4CACA,EAAA,2DAAA,8DACA,EAAA,kDAAA,qDACA,EAAA,+CAAA,kDACA,EAAA,+CAAA,wBACA,EAAA,wCAAA,wBACA,EAAA,4CAAA,wBACA,EAAA,kCAAA,wBACA,EAAA,sCAAA,wBACA,EAAA,yCAAA,wBACA,EAAA,sCAAA,wBACA,EAAA,4CAAA,wBACA,EAAA,8CAAA,iDACA,EAAA,yCAAA,4CACA,EAAA,qCAAA,wBACA,EAAA,2CAAA,wBACA,EAAA,2CAAA,wBACA,EAAA,2CAAA,wBACA,EAAA,2CAAA,wBACA,EAAA,+CAAA,+CACA,EAAA,0CAAA,6CACA,EAAA,qDAAA,wDACA,EAAA,yCAAA,wBACA,EAAA,sCAAA,mBACA,EAAA,oDAAA,oBACA,EAAA,kDAAA,qDACA,EAAA,iDAAA,oDACA,EAAA,2DAAA,wBACA,EAAA,6CAAA,+CACJ,GAhPY,GAAA,GAAA,aAAA,IAAA,YAAW,CAAA,EAAA,EAuPvB,YACI,EAAoD,CAEpD,MACI,CAAC,CAAC,GAAyB,EAAsB,QAAU,eAAiB,CAAC,CAAC,EAAsB,UAE5G,CANgB,gCAAhB,GAAA,wBAAA,GAQA,YAAwB,EAAa,CACjC,MAAO,CACH,WAAS,CACL,MAAO,EACX,EACA,SAAO,CACH,MAAO,EACX,EACA,UAAQ,CACJ,MAAO,GAAM,SAAQ,CACzB,EAER,CAZgB,gBAAhB,GAAA,QAAA,qGCpTA,GAAA,IAAA,KAKA,QAAU,CAcN,YAAY,EAAgC,EAAoB,EAAyB,EAAY,CACjG,KAAK,KAAO,EAAe,KAC3B,KAAK,KAAO,OACZ,KAAK,QAAU,EACf,KAAK,KAAO,EACZ,KAAK,gBAAkB,CAC3B,GApBJ,aA6BA,YAAwB,EAAwB,OAC5C,GAAM,GAAiB,CAAA,EACvB,MAAI,KAAA,EAAY,OAAO,mBAAe,MAAA,IAAA,SAAA,EAAE,oBACpC,GAAU,EAAY,OAAO,gBAAgB,oBAAsB,EAAY,OAAO,iBAE1F,EAAY,OAAO,WAAW,QAAQ,AAAC,GAAa,CAChD,EAAU,EAAU,oBAAsB,CAC9C,CAAC,EACD,EAAY,OAAO,QAAQ,QAAQ,AAAC,GAAU,CAE1C,GADA,EAAU,EAAO,oBAAsB,EACnC,EAAO,QAAS,CAChB,GAAM,GAAoB,EAAO,mBAAmB,MAAM,GAAG,EAAE,GAC/D,AAAK,EAAU,IACX,GAAU,GAAqB,CAC3B,MAAO,uBACP,QAAS,CAAA,IAGjB,EAAU,GAAmB,QAAQ,KAAK,CAAM,EAChD,GAAM,GAAc,EAAO,mBAAmB,MAAM,GAAG,EACvD,EAAU,GAAG,EAAY,GAAG,MAAM,GAAG,EAAE,MAAM,EAAY,MAAQ,EAGrE,EAAO,WAAW,QAAQ,AAAC,GAAa,CACpC,EAAU,EAAU,oBAAsB,CAC9C,CAAC,CACL,CAAC,EACD,EAAY,OAAO,aAAa,QAAQ,AAAC,GAAe,CACpD,EAAU,EAAY,oBAAsB,EAC5C,EAAY,WAAW,QAAQ,AAAC,GAAY,CACxC,EAAU,EAAS,oBAAsB,CAC7C,CAAC,CACL,CAAC,EACD,EAAY,OAAO,gBAAgB,QAAQ,AAAC,GAAkB,CAC1D,EAAU,EAAe,oBAAsB,CACnD,CAAC,EACD,EAAY,OAAO,YAAY,QAAQ,AAAC,GAAc,CAClD,EAAU,EAAW,oBAAsB,EAC3C,EAAW,iBAAiB,QAAQ,AAAC,GAAY,CAC7C,EAAU,EAAS,oBAAsB,EAEzC,GAAM,GAAwB,EAAU,EAAS,MACjD,AAAI,GAAA,GAAA,yBAAwB,CAAqB,GAC7C,EAAsB,WAAW,QAAQ,AAAC,GAAmB,CACzD,GAAM,GAAqC,OAAO,OAAO,EAAiB,CACtE,MAAO,WACP,mBAAoB,EAAS,mBAAqB,IAAM,EAAgB,KAC3E,EACD,EAAU,EAAsB,oBAAsB,CAC1D,CAAC,CAET,CAAC,EACD,EAAW,qBAAqB,QAAQ,AAAC,GAAe,CACpD,EAAU,EAAY,oBAAsB,CAChD,CAAC,CACL,CAAC,EAED,OAAO,KAAK,EAAY,OAAO,WAAW,EAAE,QAAQ,AAAC,GAAoB,CACrE,EAAY,OAAO,YAAY,GAAkB,QAAQ,AAAC,GAAkB,CACxE,GAAM,GAAoB,GAAA,GAAA,SAAQ,EAAY,WAAY,EAAe,MAAM,EAC/E,EAAe,YAAY,QAAQ,AAAC,GAAc,CAC9C,GAAI,GAAgB,GAAG,KAAqB,GAAA,GAAA,SAAQ,EAAY,WAAY,EAAW,IAAI,IAC3F,AAAI,EAAW,WACX,IAAiB,IAAI,EAAW,aAEpC,EAAU,GAAiB,EAC1B,EAA0B,mBAAqB,CACpD,CAAC,CACL,CAAC,CACL,CAAC,EACM,CACX,CAvES,uBAgFT,YAAqB,EAAuB,EAAY,CACpD,MAAI,GAAK,WAAW,GAAG,EACZ,EAAgB,GAAA,GAAA,SAAQ,GAAA,kBAAmB,CAAI,EAE/C,EAAgB,IAAM,CAErC,CANS,oBAOT,GAAM,IAA6B,CAAA,EAC/B,GAA2C,CAAA,EAK/C,YAAmC,EAAc,EAAc,CAC3D,AAAK,GAAsB,GAGvB,GAAsB,GAAM,KAAK,CAAS,EAF1C,GAAsB,GAAQ,CAAC,CAAS,CAIhD,CANS,kCAmBT,YACI,EACA,EACA,EACA,EAAoB,GACpB,EAAiC,GACjC,EAAwB,CAExB,GAAI,GACJ,GAAI,CAAC,EACD,OAEJ,GAAM,GAAyB,CAAA,EAC/B,AAAI,GAAiB,EAAc,QAAU,YACzC,GAAgB,EAAU,EAAc,mBAAmB,MAAM,GAAG,EAAE,KAE1E,EAAO,GAAY,EAAc,mBAAoB,CAAI,EAEzD,GAAM,GAAY,EAAK,MAAM,GAAG,EAC1B,EAA4B,CAAA,EAClC,EAAU,QAAQ,AAAC,GAAY,CAE3B,GAAI,EAAS,QAAQ,GAAG,IAAM,GAAI,CAC9B,GAAM,CAAC,EAAc,GAAkB,EAAS,MAAM,GAAG,EACzD,EAAgB,KAAK,CAAY,EACjC,EAAgB,KAAK,IAAI,GAAgB,MAEzC,GAAgB,KAAK,CAAQ,CAErC,CAAC,EACD,GAAI,GAAc,EACd,EAAiB,EACf,EAAS,EAAgB,OAAO,CAAC,EAAmB,IAAY,CAIlE,GAHI,IAAa,SAAW,EAAa,QAAU,cAG9C,KAAa,kBAAoB,IAAa,MAAQ,EAAa,QAAU,SAC9E,MAAO,GAEX,GAAI,EAAS,SAAW,EAEpB,MAAI,IAAgB,EAAa,QAAU,aAAe,EAAa,YAC/D,IACA,EAAgB,KAAK,CAAY,EAErC,EAAe,EAAa,YAE5B,GAAgB,EAAa,QAAU,sBAAwB,EAAa,YACxE,IACA,EAAgB,KAAK,CAAY,EAErC,EAAe,EAAa,YAEzB,EAKX,GAHI,GAAyB,IAAiB,MAAQ,IAAiB,QACnE,EAAgB,KAAK,CAAY,EAEjC,CAAC,EACD,EAAc,MACX,IAAI,EAAa,QAAU,aAAe,IAAa,QAC1D,SAAe,EAAa,WACrB,EACJ,GAAI,EAAa,QAAU,aAAe,EAAa,WAC1D,EAAc,GAAY,EAAa,eAAgB,CAAQ,UACxD,EAAa,QAAU,qBAC9B,EAAc,GAAY,EAAa,mBAAoB,CAAQ,EAC9D,EAAU,IAEX,GAAc,GAAY,EAAa,eAAgB,CAAQ,WAE5D,EAAa,QAAU,WAE9B,AAAI,EAAa,WACb,EAAc,GAAY,EAAa,WAAW,mBAAoB,CAAQ,EAE9E,EAAc,GAAY,EAAa,mBAAoB,CAAQ,UAEhE,EAAa,QAAU,UAAY,EAAa,QAAS,CAEhE,GADA,EAAc,GAAY,EAAa,mBAAoB,CAAQ,EAC/D,IAAa,aACb,MAAO,GAAa,WAGxB,AAAK,EAAU,IACX,GAAc,GAAY,EAAa,WAAY,CAAQ,WAExD,EAAa,QAAU,mBAAqB,EAAa,YAChE,EAAc,GAAY,EAAa,KAAM,CAAQ,UAC9C,EAAa,QAAU,mBAAqB,CAAC,EAAa,aAKjE,GAJA,EAAc,GACV,EAAc,mBAAmB,UAAU,EAAG,EAAc,mBAAmB,YAAY,GAAG,CAAC,EAC/F,CAAQ,EAER,CAAC,EAAU,GAAc,CACzB,GAAI,GAAU,EAAc,mBAAmB,YAAY,GAAG,EAC9D,AAAI,IAAY,IACZ,GAAU,EAAc,mBAAmB,QAE/C,EAAc,GACT,EAAU,EAAc,mBAAmB,UAAU,EAAG,CAAO,GAAc,WAC9E,CAAQ,OAGb,CAEH,GADA,EAAc,GAAY,EAAa,mBAAoB,CAAQ,EAC/D,IAAa,QAAU,EAAa,KAAc,OAClD,MAAO,GAAa,GACjB,GAAI,IAAa,mBAAqB,EAAa,QAAS,CAC/D,GAAM,GAAmB,EAAU,EAAa,mBAAmB,MAAM,GAAG,EAAE,IACxE,EAAiB,GAAe,EAAW,EAAkB,EAAa,MAAO,GAAO,EAAI,EAClG,SAAU,eAAe,QAAQ,AAAC,GAAyB,CACvD,AAAI,EAAgB,QAAQ,CAAgB,IAAM,IAC9C,EAAgB,KAAK,CAAgB,CAE7C,CAAC,EACM,EAAU,eACV,IAAa,SAAW,EAAa,QAAS,CAUrD,GATA,EAAiB,EACZ,OAAM,EACN,QAAO,EACP,KACG,AAAC,GACG,EAAI,QAAU,cACd,EAAI,QAAU,aACd,EAAI,QAAU,oBAAoB,EAE1C,EAAgB,CAChB,GAAM,GAAiB,GAAe,EAAW,EAAgB,EAAa,KAAM,GAAO,EAAI,EAC/F,SAAU,eAAe,QAAQ,AAAC,GAAyB,CACvD,AAAI,EAAgB,QAAQ,CAAgB,IAAM,IAC9C,EAAgB,KAAK,CAAgB,CAE7C,CAAC,EACM,EAAU,OAErB,MAAO,GAAa,gBACb,EAAS,WAAW,OAAO,GAAK,EAAa,QAAS,CAC7D,GAAM,GAAqB,EAAa,QACxC,EAAc,GAAY,EAAmB,mBAAoB,EAAS,UAAU,CAAC,CAAC,UAC/E,EAAa,eAAe,OAAO,GAAK,CAAC,EAAU,GAAc,CAExE,GAAM,GAAa,EAAU,EAAa,mBAAmB,MAAM,GAAG,EAAE,IACxE,AAAI,GACA,GAAc,GAAY,EAAW,mBAAoB,CAAQ,KAI7E,MAAO,GAAU,EACrB,EAAG,IAAI,EACP,GAAI,CAAC,EACD,GAAI,EAAiB,CACjB,GAAM,GAAiB,GAAkB,EAAiB,CAAa,EACvE,EAAY,CACR,QACI;EAEA,EACA;;;;qBAIA,EACA;iBAGA,EACA;oBAGA,EACA,KAER,GAA0B,EAAM,CAAS,MAEzC,GAAY,CACR,QACI,0CACA,EACA;;;;qBAIA,EAAU,GACV;wBAGA,EAAU,GACV,KAER,GAA0B,EAAM,CAAS,EAGjD,MAAI,GACO,EAEP,EACO,CACH,eAAgB,EAChB,OAAQ,GAGT,CACX,CA3MS,uBAmNT,YAA0B,EAAe,CACrC,MAAO,GAAQ,QAAQ,GAAG,IAAM,EACpC,CAFS,yBAIT,YAAoB,EAA2B,EAAkB,EAAgB,EAA0B,CACvG,GAAI,IAAkB,OAGtB,OAAQ,EAAc,UACb,SACD,MAAO,GAAc,WACpB,MACD,MAAO,GAAc,QACpB,OACD,MAAO,GAAc,SACpB,UACD,MAAO,GAAA,GAAA,SAAQ,EAAc,OAAO,MACnC,OACD,MAAO,GAAc,SACpB,aACD,MAAO,GAAA,GAAA,OAAM,EAAQ,YAAY,WAAY,EAAc,UAAU,MACpE,eACD,MAAO,CACH,KAAM,eACN,MAAO,EAAc,aACrB,mBAAoB,EACpB,QAAS,GACL,EACA,EAAQ,cACR,EAAc,aACd,GACA,GACA,EAAQ,WAAW,OAG1B,yBACD,MAAO,CACH,KAAM,yBACN,MAAO,EAAc,uBACrB,mBAAoB,EACpB,QAAS,GACL,EACA,EAAQ,cACR,EAAc,uBACd,GACA,GACA,EAAQ,WAAW,OAG1B,iBACD,GAAM,GAAmB,GACrB,EACA,EAAQ,cACR,GAAA,GAAA,SAAQ,EAAQ,YAAY,WAAY,EAAc,cAAc,EACpE,GACA,GACA,EAAQ,WAAW,EAEjB,EAAiB,CACnB,KAAM,iBACN,MAAO,EAAc,eACrB,mBAAoB,EACpB,QAAS,EACT,gBAAiB,EAAQ,YACzB,KAAM,GACN,KAAM,IAEV,SAAQ,sBAAsB,KAAK,CAAE,OAAQ,GAAO,UAAW,CAAc,CAAE,EACxE,MACN,OACD,GAAM,GAAU,GACZ,EACA,EAAQ,cACR,EAAc,KACd,GACA,GACA,EAAQ,WAAW,EAEjB,EAAO,GAAI,IAAK,EAAe,EAAS,EAAQ,YAAa,EAAE,EACrE,SAAQ,sBAAsB,KAAK,CAC/B,OAAQ,GAAiB,EAAc,IAAI,EAC3C,UAAW,EACd,EACM,MAEN,SACD,MAAO,IAAY,EAAc,OAAQ,EAAU,EAAW,CAAO,MACpE,aACD,MAAO,IAAgB,EAAc,WAAY,EAAU,EAAW,CAAO,MAC5E,YACA,WACA,UACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,UACA,aAED,MAAO,GAEnB,CApGS,mBA6GT,YAA2B,EAAyB,EAAwB,CACxE,GAAM,GAAc,GAAA,YAAoB,GAClC,EAAY,CACd,QAAS,GACT,QAAS,+CAA+C,yCAAuD;;uBAEhG;qBACF;;;iBAKjB,UAA0B,EAAmB,IAAM,EAAiB,CAAS,EACtE,CACX,CAdS,0BAgBT,YAAkC,EAAwB,EAAmB,CACzE,MACI,GAAkB,eAAe,QAAQ,GACxC,GAAe,QAAU,iDACtB,EAAe,QAAU,iDAErC,CANS,iCAQT,YAAyB,EAAoC,EAA0B,CACnF,GAAI,GACJ,MAAI,CAAC,EAAiB,MAAQ,EAAQ,YAClC,EAAa,GAAkB,EAAQ,YAAa,EAAQ,cAAc,kBAAkB,EAE5F,EAAa,GAAA,GAAA,SAAQ,EAAQ,YAAY,WAAY,EAAiB,IAAI,EAEvE,CACX,CARS,wBAST,YACI,EACA,EACA,EACA,EAA0B,CAI1B,GAAM,GAAsB,CACxB,MAHe,GAAgB,EAAkB,CAAO,EAIxD,mBAAoB,GAElB,EAAyB,CAAA,EAC/B,GAAI,MAAM,QAAQ,EAAiB,WAAW,EAAG,CAC7C,GAAM,GAAoB,CACtB,OAAQ,EACR,YAAa,EAAiB,YAC9B,SAAU,EAAQ,eAEtB,EAAQ,sBAAsB,KAAK,CAAiB,EAExD,MAAI,GAAiB,gBACjB,EAAiB,eAAe,QAAQ,AAAC,GAAgC,CAOrE,GANA,EAAkB,EAAc,MAAQ,GACpC,EAAc,MACd,GAAG,KAAc,EAAc,OAC/B,EACA,CAAO,EAEP,MAAM,QAAQ,EAAc,WAAW,EAAG,CAC1C,GAAM,GAAoB,CACtB,OAAQ,GAAG,KAAc,EAAc,OACvC,YAAa,EAAc,YAC3B,SAAU,EAAQ,eAEtB,EAAQ,sBAAsB,KAAK,CAAiB,EAExD,AAAI,GAAyB,EAAmB,CAAc,GAC1D,GAAkB,aACb,EAAQ,cAAc,SAAW,EAAQ,cAAc,QAAQ,EAAkB,SAClF,EAAU,EAAkB,QAC3B,EAAkB,cAEnB,GAAkB,KAAK,CACnB,QACI,gCACA,EAAkB,OAClB,gBACA,EAAe,mBACtB,EAGb,CAAC,EAEE,OAAO,OAAO,EAAgB,CAAiB,CAC1D,CAvDS,oBAoFT,YAAkC,EAA2B,CACzD,GAAI,GAAwB,EAA6B,KACzD,GAAI,IAAS,QAAa,EAAqB,OAAS,EAAG,CACvD,GAAM,GAAe,EAAqB,GAC1C,AAAI,EAAa,eAAe,cAAc,EAC1C,EAAO,eACJ,AAAI,EAAa,eAAe,MAAM,EACzC,EAAO,OACJ,AAAI,EAAa,eAAe,gBAAgB,EACnD,EAAO,iBACJ,AAAI,EAAa,eAAe,wBAAwB,EAC3D,EAAO,yBACJ,AACH,MAAO,IAAiB,UACvB,GAAa,eAAe,MAAM,GAAK,EAAa,eAAe,gBAAgB,GAEpF,EAAO,SACA,MAAO,IAAiB,UAC/B,GAAO,cAER,AAAI,KAAS,QAChB,GAAO,mBAEX,MAAO,EACX,CAxBS,iCA0BT,YAAyB,EAA6B,EAAmB,EAAgB,EAA0B,CAE/G,OADiC,GAAyB,CAAoB,OAErE,eACD,MAAO,GAAqB,IAAI,CAAC,EAAc,IACpC,EACH,KAAM,eACN,MAAO,EAAa,aACpB,mBAAoB,GAAG,KAAa,IACpC,QAAS,GACL,EACA,EAAQ,cACR,EAAa,aACb,GACA,GACA,EAAQ,WAAW,GAG9B,MACA,OACD,MAAO,GAAqB,IAAI,AAAC,GAAa,CAC1C,GAAM,GAAU,GACZ,EACA,EAAQ,cACR,EAAU,KACV,GACA,GACA,EAAQ,WAAW,EAEjB,EAAO,GAAI,IAAK,EAAW,EAAS,EAAQ,YAAa,EAAE,EACjE,SAAQ,sBAAsB,KAAK,CAC/B,OAAQ,GAAiB,EAAU,IAAI,EACvC,UAAW,EACd,EACM,CACX,CAAC,MACA,iBACD,MAAO,GAAqB,IAAI,CAAC,EAAgB,IAAiB,CAC9D,GAAM,GAAmB,GACrB,EACA,EAAQ,cACR,EAAe,eACf,GACA,GACA,EAAQ,WAAW,EAEjB,EAA8B,CAChC,KAAM,iBACN,MAAO,EAAe,eACtB,mBAAoB,GAAG,KAAa,IACpC,QAAS,EACT,gBAAiB,EAAQ,YACzB,KAAM,GACN,KAAM,IAEV,SAAQ,sBAAsB,KAAK,CAC/B,OAAQ,GACR,UAAW,EACd,EACM,CACX,CAAC,MACA,yBACD,MAAO,GAAqB,IAAI,CAAC,EAAiB,IACvC,EACH,KAAM,yBACN,MAAO,EAAgB,uBACvB,mBAAoB,GAAG,KAAa,IACpC,QAAS,GACL,EACA,EAAQ,cACR,EAAgB,uBAChB,GACA,GACA,EAAQ,WAAW,GAG9B,MACA,SACD,MAAO,GAAqB,IAAI,CAAC,EAAkB,IACxC,GAAY,EAAkB,GAAG,KAAa,IAAa,EAAW,CAAO,CACvF,MACA,YACA,WACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,UACA,UACA,KACD,MAAO,GAAqB,IAAI,AAAC,GACtB,CACV,MACA,SACD,MAAO,GAAqB,IAAI,AAAC,GACzB,MAAO,IAAgB,UAEhB,IAAgB,OADhB,EAIA,EAAY,MAE1B,UAED,GAAI,EAAqB,SAAW,EAChC,MAAO,CAAA,EAEX,KAAM,IAAI,OAAM,kBAAkB,EAE9C,CAhHS,wBA8HT,YAA2B,EAAwB,EAAgB,EAA0B,CACzF,GAAI,EAAW,OACX,MAAO,IAAY,EAAW,OAAQ,EAAW,mBAAoB,EAAW,CAAO,EACpF,GAAI,EAAW,aAAe,OACjC,MAAI,GAAW,MACJ,GAAW,EAAW,MAAO,EAAW,mBAAoB,EAAW,CAAO,EAE9E,GAER,GAAI,EAAW,WAAY,CAC9B,GAAM,GAAkB,GACpB,EAAW,WACX,EAAW,mBACX,EACA,CAAO,EAEX,SAAW,mBAAqB,EAAW,mBACpC,MAEP,MAAM,IAAI,OAAM,kBAAkB,CAE1C,CArBS,0BA8BT,YAA6B,EAAwB,EAA8B,CAC/E,MAAO,UAAU,EAAsB,EAA8B,CAEjE,MAAO,IAAe,EAAW,EAAY,EAAc,GAAO,EADnC,EACwE,CAC3G,CACJ,CALS,4BAOT,YACI,EACA,EACA,EACA,EAA8B,CAE9B,GAAM,GAAoB,EAAa,KACnC,AAAC,GAAgB,EAAY,qBAAuB,EAAQ,YAAY,EAE5E,GAAI,EAAmB,CACnB,GAAM,GAAiB,EAAkB,eAAe,KAAK,AAAC,GAAQ,EAAI,OAAS,EAAQ,MAAM,EACjG,AAAI,GACA,GAAW,WAAa,EAAU,EAAe,MACjD,EAAW,aAAe,EAAe,eAAiB,KAGtE,CAhBS,oCAkBT,YACI,EACA,EACA,EAA8B,CAE9B,EAAW,WAAa,EAAU,EAAQ,gBAC1C,EAAW,QAAU,EAAQ,QAC7B,EAAW,aAAe,EAAQ,aAClC,EAAW,eAAiB,EAAQ,eACpC,EAAW,sBAAwB,EAAQ,qBAC/C,CAVS,oCAYT,YACI,EAA0D,CAE1D,MAAO,CAAC,CAAE,EAAmC,cACjD,CAJS,+BAMT,YACI,EACA,EACA,EAA8B,CAE9B,MAAO,GAAqB,IAAI,AAAC,GAAW,CACxC,GAAM,GAAiC,CACnC,MAAO,qBACP,KAAM,EAAQ,KACd,mBAAoB,EAAQ,mBAC5B,aAAc,GACd,eAAgB,GAChB,sBAAuB,CAAA,EACvB,YAAa,CAAA,EACb,QAAS,GACT,WAAY,OACZ,eAAgB,IAEpB,MAAI,IAAuB,CAAO,EAC9B,GAA4B,EAAS,EAAW,CAAU,EAE1D,GAA4B,EAAS,EAAc,EAAW,CAAU,EAExE,EAAW,YACX,GAAW,eAAiB,EAAW,WAAW,oBAEtD,EAAU,EAAW,oBAAsB,EACpC,CACX,CAAC,CACL,CA7BS,oCAmCT,YACI,EACA,EACA,EAA8B,CAE9B,EAAY,QAAQ,AAAC,GAAc,CAC/B,EAAW,qBAAuB,GAC9B,EAAW,qBACX,EACA,CAAS,EAEZ,EAA0B,YAAc,GAAoB,EAA0B,CAAS,CACpG,CAAC,CACL,CAbS,oCAoBT,YAAiC,EAAmB,EAAmB,EAA8B,CACjG,EAAQ,QAAQ,AAAC,GAAU,CAIvB,GAHK,EAAO,aACR,GAAO,YAAc,CAAA,GAErB,EAAO,QAAS,CAChB,GAAM,GAAmB,EAAU,EAAO,YAC1C,EAAO,iBAAmB,EACtB,GACK,GAAiB,SAClB,GAAiB,QAAU,CAAA,GAE/B,EAAiB,QAAQ,EAAO,MAAQ,EACxC,EAAiB,QAAQ,GAAG,KAAa,EAAO,QAAU,GAE9D,EAAO,iBAAmB,EAAU,EAAO,YAEnD,CAAC,CACL,CAlBS,gCAyBT,YACI,EACA,EACA,EAA6B,CAE7B,EAAW,QAAQ,AAAC,GAAa,CAC7B,EAAU,WAAa,EAAU,EAAU,gBACtC,EAAU,YACX,GAAU,WAAa,EAAU,GAAA,GAAA,SAAQ,EAAY,EAAU,cAAc,IAE5E,EAAU,aACX,GAAU,YAAc,CAAA,GAEvB,EAAU,WAAW,aACtB,GAAU,WAAW,YAAc,CAAA,GAEvC,EAAU,WAAW,KAAK,QAAQ,AAAC,GAAqB,CACpD,EAAQ,MAAQ,EACpB,CAAC,CACL,CAAC,CACL,CApBS,kCA2BT,YACI,EACA,EACA,EAA6B,CAE7B,EAAW,QAAQ,AAAC,GAAa,CAC7B,EAAU,WAAa,EAAU,EAAU,gBACtC,EAAU,YACX,GAAU,WAAa,EAAU,GAAA,GAAA,SAAQ,EAAY,EAAU,cAAc,IAE5E,EAAU,aACX,GAAU,YAAc,CAAA,GAEvB,EAAU,WAAW,aACtB,GAAU,WAAW,YAAc,CAAA,GAEvC,EAAU,WAAW,KAAK,QAAQ,AAAC,GAAqB,CACpD,EAAQ,MAAQ,EACpB,CAAC,CACL,CAAC,CACL,CApBS,kCA0BT,YAAsC,EAA2B,EAA8B,CAI3F,WAAc,EAAkB,CAC5B,AAAK,EAAS,aACV,GAAS,YAAc,CAAA,GAG3B,GAAI,CACA,GAAI,EAAS,KAAK,QAAQ,KAAK,IAAM,EAAG,CACpC,GAAI,GACJ,GAAI,EAAS,KAAK,WAAW,YAAY,EAAG,CACxC,GAAM,GAAkB,EAAS,KAAK,UAAU,GAAI,EAAS,KAAK,OAAS,CAAC,EAC5E,EAAc,EAAU,OAExB,GAAc,EAAU,EAAS,MAErC,AAAI,GACA,GAAS,WAAa,EAClB,EAAY,YACZ,EAAY,WAAW,QAAQ,CAAI,SAIjD,CACE,KAAM,IAAI,OAAM,8BAA8B,EAEtD,CAxBS,YA0BT,EAAY,QAAQ,AAAC,GAAc,CAC/B,EAAW,iBAAiB,QAAQ,CAAI,CAC5C,CAAC,CACL,CAjCS,qCAwCT,YACI,EACA,EACA,EAA8B,CAE9B,EAAa,QAAQ,AAAC,GAAe,CAChC,EAA4B,YAAc,CAAA,EAC3C,EAAY,WAAW,QAAQ,AAAC,GAAY,CACxC,AAAM,EAAsB,aACvB,GAAsB,YAAc,CAAA,EAE7C,CAAC,EAED,EAAY,qBAAuB,GAC/B,EAAY,qBACZ,EACA,CAAS,CAEjB,CAAC,CACL,CAnBS,4BA4BT,YAAmB,EAA+B,EAAiB,CAC/D,GAAM,GAAc,GAAA,GAAA,OAAM,EAAY,CAAS,EACzC,EAAU,EAAY,YAAY,GAAG,EACrC,EAAY,EAAY,UAAU,EAAG,CAAO,EAC5C,EAAO,EAAY,UAAU,EAAU,CAAC,EAC9C,MAAO,CAAC,EAAW,CAAI,CAC3B,CANS,kBAeT,YAA6B,EAAoC,EAA8B,CAC3F,MAAO,YAA2D,EAAa,CAC3E,GAAM,GAAa,EAAM,MAAM,GAAG,EAClC,GAAI,EAAW,MAAK,IAAO,GACvB,KAAM,IAAI,OAAM,gCAAgC,EAEpD,GAAM,GAAgB,EAAW,MAAK,EAChC,EAAY,EAAgB,WAAW,KAAK,AAAC,GAAkB,EAAG,OAAS,CAAa,EAC9F,GAAI,CAAC,EACD,MAAO,CACH,OAAQ,EAAgB,gBACxB,WAAY,CAAC,EAAgB,eAAe,GAGpD,GAAI,EAAW,SAAW,EACtB,MAAO,CACH,OAAQ,EACR,WAAY,CAAC,EAAgB,gBAAiB,CAAS,GAExD,CACH,GAAM,GAAwB,GAAe,EAAW,EAAW,IAAM,EAAW,KAAK,GAAG,EAAG,GAAO,EAAI,EAC1G,MAAI,GAAiB,QACjB,EAAiB,eAAe,KAAK,EAAiB,MAAM,EAEzD,CACH,OAAQ,EAAiB,OACzB,WAAY,EAAiB,gBAGzC,EA5BO,cA6BX,CA9BS,4BAyCT,YAA2B,EAAoB,EAAgB,CAC3D,AAAK,EAAc,aACf,GAAc,YAAc,CAAA,GAE3B,EAAc,YAAY,IAC3B,GAAc,YAAY,GAAY,CAAA,GAErC,EAAc,YAAY,cAC3B,GAAc,YAAY,aAAe,CAAA,EAEjD,CAVS,0BAWT,YACI,EACA,EACA,EACA,EAA0B,CAE1B,GAAM,GAAgB,EAAe,cAC/B,EAAoB,EAAc,mBACxC,EAAe,YAAY,QAAQ,AAAC,GAA6B,SAC7D,EAAe,cAAiB,EAAmB,UAAa,EAAuB,SACvF,GAAM,CAAC,EAAU,GAAW,GAAU,GAAA,kBAAmB,EAAW,IAAI,EACxE,GAAkB,EAAe,CAAQ,EAEzC,GAAM,GAAuB,GAAG,IAAU,EAAW,UAAY,IAAM,EAAW,UAAY,KAC9F,GAAI,CAAC,GAAqB,IAAA,GAAA,EAAc,eAAW,MAAA,IAAA,OAAA,OAAA,EAAG,MAAS,MAAA,IAAA,OAAA,OAAA,EAAG,MAA0B,OACxF,OAQJ,OANA,EAAe,YAAc,EAAW,KACxC,EAAc,YAAY,GAAU,GAAwB,GACxD,EACA,EACA,CAAc,EAEV,MAAO,GAAc,YAAY,GAAU,QAC1C,SAED,EAAc,YAAY,GAAU,GAAwB,GAAI,QAC5D,EAAc,YAAY,GAAU,EAAqB,EAE7D,UACC,UAED,EAAc,YAAY,GAAU,GAAwB,GAAI,SAC5D,EAAc,YAAY,GAAU,EAAqB,EAE7D,cAGA,MAER,AACI,EAAc,YAAY,GAAU,KAA0B,MAC9D,MAAO,GAAc,YAAY,GAAU,IAA0B,UAErE,GAAc,YAAY,GAAU,GAAsB,KAAO,GAAA,GAAA,SAC7D,GAAA,kBACA,GAAG,KAAY,GAAS,EAE5B,EAAc,YAAY,GAAU,GAAsB,UAAY,EAAW,UACjF,EAAc,YAAY,GAAU,GAAsB,SAAW,EAAe,eAExF,GAAM,GAAmB,GAAG,KAAqB,GAAA,GAAA,SAC7C,GAAA,kBACA,EAAW,IAAM,CAAoB,IAEzC,GAAI,MAAM,QAAQ,EAAW,WAAW,EAAG,CACvC,GAAM,GAAoB,CACtB,OAAQ,EACR,YAAa,EAAW,YACxB,SAAU,EAAe,eAE7B,EAAe,sBAAsB,KAAK,CAAiB,MACxD,AAAI,GAAW,aAAe,CAAC,EAAc,YAAY,GAAU,GAAsB,aAC5F,GAAc,YAAY,GAAU,GAAsB,YAAc,EAAW,aAEvF,EAAc,YAAY,aAAa,GAAG,KAAY,KAClD,EAAc,YAAY,GAAU,GACxC,EAAU,GAAoB,EAAc,YAAY,GAAU,EACtE,CAAC,CACL,CArES,2BA6ET,YAAkC,EAAkC,EAA8B,CAC9F,EAAkB,QAAQ,AAAC,GAAc,CACrC,GAAM,GAAkB,EAAW,UAC7B,EAAY,EAAgB,QAC5B,EAAiB,EAAU,GAC3B,CAAE,kBAAiB,kBAAmB,EAI5C,GAHA,MAAO,GAAgB,eACvB,MAAO,GAAgB,gBAEnB,EAAW,QAAU,CAAE,aAA0B,SAAS,CAE1D,GAAI,GACJ,IAAK,IAAQ,GACT,MAAO,GAAgB,GAG3B,OAAO,OAAO,EAAiB,CAAc,MAG7C,GAAgB,QAAU,EAG9B,GAAI,CAAC,EAED,GADA,EAAgB,aAAe,EAC3B,GAAmB,EAAgB,CACnC,GAAM,GAAY,CACd,QACI,0CACA,EACA;;;;qBAIA,EACA;iBAGA,EACA;oBAGA,EACA,KAER,GAA0B,EAAW,CAAS,MAC3C,CACH,GAAM,GAAW,EAAgB,KAC3B,EAAO,EAAgB,KACvB,EAAW,GAAY,EAAU,MAAM,GAAG,EAAE,GAC5C,EAAY,CACd,QACI,0CACA,EACA;;;;qBAIA,EACA;4BAGA,EACA,iBACA,EACA,KAER,GAA0B,EAAW,CAAS,EAG1D,CAAC,CACL,CAtES,iCA8ET,YAA0B,EAAwB,CAC9C,GAAM,GAA0D,CAAA,EAChE,cAAO,KAAK,EAAY,OAAO,WAAW,EAAE,QAAQ,AAAC,GAAoB,CACrE,EAAY,OAAO,YAAY,GAAkB,QAAQ,AAAC,GAAkC,CACxF,GAAM,GAAoB,GAAA,GAAA,SAAQ,EAAY,WAAY,EAAe,MAAM,EAC9E,EAAuB,SAAW,EACnC,AAAK,EAAwB,GAOzB,EAAe,YAAY,QAAQ,AAAC,GAAc,CAC9C,GAAM,GAAY,EAAwB,GAAmB,YAAY,UACrE,AAAC,GAEO,EAAoB,OAAS,EAAW,MACxC,EAAoB,YAAc,EAAW,SAEpD,EAEJ,EAAmB,SAAW,EAC/B,AAAI,IAAc,GACd,EAAwB,GAAmB,YAAY,OAAO,EAAW,EAAG,CAAU,EAEtF,EAAwB,GAAmB,YAAY,KAAK,CAAU,CAE9E,CAAC,EArBD,GAAwB,GAAqB,CACzC,YAAa,EAAe,YAAY,OAAM,EAC9C,OAAQ,GAEX,EAAwB,GAA2B,SAAW,EAmBvE,CAAC,CACL,CAAC,EACM,CACX,CAjCS,yBAwCT,YAAwB,EAAwB,CAC5C,GAAoB,CAAA,EACpB,GAAM,GAAY,GAAe,CAAW,EAC5C,GACI,EAAY,OAAO,YACnB,EAAY,OAAO,aACnB,CAAS,EAEZ,EAAY,OAAO,gBAAoC,YAAc,CAAA,EACtE,GAAwB,EAAY,OAAO,UAAW,EAAY,OAAO,QAAqB,CAAS,EACvG,GAA0B,EAAY,OAAO,WAA2B,EAAW,EAAY,UAAU,EACzG,GAA0B,EAAY,OAAO,WAA2B,EAAW,EAAY,UAAU,EACzG,GAA6B,EAAY,OAAO,YAA6B,CAAS,EACtF,GAAoB,EAAY,OAAO,aAA+B,EAAY,OAAO,aAAc,CAAS,EAChH,GAAM,GAAmC,CAAA,EACnC,EAA0C,CAAA,EAC1C,EAA0D,GAAiB,CAAW,EAC5F,OAAO,KAAK,CAAuB,EAAE,QAAQ,AAAC,GAAqB,CAC/D,GAAM,GAAiB,EAAwB,GACzC,EAAmB,EAAU,GACnC,GAAI,CAAC,GAAoB,IAAiB,KAAA,OAAjB,EAAmB,QAAQ,GAAG,GAAI,EACvD,EAAsB,KAAK,CAAc,UAClC,EAAkB,CACzB,GAAI,GAAa,CAAC,CAAgB,EAC9B,EAAoB,GACxB,AAAI,EAAiB,QAAU,wBAC3B,GAAa,EAAiB,QAC9B,EAAoB,IAExB,EAAW,QAAQ,AAAC,GAAiB,CACjC,GAAM,GAAoC,CACtC,sBAAuB,EACvB,cAAgB,EAAuB,SACvC,cAAe,EACf,YAAa,GACb,YAAa,EACb,sBAAuB,GAE3B,GAAmB,EAAgB,EAAgB,EAAW,CAAiB,CACnF,CAAC,EAET,CAAC,EAED,GAAM,GAA+C,CAAA,EACrD,EAAsB,QAAQ,AAAC,GAAkB,CAC7C,GAAM,GAAoB,GAAA,GAAA,SAAQ,EAAY,WAAY,EAAe,MAAM,EAC3E,CAAC,EAAS,GAAkB,EAAkB,MAAM,GAAG,EACrD,EAAc,EAAe,MAAM,GAAG,EAC5C,EAAU,EAAU,IAAM,EAAY,GACtC,GAAM,GAAgB,EAAY,MAAM,CAAC,EAAE,OAAO,CAAC,EAAY,IACpD,GAAU,KAAA,OAAV,EAAa,GACrB,EAAU,EAAQ,EACrB,GAAI,CAAC,GAAiB,MAAO,IAAkB,SAC3C,GAAkB,KAAK,CACnB,QAAS,gEAAkE,EAC9E,MACE,CACH,GAAM,GAAoC,CACtC,sBAAuB,EACvB,cAAgB,EAAuB,SACvC,cAAe,EACf,YAAa,GACb,YAAa,EACb,sBAAuB,GAE3B,GAAmB,EAAgB,EAAgB,EAAW,EAAK,EAE3E,CAAC,EACD,GAAyB,EAAmB,CAAS,EACrD,OAAW,KAAY,IACnB,GAAkB,KAAK,GAAsB,GAAU,EAAE,EAE5D,EAAoB,WAAa,EAAY,OAAO,WACrD,GAAM,GAAkB,EAAY,WAAW,OAAO,AAAC,GAC5C,GAAA,kBAAkB,KAAK,AAAC,GAAe,EAAW,YAAc,EAAU,SAAS,IAAM,MACnG,EACK,EAA8C,CAChD,QAAS,EAAY,QACrB,YAAa,EAAY,OAAO,YAChC,UAAW,EAAY,OAAO,UAC9B,gBAAiB,EAAY,OAAO,gBACpC,QAAS,EAAY,OAAO,QAC5B,WAAY,EAAY,OAAO,WAC/B,WAAY,EAAY,OAAO,WAC/B,YAAa,EAAY,OAAO,YAChC,aAAc,EAAY,OAAO,aACjC,gBAAiB,EAAY,OAAO,gBACpC,WAAY,GAAA,kBAAkB,OAAO,CAAe,EACpD,YAAa,GAAkB,OAAM,GAEzC,SAAgB,YAAc,GAAoB,EAAsC,CAAS,EAC1F,CACX,CA5FgB,gBAAhB,GAAA,QAAA,qHC/wCA,GAAA,IAAA,KASA,YAA+B,EAAyB,EAAU,SAC9D,GAAI,GACJ,GAAI,MAAM,QAAQ,CAAK,EACnB,EAAS,CACL,KAAM,aACN,WAAY,EAAM,IAAI,AAAC,GAAS,GAA8B,EAAY,CAAI,CAAC,WAE5E,KAAA,EAAM,aAAS,MAAA,IAAA,SAAA,EAAA,KAAA,CAAA,EACtB,EAAS,CACL,KAAM,UACN,QAAS,EAAM,QAAO,WAEnB,KAAA,EAAM,YAAQ,MAAA,IAAA,SAAA,EAAA,KAAA,CAAA,EAAM,CAC3B,GAAM,GAAe,EAAM,MAAM,GAAG,EACpC,AAAI,EAAa,OAAS,GAAK,EAAW,KAAK,AAAC,GAAQ,EAAI,QAAU,EAAa,EAAE,EACjF,EAAS,CACL,KAAM,aACN,WAAY,EAAM,QAAO,GAG7B,EAAS,CACL,KAAM,SACN,OAAQ,EAAM,QAAO,OAG1B,AAAI,GAAM,OAAS,OACtB,EAAS,CACL,KAAM,OACN,KAAM,EAAM,MAEb,AAAI,EAAM,OAAS,iBACtB,EAAS,CACL,KAAM,iBACN,eAAgB,EAAM,OAEvB,AAAI,EAAM,OAAS,QACtB,EAAS,CACL,KAAM,QACN,MAAO,EAAM,OAEd,AAAI,EAAM,OAAS,OACtB,EAAS,CACL,KAAM,QAEP,AAAI,EAAM,OAAS,eACtB,EAAS,CACL,KAAM,eACN,aAAc,EAAM,OAErB,AAAI,EAAM,OAAS,yBACtB,EAAS,CACL,KAAM,yBACN,uBAAwB,EAAM,OAE3B,OAAO,UAAU,eAAe,KAAK,EAAO,OAAO,GAC1D,GAAS,CACL,KAAM,SACN,OAAQ,GAA8B,EAAY,CAAK,IAG/D,MAAO,EACX,CA7DS,8BAsET,YAA8B,EAAyB,EAAU,CAC7D,GAAI,GAEJ,OADyB,GAAK,KAAA,OAAL,EAAO,YAAY,UAEnC,aACA,SACD,GAAM,GAAe,EAAM,SAAQ,EAAG,MAAM,GAAG,EAC/C,AAAI,EAAa,OAAS,GAAK,EAAW,KAAK,AAAC,GAAQ,EAAI,QAAU,EAAa,EAAE,EACjF,EAAS,CACL,KAAM,aACN,WAAY,EAAM,SAAQ,GAG9B,EAAS,CACL,KAAM,SACN,OAAQ,EAAM,SAAQ,GAG9B,UACC,cACA,UACD,EAAS,CACL,KAAM,OACN,KAAM,EAAM,QAAO,GAEvB,UAEC,aACA,SACD,AAAI,EAAM,SAAQ,IAAO,EAAM,QAAO,EAClC,EAAS,CACL,KAAM,MACN,IAAK,EAAM,QAAO,GAGtB,EAAS,CACL,KAAM,UACN,QAAS,EAAM,QAAO,GAG9B,UACC,iBAED,EAAS,GAAsB,EAAY,CAAK,EAChD,MAER,MAAO,EACX,CA/CS,6BAiDT,GAAM,IAAiB,CAAC,QAAS,OAAQ,WAAY,YAAa,eAAgB,qBAAsB,aAAa,EASrH,YACI,EACA,EACA,EAAkC,CAElC,OAAO,KAAK,CAAkB,EACzB,OAAO,AAAC,GAAQ,IAAQ,cAAc,EACtC,QAAQ,AAAC,GAAO,CACb,OAAO,KAAK,EAAmB,EAAI,EAAE,QAAQ,AAAC,GAAQ,CAClD,GAAM,GAAmB,GAAwB,EAAY,EAAmB,GAAK,EAAK,EAC1F,GAAI,CAAC,EAAiB,KAAM,CACxB,GAAM,GAAgB,GAAA,GAAA,SAAQ,EAAY,GAAG,KAAO,GAAM,EAC1D,GAAI,EAAe,CACf,GAAM,GAAiB,EAAc,MAAM,GAAG,EAC9C,EAAiB,KAAO,EAAe,GACnC,EAAe,OAAS,GAExB,GAAiB,UAAY,EAAe,KAIxD,EAAkB,KAAK,CAAgB,CAC3C,CAAC,CACL,CAAC,CACT,CAxBS,mCAiCT,YACI,EACA,EAAmB,CASnB,GAAI,MAAO,IAAmB,SAC1B,MAAO,GACJ,GAAI,MAAO,IAAmB,SACjC,GAAI,EAAe,eAAe,OAAO,EAAG,CAExC,GAAM,GAA4B,CAC9B,KAAM,EAAe,MACrB,eAAgB,CAAA,GAGpB,cAAO,KAAK,CAAc,EAAE,QAAQ,AAAC,GAAiB,CAClD,GAAI,GAAe,QAAQ,CAAa,IAAM,GAAI,CAC9C,GAAM,GAAQ,EAAe,GAC7B,EAAQ,eAAe,KAAK,CACxB,KAAM,EACN,MAAO,GAAqB,EAAY,CAAK,EAChD,MACE,AAAI,KAAkB,eACzB,GAAQ,YAAc,CAAA,EACtB,GAA2B,EAAY,EAAe,GAAgB,EAAQ,WAAW,EAEjG,CAAC,EACM,MACJ,IAAI,EAAe,OAAS,eAC/B,MAAO,CACH,KAAM,eACN,aAAc,EAAe,OAE9B,GAAI,EAAe,OAAS,iBAC/B,MAAO,CACH,KAAM,iBACN,eAAgB,EAAe,OAEhC,GAAI,EAAe,OAAS,yBAC/B,MAAO,CACH,KAAM,yBACN,uBAAwB,EAAe,OAIvD,CAnDS,sCA4DT,YAAwC,EAAyB,EAA+B,CAC5F,GAAM,GAAgC,CAClC,KAAM,EAAW,KACjB,UAAW,EAAW,WAE1B,MAAI,OAAM,QAAQ,CAAU,EAEpB,GAAW,eAAe,aAAa,GAEvC,GAAe,YAAc,CAAA,EAC7B,GAA2B,EAAa,EAAmB,YAAa,EAAe,WAAW,GAEtG,OAAA,OAAA,OAAA,OAAA,CAAA,EACO,CAAc,EAAA,CACjB,WAAY,EAAW,IAAI,AAAC,GAAS,GAA8B,EAAY,CAAI,CAAC,CAAU,CAAA,GAE3F,EAAW,eAAe,OAAO,EACxC,OAAA,OAAA,OAAA,OAAA,CAAA,EAAY,CAAc,EAAA,CAAE,OAAQ,GAA8B,EAAY,CAAU,CAAQ,CAAA,EAEhG,OAAA,OAAA,OAAA,OAAA,CAAA,EAAY,CAAc,EAAA,CAAE,MAAO,GAAqB,EAAY,CAAU,CAAC,CAAA,CAEvF,CArBgB,gCAAhB,GAAA,wBAAA,qgBCjPA,GAAA,KAAA,EAAA,EACA,GAAA,KAAA,EAAA,EACA,GAAA,KAAA,EAAA,ICFA,eAAC,AAAC,UAAU,EAAK,CACf,EAAI,OAAS,SAAU,EAAQ,EAAK,CAAE,MAAO,IAAI,GAAU,EAAQ,CAAG,CAAE,EACxE,EAAI,UAAY,EAChB,EAAI,UAAY,EAChB,EAAI,aAAe,EAWnB,EAAI,kBAAoB,GAAK,KAE7B,GAAI,GAAU,CACZ,UAAW,WAAY,WAAY,UAAW,UAC9C,eAAgB,eAAgB,SAAU,aAC1C,cAAe,QAAS,QAC1B,EAEA,EAAI,OAAS,CACX,OACA,wBACA,kBACA,UACA,UACA,eACA,YACA,UACA,WACA,YACA,QACA,aACA,QACA,MACA,QACA,SACA,gBACA,gBACF,EAEA,WAAoB,EAAQ,EAAK,CAC/B,GAAI,CAAE,gBAAgB,IACpB,MAAO,IAAI,GAAU,EAAQ,CAAG,EAGlC,GAAI,GAAS,KACb,EAAa,CAAM,EACnB,EAAO,EAAI,EAAO,EAAI,GACtB,EAAO,oBAAsB,EAAI,kBACjC,EAAO,IAAM,GAAO,CAAC,EACrB,EAAO,IAAI,UAAY,EAAO,IAAI,WAAa,EAAO,IAAI,cAC1D,EAAO,UAAY,EAAO,IAAI,UAAY,cAAgB,cAC1D,EAAO,KAAO,CAAC,EACf,EAAO,OAAS,EAAO,WAAa,EAAO,QAAU,GACrD,EAAO,IAAM,EAAO,MAAQ,KAC5B,EAAO,OAAS,CAAC,CAAC,EAClB,EAAO,SAAW,CAAC,CAAE,IAAU,EAAO,IAAI,UAC1C,EAAO,MAAQ,EAAE,MACjB,EAAO,eAAiB,EAAO,IAAI,eACnC,EAAO,SAAW,EAAO,eAAiB,OAAO,OAAO,EAAI,YAAY,EAAI,OAAO,OAAO,EAAI,QAAQ,EACtG,EAAO,WAAa,CAAC,EAKjB,EAAO,IAAI,OACb,GAAO,GAAK,OAAO,OAAO,CAAM,GAIlC,EAAO,cAAgB,EAAO,IAAI,WAAa,GAC3C,EAAO,eACT,GAAO,SAAW,EAAO,KAAO,EAAO,OAAS,GAElD,EAAK,EAAQ,SAAS,CACxB,CAnCS,iBAqCJ,OAAO,QACV,QAAO,OAAS,SAAU,EAAG,CAC3B,YAAc,CAAC,CAAN,SACT,EAAE,UAAY,EACd,GAAI,GAAO,GAAI,GACf,MAAO,EACT,GAGG,OAAO,MACV,QAAO,KAAO,SAAU,EAAG,CACzB,GAAI,GAAI,CAAC,EACT,OAAS,KAAK,GAAG,AAAI,EAAE,eAAe,CAAC,GAAG,EAAE,KAAK,CAAC,EAClD,MAAO,EACT,GAGF,WAA4B,EAAQ,CAGlC,OAFI,GAAa,KAAK,IAAI,EAAI,kBAAmB,EAAE,EAC/C,EAAY,EACP,EAAI,EAAG,EAAI,EAAQ,OAAQ,EAAI,EAAG,IAAK,CAC9C,GAAI,GAAM,EAAO,EAAQ,IAAI,OAC7B,GAAI,EAAM,EAKR,OAAQ,EAAQ,QACT,WACH,EAAU,CAAM,EAChB,UAEG,QACH,EAAS,EAAQ,UAAW,EAAO,KAAK,EACxC,EAAO,MAAQ,GACf,UAEG,SACH,EAAS,EAAQ,WAAY,EAAO,MAAM,EAC1C,EAAO,OAAS,GAChB,cAGA,EAAM,EAAQ,+BAAiC,EAAQ,EAAE,EAG/D,EAAY,KAAK,IAAI,EAAW,CAAG,CACrC,CAEA,GAAI,IAAI,EAAI,kBAAoB,EAChC,EAAO,oBAAsB,GAAI,EAAO,QAC1C,CAlCS,yBAoCT,WAAuB,EAAQ,CAC7B,OAAS,GAAI,EAAG,EAAI,EAAQ,OAAQ,EAAI,EAAG,IACzC,EAAO,EAAQ,IAAM,EAEzB,CAJS,oBAMT,WAAuB,EAAQ,CAC7B,EAAU,CAAM,EACZ,EAAO,QAAU,IACnB,GAAS,EAAQ,UAAW,EAAO,KAAK,EACxC,EAAO,MAAQ,IAEb,EAAO,SAAW,IACpB,GAAS,EAAQ,WAAY,EAAO,MAAM,EAC1C,EAAO,OAAS,GAEpB,CAVS,oBAYT,EAAU,UAAY,CACpB,IAAK,UAAY,CAAE,EAAI,IAAI,CAAE,EAC7B,MAAO,GACP,OAAQ,UAAY,CAAE,YAAK,MAAQ,KAAa,IAAK,EACrD,MAAO,UAAY,CAAE,MAAO,MAAK,MAAM,IAAI,CAAE,EAC7C,MAAO,UAAY,CAAE,EAAa,IAAI,CAAE,CAC1C,EAEA,GAAI,GACJ,GAAI,CACF,EAAS,QAAQ,UAAU,MAC7B,MAAE,CACA,EAAS,YAAY,CAAC,EAAb,SACX,CAEA,GAAI,GAAc,EAAI,OAAO,OAAO,SAAU,EAAI,CAChD,MAAO,KAAO,SAAW,IAAO,KAClC,CAAC,EAED,WAAuB,EAAQ,EAAK,CAClC,MAAO,IAAI,GAAU,EAAQ,CAAG,CAClC,CAFS,oBAIT,WAAoB,EAAQ,EAAK,CAC/B,GAAI,CAAE,gBAAgB,IACpB,MAAO,IAAI,GAAU,EAAQ,CAAG,EAGlC,EAAO,MAAM,IAAI,EAEjB,KAAK,QAAU,GAAI,GAAU,EAAQ,CAAG,EACxC,KAAK,SAAW,GAChB,KAAK,SAAW,GAEhB,GAAI,GAAK,KAET,KAAK,QAAQ,MAAQ,UAAY,CAC/B,EAAG,KAAK,KAAK,CACf,EAEA,KAAK,QAAQ,QAAU,SAAU,EAAI,CACnC,EAAG,KAAK,QAAS,CAAE,EAInB,EAAG,QAAQ,MAAQ,IACrB,EAEA,KAAK,SAAW,KAEhB,EAAY,QAAQ,SAAU,EAAI,CAChC,OAAO,eAAe,EAAI,KAAO,EAAI,CACnC,IAAK,UAAY,CACf,MAAO,GAAG,QAAQ,KAAO,EAC3B,EACA,IAAK,SAAU,EAAG,CAChB,GAAI,CAAC,EACH,SAAG,mBAAmB,CAAE,EACxB,EAAG,QAAQ,KAAO,GAAM,EACjB,EAET,EAAG,GAAG,EAAI,CAAC,CACb,EACA,WAAY,GACZ,aAAc,EAChB,CAAC,CACH,CAAC,CACH,CA5CS,iBA8CT,EAAU,UAAY,OAAO,OAAO,EAAO,UAAW,CACpD,YAAa,CACX,MAAO,CACT,CACF,CAAC,EAED,EAAU,UAAU,MAAQ,SAAU,EAAM,CAC1C,GAAI,MAAO,SAAW,YACpB,MAAO,QAAO,UAAa,YAC3B,OAAO,SAAS,CAAI,EAAG,CACvB,GAAI,CAAC,KAAK,SAAU,CAClB,GAAI,GAAK,QAAQ,kBAAkB,cACnC,KAAK,SAAW,GAAI,GAAG,MAAM,CAC/B,CACA,EAAO,KAAK,SAAS,MAAM,CAAI,CACjC,CAEA,YAAK,QAAQ,MAAM,EAAK,SAAS,CAAC,EAClC,KAAK,KAAK,OAAQ,CAAI,EACf,EACT,EAEA,EAAU,UAAU,IAAM,SAAU,EAAO,CACzC,MAAI,IAAS,EAAM,QACjB,KAAK,MAAM,CAAK,EAElB,KAAK,QAAQ,IAAI,EACV,EACT,EAEA,EAAU,UAAU,GAAK,SAAU,EAAI,EAAS,CAC9C,GAAI,GAAK,KACT,MAAI,CAAC,EAAG,QAAQ,KAAO,IAAO,EAAY,QAAQ,CAAE,IAAM,IACxD,GAAG,QAAQ,KAAO,GAAM,UAAY,CAClC,GAAI,GAAO,UAAU,SAAW,EAAI,CAAC,UAAU,EAAE,EAAI,MAAM,MAAM,KAAM,SAAS,EAChF,EAAK,OAAO,EAAG,EAAG,CAAE,EACpB,EAAG,KAAK,MAAM,EAAI,CAAI,CACxB,GAGK,EAAO,UAAU,GAAG,KAAK,EAAI,EAAI,CAAO,CACjD,EAIA,GAAI,GAAQ,UACR,EAAU,UACV,EAAgB,uCAChB,EAAkB,gCAClB,EAAS,CAAE,IAAK,EAAe,MAAO,CAAgB,EAQtD,EAAY,4JAEZ,EAAW,gMAEX,EAAc,6JACd,EAAa,iMAEjB,WAAuB,EAAG,CACxB,MAAO,KAAM,KAAO,IAAM;AAAA,GAAQ,IAAM,MAAQ,IAAM,GACxD,CAFS,oBAIT,WAAkB,EAAG,CACnB,MAAO,KAAM,KAAO,IAAM,GAC5B,CAFS,eAIT,WAAsB,EAAG,CACvB,MAAO,KAAM,KAAO,EAAa,CAAC,CACpC,CAFS,mBAIT,WAAkB,EAAO,EAAG,CAC1B,MAAO,GAAM,KAAK,CAAC,CACrB,CAFS,eAIT,WAAmB,EAAO,EAAG,CAC3B,MAAO,CAAC,EAAQ,EAAO,CAAC,CAC1B,CAFS,gBAIT,GAAI,GAAI,EACR,EAAI,MAAQ,CACV,MAAO,IACP,iBAAkB,IAClB,KAAM,IACN,YAAa,IACb,UAAW,IACX,UAAW,IACX,iBAAkB,IAClB,QAAS,IACT,eAAgB,IAChB,YAAa,IACb,mBAAoB,IACpB,iBAAkB,IAClB,QAAS,IACT,eAAgB,IAChB,cAAe,IACf,MAAO,IACP,aAAc,IACd,eAAgB,IAChB,UAAW,IACX,eAAgB,IAChB,iBAAkB,IAClB,SAAU,IACV,eAAgB,IAChB,OAAQ,IACR,YAAa,IACb,sBAAuB,IACvB,aAAc,IACd,oBAAqB,IACrB,oBAAqB,IACrB,sBAAuB,IACvB,sBAAuB,IACvB,sBAAuB,IACvB,UAAW,IACX,oBAAqB,IACrB,OAAQ,IACR,cAAe,GACjB,EAEA,EAAI,aAAe,CACjB,IAAO,IACP,GAAM,IACN,GAAM,IACN,KAAQ,IACR,KAAQ,GACV,EAEA,EAAI,SAAW,CACb,IAAO,IACP,GAAM,IACN,GAAM,IACN,KAAQ,IACR,KAAQ,IACR,MAAS,IACT,OAAU,IACV,MAAS,IACT,OAAU,IACV,MAAS,IACT,OAAU,IACV,KAAQ,IACR,OAAU,IACV,IAAO,IACP,OAAU,IACV,MAAS,IACT,OAAU,IACV,KAAQ,IACR,OAAU,IACV,MAAS,IACT,OAAU,IACV,KAAQ,IACR,OAAU,IACV,OAAU,IACV,MAAS,IACT,OAAU,IACV,OAAU,IACV,OAAU,IACV,KAAQ,IACR,MAAS,IACT,OAAU,IACV,MAAS,IACT,OAAU,IACV,KAAQ,IACR,OAAU,IACV,OAAU,IACV,MAAS,IACT,MAAS,IACT,OAAU,IACV,MAAS,IACT,OAAU,IACV,KAAQ,IACR,OAAU,IACV,OAAU,IACV,MAAS,IACT,OAAU,IACV,IAAO,IACP,KAAQ,IACR,OAAU,IACV,MAAS,IACT,OAAU,IACV,KAAQ,IACR,OAAU,IACV,OAAU,IACV,MAAS,IACT,OAAU,IACV,OAAU,IACV,OAAU,IACV,KAAQ,IACR,MAAS,IACT,MAAS,IACT,OAAU,IACV,MAAS,IACT,OAAU,IACV,KAAQ,IACR,OAAU,IACV,KAAQ,IACR,KAAQ,IACR,IAAO,IACP,KAAQ,IACR,MAAS,IACT,KAAQ,IACR,MAAS,IACT,OAAU,IACV,IAAO,IACP,OAAU,IACV,KAAQ,IACR,IAAO,IACP,KAAQ,IACR,MAAS,IACT,IAAO,IACP,IAAO,IACP,KAAQ,IACR,IAAO,IACP,OAAU,IACV,KAAQ,IACR,KAAQ,IACR,KAAQ,IACR,MAAS,IACT,MAAS,IACT,KAAQ,IACR,OAAU,IACV,MAAS,IACT,KAAQ,IACR,MAAS,IACT,OAAU,IACV,OAAU,IACV,OAAU,IACV,OAAU,IACV,MAAS,IACT,OAAU,IACV,MAAS,IACT,MAAS,IACT,OAAU,IACV,OAAU,IACV,KAAQ,IACR,KAAQ,IACR,KAAQ,IACR,MAAS,IACT,MAAS,IACT,KAAQ,IACR,MAAS,IACT,MAAS,IACT,QAAW,IACX,KAAQ,IACR,IAAO,IACP,MAAS,IACT,KAAQ,IACR,MAAS,IACT,OAAU,IACV,GAAM,IACN,GAAM,IACN,GAAM,IACN,QAAW,IACX,GAAM,IACN,IAAO,IACP,MAAS,IACT,IAAO,IACP,QAAW,IACX,IAAO,IACP,IAAO,IACP,IAAO,IACP,MAAS,IACT,MAAS,IACT,KAAQ,IACR,MAAS,IACT,MAAS,IACT,QAAW,IACX,KAAQ,IACR,IAAO,IACP,MAAS,IACT,KAAQ,IACR,MAAS,IACT,OAAU,IACV,GAAM,IACN,GAAM,IACN,GAAM,IACN,QAAW,IACX,GAAM,IACN,IAAO,IACP,OAAU,IACV,MAAS,IACT,IAAO,IACP,QAAW,IACX,IAAO,IACP,IAAO,IACP,IAAO,IACP,MAAS,IACT,SAAY,IACZ,MAAS,IACT,IAAO,IACP,KAAQ,KACR,KAAQ,KACR,OAAU,KACV,KAAQ,KACR,IAAO,KACP,IAAO,KACP,IAAO,KACP,MAAS,KACT,MAAS,KACT,MAAS,KACT,MAAS,KACT,MAAS,KACT,MAAS,KACT,MAAS,KACT,MAAS,KACT,OAAU,KACV,OAAU,KACV,KAAQ,KACR,OAAU,KACV,OAAU,KACV,MAAS,KACT,MAAS,KACT,OAAU,KACV,OAAU,KACV,MAAS,KACT,MAAS,KACT,KAAQ,KACR,MAAS,KACT,OAAU,KACV,KAAQ,KACR,MAAS,KACT,QAAW,KACX,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,MAAS,KACT,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,OAAU,KACV,KAAQ,KACR,MAAS,KACT,MAAS,KACT,MAAS,KACT,KAAQ,KACR,MAAS,KACT,GAAM,KACN,KAAQ,KACR,IAAO,KACP,MAAS,KACT,OAAU,KACV,MAAS,KACT,KAAQ,KACR,MAAS,KACT,IAAO,KACP,IAAO,KACP,GAAM,KACN,IAAO,KACP,IAAO,KACP,IAAO,KACP,OAAU,KACV,IAAO,KACP,KAAQ,KACR,MAAS,KACT,GAAM,KACN,MAAS,KACT,GAAM,KACN,GAAM,KACN,IAAO,KACP,IAAO,KACP,KAAQ,KACR,KAAQ,KACR,KAAQ,KACR,MAAS,KACT,OAAU,KACV,KAAQ,KACR,KAAQ,KACR,MAAS,KACT,MAAS,KACT,OAAU,KACV,OAAU,KACV,KAAQ,KACR,KAAQ,KACR,IAAO,KACP,OAAU,KACV,MAAS,KACT,OAAU,KACV,MAAS,IACX,EAEA,OAAO,KAAK,EAAI,QAAQ,EAAE,QAAQ,SAAU,EAAK,CAC/C,GAAI,GAAI,EAAI,SAAS,GACjB,EAAI,MAAO,IAAM,SAAW,OAAO,aAAa,CAAC,EAAI,EACzD,EAAI,SAAS,GAAO,CACtB,CAAC,EAED,OAAS,KAAK,GAAI,MAChB,EAAI,MAAM,EAAI,MAAM,IAAM,EAI5B,EAAI,EAAI,MAER,WAAe,EAAQ,EAAO,EAAM,CAClC,EAAO,IAAU,EAAO,GAAO,CAAI,CACrC,CAFS,YAIT,WAAmB,EAAQ,EAAU,EAAM,CACzC,AAAI,EAAO,UAAU,EAAU,CAAM,EACrC,EAAK,EAAQ,EAAU,CAAI,CAC7B,CAHS,gBAKT,WAAoB,EAAQ,CAC1B,EAAO,SAAW,EAAS,EAAO,IAAK,EAAO,QAAQ,EAClD,EAAO,UAAU,EAAK,EAAQ,SAAU,EAAO,QAAQ,EAC3D,EAAO,SAAW,EACpB,CAJS,iBAMT,WAAmB,EAAK,EAAM,CAC5B,MAAI,GAAI,MAAM,GAAO,EAAK,KAAK,GAC3B,EAAI,WAAW,GAAO,EAAK,QAAQ,OAAQ,GAAG,GAC3C,CACT,CAJS,gBAMT,WAAgB,EAAQ,EAAI,CAC1B,SAAU,CAAM,EACZ,EAAO,eACT,IAAM;AAAA,QAAa,EAAO,KACxB;AAAA,UAAe,EAAO,OACtB;AAAA,QAAa,EAAO,GAExB,EAAK,GAAI,OAAM,CAAE,EACjB,EAAO,MAAQ,EACf,EAAK,EAAQ,UAAW,CAAE,EACnB,CACT,CAXS,aAaT,WAAc,EAAQ,CACpB,MAAI,GAAO,SAAW,CAAC,EAAO,YAAY,EAAW,EAAQ,mBAAmB,EAC3E,EAAO,QAAU,EAAE,OACrB,EAAO,QAAU,EAAE,kBACnB,EAAO,QAAU,EAAE,MACpB,EAAM,EAAQ,gBAAgB,EAEhC,EAAU,CAAM,EAChB,EAAO,EAAI,GACX,EAAO,OAAS,GAChB,EAAK,EAAQ,OAAO,EACpB,EAAU,KAAK,EAAQ,EAAO,OAAQ,EAAO,GAAG,EACzC,CACT,CAbS,WAeT,WAAqB,EAAQ,EAAS,CACpC,GAAI,MAAO,IAAW,UAAY,CAAE,aAAkB,IACpD,KAAM,IAAI,OAAM,wBAAwB,EAE1C,AAAI,EAAO,QACT,EAAM,EAAQ,CAAO,CAEzB,CAPS,kBAST,WAAiB,EAAQ,CACvB,AAAK,EAAO,QAAQ,GAAO,QAAU,EAAO,QAAQ,EAAO,WAAW,GACtE,GAAI,GAAS,EAAO,KAAK,EAAO,KAAK,OAAS,IAAM,EAChD,EAAM,EAAO,IAAM,CAAE,KAAM,EAAO,QAAS,WAAY,CAAC,CAAE,EAG9D,AAAI,EAAO,IAAI,OACb,GAAI,GAAK,EAAO,IAElB,EAAO,WAAW,OAAS,EAC3B,EAAS,EAAQ,iBAAkB,CAAG,CACxC,CAXS,cAaT,YAAgB,EAAM,EAAW,CAC/B,GAAI,GAAI,EAAK,QAAQ,GAAG,EACpB,EAAW,EAAI,EAAI,CAAE,GAAI,CAAK,EAAI,EAAK,MAAM,GAAG,EAChD,EAAS,EAAS,GAClB,EAAQ,EAAS,GAGrB,MAAI,IAAa,IAAS,SACxB,GAAS,QACT,EAAQ,IAGH,CAAE,OAAQ,EAAQ,MAAO,CAAM,CACxC,CAbS,cAeT,WAAiB,EAAQ,CAKvB,GAJK,EAAO,QACV,GAAO,WAAa,EAAO,WAAW,EAAO,WAAW,GAGtD,EAAO,WAAW,QAAQ,EAAO,UAAU,IAAM,IACnD,EAAO,IAAI,WAAW,eAAe,EAAO,UAAU,EAAG,CACzD,EAAO,WAAa,EAAO,YAAc,GACzC,MACF,CAEA,GAAI,EAAO,IAAI,MAAO,CACpB,GAAI,GAAK,GAAM,EAAO,WAAY,EAAI,EAClC,EAAS,EAAG,OACZ,EAAQ,EAAG,MAEf,GAAI,IAAW,QAEb,GAAI,IAAU,OAAS,EAAO,cAAgB,EAC5C,EAAW,EACT,gCAAkC,EAAgB;AAAA,UACrC,EAAO,WAAW,UACxB,IAAU,SAAW,EAAO,cAAgB,EACrD,EAAW,EACT,kCAAoC,EAAkB;AAAA,UACzC,EAAO,WAAW,MAC5B,CACL,GAAI,GAAM,EAAO,IACb,EAAS,EAAO,KAAK,EAAO,KAAK,OAAS,IAAM,EACpD,AAAI,EAAI,KAAO,EAAO,IACpB,GAAI,GAAK,OAAO,OAAO,EAAO,EAAE,GAElC,EAAI,GAAG,GAAS,EAAO,WACzB,CAMF,EAAO,WAAW,KAAK,CAAC,EAAO,WAAY,EAAO,WAAW,CAAC,CAChE,KAEE,GAAO,IAAI,WAAW,EAAO,YAAc,EAAO,YAClD,EAAS,EAAQ,cAAe,CAC9B,KAAM,EAAO,WACb,MAAO,EAAO,WAChB,CAAC,EAGH,EAAO,WAAa,EAAO,YAAc,EAC3C,CAlDS,cAoDT,WAAkB,EAAQ,EAAa,CACrC,GAAI,EAAO,IAAI,MAAO,CAEpB,GAAI,GAAM,EAAO,IAGb,EAAK,GAAM,EAAO,OAAO,EAC7B,EAAI,OAAS,EAAG,OAChB,EAAI,MAAQ,EAAG,MACf,EAAI,IAAM,EAAI,GAAG,EAAG,SAAW,GAE3B,EAAI,QAAU,CAAC,EAAI,KACrB,GAAW,EAAQ,6BACjB,KAAK,UAAU,EAAO,OAAO,CAAC,EAChC,EAAI,IAAM,EAAG,QAGf,GAAI,GAAS,EAAO,KAAK,EAAO,KAAK,OAAS,IAAM,EACpD,AAAI,EAAI,IAAM,EAAO,KAAO,EAAI,IAC9B,OAAO,KAAK,EAAI,EAAE,EAAE,QAAQ,SAAU,GAAG,CACvC,EAAS,EAAQ,kBAAmB,CAClC,OAAQ,GACR,IAAK,EAAI,GAAG,GACd,CAAC,CACH,CAAC,EAMH,OAAS,GAAI,EAAG,GAAI,EAAO,WAAW,OAAQ,EAAI,GAAG,IAAK,CACxD,GAAI,IAAK,EAAO,WAAW,GACvB,GAAO,GAAG,GACV,GAAQ,GAAG,GACX,GAAW,GAAM,GAAM,EAAI,EAC3B,GAAS,GAAS,OAClB,GAAQ,GAAS,MACjB,GAAM,KAAW,GAAK,GAAM,EAAI,GAAG,KAAW,GAC9C,GAAI,CACN,KAAM,GACN,MAAO,GACP,OAAQ,GACR,MAAO,GACP,IAAK,EACP,EAIA,AAAI,IAAU,KAAW,SAAW,CAAC,IACnC,GAAW,EAAQ,6BACjB,KAAK,UAAU,EAAM,CAAC,EACxB,GAAE,IAAM,IAEV,EAAO,IAAI,WAAW,IAAQ,GAC9B,EAAS,EAAQ,cAAe,EAAC,CACnC,CACA,EAAO,WAAW,OAAS,CAC7B,CAEA,EAAO,IAAI,cAAgB,CAAC,CAAC,EAG7B,EAAO,QAAU,GACjB,EAAO,KAAK,KAAK,EAAO,GAAG,EAC3B,EAAS,EAAQ,YAAa,EAAO,GAAG,EACnC,GAEH,CAAI,CAAC,EAAO,UAAY,EAAO,QAAQ,YAAY,IAAM,SACvD,EAAO,MAAQ,EAAE,OAEjB,EAAO,MAAQ,EAAE,KAEnB,EAAO,IAAM,KACb,EAAO,QAAU,IAEnB,EAAO,WAAa,EAAO,YAAc,GACzC,EAAO,WAAW,OAAS,CAC7B,CA7ES,eA+ET,YAAmB,EAAQ,CACzB,GAAI,CAAC,EAAO,QAAS,CACnB,EAAW,EAAQ,wBAAwB,EAC3C,EAAO,UAAY,MACnB,EAAO,MAAQ,EAAE,KACjB,MACF,CAEA,GAAI,EAAO,OAAQ,CACjB,GAAI,EAAO,UAAY,SAAU,CAC/B,EAAO,QAAU,KAAO,EAAO,QAAU,IACzC,EAAO,QAAU,GACjB,EAAO,MAAQ,EAAE,OACjB,MACF,CACA,EAAS,EAAQ,WAAY,EAAO,MAAM,EAC1C,EAAO,OAAS,EAClB,CAIA,GAAI,GAAI,EAAO,KAAK,OAChB,EAAU,EAAO,QACrB,AAAK,EAAO,QACV,GAAU,EAAQ,EAAO,WAAW,GAGtC,OADI,GAAU,EACP,KAAK,CACV,GAAI,GAAQ,EAAO,KAAK,GACxB,GAAI,EAAM,OAAS,EAEjB,EAAW,EAAQ,sBAAsB,MAEzC,MAEJ,CAGA,GAAI,EAAI,EAAG,CACT,EAAW,EAAQ,0BAA4B,EAAO,OAAO,EAC7D,EAAO,UAAY,KAAO,EAAO,QAAU,IAC3C,EAAO,MAAQ,EAAE,KACjB,MACF,CACA,EAAO,QAAU,EAEjB,OADI,GAAI,EAAO,KAAK,OACb,KAAM,GAAG,CACd,GAAI,IAAM,EAAO,IAAM,EAAO,KAAK,IAAI,EACvC,EAAO,QAAU,EAAO,IAAI,KAC5B,EAAS,EAAQ,aAAc,EAAO,OAAO,EAE7C,GAAI,IAAI,CAAC,EACT,OAAS,MAAK,IAAI,GAChB,GAAE,IAAK,GAAI,GAAG,IAGhB,GAAI,IAAS,EAAO,KAAK,EAAO,KAAK,OAAS,IAAM,EACpD,AAAI,EAAO,IAAI,OAAS,GAAI,KAAO,GAAO,IAExC,OAAO,KAAK,GAAI,EAAE,EAAE,QAAQ,SAAU,GAAG,CACvC,GAAI,IAAI,GAAI,GAAG,IACf,EAAS,EAAQ,mBAAoB,CAAE,OAAQ,GAAG,IAAK,EAAE,CAAC,CAC5D,CAAC,CAEL,CACA,AAAI,IAAM,GAAG,GAAO,WAAa,IACjC,EAAO,QAAU,EAAO,YAAc,EAAO,WAAa,GAC1D,EAAO,WAAW,OAAS,EAC3B,EAAO,MAAQ,EAAE,IACnB,CArES,iBAuET,YAAsB,EAAQ,CAC5B,GAAI,GAAS,EAAO,OAChB,EAAW,EAAO,YAAY,EAC9B,EACA,EAAS,GAEb,MAAI,GAAO,SAAS,GACX,EAAO,SAAS,GAErB,EAAO,SAAS,GACX,EAAO,SAAS,GAEzB,GAAS,EACL,EAAO,OAAO,CAAC,IAAM,KACvB,CAAI,EAAO,OAAO,CAAC,IAAM,IACvB,GAAS,EAAO,MAAM,CAAC,EACvB,EAAM,SAAS,EAAQ,EAAE,EACzB,EAAS,EAAI,SAAS,EAAE,GAExB,GAAS,EAAO,MAAM,CAAC,EACvB,EAAM,SAAS,EAAQ,EAAE,EACzB,EAAS,EAAI,SAAS,EAAE,IAG5B,EAAS,EAAO,QAAQ,MAAO,EAAE,EAC7B,MAAM,CAAG,GAAK,EAAO,YAAY,IAAM,EACzC,GAAW,EAAQ,0BAA0B,EACtC,IAAM,EAAO,OAAS,KAGxB,OAAO,cAAc,CAAG,EACjC,CA/BS,oBAiCT,YAA0B,EAAQ,EAAG,CACnC,AAAI,IAAM,IACR,GAAO,MAAQ,EAAE,UACjB,EAAO,iBAAmB,EAAO,UACvB,EAAa,CAAC,GAGxB,GAAW,EAAQ,kCAAkC,EACrD,EAAO,SAAW,EAClB,EAAO,MAAQ,EAAE,KAErB,CAXS,wBAaT,YAAiB,EAAO,EAAG,CACzB,GAAI,GAAS,GACb,MAAI,GAAI,EAAM,QACZ,GAAS,EAAM,OAAO,CAAC,GAElB,CACT,CANS,eAQT,YAAgB,EAAO,CACrB,GAAI,GAAS,KACb,GAAI,KAAK,MACP,KAAM,MAAK,MAEb,GAAI,EAAO,OACT,MAAO,GAAM,EACX,sDAAsD,EAE1D,GAAI,IAAU,KACZ,MAAO,GAAI,CAAM,EAEnB,AAAI,MAAO,IAAU,UACnB,GAAQ,EAAM,SAAS,GAIzB,OAFI,GAAI,EACJ,EAAI,GAEN,EAAI,GAAO,EAAO,GAAG,EACrB,EAAO,EAAI,EAEP,EAAC,GAcL,OAVI,EAAO,eACT,GAAO,WACP,AAAI,IAAM;AAAA,EACR,GAAO,OACP,EAAO,OAAS,GAEhB,EAAO,UAIH,EAAO,WACR,GAAE,MAEL,GADA,EAAO,MAAQ,EAAE,iBACb,IAAM,SACR,SAEF,GAAgB,EAAQ,CAAC,EACzB,aAEG,GAAE,iBACL,GAAgB,EAAQ,CAAC,EACzB,aAEG,GAAE,KACL,GAAI,EAAO,SAAW,CAAC,EAAO,WAAY,CAExC,OADI,GAAS,EAAI,EACV,GAAK,IAAM,KAAO,IAAM,KAC7B,EAAI,GAAO,EAAO,GAAG,EACjB,GAAK,EAAO,eACd,GAAO,WACP,AAAI,IAAM;AAAA,EACR,GAAO,OACP,EAAO,OAAS,GAEhB,EAAO,UAIb,EAAO,UAAY,EAAM,UAAU,EAAQ,EAAI,CAAC,CAClD,CACA,AAAI,IAAM,KAAO,CAAE,GAAO,SAAW,EAAO,YAAc,CAAC,EAAO,QAChE,GAAO,MAAQ,EAAE,UACjB,EAAO,iBAAmB,EAAO,UAE7B,EAAC,EAAa,CAAC,GAAM,EAAC,EAAO,SAAW,EAAO,aACjD,EAAW,EAAQ,iCAAiC,EAEtD,AAAI,IAAM,IACR,EAAO,MAAQ,EAAE,YAEjB,EAAO,UAAY,GAGvB,aAEG,GAAE,OAEL,AAAI,IAAM,IACR,EAAO,MAAQ,EAAE,cAEjB,EAAO,QAAU,EAEnB,aAEG,GAAE,cACL,AAAI,IAAM,IACR,EAAO,MAAQ,EAAE,UAEjB,GAAO,QAAU,IAAM,EACvB,EAAO,MAAQ,EAAE,QAEnB,aAEG,GAAE,UAEL,GAAI,IAAM,IACR,EAAO,MAAQ,EAAE,UACjB,EAAO,SAAW,WACT,GAAa,CAAC,EAElB,GAAI,EAAQ,EAAW,CAAC,EAC7B,EAAO,MAAQ,EAAE,SACjB,EAAO,QAAU,UACR,IAAM,IACf,EAAO,MAAQ,EAAE,UACjB,EAAO,QAAU,WACR,IAAM,IACf,EAAO,MAAQ,EAAE,UACjB,EAAO,aAAe,EAAO,aAAe,OACvC,CAGL,GAFA,EAAW,EAAQ,aAAa,EAE5B,EAAO,iBAAmB,EAAI,EAAO,SAAU,CACjD,GAAI,GAAM,EAAO,SAAW,EAAO,iBACnC,EAAI,GAAI,OAAM,CAAG,EAAE,KAAK,GAAG,EAAI,CACjC,CACA,EAAO,UAAY,IAAM,EACzB,EAAO,MAAQ,EAAE,IACnB,CACA,aAEG,GAAE,UACL,AAAK,GAAO,SAAW,GAAG,YAAY,IAAM,EAC1C,GAAS,EAAQ,aAAa,EAC9B,EAAO,MAAQ,EAAE,MACjB,EAAO,SAAW,GAClB,EAAO,MAAQ,IACV,AAAI,EAAO,SAAW,IAAM,KACjC,GAAO,MAAQ,EAAE,QACjB,EAAO,QAAU,GACjB,EAAO,SAAW,IACb,AAAK,GAAO,SAAW,GAAG,YAAY,IAAM,EACjD,GAAO,MAAQ,EAAE,QACb,GAAO,SAAW,EAAO,UAC3B,EAAW,EACT,6CAA6C,EAEjD,EAAO,QAAU,GACjB,EAAO,SAAW,IACb,AAAI,IAAM,IACf,GAAS,EAAQ,oBAAqB,EAAO,QAAQ,EACrD,EAAO,SAAW,GAClB,EAAO,MAAQ,EAAE,MACR,GAAQ,CAAC,GAClB,GAAO,MAAQ,EAAE,kBACjB,EAAO,UAAY,GAIrB,aAEG,GAAE,iBACL,AAAI,IAAM,EAAO,GACf,GAAO,MAAQ,EAAE,UACjB,EAAO,EAAI,IAEb,EAAO,UAAY,EACnB,aAEG,GAAE,QACL,AAAI,IAAM,IACR,GAAO,MAAQ,EAAE,KACjB,EAAS,EAAQ,YAAa,EAAO,OAAO,EAC5C,EAAO,QAAU,IAEjB,GAAO,SAAW,EAClB,AAAI,IAAM,IACR,EAAO,MAAQ,EAAE,YACR,EAAQ,CAAC,GAClB,GAAO,MAAQ,EAAE,eACjB,EAAO,EAAI,IAGf,aAEG,GAAE,eACL,EAAO,SAAW,EACd,IAAM,EAAO,GACf,GAAO,EAAI,GACX,EAAO,MAAQ,EAAE,SAEnB,aAEG,GAAE,YACL,EAAO,SAAW,EAClB,AAAI,IAAM,IACR,EAAO,MAAQ,EAAE,QACR,EAAQ,CAAC,GAClB,GAAO,MAAQ,EAAE,mBACjB,EAAO,EAAI,GAEb,aAEG,GAAE,mBACL,EAAO,SAAW,EACd,IAAM,EAAO,GACf,GAAO,MAAQ,EAAE,YACjB,EAAO,EAAI,IAEb,aAEG,GAAE,QACL,AAAI,IAAM,IACR,EAAO,MAAQ,EAAE,eAEjB,EAAO,SAAW,EAEpB,aAEG,GAAE,eACL,AAAI,IAAM,IACR,GAAO,MAAQ,EAAE,cACjB,EAAO,QAAU,EAAS,EAAO,IAAK,EAAO,OAAO,EAChD,EAAO,SACT,EAAS,EAAQ,YAAa,EAAO,OAAO,EAE9C,EAAO,QAAU,IAEjB,GAAO,SAAW,IAAM,EACxB,EAAO,MAAQ,EAAE,SAEnB,aAEG,GAAE,cACL,AAAI,IAAM,IACR,GAAW,EAAQ,mBAAmB,EAGtC,EAAO,SAAW,KAAO,EACzB,EAAO,MAAQ,EAAE,SAEjB,EAAO,MAAQ,EAAE,KAEnB,aAEG,GAAE,MACL,AAAI,IAAM,IACR,EAAO,MAAQ,EAAE,aAEjB,EAAO,OAAS,EAElB,aAEG,GAAE,aACL,AAAI,IAAM,IACR,EAAO,MAAQ,EAAE,eAEjB,GAAO,OAAS,IAAM,EACtB,EAAO,MAAQ,EAAE,OAEnB,aAEG,GAAE,eACL,AAAI,IAAM,IACJ,GAAO,OACT,EAAS,EAAQ,UAAW,EAAO,KAAK,EAE1C,EAAS,EAAQ,cAAc,EAC/B,EAAO,MAAQ,GACf,EAAO,MAAQ,EAAE,MACZ,AAAI,IAAM,IACf,EAAO,OAAS,IAEhB,GAAO,OAAS,KAAO,EACvB,EAAO,MAAQ,EAAE,OAEnB,aAEG,GAAE,UACL,AAAI,IAAM,IACR,EAAO,MAAQ,EAAE,iBACZ,AAAI,EAAa,CAAC,EACvB,EAAO,MAAQ,EAAE,eAEjB,EAAO,cAAgB,EAEzB,aAEG,GAAE,eACL,GAAI,CAAC,EAAO,cAAgB,EAAa,CAAC,EACxC,SACK,AAAI,IAAM,IACf,EAAO,MAAQ,EAAE,iBAEjB,EAAO,cAAgB,EAEzB,aAEG,GAAE,iBACL,AAAI,IAAM,IACR,GAAS,EAAQ,0BAA2B,CAC1C,KAAM,EAAO,aACb,KAAM,EAAO,YACf,CAAC,EACD,EAAO,aAAe,EAAO,aAAe,GAC5C,EAAO,MAAQ,EAAE,MAEjB,GAAO,cAAgB,IAAM,EAC7B,EAAO,MAAQ,EAAE,gBAEnB,aAEG,GAAE,SACL,AAAI,EAAQ,EAAU,CAAC,EACrB,EAAO,SAAW,EAElB,GAAO,CAAM,EACb,AAAI,IAAM,IACR,EAAQ,CAAM,EACT,AAAI,IAAM,IACf,EAAO,MAAQ,EAAE,eAEZ,GAAa,CAAC,GACjB,EAAW,EAAQ,+BAA+B,EAEpD,EAAO,MAAQ,EAAE,SAGrB,aAEG,GAAE,eACL,AAAI,IAAM,IACR,GAAQ,EAAQ,EAAI,EACpB,GAAS,CAAM,GAEf,GAAW,EAAQ,gDAAgD,EACnE,EAAO,MAAQ,EAAE,QAEnB,aAEG,GAAE,OAEL,GAAI,EAAa,CAAC,EAChB,SACK,AAAI,IAAM,IACf,EAAQ,CAAM,EACT,AAAI,IAAM,IACf,EAAO,MAAQ,EAAE,eACZ,AAAI,EAAQ,EAAW,CAAC,EAC7B,GAAO,WAAa,EACpB,EAAO,YAAc,GACrB,EAAO,MAAQ,EAAE,aAEjB,EAAW,EAAQ,wBAAwB,EAE7C,aAEG,GAAE,YACL,AAAI,IAAM,IACR,EAAO,MAAQ,EAAE,aACZ,AAAI,IAAM,IACf,GAAW,EAAQ,yBAAyB,EAC5C,EAAO,YAAc,EAAO,WAC5B,EAAO,CAAM,EACb,EAAQ,CAAM,GACT,AAAI,EAAa,CAAC,EACvB,EAAO,MAAQ,EAAE,sBACZ,AAAI,EAAQ,EAAU,CAAC,EAC5B,EAAO,YAAc,EAErB,EAAW,EAAQ,wBAAwB,EAE7C,aAEG,GAAE,sBACL,GAAI,IAAM,IACR,EAAO,MAAQ,EAAE,iBACZ,IAAI,EAAa,CAAC,EACvB,SAEA,EAAW,EAAQ,yBAAyB,EAC5C,EAAO,IAAI,WAAW,EAAO,YAAc,GAC3C,EAAO,YAAc,GACrB,EAAS,EAAQ,cAAe,CAC9B,KAAM,EAAO,WACb,MAAO,EACT,CAAC,EACD,EAAO,WAAa,GACpB,AAAI,IAAM,IACR,EAAQ,CAAM,EACT,AAAI,EAAQ,EAAW,CAAC,EAC7B,GAAO,WAAa,EACpB,EAAO,MAAQ,EAAE,aAEjB,GAAW,EAAQ,wBAAwB,EAC3C,EAAO,MAAQ,EAAE,QAGrB,aAEG,GAAE,aACL,GAAI,EAAa,CAAC,EAChB,SACK,AAAI,EAAQ,CAAC,EAClB,GAAO,EAAI,EACX,EAAO,MAAQ,EAAE,qBAEjB,GAAW,EAAQ,0BAA0B,EAC7C,EAAO,MAAQ,EAAE,sBACjB,EAAO,YAAc,GAEvB,aAEG,GAAE,oBACL,GAAI,IAAM,EAAO,EAAG,CAClB,AAAI,IAAM,IACR,EAAO,MAAQ,EAAE,sBAEjB,EAAO,aAAe,EAExB,QACF,CACA,EAAO,CAAM,EACb,EAAO,EAAI,GACX,EAAO,MAAQ,EAAE,oBACjB,aAEG,GAAE,oBACL,AAAI,EAAa,CAAC,EAChB,EAAO,MAAQ,EAAE,OACZ,AAAI,IAAM,IACf,EAAQ,CAAM,EACT,AAAI,IAAM,IACf,EAAO,MAAQ,EAAE,eACZ,AAAI,EAAQ,EAAW,CAAC,EAC7B,GAAW,EAAQ,kCAAkC,EACrD,EAAO,WAAa,EACpB,EAAO,YAAc,GACrB,EAAO,MAAQ,EAAE,aAEjB,EAAW,EAAQ,wBAAwB,EAE7C,aAEG,GAAE,sBACL,GAAI,CAAC,EAAY,CAAC,EAAG,CACnB,AAAI,IAAM,IACR,EAAO,MAAQ,EAAE,sBAEjB,EAAO,aAAe,EAExB,QACF,CACA,EAAO,CAAM,EACb,AAAI,IAAM,IACR,EAAQ,CAAM,EAEd,EAAO,MAAQ,EAAE,OAEnB,aAEG,GAAE,UACL,GAAK,EAAO,QAaL,AAAI,IAAM,IACf,GAAS,CAAM,EACV,AAAI,EAAQ,EAAU,CAAC,EAC5B,EAAO,SAAW,EACb,AAAI,EAAO,OAChB,GAAO,QAAU,KAAO,EAAO,QAC/B,EAAO,QAAU,GACjB,EAAO,MAAQ,EAAE,QAEZ,GAAa,CAAC,GACjB,EAAW,EAAQ,gCAAgC,EAErD,EAAO,MAAQ,EAAE,yBAzBE,CACnB,GAAI,EAAa,CAAC,EAChB,SACK,AAAI,EAAS,EAAW,CAAC,EAC9B,AAAI,EAAO,OACT,GAAO,QAAU,KAAO,EACxB,EAAO,MAAQ,EAAE,QAEjB,EAAW,EAAQ,iCAAiC,EAGtD,EAAO,QAAU,CAErB,CAcA,aAEG,GAAE,oBACL,GAAI,EAAa,CAAC,EAChB,SAEF,AAAI,IAAM,IACR,GAAS,CAAM,EAEf,EAAW,EAAQ,mCAAmC,EAExD,aAEG,GAAE,gBACF,GAAE,0BACF,GAAE,sBACL,GAAI,IACA,GACJ,OAAQ,EAAO,WACR,GAAE,YACL,GAAc,EAAE,KAChB,GAAS,WACT,UAEG,GAAE,sBACL,GAAc,EAAE,oBAChB,GAAS,cACT,UAEG,GAAE,sBACL,GAAc,EAAE,sBAChB,GAAS,cACT,MAGJ,AAAI,IAAM,IACR,GAAO,KAAW,GAAY,CAAM,EACpC,EAAO,OAAS,GAChB,EAAO,MAAQ,IACV,AAAI,EAAQ,EAAO,OAAO,OAAS,EAAa,EAAa,CAAC,EACnE,EAAO,QAAU,EAEjB,GAAW,EAAQ,kCAAkC,EACrD,EAAO,KAAW,IAAM,EAAO,OAAS,EACxC,EAAO,OAAS,GAChB,EAAO,MAAQ,IAGjB,iBAGA,KAAM,IAAI,OAAM,EAAQ,kBAAoB,EAAO,KAAK,EAI9D,MAAI,GAAO,UAAY,EAAO,qBAC5B,EAAkB,CAAM,EAEnB,CACT,CA/hBS,cAiiBT,AAEA,AAAK,OAAO,eACT,UAAY,CACX,GAAI,GAAqB,OAAO,aAC5B,EAAQ,KAAK,MACb,EAAgB,YAAY,CAC9B,GAAI,GAAW,MACX,EAAY,CAAC,EACb,EACA,GACA,GAAQ,GACR,GAAS,UAAU,OACvB,GAAI,CAAC,GACH,MAAO,GAGT,OADI,IAAS,GACN,EAAE,GAAQ,IAAQ,CACvB,GAAI,IAAY,OAAO,UAAU,GAAM,EACvC,GACE,CAAC,SAAS,EAAS,GACnB,GAAY,GACZ,GAAY,SACZ,EAAM,EAAS,IAAM,GAErB,KAAM,YAAW,uBAAyB,EAAS,EAErD,AAAI,IAAa,MACf,EAAU,KAAK,EAAS,EAGxB,KAAa,MACb,EAAiB,KAAa,IAAM,MACpC,GAAgB,GAAY,KAAS,MACrC,EAAU,KAAK,EAAe,EAAY,GAExC,IAAQ,IAAM,IAAU,EAAU,OAAS,IAC7C,KAAU,EAAmB,MAAM,KAAM,CAAS,EAClD,EAAU,OAAS,EAEvB,CACA,MAAO,GACT,EApCoB,iBAsCpB,AAAI,OAAO,eACT,OAAO,eAAe,OAAQ,gBAAiB,CAC7C,MAAO,EACP,aAAc,GACd,SAAU,EACZ,CAAC,EAED,OAAO,cAAgB,CAE3B,EAAE,CAEN,GAAG,MAAO,IAAY,IAAc,GAAK,IAAM,CAAC,EAAI,EAAO,IC5hD3D,uBAAO,QAAU,CAEf,QAAS,SAAS,EAAO,CACvB,MAAI,OAAM,QACD,MAAM,QAAQ,CAAK,EAGrB,OAAO,UAAU,SAAS,KAAM,CAAM,IAAM,gBACrD,CAEF,ICVA,uBAAI,IAAU,KAA0B,QAExC,GAAO,QAAU,CAEf,YAAa,SAAU,EAAS,CAC9B,GAAI,GAAK,EAAO,CAAC,EACjB,IAAK,IAAO,GACV,AAAI,EAAQ,eAAe,CAAG,GAC5B,GAAK,GAAO,EAAQ,IAGxB,MAAO,EACT,EAEA,iBAAkB,SAAU,EAAM,EAAS,CACzC,AAAI,EAAE,KAAQ,KAAY,MAAO,GAAQ,IAAU,YACjD,GAAQ,GAAQ,GAEpB,EAEA,mBAAoB,SAAU,EAAS,CACrC,AAAI,EAAE,WAAY,KAAa,MAAO,GAAQ,QAAW,UAAY,MAAO,GAAQ,QAAW,WAC7F,GAAQ,OAAS,EAErB,EAEA,wBAAyB,SAAU,EAAS,CAC1C,AAAI,EAAE,gBAAiB,KAAa,MAAO,GAAQ,aAAgB,WAAa,CAAC,GAAQ,EAAQ,WAAW,IAC1G,GAAQ,YAAc,GAE1B,EAEA,gBAAiB,SAAU,EAAK,EAAS,CACvC,AAAI,EAAE,GAAM,OAAS,KAAY,MAAO,GAAQ,EAAM,QAAW,WAC/D,GAAQ,EAAM,OAAS,EAAQ,QAAU,IAAM,EAAM,EAEzD,EAEA,cAAe,SAAU,EAAK,EAAS,CACrC,MAAO,GAAM,MAAQ,EACvB,CAEF,IC1CA,uBAAI,IAAM,KACN,GAAqC,CAAE,GAAI,UAAY,CAAE,EAAG,MAAO,UAAY,CAAE,CAAE,EACnF,GAAS,KACT,GAAU,KAA0B,QAEpC,GACA,GAAe,GACf,GAEJ,YAAyB,EAAa,CACpC,UAAU,GAAO,YAAY,CAAW,EACxC,GAAO,iBAAiB,oBAAqB,EAAO,EACpD,GAAO,iBAAiB,oBAAqB,EAAO,EACpD,GAAO,iBAAiB,mBAAoB,EAAO,EACnD,GAAO,iBAAiB,aAAc,EAAO,EAC7C,GAAO,iBAAiB,gBAAiB,EAAO,EAChD,GAAO,iBAAiB,cAAe,EAAO,EAC9C,GAAO,iBAAiB,gBAAiB,EAAO,EAChD,GAAO,iBAAiB,UAAW,EAAO,EAC1C,GAAO,iBAAiB,iBAAkB,EAAO,EACjD,GAAO,iBAAiB,YAAa,EAAO,EAC5C,GAAO,iBAAiB,OAAQ,EAAO,EACvC,GAAO,iBAAiB,aAAc,EAAO,EAC7C,GAAO,iBAAiB,uBAAwB,EAAO,EACvD,GAAO,iBAAiB,WAAY,EAAO,EAC3C,GAAO,iBAAiB,2BAA4B,EAAO,EAC3D,GAAO,iBAAiB,+BAAgC,EAAO,EAC/D,GAAO,wBAAwB,EAAO,EACtC,GAAO,gBAAgB,cAAe,EAAO,EAC7C,GAAO,gBAAgB,cAAe,EAAO,EAC7C,GAAO,gBAAgB,aAAc,EAAO,EAC5C,GAAO,gBAAgB,OAAQ,EAAO,EACtC,GAAO,gBAAgB,UAAW,EAAO,EACzC,GAAO,gBAAgB,QAAS,EAAO,EACvC,GAAO,gBAAgB,UAAW,EAAO,EACzC,GAAO,gBAAgB,OAAQ,EAAO,EACtC,GAAO,gBAAgB,OAAQ,EAAO,EACtC,GAAO,gBAAgB,WAAY,EAAO,EAC1C,GAAO,gBAAgB,SAAU,EAAO,EACxC,GAAO,cAAc,UAAW,EAAO,EACvC,GAAO,cAAc,cAAe,EAAO,EAC3C,GAAO,cAAc,QAAS,EAAO,EACrC,GAAO,cAAc,UAAW,EAAO,EACvC,GAAO,cAAc,OAAQ,EAAO,EACpC,GAAO,cAAc,kBAAmB,EAAO,EAC/C,GAAO,cAAc,cAAe,EAAO,EAC3C,GAAO,cAAc,gBAAiB,EAAO,EAC7C,GAAO,cAAc,iBAAkB,EAAO,EAC9C,GAAO,cAAc,aAAc,EAAO,EACnC,EACT,CAzCS,wBA2CT,YAAoB,EAAO,CACzB,GAAI,GAAS,OAAO,CAAK,EACzB,GAAI,CAAC,MAAM,CAAM,EACf,MAAO,GAET,GAAI,GAAS,EAAM,YAAY,EAC/B,MAAI,KAAW,OACN,GACE,IAAW,QACb,GAEF,CACT,CAZS,mBAcT,YAAkB,EAAM,EAAO,CAC7B,GAAI,GACJ,GAAI,GAAQ,QAAS,CAanB,GAXE,CAAC,GAAe,GAAQ,EAAO,SAC9B,IAAQ,GAAQ,WAAW,EAAI,GAAQ,YAAY,QAAQ,GAAQ,EAAO,MAAM,IAAM,GAAK,GAAQ,cAEpG,IAAe,GAAQ,EAAO,QAAU,CAAC,GAEvC,GAAe,GAAQ,EAAO,SAAW,CAAC,GAAQ,GAAe,GAAQ,EAAO,OAAO,GACzF,IAAe,GAAQ,EAAO,QAAU,CAAC,GAAe,GAAQ,EAAO,OAAO,GAE5E,EAAO,MAAQ,KAAW,MAAO,IAAU,UAC7C,GAAQ,GAAQ,EAAO,MAAM,EAAO,EAAc,GAEhD,IAAS,eAAkB,kBAAmB,KAAW,qBAAuB,MAClF,IAAK,IAAO,GACV,GAAI,EAAM,eAAe,CAAG,EAC1B,GAAI,iBAAmB,IACrB,EAAM,GAAO,GAAQ,cAAc,EAAM,GAAM,EAAK,EAAc,MAC7D,CACL,GAAI,GAAO,EAAM,GACjB,MAAO,GAAM,GACb,EAAM,GAAQ,kBAAkB,EAAK,EAAM,EAAc,GAAK,CAChE,EAIN,AAAI,GAAQ,GAAe,GAAQ,EAAO,OAAO,EAC/C,GAAe,GAAQ,EAAO,QAAQ,KAAK,CAAK,EAEhD,GAAe,GAAQ,EAAO,QAAU,CAE5C,KAAO,CACL,AAAK,GAAe,GAAQ,cAC1B,IAAe,GAAQ,aAAe,CAAC,GAEzC,GAAI,GAAU,CAAC,EAEf,GADA,EAAQ,GAAQ,SAAW,EACvB,IAAS,cAAe,CAC1B,IAAK,IAAO,GACV,GAAI,EAAM,eAAe,CAAG,EAC1B,MAGJ,EAAQ,GAAQ,SAAW,qBAAuB,IAAU,GAAQ,kBAAkB,EAAK,EAAO,EAAc,EAAI,EACpH,AAAI,GAAQ,yBACV,GAAQ,GAAQ,eAAiB,EAAM,GAAK,GAAQ,eAChD,iBAAmB,KACrB,GAAQ,GAAQ,eAAiB,GAAQ,cAAc,EAAQ,GAAQ,eAAgB,EAAK,EAAc,IAGxG,kBAAmB,KACrB,GAAM,GAAO,GAAQ,cAAc,EAAM,GAAM,EAAK,EAAc,GAEpE,EAAQ,GAAQ,gBAAkB,EAAM,GAE5C,KACE,AAAI,GAAO,MAAQ,KACjB,GAAQ,GAAQ,EAAO,MAAM,EAAO,EAAc,GAEpD,EAAQ,GAAQ,EAAO,QAAU,EAEnC,AAAI,GAAQ,WACV,GAAQ,GAAQ,WAAa,IAE/B,GAAe,GAAQ,aAAa,KAAK,CAAO,CAClD,CACF,CApES,iBAsET,YAA8B,EAAY,CAIxC,GAHI,gBAAkB,KAAW,GAC/B,GAAa,GAAQ,aAAa,EAAY,EAAc,GAEzD,IAAQ,MAAQ,oBAAsB,KAAW,mBAAqB,KAAW,GAAQ,uBAAyB,EAAY,CACjI,GAAI,GACJ,IAAK,IAAO,GACV,GAAI,EAAW,eAAe,CAAG,GAC3B,IAAQ,MAAM,GAAW,GAAO,EAAW,GAAK,KAAK,GACrD,GAAQ,sBACV,GAAW,GAAO,GAAW,EAAW,EAAI,GAE1C,oBAAsB,KAAS,GAAW,GAAO,GAAQ,iBAAiB,EAAW,GAAM,EAAK,EAAc,GAC9G,mBAAqB,KAAS,CAChC,GAAI,GAAO,EAAW,GACtB,MAAO,GAAW,GAClB,EAAW,GAAQ,gBAAgB,EAAK,EAAW,GAAM,EAAc,GAAK,CAC9E,CAGN,CACA,MAAO,EACT,CAtBS,6BAwBT,YAAuB,EAAa,CAClC,GAAI,GAAa,CAAC,EAClB,GAAI,EAAY,MAAS,GAAY,KAAK,YAAY,IAAM,OAAS,GAAQ,0BAA2B,CAGtG,OAFI,GAAc,oDACd,EACI,GAAQ,EAAY,KAAK,EAAY,IAAI,KAAO,MACtD,EAAW,EAAM,IAAM,EAAM,IAAM,EAAM,IAAM,EAAM,GAEvD,EAAa,GAAqB,CAAU,CAC9C,CACA,GAAI,EAAY,KAAK,YAAY,IAAM,MAAO,CAC5C,GAAI,GAAQ,kBACV,OAEF,GAAe,GAAQ,gBAAkB,CAAC,EACtC,OAAO,KAAK,CAAU,EAAE,QAC1B,IAAe,GAAQ,gBAAgB,GAAQ,eAAiB,GAE9D,GAAQ,WACV,IAAe,GAAQ,gBAAgB,GAAQ,WAAa,GAEhE,KAAO,CACL,GAAI,GAAQ,kBACV,OAEF,AAAI,GAAQ,MACV,GAAY,KAAO,EAAY,KAAK,KAAK,GAE3C,GAAI,GAAQ,CAAC,EACb,AAAI,GAAQ,0BAA4B,OAAO,KAAK,CAAU,EAAE,OAC9D,GAAM,EAAY,MAAQ,CAAC,EAC3B,EAAM,EAAY,MAAM,GAAQ,eAAiB,GAEjD,EAAM,EAAY,MAAQ,EAAY,KAExC,GAAS,cAAe,CAAK,CAC/B,CACF,CArCS,sBAuCT,YAAwB,EAAM,EAAY,CACxC,GAAI,GASJ,GARI,MAAO,IAAS,UAClB,GAAa,EAAK,WAClB,EAAO,EAAK,MAEd,EAAa,GAAqB,CAAU,EACxC,iBAAmB,KACrB,GAAO,GAAQ,cAAc,EAAM,EAAc,GAE/C,GAAQ,QAAS,CAEnB,GADA,EAAU,CAAC,EACP,CAAC,GAAQ,kBAAoB,GAAc,OAAO,KAAK,CAAU,EAAE,OAAQ,CAC7E,EAAQ,GAAQ,eAAiB,CAAC,EAClC,GAAI,GACJ,IAAK,IAAO,GACV,AAAI,EAAW,eAAe,CAAG,GAC/B,GAAQ,GAAQ,eAAe,GAAO,EAAW,GAGvD,CACA,AACE,CAAE,KAAQ,MACT,IAAQ,GAAQ,WAAW,EAAI,GAAQ,YAAY,QAAQ,CAAI,IAAM,GAAK,GAAQ,cAEnF,IAAe,GAAQ,CAAC,GAEtB,GAAe,IAAS,CAAC,GAAQ,GAAe,EAAK,GACvD,IAAe,GAAQ,CAAC,GAAe,EAAK,GAE9C,AAAI,GAAQ,GAAe,EAAK,EAC9B,GAAe,GAAM,KAAK,CAAO,EAEjC,GAAe,GAAQ,CAE3B,KACE,AAAK,IAAe,GAAQ,cAC1B,IAAe,GAAQ,aAAe,CAAC,GAEzC,EAAU,CAAC,EACX,EAAQ,GAAQ,SAAW,UAC3B,EAAQ,GAAQ,SAAW,EACvB,CAAC,GAAQ,kBAAoB,GAAc,OAAO,KAAK,CAAU,EAAE,QACrE,GAAQ,GAAQ,eAAiB,GAE/B,GAAQ,gBACV,GAAQ,GAAQ,aAAe,CAAC,GAElC,GAAe,GAAQ,aAAa,KAAK,CAAO,EAElD,EAAQ,GAAQ,WAAa,GAC7B,GAAiB,CACnB,CApDS,uBAsDT,YAAgB,EAAM,CACpB,AAAI,GAAQ,YAGR,CAAC,EAAK,KAAK,GAAK,CAAC,GAAQ,8BAGzB,IAAQ,MACV,GAAO,EAAK,KAAK,GAEf,GAAQ,YACV,GAAO,GAAW,CAAI,GAEpB,GAAQ,UACV,GAAO,EAAK,QAAQ,KAAM,OAAO,EAAE,QAAQ,KAAM,MAAM,EAAE,QAAQ,KAAM,MAAM,GAE/E,GAAS,OAAQ,CAAI,EACvB,CAjBS,eAmBT,YAAmB,EAAS,CAC1B,AAAI,GAAQ,eAGR,IAAQ,MACV,GAAU,EAAQ,KAAK,GAEzB,GAAS,UAAW,CAAO,EAC7B,CARS,kBAUT,YAAsB,EAAM,CAC1B,GAAI,GAAgB,GAAe,GAAQ,WAC3C,AAAK,GAAQ,WACX,MAAO,IAAe,GAAQ,WAEhC,GAAiB,CACnB,CANS,qBAQT,YAAiB,EAAO,CACtB,AAAI,GAAQ,aAGR,IAAQ,MACV,GAAQ,EAAM,KAAK,GAErB,GAAS,QAAS,CAAK,EACzB,CARS,gBAUT,YAAmB,EAAS,CAC1B,AAAI,GAAQ,eAGZ,GAAU,EAAQ,QAAQ,KAAM,EAAE,EAC9B,GAAQ,MACV,GAAU,EAAQ,KAAK,GAEzB,GAAS,UAAW,CAAO,EAC7B,CATS,kBAWT,YAAiB,EAAO,CACtB,EAAM,KAAO,CACf,CAFS,gBAIT,GAAO,QAAU,SAAU,EAAK,EAAa,CAE3C,GAAI,GAAS,GAAe,GAAI,OAAO,GAAM,CAAC,CAAC,EAAI,EAAS,GAAI,IAAM,OAAO,OAAO,EAChF,EAAS,CAAC,EA0Bd,GAzBA,GAAiB,EAEjB,GAAU,GAAgB,CAAW,EAErC,AAAI,GACF,GAAO,IAAM,CAAC,eAAgB,EAAI,EAClC,EAAO,UAAY,GACnB,EAAO,OAAS,GAChB,EAAO,UAAY,GACnB,EAAO,WAAa,GACpB,EAAO,QAAU,GACjB,EAAO,QAAU,GACjB,EAAO,UAAY,GACnB,EAAO,wBAA0B,IAEjC,GAAO,GAAG,eAAgB,EAAc,EACxC,EAAO,GAAG,OAAQ,EAAM,EACxB,EAAO,GAAG,UAAW,EAAS,EAC9B,EAAO,GAAG,aAAc,EAAY,EACpC,EAAO,GAAG,QAAS,EAAO,GAMxB,GACF,EAAO,MAAM,CAAG,EAAE,MAAM,UAEpB,CAAC,EAAO,MAAM,CAAG,EACnB,KAAM,IAAI,OAAM,sBAAwB,EAAO,SAAS,CAAC,EAI7D,GAAI,EAAO,GAAQ,aAAc,CAC/B,GAAI,GAAO,EAAO,GAAQ,aAC1B,MAAO,GAAO,GAAQ,aACtB,EAAO,GAAQ,aAAe,EAC9B,MAAO,GAAO,IAChB,CAEA,MAAO,EAET,ICzWA,uBAAI,IAAS,KACT,GAAS,KAEb,YAA0B,EAAa,CACrC,GAAI,GAAU,GAAO,YAAY,CAAW,EAC5C,UAAO,mBAAmB,CAAO,EAC1B,CACT,CAJS,wBAMT,GAAO,QAAU,SAAS,EAAK,EAAa,CAC1C,GAAI,GAAS,EAAI,EAAM,EACvB,SAAU,GAAgB,CAAW,EACrC,EAAK,GAAO,EAAK,CAAO,EACxB,EAAY,WAAa,IAAW,EAAQ,QAAU,UAAY,SAElE,AAAI,aAAe,IAAW,EAAQ,UACpC,EAAO,KAAK,UAAU,EAAI,SAAU,EAAG,EAAG,CAAE,MAAO,KAAM,EAAW,IAAM,CAAG,EAAG,EAAQ,MAAM,EAE9F,EAAO,KAAK,UAAU,EAAI,KAAM,EAAQ,MAAM,EAEzC,EAAK,QAAQ,UAAW,SAAS,EAAE,QAAQ,UAAW,SAAS,CACxE,ICrBA,uBAAI,IAAS,KACT,GAAU,KAA0B,QAEpC,GAAgB,GAEpB,YAAyB,EAAa,CACpC,GAAI,GAAU,GAAO,YAAY,CAAW,EAC5C,UAAO,iBAAiB,oBAAqB,CAAO,EACpD,GAAO,iBAAiB,oBAAqB,CAAO,EACpD,GAAO,iBAAiB,mBAAoB,CAAO,EACnD,GAAO,iBAAiB,aAAc,CAAO,EAC7C,GAAO,iBAAiB,gBAAiB,CAAO,EAChD,GAAO,iBAAiB,cAAe,CAAO,EAC9C,GAAO,iBAAiB,gBAAiB,CAAO,EAChD,GAAO,iBAAiB,UAAW,CAAO,EAC1C,GAAO,iBAAiB,aAAc,CAAO,EAC7C,GAAO,iBAAiB,cAAe,CAAO,EAC9C,GAAO,iBAAiB,mBAAoB,CAAO,EACnD,GAAO,iBAAiB,oBAAqB,CAAO,EACpD,GAAO,iBAAiB,sBAAuB,CAAO,EACtD,GAAO,iBAAiB,8BAA+B,CAAO,EAC9D,GAAO,mBAAmB,CAAO,EAC7B,MAAO,GAAQ,QAAW,UAC5B,GAAQ,OAAS,MAAM,EAAQ,OAAS,CAAC,EAAE,KAAK,GAAG,GAErD,GAAO,gBAAgB,cAAe,CAAO,EAC7C,GAAO,gBAAgB,cAAe,CAAO,EAC7C,GAAO,gBAAgB,aAAc,CAAO,EAC5C,GAAO,gBAAgB,OAAQ,CAAO,EACtC,GAAO,gBAAgB,UAAW,CAAO,EACzC,GAAO,gBAAgB,QAAS,CAAO,EACvC,GAAO,gBAAgB,UAAW,CAAO,EACzC,GAAO,gBAAgB,OAAQ,CAAO,EACtC,GAAO,gBAAgB,OAAQ,CAAO,EACtC,GAAO,gBAAgB,WAAY,CAAO,EAC1C,GAAO,cAAc,UAAW,CAAO,EACvC,GAAO,cAAc,cAAe,CAAO,EAC3C,GAAO,cAAc,QAAS,CAAO,EACrC,GAAO,cAAc,UAAW,CAAO,EACvC,GAAO,cAAc,OAAQ,CAAO,EACpC,GAAO,cAAc,kBAAmB,CAAO,EAC/C,GAAO,cAAc,cAAe,CAAO,EAC3C,GAAO,cAAc,gBAAiB,CAAO,EAC7C,GAAO,cAAc,iBAAkB,CAAO,EAC9C,GAAO,cAAc,aAAc,CAAO,EAC1C,GAAO,cAAc,sBAAuB,CAAO,EAC5C,CACT,CA1CS,wBA4CT,YAA0B,EAAS,EAAO,EAAW,CACnD,MAAQ,EAAC,GAAa,EAAQ,OAAS;AAAA,EAAO,IAAM,MAAM,EAAQ,CAAC,EAAE,KAAK,EAAQ,MAAM,CAC1F,CAFS,yBAIT,YAAyB,EAAY,EAAS,EAAO,CACnD,GAAI,EAAQ,iBACV,MAAO,GAET,AAAI,gBAAkB,IACpB,GAAa,EAAQ,aAAa,EAAY,GAAoB,EAAc,GAElF,GAAI,GAAK,EAAM,EAAU,EAAO,EAAS,CAAC,EAC1C,IAAK,IAAO,GACV,AAAI,EAAW,eAAe,CAAG,GAAK,EAAW,KAAS,MAAQ,EAAW,KAAS,QACpF,GAAQ,EAAQ,6BAA+B,MAAO,GAAW,IAAS,SAAW,GAAK,IAC1F,EAAO,GAAK,EAAW,GACvB,EAAO,EAAK,QAAQ,KAAM,QAAQ,EAClC,EAAW,mBAAqB,GAAU,EAAQ,gBAAgB,EAAK,EAAM,GAAoB,EAAc,EAAI,EACnH,EAAO,KAAM,EAAQ,QAAU,EAAQ,iBAAkB,GAAiB,EAAS,EAAM,EAAG,EAAK,EAAI,GAAI,EACzG,EAAO,KAAK,EAAW,IAAM,EAAS,qBAAsB,GAAU,EAAQ,iBAAiB,EAAM,EAAK,GAAoB,EAAc,EAAI,GAAQ,CAAK,GAGjK,MAAI,IAAc,OAAO,KAAK,CAAU,EAAE,QAAU,EAAQ,QAAU,EAAQ,kBAC5E,EAAO,KAAK,GAAiB,EAAS,EAAO,EAAK,CAAC,EAE9C,EAAO,KAAK,EAAE,CACvB,CAtBS,wBAwBT,YAA0B,EAAa,EAAS,EAAO,CACrD,UAAiB,EACjB,GAAqB,MACd,EAAQ,kBAAoB,GAAM,QAAe,GAAgB,EAAY,EAAQ,eAAgB,EAAS,CAAK,EAAI,IAChI,CAJS,yBAMT,YAA0B,EAAa,EAAS,EAAO,CACrD,GAAI,EAAQ,kBACV,MAAO,GAET,GAAI,GACJ,IAAK,IAAO,GACV,GAAI,EAAY,eAAe,CAAG,EAChC,MAGJ,GAAI,GAAkB,qBAAuB,GAAU,EAAQ,kBAAkB,EAAK,EAAY,GAAM,GAAoB,EAAc,EAAI,EAC9I,GAAI,MAAO,GAAY,IAAS,SAC9B,UAAiB,EACjB,GAAqB,EACd,KAAO,EAAkB,GAAgB,EAAY,GAAK,EAAQ,eAAgB,EAAS,CAAK,EAAI,KAE3G,GAAI,GAAmB,EAAY,GAAO,EAAY,GAAO,GAC7D,MAAI,iBAAmB,IAAS,GAAmB,EAAQ,cAAc,EAAkB,EAAK,GAAoB,EAAc,GAC3H,KAAO,EAAmB,GAAmB,IAAM,EAAmB,IAAM,IAEvF,CApBS,yBAsBT,YAAsB,EAAS,EAAS,CACtC,MAAO,GAAQ,cAAgB,GAAK,OAAU,cAAe,GAAU,EAAQ,UAAU,EAAS,GAAoB,EAAc,EAAI,GAAW,KACrJ,CAFS,qBAIT,YAAoB,EAAO,EAAS,CAClC,MAAO,GAAQ,YAAc,GAAK,YAAe,YAAa,GAAU,EAAQ,QAAQ,EAAO,GAAoB,EAAc,EAAI,EAAM,QAAQ,MAAO,iBAAiB,GAAK,KAClL,CAFS,mBAIT,YAAsB,EAAS,EAAS,CACtC,MAAO,GAAQ,cAAgB,GAAK,aAAgB,cAAe,GAAU,EAAQ,UAAU,EAAS,GAAoB,EAAc,EAAI,GAAW,GAC3J,CAFS,qBAIT,YAAmB,EAAM,EAAS,CAChC,MAAI,GAAQ,WAAmB,GAC/B,GAAO,GAAK,EACZ,EAAO,EAAK,QAAQ,SAAU,GAAG,EACjC,EAAO,EAAK,QAAQ,KAAM,OAAO,EAAE,QAAQ,KAAM,MAAM,EAAE,QAAQ,KAAM,MAAM,EACtE,UAAY,GAAU,EAAQ,OAAO,EAAM,GAAoB,EAAc,EAAI,EAC1F,CANS,kBAQT,YAAoB,EAAS,EAAS,CACpC,GAAI,GACJ,GAAI,EAAQ,UAAY,EAAQ,SAAS,OACvC,IAAK,EAAI,EAAG,EAAI,EAAQ,SAAS,OAAQ,EAAE,EACzC,OAAQ,EAAQ,SAAS,GAAG,EAAQ,cAC/B,OACH,GAAI,EAAQ,WACV,MAAO,GAET,UACG,QACH,GAAI,EAAQ,YACV,MAAO,GAET,UACG,cACH,GAAI,EAAQ,kBACV,MAAO,GAET,UACG,cACA,cACA,UACH,MAAO,WAEP,MAAO,GAIb,MAAO,EACT,CA9BS,mBAgCT,YAAsB,EAAS,EAAS,EAAO,CAC7C,GAAiB,EACjB,GAAqB,EAAQ,KAC7B,GAAI,GAAM,CAAC,EAAG,EAAc,iBAAmB,GAAU,EAAQ,cAAc,EAAQ,KAAM,CAAO,EAAI,EAAQ,KAChH,EAAI,KAAK,IAAM,CAAW,EACtB,EAAQ,EAAQ,gBAClB,EAAI,KAAK,GAAgB,EAAQ,EAAQ,eAAgB,EAAS,CAAK,CAAC,EAE1E,GAAI,GAAiB,EAAQ,EAAQ,cAAgB,EAAQ,EAAQ,aAAa,QAAU,EAAQ,EAAQ,gBAAkB,EAAQ,EAAQ,eAAe,eAAiB,WAC9K,MAAK,IACH,CAAI,yBAA2B,GAC7B,EAAiB,EAAQ,sBAAsB,EAAQ,KAAM,CAAO,EAEpE,EAAiB,EAAQ,qBAG7B,AAAI,EACF,GAAI,KAAK,GAAG,EACR,EAAQ,EAAQ,cAAgB,EAAQ,EAAQ,aAAa,QAC/D,GAAI,KAAK,GAAc,EAAQ,EAAQ,aAAc,EAAS,EAAQ,CAAC,CAAC,EACxE,GAAiB,EACjB,GAAqB,EAAQ,MAE/B,EAAI,KAAK,EAAQ,QAAU,GAAW,EAAS,CAAO,EAAI;AAAA,EAAO,MAAM,EAAQ,CAAC,EAAE,KAAK,EAAQ,MAAM,EAAI,EAAE,EAC3G,EAAI,KAAK,KAAO,EAAc,GAAG,GAEjC,EAAI,KAAK,IAAI,EAER,EAAI,KAAK,EAAE,CACpB,CA7BS,qBA+BT,YAAuB,EAAU,EAAS,EAAO,EAAW,CAC1D,MAAO,GAAS,OAAO,SAAU,EAAK,EAAS,CAC7C,GAAI,GAAS,GAAiB,EAAS,EAAO,GAAa,CAAC,CAAG,EAC/D,OAAQ,EAAQ,UACX,UAAW,MAAO,GAAM,EAAS,GAAa,EAAS,EAAS,CAAK,MACrE,UAAW,MAAO,GAAM,EAAS,GAAa,EAAQ,EAAQ,YAAa,CAAO,MAClF,UAAW,MAAO,GAAM,EAAS,GAAa,EAAQ,EAAQ,YAAa,CAAO,MAClF,QAAS,MAAO,GAAO,GAAQ,YAAc,EAAS,IAAM,GAAW,EAAQ,EAAQ,UAAW,CAAO,MACzG,OAAQ,MAAO,GAAO,GAAQ,WAAa,EAAS,IAAM,GAAU,EAAQ,EAAQ,SAAU,CAAO,MACrG,cACH,GAAI,GAAc,CAAC,EACnB,SAAY,EAAQ,EAAQ,UAAY,EAAQ,EAAQ,eAAiB,EAAU,EAAQ,EAAQ,gBAC5F,EAAO,GAAQ,kBAAoB,EAAS,IAAM,GAAiB,EAAa,EAAS,CAAK,EAEzG,EAAG,EAAE,CACP,CAfS,sBAiBT,YAA2B,EAAS,EAAS,EAAY,CACvD,GAAI,GACJ,IAAK,IAAO,GACV,GAAI,EAAQ,eAAe,CAAG,EAC5B,OAAQ,OACH,GAAQ,cACR,GAAQ,cACX,UACG,GAAQ,QACX,GAAI,EAAQ,YAAc,EACxB,MAAO,GAET,UACG,GAAQ,SACX,GAAI,EAAQ,aAAe,EACzB,MAAO,GAET,UACG,GAAQ,eACX,GAAI,EAAQ,mBAAqB,EAC/B,MAAO,GAET,UACG,GAAQ,eACR,GAAQ,WACX,MAAO,WAEP,MAAO,GAIb,MAAO,EACT,CAhCS,0BAkCT,YAA6B,EAAS,EAAM,EAAS,EAAO,EAAQ,CAClE,GAAiB,EACjB,GAAqB,EACrB,GAAI,GAAc,iBAAmB,GAAU,EAAQ,cAAc,EAAM,CAAO,EAAI,EACtF,GAAI,MAAO,GAAY,KAAe,IAAY,MAAQ,IAAY,GACpE,MAAO,yBAA2B,IAAW,EAAQ,sBAAsB,EAAM,CAAO,GAAK,EAAQ,oBAAsB,IAAM,EAAc,MAAQ,EAAc,IAAM,IAAM,EAAc,KAEjM,GAAI,GAAM,CAAC,EACX,GAAI,EAAM,CAER,GADA,EAAI,KAAK,IAAM,CAAW,EACtB,MAAO,IAAY,SACrB,SAAI,KAAK,IAAM,GAAU,EAAQ,CAAO,EAAI,KAAO,EAAc,GAAG,EAC7D,EAAI,KAAK,EAAE,EAEpB,AAAI,EAAQ,EAAQ,gBAClB,EAAI,KAAK,GAAgB,EAAQ,EAAQ,eAAgB,EAAS,CAAK,CAAC,EAE1E,GAAI,GAAiB,GAAkB,EAAS,EAAS,EAAI,GAAK,EAAQ,EAAQ,gBAAkB,EAAQ,EAAQ,eAAe,eAAiB,WAQpJ,GAPK,GACH,CAAI,yBAA2B,GAC7B,EAAiB,EAAQ,sBAAsB,EAAM,CAAO,EAE5D,EAAiB,EAAQ,qBAGzB,EACF,EAAI,KAAK,GAAG,MAEZ,UAAI,KAAK,IAAI,EACN,EAAI,KAAK,EAAE,CAEtB,CACA,SAAI,KAAK,GAAqB,EAAS,EAAS,EAAQ,EAAG,EAAK,CAAC,EACjE,GAAiB,EACjB,GAAqB,EACjB,GACF,EAAI,KAAM,GAAS,GAAiB,EAAS,EAAO,EAAK,EAAI,IAAM,KAAO,EAAc,GAAG,EAEtF,EAAI,KAAK,EAAE,CACpB,CAvCS,4BAyCT,YAA8B,EAAS,EAAS,EAAO,EAAW,CAChE,GAAI,GAAG,EAAK,EAAO,EAAM,CAAC,EAC1B,IAAK,IAAO,GACV,GAAI,EAAQ,eAAe,CAAG,EAE5B,IADA,EAAQ,GAAQ,EAAQ,EAAI,EAAI,EAAQ,GAAO,CAAC,EAAQ,EAAI,EACvD,EAAI,EAAG,EAAI,EAAM,OAAQ,EAAE,EAAG,CACjC,OAAQ,OACH,GAAQ,eAAgB,EAAI,KAAK,GAAiB,EAAM,GAAI,EAAS,CAAK,CAAC,EAAG,UAC9E,GAAQ,eAAgB,EAAI,KAAM,GAAQ,kBAAoB,GAAiB,EAAS,EAAO,CAAS,EAAI,IAAM,GAAiB,EAAM,GAAI,EAAS,CAAK,CAAC,EAAG,UAC/J,GAAQ,kBAAoB,GAAQ,UAAW,UAC/C,GAAQ,QAAS,EAAI,KAAM,GAAQ,WAAa,GAAiB,EAAS,EAAO,CAAS,EAAI,IAAM,GAAU,EAAM,GAAI,CAAO,CAAC,EAAG,UACnI,GAAQ,SAAU,EAAI,KAAM,GAAQ,YAAc,GAAiB,EAAS,EAAO,CAAS,EAAI,IAAM,GAAW,EAAM,GAAI,CAAO,CAAC,EAAG,UACtI,GAAQ,WAAY,EAAI,KAAK,GAAiB,EAAS,EAAO,CAAS,EAAI,GAAa,EAAM,GAAI,CAAO,CAAC,EAAG,UAC7G,GAAQ,WAAY,EAAI,KAAK,GAAiB,EAAS,EAAO,CAAS,EAAI,GAAa,EAAM,GAAI,CAAO,CAAC,EAAG,cACzG,EAAI,KAAK,GAAiB,EAAS,EAAO,CAAS,EAAI,GAAoB,EAAM,GAAI,EAAK,EAAS,EAAO,GAAkB,EAAM,GAAI,CAAO,CAAC,CAAC,EAExJ,EAAY,GAAa,CAAC,EAAI,MAChC,CAGJ,MAAO,GAAI,KAAK,EAAE,CACpB,CArBS,6BAuBT,GAAO,QAAU,SAAU,EAAI,EAAS,CACtC,EAAU,GAAgB,CAAO,EACjC,GAAI,GAAM,CAAC,EACX,UAAiB,EACjB,GAAqB,SACrB,AAAI,EAAQ,QACV,EAAI,KAAK,GAAqB,EAAI,EAAS,EAAG,EAAI,CAAC,EAE/C,GAAG,EAAQ,iBACb,EAAI,KAAK,GAAiB,EAAG,EAAQ,gBAAiB,EAAS,CAAC,CAAC,EAE/D,EAAG,EAAQ,cAAgB,EAAG,EAAQ,aAAa,QACrD,EAAI,KAAK,GAAc,EAAG,EAAQ,aAAc,EAAS,EAAG,CAAC,EAAI,MAAM,CAAC,GAGrE,EAAI,KAAK,EAAE,CACpB,IC/TA,uBAAI,IAAS,KAEb,GAAO,QAAU,SAAU,EAAM,EAAS,CACxC,AAAI,YAAgB,SAClB,GAAO,EAAK,SAAS,GAEvB,GAAI,GAAK,KACT,GAAI,MAAQ,IAAU,SACpB,GAAI,CACF,EAAK,KAAK,MAAM,CAAI,CACtB,MAAE,CACA,KAAM,IAAI,OAAM,+BAA+B,CACjD,KAEA,GAAK,EAEP,MAAO,IAAO,EAAI,CAAO,CAC3B,ICjBA,oBAEA,GAAI,IAAS,KACT,GAAW,KACX,GAAS,KACT,GAAW,KAEf,GAAO,QAAU,CACf,OAAQ,GACR,SAAU,GACV,OAAQ,GACR,SAAU,EACZ,oJCgBA,YAA+B,EAAiC,CAC5D,MAAI,AAA8B,IAAiB,KACxC,CAAA,EAEP,MAAM,QAAQ,CAAY,EACnB,EAEA,CAAC,CAAY,CAE5B,CATgB,oBAAhB,GAAA,YAAA,GAcA,YAAgC,CAY5B,YAAY,EAA4B,EAAiB,EAAmB,EAAuB,CAC/F,KAAK,eAAiB,EACtB,KAAK,WAAa,EAClB,KAAK,QAAU,EACf,KAAK,OAAS,CAClB,GAjBJ,4BAAA,GAAA,oBAAA,GAuBA,YAA8B,CA2C1B,YAAY,EAAgC,CApB5C,KAAA,YAA2B,CAAA,EAE3B,KAAA,cAA+B,CAAA,EAC/B,KAAA,aAAmD,CAAA,EACnD,KAAA,cAAkC,CAAA,EAClC,KAAA,iBAAwC,CAAA,EACxC,KAAA,YAA8B,CAAA,EAC9B,KAAA,YAA8B,CAAA,EAC9B,KAAA,SAAwB,CAAA,EACxB,KAAA,iBAAuC,CACnC,MAAO,kBACP,mBAAoB,IAExB,KAAA,aAAgC,CAAA,EAChC,KAAA,cAAkC,CAAA,EAClC,KAAA,iBAAwC,CAAA,EAMpC,KAAK,eAAiB,uBACtB,KAAK,QAAU,EAAoB,QACnC,KAAK,WAAa,EAAoB,OAAO,SACjD,IA9CI,aAAU,CACV,MAAO,MAAK,WAChB,IAEI,SAAM,CACN,MAAO,CACH,aAAc,KAAK,cACnB,gBAAiB,KAAK,iBACtB,YAAa,KAAK,aAClB,gBAAiB,KAAK,iBACtB,UAAW,KAAK,WAChB,WAAY,KAAK,YACjB,WAAY,KAAK,YACjB,aAAc,KAAK,cACnB,gBAAiB,KAAK,iBACtB,QAAS,KAAK,SACd,YAAa,KAAK,aAE1B,CAiCO,gBAAgB,EAAyB,CAC5C,KAAK,cAAc,KAAK,CAAY,EACpC,KAAK,YAAc,KAAK,YAAY,OAAO,EAAa,UAAU,EAClE,KAAK,cAAgB,KAAK,cAAc,OAAO,EAAa,OAAO,YAAY,EAC/E,KAAK,iBAAmB,KAAK,iBAAiB,OAAO,EAAa,OAAO,eAAe,EACxF,KAAK,aAAe,OAAO,OAAO,KAAK,aAAc,EAAa,OAAO,WAAW,EACpF,KAAK,YAAc,KAAK,YAAY,OAAO,EAAa,OAAO,UAAU,EACzE,KAAK,YAAc,KAAK,YAAY,OAAO,EAAa,OAAO,UAAU,EACzE,KAAK,SAAW,KAAK,SAAS,OAAO,EAAa,OAAO,OAAO,EAChE,KAAK,aAAe,KAAK,aAAa,OAAO,EAAa,OAAO,WAAW,EAC5E,KAAK,cAAgB,KAAK,cAAc,OAAO,EAAa,OAAO,YAAY,EAC/E,KAAK,iBAAmB,KAAK,iBAAiB,OAAO,EAAa,OAAO,eAAe,EACxF,KAAK,iBAAmB,OAAO,OAAO,KAAK,iBAAkB,EAAa,OAAO,eAAe,CACpG,GAjEJ,0BAAA,GAAA,kBAAA,oRCPA,YACI,EACA,EACA,EAAkB,CAElB,GAAM,GAA+B,CAAA,EACrC,OAAQ,OACC,YACD,GAA4B,EAAY,CAAW,EACnD,UACC,aACD,GAA6B,EAAY,CAAW,EACpD,UACC,qBACD,GAAqC,EAAY,EAAY,CAAW,EACxE,UACC,WACD,GAA2B,EAAY,EAAY,CAAW,EAC9D,UACC,YACD,cAEA,MAER,UAA0B,EAAY,EAAY,CAAW,EACtD,CACX,CA1BgB,6BAAhB,GAAA,qBAAA,GAmCA,YACI,EACA,EACA,EAA4B,CAQ5B,WAA2B,EAAoB,EAAU,CACrD,AAAI,GACA,EAAY,KAAK,CAAK,CAE9B,CAqNA,GAzNS,yBAMT,EAAkB,EAAW,wBAA0B,OAAW,CAC9D,KAAI,kCACJ,MAAO,CACH,KAAM,SACN,OAAQ,EAAW,uBAE1B,EAED,EAAkB,EAAW,oBAAsB,OAAW,CAC1D,KAAI,+CACJ,OAAQ,CACJ,eAAgB,CACZ,CACI,KAAM,aACN,MAAO,CACH,KAAM,OACN,KAAM,EAAW,oBAAsB,WAK1D,EACD,EAAkB,EAAW,kBAAoB,OAAW,CACxD,KAAI,yCACJ,MAAO,CACH,KAAM,OACN,KAAM,EAAW,kBAAoB,QAE5C,EAED,EAAkB,EAAW,kBAAoB,OAAW,CACxD,KAAI,0CACJ,MAAO,CACH,KAAM,OACN,KAAM,EAAW,kBAAoB,QAE5C,EAED,EAAkB,EAAW,iBAAmB,OAAW,CACvD,KAAI,yCACJ,MAAO,CACH,KAAM,OACN,KAAM,EAAW,iBAAmB,QAE3C,EAED,EAAkB,EAAW,yBAA2B,OAAW,CAC/D,KAAI,+CACJ,OAAQ,CACJ,eAAgB,CACZ,CACI,KAAM,iBACN,MAAO,CACH,KAAM,OACN,KAAM,EAAW,yBAA2B,WAK/D,EACD,EAAkB,EAAW,4BAA8B,OAAW,CAClE,KAAI,+CACJ,OAAQ,CACJ,eAAgB,CACZ,CACI,KAAM,qBACN,MAAO,CACH,KAAM,aACN,WAAY,CACR,CACI,KAAM,eACN,aAAc,QAOzC,EAED,EAAkB,EAAW,2BAA6B,OAAW,CACjE,KAAI,+CACJ,OAAQ,CACJ,eAAgB,CACZ,CACI,KAAM,+BACN,MAAO,CACH,KAAM,aACN,WAAY,CACR,CACI,KAAM,SACN,eAAgB,CACZ,CACI,KAAM,+BACN,MAAO,CACH,KAAM,SACN,OAAQ,EAAW,2BAG3B,CACI,KAAM,WACN,MAAO,CACH,KAAM,eACN,aAAc,WAUrD,EACD,EAAkB,EAAW,kBAAoB,QAAS,CACtD,KAAI,6CACJ,OAAQ,CACJ,eAAgB,CACZ,CACI,KAAM,wBACN,MAAO,CACH,KAAM,eACN,aAAc,MAKjC,EACD,EAAkB,EAAW,iBAAmB,QAAS,CACrD,KAAI,oCACJ,MAAO,CACH,KAAM,OACN,KAAM,IAEb,EACD,EAAkB,EAAW,eAAiB,OAAW,CACrD,KAAI,uCACJ,MAAO,CACH,KAAM,SACN,OAAQ,EAAW,cAE1B,EACD,EAAkB,EAAW,iBAAmB,OAAW,CACvD,KAAI,yCACJ,MAAO,CACH,KAAM,SACN,OAAQ,EAAW,gBAE1B,EAED,EAAkB,EAAW,mBAAqB,OAAW,CACzD,KAAI,2CACJ,MAAO,CACH,KAAM,SACN,OAAQ,EAAW,kBAE1B,EACD,EAAkB,EAAW,cAAgB,OAAW,CACpD,KAAI,sCACJ,MAAO,CACH,KAAM,OACN,KAAM,EAAW,aAExB,EAED,EAAkB,EAAW,cAAgB,OAAW,CACpD,KAAI,6BACJ,MAAO,CACH,KAAM,OACN,KAAM,EAAW,aAExB,EACD,EAAkB,EAAW,cAAgB,OAAW,CACpD,KAAI,oCACJ,MAAO,CACH,KAAM,OACN,KAAM,EAAW,aAExB,EAED,EAAkB,EAAW,mBAAqB,OAAW,CACzD,KAAI,8BACJ,MAAO,CACH,KAAM,MACN,IAAK,SAAS,EAAW,iBAA4B,EAAE,GAE9D,EACD,EAAkB,EAAW,oBAAsB,cAAe,CAC9D,KAAI,0DACJ,MAAO,CACH,KAAM,OACN,KAAM,IAEb,EAED,EAAkB,EAAW,wBAA0B,cAAe,CAClE,KAAI,iDACJ,MAAO,CACH,KAAM,OACN,KAAM,IAEb,EAED,EAAkB,EAAW,wBAA0B,YAAa,CAChE,KAAI,6CACJ,MAAO,CACH,KAAM,OACN,KAAM,IAEb,EAEG,EAAW,uBAAyB,EAAW,sBAAuB,CACtE,GAAM,GAAsB,CAAA,EAC5B,AAAI,EAAW,uBACX,EAAG,KAAK,CACJ,KAAM,gBACN,MAAO,CACH,KAAM,eACN,aAAc,EAAW,uBAEhC,EAED,EAAW,uBACX,EAAG,KAAK,CACJ,KAAM,gBACN,MAAO,CACH,KAAM,eACN,aAAc,EAAW,uBAEhC,EAEL,EAAY,KAAK,CACb,KAAI,0CACJ,OAAQ,CACJ,eAAgB,GAEvB,EAEL,EAAkB,EAAW,uBAAyB,OAAW,CAC7D,KAAI,8CACJ,MAAO,CACH,KAAM,OACN,KAAM,EAAW,sBAExB,EAED,EAAkB,EAAW,yBAA2B,OAAW,CAC/D,KAAI,uCACJ,MAAO,CACH,KAAM,OACN,KAAM,EAAW,wBAExB,EACD,EAAkB,EAAW,mBAAqB,OAAW,CACzD,KAAI,2CACJ,MAAO,CACH,KAAM,MACN,IAAK,SAAS,EAAW,iBAA4B,EAAE,GAE9D,EAED,EAAkB,EAAW,mBAAqB,OAAW,CACzD,KAAI,2CACJ,MAAO,CACH,KAAM,MACN,IAAK,SAAS,EAAW,iBAA4B,EAAE,GAE9D,EAED,EAAkB,EAAW,mBAAqB,YAAa,CAC3D,KAAI,8CACJ,MAAO,CACH,KAAM,aACN,WAAU,qCAEjB,EAED,EAAkB,EAAW,mBAAqB,WAAY,CAC1D,KAAI,8CACJ,MAAO,CACH,KAAM,aACN,WAAU,oCAEjB,EAED,EAAkB,EAAW,uBAAyB,OAAW,CAC7D,KAAI,4CACJ,MAAO,CACH,KAAM,aACN,WAAY,CACR,CACI,KAAM,eACN,aAAc,KAI7B,CACL,CA1TgB,kCAAhB,GAAA,0BAAA,GAkUA,YAA4C,EAAkC,EAA4B,CACtG,AAAI,EAAW,kBACX,EAAY,KAAK,CACb,KAAI,+CACJ,OAAQ,CACJ,eAAgB,CACZ,CACI,KAAM,aACN,MAAO,CACH,KAAM,OACN,KAAM,EAAW,mBAAqB,WAKzD,EAED,EAAW,kBACX,EAAY,KAAK,CACb,KAAI,+CACJ,OAAQ,CACJ,eAAgB,CACZ,CACI,KAAM,YACN,MAAO,CACH,KAAM,OACN,KAAM,EAAW,mBAAqB,WAKzD,EAED,EAAW,uBACX,EAAY,KAAK,CACb,KAAI,+CACJ,OAAQ,CACJ,eAAgB,CACZ,CACI,KAAM,YACN,MAAO,CACH,KAAM,OACN,KAAM,EAAW,0BAKpC,EAED,EAAW,kBACX,EAAY,KAAK,CACb,KAAI,+CACJ,OAAQ,CACJ,eAAgB,CACZ,CACI,KAAM,YACN,MAAO,CACH,KAAM,OACN,KAAM,EAAW,mBAAqB,WAKzD,EAED,EAAW,uBACX,EAAY,KAAK,CACb,KAAI,+CACJ,OAAQ,CACJ,eAAgB,CACZ,CACI,KAAM,YACN,MAAO,CACH,KAAM,OACN,KAAM,EAAW,0BAKpC,CAET,CAjFgB,oCAAhB,GAAA,4BAAA,GA0FA,YACI,EACA,EACA,EAA4B,CAE5B,AAAI,EAAW,kBACX,EAAY,KAAK,CACb,KAAI,mDACJ,OAAQ,CACJ,eAAgB,CACZ,CACI,KAAM,uBACN,MAAO,CACH,KAAM,SACN,OAAQ,CACJ,eAAgB,CACZ,CACI,KAAM,sBACN,MAAO,CACH,KAAM,SACN,OAAQ,CACJ,eAAgB,CACZ,CACI,KAAM,aACN,MAAO,CACH,KAAM,OACN,KAAM,EAAW,mBAAqB,mBAazF,EAED,EAAW,uBACX,EAAY,KAAK,CACb,KAAI,mDACJ,OAAQ,CACJ,eAAgB,CACZ,CACI,KAAM,uBACN,MAAO,CACH,KAAM,SACN,OAAQ,CACJ,eAAgB,CACZ,CACI,KAAM,sBACN,MAAO,CACH,KAAM,SACN,OAAQ,CACJ,eAAgB,CACZ,CACI,KAAM,aACN,MAAO,CACH,KAAM,OACN,KAAM,EAAW,kCAapE,EAED,EAAW,oBAAsB,SACjC,EAAY,KAAK,CACb,KAAI,mDACJ,OAAQ,CACJ,eAAgB,CACZ,CACI,KAAM,uBACN,MAAO,CACH,KAAM,aACN,WAAY,CACR,CACI,KAAM,SACN,eAAgB,CACZ,CACI,KAAM,qBACN,MAAO,CACH,KAAM,yBACN,uBAAwB,IAGhC,CACI,KAAM,qBACN,MAAO,CACH,KAAM,SACN,OAAQ,CACJ,eAAgB,CACZ,CACI,KAAM,aACN,MAAO,CACH,KAAM,OACN,KAAM,gBAc7D,CAET,CA3HgB,6CAAhB,GAAA,qCAAA,GAoIA,YACI,EACA,EACA,EAA4B,CAE5B,AAAI,EAAW,mBAAqB,QAAU,EAAW,mBAAqB,SAC1E,EAAY,KAAK,CACb,KAAI,8BACJ,MAAO,CACH,KAAM,OACN,KAAM,IAEb,EAED,EAAW,mBAAqB,SAAW,EAAW,mBAAqB,SAC3E,EAAY,KAAK,CACb,KAAI,6BACJ,MAAO,CACH,KAAM,OACN,KAAM,IAEb,EAED,EAAW,uBACX,EAAY,KAAK,CACb,KAAI,8CACJ,MAAO,CACH,KAAM,OACN,KAAM,EAAW,uBAExB,EAED,EAAW,oBAAsB,SACjC,EAAY,KAAK,CACb,KAAI,+CACJ,OAAQ,CACJ,eAAgB,CACZ,CACI,KAAM,0BACN,MAAO,CACH,KAAM,aACN,WAAY,CACR,CACI,KAAM,eACN,aAAc,QAOzC,CAET,CArDgB,mCAAhB,GAAA,2BAAA,GA6DA,YAA6C,EAAkC,EAA4B,CACvG,AAAI,EAAW,mBAAqB,aAChC,EAAY,KAAK,CACb,KAAI,0CACJ,OAAQ,CACJ,eAAgB,CACZ,CAII,KAAM,uBACN,MAAO,CACH,KAAM,aACN,WAAY,CAAA,IAGpB,CAII,KAAM,sBACN,MAAO,CACH,KAAM,aACN,WAAY,CAAA,IAGpB,CAII,KAAM,yBACN,MAAO,CACH,KAAM,aACN,WAAY,CAAA,MAK/B,CAET,CAxCgB,qCAAhB,GAAA,6BAAA,kcCxrBA,GAAA,IAAA,KACA,GAAA,KAiCA,GAAA,KAGM,GAAmB,wBAezB,YACI,EAAgG,CAEhG,MACK,GAA8D,OAAS,MACvE,EAA8D,OAAS,MAEhF,CAPS,wBAgBT,YAA2B,EAAgC,CACvD,MAAO,GAAa,IAAI,AAAC,GAAgB,EAAY,YAAY,IAAI,CACzE,CAFS,0BAaT,YACI,EACA,EACA,EACA,EAAiC,CAEjC,MAAO,GAAiB,OACpB,CAAC,EAA2B,IAAiC,CACzD,GAAM,GAA2B,CAC7B,MAAO,WACP,KAAM,EAAe,YAAY,KACjC,mBAAoB,GAAG,KAAiB,EAAe,YAAY,OACnE,KAAM,EAAe,YAAY,MAcrC,GAZI,EAAe,YAAY,WAC3B,GAAY,UAAY,SAAS,EAAe,YAAY,UAAW,EAAE,GAEzE,EAAe,YAAY,WAC3B,GAAY,UAAY,SAAS,EAAe,YAAY,UAAW,EAAE,GAEzE,EAAe,YAAY,OAC3B,GAAY,MAAQ,SAAS,EAAe,YAAY,MAAO,EAAE,GAEjE,EAAe,YAAY,UAC3B,GAAY,SAAW,EAAe,YAAY,WAAa,SAE/D,EAAe,YAAY,aAC3B,OAAQ,EAAY,UACX,gBACA,eACA,gBACA,YACD,EAAY,aAAe,SAAS,EAAe,YAAY,aAAc,EAAE,EAC/E,UACC,cACD,EAAY,aAAe,WAAW,EAAe,YAAY,YAAY,EAC7E,UACC,cACD,EAAY,aAAe,EAAe,YAAY,eAAiB,OACvE,cAEA,EAAY,aAAe,EAAe,YAAY,aACtD,MAIZ,EAAU,iBAAiB,KAAK,CAAW,EACvC,EAAW,QAAQ,EAAY,IAAI,IAAM,IACzC,EAAU,WAAW,KAAK,CAAW,EAGzC,GAAM,GAAgB,GAAA,GAAA,sBAClB,EAAe,YACf,WACA,EAAe,YAAY,IAAI,EAEnC,MAAI,GAAc,OAAS,GACvB,EAAgB,KAAK,GAAqB,EAAY,mBAAoB,CAAa,CAAC,EAGrF,CACX,EACA,CAAE,iBAAkB,CAAA,EAAI,WAAY,CAAA,CAAE,CAAE,CAEhD,CAhES,wBA0ET,YACI,EACA,EACA,EAAkC,CAElC,MAAO,GAAuB,OAAO,CAAC,EAAmC,IACrE,GAAS,KAAK,CACV,eAAgB,EAChB,eAAgB,EAAO,YAAY,SACnC,eAAgB,EAChB,eAAgB,EAAO,YAAY,mBACtC,EACM,GACR,CAAA,CAAE,CACT,CAdS,mCAuBT,YACI,EACA,EAAoC,CAEpC,MAAO,GAAuB,OAAO,CAAC,EAAmC,IAAU,CAC/E,GAAI,GAAY,EAAgB,KAAK,AAAC,GAAW,EAAO,OAAS,EAAO,UAAU,YAAY,IAAI,EAC9F,EAAY,EAAgB,KAAK,AAAC,GAAW,EAAO,OAAS,EAAO,UAAU,YAAY,IAAI,EAClG,GAAI,IAAc,QAAa,IAAc,OAAW,CACpD,GAAI,GAAmB,GAAA,GAAA,aAAY,EAAO,UAAU,WAAW,EAC3D,EAAmB,GAAA,GAAA,aAAY,EAAO,UAAU,WAAW,EAC/D,AAAI,EAAU,eAAiB,KAC3B,GAAY,EACZ,EAAY,EAAgB,KACxB,AAAC,GAAW,EAAO,OAAS,EAAO,UAAU,YAAY,IAAI,EAEjE,EAAmB,EACnB,EAAmB,GAAA,GAAA,aAAY,EAAO,UAAU,WAAW,GAE/D,OAAW,KAAkB,GAAkB,CAC3C,GAAM,GAAgB,EAAiB,QAAQ,CAAc,EAC7D,EAAS,KAAK,CACV,eAAgB,EAAU,KAC1B,eAAgB,EAAe,YAAY,KAC3C,eAAgB,EAAU,KAC1B,eAAgB,EAAiB,GAAe,YAAY,KAC/D,GAGT,MAAO,EACX,EAAG,CAAA,CAAE,CACT,CA9BS,qCAyCT,YACI,EACA,EACA,EACA,EAAiC,CAEjC,MAAO,GAAqB,OACxB,CAAC,EAAiE,IAAsB,CAEpF,GAAM,GACF,EAAmB,YACvB,GAAI,GAAgB,CAAU,EAAG,CAC7B,GAAM,GAAU,EAAW,KAAK,MAAM,EAAgB,EAChD,EAAe,IAAY,KAC3B,EAAW,EAAU,EAAQ,GAAK,EAAW,KACnD,EAAS,KAAK,CACV,MAAO,qBACP,KAAM,EAAW,KACjB,mBAAoB,GAAG,KAAiB,EAAW,OACnD,QAAS,EAAW,QACpB,eAAgB,EAAW,iBAAmB,OAC9C,eACA,eAAgB,EAChB,sBAAuB,GACnB,GAAA,GAAA,aAAY,EAAmB,qBAAqB,EACpD,EAAkB,YAAY,KAC9B,CAAQ,EAEf,MACE,CAEH,GAAM,CAAE,eAAc,SAAQ,YAAa,EAC3C,EAAS,KAAK,CACV,MAAO,qBACP,KAAM,EAAW,KACjB,mBAAoB,GAAG,KAAiB,EAAW,OACnD,aAAc,EACd,OAAQ,EACR,SAAU,EACb,EACD,GAAM,GAAgB,GAAA,GAAA,sBAClB,EACA,qBACA,EAAW,IAAI,EAEnB,AAAI,EAAc,OAAS,GACvB,EAAgB,KAAK,GAAqB,GAAG,KAAiB,EAAW,OAAQ,CAAa,CAAC,EAIvG,MAAO,EACX,EACA,CAAA,CAAE,CAEV,CAtDS,kCAwDT,YAA8B,EAAqC,EAAiB,CAChF,MAAO,GAAa,IAAI,AAAC,GAAe,CACpC,GAAM,GAAiB,GAAG,KAAa,EAAY,YAAY,OACzD,EAAyC,GAAA,GAAA,aAAY,EAAY,GAAG,EAAE,IACxE,AAAC,GACU,EACH,UAAW,EAAS,YAAY,UAChC,KAAM,EAAS,YAAY,MAElC,EAEL,MAAO,CACH,mBAAoB,EACpB,KAAM,EAAY,YAAY,KAC9B,YAAa,EAAY,YAAY,YACrC,eAAgB,EAExB,CAAC,CACL,CAlBS,6BAoBT,YAA2B,EAAkC,EAAiB,CAC1E,MAAO,GAAa,IAAI,AAAC,GAAe,CACpC,GAAM,GAAiB,GAAG,KAAa,EAAY,YAAY,OACzD,EAAsC,GAAA,GAAA,aAAY,EAAY,GAAG,EAAE,IACrE,AAAC,GACU,EACH,KAAM,EAAS,YAAY,KAC3B,KAAM,EAAS,YAAY,KAC3B,aAAc,EAAS,YAAY,cAE1C,EAEL,MAAO,CACH,mBAAoB,EACpB,KAAM,EAAY,YAAY,KAC9B,eAAgB,EAChB,uBAAwB,GACpB,GAAA,GAAA,aAAY,EAAY,qBAAqB,EAC7C,CAAc,EAG1B,CAAC,CACL,CAtBS,0BAwBT,YACI,EACA,EACA,EAAiB,CAEjB,MAAO,GAAY,OAAO,CAAC,EAA2B,IAAc,CAChE,GAAM,GAAiB,EAAW,IAAM,GAAkB,GAAA,GAAA,aAAY,EAAW,IAAI,WAAW,CAAC,EAAI,CAAA,EAC/F,EAAgB,GAAG,KAAa,EAAW,YAAY,OACvD,CAAE,mBAAkB,cAAe,GACrC,GAAA,GAAA,aAAY,EAAW,QAAQ,EAC/B,EACA,EACA,CAAe,EAEb,EAAuB,GACzB,GAAA,GAAA,aAAY,EAAW,kBAAkB,EACzC,EACA,EACA,CAAe,EAEb,EAA+B,CACjC,MAAO,aACP,KAAM,EAAW,YAAY,KAC7B,mBAAoB,EACpB,KAAM,EACN,mBACA,QAAS,CAAA,EACT,qBAAsB,GAEpB,EAAgB,GAAA,GAAA,sBAClB,EAAW,YACX,aACA,EAAW,YAAY,IAAI,EAE/B,MAAI,GAAc,OAAS,GACvB,EAAgB,KAAK,GAAqB,EAAc,mBAAoB,CAAa,CAAC,EAE9F,EAAS,KAAK,CAAa,EACpB,CACX,EAAG,CAAA,CAAE,CACT,CAxCS,yBA0CT,YACI,EACA,EACA,EAAiB,CAEjB,MAAO,GAAa,OAAO,CAAC,EAA4B,IAAe,CACnE,GAAM,GAAiB,GAAG,KAAa,EAAY,YAAY,OACzD,CAAE,oBAAqB,GACzB,GAAA,GAAA,aAAY,EAAY,QAAQ,EAChC,CAAA,EACA,EACA,CAAe,EAEb,EAAuB,GACzB,GAAA,GAAA,aAAY,EAAY,kBAAkB,EAC1C,EACA,EACA,CAAe,EAEnB,SAAS,KAAK,CACV,MAAO,cACP,KAAM,EAAY,YAAY,KAC9B,mBAAoB,EACpB,WAAY,EACZ,uBACH,EACM,CACX,EAAG,CAAA,CAAE,CACT,CA5BS,0BA8BT,YAA8B,EAAwC,EAAiB,CACnF,MAAO,GAAgB,OAAO,CAAC,EAA+B,IAAkB,CAC5E,GAAM,GAAoB,GAAG,KAAa,EAAe,YAAY,OACrE,SAAS,KAAK,CACV,MAAO,iBACP,KAAM,EAAe,YAAY,KACjC,mBAAoB,EACpB,eAAgB,EAAe,YAAY,eAC9C,EACM,CACX,EAAG,CAAA,CAAE,CACT,CAXS,6BAaT,YACI,EACA,EACA,EACA,EAAiC,CAEjC,GAAM,GAAgC,EAAW,IAAI,AAAC,GAAa,CAC/D,GAAM,GAA6B,CAC/B,MAAO,YACP,KAAM,EAAU,YAAY,KAC5B,eAAgB,EAAU,YAAY,WACtC,0BAA2B,CAAA,EAC3B,mBAAoB,GAAG,KAAa,KAAuB,EAAU,YAAY,QAE/E,EAAgB,GAAA,GAAA,sBAClB,EAAU,YACV,YACA,EAAU,YAAY,IAAI,EAE9B,MAAI,GAAc,OAAS,GACvB,EAAgB,KAAK,GAAqB,EAAa,mBAAoB,CAAa,CAAC,EAEtF,CACX,CAAC,EACD,SAAW,QAAQ,AAAC,GAAa,CAC7B,GAAM,GAAsB,EAAc,KACtC,AAAC,GAAiB,EAAa,OAAS,EAAU,YAAY,IAAI,EAEtE,AAAI,GACA,GAAA,GAAA,aAAY,EAAU,yBAAyB,EAAE,QAAQ,AAAC,GAAsB,CAC5E,GAAM,GAAyB,EAAc,KACzC,AAAC,GAAiB,EAAa,OAAS,EAAmB,YAAY,MAAM,EAEjF,AAAI,GACA,GAAoB,0BAA0B,EAAmB,YAAY,MACzE,EAEZ,CAAC,CAET,CAAC,EAEM,CACX,CA1CS,wBA4CT,YACI,EACA,EACA,EACA,EAAiC,CAEjC,GAAM,GAAgC,EAAW,IAAI,AAAC,GAAa,CAC/D,GAAM,GAA6B,CAC/B,MAAO,YACP,KAAM,EAAU,YAAY,KAC5B,eAAgB,EAAU,YAAY,KACtC,SAAU,EAAU,YAAY,WAAa,QAC7C,0BAA2B,CAAA,EAC3B,mBAAoB,GAAG,KAAa,KAAuB,EAAU,YAAY,QAE/E,EAAgB,GAAA,GAAA,sBAClB,EAAU,YACV,YACA,EAAU,YAAY,IAAI,EAE9B,MAAI,GAAc,OAAS,GACvB,EAAgB,KAAK,GAAqB,EAAa,mBAAoB,CAAa,CAAC,EAEtF,CACX,CAAC,EACD,SAAW,QAAQ,AAAC,GAAa,CAC7B,GAAM,GAAsB,EAAc,KACtC,AAAC,GAAiB,EAAa,OAAS,EAAU,YAAY,IAAI,EAEtE,AAAI,GACA,GAAA,GAAA,aAAY,EAAU,yBAAyB,EAAE,QAAQ,AAAC,GAAsB,CAC5E,GAAM,GAAyB,EAAc,KACzC,AAAC,GAAiB,EAAa,OAAS,EAAmB,YAAY,MAAM,EAEjF,AAAI,GACA,GAAoB,0BAA0B,EAAmB,YAAY,MACzE,EAEZ,CAAC,CAET,CAAC,EAEM,CACX,CA3CS,wBA6CT,YACI,EACA,EACA,EAAsB,GAAK,CAE3B,MAAO,GAAQ,IAAI,AAAC,GAAU,CAC1B,GAAI,GAA2B,GAAG,GAAA,GAAA,aAAY,EAAO,SAAS,EACzD,OAAO,AAAC,GAAU,EAAM,YAAY,OAAS,EAAO,YAAY,aAAa,EAC7E,IAAI,AAAC,GAAU,EAAM,YAAY,IAAI,IACpC,EAAmB,EAAO,YAAY,UAAY,OACpD,EAAoB,GAAG,EAAO,YAAY,SAC9C,MAAI,IACK,IACD,GAAmB,GAAG,GAAA,GAAA,aAAY,EAAO,SAAS,EAAE,GAAG,YAAY,QAEvE,EAAY,GAAG,KAAa,EAAO,YAAY,QAAQ,MAEpD,CACH,MAAO,SACP,KAAM,EAAO,YAAY,KACzB,QAAS,EACT,WAAY,EACZ,mBAAoB,EACpB,WAAY,EACZ,WAAY,GAAA,GAAA,aAAY,EAAO,SAAS,EAAE,IAAI,AAAC,GACpC,EACH,MAAO,kBACP,mBAAoB,GAAG,KAAa,EAAM,YAAY,OACtD,KAAM,GAAG,EAAM,YAAY,OAC3B,KAAM,EAAM,YAAY,KACxB,YAAa,EAAM,YAAY,OAAS,EAAO,YAAY,eAElE,EACD,WAAY,EAAO,WAAa,EAAO,WAAW,YAAY,KAAO,GAE7E,CAAC,CACL,CApCS,qBAsCT,YACI,EACA,EACA,EAAiB,CAEjB,MAAO,GAAQ,IAAI,AAAC,GAAU,CAC1B,GAAM,GAAkB,EAAW,KAAK,AAAC,GAAO,EAAG,OAAS,EAAO,YAAY,SAAS,EAClF,EAAoB,GAAG,KAAa,EAAO,YAAY,SAC7D,MAAO,CACH,MAAO,SACP,KAAM,EAAO,YAAY,KACzB,QAAS,GACT,WAAY,EAAkB,EAAgB,eAAiB,GAC/D,mBAAoB,EACpB,WAAY,GACZ,WAAY,GAAA,GAAA,aAAY,EAAO,SAAS,EAAE,IAAI,AAAC,GACpC,EACH,MAAO,kBACP,KAAM,EAAM,YAAY,KACxB,mBAAoB,GAAG,KAAa,EAAM,YAAY,OACtD,KAAM,EAAM,YAAY,KACxB,YAAa,IAEpB,EACD,WAAY,EAAO,YAAY,WAAa,EAAO,YAAY,WAAa,GAEpF,CAAC,CACL,CA3BS,4BA6BT,YACI,EACA,EACA,EAAkC,CAElC,MAAO,GAAe,IAAI,AAAC,GAAiB,CAGxC,GAAM,CAAE,aAAY,eAA+B,EAAf,EAAU,GAAK,EAA7C,CAAA,aAAA,aAAA,CAA0C,EAC1C,EAA2C,CAAA,EACjD,GAAI,EAAa,CACb,GAAM,GAAwD,OAAO,KAAK,CAAW,EAAE,KACnF,AAAC,GAAY,IAAY,UAAU,EAEvC,EAAiB,KAAO,EAAY,SACpC,GAAM,GAAwB,GAAG,KAAiB,EAAiB,OAUnE,GATA,AAAI,GAAc,OAAO,KAAK,CAAU,EAAE,OAAS,EAC/C,EAAiB,MAAQ,GAAgB,EAAY,EAAuB,CAAgB,EACrF,GACP,GAAiB,MAAQ,GACrB,EAAG,GAAe,EAAY,EAAa,EAC3C,EACA,CAAgB,GAGpB,EAAc,WAAY,CAC1B,GAAM,GAAsB,GACxB,GAAA,GAAA,aAAY,EAAc,UAAU,EACpC,EACA,CAAgB,EAEpB,AAAI,GAAuB,EAAoB,OAAS,GACpD,EAAiB,KAAK,GAAqB,EAAuB,CAAmB,CAAC,GAIlG,MAAO,EACX,CAAC,CACL,CAtCS,4BAwCT,YACI,EACA,EACA,EAAkC,CAElC,GAAM,GAAoB,GAAiB,GAAA,GAAA,aAAY,EAAO,UAAU,EAAG,EAAe,CAAgB,EACpG,EAA8B,CAChC,KAAM,EAAO,YAAc,GAAQ,EAAO,YAAY,IAAI,EAAI,OAC9D,eAAgB,GAAoB,GAAA,GAAA,aAAY,EAAO,aAAa,EAAG,EAAe,CAAgB,GAE1G,MAAI,IAAqB,EAAkB,OAAS,GAChD,GAAU,YAAc,GAErB,CACX,CAdS,oBAuBT,YAA+B,EAAiB,EAA2B,CACvE,MAAO,GAAW,IAAwB,IAC9C,CAFS,2BAIT,YACI,EACA,EAAoF,CAEpF,OAAQ,OACC,yBACD,MAAO,CAAE,KAAM,yBAA0B,uBAAwB,EAAa,KAAK,MAClF,eACD,MAAO,CAAE,KAAM,eAAgB,aAAc,EAAa,KAAK,MAC9D,iBACD,MAAO,CAAE,KAAM,iBAAkB,eAAgB,EAAa,KAAK,MAClE,OACD,MAAO,CAAE,KAAM,OAAQ,KAAM,EAAa,KAAK,EAE3D,CAdS,uBAgBT,YACI,EACA,EACA,EAAkC,CAQlC,GAAI,GAAiD,EAAY,QAAQ,EAAG,CACxE,GAAM,GAAc,GAAA,GAAA,aAAY,EAAW,MAAM,EAAE,IAAI,CAAC,EAAQ,IAC5D,GAAY,EAAQ,EAAgB,IAAM,EAAa,CAAgB,CAAC,EAE3E,SAAoB,KAAO,SACrB,UACA,GAAuD,EAAY,cAAc,EAAG,CAC3F,GAAM,GAAoB,GAAA,GAAA,aAAY,EAAW,YAAY,EAAE,IAC3D,AAAC,GAAiB,GAAe,EAAc,cAAc,CAA2B,EAE3F,SAA0B,KAAO,eAC3B,UACA,GAAiE,EAAY,wBAAwB,EAAG,CAC/G,GAAM,GAAuB,GAAA,GAAA,aAAY,EAAW,sBAAsB,EAAE,IACxE,AAAC,GACG,GAAe,EAAiB,wBAAwB,CAAqC,EAEpG,SAA6B,KAAO,yBAC9B,UACA,GAAiD,EAAY,QAAQ,EAAG,CAC/E,GAAM,GAAc,GAAA,GAAA,aAAY,EAAW,MAAM,EAAE,IAAI,AAAC,GAAgB,EAAY,KAAK,EACxF,SAAoB,KAAO,SACrB,UACA,GAAyD,EAAY,gBAAgB,EAAG,CAC/F,GAAM,GAAsB,GAAA,GAAA,aAAY,EAAW,cAAc,EAAE,IAC/D,AAAC,GAAmB,GAAe,EAAgB,gBAAgB,CAA6B,EAEnG,SAA4B,KAAO,iBAC7B,UACA,GAA+C,EAAY,MAAM,EAAG,CAC3E,GAAM,GAAY,GAAA,GAAA,aAAY,EAAW,IAAI,EAAE,IAC3C,AAAC,GAAmB,GAAe,EAAgB,MAAM,CAAmB,EAE/E,SAAkB,KAAO,OACnB,UACA,GAA6C,EAAY,IAAI,EAAG,CACvE,GAAM,GAAc,GAAA,GAAA,aAAY,EAAW,EAAE,EAAE,IAAI,AAAC,GAAgB,EAAY,KAAK,EACpF,SAAoB,KAAO,SACrB,MACJ,IAAI,OAAO,KAAK,CAAU,EAAE,SAAW,EAC1C,MAAO,CAAA,EAEP,QAAQ,MAAM,gBAAgB,KAAK,UAAU,CAAU,qCAAqC,EAEhG,MAAO,CAAA,CACX,CAxDS,wBA8DT,YACI,EACA,EACA,EAAkC,CAElC,GAAM,GAAiB,OAAO,KAAK,CAAU,EAC7C,GAAI,EAAe,OAAS,EACxB,KAAM,IAAI,OAAM,mDAAmD,KAAK,UAAU,CAAU,GAAG,EAEnG,GAAM,GAAgB,EAAe,GACrC,OAAQ,OACC,SACD,MAAO,CACH,KAAM,SACN,OAAQ,EAAW,QAEtB,OACD,MAAO,CACH,KAAM,OACN,KAAM,EAAW,OAAS,YAE7B,UACD,MAAO,CACH,KAAM,UACN,QAAS,WAAW,EAAW,OAAiB,OAEnD,OACD,MAAO,CACH,KAAM,OACN,KAAM,EAAW,UAEpB,MACD,MAAO,CACH,KAAM,MACN,IAAK,SAAS,EAAW,IAAe,EAAE,OAE7C,OACD,MAAO,CACH,KAAM,OACN,KAAM,EAAW,UAEpB,eACD,MAAO,CACH,KAAM,eACN,aAAc,EAAW,kBAE5B,iBACD,MAAO,CACH,KAAM,iBACN,eAAgB,EAAW,oBAE9B,yBACD,MAAO,CACH,KAAM,yBACN,uBAAwB,EAAW,4BAEtC,aACD,MAAO,CACH,KAAM,aACN,WAAY,EAAW,QAE1B,aACD,MAAO,CACH,KAAM,aACN,WAAY,GACR,EAAW,WACX,EACA,CAAgB,OAGvB,SACD,MAAO,CACH,KAAM,SACN,OAAQ,GAAY,EAAW,OAAiC,EAAe,CAAgB,OAElG,QACD,MAAO,CACH,KAAM,QACN,MAAO,AAAW,EAAW,WAEhC,OACD,MAAO,CACH,KAAM,gBAGV,eAAQ,MAAM,sCAAwC,CAAa,EAC5D,CACH,KAAM,WAGtB,CA1FS,8BA4FT,YACI,EACA,EACA,EAAkC,CAElC,GAAM,GAAiB,OAAO,KAAK,CAAU,EAC7C,GAAI,EAAe,OAAS,EACxB,KAAM,IAAI,OAAM,mDAAmD,KAAK,UAAU,CAAU,GAAG,EAEnG,GAAM,GAAgB,EAAe,GACrC,OAAQ,OACC,SACD,MAAO,CACH,KAAM,SACN,OAAS,EAAW,GAAuB,WAE9C,OACD,MAAO,CACH,KAAM,OACN,KAAO,EAAW,KAAa,QAAU,YAE5C,MACD,MAAO,CACH,KAAM,MACN,IAAK,SAAU,EAAW,IAAY,MAAiB,EAAE,OAE5D,UACD,MAAO,CACH,KAAM,UACN,QAAS,WAAY,EAAW,QAAgB,KAAe,OAElE,OACD,MAAO,CACH,KAAM,OACN,KAAO,EAAW,KAA2B,WAEhD,eACD,MAAO,CACH,KAAM,eACN,aAAe,EAAW,aAAgC,WAE7D,yBACD,MAAO,CACH,KAAM,yBACN,uBAAyB,EAAW,uBAA0C,WAEjF,iBACD,MAAO,CACH,KAAM,iBACN,eAAiB,EAAW,eAAkC,WAEjE,aACD,MAAO,CACH,KAAM,aACN,WAAa,EAAW,GAAuB,WAElD,aACD,MAAO,CACH,KAAM,aACN,WAAY,GACR,EAAW,WACX,EACA,CAAgB,OAGvB,SACD,MAAO,CACH,KAAM,SACN,OAAQ,GAAY,EAAW,OAAiC,EAAe,CAAgB,OAElG,QACD,MAAO,CACH,KAAM,QACN,MAAO,AAAW,EAAW,WAEhC,OACD,MAAO,CACH,KAAM,gBAGV,eAAQ,MAAM,+BAAiC,CAAa,EACrD,CACH,KAAM,WAGtB,CArFS,wBAuFT,YACI,EACA,EACA,EAAkC,CAElC,GAAM,GAAiC,EAAW,YAA5C,CAAE,OAAM,aAAS,EAAK,EAAM,GAAA,EAA5B,CAAA,OAAA,WAAA,CAA8B,EAC9B,EAAwC,CAC1C,KAAM,GAAQ,CAAI,EAClB,UAAW,GAEX,EAA0B,GAAG,KAAiB,GAAQ,CAAI,IAO9D,GANI,IAAc,IAAM,IAAc,QAClC,IAA2B,IAAI,KAE/B,GAAU,OAAO,KAAK,CAAM,EAAE,OAAS,GACvC,GAAc,MAAQ,GAAsB,EAAQ,EAAyB,CAAgB,GAE7F,EAAW,WAAY,CACvB,GAAM,GAAwB,GAC1B,GAAA,GAAA,aAAY,EAAW,UAAU,EACjC,EACA,CAAgB,EAEpB,AAAI,GAAyB,EAAsB,OAAS,GACxD,GAAc,YAAc,GAGpC,GAAM,GAAO,OAAO,KAAK,CAAU,EAAE,OAAO,AAAC,GAAa,IAAa,eAAiB,IAAa,YAAY,EACjH,MAAI,IAAuC,EAAY,QAAQ,EAC3D,EAAc,OAAS,GAAY,EAAW,OAAQ,EAAyB,CAAgB,EAC5F,AAAI,GAA2C,EAAY,YAAY,EAC1E,EAAc,WAAa,GAAgB,EAAW,WAAY,EAAyB,CAAgB,EACxG,AAAI,EAAK,SAAW,EACvB,EAAc,MAAQ,GAClB,EAAG,EAAK,IAAM,EAAmB,EAAK,GAAG,EACzC,EACA,CAAgB,EAEb,EAAK,OAAS,GACrB,QAAQ,MAAM,gBAAgB,KAAK,UAAU,CAAU,qCAAqC,EAGzF,CACX,CA3CS,wBA6CT,YACI,EACA,EACA,EAAkC,CAElC,MAAO,GAAY,IAAI,AAAC,GAAe,GAAgB,EAAY,EAAe,CAAgB,CAAC,CACvG,CANS,yBAQT,YAA8B,EAAgB,EAA4B,CACtE,MAAO,CACH,OAAQ,EACR,YAAa,EAErB,CALS,6BAWT,YAA8B,EAAwC,EAAkC,CACpG,EACK,OAAO,AAAC,GAAmB,EAAe,cAAgB,MAAS,EACnE,QAAQ,AAAC,GAAkB,CACxB,EAAiB,KACb,GACI,EAAe,YAAY,OAC3B,GACI,GAAA,GAAA,aAAY,EAAe,UAAU,EACrC,EAAe,YAAY,OAC3B,CAAgB,CACnB,CACJ,CAET,CAAC,CACT,CAfS,6BAiBT,YAAqB,EAAwB,EAAsB,CAC/D,GAAM,GAAY,EAAU,YAAY,UAClC,EAAgC,CAAA,EAChC,EAAc,GAAiB,GAAA,GAAA,aAAY,EAAU,UAAU,EAAG,EAAa,CAAS,EACxF,EAAe,GAAkB,GAAA,GAAA,aAAY,EAAU,WAAW,EAAG,EAAa,CAAS,EAC3F,EAAkB,GAAqB,GAAA,GAAA,aAAY,EAAU,cAAc,EAAG,CAAS,EACzF,EAA6B,CAAA,EAC7B,EAA6B,CAAA,EAC7B,EAAuC,CAAA,EACvC,EAAsC,CACtC,MAAO,kBACP,mBAAoB,IAEpB,EAAuB,CAAA,EAC3B,AAAI,EAAU,iBACV,GAAa,GACT,GAAA,GAAA,aAAY,EAAU,gBAAgB,SAAS,EAC/C,EACA,EAAU,gBAAgB,YAAY,KACtC,CAAW,EAEf,EAAa,GACT,GAAA,GAAA,aAAY,EAAU,gBAAgB,SAAS,EAC/C,EACA,EAAU,gBAAgB,YAAY,KACtC,CAAW,EAEf,EAAkB,GAAqB,GAAA,GAAA,aAAY,EAAU,gBAAgB,cAAc,EAAG,CAAS,EACvG,EAAkB,CACd,MAAO,kBACP,KAAM,EAAU,gBAAgB,YAAY,KAC5C,mBAAoB,GAAG,KAAa,EAAU,gBAAgB,YAAY,QAE9E,EAAU,EAAQ,OACd,GACI,GAAA,GAAA,aAAY,EAAU,gBAAgB,cAAc,EACpD,EACA,EAAgB,kBAAkB,CACrC,GAGT,EAAU,EAAQ,OAAO,GAAa,GAAA,GAAA,aAAY,EAAU,MAAM,EAAG,CAAS,CAAC,EAC/E,EAAU,EAAQ,OAAO,GAAa,GAAA,GAAA,aAAY,EAAU,QAAQ,EAAG,EAAW,EAAI,CAAC,EACvF,GAAM,GAAe,GAAkB,GAAA,GAAA,aAAY,EAAU,WAAW,EAAG,CAAS,EAEpF,GAAqB,GAAA,GAAA,aAAY,EAAU,WAAW,EAAG,CAAW,EACpE,GAAM,GAAoD,CAAA,EAC1D,SAAc,GAAkB,EACzB,CACH,eACA,kBACA,YAAa,EACb,kBACA,UAAW,EACX,aACA,aACA,eACA,kBACA,UACA,cAER,CA7DS,oBA+DT,YAAyB,EAA8B,EAAsB,CACzE,GAAM,GAA6B,EAAW,OAAO,CAAC,EAA8B,IAEhF,CADiB,GAAA,GAAA,aAAY,EAAU,eAAe,EAC7C,QAAQ,AAAC,GAAkC,CAChD,EAAgB,KAAK,CACjB,IAAK,EAAU,YAAY,IAC3B,MAAO,EAAQ,YAAY,MAC3B,UAAW,EAAQ,YAAY,UAClC,CACL,CAAC,EACM,GACR,CAAA,CAAE,EACL,SAAQ,QAAQ,AAAC,GAAU,CACvB,AAAI,GAAU,EAAO,YAAY,OAC7B,EAAc,KAAK,CACf,IAAK,GACL,MAAO,EAAO,YAAY,MAC1B,UAAW,EAAO,YAAY,UACjC,CAET,CAAC,EACM,CACX,CAtBS,wBAwBT,GAAI,IAA0C,CAAA,EAE9C,YAAiB,EAAgC,CAC7C,GAAI,CAAC,EACD,MAAO,GAEX,GAAM,CAAC,EAAO,GAAS,EAAa,MAAM,GAAG,EACvC,EAAY,GAAa,GAC/B,GAAI,EACA,MAAO,GAAG,EAAU,aAAa,IAGjC,GAAI,EAAa,QAAQ,GAAG,IAAM,GAAI,CAClC,GAAM,CAAC,EAAU,GAAa,EAAa,MAAM,GAAG,EACpD,MAAO,GAAG,KAAY,GAAQ,CAAS,QAEvC,OAAO,EAGnB,CAjBS,gBAmBT,YAAsB,EAAoB,CACtC,GAAI,EAAQ,SAAW,EACnB,MAAO,GAAQ,GAEnB,GAAM,GAAe,EAAQ,OAAO,CAAC,EAAwC,IAClE,EAAqB,OAAO,EAAO,YAAY,EACvD,CAAA,CAAE,EACC,EAAkB,EAAQ,OAAO,CAAC,EAA8C,IAC3E,EAAwB,OAAO,EAAO,eAAe,EAC7D,CAAA,CAAE,EACC,EAAa,EAAQ,OAAO,CAAC,EAAoC,IAC5D,EAAmB,OAAO,EAAO,UAAU,EACnD,CAAA,CAAE,EACC,EAAa,EAAQ,OAAO,CAAC,EAAoC,IAC5D,EAAmB,OAAO,EAAO,UAAU,EACnD,CAAA,CAAE,EACC,EAAc,EAAQ,OAAO,CAAC,EAAsC,IAC/D,EAAoB,OAAO,EAAO,WAAW,EACrD,CAAA,CAAE,EACC,EAAU,EAAQ,OAAO,CAAC,EAA8B,IACnD,EAAgB,OAAO,EAAO,OAAO,EAC7C,CAAA,CAAE,EACC,EAAe,EAAQ,OAAO,CAAC,EAAyC,IACnE,EAAsB,OAAO,EAAO,YAAY,EACxD,CAAA,CAAE,EACC,EAAkB,EAAQ,OAAO,CAAC,EAA8C,IAC3E,EAAwB,OAAO,EAAO,eAAe,EAC7D,CAAA,CAAE,EACD,EAAgB,CAAA,EACpB,EAAQ,QAAQ,AAAC,GAAU,CACvB,EAAgB,OAAO,OAAO,EAAe,EAAO,WAAW,CACnE,CAAC,EACD,GAAI,GACA,EACJ,SAAQ,QAAQ,AAAC,GAAU,CACvB,AAAI,EAAO,iBAAmB,OAAO,KAAK,EAAO,eAAe,EAAE,OAAS,GACvE,GAAkB,EAAO,gBACzB,EAAY,EAAO,UAE3B,CAAC,EAGD,EAAW,QAAQ,AAAC,GAAa,CAC7B,GAAM,GAAa,EAAY,KAC3B,AAAC,GAAkB,EAAc,qBAAuB,EAAU,cAAc,EAEpF,GAAU,MAAV,EAAY,qBAAqB,QAAQ,AAAC,GAAgB,CACtD,GAAM,GAAqC,EACrC,EAAiB,EAAgB,KAAK,AAAC,GAAU,EAAM,cAAgB,EAAU,YAAY,EACnG,GAAI,EAAgB,CAMhB,GAAM,GAAkB,AALS,EAAe,eAAe,IAC3D,AAAC,GACU,EAAW,KAAK,AAAC,GAAiB,EAAa,OAAS,EAAe,SAAS,CAC1F,EAE4C,KAC7C,AAAC,GACG,IAAoB,KAAA,OAApB,EAAsB,sBAAuB,EAAU,kBAAkB,EAEjF,AAAI,GACA,GAAU,0BAA0B,EAAQ,MAAQ,GAGhE,CAAC,CACL,CAAC,EACD,EAAY,QAAQ,AAAC,GAAc,CAC/B,EAAW,qBAAqB,QAAQ,AAAC,GAAgB,CACrD,GAAM,GAAqC,EACrC,EAAc,EAAa,KAAK,AAAC,GAAU,EAAM,qBAAuB,EAAU,YAAY,EACpG,AAAI,GAAe,EAAY,wBAC3B,GAAU,sBAAwB,EAAY,uBAEtD,CAAC,CACL,CAAC,EACM,CACH,eACA,kBACA,YAAa,EACb,kBACA,UAAW,EACX,aACA,aACA,eACA,kBACA,UACA,cAER,CAvFS,qBAgGT,YAAsB,EAAa,EAA6B,cAAa,CACzE,GAAM,GAAqB,GAAA,GAAA,QAAO,EAAK,CAAE,QAAS,EAAI,CAAE,EAElD,EAAyB,GAAA,GAAA,aAAY,EAAQ,aAAa,qBAAqB,MAAM,EACrF,EAAa,GAAgB,GAAA,GAAA,aAAY,EAAQ,aAAa,iBAAiB,EAAG,CAAO,EAC/F,GAAe,EAAW,OAAO,CAAC,EAAgC,IAC9D,GAAI,EAAU,OAAS,EAChB,GACR,CAAA,CAAE,EAEL,GAAM,GAAgB,EAAQ,IAAI,AAAC,GACxB,GAAY,EAAQ,CAAkB,CAChD,EAQD,MAPkC,IAAI,IAAA,oBAClC,EACA,EAAQ,aAAa,YAAY,QACjC,GAAa,CAAa,EAC1B,CAAU,CAIlB,CArBgB,cAAhB,GAAA,MAAA,mGCnpCA,GAAA,IAAA,KASA,eAAyB,EAA4B,CACjD,GAAM,GAAkB,GAAI,IAAA,kBAAkB,EAAc,EAAE,EAE9D,SAAc,QAAQ,AAAC,GAA6B,CAChD,EAAgB,gBAAgB,CAAY,CAChD,CAAC,EAEM,CACX,CARgB,cAAhB,GAAA,MAAA,4GCTA,GAAA,IAAA,KAAS,OAAA,eAAA,GAAA,QAAA,CAAA,WAAA,GAAA,IAAA,UAAA,CAAA,MAAA,IAAA,KAAK,CAAA,CAAA,EACd,GAAA,IAAA,KAAS,OAAA,eAAA,GAAA,QAAA,CAAA,WAAA,GAAA,IAAA,UAAA,CAAA,MAAA,IAAA,KAAK,CAAA,CAAA,ICDd,oBAIA,GAAI,IAAa,EACX,GAAsB,gBAE5B,aAAe,CACd,MAAO,MAAQ,GAAI,MAAK,EAAE,QAAQ,EAAI,IAAM,IAC7C,CAFS,YAIT,YAAoC,EAAgB,CACnD,MAAI,IAAkB,EAAe,QAAQ,YAAY,EAAI,GAC5D,IAAkB,cAEZ,CACR,CALS,mCAOT,YAA0B,EAAU,CACnC,GAAM,GAAe,EAAS,WAC9B,GAAI,EAAc,CACjB,GAAI,EAAa,aAChB,MAAO,GAAa,aAGrB,GAAI,EAAa,cAChB,MAAO,IAA2B,EAAa,aAAa,CAE9D,CAEA,GAAM,GAAS,EAAS,WACxB,GAAI,CAAC,GAAU,CAAC,EAAO,GACtB,KAAM,OAAM,gCAAgC,EAE7C,MAAO,GAAO,EACf,CAjBS,yBAmBT,YAAuB,EAAU,CAChC,GAAM,GAAS,EAAS,WACxB,GAAI,CAAC,GAAU,CAAC,EAAO,oBAAsB,CAAC,EAAO,mBAAmB,QACvE,KAAM,OAAM,qCAAqC,EAElD,MAAO,GAAO,mBAAmB,OAClC,CANS,sBAQT,YAAsB,EAAU,EAAW,CAC1C,MACC,IACA,EAAS,YACT,EAAS,WAAW,gBACpB,CAAC,4BAA6B,2BAA2B,EAAE,SAAS,EAAS,WAAW,eAAe,EAAE,EAElG,EAGD,EACR,CAXS,qBAaT,YAAsB,EAAa,CAClC,MAAO,MAAK,UAAU,CACrB,SAAU,EAAY,IAAM,GAAI,EAAE,QAAQ,KAAM,GAAG,EAAI,IAAM,EAAY,KACzE,SAAU,SACV,WAAY,EAAY,KACxB,WAAY,GACZ,UAAW,EAAY,UACvB,YAAa,GACb,QAAS,EAAY,SAAW,CAAC,EACjC,SAAU,CACT,GAAI,EAAY,UAChB,UAAW,GACX,KAAM,EAAY,WACnB,EACA,MAAO,EAAY,WAAa,gBAAkB,SAClD,MAAO,CAAC,EACR,UAAW,QAAU,EAAY,UAAU,QAAQ,aAAc,EAAE,EAAI,YACvE,UAAW,EAAY,UACvB,SAAU,EAAY,UAAY,GAAI,MAAK,EAAE,QAAQ,EACrD,iBAAkB,GAClB,QAAS,CACR,UAAW,GAAsB,EAAY,aAC7C,QAAS,GACT,KAAM,GACN,cAAe,EAAY,cAC3B,qBAAsB,GACtB,iBAAkB,EACnB,EACA,iBAAkB,CAAC,EACnB,kBAAmB,CAAC,EACpB,iBAAkB,CACjB,KAAM,EAAY,WAClB,GAAI,EAAY,WAChB,SAAU,EAAY,UAEvB,EACA,OAAQ,GACR,iBAAkB,GAClB,oBAAqB,EACtB,CAAC,CACF,CAxCS,qBA0ET,GAAO,QAAU,CAShB,MAAO,SAAS,EAAc,CAC7B,GAAM,GAAS,KAAK,MAAM,CAAY,EAEtC,GACC,CAAC,EAAO,UACR,CAAC,EAAO,YACR,CAAC,EAAO,UACR,CAAC,EAAO,WACR,CAAC,EAAO,UACR,CAAC,EAAO,SACR,CAAC,EAAO,OACR,CAAC,EAAO,QAER,KAAM,OAAM,wDAAwD,EAGrE,MAAO,CACN,GAAI,EAAO,SACX,UAAW,EAAO,UAClB,WAAY,EAAO,iBAAmB,EAAO,iBAAiB,SAAW,GACzE,SAAU,EAAO,SACjB,UAAW,EAAO,UAClB,KAAM,EAAO,WACb,UAAW,EAAO,SAAS,GAC3B,YAAa,EAAO,SAAS,KAC7B,WAAY,EAAO,QAAU,gBAC7B,aAAc,EAAO,QAAQ,UAAU,QAAQ,GAAqB,EAAE,EACtE,QAAS,EAAO,QAChB,cAAe,EAAO,QAAQ,aAC/B,CACD,EAUA,mBAAoB,SAAU,EAAa,EAAU,CACpD,GACC,CAAC,EAAY,MACb,CAAC,EAAY,WACX,MAAO,GAAY,YAAe,WACpC,CAAC,EAAY,aAEb,KAAM,OAAM,yDAAyD,EAGtE,GAAI,CAAC,EACJ,KAAM,OAAM,0BAA0B,EAGvC,SAAY,UAAY,GAAiB,CAAQ,EACjD,EAAY,WAAa,GAAc,CAAQ,EAC/C,EAAY,UAAY,GAAa,EAAU,EAAY,SAAS,EAE7D,GAAa,CAAW,CAChC,EASA,SAAU,SAAS,EAAa,CAC/B,GACC,CAAC,EAAY,MACb,CAAC,EAAY,WACX,MAAO,GAAY,YAAe,WACpC,CAAC,EAAY,cACb,CAAE,GAAY,WAAa,EAAY,YAEvC,KAAM,OAAM,gDAAgD,EAG7D,MAAO,IAAa,CAAW,CAChC,CACD,IC9NA,oBAKA,GAAO,QAAU,CAKhB,OAAQ,IACT,ICXA,4BA0BA,GAAI,IAAc,sBACd,GAAiB,OAAO,UAAU,eAClC,GAAS,WAAU,EAAK,EAAK,CAAE,MAAO,IAAe,MAAM,EAAK,CAAC,CAAG,CAAC,CAAG,EAA/D,UAYb,GAAQ,kBAAoB,SAAU,EAAQ,CAE5C,MAAK,GAGE,OAAO,CAAM,EAAE,QAAQ,GAAa,MAAM,EAFxC,EAGX,EAEA,GAAI,IAAqB,CACvB,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,QACL,IAAK,OACP,EACI,GAAc,WAElB,YAAqB,EAAG,CACtB,MAAO,IAAmB,IAAM,CAClC,CAFS,oBAaT,GAAI,IACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAwBF,GAAQ,UAAY,SAAU,EAAQ,CACpC,MAAO,IAAU,KACb,GACA,OAAO,CAAM,EACZ,QAAQ,GAAa,EAAW,CACvC,EACA,GAAQ,UAAU,SAAW,UAAY,CACvC,MAAO,UAAS,UAAU,SAAS,KAAK,IAAI,EAAI;AAAA,EAAQ,EAC1D,EAaA,GAAQ,YAAc,SAAU,EAAI,EAAM,CAExC,GADA,EAAO,GAAQ,CAAC,EACX,GAAO,KACV,OAAS,KAAK,GACZ,AAAI,CAAC,GAAO,EAAM,CAAC,GAGf,IAAM,aAAe,IAAM,eAG/B,GAAG,GAAK,EAAK,IAGjB,MAAO,EACT,EAcA,GAAQ,oBAAsB,SAAU,EAAI,EAAM,EAAM,CAGtD,GAFA,EAAO,GAAQ,CAAC,EAChB,EAAO,GAAQ,CAAC,EACX,GAAO,KACV,OAAS,GAAI,EAAG,EAAI,EAAK,OAAQ,IAAK,CACpC,GAAI,GAAI,EAAK,GACb,GAAI,MAAO,GAAK,GAAM,IAAa,CAIjC,GAHI,CAAC,GAAO,EAAM,CAAC,GAGf,IAAM,aAAe,IAAM,cAC7B,SAEF,EAAG,GAAK,EAAK,EACf,CACF,CAEF,MAAO,EACT,EAUA,GAAQ,MAAQ,CACd,MAAO,CAAC,EACR,IAAK,SAAU,EAAK,EAAK,CACvB,KAAK,MAAM,GAAO,CACpB,EACA,IAAK,SAAU,EAAK,CAClB,MAAO,MAAK,MAAM,EACpB,EACA,OAAQ,SAAU,EAAK,CACrB,MAAO,MAAK,MAAM,EACpB,EACA,MAAO,UAAY,CACjB,KAAK,MAAQ,CAAC,CAChB,CACF,EAUA,GAAQ,cAAgB,SAAU,EAAK,CACrC,MAAO,GAAI,QAAQ,UAAW,SAAU,EAAO,CAAE,MAAO,GAAM,GAAG,YAAY,CAAG,CAAC,CACnF,EASA,GAAQ,gCAAmC,UAAY,CACrD,MAAI,OAAO,QAAO,QAAU,WACnB,UAAY,CACjB,MAAO,QAAO,OAAO,IAAI,CAC3B,EAEI,CAAC,UAAW,IAAI,WAAa,QAM5B,UAAY,CACjB,MAAO,CAAC,CACV,EAPS,UAAY,CACjB,MAAO,CAAC,UAAW,IAAI,CACzB,CAMJ,EAAG,wrBC9NH,4BAoBA,AA2BA,GAAI,IAAK,QAAQ,MACb,GAAO,QAAQ,QACf,GAAQ,KAER,GAAoB,GAEpB,GAAkB,KAA2B,QAC7C,GAA0B,IAC1B,GAA2B,IAC3B,GAAqB,IACrB,GAAuB,SACvB,GAAQ,MACR,GAAgB,0CAChB,GAA2B,CAAC,YAAa,QAAS,UAAW,QAAS,eACxE,SAAU,QAAS,eAAgB,SAAU,WAAY,OAAO,EAI9D,GAAmC,GAAyB,OAAO,OAAO,EAC1E,GAAO,UACP,GAAiB,6BAUrB,GAAQ,MAAQ,GAAM,MAStB,GAAQ,WAAa,GAAG,aAYxB,GAAQ,WAAa,GAUrB,GAAQ,YAAe,GAAI,UAAS,cAAc,EAAG,EAAE,QAWvD,GAAQ,eAAiB,SAAS,EAAM,EAAU,EAAO,CACvD,GAAI,GAAU,GAAK,QACf,EAAU,GAAK,QACf,EAAU,GAAK,QACf,EAAc,EAAQ,EAAQ,EAAW,EAAQ,CAAQ,EAAG,CAAI,EAChE,EAAM,EAAQ,CAAI,EACtB,MAAK,IACH,IAAe,QAEV,CACT,EASA,YAAsB,EAAM,EAAO,CACjC,GAAI,GACJ,GAAI,EAAM,KAAK,SAAU,EAAG,CAC1B,SAAW,GAAQ,eAAe,EAAM,EAAG,EAAI,EACxC,GAAG,WAAW,CAAQ,CAC/B,CAAC,EACC,MAAO,EAEX,CARS,qBAiBT,YAAwB,EAAM,EAAS,CACrC,GAAI,GACA,EACA,EAAQ,EAAQ,MAChB,EAAQ,oBAAoB,KAAK,CAAI,EAGzC,GAAI,GAAS,EAAM,OACjB,EAAO,EAAK,QAAQ,OAAQ,EAAE,EAC9B,AAAI,MAAM,QAAQ,EAAQ,IAAI,EAC5B,EAAc,GAAa,EAAM,EAAQ,IAAI,EAE7C,EAAc,GAAQ,eAAe,EAAM,EAAQ,MAAQ,IAAK,EAAI,UAMlE,EAAQ,UACV,GAAW,GAAQ,eAAe,EAAM,EAAQ,QAAQ,EACpD,GAAG,WAAW,CAAQ,GACxB,GAAc,IAId,CAAC,GAAe,MAAM,QAAQ,CAAK,GACrC,GAAc,GAAa,EAAM,CAAK,GAEpC,CAAC,GAAe,MAAO,GAAQ,UAAa,WAC9C,KAAM,IAAI,OAAM,oCACZ,EAAQ,eAAe,CAAI,EAAI,GAAG,EAG1C,MAAO,EACT,CAlCS,uBAsDT,YAAqB,EAAS,EAAU,CACtC,GAAI,GACA,EAAW,EAAQ,SACnB,EAAc,UAAU,OAAS,EAErC,GAAI,EAAQ,MAAO,CACjB,GAAI,CAAC,EACH,KAAM,IAAI,OAAM,kCAAkC,EAGpD,GADA,EAAO,GAAQ,MAAM,IAAI,CAAQ,EAC7B,EACF,MAAO,GAET,AAAK,GACH,GAAW,GAAW,CAAQ,EAAE,SAAS,EAAE,QAAQ,GAAM,EAAE,EAE/D,SACS,CAAC,EAAa,CAErB,GAAI,CAAC,EACH,KAAM,IAAI,OAAM,uDACU,EAE5B,EAAW,GAAW,CAAQ,EAAE,SAAS,EAAE,QAAQ,GAAM,EAAE,CAC7D,CACA,SAAO,GAAQ,QAAQ,EAAU,CAAO,EACpC,EAAQ,OACV,GAAQ,MAAM,IAAI,EAAU,CAAI,EAE3B,CACT,CA9BS,oBA4CT,YAAwB,EAAS,EAAM,EAAI,CACzC,GAAI,GACJ,GAAK,EAgBA,CACH,GAAI,CACF,EAAS,GAAY,CAAO,EAAE,CAAI,CACpC,OACO,EAAP,CACE,MAAO,GAAG,CAAG,CACf,CAEA,EAAG,KAAM,CAAM,CACjB,KAzBS,CACP,GAAI,MAAO,IAAQ,aAAe,WAChC,MAAO,IAAI,IAAQ,YAAY,SAAU,EAAS,EAAQ,CACxD,GAAI,CACF,EAAS,GAAY,CAAO,EAAE,CAAI,EAClC,EAAQ,CAAM,CAChB,OACO,EAAP,CACE,EAAO,CAAG,CACZ,CACF,CAAC,EAGD,KAAM,IAAI,OAAM,oCAAoC,CAExD,CAWF,CA5BS,uBAsCT,YAAoB,EAAS,CAC3B,MAAO,IAAQ,WAAW,CAAQ,CACpC,CAFS,mBAiBT,YAAqB,EAAM,EAAS,CAClC,GAAI,GAAO,GAAM,YAAY,GAAM,gCAAgC,EAAG,CAAO,EAE7E,GADA,EAAK,SAAW,GAAe,EAAM,CAAI,EACrC,MAAO,GAAQ,UAAa,WAAY,CAC1C,GAAI,GAAiB,EAAQ,SAAS,EAAM,EAAK,QAAQ,EACzD,GAAI,GACE,GAAe,UACjB,GAAK,SAAW,EAAe,UAE7B,EAAe,UACjB,MAAO,IAAY,EAAM,EAAe,QAAQ,CAGtD,CACA,MAAO,IAAY,CAAI,CACzB,CAfS,oBA+BT,YAAiB,EAAK,EAAK,EAAM,EAAQ,EAAK,CAC5C,GAAI,GAAQ,EAAI,MAAM;AAAA,CAAI,EACtB,EAAQ,KAAK,IAAI,EAAS,EAAG,CAAC,EAC9B,EAAM,KAAK,IAAI,EAAM,OAAQ,EAAS,CAAC,EACvC,EAAW,EAAI,CAAI,EAEnB,EAAU,EAAM,MAAM,EAAO,CAAG,EAAE,IAAI,SAAU,EAAM,EAAE,CAC1D,GAAI,GAAO,EAAI,EAAQ,EACvB,MAAQ,IAAQ,EAAS,OAAS,QAC9B,EACA,KACA,CACN,CAAC,EAAE,KAAK;AAAA,CAAI,EAGZ,QAAI,KAAO,EACX,EAAI,QAAW,IAAY,OAAS,IAChC,EAAS;AAAA,EACT,EAAU;AAAA;AAAA,EACV,EAAI,QAEF,CACR,CAtBS,gBAwBT,YAAmB,EAAI,CACrB,MAAO,GAAI,QAAQ,UAAW,IAAI,CACpC,CAFS,kBAiBT,GAAQ,QAAU,WAAiB,EAAU,EAAM,CACjD,GAAI,GAKJ,MAAI,IAAQ,EAAK,OACV,KACH,SAAQ,KAAK,2DAA2D,EACxE,GAAoB,IAEjB,EAAK,SACR,GAAK,QAAU,EAAK,OAEtB,MAAO,GAAK,OAEd,EAAQ,GAAI,IAAS,EAAU,CAAI,EAC5B,EAAM,QAAQ,CACvB,EAlBkB,WAkClB,GAAQ,OAAS,SAAU,EAAU,EAAG,EAAG,CACzC,GAAI,GAAO,GAAK,GAAM,gCAAgC,EAClD,EAAO,GAAK,GAAM,gCAAgC,EAItD,MAAI,WAAU,QAAU,GACtB,GAAM,oBAAoB,EAAM,EAAM,EAAwB,EAGzD,GAAY,EAAM,CAAQ,EAAE,CAAI,CACzC,EAeA,GAAQ,WAAa,UAAY,CAC/B,GAAI,GAAO,MAAM,UAAU,MAAM,KAAK,SAAS,EAC3C,EAAW,EAAK,MAAM,EACtB,EACA,EAAO,CAAC,SAAU,CAAQ,EAC1B,EACA,EAGJ,MAAI,OAAO,WAAU,UAAU,OAAS,IAAM,YAC5C,GAAK,EAAK,IAAI,GAGhB,AAAI,EAAK,OAEP,GAAO,EAAK,MAAM,EAElB,AAAI,EAAK,OAEP,GAAM,YAAY,EAAM,EAAK,IAAI,CAAC,EAK9B,GAAK,UAEH,GAAK,SAAS,OAChB,GAAK,MAAQ,EAAK,SAAS,OAEzB,EAAK,SAAS,eAChB,GAAK,MAAQ,IAIf,EAAW,EAAK,SAAS,gBACrB,GACF,GAAM,YAAY,EAAM,CAAQ,GAMpC,GAAM,oBAAoB,EAAM,EAAM,EAAgC,GAExE,EAAK,SAAW,GAGhB,EAAO,GAAM,gCAAgC,EAGxC,GAAe,EAAM,EAAM,CAAE,CACtC,EAWA,GAAQ,SAAW,GAEnB,GAAQ,WAAa,UAAY,CAC/B,GAAQ,MAAM,MAAM,CACtB,EAEA,YAAkB,EAAM,EAAM,CAC5B,EAAO,GAAQ,GAAM,gCAAgC,EACrD,GAAI,GAAU,GAAM,gCAAgC,EACpD,KAAK,aAAe,EAEpB,KAAK,KAAO,KACZ,KAAK,SAAW,GAChB,KAAK,YAAc,EACnB,KAAK,OAAS,GACd,EAAQ,OAAS,EAAK,QAAU,GAChC,EAAQ,eAAiB,EAAK,QAAU,EAAK,gBAAkB,GAAM,UACrE,EAAQ,aAAe,EAAK,eAAiB,GAC7C,EAAQ,MAAQ,CAAC,CAAC,EAAK,MACvB,EAAQ,SAAW,EAAK,SACxB,EAAQ,cAAgB,EAAK,eAAiB,GAAQ,eAAiB,GACvE,EAAQ,eAAiB,EAAK,gBAAkB,GAAQ,gBAAkB,GAC1E,EAAQ,UAAY,EAAK,WAAa,GAAQ,WAAa,GAC3D,EAAQ,OAAS,EAAK,QAAU,GAChC,EAAQ,QAAU,EAAK,QACvB,EAAQ,MAAQ,EAAK,OAAS,GAC9B,EAAQ,aAAe,EAAK,aAC5B,EAAQ,KAAO,EAAK,KACpB,EAAQ,SAAW,EAAK,SACxB,EAAQ,mBAAqB,EAAK,mBAClC,EAAQ,WAAa,EAAK,YAAc,GAAQ,YAAc,GAC9D,EAAQ,MAAQ,EAAK,MACrB,EAAQ,MAAQ,EAAK,MACrB,EAAQ,mBAAqB,EAAK,mBAClC,EAAQ,cAAgB,MAAO,GAAK,cAAiB,IAAc,CAAC,CAAC,EAAK,cAAgB,GAE1F,AAAI,EAAQ,OACV,EAAQ,MAAQ,GAGhB,EAAQ,MAAQ,MAAO,GAAK,MAAS,IAAc,EAAK,MAAQ,GAGlE,KAAK,KAAO,EAEZ,KAAK,MAAQ,KAAK,YAAY,CAChC,CAxCS,iBA0CT,GAAS,MAAQ,CACf,KAAM,OACN,QAAS,UACT,IAAK,MACL,QAAS,UACT,QAAS,SACX,EAEA,GAAS,UAAY,CACnB,YAAa,UAAY,CACvB,GAAI,GAAM,GACN,EAAQ,GAAM,kBAAkB,KAAK,KAAK,SAAS,EACnD,EAAO,GAAM,kBAAkB,KAAK,KAAK,aAAa,EACtD,EAAQ,GAAM,kBAAkB,KAAK,KAAK,cAAc,EAC5D,SAAM,EAAI,QAAQ,KAAM,CAAK,EAC1B,QAAQ,KAAM,CAAI,EAClB,QAAQ,KAAM,CAAK,EACf,GAAI,QAAO,CAAG,CACvB,EAEA,QAAS,UAAY,CAEnB,GAAI,GAEA,EACA,EAAO,KAAK,KACZ,EAAY,GACZ,EAAW,GAEX,EAAW,EAAK,eAEhB,EAEA,EAAoB,EAAK,SAAW,KAAK,UAAU,EAAK,QAAQ,EAAI,YAExE,GAAI,CAAC,KAAK,OAAQ,CAKhB,GAJA,KAAK,eAAe,EACpB,GACE;AAAA;AAAA,EAEE,EAAK,mBAAoB,CAC3B,GAAI,CAAC,GAAe,KAAK,EAAK,kBAAkB,EAC9C,KAAM,IAAI,OAAM,kDAAkD,EAEpE,GAAa,SAAW,EAAK,mBAAqB;AAAA,CACpD,CACA,GAAI,EAAK,YAAc,CAAC,GAAe,KAAK,EAAK,UAAU,EACzD,KAAM,IAAI,OAAM,0CAA0C,EAE5D,GAAI,EAAK,oBAAsB,EAAK,mBAAmB,OAAQ,CAE7D,OADI,GAAgB,qBAAuB,EAAK,WAAa;AAAA,EACpD,EAAI,EAAG,EAAI,EAAK,mBAAmB,OAAQ,IAAK,CACvD,GAAI,GAAO,EAAK,mBAAmB,GACnC,GAAI,CAAC,GAAe,KAAK,CAAI,EAC3B,KAAM,IAAI,OAAM,sBAAwB,EAAI,iCAAiC,EAE/E,AAAI,EAAI,GACN,IAAiB;AAAA,KAEnB,GAAiB,EAAO,eAAiB,CAC3C,CACA,GAAa,EAAgB;AAAA,CAC/B,CACA,AAAI,EAAK,QAAU,IACjB,IAAc,WAAa,EAAK,WAAa;AAAA,EAC7C,GAAY;AAAA,GAEd,GAAY;AAAA,EACZ,KAAK,OAAS,EAAY,KAAK,OAAS,CAC1C,CAEA,AAAI,EAAK,aACP,EAAM;AAAA,gBACiB,KAAK,UAAU,KAAK,YAAY,EAAI;AAAA,mBACjC,EAAoB;AAAA;AAAA,EAE1C,KAAK,OACL;AAAA;AAAA;AAAA,EAKJ,EAAM,KAAK,OAGT,EAAK,QACP,GAAM,0BAA4B,EAAS,SAAS,EAAI;AAAA,EAAa,EACjE,EAAK,cACP,GAAM,wBAA0B,GAAQ,SAAS,EAAI;AAAA,EAAa,IAIlE,EAAK,QACP,GAAM;AAAA,EAAoB,GAExB,EAAK,OACP,QAAQ,IAAI,CAAG,EAEb,EAAK,cAAgB,EAAK,UAC5B,GAAM,EAAM;AAAA,gBACW,EAAoB;AAAA,GAG7C,GAAI,CACF,GAAI,EAAK,MAGP,GAAI,CACF,EAAQ,GAAI,UAAS,0CAA0C,EAAG,CACpE,OACM,EAAN,CACE,KAAI,aAAa,aACT,GAAI,OAAM,+CAA+C,EAGzD,CAEV,KAGA,GAAO,SAET,EAAK,GAAI,GAAK,EAAK,WAAa,+BAAgC,CAAG,CACrE,OACM,EAAN,CAEE,KAAI,aAAa,cACX,GAAK,UACP,GAAE,SAAW,OAAS,EAAK,UAE7B,EAAE,SAAW;AAAA;AAAA,EACb,EAAE,SAAW;AAAA,EACb,EAAE,SAAW,sCACR,EAAK,OACR,GAAE,SAAW;AAAA,EACb,EAAE,SAAW,mFAGX,CACR,CAKA,GAAI,GAAa,EAAK,OAAS,EAAK,WAAmB,EAAM,CAC3D,GAAI,GAAU,WAAU,EAAM,EAAa,CACzC,GAAI,GAAI,GAAM,YAAY,GAAM,gCAAgC,EAAG,CAAI,EACvE,MAAI,IACF,GAAI,GAAM,YAAY,EAAG,CAAW,GAE/B,GAAY,EAAM,CAAI,EAAE,CAAC,CAClC,EANc,WAOd,MAAO,GAAG,MAAM,EAAK,QACnB,CAAC,GAAQ,GAAM,gCAAgC,EAAG,EAAU,EAAS,EAAO,CAAC,CACjF,EAVoC,aAWpC,GAAI,EAAK,UAAY,MAAO,QAAO,gBAAmB,WAAY,CAChE,GAAI,GAAW,EAAK,SAChB,EAAW,GAAK,SAAS,EAAU,GAAK,QAAQ,CAAQ,CAAC,EAC7D,GAAI,CACF,OAAO,eAAe,EAAY,OAAQ,CACxC,MAAO,EACP,SAAU,GACV,WAAY,GACZ,aAAc,EAChB,CAAC,CACH,MAAE,CAAuB,CAC3B,CACA,MAAO,EACT,EAEA,eAAgB,UAAY,CAC1B,GAAI,GAAO,KAAK,KAEhB,AAAI,EAAK,cAGP,MAAK,aACH,KAAK,aAAa,QAAQ,WAAY;AAAA,CAAI,EAAE,QAAQ,cAAe,EAAE,GAIzE,KAAK,aACH,KAAK,aAAa,QAAQ,cAAe,KAAK,EAAE,QAAQ,cAAe,KAAK,EAE9E,GAAI,GAAO,KACP,EAAU,KAAK,kBAAkB,EACjC,EAAI,KAAK,KAAK,UACd,EAAI,KAAK,KAAK,cACd,EAAI,KAAK,KAAK,eAElB,AAAI,GAAW,EAAQ,QACrB,EAAQ,QAAQ,SAAU,EAAM,EAAO,CACrC,GAAI,GAKJ,GAAK,EAAK,QAAQ,EAAI,CAAC,IAAM,GACxB,EAAK,QAAQ,EAAI,EAAI,CAAC,IAAM,GAC/B,GAAU,EAAQ,EAAQ,GACtB,CAAE,IAAW,EAAI,GAAK,GAAW,IAAM,EAAI,GAAK,GAAW,IAAM,EAAI,IACvE,KAAM,IAAI,OAAM,0CAA4C,EAAO,IAAI,EAG3E,EAAK,SAAS,CAAI,CACpB,CAAC,CAGL,EAEA,kBAAmB,UAAY,CAO7B,OANI,GAAM,KAAK,aACX,EAAM,KAAK,MACX,EAAS,EAAI,KAAK,CAAG,EACrB,EAAM,CAAC,EACP,EAEG,GACL,EAAW,EAAO,MAEd,IAAa,GACf,GAAI,KAAK,EAAI,UAAU,EAAG,CAAQ,CAAC,EACnC,EAAM,EAAI,MAAM,CAAQ,GAG1B,EAAI,KAAK,EAAO,EAAE,EAClB,EAAM,EAAI,MAAM,EAAO,GAAG,MAAM,EAChC,EAAS,EAAI,KAAK,CAAG,EAGvB,MAAI,IACF,EAAI,KAAK,CAAG,EAGP,CACT,EAEA,WAAY,SAAU,EAAM,CAU1B,GATI,KAAK,UAMP,GAAO,EAAK,QAAQ,kBAAmB,EAAE,EACzC,KAAK,SAAW,IAEd,CAAC,EACH,MAAO,GAIT,EAAO,EAAK,QAAQ,MAAO,MAAM,EAGjC,EAAO,EAAK,QAAQ,MAAO,KAAK,EAChC,EAAO,EAAK,QAAQ,MAAO,KAAK,EAIhC,EAAO,EAAK,QAAQ,KAAM,KAAK,EAC/B,KAAK,QAAU,mBAAqB,EAAO;AAAA,CAC7C,EAEA,SAAU,SAAU,EAAM,CACxB,GAAI,GAAO,KACP,EAAI,KAAK,KAAK,UACd,EAAI,KAAK,KAAK,cACd,EAAI,KAAK,KAAK,eACd,EAAe,EAInB,OAFA,EAAgB,EAAK,MAAM;AAAA,CAAI,EAAE,OAAS,EAElC,OACH,GAAI,MACJ,GAAI,EAAI,IACX,KAAK,KAAO,GAAS,MAAM,KAC3B,UACG,GAAI,EAAI,IACX,KAAK,KAAO,GAAS,MAAM,QAC3B,UACG,GAAI,EAAI,IACX,KAAK,KAAO,GAAS,MAAM,IAC3B,UACG,GAAI,EAAI,IACX,KAAK,KAAO,GAAS,MAAM,QAC3B,UACG,GAAI,EAAI,EACX,KAAK,KAAO,GAAS,MAAM,QAC3B,KAAK,QAAU,mBAAqB,EAAK,QAAQ,EAAI,EAAI,EAAG,EAAI,CAAC,EAAI;AAAA,EACrE,UACG,GAAI,EAAI,EACX,KAAK,KAAO,GAAS,MAAM,QAC3B,KAAK,QAAU,mBAAqB,EAAK,QAAQ,EAAI,EAAI,EAAG,EAAI,CAAC,EAAI;AAAA,EACrE,UACG,GAAI,MACJ,IAAM,EAAI,MACV,IAAM,EAAI,EACb,AAAI,KAAK,MAAQ,GAAS,MAAM,SAC9B,KAAK,WAAW,CAAI,EAGtB,KAAK,KAAO,KACZ,KAAK,SAAW,EAAK,QAAQ,GAAG,IAAM,GAAK,EAAK,QAAQ,GAAG,IAAM,EACjE,cAGA,GAAI,KAAK,KAAM,CAEb,OAAQ,KAAK,UACR,IAAS,MAAM,SACf,IAAS,MAAM,YACf,IAAS,MAAM,IAClB,AAAI,EAAK,YAAY,IAAI,EAAI,EAAK,YAAY;AAAA,CAAI,GAChD,IAAQ;AAAA,GAGZ,OAAQ,KAAK,UAER,IAAS,MAAM,KAClB,KAAK,QAAU,SAAW,EAAO;AAAA,EACjC,UAEG,IAAS,MAAM,QAClB,KAAK,QAAU,2BAA6B,GAAU,CAAI,EAAI;AAAA,EAC9D,UAEG,IAAS,MAAM,IAClB,KAAK,QAAU,kBAAoB,GAAU,CAAI,EAAI;AAAA,EACrD,UACG,IAAS,MAAM,QAElB,UAEG,IAAS,MAAM,QAClB,KAAK,WAAW,CAAI,EACpB,MAEJ,KAGE,MAAK,WAAW,CAAI,EAIxB,AAAI,EAAK,KAAK,cAAgB,GAC5B,MAAK,aAAe,EACpB,KAAK,QAAU,kBAAoB,KAAK,YAAc;AAAA,EAE1D,CACF,EAcA,GAAQ,UAAY,GAAM,UAW1B,GAAQ,UAAY,GAAQ,WAU5B,GAAQ,QAAU,GAUlB,GAAQ,KAAO,GAGf,AAAI,MAAO,QAAU,KACnB,QAAO,IAAM,MCr7Bf,oBAUA,GAAI,IAAkB,sBAGlB,GAAiB,4BAGjB,GAAW,IAGX,GAAU,oBACV,GAAS,6BACT,GAAY,kBAGZ,GAAe,mDACf,GAAgB,QAChB,GAAe,MACf,GAAa,mGAMb,GAAe,sBAGf,GAAe,WAGf,GAAe,8BAGf,GAAa,MAAO,SAAU,UAAY,QAAU,OAAO,SAAW,QAAU,OAGhF,GAAW,MAAO,OAAQ,UAAY,MAAQ,KAAK,SAAW,QAAU,KAGxE,GAAO,IAAc,IAAY,SAAS,aAAa,EAAE,EAU7D,YAAkB,EAAQ,EAAK,CAC7B,MAAO,IAAU,KAAO,OAAY,EAAO,EAC7C,CAFS,iBAWT,YAAsB,EAAO,CAG3B,GAAI,GAAS,GACb,GAAI,GAAS,MAAQ,MAAO,GAAM,UAAY,WAC5C,GAAI,CACF,EAAS,CAAC,CAAE,GAAQ,GACtB,MAAE,CAAW,CAEf,MAAO,EACT,CAVS,qBAaT,GAAI,IAAa,MAAM,UACnB,GAAY,SAAS,UACrB,GAAc,OAAO,UAGrB,GAAa,GAAK,sBAGlB,GAAc,UAAW,CAC3B,GAAI,GAAM,SAAS,KAAK,IAAc,GAAW,MAAQ,GAAW,KAAK,UAAY,EAAE,EACvF,MAAO,GAAO,iBAAmB,EAAO,EAC1C,EAAE,EAGE,GAAe,GAAU,SAGzB,GAAiB,GAAY,eAO7B,GAAiB,GAAY,SAG7B,GAAa,OAAO,IACtB,GAAa,KAAK,EAAc,EAAE,QAAQ,GAAc,MAAM,EAC7D,QAAQ,yDAA0D,OAAO,EAAI,GAChF,EAGI,GAAS,GAAK,OACd,GAAS,GAAW,OAGpB,GAAM,GAAU,GAAM,KAAK,EAC3B,GAAe,GAAU,OAAQ,QAAQ,EAGzC,GAAc,GAAS,GAAO,UAAY,OAC1C,GAAiB,GAAc,GAAY,SAAW,OAS1D,YAAc,EAAS,CACrB,GAAI,GAAQ,GACR,EAAS,EAAU,EAAQ,OAAS,EAGxC,IADA,KAAK,MAAM,EACJ,EAAE,EAAQ,GAAQ,CACvB,GAAI,GAAQ,EAAQ,GACpB,KAAK,IAAI,EAAM,GAAI,EAAM,EAAE,CAC7B,CACF,CATS,aAkBT,aAAqB,CACnB,KAAK,SAAW,GAAe,GAAa,IAAI,EAAI,CAAC,CACvD,CAFS,kBAcT,YAAoB,EAAK,CACvB,MAAO,MAAK,IAAI,CAAG,GAAK,MAAO,MAAK,SAAS,EAC/C,CAFS,mBAaT,YAAiB,EAAK,CACpB,GAAI,GAAO,KAAK,SAChB,GAAI,GAAc,CAChB,GAAI,GAAS,EAAK,GAClB,MAAO,KAAW,GAAiB,OAAY,CACjD,CACA,MAAO,IAAe,KAAK,EAAM,CAAG,EAAI,EAAK,GAAO,MACtD,CAPS,gBAkBT,YAAiB,EAAK,CACpB,GAAI,GAAO,KAAK,SAChB,MAAO,IAAe,EAAK,KAAS,OAAY,GAAe,KAAK,EAAM,CAAG,CAC/E,CAHS,gBAeT,YAAiB,EAAK,EAAO,CAC3B,GAAI,GAAO,KAAK,SAChB,SAAK,GAAQ,IAAgB,IAAU,OAAa,GAAiB,EAC9D,IACT,CAJS,gBAOT,GAAK,UAAU,MAAQ,GACvB,GAAK,UAAU,OAAY,GAC3B,GAAK,UAAU,IAAM,GACrB,GAAK,UAAU,IAAM,GACrB,GAAK,UAAU,IAAM,GASrB,YAAmB,EAAS,CAC1B,GAAI,GAAQ,GACR,EAAS,EAAU,EAAQ,OAAS,EAGxC,IADA,KAAK,MAAM,EACJ,EAAE,EAAQ,GAAQ,CACvB,GAAI,GAAQ,EAAQ,GACpB,KAAK,IAAI,EAAM,GAAI,EAAM,EAAE,CAC7B,CACF,CATS,kBAkBT,aAA0B,CACxB,KAAK,SAAW,CAAC,CACnB,CAFS,uBAaT,YAAyB,EAAK,CAC5B,GAAI,GAAO,KAAK,SACZ,EAAQ,GAAa,EAAM,CAAG,EAElC,GAAI,EAAQ,EACV,MAAO,GAET,GAAI,GAAY,EAAK,OAAS,EAC9B,MAAI,IAAS,EACX,EAAK,IAAI,EAET,GAAO,KAAK,EAAM,EAAO,CAAC,EAErB,EACT,CAdS,wBAyBT,YAAsB,EAAK,CACzB,GAAI,GAAO,KAAK,SACZ,EAAQ,GAAa,EAAM,CAAG,EAElC,MAAO,GAAQ,EAAI,OAAY,EAAK,GAAO,EAC7C,CALS,qBAgBT,YAAsB,EAAK,CACzB,MAAO,IAAa,KAAK,SAAU,CAAG,EAAI,EAC5C,CAFS,qBAcT,YAAsB,EAAK,EAAO,CAChC,GAAI,GAAO,KAAK,SACZ,EAAQ,GAAa,EAAM,CAAG,EAElC,MAAI,GAAQ,EACV,EAAK,KAAK,CAAC,EAAK,CAAK,CAAC,EAEtB,EAAK,GAAO,GAAK,EAEZ,IACT,CAVS,qBAaT,GAAU,UAAU,MAAQ,GAC5B,GAAU,UAAU,OAAY,GAChC,GAAU,UAAU,IAAM,GAC1B,GAAU,UAAU,IAAM,GAC1B,GAAU,UAAU,IAAM,GAS1B,YAAkB,EAAS,CACzB,GAAI,GAAQ,GACR,EAAS,EAAU,EAAQ,OAAS,EAGxC,IADA,KAAK,MAAM,EACJ,EAAE,EAAQ,GAAQ,CACvB,GAAI,GAAQ,EAAQ,GACpB,KAAK,IAAI,EAAM,GAAI,EAAM,EAAE,CAC7B,CACF,CATS,iBAkBT,aAAyB,CACvB,KAAK,SAAW,CACd,KAAQ,GAAI,IACZ,IAAO,GAAK,KAAO,IACnB,OAAU,GAAI,GAChB,CACF,CANS,sBAiBT,YAAwB,EAAK,CAC3B,MAAO,IAAW,KAAM,CAAG,EAAE,OAAU,CAAG,CAC5C,CAFS,uBAaT,YAAqB,EAAK,CACxB,MAAO,IAAW,KAAM,CAAG,EAAE,IAAI,CAAG,CACtC,CAFS,oBAaT,YAAqB,EAAK,CACxB,MAAO,IAAW,KAAM,CAAG,EAAE,IAAI,CAAG,CACtC,CAFS,oBAcT,YAAqB,EAAK,EAAO,CAC/B,UAAW,KAAM,CAAG,EAAE,IAAI,EAAK,CAAK,EAC7B,IACT,CAHS,oBAMT,GAAS,UAAU,MAAQ,GAC3B,GAAS,UAAU,OAAY,GAC/B,GAAS,UAAU,IAAM,GACzB,GAAS,UAAU,IAAM,GACzB,GAAS,UAAU,IAAM,GAUzB,YAAsB,EAAO,EAAK,CAEhC,OADI,GAAS,EAAM,OACZ,KACL,GAAI,GAAG,EAAM,GAAQ,GAAI,CAAG,EAC1B,MAAO,GAGX,MAAO,EACT,CARS,qBAkBT,YAAiB,EAAQ,EAAM,CAC7B,EAAO,GAAM,EAAM,CAAM,EAAI,CAAC,CAAI,EAAI,GAAS,CAAI,EAKnD,OAHI,GAAQ,EACR,EAAS,EAAK,OAEX,GAAU,MAAQ,EAAQ,GAC/B,EAAS,EAAO,GAAM,EAAK,IAAQ,GAErC,MAAQ,IAAS,GAAS,EAAU,EAAS,MAC/C,CAVS,gBAoBT,YAAsB,EAAO,CAC3B,GAAI,CAAC,GAAS,CAAK,GAAK,GAAS,CAAK,EACpC,MAAO,GAET,GAAI,GAAW,GAAW,CAAK,GAAK,GAAa,CAAK,EAAK,GAAa,GACxE,MAAO,GAAQ,KAAK,GAAS,CAAK,CAAC,CACrC,CANS,qBAiBT,YAAmB,EAAO,EAAO,EAAK,CACpC,GAAI,GAAQ,GACR,EAAS,EAAM,OAEnB,AAAI,EAAQ,GACV,GAAQ,CAAC,EAAQ,EAAS,EAAK,EAAS,GAE1C,EAAM,EAAM,EAAS,EAAS,EAC1B,EAAM,GACR,IAAO,GAET,EAAS,EAAQ,EAAM,EAAM,EAAM,IAAW,EAC9C,KAAW,EAGX,OADI,GAAS,MAAM,CAAM,EAClB,EAAE,EAAQ,GACf,EAAO,GAAS,EAAM,EAAQ,GAEhC,MAAO,EACT,CAnBS,kBA6BT,YAAsB,EAAO,CAE3B,GAAI,MAAO,IAAS,SAClB,MAAO,GAET,GAAI,GAAS,CAAK,EAChB,MAAO,IAAiB,GAAe,KAAK,CAAK,EAAI,GAEvD,GAAI,GAAU,EAAQ,GACtB,MAAQ,IAAU,KAAQ,EAAI,GAAU,CAAC,GAAY,KAAO,CAC9D,CAVS,qBAoBT,YAAmB,EAAQ,EAAM,CAC/B,EAAO,GAAM,EAAM,CAAM,EAAI,CAAC,CAAI,EAAI,GAAS,CAAI,EACnD,EAAS,GAAO,EAAQ,CAAI,EAE5B,GAAI,GAAM,GAAM,GAAK,CAAI,CAAC,EAC1B,MAAO,CAAE,IAAU,MAAQ,GAAe,KAAK,EAAQ,CAAG,IAAM,MAAO,GAAO,EAChF,CANS,kBAeT,YAAkB,EAAO,CACvB,MAAO,IAAQ,CAAK,EAAI,EAAQ,GAAa,CAAK,CACpD,CAFS,iBAYT,YAAoB,EAAK,EAAK,CAC5B,GAAI,GAAO,EAAI,SACf,MAAO,IAAU,CAAG,EAChB,EAAK,MAAO,IAAO,SAAW,SAAW,QACzC,EAAK,GACX,CALS,mBAeT,YAAmB,EAAQ,EAAK,CAC9B,GAAI,GAAQ,GAAS,EAAQ,CAAG,EAChC,MAAO,IAAa,CAAK,EAAI,EAAQ,MACvC,CAHS,kBAaT,YAAe,EAAO,EAAQ,CAC5B,GAAI,GAAQ,CAAK,EACf,MAAO,GAET,GAAI,GAAO,MAAO,GAClB,MAAI,IAAQ,UAAY,GAAQ,UAAY,GAAQ,WAChD,GAAS,MAAQ,GAAS,CAAK,EAC1B,GAEF,GAAc,KAAK,CAAK,GAAK,CAAC,GAAa,KAAK,CAAK,GACzD,GAAU,MAAQ,IAAS,QAAO,CAAM,CAC7C,CAXS,cAoBT,YAAmB,EAAO,CACxB,GAAI,GAAO,MAAO,GAClB,MAAQ,IAAQ,UAAY,GAAQ,UAAY,GAAQ,UAAY,GAAQ,UACvE,IAAU,YACV,IAAU,IACjB,CALS,kBAcT,YAAkB,EAAM,CACtB,MAAO,CAAC,CAAC,IAAe,KAAc,EACxC,CAFS,iBAYT,YAAgB,EAAQ,EAAM,CAC5B,MAAO,GAAK,QAAU,EAAI,EAAS,GAAQ,EAAQ,GAAU,EAAM,EAAG,EAAE,CAAC,CAC3E,CAFS,eAWT,GAAI,IAAe,GAAQ,SAAS,EAAQ,CAC1C,EAAS,GAAS,CAAM,EAExB,GAAI,GAAS,CAAC,EACd,MAAI,IAAa,KAAK,CAAM,GAC1B,EAAO,KAAK,EAAE,EAEhB,EAAO,QAAQ,GAAY,SAAS,EAAO,EAAQ,EAAO,EAAQ,CAChE,EAAO,KAAK,EAAQ,EAAO,QAAQ,GAAc,IAAI,EAAK,GAAU,CAAM,CAC5E,CAAC,EACM,CACT,CAAC,EASD,YAAe,EAAO,CACpB,GAAI,MAAO,IAAS,UAAY,GAAS,CAAK,EAC5C,MAAO,GAET,GAAI,GAAU,EAAQ,GACtB,MAAQ,IAAU,KAAQ,EAAI,GAAU,CAAC,GAAY,KAAO,CAC9D,CANS,cAeT,YAAkB,EAAM,CACtB,GAAI,GAAQ,KAAM,CAChB,GAAI,CACF,MAAO,IAAa,KAAK,CAAI,CAC/B,MAAE,CAAW,CACb,GAAI,CACF,MAAQ,GAAO,EACjB,MAAE,CAAW,CACf,CACA,MAAO,EACT,CAVS,iBA0BT,YAAc,EAAO,CACnB,GAAI,GAAS,EAAQ,EAAM,OAAS,EACpC,MAAO,GAAS,EAAM,EAAS,GAAK,MACtC,CAHS,aAiDT,YAAiB,EAAM,EAAU,CAC/B,GAAI,MAAO,IAAQ,YAAe,GAAY,MAAO,IAAY,WAC/D,KAAM,IAAI,WAAU,EAAe,EAErC,GAAI,GAAW,YAAW,CACxB,GAAI,GAAO,UACP,EAAM,EAAW,EAAS,MAAM,KAAM,CAAI,EAAI,EAAK,GACnD,EAAQ,EAAS,MAErB,GAAI,EAAM,IAAI,CAAG,EACf,MAAO,GAAM,IAAI,CAAG,EAEtB,GAAI,GAAS,EAAK,MAAM,KAAM,CAAI,EAClC,SAAS,MAAQ,EAAM,IAAI,EAAK,CAAM,EAC/B,CACT,EAXe,YAYf,SAAS,MAAQ,GAAK,IAAQ,OAAS,IAChC,CACT,CAlBS,gBAqBT,GAAQ,MAAQ,GAkChB,YAAY,EAAO,EAAO,CACxB,MAAO,KAAU,GAAU,IAAU,GAAS,IAAU,CAC1D,CAFS,WA2BT,GAAI,IAAU,MAAM,QAmBpB,YAAoB,EAAO,CAGzB,GAAI,GAAM,GAAS,CAAK,EAAI,GAAe,KAAK,CAAK,EAAI,GACzD,MAAO,IAAO,IAAW,GAAO,EAClC,CALS,mBAgCT,YAAkB,EAAO,CACvB,GAAI,GAAO,MAAO,GAClB,MAAO,CAAC,CAAC,GAAU,IAAQ,UAAY,GAAQ,WACjD,CAHS,iBA6BT,YAAsB,EAAO,CAC3B,MAAO,CAAC,CAAC,GAAS,MAAO,IAAS,QACpC,CAFS,qBAqBT,YAAkB,EAAO,CACvB,MAAO,OAAO,IAAS,UACpB,GAAa,CAAK,GAAK,GAAe,KAAK,CAAK,GAAK,EAC1D,CAHS,iBA0BT,YAAkB,EAAO,CACvB,MAAO,IAAS,KAAO,GAAK,GAAa,CAAK,CAChD,CAFS,iBA+BT,YAAe,EAAQ,EAAM,CAC3B,MAAO,IAAU,KAAO,GAAO,GAAU,EAAQ,CAAI,CACvD,CAFS,cAIT,GAAO,QAAU,8Lah/BjB,YAAA,4BAAyB,EAAzB,MAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,MAAA,GAAA,UAAA,MACK,EAAK,OAAS,EAAG,GACf,GAAK,EAAK,GAAG,MAAM,EAAG,EAAjB,SACJ,IAAK,EAAK,OAAS,EAChB,GAAI,EAAG,GAAI,GAAI,EAAE,KACpB,IAAK,EAAK,IAAG,MAAM,EAAG,EAAjB,WAEN,IAAM,EAAK,IAAI,MAAM,CAAf,EACJ,EAAK,KAAK,EAAV,aAEA,GAAK,GAVd,aAcA,WAAuB,EAAvB,OACQ,MAAQ,EAAM,IADtB,cAIA,WAAuB,EAAvB,OACQ,KAAM,OAAY,YAAe,IAAM,KAAO,OAAS,OAAO,UAAU,SAAS,KAAK,CAA/B,EAAkC,MAAM,GAAxC,EAA6C,IAA7C,EAAmD,MAAM,GAAzD,EAA8D,MAA9D,EAAsE,YAAtE,EAD/D,cAIA,WAA4B,EAA5B,OACQ,GAAI,YAAJ,EADR,mBAIA,WAAwB,EAAxB,OACQ,AAAqB,IAAQ,KAAQ,YAAe,OAAQ,EAAO,MAAO,GAAI,QAAW,UAAY,EAAI,OAAS,EAAI,aAAe,EAAI,KAAO,CAAC,CAAD,EAAQ,MAAM,UAAU,MAAM,KAAK,CAA3B,EAAoC,CAAA,EADpM,eAKA,WAAuB,EAAgB,EAAvC,IACO,GAAM,KACR,SACQ,MAAO,KACb,IAAO,EAAO,UAGb,GAPR,cD5BA,WAA0B,EAA1B,IAEE,GAAU,WACV,EAAM,UACN,GAAU,QACV,GAAW,UACX,GAAW,EAAM,GAAS,UAAf,KACJ,UACP,GAAO,UACP,GAAe,EAAO,EAAO,UAAY,GAAW,IAAM,GAAW,GAAW,IAAM,GAAW,EAA3E,EAAuF,IAAM,EAAO,cAAgB,GAAW,IAAM,GAAW,EAAnD,EAA+D,IAAM,EAAO,IAAM,GAAW,EAAxB,CAAzK,KACA,0BACf,GAAe,sCACf,GAAa,EAAM,GAAc,EAApB,EACb,GAAY,EAAQ,8EAAgF,QACvF,EAAQ,oBAAsB,QAC5B,EAAM,EAAS,GAAS,iBAAkB,EAA1C,EACf,GAAU,EAAO,EAAU,EAAM,EAAS,GAAS,aAAxB,EAAyC,GAA1D,EACV,GAAY,EAAO,EAAO,GAAe,IAAM,EAAM,GAAc,GAAc,OAAlC,CAA5B,EAA0E,GAAjF,EACZ,GAAa,EAAO,EAAO,SAAP,EAAoB,IAAM,EAAO,SAAW,EAAlB,EAA6B,IAAM,EAAO,IAAM,GAAU,EAAvB,EAAkC,IAAM,EAAO,QAAU,EAAjB,EAA4B,IAAM,EAA9I,EACb,GAAqB,EAAO,EAAO,SAAP,EAAoB,IAAM,EAAO,SAAW,EAAlB,EAA6B,IAAM,EAAO,IAAM,GAAU,EAAvB,EAAkC,IAAM,EAAO,UAAY,EAAnB,EAA8B,QAAU,EAApJ,KACN,EAAO,GAAqB,MAAQ,GAAqB,MAAQ,GAAqB,MAAQ,EAA9F,EACf,GAAO,EAAO,GAAW,OAAlB,EACP,GAAQ,EAAO,EAAO,GAAO,MAAQ,EAAtB,EAA8B,IAAM,EAA3C,EACR,GAAgB,EAAmE,EAAO,GAAO,KAAd,EAAuB,MAAQ,EAAlG,KACA,EAAwD,SAAW,EAAO,GAAO,KAAd,EAAuB,MAAQ,EAAlG,KACA,EAAO,EAAwC,EAAxC,EAAgD,UAAY,EAAO,GAAO,KAAd,EAAuB,MAAQ,EAAlG,KACA,EAAO,EAAO,EAAO,GAAO,KAAd,EAAuB,QAAU,EAAxC,EAAgD,UAAY,EAAO,GAAO,KAAd,EAAuB,MAAQ,EAAlG,KACA,EAAO,EAAO,EAAO,GAAO,KAAd,EAAuB,QAAU,EAAxC,EAAgD,UAAY,EAAO,GAAO,KAAd,EAAuB,MAAQ,EAAlG,KACA,EAAO,EAAO,EAAO,GAAO,KAAd,EAAuB,QAAU,EAAxC,EAAgD,UAAmB,GAAO,MAAiB,EAAlG,KACA,EAAO,EAAO,EAAO,GAAO,KAAd,EAAuB,QAAU,EAAxC,EAAgD,UAA2C,EAAlG,KACA,EAAO,EAAO,EAAO,GAAO,KAAd,EAAuB,QAAU,EAAxC,EAAgD,UAA2C,EAAlG,KACA,EAAO,EAAO,EAAO,GAAO,KAAd,EAAuB,QAAU,EAAxC,EAAgD,SAAvD,KACD,EAAO,CAAC,GAAe,GAAe,GAAe,GAAe,GAAe,GAAe,GAAe,GAAe,EAAzH,EAAwI,KAAK,GAA7I,CAAP,EACf,GAAU,EAAO,EAAO,GAAe,IAAM,EAA5B,EAA4C,GAAnD,KACG,EAAO,GAAe,QAAU,EAAhC,KACQ,EAAO,GAAe,EAAO,eAAiB,GAAW,MAAnC,EAA6C,EAAnE,KACR,EAAO,OAAS,GAAW,OAAS,EAAM,GAAc,GAAc,OAAlC,EAA6C,GAAjF,EACb,GAAc,EAAO,MAAQ,EAAO,GAAqB,IAAM,GAAe,IAAM,EAAvD,EAAqE,KAApF,KACF,EAAO,EAAO,GAAe,IAAM,EAAM,GAAc,EAApB,CAA5B,EAAiE,GAAxE,EACZ,GAAQ,EAAO,GAAc,IAAM,GAAe,MAAQ,GAAY,KAAY,EAA1E,EACR,GAAQ,EAAO,GAAU,GAAjB,EACR,GAAa,EAAO,EAAO,GAAY,GAAnB,EAA0B,IAAM,GAAQ,EAAO,MAAQ,EAAf,EAAwB,GAAvE,EACb,GAAS,EAAO,GAAe,IAAM,EAAM,GAAc,GAAc,UAAlC,CAA5B,EACT,GAAW,EAAO,GAAS,GAAhB,EACX,GAAc,EAAO,GAAS,GAAhB,EACd,GAAiB,EAAO,EAAO,GAAe,IAAM,EAAM,GAAc,GAAc,OAAlC,CAA5B,EAA0E,GAAjF,EACjB,GAAgB,EAAO,EAAO,MAAQ,EAAf,EAA2B,GAAlC,EAChB,GAAiB,EAAO,MAAQ,EAAO,GAAc,EAArB,EAAsC,GAArD,KACA,EAAO,GAAiB,EAAxB,KACA,EAAO,GAAc,EAArB,KACH,MAAQ,GAAS,IAC/B,GAAQ,EAAO,GAAgB,IAAM,GAAiB,IAAM,GAAiB,IAAM,GAAiB,IAAM,EAAlG,EACR,GAAS,EAAO,EAAO,GAAS,IAAM,EAAM,WAAY,EAAlB,CAAtB,EAAuD,GAA9D,EACT,GAAY,EAAO,EAAO,GAAS,WAAhB,EAA+B,GAAtC,EACZ,GAAa,EAAO,EAAO,SAAW,GAAa,EAA/B,EAAgD,IAAM,GAAiB,IAAM,GAAiB,IAAM,EAA3G,EACb,GAAO,EAAO,GAAU,MAAQ,GAAa,EAAO,MAAQ,EAAf,EAAyB,IAAM,EAAO,MAAQ,EAAf,EAA4B,GAAjG,EACP,GAAiB,EAAO,EAAO,SAAW,GAAa,EAA/B,EAAgD,IAAM,GAAiB,IAAM,GAAiB,IAAM,EAA3G,EACjB,GAAY,EAAO,GAAiB,EAAO,MAAQ,EAAf,EAAyB,IAAM,EAAO,MAAQ,EAAf,EAA4B,GAAnF,EACZ,GAAiB,EAAO,GAAO,IAAM,EAApB,EACjB,GAAgB,EAAO,GAAU,MAAQ,GAAa,EAAO,MAAQ,EAAf,EAAyB,GAA/D,EAEhB,GAAe,KAAO,GAAU,OAAS,EAAO,EAAO,UAAY,EAAO,IAAM,GAAY,IAAzB,EAAiC,KAAO,GAAQ,IAAM,EAAO,OAAS,GAAQ,GAAxB,EAA+B,IAAxG,EAAgH,KAAO,GAAgB,IAAM,GAAiB,IAAM,GAAiB,IAAM,GAAc,GAAhN,EAAuN,EAAO,OAAS,GAAS,GAAzB,EAAgC,IAAM,EAAO,OAAS,GAAY,GAA5B,EAAmC,KACzU,GAAgB,SAAW,EAAO,EAAO,UAAY,EAAO,IAAM,GAAY,IAAzB,EAAiC,KAAO,GAAQ,IAAM,EAAO,OAAS,GAAQ,GAAxB,EAA+B,IAAxG,EAAgH,KAAO,GAAgB,IAAM,GAAiB,IAAM,GAAiB,IAAM,GAAc,GAAhN,EAAuN,EAAO,OAAS,GAAS,GAAzB,EAAgC,IAAM,EAAO,OAAS,GAAY,GAA5B,EAAmC,KAC3T,GAAgB,KAAO,GAAU,OAAS,EAAO,EAAO,UAAY,EAAO,IAAM,GAAY,IAAzB,EAAiC,KAAO,GAAQ,IAAM,EAAO,OAAS,GAAQ,GAAxB,EAA+B,IAAxG,EAAgH,KAAO,GAAgB,IAAM,GAAiB,IAAM,GAAiB,IAAM,GAAc,GAAhN,EAAuN,EAAO,OAAS,GAAS,GAAzB,EAAgC,KACjS,GAAe,IAAM,EAAO,OAAS,GAAY,GAA5B,EAAmC,KACxD,GAAiB,IAAM,EAAO,IAAM,GAAY,IAAzB,EAAiC,KAAO,GAAQ,IAAM,EAAO,OAAS,GAAQ,GAAxB,EAA+B,WAGtG,YACO,GAAI,QAAO,EAAM,MAAO,EAAS,GAAS,aAA/B,EAA+C,GAA1D,eACE,GAAI,QAAO,EAAM,YAAa,GAAc,EAAjC,EAAgD,GAA3D,WACJ,GAAI,QAAO,EAAM,kBAAmB,GAAc,EAAvC,EAAsD,GAAjE,WACA,GAAI,QAAO,EAAM,kBAAmB,GAAc,EAAvC,EAAsD,GAAjE,oBACS,GAAI,QAAO,EAAM,eAAgB,GAAc,EAApC,EAAmD,GAA9D,YACR,GAAI,QAAO,EAAM,SAAU,GAAc,GAAc,iBAAkB,EAA9D,EAA2E,GAAtF,eACG,GAAI,QAAO,EAAM,SAAU,GAAc,GAAc,gBAA5C,EAA+D,GAA1E,SACN,GAAI,QAAO,EAAM,MAAO,GAAc,EAA3B,EAA0C,GAArD,aACI,GAAI,QAAO,GAAc,GAAzB,cACC,GAAI,QAAO,EAAM,SAAU,GAAc,EAA9B,EAA2C,GAAtD,cACA,GAAI,QAAO,GAAc,GAAzB,cACA,GAAI,QAAO,KAAO,GAAe,IAAjC,cACA,GAAI,QAAO,SAAW,GAAe,IAAM,EAAO,EAAO,eAAiB,GAAW,MAAnC,EAA6C,IAAM,GAAU,GAApE,EAA2E,QAAtH,GAjFhB,iBAqFA,GAAA,GAAe,EAAU,EAAV,EDrFf,EAAe,EAAU,EAAV,2mBDAT,EAAS,WAGT,EAAO,GACP,EAAO,EACP,EAAO,GACP,EAAO,GACP,EAAO,IACP,EAAc,GACd,EAAW,IACX,EAAY,IAGZ,EAAgB,QAChB,EAAgB,aAChB,EAAkB,4BAGlB,EAAS,UACF,8DACC,iEACI,iBAIZ,EAAgB,EAAO,EACvB,EAAQ,KAAK,MACb,EAAqB,OAAO,aAUlC,WAAe,EAAM,MACd,IAAI,YAAW,EAAO,EAAtB,EADE,eAYT,WAAa,EAAO,EAAI,QACjB,GAAS,CAAA,EACX,GAAS,EAAM,OACZ,QACC,IAAU,EAAG,EAAM,GAAT,QAEX,GANC,WAmBT,WAAmB,EAAQ,EAAI,IACxB,GAAQ,EAAO,MAAM,GAAb,EACV,GAAS,GACT,EAAM,OAAS,OAGT,EAAM,GAAK,MACX,EAAM,MAGP,EAAO,QAAQ,EAAiB,GAAhC,KACH,IAAS,EAAO,MAAM,GAAb,EACT,GAAU,EAAI,GAAQ,CAAZ,EAAgB,KAAK,GAArB,QACT,IAAS,GAbR,iBA6BT,WAAoB,EAAQ,QACrB,GAAS,CAAA,EACX,EAAU,EACR,GAAS,EAAO,OACf,EAAU,IAAQ,IAClB,IAAQ,EAAO,WAAW,GAAlB,KACV,IAAS,OAAU,IAAS,OAAU,EAAU,GAAQ,IAErD,IAAQ,EAAO,WAAW,GAAlB,EACT,IAAQ,QAAW,QAChB,KAAO,KAAQ,OAAU,IAAO,IAAQ,MAAS,KAAxD,KAIO,KAAK,EAAZ,cAIM,KAAK,EAAZ,QAGK,GArBC,kBAgCT,GAAM,GAAa,WAAA,EAAA,OAAS,QAAO,cAAP,MAAA,OAAA,EAAwB,CAAxB,CAAA,GAAT,cAWb,EAAe,WAAS,EAAW,OACpC,GAAY,GAAO,GACf,EAAY,GAEhB,EAAY,GAAO,GACf,EAAY,GAEhB,EAAY,GAAO,GACf,EAAY,GAEb,GAVa,gBAwBf,GAAe,WAAS,EAAO,EAAM,OAGnC,GAAQ,GAAK,GAAM,GAAQ,IAAQ,KAAQ,IAAM,IAHpC,gBAWf,EAAQ,WAAS,EAAO,EAAW,GAAW,IAC/C,IAAI,QACA,GAAY,EAAM,EAAQ,CAAd,EAAsB,GAAS,KAC1C,EAAM,EAAQ,CAAd,EACqB,EAAQ,EAAgB,GAAQ,EAAG,IAAK,IAC7D,EAAM,EAAQ,CAAd,QAEF,GAAM,GAAK,GAAgB,GAAK,EAAS,GAAQ,EAAjD,GAPM,SAiBR,EAAS,WAAS,EAAO,IAExB,GAAS,CAAA,EACT,GAAc,EAAM,OACtB,GAAI,EACJ,GAAI,EACJ,GAAO,EAMP,GAAQ,EAAM,YAAY,CAAlB,EACR,GAAQ,OACH,UAGA,IAAI,EAAG,GAAI,GAAO,EAAE,GAExB,EAAM,WAAW,EAAjB,GAAuB,OACpB,WAAN,IAEM,KAAK,EAAM,WAAW,EAAjB,CAAZ,SAMQ,IAAQ,GAAQ,EAAI,GAAQ,EAAI,EAAG,GAAQ,IAAwC,QAOvF,IAAO,GACF,GAAI,EAAG,GAAI,GAA0B,IAAK,EAAM,CAEpD,IAAS,MACN,eAAN,KAGK,IAAQ,EAAa,EAAM,WAAW,IAAjB,CAAb,EAEV,KAAS,GAAQ,GAAQ,EAAO,GAAS,IAAK,EAArB,MACtB,UAAN,MAGI,GAAQ,MACP,IAAI,IAAK,GAAO,EAAQ,IAAK,GAAO,EAAO,EAAO,GAAI,MAExD,GAAQ,YAIN,IAAa,EAAO,GACtB,GAAI,EAAM,EAAS,EAAf,KACD,UAAN,MAGI,MAIA,IAAM,EAAO,OAAS,KACrB,EAAM,GAAI,GAAM,GAAK,IAAQ,CAA7B,EAIH,EAAM,GAAI,EAAV,EAAiB,EAAS,MACvB,UAAN,MAGI,EAAM,GAAI,EAAV,MACA,KAGE,OAAO,KAAK,EAAG,EAAtB,QAIM,QAAO,cAAP,MAAA,OAAwB,CAAxB,GAjFO,UA2FT,GAAS,WAAS,EAAO,IACxB,GAAS,CAAA,IAGP,EAAW,CAAX,KAGJ,IAAc,EAAM,OAGpB,GAAI,EACJ,GAAQ,EACR,GAAO,uCAGgB,EAA3B,OAAA,UAAA,EAAA,GAAA,CAAA,IAAA,IAAA,GAAA,KAAA,GAAA,MAAA,GAAA,GAAkC,IAAvB,IAAuB,GAAA,MAC7B,GAAe,OACX,KAAK,EAAmB,EAAnB,CAAZ,4FAIE,IAAc,EAAO,OACrB,GAAiB,OAMjB,MACI,KAAK,CAAZ,EAIM,GAAiB,IAAa,IAIhC,IAAI,uCACmB,EAA3B,OAAA,UAAA,EAAA,GAAA,CAAA,IAAA,IAAA,GAAA,KAAA,GAAA,MAAA,GAAA,GAAkC,IAAvB,IAAuB,GAAA,MAC7B,IAAgB,IAAK,GAAe,QACnC,8FAMA,IAAwB,GAAiB,EAC3C,GAAI,GAAI,EAAO,GAAS,IAAS,EAAzB,KACL,UAAN,MAGS,IAAI,IAAK,MACf,4CAEuB,EAA3B,OAAA,UAAA,EAAA,GAAA,CAAA,IAAA,IAAA,GAAA,KAAA,GAAA,MAAA,GAAA,GAAkC,IAAvB,IAAuB,GAAA,SAC7B,GAAe,IAAK,EAAE,GAAQ,KAC3B,UAAN,EAEG,IAAgB,GAAG,QAElB,IAAI,GACC,GAAI,GAA0B,IAAK,EAAM,IAC3C,IAAI,IAAK,GAAO,EAAQ,IAAK,GAAO,EAAO,EAAO,GAAI,MACxD,GAAI,YAGF,IAAU,GAAI,GACd,GAAa,EAAO,KACnB,KACN,EAAmB,GAAa,GAAI,GAAU,GAAY,CAAvC,CAAnB,CADD,KAGI,EAAM,GAAU,EAAhB,IAGE,KAAK,EAAmB,GAAa,GAAG,CAAhB,CAAnB,CAAZ,KACO,EAAM,GAAO,GAAuB,IAAkB,EAAtD,KACC,IACN,6FAIF,KACA,SAGI,GAAO,KAAK,EAAZ,GArFO,UAmGT,GAAY,WAAS,EAAO,OAC1B,GAAU,EAAO,SAAS,EAAQ,OACjC,GAAc,KAAK,CAAnB,EACJ,EAAO,EAAO,MAAM,CAAb,EAAgB,YAAhB,CAAP,EACA,EAHG,GADU,aAmBZ,GAAU,WAAS,EAAO,OACxB,GAAU,EAAO,SAAS,EAAQ,OACjC,GAAc,KAAK,CAAnB,EACJ,OAAS,GAAO,CAAP,EACT,EAHG,GADQ,WAWV,GAAW,SAML,aAQH,QACG,SACA,UAED,SACA,WACC,aACE,ID5VD,GAA6C,CAAA,EAE1D,WAA2B,EAA3B,IACO,GAAI,EAAI,WAAW,CAAf,EACN,EAAA,aAEA,GAAI,GAAI,EAAI,KAAO,EAAE,SAAS,EAAX,EAAe,YAAf,EAClB,AAAI,EAAI,IAAK,EAAI,IAAM,EAAE,SAAS,EAAX,EAAe,YAAf,EACvB,AAAI,EAAI,KAAM,EAAI,IAAQ,IAAK,EAAK,KAAK,SAAS,EAA1B,EAA8B,YAA9B,EAA8C,IAAQ,GAAI,GAAM,KAAK,SAAS,EAA1B,EAA8B,YAA9B,EAC5E,EAAI,IAAQ,IAAK,GAAM,KAAK,SAAS,EAA3B,EAA+B,YAA/B,EAA+C,IAAS,IAAK,EAAK,GAAM,KAAK,SAAS,EAAjC,EAAqC,YAArC,EAAqD,IAAQ,GAAI,GAAM,KAAK,SAAS,EAA1B,EAA8B,YAA9B,EAExH,EATR,kBAYA,WAA4B,EAA5B,QACK,GAAS,GACT,EAAI,EACF,GAAK,EAAI,OAER,EAAI,IAAI,IACR,IAAI,SAAS,EAAI,OAAO,EAAI,EAAG,CAAlB,EAAsB,EAA/B,KAEN,GAAI,OACG,OAAO,aAAa,EAApB,KACL,UAEG,IAAK,KAAO,GAAI,IAAK,IACxB,GAAK,GAAM,EAAG,IACZ,IAAK,SAAS,EAAI,OAAO,EAAI,EAAG,CAAlB,EAAsB,EAA/B,KACD,OAAO,aAAe,IAAI,KAAO,EAAM,GAAK,EAA5C,UAEA,EAAI,OAAO,EAAG,CAAd,KAEN,UAEG,IAAK,IAAK,IACb,GAAK,GAAM,EAAG,IACZ,IAAK,SAAS,EAAI,OAAO,EAAI,EAAG,CAAlB,EAAsB,EAA/B,EACL,GAAK,SAAS,EAAI,OAAO,EAAI,EAAG,CAAlB,EAAsB,EAA/B,KACD,OAAO,aAAe,IAAI,KAAO,GAAQ,IAAK,KAAO,EAAM,GAAK,EAAhE,UAEA,EAAI,OAAO,EAAG,CAAd,KAEN,UAGK,EAAI,OAAO,EAAG,CAAd,KACL,QAIA,GArCR,mBAwCA,WAAqC,EAA0B,EAA/D,YAC2B,GAA3B,IACQ,IAAS,EAAY,EAAZ,QACP,AAAC,IAAO,MAAM,EAAS,UAAtB,EAA0C,GAAN,GAF/C,+BAKK,EAAW,QAAQ,GAAW,OAAS,OAAO,EAAW,MAAlB,EAA0B,QAAQ,EAAS,YAAa,CAAxD,EAA0E,YAA1E,EAAwF,QAAQ,EAAS,WAAY,EAArH,GACvC,EAAW,WAAa,QAAW,GAAW,SAAW,OAAO,EAAW,QAAlB,EAA4B,QAAQ,EAAS,YAAa,CAA1D,EAA4E,QAAQ,EAAS,aAAc,CAA3G,EAAuH,QAAQ,EAAS,YAAa,CAArJ,GACzD,EAAW,OAAS,QAAW,GAAW,KAAO,OAAO,EAAW,IAAlB,EAAwB,QAAQ,EAAS,YAAa,CAAtD,EAAwE,YAAxE,EAAsF,QAAQ,EAAS,SAAU,CAAjH,EAA6H,QAAQ,EAAS,YAAa,CAA3J,GACjD,EAAW,OAAS,QAAW,GAAW,KAAO,OAAO,EAAW,IAAlB,EAAwB,QAAQ,EAAS,YAAa,CAAtD,EAAwE,QAAS,EAAW,OAAS,EAAS,SAAW,EAAS,kBAAoB,CAAtJ,EAAkK,QAAQ,EAAS,YAAa,CAAhM,GACjD,EAAW,QAAU,QAAW,GAAW,MAAQ,OAAO,EAAW,KAAlB,EAAyB,QAAQ,EAAS,YAAa,CAAvD,EAAyE,QAAQ,EAAS,UAAW,CAArG,EAAiH,QAAQ,EAAS,YAAa,CAA/I,GACnD,EAAW,WAAa,QAAW,GAAW,SAAW,OAAO,EAAW,QAAlB,EAA4B,QAAQ,EAAS,YAAa,CAA1D,EAA4E,QAAQ,EAAS,aAAc,CAA3G,EAAuH,QAAQ,EAAS,YAAa,CAArJ,GAEtD,EAbR,mCAgBA,WAA4B,EAA5B,OACQ,GAAI,QAAQ,UAAW,IAAvB,GAAgC,IADxC,0BAIA,WAAwB,EAAa,EAArC,IACO,GAAU,EAAK,MAAM,EAAS,WAApB,GAAoC,CAAA,OAChC,EAFrB,CAAA,EAEU,GAFV,GAAA,SAIK,IACI,GAAQ,MAAM,GAAd,EAAmB,IAAI,CAAvB,EAA2C,KAAK,GAAhD,EAEA,EAPT,sBAWA,WAAwB,EAAa,EAArC,IACO,GAAU,EAAK,MAAM,EAAS,WAApB,GAAoC,CAAA,OAC1B,EAF3B,CAAA,EAEU,GAFV,GAAA,GAEmB,GAFnB,GAAA,MAIK,GAAS,YACU,GAAQ,YAAR,EAAsB,MAAM,IAA5B,EAAkC,QAAlC,aAAf,GADK,GAAA,GACC,GADD,GAAA,GAEN,GAAc,GAAQ,GAAM,MAAM,GAAZ,EAAiB,IAAI,CAArB,EAA2C,CAAA,EACjE,GAAa,GAAK,MAAM,GAAX,EAAgB,IAAI,CAApB,EACb,GAAyB,EAAS,YAAY,KAAK,GAAW,GAAW,OAAS,EAAzD,EACzB,GAAa,GAAyB,EAAI,EAC1C,GAAkB,GAAW,OAAS,GACtC,GAAS,MAAc,EAAd,EAEN,GAAI,EAAG,GAAI,GAAY,EAAE,MAC1B,IAAK,GAAY,KAAM,GAAW,GAAkB,KAAM,GAG9D,QACI,GAAa,GAAK,EAAe,GAAO,GAAa,GAAI,CAAvC,MAGpB,IAAgB,GAAO,OAA4C,SAAC,GAAK,GAAO,GAAxF,IACO,CAAC,IAAS,KAAU,IAAK,IACtB,IAAc,GAAI,GAAI,OAAS,GACjC,IAAe,GAAY,MAAQ,GAAY,SAAW,MACjD,YAER,KAAK,CAAE,MAAA,GAAO,OAAS,CAAlB,CAAT,QAGK,KACL,CAAA,CAVmB,EAYhB,GAAoB,GAAc,KAAK,SAAC,GAAG,GAAJ,OAAU,IAAE,OAAS,GAAE,OAA1C,EAAkD,GAExE,GAAA,UACA,IAAqB,GAAkB,OAAS,EAAG,IAChD,IAAW,GAAO,MAAM,EAAG,GAAkB,KAAlC,EACX,GAAU,GAAO,MAAM,GAAkB,MAAQ,GAAkB,MAAzD,KACN,GAAS,KAAK,GAAd,EAAqB,KAAO,GAAQ,KAAK,GAAb,UAE5B,GAAO,KAAK,GAAZ,QAGP,UACQ,IAAM,IAGX,cAEA,GAlDT,sBAsDA,GAAM,IAAY,kIACZ,GAA4C,GAAI,MAAM,OAAX,EAAqB,KAAO,OAE7E,YAAsB,EAAtB,IAAwC,GAAxC,UAAA,OAAA,GAAA,UAAA,KAAA,OAAA,UAAA,GAA6D,CAAA,EACtD,EAA2B,CAAA,EAC3B,GAAY,EAAQ,MAAQ,GAAQ,EAAe,EAErD,EAAQ,YAAc,UAAU,GAAa,GAAQ,OAAS,EAAQ,OAAS,IAAM,IAAM,KAAO,MAEhG,IAAU,EAAU,MAAM,EAAhB,KAEZ,GAAS,CACR,MAEQ,OAAS,GAAQ,KACjB,SAAW,GAAQ,KACnB,KAAO,GAAQ,KACf,KAAO,SAAS,GAAQ,GAAI,EAArB,IACP,KAAO,GAAQ,IAAM,KACrB,MAAQ,GAAQ,KAChB,SAAW,GAAQ,GAG1B,MAAM,EAAW,IAAjB,MACQ,KAAO,GAAQ,QAIhB,OAAS,GAAQ,IAAM,SACvB,SAAY,EAAU,QAAQ,GAAlB,IAA2B,GAAK,GAAQ,GAAK,SACzD,KAAQ,EAAU,QAAQ,IAAlB,IAA4B,GAAK,GAAQ,GAAK,SACtD,KAAO,SAAS,GAAQ,GAAI,EAArB,IACP,KAAO,GAAQ,IAAM,KACrB,MAAS,EAAU,QAAQ,GAAlB,IAA2B,GAAK,GAAQ,GAAK,SACtD,SAAY,EAAU,QAAQ,GAAlB,IAA2B,GAAK,GAAQ,GAAK,OAGhE,MAAM,EAAW,IAAjB,MACQ,KAAQ,EAAU,MAAM,+BAAhB,EAAmD,GAAQ,GAAK,SAIjF,EAAW,SAEH,KAAO,EAAe,EAAe,EAAW,KAAM,EAAhC,EAA2C,EAA1D,GAIf,EAAW,SAAW,QAAa,EAAW,WAAa,QAAa,EAAW,OAAS,QAAa,EAAW,OAAS,QAAa,CAAC,EAAW,MAAQ,EAAW,QAAU,SAC3K,UAAY,gBACjB,AAAI,EAAW,SAAW,SACrB,UAAY,WACjB,AAAI,EAAW,WAAa,SACvB,UAAY,aAEZ,UAAY,MAIpB,EAAQ,WAAa,EAAQ,YAAc,UAAY,EAAQ,YAAc,EAAW,cAChF,MAAQ,EAAW,OAAS,gBAAkB,EAAQ,UAAY,kBAIxE,IAAgB,GAAS,GAAQ,QAAU,EAAW,QAAU,IAAI,YAA5C,MAG1B,CAAC,EAAQ,gBAAmB,EAAC,IAAiB,CAAC,GAAc,gBAAiB,IAE7E,EAAW,MAAS,GAAQ,YAAe,IAAiB,GAAc,eAEzE,GACQ,KAAO,GAAS,QAAQ,EAAW,KAAK,QAAQ,GAAS,YAAa,CAA9C,EAA2D,YAA3D,CAAjB,QACV,GAAP,GACU,MAAQ,EAAW,OAAS,kEAAoE,KAIjF,EAAY,CAAxC,SAG4B,EAAY,EAAxC,EAIG,IAAiB,GAAc,UACpB,MAAM,EAAY,CAAhC,SAGU,MAAQ,EAAW,OAAS,+BAGjC,GAzFR,cA4FA,YAA6B,EAA0B,EAAvD,IACO,GAAY,EAAQ,MAAQ,GAAQ,EAAe,EACnD,GAA0B,CAAA,QAE5B,GAAW,WAAa,YACjB,KAAK,EAAW,QAA1B,KACU,KAAK,GAAf,GAGG,EAAW,OAAS,WAEb,KAAK,EAAe,EAAe,OAAO,EAAW,IAAlB,EAAyB,CAAxC,EAAmD,CAAlE,EAA4E,QAAQ,EAAS,YAAa,SAAC,GAAG,GAAI,GAAR,OAAe,IAAM,GAAM,IAAK,MAAQ,GAAK,IAAM,IAA7J,CAAf,EAGG,OAAO,GAAW,MAAS,UAAY,MAAO,GAAW,MAAS,eAC3D,KAAK,GAAf,KACU,KAAK,OAAO,EAAW,IAAlB,CAAf,GAGM,GAAU,OAAS,GAAU,KAAK,EAAf,EAAqB,OAnBhD,4BAsBA,GAAM,IAAO,WACP,GAAO,cACP,GAAO,gBAEP,GAAO,yBAEb,YAAkC,EAAlC,QACO,GAAuB,CAAA,EAEtB,EAAM,WACR,EAAM,MAAM,EAAZ,IACK,EAAM,QAAQ,GAAM,EAApB,UACE,EAAM,MAAM,EAAZ,IACF,EAAM,QAAQ,GAAM,GAApB,UACE,EAAM,MAAM,EAAZ,IACF,EAAM,QAAQ,GAAM,GAApB,IACD,IAAP,UACU,IAAU,KAAO,IAAU,OAC7B,OACF,IACA,GAAK,EAAM,MAAM,EAAZ,KACP,EAAI,IACD,IAAI,EAAG,KACL,EAAM,MAAM,GAAE,MAAd,IACD,KAAK,EAAZ,YAEM,IAAI,OAAM,kCAAV,QAKF,GAAO,KAAK,EAAZ,EAzBR,0BA4BA,YAA0B,EAA1B,IAAoD,GAApD,UAAA,OAAA,GAAA,UAAA,KAAA,OAAA,UAAA,GAAyE,CAAA,EAClE,EAAY,EAAQ,IAAM,EAAe,EACzC,GAA0B,CAAA,EAG1B,GAAgB,GAAS,GAAQ,QAAU,EAAW,QAAU,IAAI,YAA5C,MAG1B,IAAiB,GAAc,WAAW,GAAc,UAAU,EAAY,CAApC,EAE1C,EAAW,MAEV,GAAS,YAAY,KAAK,EAAW,IAArC,GAKC,GAAI,EAAQ,YAAe,IAAiB,GAAc,cAE1D,GACQ,KAAQ,AAAC,EAAQ,IAAmG,GAAS,UAAU,EAAW,IAA9B,EAA7F,GAAS,QAAQ,EAAW,KAAK,QAAQ,EAAS,YAAa,CAA9C,EAA2D,YAA3D,CAAjB,QAC1B,GAAP,GACU,MAAQ,EAAW,OAAS,8CAAiD,CAAC,EAAQ,IAAgB,UAAV,SAAuB,kBAAoB,MAMzH,EAAY,CAAxC,EAEI,EAAQ,YAAc,UAAY,EAAW,YACtC,KAAK,EAAW,MAA1B,KACU,KAAK,GAAf,MAGK,IAAY,GAAoB,EAAY,CAAhC,KACd,KAAc,QACb,GAAQ,YAAc,aACf,KAAK,IAAf,KAGS,KAAK,EAAf,EAEI,EAAW,MAAQ,EAAW,KAAK,OAAO,CAAvB,IAA8B,QAC1C,KAAK,GAAf,GAIE,EAAW,OAAS,OAAW,IAC9B,IAAI,EAAW,KAEf,CAAC,EAAQ,cAAiB,EAAC,IAAiB,CAAC,GAAc,mBAC1D,GAAkB,EAAlB,GAGD,KAAc,YACb,GAAE,QAAQ,QAAS,MAAnB,MAGK,KAAK,EAAf,QAGG,GAAW,QAAU,YACd,KAAK,GAAf,KACU,KAAK,EAAW,KAA1B,GAGG,EAAW,WAAa,YACjB,KAAK,GAAf,KACU,KAAK,EAAW,QAA1B,GAGM,GAAU,KAAK,EAAf,EAxER,kBA2EA,YAAkC,EAAoB,EAAtD,IAA8E,GAA9E,UAAA,OAAA,GAAA,UAAA,KAAA,OAAA,UAAA,GAAmG,CAAA,EAAI,GAAvG,UAAA,GACO,GAAuB,CAAA,QAExB,QACG,GAAM,GAAU,EAAM,CAAhB,EAA0B,CAAhC,IACI,GAAM,GAAU,EAAU,CAApB,EAA8B,CAApC,KAEF,GAAW,CAAA,EAEjB,CAAC,EAAQ,UAAY,EAAS,WAC1B,OAAS,EAAS,UAElB,SAAW,EAAS,YACpB,KAAO,EAAS,QAChB,KAAO,EAAS,QAChB,KAAO,GAAkB,EAAS,MAAQ,EAAnC,KACP,MAAQ,EAAS,QAEpB,EAAS,WAAa,QAAa,EAAS,OAAS,QAAa,EAAS,OAAS,WAEhF,SAAW,EAAS,YACpB,KAAO,EAAS,QAChB,KAAO,EAAS,QAChB,KAAO,GAAkB,EAAS,MAAQ,EAAnC,KACP,MAAQ,EAAS,QAEnB,EAAS,MAQT,EAAS,KAAK,OAAO,CAArB,IAA4B,OACxB,KAAO,GAAkB,EAAS,IAA3B,GAET,GAAK,WAAa,QAAa,EAAK,OAAS,QAAa,EAAK,OAAS,SAAc,CAAC,EAAK,QACzF,KAAO,IAAM,EAAS,KACvB,AAAK,EAAK,QAGT,KAAO,EAAK,KAAK,MAAM,EAAG,EAAK,KAAK,YAAY,GAAtB,EAA6B,CAAhD,EAAqD,EAAS,QAFrE,KAAO,EAAS,QAIjB,KAAO,GAAkB,GAAO,IAAzB,MAER,MAAQ,EAAS,WAnBjB,KAAO,EAAK,KACf,EAAS,QAAU,UACf,MAAQ,EAAS,SAEjB,MAAQ,EAAK,UAkBf,SAAW,EAAK,YAChB,KAAO,EAAK,QACZ,KAAO,EAAK,SAEb,OAAS,EAAK,WAGf,SAAW,EAAS,SAEpB,GA1DR,0BA6DA,YAAwB,EAAgB,EAAoB,EAA5D,IACO,IAAoB,EAAO,CAAE,OAAS,MAAX,EAAqB,CAA5B,QACnB,IAAU,GAAkB,GAAM,EAAS,EAAf,EAAmC,GAAM,EAAa,EAAnB,EAAuC,GAAmB,EAA/G,EAAsH,EAAhI,EAFR,gBAOA,YAA0B,EAAS,EAAnC,OACK,OAAO,IAAQ,WACZ,GAAU,GAAM,EAAK,CAAX,EAAqB,CAA/B,EACI,EAAO,CAAP,IAAgB,aACpB,GAAM,GAAyB,EAAK,CAA9B,EAAwC,CAA9C,GAGA,EAPR,kBAYA,YAAsB,EAAU,EAAU,EAA1C,OACK,OAAO,IAAS,WACZ,GAAU,GAAM,EAAM,CAAZ,EAAsB,CAAhC,EACG,EAAO,CAAP,IAAiB,aACpB,GAAyB,EAAM,CAA/B,GAGJ,MAAO,IAAS,WACZ,GAAU,GAAM,EAAM,CAAZ,EAAsB,CAAhC,EACG,EAAO,CAAP,IAAiB,aACpB,GAAyB,EAAM,CAA/B,GAGD,IAAS,EAbjB,cAgBA,YAAgC,EAAY,EAA5C,OACQ,IAAO,EAAI,SAAJ,EAAe,QAAS,CAAC,GAAW,CAAC,EAAQ,IAAM,EAAa,OAAS,EAAa,OAAS,CAA/F,EADf,wBAIA,YAAkC,EAAY,EAA9C,OACQ,IAAO,EAAI,SAAJ,EAAe,QAAS,CAAC,GAAW,CAAC,EAAQ,IAAM,EAAa,YAAc,EAAa,YAAc,CAAzG,EADf,0BDviBA,GAAM,IAA2B,QACvB,kBAEI,SAEL,WAAU,EAA0B,EAA7C,OAEO,GAAW,SACJ,MAAQ,EAAW,OAAS,+BAGjC,GANA,mBASI,WAAU,EAA0B,EAAjD,IACQ,IAAS,OAAO,EAAW,MAAlB,EAA0B,YAA1B,IAA4C,cAGvD,GAAW,OAAU,IAAS,IAAM,KAAO,EAAW,OAAS,QACvD,KAAO,QAId,EAAW,SACJ,KAAO,KAOZ,GAjBI,cDbP,GAA2B,QACvB,mBACI,GAAK,iBACV,GAAK,gBACD,GAAK,WDAlB,YAAkB,EAAlB,OACQ,OAAO,GAAa,QAAW,UAAY,EAAa,OAAS,OAAO,EAAa,MAApB,EAA4B,YAA5B,IAA8C,MADvH,iBAKA,GAAM,IAA2B,QACvB,gBAEI,SAEL,WAAU,EAA0B,EAA7C,IACQ,IAAe,YAGR,OAAS,GAAS,EAAT,KAGT,aAAgB,IAAa,MAAQ,KAAQ,IAAa,MAAQ,IAAM,GAAa,MAAQ,OAC7F,KAAO,UACP,MAAQ,OAEd,IAXA,mBAcI,WAAU,EAA2B,EAAlD,IAEM,GAAa,OAAU,IAAS,CAAT,EAAyB,IAAM,KAAO,EAAa,OAAS,QACzE,KAAO,QAIjB,MAAO,GAAa,QAAW,cACrB,OAAU,EAAa,OAAS,MAAQ,OACxC,OAAS,QAInB,EAAa,aAAc,QACR,EAAa,aAAa,MAAM,GAAhC,aAAf,GADuB,GAAA,GACjB,GADiB,GAAA,KAEjB,KAAQ,IAAQ,KAAS,IAAM,GAAO,SACtC,MAAQ,KACR,aAAe,gBAIhB,SAAW,OAEjB,GAvBI,cD5BP,GAA2B,QACvB,iBACI,GAAG,iBACR,GAAG,gBACC,GAAG,WDSV,GAAkB,CAAA,EAClB,EAAQ,GAGR,EAAe,yBAA4B,GAAQ,4EAA8E,IAAM,IACvI,EAAW,cACX,GAAe,EAAO,EAAO,UAAY,EAAW,IAAM,EAAW,EAAW,IAAM,EAAW,CAA3E,EAAuF,IAAM,EAAO,cAAgB,EAAW,IAAM,EAAW,CAAnD,EAA+D,IAAM,EAAO,IAAM,EAAW,CAAxB,CAAzK,EAaf,GAAU,wDACV,EAAU,6DACV,GAAU,EAAM,EAAS,WAAf,EAQV,GAAgB,sCAahB,GAAa,GAAI,QAAO,EAAc,GAAzB,EACb,GAAc,GAAI,QAAO,GAAc,GAAzB,EACd,GAAiB,GAAI,QAAO,EAAM,MAAO,GAAS,QAAS,QAAS,EAAxC,EAAkD,GAA7D,EAEjB,GAAa,GAAI,QAAO,EAAM,MAAO,EAAc,EAA3B,EAA2C,GAAtD,EACb,GAAc,GAIpB,YAA0B,EAA1B,IACO,GAAS,EAAY,CAAZ,QACP,AAAC,GAAO,MAAM,EAAb,EAAiC,EAAN,EAFrC,yBAKA,GAAM,IAA8C,QAC1C,eAED,WAAU,EAA0B,EAA7C,IACQ,IAAmB,EACnB,GAAK,GAAiB,GAAM,GAAiB,KAAO,GAAiB,KAAK,MAAM,GAA5B,EAAmC,CAAA,QAC5E,KAAO,OAEpB,GAAiB,MAAO,QACvB,IAAiB,GACf,GAAwB,CAAA,EACxB,GAAU,GAAiB,MAAM,MAAM,GAA7B,EAEP,GAAI,EAAG,GAAK,GAAQ,OAAQ,GAAI,GAAI,EAAE,GAAG,IAC3C,IAAS,GAAQ,IAAG,MAAM,GAAjB,SAEP,GAAO,QACT,YACE,IAAU,GAAO,GAAG,MAAM,GAAhB,EACP,GAAI,EAAG,GAAK,GAAQ,OAAQ,GAAI,GAAI,EAAE,MAC3C,KAAK,GAAQ,GAAhB,YAGG,aACa,QAAU,GAAkB,GAAO,GAAI,CAA7B,YAEvB,UACa,KAAO,GAAkB,GAAO,GAAI,CAA7B,mBAGP,MACT,GAAkB,GAAO,GAAI,CAA7B,GAAyC,GAAkB,GAAO,GAAI,CAA7B,SAKhD,IAAgB,IAAiB,QAAU,OAG/B,MAAQ,cAEhB,IAAI,EAAG,GAAK,GAAG,OAAQ,GAAI,GAAI,EAAE,GAAG,IACtC,IAAO,GAAG,IAAG,MAAM,GAAZ,QAER,GAAK,GAAkB,GAAK,EAAvB,EAEL,EAAQ,kBAQP,GAAK,GAAkB,GAAK,GAAI,CAA3B,EAAoC,YAApC,UANN,IACE,GAAK,GAAS,QAAQ,GAAkB,GAAK,GAAI,CAA3B,EAAoC,YAApC,CAAjB,QACF,GAAP,IACgB,MAAQ,GAAiB,OAAS,2EAA6E,MAM/H,IAAK,GAAK,KAAK,GAAV,QAGF,KAzDA,sBA4DI,WAAU,EAAmC,EAA1D,IACQ,IAAa,EACb,GAAK,EAAQ,EAAiB,EAAzB,KACP,GAAI,QACE,IAAI,EAAG,GAAK,GAAG,OAAQ,GAAI,GAAI,EAAE,GAAG,IACtC,IAAS,OAAO,GAAG,GAAV,EACT,GAAQ,GAAO,YAAY,GAAnB,EACR,GAAa,GAAO,MAAM,EAAG,EAAhB,EAAwB,QAAQ,GAAa,EAA9C,EAAgE,QAAQ,GAAa,CAArF,EAAkG,QAAQ,GAAgB,CAA1H,EACd,GAAS,GAAO,MAAM,GAAQ,CAArB,KAGT,IACO,AAAC,EAAQ,IAA2E,GAAS,UAAU,EAAnB,EAArE,GAAS,QAAQ,GAAkB,GAAQ,CAA1B,EAAmC,YAAnC,CAAjB,QACjB,GAAP,IACU,MAAQ,GAAW,OAAS,uDAA0D,CAAC,EAAQ,IAAgB,UAAV,SAAuB,kBAAoB,MAGzJ,IAAK,GAAY,IAAM,MAGhB,KAAO,GAAG,KAAK,GAAR,KAGb,IAAU,EAAiB,QAAU,EAAiB,SAAW,CAAA,EAEnE,EAAiB,SAAS,IAAQ,QAAa,EAAiB,SAChE,EAAiB,MAAM,IAAQ,KAAU,EAAiB,SAExD,IAAS,CAAA,SACJ,MAAQ,IACd,GAAQ,MAAU,GAAE,QAChB,KACN,GAAK,QAAQ,GAAa,EAA1B,EAA4C,QAAQ,GAAa,CAAjE,EAA8E,QAAQ,GAAY,CAAlG,EACA,IACA,GAAQ,IAAM,QAAQ,GAAa,EAAnC,EAAqD,QAAQ,GAAa,CAA1E,EAAuF,QAAQ,GAAa,CAA5G,CAHD,QAOE,IAAO,YACC,MAAQ,GAAO,KAAK,GAAZ,GAGb,IA1CI,iBDrHP,GAAY,kBAIZ,EAAqD,QACjD,YAED,WAAU,EAA0B,EAA7C,IACQ,IAAU,EAAW,MAAQ,EAAW,KAAK,MAAM,EAAtB,EAC/B,GAAgB,KAEhB,GAAS,IACN,IAAS,EAAQ,QAAU,GAAc,QAAU,MACnD,GAAM,GAAQ,GAAG,YAAX,EACN,GAAM,GAAQ,GACd,GAAe,GAAf,IAAyB,GAAQ,KAAO,IACxC,GAAgB,GAAQ,OAEhB,IAAM,MACN,IAAM,MACN,KAAO,OAEjB,QACa,GAAc,MAAM,GAAe,CAAnC,WAGH,MAAQ,GAAc,OAAS,+BAGvC,KAtBA,sBAyBI,WAAU,EAA6B,EAApD,IACQ,IAAS,EAAQ,QAAU,EAAc,QAAU,MACnD,GAAM,EAAc,IACpB,GAAe,GAAf,IAAyB,GAAQ,KAAO,IACxC,GAAgB,GAAQ,IAE1B,OACa,GAAc,UAAU,EAAe,CAAvC,MAGX,IAAgB,EAChB,GAAM,EAAc,cACZ,KAAU,KAAO,EAAQ,KAAvC,IAA8C,GAEvC,IAdI,iBD1CP,EAAO,2DAIP,GAAsE,QAClE,iBAED,WAAU,EAA6B,EAAhD,IACQ,IAAiB,YACR,KAAO,GAAe,OACtB,IAAM,OAEjB,CAAC,EAAQ,UAAa,EAAC,GAAe,MAAQ,CAAC,GAAe,KAAK,MAAM,CAA1B,QACnC,MAAQ,GAAe,OAAS,sBAGzC,IATA,mBAYI,WAAU,EAA+B,EAAtD,IACQ,IAAgB,YAER,IAAO,GAAe,MAAQ,IAAI,YAA5B,EACb,IAJI,cDxBb,GAAQ,GAAK,QAAU,GAGvB,GAAQ,GAAM,QAAU,GAGxB,GAAQ,GAAG,QAAU,GAGrB,GAAQ,GAAI,QAAU,GAGtB,GAAQ,GAAO,QAAU,GAGzB,GAAQ,EAAI,QAAU,EAGtB,GAAQ,GAAK,QAAU,+ParBvB,iCAMA,GAAO,QAAU,aAAe,EAAG,EAAG,CACpC,GAAI,IAAM,EAAG,MAAO,GAEpB,GAAI,GAAK,GAAK,MAAO,IAAK,UAAY,MAAO,IAAK,SAAU,CAC1D,GAAI,EAAE,cAAgB,EAAE,YAAa,MAAO,GAE5C,GAAI,GAAQ,EAAG,EACf,GAAI,MAAM,QAAQ,CAAC,EAAG,CAEpB,GADA,EAAS,EAAE,OACP,GAAU,EAAE,OAAQ,MAAO,GAC/B,IAAK,EAAI,EAAQ,MAAQ,GACvB,GAAI,CAAC,EAAM,EAAE,GAAI,EAAE,EAAE,EAAG,MAAO,GACjC,MAAO,EACT,CAIA,GAAI,EAAE,cAAgB,OAAQ,MAAO,GAAE,SAAW,EAAE,QAAU,EAAE,QAAU,EAAE,MAC5E,GAAI,EAAE,UAAY,OAAO,UAAU,QAAS,MAAO,GAAE,QAAQ,IAAM,EAAE,QAAQ,EAC7E,GAAI,EAAE,WAAa,OAAO,UAAU,SAAU,MAAO,GAAE,SAAS,IAAM,EAAE,SAAS,EAIjF,GAFA,EAAO,OAAO,KAAK,CAAC,EACpB,EAAS,EAAK,OACV,IAAW,OAAO,KAAK,CAAC,EAAE,OAAQ,MAAO,GAE7C,IAAK,EAAI,EAAQ,MAAQ,GACvB,GAAI,CAAC,OAAO,UAAU,eAAe,KAAK,EAAG,EAAK,EAAE,EAAG,MAAO,GAEhE,IAAK,EAAI,EAAQ,MAAQ,GAAI,CAC3B,GAAI,GAAM,EAAK,GAEf,GAAI,CAAC,EAAM,EAAE,GAAM,EAAE,EAAI,EAAG,MAAO,EACrC,CAEA,MAAO,EACT,CAGA,MAAO,KAAI,GAAK,IAAI,CACtB,EAvCiB,WCNjB,iCAIA,GAAO,QAAU,WAAoB,EAAK,CAKxC,OAJI,GAAS,EACT,EAAM,EAAI,OACV,EAAM,EACN,EACG,EAAM,GACX,IACA,EAAQ,EAAI,WAAW,GAAK,EACxB,GAAS,OAAU,GAAS,OAAU,EAAM,GAE9C,GAAQ,EAAI,WAAW,CAAG,EACrB,GAAQ,QAAW,OAAQ,KAGpC,MAAO,EACT,EAfiB,gBCJjB,iCAGA,GAAO,QAAU,CACf,KAAM,GACN,cAAe,GACf,eAAgB,GAChB,cAAe,GACf,OAAQ,GACR,YAAa,GACb,aAAc,GACd,MAAO,KACP,WAAY,KACZ,cAAe,GACf,WAAY,GACZ,eAAgB,GAChB,qBAAsB,GACtB,mBAAoB,GACpB,eAAgB,GAChB,YAAa,GACb,QAAS,GACT,QAAS,GACT,iBAAkB,GAClB,oBAAqB,GACrB,eAAgB,GAChB,kBAAmB,EACrB,EAGA,YAAc,EAAG,EAAI,CACnB,EAAK,GAAM,CAAC,EACZ,OAAS,KAAO,GAAG,EAAG,GAAO,EAAE,GAC/B,MAAO,EACT,CAJS,aAOT,YAAuB,EAAU,EAAM,EAAe,EAAQ,CAC5D,GAAI,GAAQ,EAAS,QAAU,QAC3B,EAAM,EAAS,OAAS,OACxB,EAAK,EAAS,IAAM,GACpB,EAAM,EAAS,GAAK,IACxB,OAAQ,OACD,OAAQ,MAAO,GAAO,EAAQ,WAC9B,QAAS,MAAO,GAAK,iBAAmB,EAAO,QAC/C,SAAU,MAAO,IAAM,EAAK,EAAO,EAClB,UAAY,EAAO,EAAQ,WAAa,EACxC,EAAM,iBAAmB,EAAO,SACjD,UAAW,MAAO,WAAa,EAAO,EAAQ,WAAa,EACzC,EAAM,IAAM,EAAO,QACnB,EAAM,EAAO,EAAQ,EACpB,GAAiB,EAAM,EAAK,YAAc,EAAO,IAAO,IAAM,QACjF,SAAU,MAAO,WAAa,EAAO,EAAQ,IAAM,EAAW,IAC5C,GAAiB,EAAM,EAAK,YAAc,EAAO,IAAO,IAAM,YAC5E,MAAO,UAAY,EAAO,EAAQ,IAAM,EAAW,IAEhE,CAnBS,sBAsBT,YAAwB,EAAW,EAAM,EAAe,CACtD,OAAQ,EAAU,YACX,GAAG,MAAO,IAAc,EAAU,GAAI,EAAM,EAAe,EAAI,UAElE,GAAI,GAAO,GACP,EAAQ,GAAO,CAAS,EAC5B,AAAI,EAAM,OAAS,EAAM,QACvB,GAAO,EAAM,KAAO,IAAK,KAAO,EAAO,OACvC,GAAQ,UAAY,EAAO,iBAC3B,MAAO,GAAM,KACb,MAAO,GAAM,MACb,MAAO,GAAM,QAEX,EAAM,QAAQ,MAAO,GAAM,QAC/B,OAAS,KAAK,GACZ,GAAS,GAAO,OAAS,IAAO,GAAc,EAAG,EAAM,EAAe,EAAI,EAE5E,MAAO,GAEb,CAnBS,uBAsBT,GAAI,IAAkB,GAAO,CAAE,SAAU,SAAU,UAAW,UAAW,MAAO,CAAC,EACjF,YAAuB,EAAmB,EAAW,CACnD,GAAI,MAAM,QAAQ,CAAS,EAAG,CAE5B,OADI,GAAQ,CAAC,EACJ,EAAE,EAAG,EAAE,EAAU,OAAQ,IAAK,CACrC,GAAI,GAAI,EAAU,GAClB,AAAI,IAAgB,IACX,IAAsB,SAAW,IAAM,UAAS,GAAM,EAAM,QAAU,EACjF,CACA,GAAI,EAAM,OAAQ,MAAO,EAC3B,KAAO,IAAI,GAAgB,GACzB,MAAO,CAAC,CAAS,EACZ,GAAI,IAAsB,SAAW,IAAc,QACxD,MAAO,CAAC,OAAO,EAEnB,CAdS,sBAiBT,YAAgB,EAAK,CAEnB,OADI,GAAO,CAAC,EACH,EAAE,EAAG,EAAE,EAAI,OAAQ,IAAK,EAAK,EAAI,IAAM,GAChD,MAAO,EACT,CAJS,eAOT,GAAI,IAAa,wBACb,GAAe,QACnB,YAAqB,EAAK,CACxB,MAAO,OAAO,IAAO,SACX,IAAM,EAAM,IACZ,GAAW,KAAK,CAAG,EACjB,IAAM,EACN,KAAO,GAAa,CAAG,EAAI,IACzC,CANS,oBAST,YAAsB,EAAK,CACzB,MAAO,GAAI,QAAQ,GAAc,MAAM,EAC5B,QAAQ,MAAO,KAAK,EACpB,QAAQ,MAAO,KAAK,EACpB,QAAQ,MAAO,KAAK,EACpB,QAAQ,MAAO,KAAK,CACjC,CANS,qBAST,YAAuB,EAAK,EAAS,CACnC,GAAW,SACX,GAAI,GAAU,EAAI,MAAM,GAAI,QAAO,EAAS,GAAG,CAAC,EAChD,MAAO,GAAU,EAAQ,OAAS,CACpC,CAJS,sBAOT,YAAoB,EAAK,EAAS,EAAM,CACtC,UAAW,WACX,EAAO,EAAK,QAAQ,MAAO,MAAM,EAC1B,EAAI,QAAQ,GAAI,QAAO,EAAS,GAAG,EAAG,EAAO,IAAI,CAC1D,CAJS,mBAOT,YAAwB,EAAQ,EAAO,CACrC,GAAI,MAAO,IAAU,UAAW,MAAO,CAAC,EACxC,OAAS,KAAO,GAAQ,GAAI,EAAM,GAAM,MAAO,EACjD,CAHS,uBAMT,YAA8B,EAAQ,EAAO,EAAe,CAC1D,GAAI,MAAO,IAAU,UAAW,MAAO,CAAC,GAAU,GAAiB,MACnE,OAAS,KAAO,GAAQ,GAAI,GAAO,GAAiB,EAAM,GAAM,MAAO,EACzE,CAHS,6BAMT,YAA4B,EAAQ,EAAO,CACzC,GAAI,MAAO,IAAU,WACrB,OAAS,KAAO,GAAQ,GAAI,CAAC,EAAM,GAAM,MAAO,GAClD,CAHS,2BAMT,YAAwB,EAAK,CAC3B,MAAO,IAAO,GAAa,CAAG,EAAI,GACpC,CAFS,uBAKT,YAAqB,EAAa,EAAM,EAAc,EAAU,CAC9D,GAAI,GAAO,EACG,SAAa,EAAQ,GAAW,GAAK,8CACpC,EAAW,SAAa,EAAO,SAAa,YAAiB,EAAO,YACnF,MAAO,IAAU,EAAa,CAAI,CACpC,CALS,oBAQT,YAAiB,EAAa,EAAM,EAAc,CAChD,GAAI,GAAO,AACG,GADH,EACkB,IAAM,GAAkB,CAAI,EAC5B,GAAY,CAAI,CADa,EAE1D,MAAO,IAAU,EAAa,CAAI,CACpC,CALS,gBAQT,GAAI,IAAe,sBACf,GAAwB,mCAC5B,YAAiB,EAAO,EAAK,EAAO,CAClC,GAAI,GAAI,EAAa,EAAM,EAC3B,GAAI,IAAU,GAAI,MAAO,WACzB,GAAI,EAAM,IAAM,IAAK,CACnB,GAAI,CAAC,GAAa,KAAK,CAAK,EAAG,KAAM,IAAI,OAAM,yBAA2B,CAAK,EAC/E,EAAc,EACd,EAAO,UACT,KAAO,CAEL,GADA,EAAU,EAAM,MAAM,EAAqB,EACvC,CAAC,EAAS,KAAM,IAAI,OAAM,yBAA2B,CAAK,EAG9D,GAFA,EAAK,CAAC,EAAQ,GACd,EAAc,EAAQ,GAClB,GAAe,IAAK,CACtB,GAAI,GAAM,EAAK,KAAM,IAAI,OAAM,gCAAkC,EAAK,gCAAkC,CAAG,EAC3G,MAAO,GAAM,EAAM,EACrB,CAEA,GAAI,EAAK,EAAK,KAAM,IAAI,OAAM,sBAAwB,EAAK,gCAAkC,CAAG,EAEhG,GADA,EAAO,OAAW,GAAM,GAAO,IAC3B,CAAC,EAAa,MAAO,EAC3B,CAIA,OAFI,GAAO,EACP,EAAW,EAAY,MAAM,GAAG,EAC3B,EAAE,EAAG,EAAE,EAAS,OAAQ,IAAK,CACpC,GAAI,GAAU,EAAS,GACvB,AAAI,GACF,IAAQ,GAAY,GAAoB,CAAO,CAAC,EAChD,GAAQ,OAAS,EAErB,CACA,MAAO,EACT,CAhCS,gBAmCT,YAAoB,EAAG,EAAG,CACxB,MAAI,IAAK,KAAa,EACd,GAAI,MAAQ,GAAG,QAAQ,iBAAkB,IAAI,CACvD,CAHS,kBAMT,YAA0B,EAAK,CAC7B,MAAO,IAAoB,mBAAmB,CAAG,CAAC,CACpD,CAFS,yBAKT,YAAwB,EAAK,CAC3B,MAAO,oBAAmB,GAAkB,CAAG,CAAC,CAClD,CAFS,uBAKT,YAA2B,EAAK,CAC9B,MAAO,GAAI,QAAQ,KAAM,IAAI,EAAE,QAAQ,MAAO,IAAI,CACpD,CAFS,0BAKT,YAA6B,EAAK,CAChC,MAAO,GAAI,QAAQ,MAAO,GAAG,EAAE,QAAQ,MAAO,GAAG,CACnD,CAFS,8BC5OT,iCAEA,GAAI,IAAO,KAEX,GAAO,QAAU,GAEjB,YAAsB,EAAK,CACzB,GAAK,KAAK,EAAK,IAAI,CACrB,CAFS,uBCNT,iCAEA,GAAI,IAAW,GAAO,QAAU,SAAU,EAAQ,EAAM,EAAI,CAE1D,AAAI,MAAO,IAAQ,YACjB,GAAK,EACL,EAAO,CAAC,GAGV,EAAK,EAAK,IAAM,EAChB,GAAI,GAAO,MAAO,IAAM,WAAc,EAAK,EAAG,KAAO,UAAW,CAAC,EAC7D,EAAO,EAAG,MAAQ,UAAW,CAAC,EAElC,GAAU,EAAM,EAAK,EAAM,EAAQ,GAAI,CAAM,CAC/C,EAGA,GAAS,SAAW,CAClB,gBAAiB,GACjB,MAAO,GACP,SAAU,GACV,qBAAsB,GACtB,cAAe,GACf,IAAK,EACP,EAEA,GAAS,cAAgB,CACvB,MAAO,GACP,MAAO,GACP,MAAO,GACP,MAAO,EACT,EAEA,GAAS,cAAgB,CACvB,YAAa,GACb,WAAY,GACZ,kBAAmB,GACnB,aAAc,EAChB,EAEA,GAAS,aAAe,CACtB,QAAS,GACT,KAAM,GACN,MAAO,GACP,SAAU,GACV,QAAS,GACT,QAAS,GACT,iBAAkB,GAClB,iBAAkB,GAClB,WAAY,GACZ,UAAW,GACX,UAAW,GACX,QAAS,GACT,OAAQ,GACR,SAAU,GACV,SAAU,GACV,YAAa,GACb,cAAe,GACf,cAAe,EACjB,EAGA,YAAmB,EAAM,EAAK,EAAM,EAAQ,EAAS,EAAY,EAAe,EAAe,EAAc,EAAU,CACrH,GAAI,GAAU,MAAO,IAAU,UAAY,CAAC,MAAM,QAAQ,CAAM,EAAG,CACjE,EAAI,EAAQ,EAAS,EAAY,EAAe,EAAe,EAAc,CAAQ,EACrF,OAAS,KAAO,GAAQ,CACtB,GAAI,GAAM,EAAO,GACjB,GAAI,MAAM,QAAQ,CAAG,GACnB,GAAI,IAAO,IAAS,cAClB,OAAS,GAAE,EAAG,EAAE,EAAI,OAAQ,IAC1B,GAAU,EAAM,EAAK,EAAM,EAAI,GAAI,EAAU,IAAM,EAAM,IAAM,EAAG,EAAY,EAAS,EAAK,EAAQ,CAAC,UAEhG,IAAO,IAAS,eACzB,GAAI,GAAO,MAAO,IAAO,SACvB,OAAS,KAAQ,GACf,GAAU,EAAM,EAAK,EAAM,EAAI,GAAO,EAAU,IAAM,EAAM,IAAM,GAAc,CAAI,EAAG,EAAY,EAAS,EAAK,EAAQ,CAAI,MAE5H,AAAI,KAAO,IAAS,UAAa,EAAK,SAAW,CAAE,KAAO,IAAS,gBACxE,GAAU,EAAM,EAAK,EAAM,EAAK,EAAU,IAAM,EAAK,EAAY,EAAS,EAAK,CAAM,CAEzF,CACA,EAAK,EAAQ,EAAS,EAAY,EAAe,EAAe,EAAc,CAAQ,CACxF,CACF,CArBS,kBAwBT,YAAuB,EAAK,CAC1B,MAAO,GAAI,QAAQ,KAAM,IAAI,EAAE,QAAQ,MAAO,IAAI,CACpD,CAFS,wBCtFT,iCAEA,GAAI,IAAM,KACN,GAAQ,KACR,GAAO,KACP,GAAe,KACf,GAAW,KAEf,GAAO,QAAU,GAEjB,GAAQ,YAAc,GACtB,GAAQ,SAAW,GACnB,GAAQ,IAAM,GACd,GAAQ,IAAM,GACd,GAAQ,UAAY,GACpB,GAAQ,OAAS,GAUjB,YAAiB,EAAS,EAAM,EAAK,CAEnC,GAAI,GAAS,KAAK,MAAM,GACxB,GAAI,MAAO,IAAU,SACnB,GAAI,KAAK,MAAM,GAAS,EAAS,KAAK,MAAM,OACvC,OAAO,IAAQ,KAAK,KAAM,EAAS,EAAM,CAAM,EAItD,GADA,EAAS,GAAU,KAAK,SAAS,GAC7B,YAAkB,IACpB,MAAO,IAAU,EAAO,OAAQ,KAAK,MAAM,UAAU,EAC3C,EAAO,OACP,EAAO,UAAY,KAAK,SAAS,CAAM,EAGnD,GAAI,GAAM,GAAc,KAAK,KAAM,EAAM,CAAG,EACxC,EAAQ,EAAG,EACf,MAAI,IACF,GAAS,EAAI,OACb,EAAO,EAAI,KACX,EAAS,EAAI,QAGf,AAAI,YAAkB,IACpB,EAAI,EAAO,UAAY,EAAQ,KAAK,KAAM,EAAO,OAAQ,EAAM,OAAW,CAAM,EACvE,IAAW,QACpB,GAAI,GAAU,EAAQ,KAAK,MAAM,UAAU,EACrC,EACA,EAAQ,KAAK,KAAM,EAAQ,EAAM,OAAW,CAAM,GAGnD,CACT,CAhCS,gBA0CT,YAAuB,EAAM,EAAK,CAEhC,GAAI,GAAI,GAAI,MAAM,CAAG,EACjB,EAAU,GAAa,CAAC,EACxB,EAAS,GAAY,KAAK,OAAO,EAAK,MAAM,CAAC,EACjD,GAAI,OAAO,KAAK,EAAK,MAAM,EAAE,SAAW,GAAK,IAAY,EAAQ,CAC/D,GAAI,GAAK,GAAY,CAAO,EACxB,EAAS,KAAK,MAAM,GACxB,GAAI,MAAO,IAAU,SACnB,MAAO,IAAiB,KAAK,KAAM,EAAM,EAAQ,CAAC,EAC7C,GAAI,YAAkB,IAC3B,AAAK,EAAO,UAAU,KAAK,SAAS,CAAM,EAC1C,EAAO,UAEP,EAAS,KAAK,SAAS,GACnB,YAAkB,IAAc,CAElC,GADK,EAAO,UAAU,KAAK,SAAS,CAAM,EACtC,GAAM,GAAY,CAAG,EACvB,MAAO,CAAE,OAAQ,EAAQ,KAAM,EAAM,OAAQ,CAAO,EACtD,EAAO,CACT,KACE,QAGJ,GAAI,CAAC,EAAK,OAAQ,OAClB,EAAS,GAAY,KAAK,OAAO,EAAK,MAAM,CAAC,CAC/C,CACA,MAAO,IAAe,KAAK,KAAM,EAAG,EAAQ,EAAK,OAAQ,CAAI,CAC/D,CA5BS,sBAgCT,YAA0B,EAAM,EAAK,EAAW,CAE9C,GAAI,GAAM,GAAc,KAAK,KAAM,EAAM,CAAG,EAC5C,GAAI,EAAK,CACP,GAAI,GAAS,EAAI,OACb,EAAS,EAAI,OACjB,EAAO,EAAI,KACX,GAAI,GAAK,KAAK,OAAO,CAAM,EAC3B,MAAI,IAAI,GAAS,GAAW,EAAQ,CAAE,GAC/B,GAAe,KAAK,KAAM,EAAW,EAAQ,EAAQ,CAAI,CAClE,CACF,CAXS,yBAcT,GAAI,IAAuB,GAAK,OAAO,CAAC,aAAc,oBAAqB,OAAQ,eAAgB,aAAa,CAAC,EAEjH,YAAwB,EAAW,EAAQ,EAAQ,EAAM,CAGvD,GADA,EAAU,SAAW,EAAU,UAAY,GACvC,EAAU,SAAS,MAAM,EAAE,CAAC,GAAK,IAGrC,QAFI,GAAQ,EAAU,SAAS,MAAM,GAAG,EAE/B,EAAI,EAAG,EAAI,EAAM,OAAQ,IAAK,CACrC,GAAI,GAAO,EAAM,GACjB,GAAI,EAAM,CAGR,GAFA,EAAO,GAAK,iBAAiB,CAAI,EACjC,EAAS,EAAO,GACZ,IAAW,OAAW,MAC1B,GAAI,GACJ,GAAI,CAAC,GAAqB,IACxB,GAAK,KAAK,OAAO,CAAM,EACnB,GAAI,GAAS,GAAW,EAAQ,CAAE,GAClC,EAAO,MAAM,CACf,GAAI,GAAO,GAAW,EAAQ,EAAO,IAAI,EACrC,EAAM,GAAc,KAAK,KAAM,EAAM,CAAI,EAC7C,AAAI,GACF,GAAS,EAAI,OACb,EAAO,EAAI,KACX,EAAS,EAAI,OAEjB,CAEJ,CACF,CACA,GAAI,IAAW,QAAa,IAAW,EAAK,OAC1C,MAAO,CAAE,OAAQ,EAAQ,KAAM,EAAM,OAAQ,CAAO,EACxD,CA9BS,uBAiCT,GAAI,IAAiB,GAAK,OAAO,CAC/B,OAAQ,SAAU,UAClB,YAAa,YACb,gBAAiB,gBACjB,WAAY,WACZ,UAAW,UACX,cAAe,aACf,WAAY,MACd,CAAC,EACD,YAAmB,EAAQ,EAAO,CAChC,GAAI,IAAU,GAAO,MAAO,GAC5B,GAAI,IAAU,QAAa,IAAU,GAAM,MAAO,IAAW,CAAM,EAC9D,GAAI,EAAO,MAAO,IAAU,CAAM,GAAK,CAC9C,CAJS,kBAOT,YAAoB,EAAQ,CAC1B,GAAI,GACJ,GAAI,MAAM,QAAQ,CAAM,GACtB,OAAS,GAAE,EAAG,EAAE,EAAO,OAAQ,IAE7B,GADA,EAAO,EAAO,GACV,MAAO,IAAQ,UAAY,CAAC,GAAW,CAAI,EAAG,MAAO,OAG3D,QAAS,KAAO,GAGd,GAFI,GAAO,QACX,GAAO,EAAO,GACV,MAAO,IAAQ,UAAY,CAAC,GAAW,CAAI,GAAG,MAAO,GAG7D,MAAO,EACT,CAfS,mBAkBT,YAAmB,EAAQ,CACzB,GAAI,GAAQ,EAAG,EACf,GAAI,MAAM,QAAQ,CAAM,GACtB,OAAS,GAAE,EAAG,EAAE,EAAO,OAAQ,IAG7B,GAFA,EAAO,EAAO,GACV,MAAO,IAAQ,UAAU,IAAS,GAAU,CAAI,GAChD,GAAS,IAAU,MAAO,SAGhC,QAAS,KAAO,GAAQ,CACtB,GAAI,GAAO,OAAQ,MAAO,KAC1B,GAAI,GAAe,GACjB,YAEA,EAAO,EAAO,GACV,MAAO,IAAQ,UAAU,IAAS,GAAU,CAAI,EAAI,GACpD,GAAS,IAAU,MAAO,IAElC,CAEF,MAAO,EACT,CArBS,kBAwBT,YAAqB,EAAI,EAAW,CAClC,AAAI,IAAc,IAAO,GAAK,GAAY,CAAE,GAC5C,GAAI,GAAI,GAAI,MAAM,CAAE,EACpB,MAAO,IAAa,CAAC,CACvB,CAJS,oBAOT,YAAsB,EAAG,CACvB,MAAO,IAAI,UAAU,CAAC,EAAE,MAAM,GAAG,EAAE,GAAK,GAC1C,CAFS,qBAKT,GAAI,IAAsB,QAC1B,YAAqB,EAAI,CACvB,MAAO,GAAK,EAAG,QAAQ,GAAqB,EAAE,EAAI,EACpD,CAFS,oBAKT,YAAoB,EAAQ,EAAI,CAC9B,SAAK,GAAY,CAAE,EACZ,GAAI,QAAQ,EAAQ,CAAE,CAC/B,CAHS,mBAOT,YAAoB,EAAQ,CAC1B,GAAI,GAAW,GAAY,KAAK,OAAO,CAAM,CAAC,EAC1C,EAAU,CAAC,GAAI,CAAQ,EACvB,EAAY,CAAC,GAAI,GAAY,EAAU,EAAK,CAAC,EAC7C,EAAY,CAAC,EACb,EAAO,KAEX,UAAS,EAAQ,CAAC,QAAS,EAAI,EAAG,SAAS,EAAK,EAAS,EAAY,EAAe,EAAe,EAAc,EAAU,CACzH,GAAI,IAAY,GAChB,IAAI,GAAK,EAAK,OAAO,CAAG,EACpB,EAAS,EAAQ,GACjB,EAAW,EAAU,GAAiB,IAAM,EAIhD,GAHI,IAAa,QACf,IAAY,IAAO,OAAO,IAAY,SAAW,EAAW,GAAK,eAAe,CAAQ,IAEtF,MAAO,IAAM,SAAU,CACzB,EAAK,EAAS,GAAY,EAAS,GAAI,QAAQ,EAAQ,CAAE,EAAI,CAAE,EAE/D,GAAI,GAAS,EAAK,MAAM,GAExB,GADI,MAAO,IAAU,UAAU,GAAS,EAAK,MAAM,IAC/C,GAAU,EAAO,QACnB,GAAI,CAAC,GAAM,EAAK,EAAO,MAAM,EAC3B,KAAM,IAAI,OAAM,OAAS,EAAK,oCAAoC,UAC3D,GAAM,GAAY,CAAQ,EACnC,GAAI,EAAG,IAAM,IAAK,CAChB,GAAI,EAAU,IAAO,CAAC,GAAM,EAAK,EAAU,EAAG,EAC5C,KAAM,IAAI,OAAM,OAAS,EAAK,oCAAoC,EACpE,EAAU,GAAM,CAClB,KACE,GAAK,MAAM,GAAM,CAGvB,CACA,EAAQ,GAAW,EACnB,EAAU,GAAW,EACvB,CAAC,EAEM,CACT,CAtCS,qBCvOT,iCAEA,GAAI,IAAU,KAEd,GAAO,QAAU,CACf,WAAY,GAAc,EAAe,EACzC,WAAY,GAAc,EAAe,CAC3C,EAGA,YAAyB,EAAQ,CAC/B,KAAK,QAAU,oBACf,KAAK,OAAS,EACd,KAAK,IAAM,KAAK,WAAa,EAC/B,CAJS,wBAOT,GAAgB,QAAU,SAAU,EAAQ,EAAK,CAC/C,MAAO,2BAA8B,EAAM,YAAc,CAC3D,EAGA,YAAyB,EAAQ,EAAK,EAAS,CAC7C,KAAK,QAAU,GAAW,GAAgB,QAAQ,EAAQ,CAAG,EAC7D,KAAK,WAAa,GAAQ,IAAI,EAAQ,CAAG,EACzC,KAAK,cAAgB,GAAQ,YAAY,GAAQ,SAAS,KAAK,UAAU,CAAC,CAC5E,CAJS,wBAOT,YAAuB,EAAU,CAC/B,SAAS,UAAY,OAAO,OAAO,MAAM,SAAS,EAClD,EAAS,UAAU,YAAc,EAC1B,CACT,CAJS,wBC7BT,iCAEA,GAAO,QAAU,SAAU,EAAM,EAAM,CACnC,AAAK,GAAM,GAAO,CAAC,GACf,MAAO,IAAS,YAAY,GAAO,CAAE,IAAK,CAAK,GACnD,GAAI,GAAU,MAAO,GAAK,QAAW,UAAa,EAAK,OAAS,GAE5D,EAAM,EAAK,KAAQ,SAAU,EAAG,CAChC,MAAO,UAAU,EAAM,CACnB,MAAO,UAAU,EAAG,EAAG,CACnB,GAAI,GAAO,CAAE,IAAK,EAAG,MAAO,EAAK,EAAG,EAChC,EAAO,CAAE,IAAK,EAAG,MAAO,EAAK,EAAG,EACpC,MAAO,GAAE,EAAM,CAAI,CACvB,CACJ,CACJ,EAAG,EAAK,GAAG,EAEP,EAAO,CAAC,EACZ,MAAQ,cAAoB,EAAM,CAK9B,GAJI,GAAQ,EAAK,QAAU,MAAO,GAAK,QAAW,YAC9C,GAAO,EAAK,OAAO,GAGnB,IAAS,OACb,IAAI,MAAO,IAAQ,SAAU,MAAO,UAAS,CAAI,EAAI,GAAK,EAAO,OACjE,GAAI,MAAO,IAAS,SAAU,MAAO,MAAK,UAAU,CAAI,EAExD,GAAI,GAAG,EACP,GAAI,MAAM,QAAQ,CAAI,EAAG,CAErB,IADA,EAAM,IACD,EAAI,EAAG,EAAI,EAAK,OAAQ,IACzB,AAAI,GAAG,IAAO,KACd,GAAO,EAAU,EAAK,EAAE,GAAK,OAEjC,MAAO,GAAM,GACjB,CAEA,GAAI,IAAS,KAAM,MAAO,OAE1B,GAAI,EAAK,QAAQ,CAAI,IAAM,GAAI,CAC3B,GAAI,EAAQ,MAAO,MAAK,UAAU,WAAW,EAC7C,KAAM,IAAI,WAAU,uCAAuC,CAC/D,CAEA,GAAI,GAAY,EAAK,KAAK,CAAI,EAAI,EAC9B,EAAO,OAAO,KAAK,CAAI,EAAE,KAAK,GAAO,EAAI,CAAI,CAAC,EAElD,IADA,EAAM,GACD,EAAI,EAAG,EAAI,EAAK,OAAQ,IAAK,CAC9B,GAAI,GAAM,EAAK,GACX,EAAQ,EAAU,EAAK,EAAI,EAE/B,AAAI,CAAC,GACD,IAAK,IAAO,KAChB,GAAO,KAAK,UAAU,CAAG,EAAI,IAAM,EACvC,CACA,SAAK,OAAO,EAAW,CAAC,EACjB,IAAM,EAAM,IACvB,EAvCQ,aAuCL,CAAI,CACX,IC1DA,iCACA,GAAO,QAAU,WAA2B,EAAI,EAAU,EAAW,CACnE,GAAI,GAAM,GACN,EAAS,EAAG,OAAO,SAAW,GAChC,EAAe,EAAG,KAAK,qBAAqB,EAAG,OAAQ,EAAG,MAAM,IAAK,MAAM,EAC3E,EAAM,EAAG,KAAK,OAAO,EAAG,MAAM,EAChC,GAAI,EAAG,KAAK,eAAgB,CAC1B,GAAI,GAAc,EAAG,KAAK,mBAAmB,EAAG,OAAQ,EAAG,MAAM,QAAQ,EACzE,GAAI,EAAa,CACf,GAAI,GAAe,oBAAsB,EACzC,GAAI,EAAG,KAAK,iBAAmB,MAAO,EAAG,OAAO,KAAK,CAAY,MAC5D,MAAM,IAAI,OAAM,CAAY,CACnC,CACF,CAYA,GAXI,EAAG,OACL,IAAO,mBACH,GACF,GAAG,MAAQ,GACX,GAAO,UAET,GAAO,sFACH,GAAQ,GAAG,KAAK,YAAc,EAAG,KAAK,cACxC,IAAO,IAAO,kBAAoB,EAAM,OAAS,MAGjD,MAAO,GAAG,QAAU,WAAa,CAAE,IAAgB,EAAG,OAAO,MAAO,CACtE,GAAI,GAAW,eACX,EAAO,EAAG,MACV,EAAW,EAAG,UACd,EAAU,EAAG,OAAO,GACpB,EAAc,EAAG,WAAa,EAAG,KAAK,YAAY,CAAQ,EAC1D,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EACA,EAAQ,OAAU,IAAY,IAC9B,EAAS,QAAU,EACvB,GAAI,EAAG,SAAW,GAAO,CACvB,AAAI,EAAG,MACL,EAAgB,GAEhB,GAAO,QAAW,EAAU,aAE9B,GAAI,GAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,gBAAoB,IAAiB,gBAAkB,oCAA0C,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,iBACnL,EAAG,KAAK,WAAa,IACvB,IAAO,0CAEL,EAAG,KAAK,SACV,IAAO,mDAAsD,EAAG,WAAc,YAAe,EAAS,KAExG,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,EAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,8EAErC,KACE,AAAI,GAAG,MACL,AAAI,EACF,GAAO,iBAEP,GAAO,yCAGT,GAAO,QAAW,EAAU,YAGhC,MAAI,GAAG,OACL,IAAO,yBAEF,CACT,CACA,GAAI,EAAG,MAAO,CACZ,GAAI,GAAO,EAAG,MACZ,EAAO,EAAG,MAAQ,EAClB,EAAW,EAAG,UAAY,EAC1B,EAAQ,OAKV,GAJA,EAAG,OAAS,EAAG,QAAQ,SAAS,EAAG,KAAK,OAAO,EAAG,KAAK,MAAM,CAAC,EAC9D,EAAG,OAAS,EAAG,QAAU,EAAG,OAC5B,MAAO,GAAG,MACV,EAAG,YAAc,CAAC,EAAE,EAChB,EAAG,OAAO,UAAY,QAAa,EAAG,KAAK,aAAe,EAAG,KAAK,eAAgB,CACpF,GAAI,GAAc,wCAClB,GAAI,EAAG,KAAK,iBAAmB,MAAO,EAAG,OAAO,KAAK,CAAW,MAC3D,MAAM,IAAI,OAAM,CAAW,CAClC,CACA,GAAO,wBACP,GAAO,wBACP,GAAO,gDACT,KAAO,CACL,GAAI,GAAO,EAAG,MACZ,EAAW,EAAG,UACd,EAAQ,OAAU,IAAY,IAEhC,GADI,GAAK,GAAG,OAAS,EAAG,QAAQ,IAAI,EAAG,OAAQ,CAAG,GAC9C,GAAU,CAAC,EAAG,MAAO,KAAM,IAAI,OAAM,6BAA6B,EACtE,GAAO,aAAgB,EAAQ,YACjC,CACA,GAAI,GAAS,QAAU,EACrB,EAAgB,CAAC,EAAG,KAAK,UACzB,EAAkB,GAClB,EAAkB,GAChB,EACA,EAAc,EAAG,OAAO,KAC1B,EAAe,MAAM,QAAQ,CAAW,EAa1C,GAZI,GAAe,EAAG,KAAK,UAAY,EAAG,OAAO,WAAa,IAC5D,CAAI,EACE,EAAY,QAAQ,MAAM,GAAK,IAAI,GAAc,EAAY,OAAO,MAAM,GACrE,GAAe,QACxB,GAAc,CAAC,EAAa,MAAM,EAClC,EAAe,KAGf,GAAgB,EAAY,QAAU,GACxC,GAAc,EAAY,GAC1B,EAAe,IAEb,EAAG,OAAO,MAAQ,EAAc,CAClC,GAAI,EAAG,KAAK,YAAc,OACxB,KAAM,IAAI,OAAM,qDAAuD,EAAG,cAAgB,2BAA2B,EAChH,AAAI,EAAG,KAAK,aAAe,IAChC,GAAe,GACf,EAAG,OAAO,KAAK,6CAA+C,EAAG,cAAgB,GAAG,EAExF,CAIA,GAHI,EAAG,OAAO,UAAY,EAAG,KAAK,UAChC,IAAO,IAAO,EAAG,MAAM,IAAI,SAAS,KAAK,EAAI,UAAU,GAErD,EAAa,CACf,GAAI,EAAG,KAAK,YACV,GAAI,GAAiB,EAAG,KAAK,cAAc,EAAG,KAAK,YAAa,CAAW,EAE7E,GAAI,GAAc,EAAG,MAAM,MAAM,GACjC,GAAI,GAAkB,GAAgB,IAAgB,IAAS,GAAe,CAAC,GAAgB,CAAW,EAAI,CAC5G,GAAI,GAAc,EAAG,WAAa,QAChC,EAAiB,EAAG,cAAgB,QAClC,EAAc,EAAG,WAAa,QAChC,EAAiB,EAAG,cAAgB,QACpC,EAAU,EAAe,iBAAmB,gBAE9C,GADA,GAAO,QAAW,EAAG,KAAK,GAAS,EAAa,EAAO,EAAG,KAAK,cAAe,EAAI,EAAK,OACnF,EAAgB,CAClB,GAAI,GAAY,WAAa,EAC3B,EAAW,UAAY,EACzB,GAAO,QAAW,EAAa,aAAgB,EAAS,SAAY,EAAY,iBAC5E,EAAG,KAAK,aAAe,SACzB,IAAO,QAAW,EAAa,iCAAsC,EAAS,QAAW,EAAS,mBAAsB,EAAS,MAAS,EAAS,QAAW,EAAa,aAAgB,EAAS,SAAY,EAAG,KAAK,cAAc,EAAG,OAAO,KAAM,EAAO,EAAG,KAAK,aAAa,EAAK,KAAQ,EAAY,MAAS,EAAS,QAE/T,GAAO,QAAW,EAAY,qBAC9B,GAAI,GAAO,EACX,GAAI,EAGF,OAFI,GAAO,GAAK,GACd,EAAK,EAAK,OAAS,EACd,GAAK,GACV,EAAQ,EAAK,IAAM,GACnB,AAAI,GAAS,SACX,GAAO,aAAgB,EAAa,mBAAwB,EAAa,kBAAuB,EAAY,WAAgB,EAAS,cAAiB,EAAS,cAAiB,EAAY,UACvL,AAAI,GAAS,UAAY,GAAS,UACvC,IAAO,aAAgB,EAAa,oBAAyB,EAAS,iBAAoB,EAAa,mBAAwB,EAAS,OAAU,EAAS,QAAW,EAAS,IAC3K,GAAS,WACX,IAAO,SAAY,EAAS,SAE9B,GAAO,MAAS,EAAY,OAAU,EAAS,MAC1C,AAAI,GAAS,UAClB,GAAO,aAAgB,EAAS,mBAAwB,EAAS,aAAgB,EAAS,cAAiB,EAAY,sBAAyB,EAAS,kBAAuB,EAAS,WAAc,EAAY,YAC9M,AAAI,GAAS,OAClB,GAAO,aAAgB,EAAS,cAAmB,EAAS,aAAgB,EAAS,eAAkB,EAAY,YAC1G,EAAG,KAAK,aAAe,SAAW,GAAS,SACpD,IAAO,aAAgB,EAAa,mBAAwB,EAAa,mBAAwB,EAAa,oBAAyB,EAAS,aAAgB,EAAY,OAAU,EAAS,OAIrM,GAAO,aACP,GAAI,GAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,gBAAoB,IAAiB,QAAU,oCAA0C,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,uBAC/K,AAAI,EACF,GAAO,GAAM,EAAY,KAAK,GAAG,EAEjC,GAAO,GAAM,EAEf,GAAO,OACH,EAAG,KAAK,WAAa,IACvB,IAAO,0BACP,AAAI,EACF,GAAO,GAAM,EAAY,KAAK,GAAG,EAEjC,GAAO,GAAM,EAEf,GAAO,MAEL,EAAG,KAAK,SACV,IAAO,6BAAgC,EAAe,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAEvI,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,EAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,+EAEnC,GAAO,UAAa,EAAY,sBAChC,GAAI,GAAc,EAAW,OAAW,GAAW,GAAM,IAAM,aAC7D,GAAsB,EAAW,EAAG,YAAY,GAAY,qBAC9D,GAAO,IAAO,EAAS,MAAS,EAAY,KACvC,GACH,IAAO,OAAU,EAAe,mBAElC,GAAO,IAAO,EAAe,IAAO,GAAuB,OAAU,EAAY,MACnF,KAAO,CACL,GAAI,GAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,gBAAoB,IAAiB,QAAU,oCAA0C,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,uBAC/K,AAAI,EACF,GAAO,GAAM,EAAY,KAAK,GAAG,EAEjC,GAAO,GAAM,EAEf,GAAO,OACH,EAAG,KAAK,WAAa,IACvB,IAAO,0BACP,AAAI,EACF,GAAO,GAAM,EAAY,KAAK,GAAG,EAEjC,GAAO,GAAM,EAEf,GAAO,MAEL,EAAG,KAAK,SACV,IAAO,6BAAgC,EAAe,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAEvI,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,EAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,8EAErC,CACA,GAAO,KACT,CACF,CACA,GAAI,EAAG,OAAO,MAAQ,CAAC,EACrB,GAAO,IAAO,EAAG,MAAM,IAAI,KAAK,KAAK,EAAI,MAAM,EAAK,IAChD,GACF,IAAO,qBACP,AAAI,EACF,GAAO,IAEP,GAAO,QAAW,EAEpB,GAAO,OACP,GAAmB,SAEhB,CACL,GAAI,IAAO,EAAG,MACd,GAAI,IAGF,OAFI,GAAa,GAAK,GACpB,GAAK,GAAK,OAAS,EACd,GAAK,IAEV,GADA,EAAc,GAAK,IAAM,GACrB,GAAgB,CAAW,EAAG,CAIhC,GAHI,EAAY,MACd,IAAO,QAAW,EAAG,KAAK,cAAc,EAAY,KAAM,EAAO,EAAG,KAAK,aAAa,EAAK,QAEzF,EAAG,KAAK,aACV,GAAI,EAAY,MAAQ,UAAY,EAAG,OAAO,WAAY,CACxD,GAAI,GAAU,EAAG,OAAO,WACtB,GAAc,OAAO,KAAK,CAAO,EAC/B,EAAO,GACX,GAAI,EAGF,OAFI,GAAc,EAAK,GACrB,EAAK,EAAK,OAAS,EACd,EAAK,GAAI,CACd,EAAe,EAAK,GAAM,GAC1B,GAAI,GAAO,EAAQ,GACnB,GAAI,EAAK,UAAY,OAAW,CAC9B,GAAI,GAAY,EAAQ,EAAG,KAAK,YAAY,CAAY,EACxD,GAAI,EAAG,eACL,GAAI,EAAG,KAAK,eAAgB,CAC1B,GAAI,GAAc,2BAA6B,EAC/C,GAAI,EAAG,KAAK,iBAAmB,MAAO,EAAG,OAAO,KAAK,CAAW,MAC3D,MAAM,IAAI,OAAM,CAAW,CAClC,MAEA,IAAO,QAAW,EAAa,kBAC3B,EAAG,KAAK,aAAe,SACzB,IAAO,OAAU,EAAa,gBAAmB,EAAa,YAEhE,GAAO,MAAS,EAAa,MAC7B,AAAI,EAAG,KAAK,aAAe,SACzB,GAAO,IAAO,EAAG,WAAW,EAAK,OAAO,EAAK,IAE7C,GAAO,IAAO,KAAK,UAAU,EAAK,OAAO,EAAK,IAEhD,GAAO,IAEX,CACF,CAEJ,SAAW,EAAY,MAAQ,SAAW,MAAM,QAAQ,EAAG,OAAO,KAAK,EAAG,CACxE,GAAI,IAAO,EAAG,OAAO,MACrB,GAAI,IAGF,OAFI,GAAM,GAAK,GACb,GAAK,GAAK,OAAS,EACd,GAAK,IAEV,GADA,EAAO,GAAK,IAAM,GACd,EAAK,UAAY,OAAW,CAC9B,GAAI,GAAY,EAAQ,IAAM,GAAK,IACnC,GAAI,EAAG,eACL,GAAI,EAAG,KAAK,eAAgB,CAC1B,GAAI,GAAc,2BAA6B,EAC/C,GAAI,EAAG,KAAK,iBAAmB,MAAO,EAAG,OAAO,KAAK,CAAW,MAC3D,MAAM,IAAI,OAAM,CAAW,CAClC,MAEA,IAAO,QAAW,EAAa,kBAC3B,EAAG,KAAK,aAAe,SACzB,IAAO,OAAU,EAAa,gBAAmB,EAAa,YAEhE,GAAO,MAAS,EAAa,MAC7B,AAAI,EAAG,KAAK,aAAe,SACzB,GAAO,IAAO,EAAG,WAAW,EAAK,OAAO,EAAK,IAE7C,GAAO,IAAO,KAAK,UAAU,EAAK,OAAO,EAAK,IAEhD,GAAO,IAEX,EAGN,EAEF,GAAI,IAAO,EAAY,MACvB,GAAI,IAGF,OAFI,IAAO,GAAK,GACd,GAAK,GAAK,OAAS,EACd,GAAK,IAEV,GADA,GAAQ,GAAK,IAAM,GACf,GAAe,EAAK,EAAG,CACzB,GAAI,IAAQ,GAAM,KAAK,EAAI,GAAM,QAAS,EAAY,IAAI,EAC1D,AAAI,IACF,IAAO,IAAO,GAAS,IACnB,GACF,IAAmB,KAGzB,EAOJ,GAJI,GACF,IAAO,IAAO,EAAmB,IACjC,EAAkB,IAEhB,EAAY,MACd,IAAO,MACH,GAAe,IAAgB,EAAY,MAAQ,CAAC,GAAgB,CACtE,GAAO,WACP,GAAI,GAAc,EAAG,WAAa,QAChC,EAAiB,EAAG,cAAgB,QAClC,EAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,gBAAoB,IAAiB,QAAU,oCAA0C,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,uBAC/K,AAAI,EACF,GAAO,GAAM,EAAY,KAAK,GAAG,EAEjC,GAAO,GAAM,EAEf,GAAO,OACH,EAAG,KAAK,WAAa,IACvB,IAAO,0BACP,AAAI,EACF,GAAO,GAAM,EAAY,KAAK,GAAG,EAEjC,GAAO,GAAM,EAEf,GAAO,MAEL,EAAG,KAAK,SACV,IAAO,6BAAgC,EAAe,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAEvI,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,EAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,+EAEnC,GAAO,KACT,CAEF,AAAI,GACF,IAAO,mBACP,AAAI,EACF,GAAO,IAEP,GAAO,QAAW,EAEpB,GAAO,OACP,GAAmB,IAEvB,EAGN,CACA,AAAI,GACF,IAAO,IAAO,EAAmB,KAEnC,AAAI,EACF,CAAI,EACF,IAAO,6CACP,GAAO,8CAEP,IAAO,+BACP,GAAO,gCAET,GAAO,wBAEP,GAAO,QAAW,EAAU,sBAAyB,EAAQ,IAG/D,YAAyB,GAAa,CAEpC,OADI,IAAQ,GAAY,MACf,GAAI,EAAG,GAAI,GAAM,OAAQ,KAChC,GAAI,GAAe,GAAM,GAAE,EAAG,MAAO,EACzC,CAJS,wBAMT,YAAwB,GAAO,CAC7B,MAAO,GAAG,OAAO,GAAM,WAAa,QAAc,GAAM,YAAc,GAA2B,EAAK,CACxG,CAFS,uBAIT,YAAoC,GAAO,CAEzC,OADI,IAAO,GAAM,WACR,GAAI,EAAG,GAAI,GAAK,OAAQ,KAC/B,GAAI,EAAG,OAAO,GAAK,OAAQ,OAAW,MAAO,EACjD,CAJS,0CAKF,CACT,EAheiB,uBCDjB,iCAEA,GAAI,IAAU,KACV,GAAO,KACP,GAAe,KACf,GAAkB,KAElB,GAAoB,KAMpB,GAAa,GAAK,WAClB,GAAQ,KAGR,GAAkB,GAAa,WAEnC,GAAO,QAAU,GAYjB,YAAiB,EAAQ,EAAM,EAAW,EAAQ,CAGhD,GAAI,GAAO,KACP,EAAO,KAAK,MACZ,EAAS,CAAE,MAAU,EACrB,EAAO,CAAC,EACR,EAAW,CAAC,EACZ,EAAe,CAAC,EAChB,EAAW,CAAC,EACZ,EAAe,CAAC,EAChB,EAAc,CAAC,EAEnB,EAAO,GAAQ,CAAE,OAAQ,EAAQ,OAAQ,EAAQ,KAAM,CAAK,EAE5D,GAAI,GAAI,GAAe,KAAK,KAAM,EAAQ,EAAM,CAAM,EAClD,EAAc,KAAK,cAAc,EAAE,OACvC,GAAI,EAAE,UAAW,MAAQ,GAAY,aAAe,EAEpD,GAAI,GAAU,KAAK,SACf,EAAQ,KAAK,MAEjB,GAAI,CACF,GAAI,GAAI,EAAa,EAAQ,EAAM,EAAW,CAAM,EACpD,EAAY,SAAW,EACvB,GAAI,GAAK,EAAY,aACrB,MAAI,IACF,GAAG,OAAS,EAAE,OACd,EAAG,OAAS,KACZ,EAAG,KAAO,EAAE,KACZ,EAAG,OAAS,EAAE,OACd,EAAG,KAAO,EAAE,KACZ,EAAG,OAAS,EAAE,OACV,EAAK,YAAY,GAAG,OAAS,EAAE,SAE9B,CACT,QAAE,CACA,GAAa,KAAK,KAAM,EAAQ,EAAM,CAAM,CAC9C,CAGA,YAAwB,CAEtB,GAAI,GAAW,EAAY,SACvB,EAAS,EAAS,MAAM,KAAM,SAAS,EAC3C,SAAa,OAAS,EAAS,OACxB,CACT,CANS,oBAQT,WAAsB,EAAS,EAAO,EAAW,EAAQ,CACvD,GAAI,GAAS,CAAC,GAAU,GAAS,EAAM,QAAU,EACjD,GAAI,EAAM,QAAU,EAAK,OACvB,MAAO,IAAQ,KAAK,EAAM,EAAS,EAAO,EAAW,CAAM,EAE7D,GAAI,IAAS,EAAQ,SAAW,GAE5B,EAAa,GAAkB,CACjC,MAAO,GACP,OAAQ,EACR,OAAQ,EACR,OAAQ,EACR,KAAM,EACN,WAAY,GACZ,cAAe,IACf,UAAW,KACX,gBAAiB,GAAa,WAC9B,MAAO,EACP,SAAU,GACV,KAAM,GACN,QAAS,GACT,WAAY,EACZ,WAAY,EACZ,WAAY,EACZ,cAAe,EACf,KAAM,EACN,QAAS,EACT,OAAQ,EAAK,OACb,KAAM,CACR,CAAC,EAED,EAAa,GAAK,EAAQ,EAAU,EAAI,GAAK,EAAU,EAAW,EACjD,GAAK,EAAU,EAAW,EAAI,GAAK,EAAa,EAAc,EAC9D,EAEb,EAAK,aAAa,GAAa,EAAK,YAAY,EAAY,CAAO,GAEvE,GAAI,GACJ,GAAI,CACF,GAAI,IAAe,GAAI,UACrB,OACA,QACA,UACA,OACA,SACA,WACA,cACA,QACA,aACA,kBACA,CACF,EAEA,EAAW,GACT,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,EACF,EAEA,EAAO,GAAK,CACd,OAAQ,GAAN,CACA,QAAK,OAAO,MAAM,yCAA0C,CAAU,EAChE,EACR,CAEA,SAAS,OAAS,EAClB,EAAS,OAAS,KAClB,EAAS,KAAO,EAChB,EAAS,OAAS,EAClB,EAAS,KAAO,EAAS,EAAW,EAChC,IAAQ,GAAS,OAAS,IAC1B,EAAK,aAAe,IACtB,GAAS,OAAS,CAChB,KAAM,EACN,SAAU,EACV,SAAU,CACZ,GAGK,CACT,CAvFS,oBAyFT,WAAoB,EAAQ,EAAK,EAAQ,CACvC,EAAM,GAAQ,IAAI,EAAQ,CAAG,EAC7B,GAAI,GAAW,EAAK,GAChB,EAAS,GACb,GAAI,IAAa,OACf,SAAU,EAAO,GACjB,GAAU,UAAY,EAAW,IAC1B,EAAY,EAAS,EAAO,EAErC,GAAI,CAAC,GAAU,EAAK,KAAM,CACxB,GAAI,GAAY,EAAK,KAAK,GAC1B,GAAI,IAAc,OAChB,SAAU,EAAK,OAAO,GACtB,GAAU,EAAY,EAAK,CAAO,EAC3B,EAAY,EAAS,EAAO,CAEvC,CAEA,GAAU,EAAY,CAAG,EACzB,GAAI,GAAI,GAAQ,KAAK,EAAM,EAAc,EAAM,CAAG,EAClD,GAAI,IAAM,OAAW,CACnB,GAAI,IAAc,GAAa,EAAU,GACzC,AAAI,IACF,GAAI,GAAQ,UAAU,GAAa,EAAK,UAAU,EAC5C,GACA,GAAQ,KAAK,EAAM,GAAa,EAAM,EAAW,CAAM,EAEjE,CAEA,GAAI,IAAM,OACR,EAAe,CAAG,MAElB,UAAgB,EAAK,CAAC,EACf,EAAY,EAAG,EAAO,CAEjC,CAnCS,kBAqCT,WAAqB,EAAK,EAAG,CAC3B,GAAI,GAAQ,EAAO,OACnB,SAAO,GAAS,EAChB,EAAK,GAAO,EACL,SAAW,CACpB,CALS,mBAOT,WAAwB,EAAK,CAC3B,MAAO,GAAK,EACd,CAFS,sBAIT,WAAyB,EAAK,EAAG,CAC/B,GAAI,GAAQ,EAAK,GACjB,EAAO,GAAS,CAClB,CAHS,uBAKT,WAAqB,EAAQ,EAAM,CACjC,MAAO,OAAO,IAAU,UAAY,MAAO,IAAU,UAC3C,CAAE,KAAM,EAAM,OAAQ,EAAQ,OAAQ,EAAK,EAC3C,CAAE,KAAM,EAAM,OAAQ,GAAU,CAAC,CAAC,EAAO,MAAO,CAC5D,CAJS,mBAMT,WAAoB,EAAU,CAC5B,GAAI,GAAQ,EAAa,GACzB,MAAI,KAAU,QACZ,GAAQ,EAAa,GAAY,EAAS,OAC1C,EAAS,GAAS,GAEb,UAAY,CACrB,CAPS,kBAST,WAAoB,EAAO,CACzB,OAAQ,MAAO,QACR,cACA,SACH,MAAO,GAAK,MACT,SACH,MAAO,IAAK,eAAe,CAAK,MAC7B,SACH,GAAI,IAAU,KAAM,MAAO,OAC3B,GAAI,GAAW,GAAgB,CAAK,EAChC,EAAQ,EAAa,GACzB,MAAI,KAAU,QACZ,GAAQ,EAAa,GAAY,EAAS,OAC1C,EAAS,GAAS,GAEb,UAAY,EAEzB,CAjBS,kBAmBT,WAAuB,EAAM,EAAQ,EAAc,EAAI,CACrD,GAAI,EAAK,MAAM,iBAAmB,GAAO,CACvC,GAAI,GAAO,EAAK,WAAW,aAC3B,GAAI,GAAQ,CAAC,EAAK,MAAM,SAAS,EAAS,CACxC,MAAO,QAAO,UAAU,eAAe,KAAK,EAAc,CAAO,CACnE,CAAC,EACC,KAAM,IAAI,OAAM,kDAAoD,EAAK,KAAK,GAAG,CAAC,EAEpF,GAAI,IAAiB,EAAK,WAAW,eACrC,GAAI,GAAgB,CAClB,GAAI,GAAQ,GAAe,CAAM,EACjC,GAAI,CAAC,EAAO,CACV,GAAI,GAAU,8BAAgC,EAAK,WAAW,GAAe,MAAM,EACnF,GAAI,EAAK,MAAM,gBAAkB,MAAO,EAAK,OAAO,MAAM,CAAO,MAC5D,MAAM,IAAI,OAAM,CAAO,CAC9B,CACF,CACF,CAEA,GAAI,IAAU,EAAK,WAAW,QAC1B,GAAS,EAAK,WAAW,OACzB,GAAQ,EAAK,WAAW,MAExB,GACJ,GAAI,GACF,GAAW,GAAQ,KAAK,EAAM,EAAQ,EAAc,CAAE,UAC7C,GACT,GAAW,GAAM,KAAK,EAAM,EAAQ,EAAc,CAAE,EAChD,EAAK,iBAAmB,IAAO,EAAK,eAAe,GAAU,EAAI,UAC5D,GACT,GAAW,GAAO,KAAK,EAAM,EAAI,EAAK,QAAS,EAAQ,CAAY,UAEnE,GAAW,EAAK,WAAW,SACvB,CAAC,GAAU,OAGjB,GAAI,KAAa,OACf,KAAM,IAAI,OAAM,mBAAqB,EAAK,QAAU,oBAAoB,EAE1E,GAAI,IAAQ,EAAY,OACxB,SAAY,IAAS,GAEd,CACL,KAAM,aAAe,GACrB,SAAU,EACZ,CACF,CA9CS,oBA+CX,CAhRS,gBA2RT,YAAwB,EAAQ,EAAM,EAAQ,CAE5C,GAAI,GAAQ,GAAU,KAAK,KAAM,EAAQ,EAAM,CAAM,EACrD,MAAI,IAAS,EAAU,CAAE,MAAO,EAAO,UAAW,EAAK,EACvD,GAAQ,KAAK,cAAc,OAC3B,KAAK,cAAc,GAAS,CAC1B,OAAQ,EACR,KAAM,EACN,OAAQ,CACV,EACO,CAAE,MAAO,EAAO,UAAW,EAAM,EAC1C,CAXS,uBAqBT,YAAsB,EAAQ,EAAM,EAAQ,CAE1C,GAAI,GAAI,GAAU,KAAK,KAAM,EAAQ,EAAM,CAAM,EACjD,AAAI,GAAK,GAAG,KAAK,cAAc,OAAO,EAAG,CAAC,CAC5C,CAJS,qBAeT,YAAmB,EAAQ,EAAM,EAAQ,CAEvC,OAAS,GAAE,EAAG,EAAE,KAAK,cAAc,OAAQ,IAAK,CAC9C,GAAI,GAAI,KAAK,cAAc,GAC3B,GAAI,EAAE,QAAU,GAAU,EAAE,MAAQ,GAAQ,EAAE,QAAU,EAAQ,MAAO,EACzE,CACA,MAAO,EACT,CAPS,kBAUT,YAAqB,EAAG,EAAU,CAChC,MAAO,cAAgB,EAAI,iBAAmB,GAAK,eAAe,EAAS,EAAE,EAAI,IACnF,CAFS,oBAKT,YAAqB,EAAG,CACtB,MAAO,cAAgB,EAAI,eAAiB,EAAI,IAClD,CAFS,oBAKT,YAAoB,EAAG,EAAQ,CAC7B,MAAO,GAAO,KAAO,OAAY,GAAK,aAAe,EAAI,aAAe,EAAI,IAC9E,CAFS,mBAKT,YAAwB,EAAG,CACzB,MAAO,iBAAmB,EAAI,kBAAoB,EAAI,IACxD,CAFS,uBAKT,YAAc,EAAK,EAAW,CAC5B,GAAI,CAAC,EAAI,OAAQ,MAAO,GAExB,OADI,GAAO,GACF,EAAE,EAAG,EAAE,EAAI,OAAQ,IAC1B,GAAQ,EAAU,EAAG,CAAG,EAC1B,MAAO,EACT,CANS,eC5XT,iCAGA,GAAI,IAAQ,GAAO,QAAU,YAAiB,CAC5C,KAAK,OAAS,CAAC,CACjB,EAF6B,SAK7B,GAAM,UAAU,IAAM,WAAmB,EAAK,EAAO,CACnD,KAAK,OAAO,GAAO,CACrB,EAFsB,aAKtB,GAAM,UAAU,IAAM,WAAmB,EAAK,CAC5C,MAAO,MAAK,OAAO,EACrB,EAFsB,aAKtB,GAAM,UAAU,IAAM,WAAmB,EAAK,CAC5C,MAAO,MAAK,OAAO,EACrB,EAFsB,aAKtB,GAAM,UAAU,MAAQ,YAAuB,CAC7C,KAAK,OAAS,CAAC,CACjB,EAFwB,iBCvBxB,iCAEA,GAAI,IAAO,KAEP,GAAO,6BACP,GAAO,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAC7C,GAAO,0DACP,GAAW,wGACX,GAAM,+nCACN,GAAS,yoCAET,GAAc,oLAKd,GAAM,grDACN,GAAO,+DACP,GAAe,4BACf,GAA4B,+DAC5B,GAAwB,mDAG5B,GAAO,QAAU,GAEjB,YAAiB,EAAM,CACrB,SAAO,GAAQ,OAAS,OAAS,OAC1B,GAAK,KAAK,GAAQ,EAAK,CAChC,CAHS,gBAMT,GAAQ,KAAO,CAEb,KAAM,6BAEN,KAAM,8EACN,YAAa,0GAEb,IAAK,6CACL,gBAAiB,0EACjB,eAAgB,GAChB,IAAK,GAIL,MAAO,mHACP,SAAU,GAEV,KAAM,4EAEN,KAAM,qpCACN,MAAO,GAEP,KAAM,GAGN,eAAgB,GAChB,4BAA6B,GAE7B,wBAAyB,EAC3B,EAGA,GAAQ,KAAO,CACb,KAAM,GACN,KAAM,GACN,YAAa,GACb,IAAK,GACL,gBAAiB,GACjB,eAAgB,GAChB,IAAK,GACL,MAAO,2IACP,SAAU,GACV,KAAM,4EACN,KAAM,qpCACN,MAAO,GACP,KAAM,GACN,eAAgB,GAChB,4BAA6B,GAC7B,wBAAyB,EAC3B,EAGA,YAAoB,EAAM,CAExB,MAAO,GAAO,IAAM,GAAM,GAAO,MAAQ,GAAK,EAAO,MAAQ,EAC/D,CAHS,mBAMT,YAAc,EAAK,CAEjB,GAAI,GAAU,EAAI,MAAM,EAAI,EAC5B,GAAI,CAAC,EAAS,MAAO,GAErB,GAAI,GAAO,CAAC,EAAQ,GAChB,EAAQ,CAAC,EAAQ,GACjB,EAAM,CAAC,EAAQ,GAEnB,MAAO,IAAS,GAAK,GAAS,IAAM,GAAO,GACnC,GAAQ,IAAS,GAAK,GAAW,CAAI,EAAI,GAAK,GAAK,GAC7D,CAXS,aAcT,YAAc,EAAK,EAAM,CACvB,GAAI,GAAU,EAAI,MAAM,EAAI,EAC5B,GAAI,CAAC,EAAS,MAAO,GAErB,GAAI,GAAO,EAAQ,GACf,EAAS,EAAQ,GACjB,EAAS,EAAQ,GACjB,EAAW,EAAQ,GACvB,MAAS,IAAQ,IAAM,GAAU,IAAM,GAAU,IACxC,GAAQ,IAAM,GAAU,IAAM,GAAU,KACzC,EAAC,GAAQ,EACnB,CAXS,aAcT,GAAI,IAAsB,QAC1B,YAAmB,EAAK,CAEtB,GAAI,GAAW,EAAI,MAAM,EAAmB,EAC5C,MAAO,GAAS,QAAU,GAAK,GAAK,EAAS,EAAE,GAAK,GAAK,EAAS,GAAI,EAAI,CAC5E,CAJS,kBAOT,GAAI,IAAmB,OACvB,YAAa,EAAK,CAEhB,MAAO,IAAiB,KAAK,CAAG,GAAK,GAAI,KAAK,CAAG,CACnD,CAHS,YAMT,GAAI,IAAW,WACf,YAAe,EAAK,CAClB,GAAI,GAAS,KAAK,CAAG,EAAG,MAAO,GAC/B,GAAI,CACF,UAAI,QAAO,CAAG,EACP,EACT,MAAE,CACA,MAAO,EACT,CACF,CARS,gBCrIT,iCACA,GAAO,QAAU,WAAsB,EAAI,EAAU,EAAW,CAC9D,GAAI,GAAM,IACN,EAAO,EAAG,MACV,EAAW,EAAG,UACd,EAAU,EAAG,OAAO,GACpB,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EAAQ,OAAU,IAAY,IAC9B,EAAS,QAAU,EACnB,EAAQ,EACZ,GAAI,GAAW,KAAO,GAAW,KAC/B,AAAI,EAAG,OACL,GAAS,EAAG,MACZ,EAAW,YAEX,GAAS,EAAG,KAAK,OAAO,SAAW,GACnC,EAAW,sBAER,CACL,GAAI,GAAU,EAAG,WAAW,EAAG,OAAQ,EAAS,EAAG,MAAM,EACzD,GAAI,IAAY,OAAW,CACzB,GAAI,GAAW,EAAG,gBAAgB,QAAQ,EAAG,OAAQ,CAAO,EAC5D,GAAI,EAAG,KAAK,aAAe,OAAQ,CACjC,EAAG,OAAO,MAAM,CAAQ,EACxB,GAAI,GAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,qDAAwE,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,sBAA0B,EAAG,KAAK,aAAa,CAAO,EAAK,OACrN,EAAG,KAAK,WAAa,IACvB,IAAO,0CAA+C,EAAG,KAAK,aAAa,CAAO,EAAK,MAErF,EAAG,KAAK,SACV,IAAO,cAAiB,EAAG,KAAK,eAAe,CAAO,EAAK,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAE5I,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,EAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,+EAE/B,GACF,IAAO,iBAEX,SAAW,EAAG,KAAK,aAAe,SAChC,EAAG,OAAO,KAAK,CAAQ,EACnB,GACF,IAAO,qBAGT,MAAM,IAAI,GAAG,gBAAgB,EAAG,OAAQ,EAAS,CAAQ,CAE7D,SAAW,EAAQ,OAAQ,CACzB,GAAI,GAAM,EAAG,KAAK,KAAK,CAAE,EACzB,EAAI,QACJ,GAAI,GAAa,QAAU,EAAI,MAC/B,EAAI,OAAS,EAAQ,OACrB,EAAI,WAAa,GACjB,EAAI,cAAgB,EACpB,GAAI,GAAQ,EAAG,SAAS,CAAG,EAAE,QAAQ,oBAAqB,EAAQ,IAAI,EACtE,GAAO,IAAO,EAAS,IACnB,GACF,IAAO,QAAW,EAAc,OAEpC,KACE,GAAS,EAAQ,SAAW,IAAS,EAAG,OAAS,EAAQ,SAAW,GACpE,EAAW,EAAQ,IAEvB,CACA,GAAI,EAAU,CACZ,GAAI,GAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,KAAK,YACV,GAAO,IAAO,EAAY,eAE1B,GAAO,IAAO,EAAY,KAE5B,GAAO,IAAO,EAAS,qBACnB,EAAG,WAAa,MAClB,IAAO,MAAS,EAAG,WAErB,GAAI,GAAc,EAAW,OAAW,GAAW,GAAM,IAAM,aAC7D,EAAsB,EAAW,EAAG,YAAY,GAAY,qBAC9D,GAAO,MAAS,EAAe,MAAS,EAAuB,gBAC/D,GAAI,GAAiB,EAErB,GADA,EAAM,EAAW,IAAI,EACjB,EAAQ,CACV,GAAI,CAAC,EAAG,MAAO,KAAM,IAAI,OAAM,wCAAwC,EACvE,AAAI,GACF,IAAO,QAAW,EAAU,MAE9B,GAAO,gBAAmB,EAAkB,KACxC,GACF,IAAO,IAAO,EAAU,aAE1B,GAAO,4KACH,GACF,IAAO,IAAO,EAAU,cAE1B,GAAO,MACH,GACF,IAAO,QAAW,EAAU,OAEhC,KACE,IAAO,SAAY,EAAkB,uCAA0C,EAAY,0CAA6C,EAAY,wCAChJ,GACF,IAAO,WAGb,CACA,MAAO,EACT,EA1HiB,kBCDjB,iCACA,GAAO,QAAU,WAAwB,EAAI,EAAU,EAAW,CAChE,GAAI,GAAM,IACN,EAAU,EAAG,OAAO,GACpB,EAAc,EAAG,WAAa,EAAG,KAAK,YAAY,CAAQ,EAC1D,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EAAM,EAAG,KAAK,KAAK,CAAE,EACrB,EAAiB,GACrB,EAAI,QACJ,GAAI,GAAa,QAAU,EAAI,MAC3B,EAAiB,EAAI,OACvB,EAAmB,GACjB,EAAO,EACX,GAAI,EAGF,OAFI,GAAM,EAAK,GACb,EAAK,EAAK,OAAS,EACd,EAAK,GACV,EAAO,EAAK,GAAM,GACb,GAAG,KAAK,eAAkB,MAAO,IAAQ,UAAY,OAAO,KAAK,CAAI,EAAE,OAAS,GAAM,IAAS,GAAQ,EAAG,KAAK,eAAe,EAAM,EAAG,MAAM,GAAG,IACnJ,GAAmB,GACnB,EAAI,OAAS,EACb,EAAI,WAAa,EAAc,IAAM,EAAK,IAC1C,EAAI,cAAgB,EAAiB,IAAM,EAC3C,GAAO,KAAQ,EAAG,SAAS,CAAG,EAAK,IACnC,EAAI,OAAS,EACT,GACF,IAAO,QAAW,EAAc,OAChC,GAAkB,MAK1B,MAAI,IACF,CAAI,EACF,GAAO,gBAEP,GAAO,IAAO,EAAe,MAAM,EAAG,EAAE,EAAK,KAG1C,CACT,EAxCiB,oBCDjB,iCACA,GAAO,QAAU,WAAwB,EAAI,EAAU,EAAW,CAChE,GAAI,GAAM,IACN,EAAO,EAAG,MACV,EAAW,EAAG,UACd,EAAU,EAAG,OAAO,GACpB,EAAc,EAAG,WAAa,EAAG,KAAK,YAAY,CAAQ,EAC1D,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EAAQ,OAAU,IAAY,IAC9B,EAAS,QAAU,EACnB,EAAQ,SAAW,EACnB,EAAM,EAAG,KAAK,KAAK,CAAE,EACrB,EAAiB,GACrB,EAAI,QACJ,GAAI,GAAa,QAAU,EAAI,MAC3B,EAAiB,EAAQ,MAAM,SAAS,EAAM,CAChD,MAAQ,GAAG,KAAK,eAAkB,MAAO,IAAQ,UAAY,OAAO,KAAK,CAAI,EAAE,OAAS,GAAM,IAAS,GAAQ,EAAG,KAAK,eAAe,EAAM,EAAG,MAAM,GAAG,CAC1J,CAAC,EACD,GAAI,EAAgB,CAClB,GAAI,GAAiB,EAAI,OACzB,GAAO,QAAW,EAAS,kBAAqB,EAAU,cAC1D,GAAI,GAAgB,EAAG,cACvB,EAAG,cAAgB,EAAI,cAAgB,GACvC,GAAI,GAAO,EACX,GAAI,EAGF,OAFI,GAAM,EAAK,GACb,EAAK,EAAK,OAAS,EACd,EAAK,GACV,EAAO,EAAK,GAAM,GAClB,EAAI,OAAS,EACb,EAAI,WAAa,EAAc,IAAM,EAAK,IAC1C,EAAI,cAAgB,EAAiB,IAAM,EAC3C,GAAO,KAAQ,EAAG,SAAS,CAAG,EAAK,IACnC,EAAI,OAAS,EACb,GAAO,IAAO,EAAU,MAAS,EAAU,OAAU,EAAc,UAAa,EAAU,OAC1F,GAAkB,IAGtB,EAAG,cAAgB,EAAI,cAAgB,EACvC,GAAO,IAAO,EAAkB,SAAY,EAAU,qBACtD,AAAI,EAAG,eAAiB,GACtB,IAAO,sDAAyE,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,iBAC3J,EAAG,KAAK,WAAa,IACvB,IAAO,oDAEL,EAAG,KAAK,SACV,IAAO,6BAAgC,EAAe,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAEvI,GAAO,OAEP,GAAO,OAET,GAAO,+EACH,CAAC,EAAG,eAAiB,GAEvB,CAAI,EAAG,MACL,GAAO,wCAEP,GAAO,8CAGX,GAAO,uBAA0B,EAAS,iCAAoC,EAAS,sBAAyB,EAAS,4BACrH,EAAG,KAAK,WACV,IAAO,MAEX,KACE,AAAI,IACF,IAAO,iBAGX,MAAO,EACT,EAvEiB,oBCDjB,iCACA,GAAO,QAAU,WAA0B,EAAI,EAAU,EAAW,CAClE,GAAI,GAAM,IACN,EAAU,EAAG,OAAO,GACpB,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EAAW,EAAG,KAAK,eAAe,CAAO,EAC7C,MAAI,GAAG,KAAK,WAAa,GACvB,GAAO,gBAAmB,EAAY,KAC7B,MAAO,GAAG,KAAK,UAAY,YACpC,IAAO,wBAA2B,EAAY,KAAQ,EAAG,KAAK,eAAe,CAAc,EAAK,4BAE3F,CACT,EAZiB,sBCDjB,iCACA,GAAO,QAAU,WAAwB,EAAI,EAAU,EAAW,CAChE,GAAI,GAAM,IACN,EAAO,EAAG,MACV,EAAW,EAAG,UACd,EAAU,EAAG,OAAO,GACpB,EAAc,EAAG,WAAa,EAAG,KAAK,YAAY,CAAQ,EAC1D,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EAAQ,OAAU,IAAY,IAC9B,EAAS,QAAU,EACnB,EAAU,EAAG,KAAK,OAAS,GAAW,EAAQ,MAChD,EACF,AAAI,EACF,IAAO,cAAiB,EAAQ,MAAS,EAAG,KAAK,QAAQ,EAAQ,MAAO,EAAU,EAAG,WAAW,EAAK,KACrG,EAAe,SAAW,GAE1B,EAAe,EAEZ,GACH,IAAO,cAAiB,EAAQ,qBAAwB,EAAe,KAEzE,GAAO,OAAU,EAAU,YAAe,EAAS,WAAc,EAAQ,WAAc,EAAU,SACjG,GAAI,GAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,sDAAyE,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,oCAAuC,EAAQ,MAC1M,EAAG,KAAK,WAAa,IACvB,IAAO,8CAEL,EAAG,KAAK,SACV,IAAO,6BAAgC,EAAe,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAEvI,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,SAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,+EAEnC,GAAO,KACH,GACF,IAAO,YAEF,CACT,EAtDiB,oBCDjB,iCACA,GAAO,QAAU,WAA2B,EAAI,EAAU,EAAW,CACnE,GAAI,GAAM,IACN,EAAO,EAAG,MACV,EAAW,EAAG,UACd,EAAU,EAAG,OAAO,GACpB,EAAc,EAAG,WAAa,EAAG,KAAK,YAAY,CAAQ,EAC1D,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EAAQ,OAAU,IAAY,IAC9B,EAAS,QAAU,EACnB,EAAQ,SAAW,EACnB,EAAM,EAAG,KAAK,KAAK,CAAE,EACrB,EAAiB,GACrB,EAAI,QACJ,GAAI,GAAa,QAAU,EAAI,MAC3B,EAAO,IAAM,EACf,EAAW,EAAI,UAAY,EAAG,UAAY,EAC1C,EAAY,OAAS,EACrB,EAAiB,EAAG,OACpB,EAAmB,EAAG,KAAK,eAAkB,MAAO,IAAW,UAAY,OAAO,KAAK,CAAO,EAAE,OAAS,GAAM,IAAY,GAAQ,EAAG,KAAK,eAAe,EAAS,EAAG,MAAM,GAAG,EAEjL,GADA,GAAO,OAAU,EAAS,iBAAoB,EAAU,IACpD,EAAiB,CACnB,GAAI,GAAgB,EAAG,cACvB,EAAG,cAAgB,EAAI,cAAgB,GACvC,EAAI,OAAS,EACb,EAAI,WAAa,EACjB,EAAI,cAAgB,EACpB,GAAO,QAAW,EAAc,sBAAyB,EAAQ,SAAY,EAAQ,MAAS,EAAS,YAAe,EAAQ,SAC9H,EAAI,UAAY,EAAG,KAAK,YAAY,EAAG,UAAW,EAAM,EAAG,KAAK,aAAc,EAAI,EAClF,GAAI,GAAY,EAAQ,IAAM,EAAO,IACrC,EAAI,YAAY,GAAY,EAC5B,GAAI,GAAQ,EAAG,SAAS,CAAG,EAC3B,EAAI,OAAS,EACb,AAAI,EAAG,KAAK,cAAc,EAAO,CAAS,EAAI,EAC5C,GAAO,IAAO,EAAG,KAAK,WAAW,EAAO,EAAW,CAAS,EAAK,IAEjE,GAAO,QAAW,EAAa,MAAS,EAAa,KAAQ,EAAS,IAExE,GAAO,QAAW,EAAc,eAChC,EAAG,cAAgB,EAAI,cAAgB,EACvC,GAAO,IAAO,EAAkB,SAAY,EAAc,KAC5D,KACE,IAAO,QAAW,EAAS,kBAE7B,GAAI,GAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,yDAA4E,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,iBAC9J,EAAG,KAAK,WAAa,IACvB,IAAO,8CAEL,EAAG,KAAK,SACV,IAAO,6BAAgC,EAAe,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAEvI,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,SAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,+EAEnC,GAAO,aACH,GACF,IAAO,cAAiB,EAAS,iCAAoC,EAAS,sBAAyB,EAAS,6BAE9G,EAAG,KAAK,WACV,IAAO,OAEF,CACT,EA/EiB,uBCDjB,iCACA,GAAO,QAAU,WAA+B,EAAI,EAAU,EAAW,CACvE,GAAI,GAAM,IACN,EAAO,EAAG,MACV,EAAW,EAAG,UACd,EAAU,EAAG,OAAO,GACpB,EAAc,EAAG,WAAa,EAAG,KAAK,YAAY,CAAQ,EAC1D,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EAAQ,OAAU,IAAY,IAC9B,EAAQ,SAAW,EACnB,EAAM,EAAG,KAAK,KAAK,CAAE,EACrB,EAAiB,GACrB,EAAI,QACJ,GAAI,GAAa,QAAU,EAAI,MAC3B,EAAc,CAAC,EACjB,EAAgB,CAAC,EACjB,EAAiB,EAAG,KAAK,cAC3B,IAAK,IAAa,GAChB,GAAI,GAAa,YACjB,IAAI,GAAO,EAAQ,GACf,EAAQ,MAAM,QAAQ,CAAI,EAAI,EAAgB,EAClD,EAAM,GAAa,EAErB,GAAO,OAAU,EAAS,aAC1B,GAAI,GAAoB,EAAG,UAC3B,GAAO,cAAiB,EAAQ,IAChC,OAAS,KAAa,GAEpB,GADA,EAAQ,EAAc,GAClB,EAAM,OAAQ,CAKhB,GAJA,GAAO,SAAY,EAAU,EAAG,KAAK,YAAY,CAAS,EAAK,kBAC3D,GACF,IAAO,4CAA+C,EAAS,MAAU,EAAG,KAAK,aAAa,CAAS,EAAK,OAE1G,EAAe,CACjB,GAAO,SACP,GAAI,GAAO,EACX,GAAI,EAGF,OAFI,GAAc,EAAK,GACrB,EAAK,EAAK,OAAS,EACd,EAAK,GAAI,CACd,EAAe,EAAK,GAAM,GACtB,GACF,IAAO,QAET,GAAI,GAAQ,EAAG,KAAK,YAAY,CAAY,EAC1C,EAAW,EAAQ,EACrB,GAAO,QAAW,EAAY,kBAC1B,GACF,IAAO,8CAAiD,EAAS,MAAU,EAAG,KAAK,aAAa,CAAY,EAAK,OAEnH,GAAO,gBAAmB,EAAQ,MAAS,EAAG,KAAK,eAAe,EAAG,KAAK,aAAe,EAAe,CAAK,EAAK,MACpH,CAEF,GAAO,SACP,GAAI,GAAgB,UAAY,EAC9B,EAAmB,OAAU,EAAgB,OAC/C,AAAI,EAAG,KAAK,wBACV,GAAG,UAAY,EAAG,KAAK,aAAe,EAAG,KAAK,YAAY,EAAmB,EAAe,EAAI,EAAI,EAAoB,MAAQ,GAElI,GAAI,GAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,6DAAgF,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,2BAA+B,EAAG,KAAK,aAAa,CAAS,EAAK,wBAA6B,EAAoB,iBAAqB,EAAM,OAAU,YAAgB,EAAG,KAAK,aAAa,EAAM,QAAU,EAAI,EAAM,GAAK,EAAM,KAAK,IAAI,CAAC,EAAK,OACnZ,EAAG,KAAK,WAAa,IACvB,IAAO,4BACP,AAAI,EAAM,QAAU,EAClB,GAAO,YAAe,EAAG,KAAK,aAAa,EAAM,EAAE,EAEnD,GAAO,cAAiB,EAAG,KAAK,aAAa,EAAM,KAAK,IAAI,CAAC,EAE/D,GAAO,kBAAqB,EAAG,KAAK,aAAa,CAAS,EAAK,iBAE7D,EAAG,KAAK,SACV,IAAO,6BAAgC,EAAe,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAEvI,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,EAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,8EAErC,KAAO,CACL,GAAO,QACP,GAAI,GAAO,EACX,GAAI,EAGF,OAFI,GAAc,GAAK,GACrB,EAAK,EAAK,OAAS,EACd,GAAK,GAAI,CACd,EAAe,EAAK,IAAM,GAC1B,GAAI,GAAQ,EAAG,KAAK,YAAY,CAAY,EAC1C,EAAmB,EAAG,KAAK,aAAa,CAAY,EACpD,EAAW,EAAQ,EACrB,AAAI,EAAG,KAAK,wBACV,GAAG,UAAY,EAAG,KAAK,QAAQ,EAAmB,EAAc,EAAG,KAAK,YAAY,GAEtF,GAAO,SAAY,EAAY,kBAC3B,GACF,IAAO,8CAAiD,EAAS,MAAU,EAAG,KAAK,aAAa,CAAY,EAAK,OAEnH,GAAO,oBACP,AAAI,EAAG,eAAiB,GACtB,IAAO,6DAAgF,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,2BAA+B,EAAG,KAAK,aAAa,CAAS,EAAK,wBAA6B,EAAoB,iBAAqB,EAAM,OAAU,YAAgB,EAAG,KAAK,aAAa,EAAM,QAAU,EAAI,EAAM,GAAK,EAAM,KAAK,IAAI,CAAC,EAAK,OACnZ,EAAG,KAAK,WAAa,IACvB,IAAO,4BACP,AAAI,EAAM,QAAU,EAClB,GAAO,YAAe,EAAG,KAAK,aAAa,EAAM,EAAE,EAEnD,GAAO,cAAiB,EAAG,KAAK,aAAa,EAAM,KAAK,IAAI,CAAC,EAE/D,GAAO,kBAAqB,EAAG,KAAK,aAAa,CAAS,EAAK,iBAE7D,EAAG,KAAK,SACV,IAAO,6BAAgC,EAAe,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAEvI,GAAO,OAEP,GAAO,OAET,GAAO,gFACT,CAEJ,CACA,GAAO,QACH,GACF,IAAkB,IAClB,GAAO,WAEX,CAEF,EAAG,UAAY,EACf,GAAI,GAAiB,EAAI,OACzB,OAAS,KAAa,GAAa,CACjC,GAAI,GAAO,EAAY,GACvB,AAAK,GAAG,KAAK,eAAkB,MAAO,IAAQ,UAAY,OAAO,KAAK,CAAI,EAAE,OAAS,GAAM,IAAS,GAAQ,EAAG,KAAK,eAAe,EAAM,EAAG,MAAM,GAAG,IACnJ,IAAO,IAAO,EAAc,iBAAoB,EAAU,EAAG,KAAK,YAAY,CAAS,EAAK,kBACxF,GACF,IAAO,4CAA+C,EAAS,MAAU,EAAG,KAAK,aAAa,CAAS,EAAK,OAE9G,GAAO,OACP,EAAI,OAAS,EACb,EAAI,WAAa,EAAc,EAAG,KAAK,YAAY,CAAS,EAC5D,EAAI,cAAgB,EAAiB,IAAM,EAAG,KAAK,eAAe,CAAS,EAC3E,GAAO,KAAQ,EAAG,SAAS,CAAG,EAAK,IACnC,EAAI,OAAS,EACb,GAAO,OACH,GACF,IAAO,QAAW,EAAc,OAChC,GAAkB,KAGxB,CACA,MAAI,IACF,IAAO,MAAS,EAAkB,QAAW,EAAS,iBAEjD,CACT,EAtKiB,2BCDjB,iCACA,GAAO,QAAU,WAAuB,EAAI,EAAU,EAAW,CAC/D,GAAI,GAAM,IACN,EAAO,EAAG,MACV,EAAW,EAAG,UACd,EAAU,EAAG,OAAO,GACpB,EAAc,EAAG,WAAa,EAAG,KAAK,YAAY,CAAQ,EAC1D,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EAAQ,OAAU,IAAY,IAC9B,EAAS,QAAU,EACnB,EAAU,EAAG,KAAK,OAAS,GAAW,EAAQ,MAChD,EACF,AAAI,EACF,IAAO,cAAiB,EAAQ,MAAS,EAAG,KAAK,QAAQ,EAAQ,MAAO,EAAU,EAAG,WAAW,EAAK,KACrG,EAAe,SAAW,GAE1B,EAAe,EAEjB,GAAI,GAAK,IAAM,EACb,EAAW,SAAW,EACxB,AAAK,GACH,IAAO,QAAW,EAAY,qBAAwB,EAAe,KAEvE,GAAO,OAAU,EAAU,IACvB,GACF,IAAO,cAAiB,EAAQ,mBAAsB,EAAU,0CAA6C,EAAQ,MAAS,EAAU,oBAE1I,GAAO,GAAM,EAAU,qBAAwB,EAAM,OAAU,EAAM,IAAO,EAAY,YAAe,EAAM,iBAAoB,EAAS,KAAQ,EAAY,IAAO,EAAM,SAAY,EAAU,oBAC7L,GACF,IAAO,SAET,GAAO,SAAY,EAAU,SAC7B,GAAI,GAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,qDAAwE,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,qCAAwC,EAAQ,MAC1M,EAAG,KAAK,WAAa,IACvB,IAAO,+DAEL,EAAG,KAAK,SACV,IAAO,6BAAgC,EAAe,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAEvI,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,SAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,+EAEnC,GAAO,KACH,GACF,IAAO,YAEF,CACT,EAhEiB,mBCDjB,iCACA,GAAO,QAAU,WAAyB,EAAI,EAAU,EAAW,CACjE,GAAI,GAAM,IACN,EAAO,EAAG,MACV,EAAW,EAAG,UACd,EAAU,EAAG,OAAO,GACpB,EAAc,EAAG,WAAa,EAAG,KAAK,YAAY,CAAQ,EAC1D,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EAAQ,OAAU,IAAY,IAClC,GAAI,EAAG,KAAK,SAAW,GACrB,MAAI,IACF,IAAO,iBAEF,EAET,GAAI,GAAU,EAAG,KAAK,OAAS,GAAW,EAAQ,MAChD,EACF,AAAI,EACF,IAAO,cAAiB,EAAQ,MAAS,EAAG,KAAK,QAAQ,EAAQ,MAAO,EAAU,EAAG,WAAW,EAAK,KACrG,EAAe,SAAW,GAE1B,EAAe,EAEjB,GAAI,GAAkB,EAAG,KAAK,eAC5B,EAAgB,MAAM,QAAQ,CAAe,EAC/C,GAAI,EAAS,CACX,GAAI,GAAU,SAAW,EACvB,EAAY,WAAa,EACzB,EAAc,aAAe,EAC/B,GAAO,QAAW,EAAW,cAAiB,EAAgB,UAAa,EAAa,aAAgB,EAAW,qBAA0B,EAAW,0BAA6B,EAAW,kBAAqB,EAAe,MAAS,EAAa,OAAU,EAAW,0BAA+B,EAAa,OACvT,EAAG,OACL,IAAO,aAAgB,EAAQ,MAAS,EAAW,YAErD,GAAO,IAAO,EAAW,MAAS,EAAW,sBACzC,GACF,IAAO,KAAQ,EAAgB,4BAA+B,EAAgB,qBAEhF,GAAO,KACH,GAAmB,UACrB,IAAO,KAAQ,EAAgB,QAAW,EAAW,IACjD,GACF,IAAO,yCAA4C,EAAgB,YAErE,GAAO,SAET,GAAO,KAAQ,EAAW,OAAU,EAAe,QAAY,EAAa,iBAAqB,EAAW,oBAC5G,AAAI,EAAG,MACL,GAAO,UAAa,EAAQ,YAAe,EAAW,IAAO,EAAS,OAAU,EAAW,IAAO,EAAS,MAE3G,GAAO,IAAO,EAAW,IAAO,EAAS,KAE3C,GAAO,MAAS,EAAW,SAAY,EAAS,SAClD,KAAO,CACL,GAAI,GAAU,EAAG,QAAQ,GACzB,GAAI,CAAC,EAAS,CACZ,GAAI,GAAmB,SACrB,SAAG,OAAO,KAAK,mBAAqB,EAAU,gCAAkC,EAAG,cAAgB,GAAG,EAClG,GACF,IAAO,iBAEF,EACF,GAAI,GAAiB,EAAgB,QAAQ,CAAO,GAAK,EAC9D,MAAI,IACF,IAAO,iBAEF,EAEP,KAAM,IAAI,OAAM,mBAAqB,EAAU,gCAAkC,EAAG,cAAgB,GAAG,CAE3G,CACA,GAAI,GAAY,MAAO,IAAW,UAAY,CAAE,aAAmB,UAAW,EAAQ,SAClF,EAAc,GAAa,EAAQ,MAAQ,SAC/C,GAAI,EAAW,CACb,GAAI,GAAS,EAAQ,QAAU,GAC/B,EAAU,EAAQ,QACpB,CACA,GAAI,GAAe,EACjB,MAAI,IACF,IAAO,iBAEF,EAET,GAAI,EAAQ,CACV,GAAI,CAAC,EAAG,MAAO,KAAM,IAAI,OAAM,6BAA6B,EAC5D,GAAI,GAAa,UAAY,EAAG,KAAK,YAAY,CAAO,EAAI,YAC5D,GAAO,gBAAmB,EAAc,IAAO,EAAS,QAC1D,KAAO,CACL,GAAO,UACP,GAAI,GAAa,UAAY,EAAG,KAAK,YAAY,CAAO,EACxD,AAAI,GAAW,IAAc,aAC7B,AAAI,MAAO,IAAW,WACpB,GAAO,IAAO,EAAc,IAAO,EAAS,KAE5C,GAAO,IAAO,EAAc,SAAY,EAAS,KAEnD,GAAO,MACT,CACF,CACA,GAAI,GAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,uDAA0E,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,yBAChK,AAAI,EACF,GAAO,GAAM,EAEb,GAAO,GAAM,EAAG,KAAK,eAAe,CAAO,EAE7C,GAAO,OACH,EAAG,KAAK,WAAa,IACvB,IAAO,qCACP,AAAI,EACF,GAAO,OAAW,EAAgB,OAElC,GAAO,GAAM,EAAG,KAAK,aAAa,CAAO,EAE3C,GAAO,OAEL,EAAG,KAAK,SACV,IAAO,eACP,AAAI,EACF,GAAO,kBAAqB,EAE5B,GAAO,GAAM,EAAG,KAAK,eAAe,CAAO,EAE7C,GAAO,2CAA8C,EAAG,WAAc,YAAe,EAAS,KAEhG,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,SAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,+EAEnC,GAAO,MACH,GACF,IAAO,YAEF,CACT,EApJiB,qBCDjB,iCACA,GAAO,QAAU,WAAqB,EAAI,EAAU,EAAW,CAC7D,GAAI,GAAM,IACN,EAAO,EAAG,MACV,EAAW,EAAG,UACd,EAAU,EAAG,OAAO,GACpB,EAAc,EAAG,WAAa,EAAG,KAAK,YAAY,CAAQ,EAC1D,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EAAQ,OAAU,IAAY,IAC9B,EAAS,QAAU,EACnB,EAAQ,SAAW,EACnB,EAAM,EAAG,KAAK,KAAK,CAAE,EACzB,EAAI,QACJ,GAAI,GAAa,QAAU,EAAI,MAC3B,EAAW,EAAG,OAAO,KACvB,EAAW,EAAG,OAAO,KACrB,EAAe,IAAa,QAAc,GAAG,KAAK,eAAkB,MAAO,IAAY,UAAY,OAAO,KAAK,CAAQ,EAAE,OAAS,GAAM,IAAa,GAAQ,EAAG,KAAK,eAAe,EAAU,EAAG,MAAM,GAAG,GAC1M,EAAe,IAAa,QAAc,GAAG,KAAK,eAAkB,MAAO,IAAY,UAAY,OAAO,KAAK,CAAQ,EAAE,OAAS,GAAM,IAAa,GAAQ,EAAG,KAAK,eAAe,EAAU,EAAG,MAAM,GAAG,GAC1M,EAAiB,EAAI,OACvB,GAAI,GAAgB,EAAc,CAChC,GAAI,GACJ,EAAI,aAAe,GACnB,EAAI,OAAS,EACb,EAAI,WAAa,EACjB,EAAI,cAAgB,EACpB,GAAO,QAAW,EAAS,kBAAqB,EAAU,aAC1D,GAAI,GAAgB,EAAG,cACvB,EAAG,cAAgB,EAAI,cAAgB,GACvC,GAAO,KAAQ,EAAG,SAAS,CAAG,EAAK,IACnC,EAAI,OAAS,EACb,EAAI,aAAe,GACnB,GAAO,cAAiB,EAAS,iCAAoC,EAAS,sBAAyB,EAAS,6BAChH,EAAG,cAAgB,EAAI,cAAgB,EACvC,AAAI,EACF,IAAO,QAAW,EAAc,QAChC,EAAI,OAAS,EAAG,OAAO,KACvB,EAAI,WAAa,EAAG,WAAa,QACjC,EAAI,cAAgB,EAAG,cAAgB,QACvC,GAAO,KAAQ,EAAG,SAAS,CAAG,EAAK,IACnC,EAAI,OAAS,EACb,GAAO,IAAO,EAAU,MAAS,EAAc,KAC/C,AAAI,GAAgB,EAClB,GAAY,WAAa,EACzB,GAAO,QAAW,EAAa,eAE/B,EAAY,SAEd,GAAO,MACH,GACF,IAAO,aAGT,GAAO,SAAY,EAAc,OAE/B,GACF,GAAI,OAAS,EAAG,OAAO,KACvB,EAAI,WAAa,EAAG,WAAa,QACjC,EAAI,cAAgB,EAAG,cAAgB,QACvC,GAAO,KAAQ,EAAG,SAAS,CAAG,EAAK,IACnC,EAAI,OAAS,EACb,GAAO,IAAO,EAAU,MAAS,EAAc,KAC/C,AAAI,GAAgB,EAClB,GAAY,WAAa,EACzB,GAAO,QAAW,EAAa,eAE/B,EAAY,SAEd,GAAO,OAET,GAAO,SAAY,EAAU,qBAC7B,AAAI,EAAG,eAAiB,GACtB,IAAO,mDAAsE,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,gCAAmC,EAAa,MACxM,EAAG,KAAK,WAAa,IACvB,IAAO,kCAAuC,EAAa,kBAEzD,EAAG,KAAK,SACV,IAAO,6BAAgC,EAAe,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAEvI,GAAO,OAEP,GAAO,OAET,GAAO,+EACH,CAAC,EAAG,eAAiB,GAEvB,CAAI,EAAG,MACL,GAAO,wCAEP,GAAO,8CAGX,GAAO,QACH,GACF,IAAO,WAEX,KACE,AAAI,IACF,IAAO,iBAGX,MAAO,EACT,EArGiB,iBCDjB,iCACA,GAAO,QAAU,WAAwB,EAAI,EAAU,EAAW,CAChE,GAAI,GAAM,IACN,EAAO,EAAG,MACV,EAAW,EAAG,UACd,EAAU,EAAG,OAAO,GACpB,EAAc,EAAG,WAAa,EAAG,KAAK,YAAY,CAAQ,EAC1D,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EAAQ,OAAU,IAAY,IAC9B,EAAS,QAAU,EACnB,EAAQ,SAAW,EACnB,EAAM,EAAG,KAAK,KAAK,CAAE,EACrB,EAAiB,GACrB,EAAI,QACJ,GAAI,GAAa,QAAU,EAAI,MAC3B,EAAO,IAAM,EACf,EAAW,EAAI,UAAY,EAAG,UAAY,EAC1C,EAAY,OAAS,EACrB,EAAiB,EAAG,OAEtB,GADA,GAAO,OAAU,EAAS,iBAAoB,EAAU,IACpD,MAAM,QAAQ,CAAO,EAAG,CAC1B,GAAI,GAAmB,EAAG,OAAO,gBACjC,GAAI,IAAqB,GAAO,CAC9B,GAAO,IAAO,EAAU,MAAS,EAAS,cAAiB,EAAQ,OAAU,KAC7E,GAAI,GAAqB,EACzB,EAAiB,EAAG,cAAgB,mBACpC,GAAO,UAAa,EAAU,SAC9B,GAAI,GAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,gEAAmF,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,uBAA0B,EAAQ,OAAU,MACjN,EAAG,KAAK,WAAa,IACvB,IAAO,0CAA8C,EAAQ,OAAU,YAErE,EAAG,KAAK,SACV,IAAO,mDAAsD,EAAG,WAAc,YAAe,EAAS,KAExG,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,EAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,+EAEnC,GAAO,MACP,EAAiB,EACb,GACF,IAAkB,IAClB,GAAO,WAEX,CACA,GAAI,GAAO,EACX,GAAI,GAGF,OAFI,GAAM,EAAK,GACb,EAAK,EAAK,OAAS,EACd,EAAK,GAEV,GADA,EAAO,EAAK,GAAM,GACb,EAAG,KAAK,eAAkB,MAAO,IAAQ,UAAY,OAAO,KAAK,CAAI,EAAE,OAAS,GAAM,IAAS,GAAQ,EAAG,KAAK,eAAe,EAAM,EAAG,MAAM,GAAG,EAAI,CACvJ,GAAO,IAAO,EAAc,gBAAmB,EAAS,aAAgB,EAAM,OAC9E,GAAI,GAAY,EAAQ,IAAM,EAAK,IACnC,EAAI,OAAS,EACb,EAAI,WAAa,EAAc,IAAM,EAAK,IAC1C,EAAI,cAAgB,EAAiB,IAAM,EAC3C,EAAI,UAAY,EAAG,KAAK,YAAY,EAAG,UAAW,EAAI,EAAG,KAAK,aAAc,EAAI,EAChF,EAAI,YAAY,GAAY,EAC5B,GAAI,GAAQ,EAAG,SAAS,CAAG,EAC3B,EAAI,OAAS,EACb,AAAI,EAAG,KAAK,cAAc,EAAO,CAAS,EAAI,EAC5C,GAAO,IAAO,EAAG,KAAK,WAAW,EAAO,EAAW,CAAS,EAAK,IAEjE,GAAO,QAAW,EAAa,MAAS,EAAa,KAAQ,EAAS,IAExE,GAAO,OACH,GACF,IAAO,QAAW,EAAc,OAChC,GAAkB,IAEtB,EAGJ,GAAI,MAAO,IAAoB,UAAa,GAAG,KAAK,eAAkB,MAAO,IAAoB,UAAY,OAAO,KAAK,CAAgB,EAAE,OAAS,GAAM,IAAqB,GAAQ,EAAG,KAAK,eAAe,EAAkB,EAAG,MAAM,GAAG,GAAI,CAC9O,EAAI,OAAS,EACb,EAAI,WAAa,EAAG,WAAa,mBACjC,EAAI,cAAgB,EAAG,cAAgB,mBACvC,GAAO,IAAO,EAAc,gBAAmB,EAAS,aAAgB,EAAQ,OAAU,iBAAoB,EAAQ,MAAS,EAAQ,OAAU,KAAQ,EAAQ,MAAS,EAAS,YAAe,EAAQ,SAC1M,EAAI,UAAY,EAAG,KAAK,YAAY,EAAG,UAAW,EAAM,EAAG,KAAK,aAAc,EAAI,EAClF,GAAI,GAAY,EAAQ,IAAM,EAAO,IACrC,EAAI,YAAY,GAAY,EAC5B,GAAI,GAAQ,EAAG,SAAS,CAAG,EAC3B,EAAI,OAAS,EACb,AAAI,EAAG,KAAK,cAAc,EAAO,CAAS,EAAI,EAC5C,GAAO,IAAO,EAAG,KAAK,WAAW,EAAO,EAAW,CAAS,EAAK,IAEjE,GAAO,QAAW,EAAa,MAAS,EAAa,KAAQ,EAAS,IAEpE,GACF,IAAO,SAAY,EAAc,aAEnC,GAAO,SACH,GACF,IAAO,QAAW,EAAc,OAChC,GAAkB,IAEtB,CACF,SAAY,EAAG,KAAK,eAAkB,MAAO,IAAW,UAAY,OAAO,KAAK,CAAO,EAAE,OAAS,GAAM,IAAY,GAAQ,EAAG,KAAK,eAAe,EAAS,EAAG,MAAM,GAAG,EAAI,CAC1K,EAAI,OAAS,EACb,EAAI,WAAa,EACjB,EAAI,cAAgB,EACpB,GAAO,cAAiB,EAAQ,MAAS,EAAK,KAAQ,EAAQ,MAAS,EAAS,YAAe,EAAQ,SACvG,EAAI,UAAY,EAAG,KAAK,YAAY,EAAG,UAAW,EAAM,EAAG,KAAK,aAAc,EAAI,EAClF,GAAI,GAAY,EAAQ,IAAM,EAAO,IACrC,EAAI,YAAY,GAAY,EAC5B,GAAI,GAAQ,EAAG,SAAS,CAAG,EAC3B,EAAI,OAAS,EACb,AAAI,EAAG,KAAK,cAAc,EAAO,CAAS,EAAI,EAC5C,GAAO,IAAO,EAAG,KAAK,WAAW,EAAO,EAAW,CAAS,EAAK,IAEjE,GAAO,QAAW,EAAa,MAAS,EAAa,KAAQ,EAAS,IAEpE,GACF,IAAO,SAAY,EAAc,aAEnC,GAAO,IACT,CACA,MAAI,IACF,IAAO,IAAO,EAAkB,QAAW,EAAS,iBAE/C,CACT,EA1IiB,oBCDjB,iCACA,GAAO,QAAU,WAAyB,EAAI,EAAU,EAAW,CACjE,GAAI,GAAM,IACN,EAAO,EAAG,MACV,EAAW,EAAG,UACd,EAAU,EAAG,OAAO,GACpB,EAAc,EAAG,WAAa,EAAG,KAAK,YAAY,CAAQ,EAC1D,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EACA,EAAQ,OAAU,IAAY,IAC9B,EAAU,EAAG,KAAK,OAAS,GAAW,EAAQ,MAChD,EACF,AAAI,EACF,IAAO,cAAiB,EAAQ,MAAS,EAAG,KAAK,QAAQ,EAAQ,MAAO,EAAU,EAAG,WAAW,EAAK,KACrG,EAAe,SAAW,GAE1B,EAAe,EAEjB,GAAI,GAAS,GAAY,UACvB,EAAoB,EAAS,mBAAqB,mBAClD,EAAc,EAAG,OAAO,GACxB,EAAc,EAAG,KAAK,OAAS,GAAe,EAAY,MAC1D,EAAM,EAAS,IAAM,IACrB,EAAS,EAAS,IAAM,IACxB,EAAgB,OAClB,GAAI,CAAE,IAAW,MAAO,IAAW,UAAY,IAAY,QACzD,KAAM,IAAI,OAAM,EAAW,iBAAiB,EAE9C,GAAI,CAAE,IAAe,IAAgB,QAAa,MAAO,IAAe,UAAY,MAAO,IAAe,WACxG,KAAM,IAAI,OAAM,EAAoB,4BAA4B,EAElE,GAAI,EAAa,CACf,GAAI,GAAmB,EAAG,KAAK,QAAQ,EAAY,MAAO,EAAU,EAAG,WAAW,EAChF,EAAa,YAAc,EAC3B,EAAY,WAAa,EACzB,EAAgB,eAAiB,EACjC,EAAU,KAAO,EACjB,EAAS,OAAU,EAAU,OAC/B,GAAO,kBAAqB,EAAQ,MAAS,EAAoB,KACjE,EAAmB,aAAe,EAClC,GAAO,QAAW,EAAc,SAAY,EAAa,aAAgB,EAAoB,SAAY,EAAa,oBAAyB,EAAa,sBAA2B,EAAa,mBACpM,GAAI,GAAgB,EAChB,EAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,gBAAoB,IAAiB,mBAAqB,oCAA0C,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,iBACtL,EAAG,KAAK,WAAa,IACvB,IAAO,gBAAoB,EAAqB,wBAE9C,EAAG,KAAK,SACV,IAAO,6BAAgC,EAAe,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAEvI,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,EAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,+EAEnC,GAAO,gBACH,GACF,IAAO,KAAQ,EAAgB,4BAA+B,EAAgB,qBAEhF,GAAO,IAAO,EAAa,qBAA0B,EAAc,MAAS,EAAgB,qBAAwB,EAAoB,IAAO,EAAO,KAAQ,EAAgB,OAAU,EAAS,IAAO,EAAU,KAAQ,EAAoB,MAAS,EAAS,IAAO,EAAU,IAAO,EAAgB,WAAc,EAAc,MAAS,EAAoB,gBAAmB,EAAS,IAAO,EAAU,KAAQ,EAAgB,MAAS,EAAS,IAAO,EAAU,IAAO,EAAgB,SAAY,EAAS,QAAW,EAAS,aAAgB,EAAQ,MAAS,EAAc,OAAW,EAAO,QAAa,EAAO,OAC1lB,IAAY,QACd,GAAgB,EAChB,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAe,EACf,EAAU,EAEd,KAAO,CACL,GAAI,GAAgB,MAAO,IAAe,SACxC,EAAS,EACX,GAAI,GAAiB,EAAS,CAC5B,GAAI,GAAU,IAAO,EAAS,IAC9B,GAAO,SACH,GACF,IAAO,KAAQ,EAAgB,4BAA+B,EAAgB,qBAEhF,GAAO,MAAS,EAAgB,qBAAwB,EAAe,IAAO,EAAO,KAAQ,EAAgB,MAAS,EAAS,IAAO,EAAU,KAAQ,EAAe,MAAS,EAAS,IAAO,EAAU,IAAO,EAAgB,SAAY,EAAS,QAAW,EAAS,MAC5Q,KAAO,CACL,AAAI,GAAiB,IAAY,OAC/B,GAAa,GACb,EAAgB,EAChB,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAe,EACf,GAAU,KAEN,IAAe,GAAe,KAAK,EAAS,MAAQ,OAAO,EAAa,CAAO,GACnF,AAAI,IAAiB,GAAgB,EAAe,IAClD,GAAa,GACb,EAAgB,EAChB,EAAiB,EAAG,cAAgB,IAAM,EAC1C,GAAU,KAEV,GAAa,GACb,GAAU,MAGd,GAAI,GAAU,IAAO,EAAS,IAC9B,GAAO,SACH,GACF,IAAO,KAAQ,EAAgB,4BAA+B,EAAgB,qBAEhF,GAAO,IAAO,EAAS,IAAO,EAAU,IAAO,EAAgB,OAAU,EAAS,QAAW,EAAS,MACxG,CACF,CACA,EAAgB,GAAiB,EACjC,GAAI,GAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,gBAAoB,IAAiB,UAAY,oCAA0C,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,4BAA+B,EAAW,YAAe,EAAgB,gBAAmB,EAAc,MACvR,EAAG,KAAK,WAAa,IACvB,IAAO,0BAA8B,EAAU,IAC/C,AAAI,EACF,GAAO,OAAW,EAElB,GAAO,GAAM,EAAgB,KAG7B,EAAG,KAAK,SACV,IAAO,eACP,AAAI,EACF,GAAO,kBAAqB,EAE5B,GAAO,GAAM,EAEf,GAAO,2CAA8C,EAAG,WAAc,YAAe,EAAS,KAEhG,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,SAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,+EAEnC,GAAO,MACH,GACF,IAAO,YAEF,CACT,EAjKiB,qBCDjB,iCACA,GAAO,QAAU,WAA8B,EAAI,EAAU,EAAW,CACtE,GAAI,GAAM,IACN,EAAO,EAAG,MACV,EAAW,EAAG,UACd,EAAU,EAAG,OAAO,GACpB,EAAc,EAAG,WAAa,EAAG,KAAK,YAAY,CAAQ,EAC1D,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EACA,EAAQ,OAAU,IAAY,IAC9B,EAAU,EAAG,KAAK,OAAS,GAAW,EAAQ,MAChD,EAOF,GANA,AAAI,EACF,IAAO,cAAiB,EAAQ,MAAS,EAAG,KAAK,QAAQ,EAAQ,MAAO,EAAU,EAAG,WAAW,EAAK,KACrG,EAAe,SAAW,GAE1B,EAAe,EAEb,CAAE,IAAW,MAAO,IAAW,UACjC,KAAM,IAAI,OAAM,EAAW,iBAAiB,EAE9C,GAAI,GAAM,GAAY,WAAa,IAAM,IACzC,GAAO,QACH,GACF,IAAO,KAAQ,EAAgB,4BAA+B,EAAgB,qBAEhF,GAAO,IAAO,EAAS,WAAc,EAAO,IAAO,EAAgB,OACnE,GAAI,GAAgB,EAChB,EAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,gBAAoB,IAAiB,eAAiB,oCAA0C,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,uBAA0B,EAAgB,MAC5N,EAAG,KAAK,WAAa,IACvB,IAAO,gCACP,AAAI,GAAY,WACd,GAAO,OAEP,GAAO,QAET,GAAO,SACP,AAAI,EACF,GAAO,OAAW,EAAgB,OAElC,GAAO,GAAM,EAEf,GAAO,YAEL,EAAG,KAAK,SACV,IAAO,eACP,AAAI,EACF,GAAO,kBAAqB,EAE5B,GAAO,GAAM,EAEf,GAAO,2CAA8C,EAAG,WAAc,YAAe,EAAS,KAEhG,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,SAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,+EAEnC,GAAO,KACH,GACF,IAAO,YAEF,CACT,EA9EiB,0BCDjB,iCACA,GAAO,QAAU,WAA+B,EAAI,EAAU,EAAW,CACvE,GAAI,GAAM,IACN,EAAO,EAAG,MACV,EAAW,EAAG,UACd,EAAU,EAAG,OAAO,GACpB,EAAc,EAAG,WAAa,EAAG,KAAK,YAAY,CAAQ,EAC1D,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EACA,EAAQ,OAAU,IAAY,IAC9B,EAAU,EAAG,KAAK,OAAS,GAAW,EAAQ,MAChD,EAOF,GANA,AAAI,EACF,IAAO,cAAiB,EAAQ,MAAS,EAAG,KAAK,QAAQ,EAAQ,MAAO,EAAU,EAAG,WAAW,EAAK,KACrG,EAAe,SAAW,GAE1B,EAAe,EAEb,CAAE,IAAW,MAAO,IAAW,UACjC,KAAM,IAAI,OAAM,EAAW,iBAAiB,EAE9C,GAAI,GAAM,GAAY,YAAc,IAAM,IAC1C,GAAO,QACH,GACF,IAAO,KAAQ,EAAgB,4BAA+B,EAAgB,qBAEhF,AAAI,EAAG,KAAK,UAAY,GACtB,GAAO,IAAO,EAAS,WAEvB,GAAO,eAAkB,EAAS,KAEpC,GAAO,IAAO,EAAO,IAAO,EAAgB,OAC5C,GAAI,GAAgB,EAChB,EAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,gBAAoB,IAAiB,gBAAkB,oCAA0C,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,uBAA0B,EAAgB,MAC7N,EAAG,KAAK,WAAa,IACvB,IAAO,8BACP,AAAI,GAAY,YACd,GAAO,SAEP,GAAO,UAET,GAAO,SACP,AAAI,EACF,GAAO,OAAW,EAAgB,OAElC,GAAO,GAAM,EAEf,GAAO,iBAEL,EAAG,KAAK,SACV,IAAO,eACP,AAAI,EACF,GAAO,kBAAqB,EAE5B,GAAO,GAAM,EAEf,GAAO,2CAA8C,EAAG,WAAc,YAAe,EAAS,KAEhG,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,SAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,+EAEnC,GAAO,KACH,GACF,IAAO,YAEF,CACT,EAnFiB,2BCDjB,iCACA,GAAO,QAAU,WAAmC,EAAI,EAAU,EAAW,CAC3E,GAAI,GAAM,IACN,EAAO,EAAG,MACV,EAAW,EAAG,UACd,EAAU,EAAG,OAAO,GACpB,EAAc,EAAG,WAAa,EAAG,KAAK,YAAY,CAAQ,EAC1D,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EACA,EAAQ,OAAU,IAAY,IAC9B,EAAU,EAAG,KAAK,OAAS,GAAW,EAAQ,MAChD,EAOF,GANA,AAAI,EACF,IAAO,cAAiB,EAAQ,MAAS,EAAG,KAAK,QAAQ,EAAQ,MAAO,EAAU,EAAG,WAAW,EAAK,KACrG,EAAe,SAAW,GAE1B,EAAe,EAEb,CAAE,IAAW,MAAO,IAAW,UACjC,KAAM,IAAI,OAAM,EAAW,iBAAiB,EAE9C,GAAI,GAAM,GAAY,gBAAkB,IAAM,IAC9C,GAAO,QACH,GACF,IAAO,KAAQ,EAAgB,4BAA+B,EAAgB,qBAEhF,GAAO,gBAAmB,EAAS,YAAe,EAAO,IAAO,EAAgB,OAChF,GAAI,GAAgB,EAChB,EAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,gBAAoB,IAAiB,oBAAsB,oCAA0C,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,uBAA0B,EAAgB,MACjO,EAAG,KAAK,WAAa,IACvB,IAAO,gCACP,AAAI,GAAY,gBACd,GAAO,OAEP,GAAO,QAET,GAAO,SACP,AAAI,EACF,GAAO,OAAW,EAAgB,OAElC,GAAO,GAAM,EAEf,GAAO,iBAEL,EAAG,KAAK,SACV,IAAO,eACP,AAAI,EACF,GAAO,kBAAqB,EAE5B,GAAO,GAAM,EAEf,GAAO,2CAA8C,EAAG,WAAc,YAAe,EAAS,KAEhG,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,SAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,+EAEnC,GAAO,KACH,GACF,IAAO,YAEF,CACT,EA9EiB,+BCDjB,iCACA,GAAO,QAAU,WAA6B,EAAI,EAAU,EAAW,CACrE,GAAI,GAAM,IACN,EAAO,EAAG,MACV,EAAW,EAAG,UACd,EAAU,EAAG,OAAO,GACpB,EAAc,EAAG,WAAa,EAAG,KAAK,YAAY,CAAQ,EAC1D,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EAAQ,OAAU,IAAY,IAC9B,EAAU,EAAG,KAAK,OAAS,GAAW,EAAQ,MAChD,EAOF,GANA,AAAI,EACF,IAAO,cAAiB,EAAQ,MAAS,EAAG,KAAK,QAAQ,EAAQ,MAAO,EAAU,EAAG,WAAW,EAAK,KACrG,EAAe,SAAW,GAE1B,EAAe,EAEb,CAAE,IAAW,MAAO,IAAW,UACjC,KAAM,IAAI,OAAM,EAAW,iBAAiB,EAE9C,GAAO,eAAkB,EAAQ,QAC7B,GACF,IAAO,IAAO,EAAgB,8BAAiC,EAAgB,oBAEjF,GAAO,aAAgB,EAAQ,MAAS,EAAS,MAAS,EAAgB,KAC1E,AAAI,EAAG,KAAK,oBACV,GAAO,gCAAmC,EAAQ,eAAkB,EAAQ,UAAa,EAAG,KAAK,oBAAuB,IAExH,GAAO,YAAe,EAAQ,yBAA4B,EAAQ,KAEpE,GAAO,MACH,GACF,IAAO,SAET,GAAO,UACP,GAAI,GAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,2DAA8E,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,4BAA+B,EAAgB,MAC/M,EAAG,KAAK,WAAa,IACvB,IAAO,sCACP,AAAI,EACF,GAAO,OAAW,EAElB,GAAO,GAAM,EAAgB,KAG7B,EAAG,KAAK,SACV,IAAO,eACP,AAAI,EACF,GAAO,kBAAqB,EAE5B,GAAO,GAAM,EAEf,GAAO,2CAA8C,EAAG,WAAc,YAAe,EAAS,KAEhG,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,SAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,+EAEnC,GAAO,KACH,GACF,IAAO,YAEF,CACT,EA9EiB,yBCDjB,iCACA,GAAO,QAAU,WAAsB,EAAI,EAAU,EAAW,CAC9D,GAAI,GAAM,IACN,EAAO,EAAG,MACV,EAAW,EAAG,UACd,EAAU,EAAG,OAAO,GACpB,EAAc,EAAG,WAAa,EAAG,KAAK,YAAY,CAAQ,EAC1D,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EAAQ,OAAU,IAAY,IAC9B,EAAQ,SAAW,EACnB,EAAM,EAAG,KAAK,KAAK,CAAE,EACzB,EAAI,QACJ,GAAI,GAAa,QAAU,EAAI,MAC/B,GAAK,EAAG,KAAK,eAAkB,MAAO,IAAW,UAAY,OAAO,KAAK,CAAO,EAAE,OAAS,GAAM,IAAY,GAAQ,EAAG,KAAK,eAAe,EAAS,EAAG,MAAM,GAAG,EAAI,CACnK,EAAI,OAAS,EACb,EAAI,WAAa,EACjB,EAAI,cAAgB,EACpB,GAAO,QAAW,EAAS,eAC3B,GAAI,GAAgB,EAAG,cACvB,EAAG,cAAgB,EAAI,cAAgB,GACvC,EAAI,aAAe,GACnB,GAAI,GACJ,AAAI,EAAI,KAAK,WACX,GAAmB,EAAI,KAAK,UAC5B,EAAI,KAAK,UAAY,IAEvB,GAAO,IAAO,EAAG,SAAS,CAAG,EAAK,IAClC,EAAI,aAAe,GACf,GAAkB,GAAI,KAAK,UAAY,GAC3C,EAAG,cAAgB,EAAI,cAAgB,EACvC,GAAO,QAAW,EAAc,SAChC,GAAI,GAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,oDAAuE,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,iBACzJ,EAAG,KAAK,WAAa,IACvB,IAAO,sCAEL,EAAG,KAAK,SACV,IAAO,6BAAgC,EAAe,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAEvI,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,EAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,+EAEnC,GAAO,uBAA0B,EAAS,iCAAoC,EAAS,sBAAyB,EAAS,4BACrH,EAAG,KAAK,WACV,IAAO,MAEX,KACE,IAAO,iBACP,AAAI,EAAG,eAAiB,GACtB,IAAO,oDAAuE,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,iBACzJ,EAAG,KAAK,WAAa,IACvB,IAAO,sCAEL,EAAG,KAAK,SACV,IAAO,6BAAgC,EAAe,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAEvI,GAAO,OAEP,GAAO,OAET,GAAO,+EACH,GACF,IAAO,kBAGX,MAAO,EACT,EAlFiB,kBCDjB,iCACA,GAAO,QAAU,WAAwB,EAAI,EAAU,EAAW,CAChE,GAAI,GAAM,IACN,EAAO,EAAG,MACV,EAAW,EAAG,UACd,EAAU,EAAG,OAAO,GACpB,EAAc,EAAG,WAAa,EAAG,KAAK,YAAY,CAAQ,EAC1D,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EAAQ,OAAU,IAAY,IAC9B,EAAS,QAAU,EACnB,EAAQ,SAAW,EACnB,EAAM,EAAG,KAAK,KAAK,CAAE,EACrB,EAAiB,GACrB,EAAI,QACJ,GAAI,GAAa,QAAU,EAAI,MAC3B,EAAiB,EAAI,OACvB,EAAa,YAAc,EAC3B,EAAkB,iBAAmB,EACvC,GAAO,OAAU,EAAS,eAAkB,EAAc,cAAiB,EAAU,cAAiB,EAAmB,YACzH,GAAI,GAAgB,EAAG,cACvB,EAAG,cAAgB,EAAI,cAAgB,GACvC,GAAI,GAAO,EACX,GAAI,EAGF,OAFI,GAAM,EAAK,GACb,EAAK,EAAK,OAAS,EACd,EAAK,GACV,EAAO,EAAK,GAAM,GAClB,AAAK,GAAG,KAAK,eAAkB,MAAO,IAAQ,UAAY,OAAO,KAAK,CAAI,EAAE,OAAS,GAAM,IAAS,GAAQ,EAAG,KAAK,eAAe,EAAM,EAAG,MAAM,GAAG,GACnJ,GAAI,OAAS,EACb,EAAI,WAAa,EAAc,IAAM,EAAK,IAC1C,EAAI,cAAgB,EAAiB,IAAM,EAC3C,GAAO,KAAQ,EAAG,SAAS,CAAG,EAAK,IACnC,EAAI,OAAS,GAEb,GAAO,QAAW,EAAc,YAE9B,GACF,IAAO,QAAW,EAAc,OAAU,EAAc,OAAU,EAAU,aAAgB,EAAmB,OAAU,EAAmB,KAAQ,EAAM,eAC1J,GAAkB,KAEpB,GAAO,QAAW,EAAc,OAAU,EAAU,MAAS,EAAc,YAAe,EAAmB,MAAS,EAAM,MAGhI,SAAG,cAAgB,EAAI,cAAgB,EACvC,GAAO,GAAM,EAAkB,QAAW,EAAU,qBACpD,AAAI,EAAG,eAAiB,GACtB,IAAO,sDAAyE,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,gCAAmC,EAAmB,MACjN,EAAG,KAAK,WAAa,IACvB,IAAO,2DAEL,EAAG,KAAK,SACV,IAAO,6BAAgC,EAAe,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAEvI,GAAO,OAEP,GAAO,OAET,GAAO,+EACH,CAAC,EAAG,eAAiB,GAEvB,CAAI,EAAG,MACL,GAAO,wCAEP,GAAO,8CAGX,GAAO,sBAAyB,EAAS,iCAAoC,EAAS,sBAAyB,EAAS,2BACpH,EAAG,KAAK,WACV,IAAO,OAEF,CACT,EAvEiB,oBCDjB,iCACA,GAAO,QAAU,WAA0B,EAAI,EAAU,EAAW,CAClE,GAAI,GAAM,IACN,EAAO,EAAG,MACV,EAAW,EAAG,UACd,EAAU,EAAG,OAAO,GACpB,EAAc,EAAG,WAAa,EAAG,KAAK,YAAY,CAAQ,EAC1D,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EAAQ,OAAU,IAAY,IAC9B,EAAU,EAAG,KAAK,OAAS,GAAW,EAAQ,MAChD,EACF,AAAI,EACF,IAAO,cAAiB,EAAQ,MAAS,EAAG,KAAK,QAAQ,EAAQ,MAAO,EAAU,EAAG,WAAW,EAAK,KACrG,EAAe,SAAW,GAE1B,EAAe,EAEjB,GAAI,GAAU,EAAU,eAAiB,EAAe,KAAO,EAAG,WAAW,CAAO,EACpF,GAAO,QACH,GACF,IAAO,KAAQ,EAAgB,4BAA+B,EAAgB,qBAEhF,GAAO,KAAQ,EAAW,SAAY,EAAS,WAC/C,GAAI,GAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,wDAA2E,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,0BACjK,AAAI,EACF,GAAO,GAAM,EAEb,GAAO,GAAM,EAAG,KAAK,eAAe,CAAO,EAE7C,GAAO,OACH,EAAG,KAAK,WAAa,IACvB,IAAO,sCACP,AAAI,EACF,GAAO,OAAW,EAAgB,OAElC,GAAO,GAAM,EAAG,KAAK,aAAa,CAAO,EAE3C,GAAO,OAEL,EAAG,KAAK,SACV,IAAO,eACP,AAAI,EACF,GAAO,kBAAqB,EAE5B,GAAO,GAAM,EAAG,KAAK,eAAe,CAAO,EAE7C,GAAO,2CAA8C,EAAG,WAAc,YAAe,EAAS,KAEhG,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,SAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,+EAEnC,GAAO,KACH,GACF,IAAO,YAEF,CACT,EAzEiB,sBCDjB,iCACA,GAAO,QAAU,WAA6B,EAAI,EAAU,EAAW,CACrE,GAAI,GAAM,IACN,EAAO,EAAG,MACV,EAAW,EAAG,UACd,EAAU,EAAG,OAAO,GACpB,EAAc,EAAG,WAAa,EAAG,KAAK,YAAY,CAAQ,EAC1D,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EAAQ,OAAU,IAAY,IAC9B,EAAQ,SAAW,EACnB,EAAM,EAAG,KAAK,KAAK,CAAE,EACrB,EAAiB,GACrB,EAAI,QACJ,GAAI,GAAa,QAAU,EAAI,MAC3B,EAAO,MAAQ,EACjB,EAAO,MAAQ,EACf,EAAW,EAAI,UAAY,EAAG,UAAY,EAC1C,EAAY,OAAS,EACrB,EAAkB,iBAAmB,EACnC,EAAc,OAAO,KAAK,GAAW,CAAC,CAAC,EAAE,OAAO,EAAQ,EAC1D,EAAe,EAAG,OAAO,mBAAqB,CAAC,EAC/C,EAAiB,OAAO,KAAK,CAAY,EAAE,OAAO,EAAQ,EAC1D,EAAe,EAAG,OAAO,qBACzB,EAAkB,EAAY,QAAU,EAAe,OACvD,EAAgB,IAAiB,GACjC,EAAsB,MAAO,IAAgB,UAAY,OAAO,KAAK,CAAY,EAAE,OACnF,EAAoB,EAAG,KAAK,iBAC5B,EAAmB,GAAiB,GAAuB,EAC3D,EAAiB,EAAG,KAAK,cACzB,EAAiB,EAAG,OAClB,EAAY,EAAG,OAAO,SAC1B,GAAI,GAAa,CAAE,GAAG,KAAK,OAAS,EAAU,QAAU,EAAU,OAAS,EAAG,KAAK,aACjF,GAAI,GAAgB,EAAG,KAAK,OAAO,CAAS,EAG9C,YAAkB,GAAG,CACnB,MAAO,MAAM,WACf,CAKA,GAPS,iBAGT,GAAO,OAAU,EAAS,iBAAoB,EAAc,WACxD,GACF,IAAO,QAAW,EAAmB,iBAEnC,EAAkB,CAMpB,GALA,AAAI,EACF,GAAO,IAAO,EAAmB,MAAS,EAAmB,mBAAsB,EAAS,eAAkB,EAAQ,OAAU,EAAQ,IAAO,EAAmB,YAAe,EAAQ,aAAgB,EAAQ,MAAS,EAAmB,IAAO,EAAQ,MAE5P,GAAO,aAAgB,EAAQ,OAAU,EAAS,OAEhD,EAAiB,CAEnB,GADA,GAAO,oBAAuB,EAAQ,cAClC,EAAY,OACd,GAAI,EAAY,OAAS,EACvB,GAAO,sBAAyB,EAAe,mBAAsB,EAAQ,SACxE,CACL,GAAI,GAAO,EACX,GAAI,EAGF,OAFI,GAAc,GAAK,GACrB,GAAK,EAAK,OAAS,EACd,GAAK,IACV,EAAe,EAAK,IAAM,GAC1B,GAAO,OAAU,EAAQ,OAAU,EAAG,KAAK,eAAe,CAAY,EAAK,GAGjF,CAEF,GAAI,EAAe,OAAQ,CACzB,GAAI,IAAO,EACX,GAAI,GAGF,OAFI,IAAY,GAAK,GACnB,EAAK,GAAK,OAAS,EACd,GAAK,GACV,GAAa,GAAK,IAAM,GACxB,GAAO,OAAU,EAAG,WAAW,EAAU,EAAK,SAAY,EAAQ,IAGxE,CACA,GAAO,uBAA0B,EAAQ,MAC3C,CACA,GAAI,GAAqB,MACvB,GAAO,WAAc,EAAS,IAAO,EAAQ,UACxC,CACL,GAAI,GAAoB,EAAG,UACvB,EAAsB,OAAU,EAAO,OAI3C,GAHI,EAAG,KAAK,wBACV,GAAG,UAAY,EAAG,KAAK,YAAY,EAAG,UAAW,EAAM,EAAG,KAAK,YAAY,GAEzE,EACF,GAAI,EACF,GAAO,WAAc,EAAS,IAAO,EAAQ,UACxC,CACL,GAAO,IAAO,EAAc,aAC5B,GAAI,GAAqB,EACzB,EAAiB,EAAG,cAAgB,wBACpC,GAAI,GAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,qEAAwF,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,qCAAyC,EAAuB,OAC1O,EAAG,KAAK,WAAa,IACvB,IAAO,gBACP,AAAI,EAAG,KAAK,uBACV,GAAO,oCAEP,GAAO,wCAET,GAAO,MAEL,EAAG,KAAK,SACV,IAAO,mDAAsD,EAAG,WAAc,YAAe,EAAS,KAExG,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,EAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,+EAEnC,EAAiB,EACb,GACF,IAAO,WAEX,SACS,EACT,GAAI,GAAqB,UAAW,CAClC,GAAO,QAAW,EAAS,eAC3B,GAAI,IAAgB,EAAG,cACvB,EAAG,cAAgB,EAAI,cAAgB,GACvC,EAAI,OAAS,EACb,EAAI,WAAa,EAAG,WAAa,wBACjC,EAAI,cAAgB,EAAG,cAAgB,wBACvC,EAAI,UAAY,EAAG,KAAK,uBAAyB,EAAG,UAAY,EAAG,KAAK,YAAY,EAAG,UAAW,EAAM,EAAG,KAAK,YAAY,EAC5H,GAAI,IAAY,EAAQ,IAAM,EAAO,IACrC,EAAI,YAAY,GAAY,EAC5B,GAAI,IAAQ,EAAG,SAAS,CAAG,EAC3B,EAAI,OAAS,EACb,AAAI,EAAG,KAAK,cAAc,GAAO,CAAS,EAAI,EAC5C,GAAO,IAAO,EAAG,KAAK,WAAW,GAAO,EAAW,EAAS,EAAK,IAEjE,GAAO,QAAW,EAAa,MAAS,GAAa,KAAQ,GAAS,IAExE,GAAO,SAAY,EAAc,gBAAmB,EAAS,wHAA2H,EAAS,IAAO,EAAQ,SAChN,EAAG,cAAgB,EAAI,cAAgB,EACzC,KAAO,CACL,EAAI,OAAS,EACb,EAAI,WAAa,EAAG,WAAa,wBACjC,EAAI,cAAgB,EAAG,cAAgB,wBACvC,EAAI,UAAY,EAAG,KAAK,uBAAyB,EAAG,UAAY,EAAG,KAAK,YAAY,EAAG,UAAW,EAAM,EAAG,KAAK,YAAY,EAC5H,GAAI,IAAY,EAAQ,IAAM,EAAO,IACrC,EAAI,YAAY,GAAY,EAC5B,GAAI,IAAQ,EAAG,SAAS,CAAG,EAC3B,EAAI,OAAS,EACb,AAAI,EAAG,KAAK,cAAc,GAAO,CAAS,EAAI,EAC5C,GAAO,IAAO,EAAG,KAAK,WAAW,GAAO,EAAW,EAAS,EAAK,IAEjE,GAAO,QAAW,EAAa,MAAS,GAAa,KAAQ,GAAS,IAEpE,GACF,IAAO,SAAY,EAAc,YAErC,CAEF,EAAG,UAAY,CACjB,CACA,AAAI,GACF,IAAO,OAET,GAAO,OACH,GACF,IAAO,QAAW,EAAc,OAChC,GAAkB,IAEtB,CACA,GAAI,IAAe,EAAG,KAAK,aAAe,CAAC,EAAG,cAC9C,GAAI,EAAY,OAAQ,CACtB,GAAI,IAAO,EACX,GAAI,GAGF,OAFI,GAAc,GAAK,GACrB,GAAK,GAAK,OAAS,EACd,GAAK,IAAI,CACd,EAAe,GAAK,IAAM,GAC1B,GAAI,IAAO,EAAQ,GACnB,GAAK,EAAG,KAAK,eAAkB,MAAO,KAAQ,UAAY,OAAO,KAAK,EAAI,EAAE,OAAS,GAAM,KAAS,GAAQ,EAAG,KAAK,eAAe,GAAM,EAAG,MAAM,GAAG,EAAI,CACvJ,GAAI,IAAQ,EAAG,KAAK,YAAY,CAAY,EAC1C,GAAY,EAAQ,GACpB,GAAc,IAAgB,GAAK,UAAY,OACjD,EAAI,OAAS,GACb,EAAI,WAAa,EAAc,GAC/B,EAAI,cAAgB,EAAiB,IAAM,EAAG,KAAK,eAAe,CAAY,EAC9E,EAAI,UAAY,EAAG,KAAK,QAAQ,EAAG,UAAW,EAAc,EAAG,KAAK,YAAY,EAChF,EAAI,YAAY,GAAY,EAAG,KAAK,eAAe,CAAY,EAC/D,GAAI,IAAQ,EAAG,SAAS,CAAG,EAE3B,GADA,EAAI,OAAS,EACT,EAAG,KAAK,cAAc,GAAO,CAAS,EAAI,EAAG,CAC/C,GAAQ,EAAG,KAAK,WAAW,GAAO,EAAW,EAAS,EACtD,GAAI,IAAW,EACjB,KAAO,CACL,GAAI,IAAW,EACf,GAAO,QAAW,EAAa,MAAS,GAAa,IACvD,CACA,GAAI,GACF,GAAO,IAAO,GAAS,QAClB,CACL,GAAI,GAAiB,EAAc,GAAe,CAChD,GAAO,SAAY,GAAY,kBAC3B,GACF,IAAO,8CAAiD,EAAS,MAAU,EAAG,KAAK,aAAa,CAAY,EAAK,OAEnH,GAAO,OAAU,EAAc,aAC/B,GAAI,GAAoB,EAAG,UACzB,EAAqB,EACrB,GAAmB,EAAG,KAAK,aAAa,CAAY,EACtD,AAAI,EAAG,KAAK,wBACV,GAAG,UAAY,EAAG,KAAK,QAAQ,EAAmB,EAAc,EAAG,KAAK,YAAY,GAEtF,EAAiB,EAAG,cAAgB,YACpC,GAAI,GAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,yDAA4E,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,kCAAsC,GAAoB,OACxN,EAAG,KAAK,WAAa,IACvB,IAAO,gBACP,AAAI,EAAG,KAAK,uBACV,GAAO,yBAEP,GAAO,oCAAwC,GAAoB,MAErE,GAAO,MAEL,EAAG,KAAK,SACV,IAAO,6BAAgC,EAAe,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAEvI,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,EAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,+EAEnC,EAAiB,EACjB,EAAG,UAAY,EACf,GAAO,YACT,KACE,AAAI,GACF,IAAO,SAAY,GAAY,kBAC3B,GACF,IAAO,8CAAiD,EAAS,MAAU,EAAG,KAAK,aAAa,CAAY,EAAK,OAEnH,GAAO,OAAU,EAAc,sBAE/B,IAAO,QAAW,GAAY,kBAC1B,GACF,IAAO,8CAAiD,EAAS,MAAU,EAAG,KAAK,aAAa,CAAY,EAAK,OAEnH,GAAO,SAGX,GAAO,IAAO,GAAS,KACzB,CACF,CACA,AAAI,GACF,IAAO,QAAW,EAAc,OAChC,GAAkB,IAEtB,CAEJ,CACA,GAAI,EAAe,OAAQ,CACzB,GAAI,IAAO,EACX,GAAI,GAGF,OAFI,IAAY,GAAK,GACnB,GAAK,GAAK,OAAS,EACd,GAAK,IAAI,CACd,GAAa,GAAK,IAAM,GACxB,GAAI,IAAO,EAAa,IACxB,GAAK,EAAG,KAAK,eAAkB,MAAO,KAAQ,UAAY,OAAO,KAAK,EAAI,EAAE,OAAS,GAAM,KAAS,GAAQ,EAAG,KAAK,eAAe,GAAM,EAAG,MAAM,GAAG,EAAI,CACvJ,EAAI,OAAS,GACb,EAAI,WAAa,EAAG,WAAa,qBAAuB,EAAG,KAAK,YAAY,EAAU,EACtF,EAAI,cAAgB,EAAG,cAAgB,sBAAwB,EAAG,KAAK,eAAe,EAAU,EAChG,AAAI,EACF,GAAO,IAAO,EAAmB,MAAS,EAAmB,mBAAsB,EAAS,eAAkB,EAAQ,OAAU,EAAQ,IAAO,EAAmB,YAAe,EAAQ,aAAgB,EAAQ,MAAS,EAAmB,IAAO,EAAQ,MAE5P,GAAO,aAAgB,EAAQ,OAAU,EAAS,OAEpD,GAAO,QAAW,EAAG,WAAW,EAAU,EAAK,SAAY,EAAQ,QACnE,EAAI,UAAY,EAAG,KAAK,YAAY,EAAG,UAAW,EAAM,EAAG,KAAK,YAAY,EAC5E,GAAI,IAAY,EAAQ,IAAM,EAAO,IACrC,EAAI,YAAY,GAAY,EAC5B,GAAI,IAAQ,EAAG,SAAS,CAAG,EAC3B,EAAI,OAAS,EACb,AAAI,EAAG,KAAK,cAAc,GAAO,CAAS,EAAI,EAC5C,GAAO,IAAO,EAAG,KAAK,WAAW,GAAO,EAAW,EAAS,EAAK,IAEjE,GAAO,QAAW,EAAa,MAAS,GAAa,KAAQ,GAAS,IAEpE,GACF,IAAO,SAAY,EAAc,aAEnC,GAAO,MACH,GACF,IAAO,SAAY,EAAc,aAEnC,GAAO,OACH,GACF,IAAO,QAAW,EAAc,OAChC,GAAkB,IAEtB,CACF,CAEJ,CACA,MAAI,IACF,IAAO,IAAO,EAAkB,QAAW,EAAS,iBAE/C,CACT,EA7UiB,yBCDjB,iCACA,GAAO,QAAU,WAAgC,EAAI,EAAU,EAAW,CACxE,GAAI,GAAM,IACN,EAAO,EAAG,MACV,EAAW,EAAG,UACd,EAAU,EAAG,OAAO,GACpB,EAAc,EAAG,WAAa,EAAG,KAAK,YAAY,CAAQ,EAC1D,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EAAQ,OAAU,IAAY,IAC9B,EAAQ,SAAW,EACnB,EAAM,EAAG,KAAK,KAAK,CAAE,EACrB,EAAiB,GACrB,EAAI,QACJ,GAAI,GAAa,QAAU,EAAI,MAE/B,GADA,GAAO,OAAU,EAAS,aACrB,EAAG,KAAK,eAAkB,MAAO,IAAW,UAAY,OAAO,KAAK,CAAO,EAAE,OAAS,GAAM,IAAY,GAAQ,EAAG,KAAK,eAAe,EAAS,EAAG,MAAM,GAAG,EAAI,CACnK,EAAI,OAAS,EACb,EAAI,WAAa,EACjB,EAAI,cAAgB,EACpB,GAAI,GAAO,MAAQ,EACjB,EAAO,MAAQ,EACf,EAAK,IAAM,EACX,EAAe,OAAU,EAAO,OAChC,EAAW,EAAI,UAAY,EAAG,UAAY,EAC1C,EAAY,OAAS,EACrB,EAAkB,iBAAmB,EACrC,EAAiB,EAAG,KAAK,cACzB,EAAiB,EAAG,OACtB,AAAI,GACF,IAAO,QAAW,EAAmB,kBAEvC,AAAI,EACF,GAAO,IAAO,EAAmB,MAAS,EAAmB,mBAAsB,EAAS,eAAkB,EAAQ,OAAU,EAAQ,IAAO,EAAmB,YAAe,EAAQ,aAAgB,EAAQ,MAAS,EAAmB,IAAO,EAAQ,MAE5P,GAAO,aAAgB,EAAQ,OAAU,EAAS,OAEpD,GAAO,iBAAoB,EAAQ,cACnC,GAAI,GAAY,EACZ,EAAgB,EAAG,cACvB,EAAG,cAAgB,EAAI,cAAgB,GACvC,GAAI,GAAQ,EAAG,SAAS,CAAG,EAC3B,EAAI,OAAS,EACb,AAAI,EAAG,KAAK,cAAc,EAAO,CAAS,EAAI,EAC5C,GAAO,IAAO,EAAG,KAAK,WAAW,EAAO,EAAW,CAAS,EAAK,IAEjE,GAAO,QAAW,EAAa,MAAS,EAAa,KAAQ,EAAS,IAExE,EAAG,cAAgB,EAAI,cAAgB,EACvC,GAAO,SAAY,EAAc,gBAAmB,EAAM,aAAgB,EAAQ,KAAQ,EAAM,YAAe,EAAM,iBAAoB,EAAM,oBAAuB,EAAQ,qBAC9K,AAAI,EAAG,eAAiB,GACtB,IAAO,8DAAiF,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,+BAAmC,EAAgB,OACtN,EAAG,KAAK,WAAa,IACvB,IAAO,iCAAsC,EAAgB,oBAE3D,EAAG,KAAK,SACV,IAAO,6BAAgC,EAAe,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAEvI,GAAO,OAEP,GAAO,OAET,GAAO,+EACH,CAAC,EAAG,eAAiB,GAEvB,CAAI,EAAG,MACL,GAAO,wCAEP,GAAO,8CAGP,GACF,IAAO,YAET,GAAO,MACT,CACA,MAAI,IACF,IAAO,IAAO,EAAkB,QAAW,EAAS,iBAE/C,CACT,EA/EiB,4BCDjB,iCACA,GAAO,QAAU,WAA2B,EAAI,EAAU,EAAW,CACnE,GAAI,GAAM,IACN,EAAO,EAAG,MACV,EAAW,EAAG,UACd,EAAU,EAAG,OAAO,GACpB,EAAc,EAAG,WAAa,EAAG,KAAK,YAAY,CAAQ,EAC1D,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EAAQ,OAAU,IAAY,IAC9B,EAAS,QAAU,EACnB,EAAU,EAAG,KAAK,OAAS,GAAW,EAAQ,MAChD,EACF,AAAI,EACF,IAAO,cAAiB,EAAQ,MAAS,EAAG,KAAK,QAAQ,EAAQ,MAAO,EAAU,EAAG,WAAW,EAAK,KACrG,EAAe,SAAW,GAE1B,EAAe,EAEjB,GAAI,GAAW,SAAW,EAC1B,GAAI,CAAC,EACH,GAAI,EAAQ,OAAS,EAAG,KAAK,cAAgB,EAAG,OAAO,YAAc,OAAO,KAAK,EAAG,OAAO,UAAU,EAAE,OAAQ,CAC7G,GAAI,GAAY,CAAC,EACb,EAAO,EACX,GAAI,EAGF,OAFI,GAAW,EAAK,GAClB,EAAK,EAAK,OAAS,EACd,EAAK,GAAI,CACd,EAAY,EAAK,GAAM,GACvB,GAAI,GAAe,EAAG,OAAO,WAAW,GACxC,AAAM,GAAiB,GAAG,KAAK,eAAkB,MAAO,IAAgB,UAAY,OAAO,KAAK,CAAY,EAAE,OAAS,GAAM,IAAiB,GAAQ,EAAG,KAAK,eAAe,EAAc,EAAG,MAAM,GAAG,IACrM,GAAU,EAAU,QAAU,EAElC,CAEJ,KACE,IAAI,GAAY,EAGpB,GAAI,GAAW,EAAU,OAAQ,CAC/B,GAAI,GAAoB,EAAG,UACzB,EAAgB,GAAW,EAAU,QAAU,EAAG,KAAK,aACvD,EAAiB,EAAG,KAAK,cAC3B,GAAI,EAEF,GADA,GAAO,eAAkB,EAAQ,KAC7B,EAAe,CACjB,AAAK,GACH,IAAO,QAAW,EAAY,qBAAwB,EAAe,MAEvE,GAAI,GAAK,IAAM,EACb,EAAgB,SAAW,EAAO,IAAM,EAAK,IAC7C,EAAmB,OAAU,EAAgB,OAC/C,AAAI,EAAG,KAAK,wBACV,GAAG,UAAY,EAAG,KAAK,YAAY,EAAmB,EAAe,EAAG,KAAK,YAAY,GAE3F,GAAO,QAAW,EAAU,YACxB,GACF,IAAO,cAAiB,EAAQ,mBAAsB,EAAU,0CAA6C,EAAQ,MAAS,EAAU,oBAE1I,GAAO,aAAgB,EAAM,SAAY,EAAM,MAAS,EAAY,YAAe,EAAM,SAAY,EAAU,MAAS,EAAS,IAAO,EAAY,IAAO,EAAM,oBAC7J,GACF,IAAO,8CAAiD,EAAS,KAAQ,EAAY,IAAO,EAAM,OAEpG,GAAO,UAAa,EAAU,cAC1B,GACF,IAAO,SAET,GAAO,UAAa,EAAU,SAC9B,GAAI,GAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,yDAA4E,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,kCAAsC,EAAoB,OACxN,EAAG,KAAK,WAAa,IACvB,IAAO,gBACP,AAAI,EAAG,KAAK,uBACV,GAAO,yBAEP,GAAO,oCAAwC,EAAoB,MAErE,GAAO,MAEL,EAAG,KAAK,SACV,IAAO,6BAAgC,EAAe,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAEvI,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,EAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,+EAEnC,GAAO,YACT,KAAO,CACL,GAAO,SACP,GAAI,GAAO,EACX,GAAI,EAGF,OAFI,GAAc,EAAK,GACrB,EAAK,EAAK,OAAS,EACd,EAAK,GAAI,CACd,EAAe,EAAK,GAAM,GACtB,GACF,IAAO,QAET,GAAI,GAAQ,EAAG,KAAK,YAAY,CAAY,EAC1C,GAAW,EAAQ,EACrB,GAAO,QAAW,GAAY,kBAC1B,GACF,IAAO,8CAAiD,EAAS,MAAU,EAAG,KAAK,aAAa,CAAY,EAAK,OAEnH,GAAO,gBAAmB,EAAQ,MAAS,EAAG,KAAK,eAAe,EAAG,KAAK,aAAe,EAAe,CAAK,EAAK,MACpH,CAEF,GAAO,QACP,GAAI,GAAgB,UAAY,EAC9B,EAAmB,OAAU,EAAgB,OAC/C,AAAI,EAAG,KAAK,wBACV,GAAG,UAAY,EAAG,KAAK,aAAe,EAAG,KAAK,YAAY,EAAmB,EAAe,EAAI,EAAI,EAAoB,MAAQ,GAElI,GAAI,GAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,yDAA4E,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,kCAAsC,EAAoB,OACxN,EAAG,KAAK,WAAa,IACvB,IAAO,gBACP,AAAI,EAAG,KAAK,uBACV,GAAO,yBAEP,GAAO,oCAAwC,EAAoB,MAErE,GAAO,MAEL,EAAG,KAAK,SACV,IAAO,6BAAgC,EAAe,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAEvI,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,EAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,+EAEnC,GAAO,YACT,SAEI,EAAe,CACjB,AAAK,GACH,IAAO,QAAW,EAAY,qBAAwB,EAAe,MAEvE,GAAI,GAAK,IAAM,EACb,EAAgB,SAAW,EAAO,IAAM,EAAK,IAC7C,EAAmB,OAAU,EAAgB,OAC/C,AAAI,EAAG,KAAK,wBACV,GAAG,UAAY,EAAG,KAAK,YAAY,EAAmB,EAAe,EAAG,KAAK,YAAY,GAEvF,GACF,IAAO,QAAW,EAAY,sBAAyB,EAAY,qBACnE,AAAI,EAAG,eAAiB,GACtB,IAAO,yDAA4E,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,kCAAsC,EAAoB,OACxN,EAAG,KAAK,WAAa,IACvB,IAAO,gBACP,AAAI,EAAG,KAAK,uBACV,GAAO,yBAEP,GAAO,oCAAwC,EAAoB,MAErE,GAAO,MAEL,EAAG,KAAK,SACV,IAAO,6BAAgC,EAAe,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAEvI,GAAO,OAEP,GAAO,OAET,GAAO,0FAA6F,EAAY,sBAElH,GAAO,aAAgB,EAAM,SAAY,EAAM,MAAS,EAAY,YAAe,EAAM,aAAgB,EAAS,IAAO,EAAY,IAAO,EAAM,oBAC9I,GACF,IAAO,8CAAiD,EAAS,KAAQ,EAAY,IAAO,EAAM,OAEpG,GAAO,oBACP,AAAI,EAAG,eAAiB,GACtB,IAAO,yDAA4E,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,kCAAsC,EAAoB,OACxN,EAAG,KAAK,WAAa,IACvB,IAAO,gBACP,AAAI,EAAG,KAAK,uBACV,GAAO,yBAEP,GAAO,oCAAwC,EAAoB,MAErE,GAAO,MAEL,EAAG,KAAK,SACV,IAAO,6BAAgC,EAAe,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAEvI,GAAO,OAEP,GAAO,OAET,GAAO,mFACH,GACF,IAAO,QAEX,KAAO,CACL,GAAI,GAAO,EACX,GAAI,EAGF,OAFI,GAAc,EAAK,GACrB,GAAK,EAAK,OAAS,EACd,EAAK,IAAI,CACd,EAAe,EAAK,GAAM,GAC1B,GAAI,GAAQ,EAAG,KAAK,YAAY,CAAY,EAC1C,EAAmB,EAAG,KAAK,aAAa,CAAY,EACpD,GAAW,EAAQ,EACrB,AAAI,EAAG,KAAK,wBACV,GAAG,UAAY,EAAG,KAAK,QAAQ,EAAmB,EAAc,EAAG,KAAK,YAAY,GAEtF,GAAO,SAAY,GAAY,kBAC3B,GACF,IAAO,8CAAiD,EAAS,MAAU,EAAG,KAAK,aAAa,CAAY,EAAK,OAEnH,GAAO,oBACP,AAAI,EAAG,eAAiB,GACtB,IAAO,yDAA4E,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,kCAAsC,EAAoB,OACxN,EAAG,KAAK,WAAa,IACvB,IAAO,gBACP,AAAI,EAAG,KAAK,uBACV,GAAO,yBAEP,GAAO,oCAAwC,EAAoB,MAErE,GAAO,MAEL,EAAG,KAAK,SACV,IAAO,6BAAgC,EAAe,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAEvI,GAAO,OAEP,GAAO,OAET,GAAO,gFACT,CAEJ,CAEF,EAAG,UAAY,CACjB,KAAO,AAAI,IACT,IAAO,gBAET,MAAO,EACT,EA5QiB,uBCDjB,iCACA,GAAO,QAAU,WAA8B,EAAI,EAAU,EAAW,CACtE,GAAI,GAAM,IACN,EAAO,EAAG,MACV,EAAW,EAAG,UACd,EAAU,EAAG,OAAO,GACpB,EAAc,EAAG,WAAa,EAAG,KAAK,YAAY,CAAQ,EAC1D,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EAAQ,OAAU,IAAY,IAC9B,EAAS,QAAU,EACnB,EAAU,EAAG,KAAK,OAAS,GAAW,EAAQ,MAChD,EAOF,GANA,AAAI,EACF,IAAO,cAAiB,EAAQ,MAAS,EAAG,KAAK,QAAQ,EAAQ,MAAO,EAAU,EAAG,WAAW,EAAK,KACrG,EAAe,SAAW,GAE1B,EAAe,EAEZ,IAAW,IAAY,EAAG,KAAK,cAAgB,GAAO,CACzD,AAAI,GACF,IAAO,QAAW,EAAU,SAAY,EAAgB,iBAAoB,EAAgB,mBAAsB,EAAU,4BAA+B,EAAgB,kBAAuB,EAAU,qBAE9M,GAAO,YAAe,EAAS,aAAgB,EAAU,6BACzD,GAAI,GAAY,EAAG,OAAO,OAAS,EAAG,OAAO,MAAM,KACjD,EAAe,MAAM,QAAQ,CAAS,EACxC,GAAI,CAAC,GAAa,GAAa,UAAY,GAAa,SAAY,GAAiB,GAAU,QAAQ,QAAQ,GAAK,GAAK,EAAU,QAAQ,OAAO,GAAK,GACrJ,GAAO,uDAA0D,EAAS,QAAW,EAAS,WAAc,EAAU,oCACjH,CACL,GAAO,yDAA4D,EAAS,QAC5E,GAAI,GAAU,gBAAmB,GAAe,IAAM,IACtD,GAAO,QAAW,EAAG,KAAK,GAAS,EAAW,OAAQ,EAAG,KAAK,cAAe,EAAI,EAAK,eAClF,GACF,IAAO,qDAET,GAAO,gDAAqD,EAAU,qEACxE,CACA,GAAO,MACH,GACF,IAAO,SAET,GAAO,SAAY,EAAU,SAC7B,GAAI,GAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,4DAA+E,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,6BACjK,EAAG,KAAK,WAAa,IACvB,IAAO,mGAEL,EAAG,KAAK,SACV,IAAO,eACP,AAAI,EACF,GAAO,kBAAqB,EAE5B,GAAO,GAAM,EAEf,GAAO,2CAA8C,EAAG,WAAc,YAAe,EAAS,KAEhG,GAAO,OAEP,GAAO,OAET,GAAI,GAAQ,EACZ,EAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,EAAS,OAElD,GAAO,uBAA0B,EAAS,oBAG5C,GAAO,cAAiB,EAAS,+EAEnC,GAAO,MACH,GACF,IAAO,WAEX,KACE,AAAI,IACF,IAAO,iBAGX,MAAO,EACT,EApFiB,0BCDjB,iCAGA,GAAO,QAAU,CACf,KAAQ,KACR,MAAO,KACP,MAAO,KACP,SAAY,KACZ,MAAO,KACP,SAAU,KACV,aAAc,KACd,KAAQ,KACR,OAAQ,KACR,GAAM,KACN,MAAO,KACP,QAAS,KACT,QAAS,KACT,SAAU,KACV,SAAU,KACV,UAAW,KACX,UAAW,KACX,cAAe,KACf,cAAe,KACf,WAAY,KACZ,IAAK,KACL,MAAO,KACP,QAAS,KACT,WAAY,KACZ,cAAe,KACf,SAAU,KACV,YAAa,KACb,SAAU,IACZ,IChCA,iCAEA,GAAI,IAAc,KACd,GAAS,KAAkB,OAE/B,GAAO,QAAU,YAAiB,CAChC,GAAI,GAAQ,CACV,CAAE,KAAM,SACN,MAAO,CAAE,CAAE,QAAW,CAAC,kBAAkB,CAAE,EAClC,CAAE,QAAW,CAAC,kBAAkB,CAAE,EAAG,aAAc,QAAQ,CAAE,EACxE,CAAE,KAAM,SACN,MAAO,CAAE,YAAa,YAAa,UAAW,QAAS,CAAE,EAC3D,CAAE,KAAM,QACN,MAAO,CAAE,WAAY,WAAY,QAAS,WAAY,aAAc,CAAE,EACxE,CAAE,KAAM,SACN,MAAO,CAAE,gBAAiB,gBAAiB,WAAY,eAAgB,gBAC9D,CAAE,WAAc,CAAC,uBAAwB,mBAAmB,CAAE,CAAE,CAAE,EAC7E,CAAE,MAAO,CAAE,OAAQ,QAAS,OAAQ,MAAO,QAAS,QAAS,QAAS,IAAK,CAAE,CAC/E,EAEI,EAAM,CAAE,OAAQ,UAAW,EAC3B,EAAW,CACb,UAAW,MAAO,KAAM,QAAS,SAAU,QAC3C,cAAe,UAAW,cAC1B,WAAY,WAAY,YACxB,mBAAoB,kBACpB,kBAAmB,OAAQ,MAC7B,EACI,EAAQ,CAAE,SAAU,UAAW,SAAU,QAAS,SAAU,UAAW,MAAO,EAClF,SAAM,IAAM,GAAO,CAAG,EACtB,EAAM,MAAQ,GAAO,CAAK,EAE1B,EAAM,QAAQ,SAAU,EAAO,CAC7B,EAAM,MAAQ,EAAM,MAAM,IAAI,SAAU,EAAS,CAC/C,GAAI,GACJ,GAAI,MAAO,IAAW,SAAU,CAC9B,GAAI,GAAM,OAAO,KAAK,CAAO,EAAE,GAC/B,EAAe,EAAQ,GACvB,EAAU,EACV,EAAa,QAAQ,SAAU,EAAG,CAChC,EAAI,KAAK,CAAC,EACV,EAAM,IAAI,GAAK,EACjB,CAAC,CACH,CACA,EAAI,KAAK,CAAO,EAChB,GAAI,GAAO,EAAM,IAAI,GAAW,CAC9B,QAAS,EACT,KAAM,GAAY,GAClB,WAAY,CACd,EACA,MAAO,EACT,CAAC,EAED,EAAM,IAAI,SAAW,CACnB,QAAS,WACT,KAAM,GAAY,QACpB,EAEI,EAAM,MAAM,GAAM,MAAM,EAAM,MAAQ,EAC5C,CAAC,EAED,EAAM,SAAW,GAAO,EAAI,OAAO,CAAQ,CAAC,EAC5C,EAAM,OAAS,CAAC,EAET,CACT,EA5DiB,WCLjB,iCAEA,GAAI,IAAW,CACb,aACA,UACA,mBACA,UACA,mBACA,YACA,YACA,UACA,kBACA,WACA,WACA,cACA,gBACA,gBACA,WACA,uBACA,OACA,SACA,OACF,EAEA,GAAO,QAAU,SAAU,EAAY,EAAsB,CAC3D,OAAS,GAAE,EAAG,EAAE,EAAqB,OAAQ,IAAK,CAChD,EAAa,KAAK,MAAM,KAAK,UAAU,CAAU,CAAC,EAClD,GAAI,GAAW,EAAqB,GAAG,MAAM,GAAG,EAC5C,EAAW,EACX,EACJ,IAAK,EAAE,EAAG,EAAE,EAAS,OAAQ,IAC3B,EAAW,EAAS,EAAS,IAE/B,IAAK,EAAE,EAAG,EAAE,GAAS,OAAQ,IAAK,CAChC,GAAI,GAAM,GAAS,GACf,EAAS,EAAS,GACtB,AAAI,GACF,GAAS,GAAO,CACd,MAAO,CACL,EACA,CAAE,KAAM,gFAAiF,CAC3F,CACF,EAEJ,CACF,CAEA,MAAO,EACT,IChDA,iCAEA,GAAI,IAAkB,KAA2B,WAEjD,GAAO,QAAU,GAYjB,YAAsB,EAAQ,EAAM,EAAU,CAI5C,GAAI,GAAO,KACX,GAAI,MAAO,MAAK,MAAM,YAAc,WAClC,KAAM,IAAI,OAAM,yCAAyC,EAE3D,AAAI,MAAO,IAAQ,YACjB,GAAW,EACX,EAAO,QAGT,GAAI,GAAI,EAAiB,CAAM,EAAE,KAAK,UAAY,CAChD,GAAI,GAAY,EAAK,WAAW,EAAQ,OAAW,CAAI,EACvD,MAAO,GAAU,UAAY,EAAc,CAAS,CACtD,CAAC,EAED,MAAI,IACF,EAAE,KACA,SAAS,EAAG,CAAE,EAAS,KAAM,CAAC,CAAG,EACjC,CACF,EAGK,EAGP,WAA0B,EAAK,CAC7B,GAAI,GAAU,EAAI,QAClB,MAAO,IAAW,CAAC,EAAK,UAAU,CAAO,EAC/B,GAAa,KAAK,EAAM,CAAE,KAAM,CAAQ,EAAG,EAAI,EAC/C,QAAQ,QAAQ,CAC5B,CALS,wBAQT,WAAuB,EAAW,CAChC,GAAI,CAAE,MAAO,GAAK,SAAS,CAAS,CAAG,OACjC,EAAN,CACE,GAAI,YAAa,IAAiB,MAAO,GAAkB,CAAC,EAC5D,KAAM,EACR,CAGA,WAA2B,EAAG,CAC5B,GAAI,GAAM,EAAE,cACZ,GAAI,EAAM,CAAG,EAAG,KAAM,IAAI,OAAM,UAAY,EAAM,kBAAoB,EAAE,WAAa,qBAAqB,EAE1G,GAAI,GAAgB,EAAK,gBAAgB,GACzC,MAAK,IACH,GAAgB,EAAK,gBAAgB,GAAO,EAAK,MAAM,WAAW,CAAG,EACrE,EAAc,KAAK,EAAe,CAAa,GAG1C,EAAc,KAAK,SAAU,EAAK,CACvC,GAAI,CAAC,EAAM,CAAG,EACZ,MAAO,GAAiB,CAAG,EAAE,KAAK,UAAY,CAC5C,AAAK,EAAM,CAAG,GAAG,EAAK,UAAU,EAAK,EAAK,OAAW,CAAI,CAC3D,CAAC,CAEL,CAAC,EAAE,KAAK,UAAW,CACjB,MAAO,GAAc,CAAS,CAChC,CAAC,EAED,YAAyB,CACvB,MAAO,GAAK,gBAAgB,EAC9B,CAFS,qBAIT,WAAe,EAAK,CAClB,MAAO,GAAK,MAAM,IAAQ,EAAK,SAAS,EAC1C,CAFS,YAGX,CA3BS,wBA4BX,CApCS,oBAqCX,CAzES,uBChBT,iCACA,GAAO,QAAU,WAAyB,EAAI,EAAU,EAAW,CACjE,GAAI,GAAM,IACN,EAAO,EAAG,MACV,EAAW,EAAG,UACd,EAAU,EAAG,OAAO,GACpB,EAAc,EAAG,WAAa,EAAG,KAAK,YAAY,CAAQ,EAC1D,EAAiB,EAAG,cAAgB,IAAM,EAC1C,EAAgB,CAAC,EAAG,KAAK,UACzB,EACA,EAAQ,OAAU,IAAY,IAC9B,EAAS,QAAU,EACnB,EAAQ,SAAW,EACnB,EAAU,EAAG,KAAK,OAAS,GAAW,EAAQ,MAChD,EACF,AAAI,EACF,IAAO,cAAiB,EAAQ,MAAS,EAAG,KAAK,QAAQ,EAAQ,MAAO,EAAU,EAAG,WAAW,EAAK,KACrG,EAAe,SAAW,GAE1B,EAAe,EAEjB,GAAI,GAAQ,KACV,EAAc,aAAe,EAC7B,EAAQ,EAAM,WACd,EAAiB,GACf,EAAU,EAAS,EAAQ,EAAe,EAC9C,GAAI,GAAW,EAAM,MAAO,CAC1B,EAAgB,kBAAoB,EACpC,GAAI,GAAkB,EAAM,eAC5B,GAAO,QAAW,EAAe,oBAAwB,EAAY,sBAA0B,EAAiB,MAAS,EAAe,YAC1I,KAAO,CAEL,GADA,EAAgB,EAAG,cAAc,EAAO,EAAS,EAAG,OAAQ,CAAE,EAC1D,CAAC,EAAe,OACpB,EAAe,kBAAoB,EACnC,EAAgB,EAAc,KAC9B,EAAW,EAAM,QACjB,EAAU,EAAM,OAChB,EAAS,EAAM,KACjB,CACA,GAAI,GAAY,EAAgB,UAC9B,EAAK,IAAM,EACX,EAAW,UAAY,EACvB,EAAgB,EAAM,MACxB,GAAI,GAAiB,CAAC,EAAG,MAAO,KAAM,IAAI,OAAM,8BAA8B,EAa9E,GAZM,GAAW,GACf,IAAO,GAAM,EAAa,YAE5B,GAAO,OAAU,EAAS,iBAAoB,EAAU,IACpD,GAAW,EAAM,OACnB,IAAkB,IAClB,GAAO,QAAW,EAAgB,qBAAwB,EAAU,qBAChE,GACF,IAAkB,IAClB,GAAO,IAAO,EAAU,MAAS,EAAe,mBAAsB,EAAgB,UAAa,EAAU,SAG7G,EACF,AAAI,EAAM,WACR,GAAO,IAAO,EAAc,SAAY,IAExC,GAAO,IAAO,EAAU,MAAS,EAAc,SAAY,aAEpD,EAAQ,CACjB,GAAI,GAAM,EAAG,KAAK,KAAK,CAAE,EACrB,EAAiB,GACrB,EAAI,QACJ,GAAI,GAAa,QAAU,EAAI,MAC/B,EAAI,OAAS,EAAc,SAC3B,EAAI,WAAa,GACjB,GAAI,GAAgB,EAAG,cACvB,EAAG,cAAgB,EAAI,cAAgB,GACvC,GAAI,IAAQ,EAAG,SAAS,CAAG,EAAE,QAAQ,oBAAqB,CAAa,EACvE,EAAG,cAAgB,EAAI,cAAgB,EACvC,GAAO,IAAO,EAChB,KAAO,CACL,GAAI,GAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,GAAO,KAAQ,EAAiB,UAChC,AAAI,EAAG,KAAK,YACV,GAAO,OAEP,GAAO,OAET,AAAI,GAAY,EAAM,SAAW,GAC/B,GAAO,MAAS,EAAS,IAEzB,GAAO,MAAS,EAAgB,MAAS,EAAS,qBAAwB,EAAG,WAAc,IAE7F,GAAO,sBACH,EAAG,WAAa,MAClB,IAAO,MAAS,EAAG,WAErB,GAAI,GAAc,EAAW,OAAW,GAAW,GAAM,IAAM,aAC7D,GAAsB,EAAW,EAAG,YAAY,GAAY,qBAC9D,GAAO,MAAS,EAAe,MAAS,GAAuB,kBAC/D,GAAI,IAAuB,EAC3B,EAAM,EAAW,IAAI,EACrB,AAAI,EAAM,SAAW,GACnB,IAAO,IAAO,EAAU,MACpB,GACF,IAAO,UAET,GAAO,GAAM,GAAwB,MAErC,AAAI,EACF,GAAY,eAAiB,EAC7B,GAAO,QAAW,EAAa,kBAAqB,EAAU,YAAe,GAAwB,mBAAsB,EAAU,+CAAkD,EAAa,iCAEpM,GAAO,IAAO,EAAa,YAAe,EAAU,MAAS,GAAwB,IAG3F,CAKA,GAJI,EAAM,WACR,IAAO,QAAW,EAAe,KAAQ,EAAS,MAAS,EAAe,IAAO,GAAuB,MAE1G,GAAO,GAAM,EACT,EAAM,MACR,AAAI,GACF,IAAO,qBAEJ,CACL,GAAO,SACP,AAAI,EAAM,QAAU,OAClB,IAAO,KACP,AAAI,EACF,GAAO,GAAM,EAEb,GAAO,GAAM,GAGf,GAAO,IAAO,CAAC,EAAM,MAAS,IAEhC,GAAO,OACP,EAAgB,EAAM,QACtB,GAAI,GAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,GAAI,GAAa,GAAc,CAAC,EAChC,EAAW,KAAK,CAAG,EACnB,EAAM,GACN,AAAI,EAAG,eAAiB,GACtB,IAAO,gBAAoB,IAAiB,UAAY,oCAA0C,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,0BAA8B,EAAM,QAAW,OAC5N,EAAG,KAAK,WAAa,IACvB,IAAO,6BAAiC,EAAM,QAAW,0BAEvD,EAAG,KAAK,SACV,IAAO,6BAAgC,EAAe,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAEvI,GAAO,OAEP,GAAO,OAET,GAAI,IAAQ,EACZ,EAAM,EAAW,IAAI,EACrB,AAAI,CAAC,EAAG,eAAiB,EAEvB,AAAI,EAAG,MACL,GAAO,+BAAkC,GAAS,OAElD,GAAO,uBAA0B,GAAS,oBAG5C,GAAO,cAAiB,GAAS,+EAEnC,GAAI,IAAkB,EACtB,EAAM,EAAW,IAAI,EACrB,AAAI,EACF,AAAI,EAAM,OACJ,EAAM,QAAU,QAClB,IAAO,cAAiB,EAAM,IAAO,EAAS,KAAQ,EAAM,YAAe,EAAM,aAAgB,EAAY,cAAiB,EAAM,UAAa,EAAY,4BAA+B,EAAY,kCAAuC,EAAG,UAAa,SAAY,EAAY,gCAAmC,EAAY,kBAAqB,EAAkB,QACzW,EAAG,KAAK,SACV,IAAO,IAAO,EAAY,aAAgB,EAAgB,KAAQ,EAAY,WAAc,EAAS,MAEvG,GAAO,OAGT,AAAI,EAAM,SAAW,GACnB,GAAO,IAAO,GAAmB,IAEjC,IAAO,QAAW,EAAS,iBAAoB,GAAmB,uBAA0B,EAAM,IAAO,EAAS,KAAQ,EAAM,YAAe,EAAM,aAAgB,EAAY,cAAiB,EAAM,UAAa,EAAY,4BAA+B,EAAY,kCAAuC,EAAG,UAAa,SAAY,EAAY,gCAAmC,EAAY,kBAAqB,EAAkB,QAC7a,EAAG,KAAK,SACV,IAAO,IAAO,EAAY,aAAgB,EAAgB,KAAQ,EAAY,WAAc,EAAS,MAEvG,GAAO,SAGN,AAAI,EACT,IAAO,kBACP,AAAI,EAAG,eAAiB,GACtB,IAAO,gBAAoB,IAAiB,UAAY,oCAA0C,EAAG,UAAa,kBAAqB,EAAG,KAAK,eAAe,CAAc,EAAK,0BAA8B,EAAM,QAAW,OAC5N,EAAG,KAAK,WAAa,IACvB,IAAO,6BAAiC,EAAM,QAAW,0BAEvD,EAAG,KAAK,SACV,IAAO,6BAAgC,EAAe,mCAAsC,EAAG,WAAc,YAAe,EAAS,KAEvI,GAAO,OAEP,GAAO,OAET,GAAO,+EACH,CAAC,EAAG,eAAiB,GAEvB,CAAI,EAAG,MACL,GAAO,wCAEP,GAAO,+CAIX,AAAI,EAAM,SAAW,GACnB,GAAO,IAAO,GAAmB,IAEjC,IAAO,sBAAyB,EAAa,wCAA2C,EAAa,mCAAsC,EAAa,yCAA4C,EAAM,IAAO,EAAS,KAAQ,EAAM,YAAe,EAAM,aAAgB,EAAY,cAAiB,EAAM,UAAa,EAAY,4BAA+B,EAAY,kCAAuC,EAAG,UAAa,MAAS,EAAY,kBAAqB,EAAkB,OACne,EAAG,KAAK,SACV,IAAO,IAAO,EAAY,aAAgB,EAAgB,KAAQ,EAAY,WAAc,EAAS,MAEvG,GAAO,eAAkB,GAAmB,OAGhD,GAAO,MACH,GACF,IAAO,WAEX,CACA,MAAO,EACT,EAlOiB,u8ECDjB,iCAEA,GAAI,IAAa,KAEjB,GAAO,QAAU,CACf,IAAK,4EACL,YAAa,CACX,YAAa,GAAW,YAAY,WACtC,EACA,KAAM,SACN,aAAc,CACZ,OAAQ,CAAC,UAAU,EACnB,MAAO,CAAC,UAAU,EAClB,WAAY,CAAC,QAAQ,EACrB,MAAO,CAAC,IAAK,CAAC,SAAU,CAAC,OAAO,CAAC,CAAC,CACpC,EACA,WAAY,CACV,KAAM,GAAW,WAAW,KAC5B,OAAQ,CAAC,KAAM,SAAS,EACxB,WAAY,CAAC,KAAM,SAAS,EAC5B,aAAc,CACZ,KAAM,QACN,MAAO,CAAC,KAAM,QAAQ,CACxB,EACA,WAAY,CAAC,KAAM,QAAQ,EAC3B,UAAW,CAAC,KAAM,SAAS,EAC3B,MAAO,CAAC,KAAM,SAAS,EACvB,MAAO,CAAC,KAAM,SAAS,EACvB,MAAO,CAAC,KAAM,SAAS,EACvB,OAAQ,CACN,MAAO,CACL,CAAC,KAAM,SAAS,EAChB,CAAC,MAAO,MAAM,CAChB,CACF,CACF,CACF,ICpCA,iCAEA,GAAI,IAAa,yBACb,GAAiB,KACjB,GAAmB,KAEvB,GAAO,QAAU,CACf,IAAK,GACL,IAAK,GACL,OAAQ,GACR,SAAU,EACZ,EAUA,YAAoB,EAAS,EAAY,CAGvC,GAAI,GAAQ,KAAK,MACjB,GAAI,EAAM,SAAS,GACjB,KAAM,IAAI,OAAM,WAAa,EAAU,qBAAqB,EAE9D,GAAI,CAAC,GAAW,KAAK,CAAO,EAC1B,KAAM,IAAI,OAAM,WAAa,EAAU,4BAA4B,EAErE,GAAI,EAAY,CACd,KAAK,gBAAgB,EAAY,EAAI,EAErC,GAAI,GAAW,EAAW,KAC1B,GAAI,MAAM,QAAQ,CAAQ,EACxB,OAAS,GAAE,EAAG,EAAE,EAAS,OAAQ,IAC/B,EAAS,EAAS,EAAS,GAAI,CAAU,MAE3C,GAAS,EAAS,EAAU,CAAU,EAGxC,GAAI,GAAa,EAAW,WAC5B,AAAI,GACE,GAAW,OAAS,KAAK,MAAM,OACjC,GAAa,CACX,MAAO,CACL,EACA,CAAE,KAAQ,gFAAiF,CAC7F,CACF,GAEF,EAAW,eAAiB,KAAK,QAAQ,EAAY,EAAI,EAE7D,CAEA,EAAM,SAAS,GAAW,EAAM,IAAI,GAAW,GAG/C,WAAkB,EAAS,EAAU,EAAY,CAE/C,OADI,GACK,EAAE,EAAG,EAAE,EAAM,OAAQ,IAAK,CACjC,GAAI,GAAK,EAAM,GACf,GAAI,EAAG,MAAQ,EAAU,CACvB,EAAY,EACZ,KACF,CACF,CAEA,AAAK,GACH,GAAY,CAAE,KAAM,EAAU,MAAO,CAAC,CAAE,EACxC,EAAM,KAAK,CAAS,GAGtB,GAAI,GAAO,CACT,QAAS,EACT,WAAY,EACZ,OAAQ,GACR,KAAM,GACN,WAAY,EAAW,UACzB,EACA,EAAU,MAAM,KAAK,CAAI,EACzB,EAAM,OAAO,GAAW,CAC1B,CAxBS,uBA0BF,IACT,CAjES,mBA0ET,YAAoB,EAAS,CAE3B,GAAI,GAAO,KAAK,MAAM,OAAO,GAC7B,MAAO,GAAO,EAAK,WAAa,KAAK,MAAM,SAAS,IAAY,EAClE,CAJS,mBAaT,YAAuB,EAAS,CAE9B,GAAI,GAAQ,KAAK,MACjB,MAAO,GAAM,SAAS,GACtB,MAAO,GAAM,IAAI,GACjB,MAAO,GAAM,OAAO,GACpB,OAAS,GAAE,EAAG,EAAE,EAAM,OAAQ,IAE5B,OADI,GAAQ,EAAM,GAAG,MACZ,EAAE,EAAG,EAAE,EAAM,OAAQ,IAC5B,GAAI,EAAM,GAAG,SAAW,EAAS,CAC/B,EAAM,OAAO,EAAG,CAAC,EACjB,KACF,CAGJ,MAAO,KACT,CAhBS,sBA0BT,YAAyB,EAAY,EAAY,CAC/C,GAAgB,OAAS,KACzB,GAAI,GAAI,KAAK,iBAAmB,KAAK,kBACF,KAAK,QAAQ,GAAkB,EAAI,EAEtE,GAAI,EAAE,CAAU,EAAG,MAAO,GAE1B,GADA,GAAgB,OAAS,EAAE,OACvB,EACF,KAAM,IAAI,OAAM,yCAA4C,KAAK,WAAW,EAAE,MAAM,CAAC,EAErF,MAAO,EACX,CAXS,gbCtIT,iCAEA,GAAI,IAAgB,KAChB,GAAU,KACV,GAAQ,KACR,GAAe,KACf,GAAkB,KAClB,GAAU,KACV,GAAQ,KACR,GAAkB,KAClB,GAAO,KAEX,GAAO,QAAU,GAEjB,GAAI,UAAU,SAAW,GACzB,GAAI,UAAU,QAAU,GACxB,GAAI,UAAU,UAAY,GAC1B,GAAI,UAAU,cAAgB,GAC9B,GAAI,UAAU,eAAiB,GAC/B,GAAI,UAAU,UAAY,GAC1B,GAAI,UAAU,aAAe,GAC7B,GAAI,UAAU,UAAY,GAC1B,GAAI,UAAU,WAAa,GAE3B,GAAI,UAAU,WAAa,GAC3B,GAAI,UAAU,SAAW,GAEzB,GAAI,UAAU,aAAe,KAC7B,GAAI,IAAgB,KACpB,GAAI,UAAU,WAAa,GAAc,IACzC,GAAI,UAAU,WAAa,GAAc,IACzC,GAAI,UAAU,cAAgB,GAAc,OAC5C,GAAI,UAAU,gBAAkB,GAAc,SAE9C,GAAI,IAAe,KACnB,GAAI,gBAAkB,GAAa,WACnC,GAAI,gBAAkB,GAAa,WACnC,GAAI,gBAAkB,GAEtB,GAAI,IAAiB,yCAEjB,GAAsB,CAAE,mBAAoB,cAAe,cAAe,gBAAiB,EAC3F,GAAoB,CAAC,aAAa,EAQtC,YAAa,EAAM,CACjB,GAAI,CAAE,gBAAgB,KAAM,MAAO,IAAI,IAAI,CAAI,EAC/C,EAAO,KAAK,MAAQ,GAAK,KAAK,CAAI,GAAK,CAAC,EACxC,GAAU,IAAI,EACd,KAAK,SAAW,CAAC,EACjB,KAAK,MAAQ,CAAC,EACd,KAAK,WAAa,CAAC,EACnB,KAAK,SAAW,GAAQ,EAAK,MAAM,EAEnC,KAAK,OAAS,EAAK,OAAS,GAAI,IAChC,KAAK,gBAAkB,CAAC,EACxB,KAAK,cAAgB,CAAC,EACtB,KAAK,MAAQ,GAAM,EACnB,KAAK,OAAS,GAAY,CAAI,EAE9B,EAAK,aAAe,EAAK,cAAgB,IACrC,EAAK,eAAiB,YAAY,GAAK,uBAAyB,IAChE,EAAK,YAAc,QAAW,GAAK,UAAY,IACnD,KAAK,UAAY,GAAqB,IAAI,EAEtC,EAAK,SAAS,GAAkB,IAAI,EACpC,EAAK,UAAU,GAAmB,IAAI,EAC1C,GAAqB,IAAI,EACrB,MAAO,GAAK,MAAQ,UAAU,KAAK,cAAc,EAAK,IAAI,EAC1D,EAAK,UAAU,KAAK,WAAW,WAAY,CAAC,WAAY,CAAC,KAAM,SAAS,CAAC,CAAC,EAC9E,GAAkB,IAAI,CACxB,CA1BS,YAsCT,YAAkB,EAAc,EAAM,CACpC,GAAI,GACJ,GAAI,MAAO,IAAgB,UAEzB,GADA,EAAI,KAAK,UAAU,CAAY,EAC3B,CAAC,EAAG,KAAM,IAAI,OAAM,8BAAgC,EAAe,GAAG,MACrE,CACL,GAAI,GAAY,KAAK,WAAW,CAAY,EAC5C,EAAI,EAAU,UAAY,KAAK,SAAS,CAAS,CACnD,CAEA,GAAI,GAAQ,EAAE,CAAI,EAClB,MAAI,GAAE,SAAW,IAAM,MAAK,OAAS,EAAE,QAChC,CACT,CAbS,iBAuBT,YAAiB,EAAQ,EAAO,CAC9B,GAAI,GAAY,KAAK,WAAW,EAAQ,OAAW,CAAK,EACxD,MAAO,GAAU,UAAY,KAAK,SAAS,CAAS,CACtD,CAHS,gBAeT,YAAmB,EAAQ,EAAK,EAAiB,EAAO,CACtD,GAAI,MAAM,QAAQ,CAAM,EAAE,CACxB,OAAS,GAAE,EAAG,EAAE,EAAO,OAAQ,IAAK,KAAK,UAAU,EAAO,GAAI,OAAW,EAAiB,CAAK,EAC/F,MAAO,KACT,CACA,GAAI,GAAK,KAAK,OAAO,CAAM,EAC3B,GAAI,IAAO,QAAa,MAAO,IAAM,SACnC,KAAM,IAAI,OAAM,0BAA0B,EAC5C,SAAM,GAAQ,YAAY,GAAO,CAAE,EACnC,GAAY,KAAM,CAAG,EACrB,KAAK,SAAS,GAAO,KAAK,WAAW,EAAQ,EAAiB,EAAO,EAAI,EAClE,IACT,CAZS,kBAwBT,YAAuB,EAAQ,EAAK,EAAgB,CAClD,YAAK,UAAU,EAAQ,EAAK,EAAgB,EAAI,EACzC,IACT,CAHS,sBAaT,YAAwB,EAAQ,EAAiB,CAC/C,GAAI,GAAU,EAAO,QACrB,GAAI,IAAY,QAAa,MAAO,IAAW,SAC7C,KAAM,IAAI,OAAM,0BAA0B,EAE5C,GADA,EAAU,GAAW,KAAK,MAAM,aAAe,GAAY,IAAI,EAC3D,CAAC,EACH,YAAK,OAAO,KAAK,2BAA2B,EAC5C,KAAK,OAAS,KACP,GAET,GAAI,GAAQ,KAAK,SAAS,EAAS,CAAM,EACzC,GAAI,CAAC,GAAS,EAAiB,CAC7B,GAAI,GAAU,sBAAwB,KAAK,WAAW,EACtD,GAAI,KAAK,MAAM,gBAAkB,MAAO,KAAK,OAAO,MAAM,CAAO,MAC5D,MAAM,IAAI,OAAM,CAAO,CAC9B,CACA,MAAO,EACT,CAjBS,uBAoBT,YAAqB,EAAM,CACzB,GAAI,GAAO,EAAK,MAAM,KACtB,SAAK,MAAM,YAAc,MAAO,IAAQ,SACZ,EAAK,OAAO,CAAI,GAAK,EACrB,EAAK,UAAU,EAAc,EAC3B,GACA,OACvB,EAAK,MAAM,WACpB,CARS,oBAiBT,YAAmB,EAAQ,CACzB,GAAI,GAAY,GAAc,KAAM,CAAM,EAC1C,OAAQ,MAAO,QACR,SAAU,MAAO,GAAU,UAAY,KAAK,SAAS,CAAS,MAC9D,SAAU,MAAO,MAAK,UAAU,CAAS,MACzC,YAAa,MAAO,IAAmB,KAAM,CAAM,EAE5D,CAPS,kBAUT,YAA4B,EAAM,EAAK,CACrC,GAAI,GAAM,GAAQ,OAAO,KAAK,EAAM,CAAE,OAAQ,CAAC,CAAE,EAAG,CAAG,EACvD,GAAI,EAAK,CACP,GAAI,GAAS,EAAI,OACb,EAAO,EAAI,KACX,EAAS,EAAI,OACb,EAAI,GAAc,KAAK,EAAM,EAAQ,EAAM,OAAW,CAAM,EAChE,SAAK,WAAW,GAAO,GAAI,IAAa,CACtC,IAAK,EACL,SAAU,GACV,OAAQ,EACR,KAAM,EACN,OAAQ,EACR,SAAU,CACZ,CAAC,EACM,CACT,CACF,CAjBS,2BAoBT,YAAuB,EAAM,EAAQ,CACnC,SAAS,GAAQ,YAAY,CAAM,EAC5B,EAAK,SAAS,IAAW,EAAK,MAAM,IAAW,EAAK,WAAW,EACxE,CAHS,sBAeT,YAAsB,EAAc,CAClC,GAAI,YAAwB,QAC1B,UAAkB,KAAM,KAAK,SAAU,CAAY,EACnD,GAAkB,KAAM,KAAK,MAAO,CAAY,EACzC,KAET,OAAQ,MAAO,QACR,YACH,UAAkB,KAAM,KAAK,QAAQ,EACrC,GAAkB,KAAM,KAAK,KAAK,EAClC,KAAK,OAAO,MAAM,EACX,SACJ,SACH,GAAI,GAAY,GAAc,KAAM,CAAY,EAChD,MAAI,IAAW,KAAK,OAAO,IAAI,EAAU,QAAQ,EACjD,MAAO,MAAK,SAAS,GACrB,MAAO,MAAK,MAAM,GACX,SACJ,SACH,GAAI,GAAY,KAAK,MAAM,UACvB,EAAW,EAAY,EAAU,CAAY,EAAI,EACrD,KAAK,OAAO,IAAI,CAAQ,EACxB,GAAI,GAAK,KAAK,OAAO,CAAY,EACjC,AAAI,GACF,GAAK,GAAQ,YAAY,CAAE,EAC3B,MAAO,MAAK,SAAS,GACrB,MAAO,MAAK,MAAM,IAGxB,MAAO,KACT,CA9BS,qBAiCT,YAA2B,EAAM,EAAS,EAAO,CAC/C,OAAS,KAAU,GAAS,CAC1B,GAAI,GAAY,EAAQ,GACxB,AAAI,CAAC,EAAU,MAAS,EAAC,GAAS,EAAM,KAAK,CAAM,IACjD,GAAK,OAAO,IAAI,EAAU,QAAQ,EAClC,MAAO,GAAQ,GAEnB,CACF,CARS,0BAYT,YAAoB,EAAQ,EAAgB,EAAM,EAAiB,CACjE,GAAI,MAAO,IAAU,UAAY,MAAO,IAAU,UAChD,KAAM,IAAI,OAAM,oCAAoC,EACtD,GAAI,GAAY,KAAK,MAAM,UACvB,EAAW,EAAY,EAAU,CAAM,EAAI,EAC3C,EAAS,KAAK,OAAO,IAAI,CAAQ,EACrC,GAAI,EAAQ,MAAO,GAEnB,EAAkB,GAAmB,KAAK,MAAM,gBAAkB,GAElE,GAAI,GAAK,GAAQ,YAAY,KAAK,OAAO,CAAM,CAAC,EAChD,AAAI,GAAM,GAAiB,GAAY,KAAM,CAAE,EAE/C,GAAI,GAAe,KAAK,MAAM,iBAAmB,IAAS,CAAC,EACvD,EACJ,AAAI,GAAgB,CAAE,GAAgB,GAAM,GAAM,GAAQ,YAAY,EAAO,OAAO,IAClF,KAAK,eAAe,EAAQ,EAAI,EAElC,GAAI,GAAY,GAAQ,IAAI,KAAK,KAAM,CAAM,EAEzC,EAAY,GAAI,IAAa,CAC/B,GAAI,EACJ,OAAQ,EACR,UAAW,EACX,SAAU,EACV,KAAM,CACR,CAAC,EAED,MAAI,GAAG,IAAM,KAAO,GAAiB,MAAK,MAAM,GAAM,GACtD,KAAK,OAAO,IAAI,EAAU,CAAS,EAE/B,GAAgB,GAAe,KAAK,eAAe,EAAQ,EAAI,EAE5D,CACT,CAlCS,mBAsCT,YAAkB,EAAW,EAAM,CACjC,GAAI,EAAU,UACZ,SAAU,SAAW,EACrB,EAAa,OAAS,EAAU,OAChC,EAAa,OAAS,KACtB,EAAa,KAAO,GAAc,EAC9B,EAAU,OAAO,SAAW,IAC9B,GAAa,OAAS,IACjB,EAET,EAAU,UAAY,GAEtB,GAAI,GACJ,AAAI,EAAU,MACZ,GAAc,KAAK,MACnB,KAAK,MAAQ,KAAK,WAGpB,GAAI,GACJ,GAAI,CAAE,EAAI,GAAc,KAAK,KAAM,EAAU,OAAQ,EAAM,EAAU,SAAS,CAAG,OAC3E,EAAN,CACE,YAAO,GAAU,SACX,CACR,QACA,CACE,EAAU,UAAY,GAClB,EAAU,MAAM,MAAK,MAAQ,EACnC,CAEA,SAAU,SAAW,EACrB,EAAU,KAAO,EAAE,KACnB,EAAU,OAAS,EAAE,OACrB,EAAU,KAAO,EAAE,KACZ,EAIP,YAAwB,CAEtB,GAAI,GAAY,EAAU,SACtB,EAAS,EAAU,MAAM,KAAM,SAAS,EAC5C,SAAa,OAAS,EAAU,OACzB,CACT,CANS,mBAOX,CA5CS,iBA+CT,YAAqB,EAAM,CACzB,OAAQ,EAAK,cACN,OAAQ,MAAO,QACf,KAAM,MAAO,YACT,MAAO,IAEpB,CANS,oBAST,YAAgB,EAAQ,CACtB,MAAI,GAAO,KAAK,KAAK,OAAO,KAAK,qBAAsB,EAAO,GAAG,EAC1D,EAAO,EAChB,CAHS,eAMT,YAAiB,EAAQ,CACvB,MAAI,GAAO,IAAI,KAAK,OAAO,KAAK,oBAAqB,EAAO,EAAE,EACvD,EAAO,GAChB,CAHS,gBAMT,YAAqB,EAAQ,CAC3B,GAAI,EAAO,KAAO,EAAO,IAAM,EAAO,KAAO,EAAO,GAClD,KAAM,IAAI,OAAM,iCAAiC,EACnD,MAAO,GAAO,KAAO,EAAO,EAC9B,CAJS,oBAcT,YAAoB,EAAQ,EAAS,CAEnC,GADA,EAAS,GAAU,KAAK,OACpB,CAAC,EAAQ,MAAO,YACpB,EAAU,GAAW,CAAC,EAKtB,OAJI,GAAY,EAAQ,YAAc,OAAY,KAAO,EAAQ,UAC7D,EAAU,EAAQ,UAAY,OAAY,OAAS,EAAQ,QAE3D,EAAO,GACF,EAAE,EAAG,EAAE,EAAO,OAAQ,IAAK,CAClC,GAAI,GAAI,EAAO,GACf,AAAI,GAAG,IAAQ,EAAU,EAAE,SAAW,IAAM,EAAE,QAAU,EAC1D,CACA,MAAO,GAAK,MAAM,EAAG,CAAC,EAAU,MAAM,CACxC,CAbS,mBAuBT,YAAmB,EAAM,EAAQ,CAC/B,MAAI,OAAO,IAAU,UAAU,GAAS,GAAI,QAAO,CAAM,GACzD,KAAK,SAAS,GAAQ,EACf,IACT,CAJS,kBAOT,YAA8B,EAAM,CAClC,GAAI,GAKJ,GAJI,EAAK,MAAM,OACb,GAAc,KACd,EAAK,cAAc,EAAa,EAAY,IAAK,EAAI,GAEnD,EAAK,MAAM,OAAS,GACxB,IAAI,GAAa,KACjB,AAAI,EAAK,MAAM,OAAO,GAAa,GAAgB,EAAY,EAAiB,GAChF,EAAK,cAAc,EAAY,GAAgB,EAAI,EACnD,EAAK,MAAM,iCAAmC,GAChD,CAXS,6BAcT,YAA2B,EAAM,CAC/B,GAAI,GAAc,EAAK,MAAM,QAC7B,GAAI,EAAC,EACL,GAAI,MAAM,QAAQ,CAAW,EAAG,EAAK,UAAU,CAAW,MACrD,QAAS,KAAO,GAAa,EAAK,UAAU,EAAY,GAAM,CAAG,CACxE,CALS,0BAQT,YAA2B,EAAM,CAC/B,OAAS,KAAQ,GAAK,MAAM,QAAS,CACnC,GAAI,GAAS,EAAK,MAAM,QAAQ,GAChC,EAAK,UAAU,EAAM,CAAM,CAC7B,CACF,CALS,0BAQT,YAA4B,EAAM,CAChC,OAAS,KAAQ,GAAK,MAAM,SAAU,CACpC,GAAI,GAAU,EAAK,MAAM,SAAS,GAClC,EAAK,WAAW,EAAM,CAAO,CAC/B,CACF,CALS,2BAQT,YAAqB,EAAM,EAAI,CAC7B,GAAI,EAAK,SAAS,IAAO,EAAK,MAAM,GAClC,KAAM,IAAI,OAAM,0BAA4B,EAAK,kBAAkB,CACvE,CAHS,oBAMT,YAA8B,EAAM,CAElC,OADI,GAAW,GAAK,KAAK,EAAK,KAAK,EAC1B,EAAE,EAAG,EAAE,GAAoB,OAAQ,IAC1C,MAAO,GAAS,GAAoB,IACtC,MAAO,EACT,CALS,6BAQT,YAAmB,EAAM,CACvB,GAAI,GAAS,EAAK,MAAM,OACxB,GAAI,IAAW,GACb,EAAK,OAAS,CAAC,IAAK,GAAM,KAAM,GAAM,MAAO,EAAI,MAC5C,CAEL,GADI,IAAW,QAAW,GAAS,SAC/B,CAAE,OAAO,IAAU,UAAY,EAAO,KAAO,EAAO,MAAQ,EAAO,OACrE,KAAM,IAAI,OAAM,mDAAmD,EACrE,EAAK,OAAS,CAChB,CACF,CAVS,kBAaT,aAAgB,CAAC,CAAR,eCzfT,kUCGA,OAAoF,SCSpF,OAmBO,SC/BQ,YAAiB,EAAK,CAGnC,MAAO,IAAU,AAAc,MAAO,SAArB,YAA+B,AAAY,MAAO,QAAO,UAA1B,SAAqC,SAAU,EAAK,CAClG,MAAO,OAAO,EAChB,EAAI,SAAU,EAAK,CACjB,MAAO,IAAO,AAAc,MAAO,SAArB,YAA+B,EAAI,cAAgB,QAAU,IAAQ,OAAO,UAAY,SAAW,MAAO,EAC1H,EAAG,GAAQ,CAAG,CAChB,CARwB,gBCAT,YAAyB,EAAK,EAAK,EAAO,CACvD,MAAI,KAAO,GACT,OAAO,eAAe,EAAK,EAAK,CAC9B,MAAO,EACP,WAAY,GACZ,aAAc,GACd,SAAU,EACZ,CAAC,EAED,EAAI,GAAO,EAGN,CACT,CAbwB,wBCCT,YAAuB,EAAQ,CAC5C,OAAS,GAAI,EAAG,EAAI,UAAU,OAAQ,IAAK,CACzC,GAAI,GAAS,UAAU,IAAM,KAAO,OAAO,UAAU,EAAE,EAAI,CAAC,EACxD,EAAU,OAAO,KAAK,CAAM,EAEhC,AAAI,MAAO,QAAO,uBAA0B,YAC1C,EAAQ,KAAK,MAAM,EAAS,OAAO,sBAAsB,CAAM,EAAE,OAAO,SAAU,EAAK,CACrF,MAAO,QAAO,yBAAyB,EAAQ,CAAG,EAAE,UACtD,CAAC,CAAC,EAGJ,EAAQ,QAAQ,SAAU,EAAK,CAC7B,GAAe,EAAQ,EAAK,EAAO,EAAI,CACzC,CAAC,CACH,CAEA,MAAO,EACT,CAjBwB,sBCDT,YAAyB,EAAU,EAAa,CAC7D,GAAI,CAAE,aAAoB,IACxB,KAAM,IAAI,WAAU,mCAAmC,CAE3D,CAJwB,wBCAxB,YAA2B,EAAQ,EAAO,CACxC,OAAS,GAAI,EAAG,EAAI,EAAM,OAAQ,IAAK,CACrC,GAAI,GAAa,EAAM,GACvB,EAAW,WAAa,EAAW,YAAc,GACjD,EAAW,aAAe,GACtB,SAAW,IAAY,GAAW,SAAW,IACjD,OAAO,eAAe,EAAQ,EAAW,IAAK,CAAU,CAC1D,CACF,CARS,0BAUM,YAAsB,EAAa,EAAY,EAAa,CACzE,MAAI,IAAY,GAAkB,EAAY,UAAW,CAAU,EAC/D,GAAa,GAAkB,EAAa,CAAW,EAC3D,OAAO,eAAe,EAAa,YAAa,CAC9C,SAAU,EACZ,CAAC,EACM,CACT,CAPwB,qBCVT,YAAgC,EAAM,CACnD,GAAI,IAAS,OACX,KAAM,IAAI,gBAAe,2DAA2D,EAGtF,MAAO,EACT,CANwB,+BCET,YAAoC,EAAM,EAAM,CAC7D,GAAI,GAAS,IAAQ,CAAI,IAAM,UAAY,MAAO,IAAS,YACzD,MAAO,GACF,GAAI,IAAS,OAClB,KAAM,IAAI,WAAU,0DAA0D,EAGhF,MAAO,IAAsB,CAAI,CACnC,CARwB,mCCFT,YAAyB,EAAG,CACzC,UAAkB,OAAO,eAAiB,OAAO,eAAe,KAAK,EAAI,WAAyB,EAAG,CACnG,MAAO,GAAE,WAAa,OAAO,eAAe,CAAC,CAC/C,EAFyE,mBAGlE,GAAgB,CAAC,CAC1B,CALwB,wBCAT,YAAyB,EAAG,EAAG,CAC5C,UAAkB,OAAO,eAAiB,OAAO,eAAe,KAAK,EAAI,WAAyB,EAAG,EAAG,CACtG,SAAE,UAAY,EACP,CACT,EAHyE,mBAIlE,GAAgB,EAAG,CAAC,CAC7B,CANwB,wBCCT,YAAmB,EAAU,EAAY,CACtD,GAAI,MAAO,IAAe,YAAc,IAAe,KACrD,KAAM,IAAI,WAAU,oDAAoD,EAG1E,EAAS,UAAY,OAAO,OAAO,GAAc,EAAW,UAAW,CACrE,YAAa,CACX,MAAO,EACP,SAAU,GACV,aAAc,EAChB,CACF,CAAC,EACD,OAAO,eAAe,EAAU,YAAa,CAC3C,SAAU,EACZ,CAAC,EACG,GAAY,GAAe,EAAU,CAAU,CACrD,CAhBwB,kBCQxB,GAAI,IAAgB,CAClB,KAAM,SACN,IAAK,WAAa,EAAM,CACtB,KAAK,OAAO,MAAO,CAAI,CACzB,EAFK,OAGL,KAAM,WAAc,EAAM,CACxB,KAAK,OAAO,OAAQ,CAAI,CAC1B,EAFM,QAGN,MAAO,WAAe,EAAM,CAC1B,KAAK,OAAO,QAAS,CAAI,CAC3B,EAFO,SAGP,OAAQ,WAAgB,EAAM,EAAM,CAClC,AAAI,SAAW,QAAQ,IAAO,QAAQ,GAAM,MAAM,QAAS,CAAI,CACjE,EAFQ,SAGV,EAEI,GAAS,UAAY,CACvB,WAAgB,EAAgB,CAC9B,GAAI,GAAU,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,CAAC,EAEnF,GAAgB,KAAM,CAAM,EAE5B,KAAK,KAAK,EAAgB,CAAO,CACnC,CANS,qBAQT,GAAa,EAAQ,CAAC,CACpB,IAAK,OACL,MAAO,WAAc,EAAgB,CACnC,GAAI,GAAU,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,CAAC,EACnF,KAAK,OAAS,EAAQ,QAAU,WAChC,KAAK,OAAS,GAAkB,GAChC,KAAK,QAAU,EACf,KAAK,MAAQ,EAAQ,KACvB,EANO,OAOT,EAAG,CACD,IAAK,WACL,MAAO,WAAkB,EAAM,CAC7B,KAAK,MAAQ,CACf,EAFO,WAGT,EAAG,CACD,IAAK,MACL,MAAO,YAAe,CACpB,OAAS,GAAO,UAAU,OAAQ,EAAO,GAAI,OAAM,CAAI,EAAG,EAAO,EAAG,EAAO,EAAM,IAC/E,EAAK,GAAQ,UAAU,GAGzB,MAAO,MAAK,QAAQ,EAAM,MAAO,GAAI,EAAI,CAC3C,EANO,MAOT,EAAG,CACD,IAAK,OACL,MAAO,YAAgB,CACrB,OAAS,GAAQ,UAAU,OAAQ,EAAO,GAAI,OAAM,CAAK,EAAG,EAAQ,EAAG,EAAQ,EAAO,IACpF,EAAK,GAAS,UAAU,GAG1B,MAAO,MAAK,QAAQ,EAAM,OAAQ,GAAI,EAAI,CAC5C,EANO,OAOT,EAAG,CACD,IAAK,QACL,MAAO,YAAiB,CACtB,OAAS,GAAQ,UAAU,OAAQ,EAAO,GAAI,OAAM,CAAK,EAAG,EAAQ,EAAG,EAAQ,EAAO,IACpF,EAAK,GAAS,UAAU,GAG1B,MAAO,MAAK,QAAQ,EAAM,QAAS,EAAE,CACvC,EANO,QAOT,EAAG,CACD,IAAK,YACL,MAAO,YAAqB,CAC1B,OAAS,GAAQ,UAAU,OAAQ,EAAO,GAAI,OAAM,CAAK,EAAG,EAAQ,EAAG,EAAQ,EAAO,IACpF,EAAK,GAAS,UAAU,GAG1B,MAAO,MAAK,QAAQ,EAAM,OAAQ,uBAAwB,EAAI,CAChE,EANO,YAOT,EAAG,CACD,IAAK,UACL,MAAO,WAAiB,EAAM,EAAK,EAAQ,EAAW,CACpD,MAAI,IAAa,CAAC,KAAK,MAAc,KACjC,OAAO,GAAK,IAAO,UAAU,GAAK,GAAK,GAAG,OAAO,CAAM,EAAE,OAAO,KAAK,OAAQ,GAAG,EAAE,OAAO,EAAK,EAAE,GAC7F,KAAK,OAAO,GAAK,CAAI,EAC9B,EAJO,UAKT,EAAG,CACD,IAAK,SACL,MAAO,WAAgB,EAAY,CACjC,MAAO,IAAI,GAAO,KAAK,OAAQ,GAAc,CAAC,EAAG,CAC/C,OAAQ,GAAG,OAAO,KAAK,OAAQ,GAAG,EAAE,OAAO,EAAY,GAAG,CAC5D,EAAG,KAAK,OAAO,CAAC,CAClB,EAJO,SAKT,CAAC,CAAC,EAEK,CACT,EAAE,EAEE,GAAa,GAAI,IAEjB,GAAe,UAAY,CAC7B,YAAwB,CACtB,GAAgB,KAAM,CAAY,EAElC,KAAK,UAAY,CAAC,CACpB,CAJS,2BAMT,GAAa,EAAc,CAAC,CAC1B,IAAK,KACL,MAAO,WAAY,EAAQ,EAAU,CACnC,GAAI,GAAQ,KAEZ,SAAO,MAAM,GAAG,EAAE,QAAQ,SAAU,EAAO,CACzC,EAAM,UAAU,GAAS,EAAM,UAAU,IAAU,CAAC,EAEpD,EAAM,UAAU,GAAO,KAAK,CAAQ,CACtC,CAAC,EACM,IACT,EATO,KAUT,EAAG,CACD,IAAK,MACL,MAAO,WAAa,EAAO,EAAU,CACnC,GAAI,EAAC,KAAK,UAAU,GAEpB,IAAI,CAAC,EAAU,CACb,MAAO,MAAK,UAAU,GACtB,MACF,CAEA,KAAK,UAAU,GAAS,KAAK,UAAU,GAAO,OAAO,SAAU,EAAG,CAChE,MAAO,KAAM,CACf,CAAC,EACH,EAXO,MAYT,EAAG,CACD,IAAK,OACL,MAAO,WAAc,EAAO,CAC1B,OAAS,GAAO,UAAU,OAAQ,EAAO,GAAI,OAAM,EAAO,EAAI,EAAO,EAAI,CAAC,EAAG,EAAO,EAAG,EAAO,EAAM,IAClG,EAAK,EAAO,GAAK,UAAU,GAG7B,GAAI,KAAK,UAAU,GAAQ,CACzB,GAAI,GAAS,CAAC,EAAE,OAAO,KAAK,UAAU,EAAM,EAC5C,EAAO,QAAQ,SAAU,EAAU,CACjC,EAAS,MAAM,OAAQ,CAAI,CAC7B,CAAC,CACH,CAEA,GAAI,KAAK,UAAU,KAAM,CACvB,GAAI,GAAU,CAAC,EAAE,OAAO,KAAK,UAAU,IAAI,EAE3C,EAAQ,QAAQ,SAAU,EAAU,CAClC,EAAS,MAAM,EAAU,CAAC,CAAK,EAAE,OAAO,CAAI,CAAC,CAC/C,CAAC,CACH,CACF,EAnBO,OAoBT,CAAC,CAAC,EAEK,CACT,EAAE,EAEF,aAAiB,CACf,GAAI,GACA,EACA,EAAU,GAAI,SAAQ,SAAU,EAAS,EAAQ,CACnD,EAAM,EACN,EAAM,CACR,CAAC,EACD,SAAQ,QAAU,EAClB,EAAQ,OAAS,EACV,CACT,CAVS,cAWT,YAAoB,EAAQ,CAC1B,MAAI,IAAU,KAAa,GACpB,GAAK,CACd,CAHS,mBAIT,YAAc,EAAG,EAAG,EAAG,CACrB,EAAE,QAAQ,SAAU,EAAG,CACrB,AAAI,EAAE,IAAI,GAAE,GAAK,EAAE,GACrB,CAAC,CACH,CAJS,aAMT,YAAuB,EAAQ,EAAM,EAAO,CAC1C,WAAkB,EAAK,CACrB,MAAO,IAAO,EAAI,QAAQ,KAAK,EAAI,GAAK,EAAI,QAAQ,OAAQ,GAAG,EAAI,CACrE,CAFS,gBAIT,YAAgC,CAC9B,MAAO,CAAC,GAAU,MAAO,IAAW,QACtC,CAFS,4BAMT,OAFI,GAAQ,MAAO,IAAS,SAAW,CAAC,EAAE,OAAO,CAAI,EAAI,EAAK,MAAM,GAAG,EAEhE,EAAM,OAAS,GAAG,CACvB,GAAI,EAAqB,EAAG,MAAO,CAAC,EACpC,GAAI,GAAM,EAAS,EAAM,MAAM,CAAC,EAChC,AAAI,CAAC,EAAO,IAAQ,GAAO,GAAO,GAAO,GAAI,IAE7C,AAAI,OAAO,UAAU,eAAe,KAAK,EAAQ,CAAG,EAClD,EAAS,EAAO,GAEhB,EAAS,CAAC,CAEd,CAEA,MAAI,GAAqB,EAAU,CAAC,EAC7B,CACL,IAAK,EACL,EAAG,EAAS,EAAM,MAAM,CAAC,CAC3B,CACF,CA5BS,sBA8BT,YAAiB,EAAQ,EAAM,EAAU,CACvC,GAAI,GAAiB,GAAc,EAAQ,EAAM,MAAM,EACnD,EAAM,EAAe,IACrB,EAAI,EAAe,EAEvB,EAAI,GAAK,CACX,CANS,gBAOT,YAAkB,EAAQ,EAAM,EAAU,EAAQ,CAChD,GAAI,GAAkB,GAAc,EAAQ,EAAM,MAAM,EACpD,EAAM,EAAgB,IACtB,EAAI,EAAgB,EAExB,EAAI,GAAK,EAAI,IAAM,CAAC,EAChB,GAAQ,GAAI,GAAK,EAAI,GAAG,OAAO,CAAQ,GACtC,GAAQ,EAAI,GAAG,KAAK,CAAQ,CACnC,CARS,iBAST,YAAiB,EAAQ,EAAM,CAC7B,GAAI,GAAkB,GAAc,EAAQ,CAAI,EAC5C,EAAM,EAAgB,IACtB,EAAI,EAAgB,EAExB,GAAI,EAAC,EACL,MAAO,GAAI,EACb,CAPS,gBAQT,YAA6B,EAAM,EAAa,EAAK,CACnD,GAAI,GAAQ,GAAQ,EAAM,CAAG,EAE7B,MAAI,KAAU,OACL,EAGF,GAAQ,EAAa,CAAG,CACjC,CARS,4BAST,YAAoB,EAAQ,EAAQ,EAAW,CAC7C,OAAS,KAAQ,GACf,AAAI,IAAS,aAAe,IAAS,eACnC,CAAI,IAAQ,GACV,AAAI,MAAO,GAAO,IAAU,UAAY,EAAO,YAAiB,SAAU,MAAO,GAAO,IAAU,UAAY,EAAO,YAAiB,QAChI,GAAW,GAAO,GAAQ,EAAO,IAErC,GAAW,EAAO,GAAO,EAAO,GAAO,CAAS,EAGlD,EAAO,GAAQ,EAAO,IAK5B,MAAO,EACT,CAhBS,mBAiBT,YAAqB,EAAK,CACxB,MAAO,GAAI,QAAQ,sCAAuC,MAAM,CAClE,CAFS,oBAGT,GAAI,IAAa,CACf,IAAK,QACL,IAAK,OACL,IAAK,OACL,IAAK,SACL,IAAK,QACL,IAAK,QACP,EACA,YAAgB,EAAM,CACpB,MAAI,OAAO,IAAS,SACX,EAAK,QAAQ,aAAc,SAAU,EAAG,CAC7C,MAAO,IAAW,EACpB,CAAC,EAGI,CACT,CARS,eAST,GAAI,IAAS,MAAO,QAAW,KAAe,OAAO,WAAa,OAAO,UAAU,WAAa,OAAO,UAAU,UAAU,QAAQ,MAAM,EAAI,GAE7I,YAAkB,EAAK,EAAM,CAC3B,GAAI,GAAe,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,IACvF,GAAI,EAAC,EACL,IAAI,EAAI,GAAO,MAAO,GAAI,GAI1B,OAHI,GAAQ,EAAK,MAAM,CAAY,EAC/B,EAAU,EAEL,EAAI,EAAG,EAAI,EAAM,OAAQ,EAAE,EAAG,CACrC,GAAI,MAAO,GAAQ,EAAM,KAAQ,UAAY,EAAI,EAAI,EAAM,OACzD,OAGF,GAAI,EAAQ,EAAM,MAAQ,OAAW,CAKnC,OAJI,GAAI,EACJ,EAAI,EAAM,MAAM,EAAG,EAAI,CAAC,EAAE,KAAK,CAAY,EAC3C,EAAM,EAAQ,GAEX,IAAQ,QAAa,EAAM,OAAS,EAAI,GAC7C,IACA,EAAI,EAAM,MAAM,EAAG,EAAI,CAAC,EAAE,KAAK,CAAY,EAC3C,EAAM,EAAQ,GAGhB,GAAI,IAAQ,OAAW,OACvB,GAAI,MAAO,IAAQ,SAAU,MAAO,GACpC,GAAI,GAAK,MAAO,GAAI,IAAO,SAAU,MAAO,GAAI,GAChD,GAAI,GAAa,EAAM,MAAM,EAAI,CAAC,EAAE,KAAK,CAAY,EACrD,MAAI,GAAmB,GAAS,EAAK,EAAY,CAAY,EAC7D,MACF,CAEA,EAAU,EAAQ,EAAM,GAC1B,CAEA,MAAO,GACT,CAnCS,iBAqCT,GAAI,IAAgB,SAAU,EAAe,CAC3C,GAAU,EAAe,CAAa,EAEtC,WAAuB,EAAM,CAC3B,GAAI,GAEA,EAAU,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,CAChF,GAAI,CAAC,aAAa,EAClB,UAAW,aACb,EAEA,UAAgB,KAAM,CAAa,EAEnC,EAAQ,GAA2B,KAAM,GAAgB,CAAa,EAAE,KAAK,IAAI,CAAC,EAE9E,IACF,GAAa,KAAK,GAAuB,CAAK,CAAC,EAGjD,EAAM,KAAO,GAAQ,CAAC,EACtB,EAAM,QAAU,EAEZ,EAAM,QAAQ,eAAiB,QACjC,GAAM,QAAQ,aAAe,KAG3B,EAAM,QAAQ,sBAAwB,QACxC,GAAM,QAAQ,oBAAsB,IAG/B,CACT,CA5BS,4BA8BT,GAAa,EAAe,CAAC,CAC3B,IAAK,gBACL,MAAO,WAAuB,EAAI,CAChC,AAAI,KAAK,QAAQ,GAAG,QAAQ,CAAE,EAAI,GAChC,KAAK,QAAQ,GAAG,KAAK,CAAE,CAE3B,EAJO,gBAKT,EAAG,CACD,IAAK,mBACL,MAAO,WAA0B,EAAI,CACnC,GAAI,GAAQ,KAAK,QAAQ,GAAG,QAAQ,CAAE,EAEtC,AAAI,EAAQ,IACV,KAAK,QAAQ,GAAG,OAAO,EAAO,CAAC,CAEnC,EANO,mBAOT,EAAG,CACD,IAAK,cACL,MAAO,WAAqB,EAAK,EAAI,EAAK,CACxC,GAAI,GAAU,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,CAAC,EAC/E,EAAe,EAAQ,eAAiB,OAAY,EAAQ,aAAe,KAAK,QAAQ,aACxF,EAAsB,EAAQ,sBAAwB,OAAY,EAAQ,oBAAsB,KAAK,QAAQ,oBAC7G,EAAO,CAAC,EAAK,CAAE,EACnB,AAAI,GAAO,MAAO,IAAQ,UAAU,GAAO,EAAK,OAAO,CAAG,GACtD,GAAO,MAAO,IAAQ,UAAU,GAAO,EAAK,OAAO,EAAe,EAAI,MAAM,CAAY,EAAI,CAAG,GAE/F,EAAI,QAAQ,GAAG,EAAI,IACrB,GAAO,EAAI,MAAM,GAAG,GAGtB,GAAI,GAAS,GAAQ,KAAK,KAAM,CAAI,EACpC,MAAI,IAAU,CAAC,GAAuB,MAAO,IAAQ,SAAiB,EAC/D,GAAS,KAAK,MAAQ,KAAK,KAAK,IAAQ,KAAK,KAAK,GAAK,GAAK,EAAK,CAAY,CACtF,EAfO,cAgBT,EAAG,CACD,IAAK,cACL,MAAO,WAAqB,EAAK,EAAI,EAAK,EAAO,CAC/C,GAAI,GAAU,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,CAChF,OAAQ,EACV,EACI,EAAe,KAAK,QAAQ,aAChC,AAAI,IAAiB,QAAW,GAAe,KAC/C,GAAI,GAAO,CAAC,EAAK,CAAE,EACnB,AAAI,GAAK,GAAO,EAAK,OAAO,EAAe,EAAI,MAAM,CAAY,EAAI,CAAG,GAEpE,EAAI,QAAQ,GAAG,EAAI,IACrB,GAAO,EAAI,MAAM,GAAG,EACpB,EAAQ,EACR,EAAK,EAAK,IAGZ,KAAK,cAAc,CAAE,EACrB,GAAQ,KAAK,KAAM,EAAM,CAAK,EACzB,EAAQ,QAAQ,KAAK,KAAK,QAAS,EAAK,EAAI,EAAK,CAAK,CAC7D,EAlBO,cAmBT,EAAG,CACD,IAAK,eACL,MAAO,WAAsB,EAAK,EAAI,EAAW,CAC/C,GAAI,GAAU,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,CAChF,OAAQ,EACV,EAEA,OAAS,KAAK,GACZ,AAAI,OAAO,GAAU,IAAO,UAAY,OAAO,UAAU,SAAS,MAAM,EAAU,EAAE,IAAM,mBAAkB,KAAK,YAAY,EAAK,EAAI,EAAG,EAAU,GAAI,CACrJ,OAAQ,EACV,CAAC,EAGH,AAAK,EAAQ,QAAQ,KAAK,KAAK,QAAS,EAAK,EAAI,CAAS,CAC5D,EAZO,eAaT,EAAG,CACD,IAAK,oBACL,MAAO,WAA2B,EAAK,EAAI,EAAW,EAAM,EAAW,CACrE,GAAI,GAAU,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,CAChF,OAAQ,EACV,EACI,EAAO,CAAC,EAAK,CAAE,EAEnB,AAAI,EAAI,QAAQ,GAAG,EAAI,IACrB,GAAO,EAAI,MAAM,GAAG,EACpB,EAAO,EACP,EAAY,EACZ,EAAK,EAAK,IAGZ,KAAK,cAAc,CAAE,EACrB,GAAI,GAAO,GAAQ,KAAK,KAAM,CAAI,GAAK,CAAC,EAExC,AAAI,EACF,GAAW,EAAM,EAAW,CAAS,EAErC,EAAO,GAAc,CAAC,EAAG,EAAM,CAAS,EAG1C,GAAQ,KAAK,KAAM,EAAM,CAAI,EACxB,EAAQ,QAAQ,KAAK,KAAK,QAAS,EAAK,EAAI,CAAS,CAC5D,EAxBO,oBAyBT,EAAG,CACD,IAAK,uBACL,MAAO,WAA8B,EAAK,EAAI,CAC5C,AAAI,KAAK,kBAAkB,EAAK,CAAE,GAChC,MAAO,MAAK,KAAK,GAAK,GAGxB,KAAK,iBAAiB,CAAE,EACxB,KAAK,KAAK,UAAW,EAAK,CAAE,CAC9B,EAPO,uBAQT,EAAG,CACD,IAAK,oBACL,MAAO,WAA2B,EAAK,EAAI,CACzC,MAAO,MAAK,YAAY,EAAK,CAAE,IAAM,MACvC,EAFO,oBAGT,EAAG,CACD,IAAK,oBACL,MAAO,WAA2B,EAAK,EAAI,CAEzC,MADK,IAAI,GAAK,KAAK,QAAQ,WACvB,KAAK,QAAQ,mBAAqB,KAAa,GAAc,CAAC,EAAG,CAAC,EAAG,KAAK,YAAY,EAAK,CAAE,CAAC,EAC3F,KAAK,YAAY,EAAK,CAAE,CACjC,EAJO,oBAKT,EAAG,CACD,IAAK,oBACL,MAAO,WAA2B,EAAK,CACrC,MAAO,MAAK,KAAK,EACnB,EAFO,oBAGT,EAAG,CACD,IAAK,SACL,MAAO,YAAkB,CACvB,MAAO,MAAK,IACd,EAFO,SAGT,CAAC,CAAC,EAEK,CACT,EAAE,EAAY,EAEV,GAAgB,CAClB,WAAY,CAAC,EACb,iBAAkB,WAA0B,EAAQ,CAClD,KAAK,WAAW,EAAO,MAAQ,CACjC,EAFkB,oBAGlB,OAAQ,WAAgB,EAAY,EAAO,EAAK,EAAS,EAAY,CACnE,GAAI,GAAQ,KAEZ,SAAW,QAAQ,SAAU,EAAW,CACtC,AAAI,EAAM,WAAW,IAAY,GAAQ,EAAM,WAAW,GAAW,QAAQ,EAAO,EAAK,EAAS,CAAU,EAC9G,CAAC,EACM,CACT,EAPQ,SAQV,EAEI,GAAmB,CAAC,EAEpB,GAAa,SAAU,EAAe,CACxC,GAAU,EAAY,CAAa,EAEnC,WAAoB,EAAU,CAC5B,GAAI,GAEA,EAAU,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,CAAC,EAEnF,UAAgB,KAAM,CAAU,EAEhC,EAAQ,GAA2B,KAAM,GAAgB,CAAU,EAAE,KAAK,IAAI,CAAC,EAE3E,IACF,GAAa,KAAK,GAAuB,CAAK,CAAC,EAGjD,GAAK,CAAC,gBAAiB,gBAAiB,iBAAkB,eAAgB,mBAAoB,aAAc,OAAO,EAAG,EAAU,GAAuB,CAAK,CAAC,EAC7J,EAAM,QAAU,EAEZ,EAAM,QAAQ,eAAiB,QACjC,GAAM,QAAQ,aAAe,KAG/B,EAAM,OAAS,GAAW,OAAO,YAAY,EACtC,CACT,CAtBS,yBAwBT,GAAa,EAAY,CAAC,CACxB,IAAK,iBACL,MAAO,WAAwB,EAAK,CAClC,AAAI,GAAK,MAAK,SAAW,EAC3B,EAFO,iBAGT,EAAG,CACD,IAAK,SACL,MAAO,WAAgB,EAAK,CAC1B,GAAI,GAAU,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,CAChF,cAAe,CAAC,CAClB,EACI,EAAW,KAAK,QAAQ,EAAK,CAAO,EACxC,MAAO,IAAY,EAAS,MAAQ,MACtC,EANO,SAOT,EAAG,CACD,IAAK,iBACL,MAAO,WAAwB,EAAK,EAAS,CAC3C,GAAI,GAAc,EAAQ,cAAgB,OAAY,EAAQ,YAAc,KAAK,QAAQ,YACzF,AAAI,IAAgB,QAAW,GAAc,KAC7C,GAAI,GAAe,EAAQ,eAAiB,OAAY,EAAQ,aAAe,KAAK,QAAQ,aACxF,EAAa,EAAQ,IAAM,KAAK,QAAQ,UAE5C,GAAI,GAAe,EAAI,QAAQ,CAAW,EAAI,GAAI,CAChD,GAAI,GAAI,EAAI,MAAM,KAAK,aAAa,aAAa,EAEjD,GAAI,GAAK,EAAE,OAAS,EAClB,MAAO,CACL,IAAK,EACL,WAAY,CACd,EAGF,GAAI,GAAQ,EAAI,MAAM,CAAW,EACjC,AAAI,KAAgB,GAAgB,IAAgB,GAAgB,KAAK,QAAQ,GAAG,QAAQ,EAAM,EAAE,EAAI,KAAI,GAAa,EAAM,MAAM,GACrI,EAAM,EAAM,KAAK,CAAY,CAC/B,CAEA,MAAI,OAAO,IAAe,UAAU,GAAa,CAAC,CAAU,GACrD,CACL,IAAK,EACL,WAAY,CACd,CACF,EA1BO,iBA2BT,EAAG,CACD,IAAK,YACL,MAAO,WAAmB,EAAM,EAAS,EAAS,CAChD,GAAI,GAAS,KAOb,GALI,GAAQ,CAAO,IAAM,UAAY,KAAK,QAAQ,kCAChD,GAAU,KAAK,QAAQ,iCAAiC,SAAS,GAG9D,GAAS,GAAU,CAAC,GACrB,AAAsB,GAAS,KAAM,MAAO,GAChD,AAAK,MAAM,QAAQ,CAAI,GAAG,GAAO,CAAC,OAAO,CAAI,CAAC,GAC9C,GAAI,GAAe,EAAQ,eAAiB,OAAY,EAAQ,aAAe,KAAK,QAAQ,aAExF,EAAuB,KAAK,eAAe,EAAK,EAAK,OAAS,GAAI,CAAO,EACzE,EAAM,EAAqB,IAC3B,EAAa,EAAqB,WAElC,EAAY,EAAW,EAAW,OAAS,GAC3C,EAAM,EAAQ,KAAO,KAAK,SAC1B,EAA0B,EAAQ,yBAA2B,KAAK,QAAQ,wBAE9E,GAAI,GAAO,EAAI,YAAY,IAAM,SAAU,CACzC,GAAI,EAAyB,CAC3B,GAAI,GAAc,EAAQ,aAAe,KAAK,QAAQ,YACtD,MAAO,GAAY,EAAc,CACnC,CAEA,MAAO,EACT,CAEA,GAAI,GAAW,KAAK,QAAQ,EAAM,CAAO,EACrC,EAAM,GAAY,EAAS,IAC3B,EAAa,GAAY,EAAS,SAAW,EAC7C,EAAkB,GAAY,EAAS,cAAgB,EACvD,EAAU,OAAO,UAAU,SAAS,MAAM,CAAG,EAC7C,EAAW,CAAC,kBAAmB,oBAAqB,iBAAiB,EACrE,EAAa,EAAQ,aAAe,OAAY,EAAQ,WAAa,KAAK,QAAQ,WAClF,EAA6B,CAAC,KAAK,YAAc,KAAK,WAAW,eACjE,EAAiB,MAAO,IAAQ,UAAY,MAAO,IAAQ,WAAa,MAAO,IAAQ,SAE3F,GAAI,GAA8B,GAAO,GAAkB,EAAS,QAAQ,CAAO,EAAI,GAAK,CAAE,OAAO,IAAe,UAAY,IAAY,kBAAmB,CAC7J,GAAI,CAAC,EAAQ,eAAiB,CAAC,KAAK,QAAQ,cAC1C,MAAK,MAAK,QAAQ,uBAChB,KAAK,OAAO,KAAK,iEAAiE,EAG7E,KAAK,QAAQ,sBAAwB,KAAK,QAAQ,sBAAsB,EAAY,EAAK,GAAc,CAAC,EAAG,EAAS,CACzH,GAAI,CACN,CAAC,CAAC,EAAI,QAAQ,OAAO,EAAK,IAAI,EAAE,OAAO,KAAK,SAAU,0CAA0C,EAGlG,GAAI,EAAc,CAChB,GAAI,GAAiB,IAAY,iBAC7B,EAAO,EAAiB,CAAC,EAAI,CAAC,EAC9B,EAAc,EAAiB,EAAkB,EAErD,OAAS,KAAK,GACZ,GAAI,OAAO,UAAU,eAAe,KAAK,EAAK,CAAC,EAAG,CAChD,GAAI,GAAU,GAAG,OAAO,CAAW,EAAE,OAAO,CAAY,EAAE,OAAO,CAAC,EAClE,EAAK,GAAK,KAAK,UAAU,EAAS,GAAc,CAAC,EAAG,EAAS,CAC3D,WAAY,GACZ,GAAI,CACN,CAAC,CAAC,EACE,EAAK,KAAO,GAAS,GAAK,GAAK,EAAI,GACzC,CAGF,EAAM,CACR,CACF,SAAW,GAA8B,MAAO,IAAe,UAAY,IAAY,iBACrF,EAAM,EAAI,KAAK,CAAU,EACrB,GAAK,GAAM,KAAK,kBAAkB,EAAK,EAAM,EAAS,CAAO,OAC5D,CACL,GAAI,GAAc,GACd,EAAU,GACV,EAAsB,EAAQ,QAAU,QAAa,MAAO,GAAQ,OAAU,SAC9E,EAAkB,EAAW,gBAAgB,CAAO,EACpD,EAAqB,EAAsB,KAAK,eAAe,UAAU,EAAK,EAAQ,KAAK,EAAI,GAC/F,GAAe,EAAQ,eAAe,OAAO,CAAkB,IAAM,EAAQ,aAEjF,AAAI,CAAC,KAAK,cAAc,CAAG,GAAK,GAC9B,GAAc,GACd,EAAM,IAGH,KAAK,cAAc,CAAG,GACzB,GAAU,GACV,EAAM,GAGR,GAAI,GAAgB,GAAmB,KAAiB,GAAO,KAAK,QAAQ,cAE5E,GAAI,GAAW,GAAe,EAAe,CAG3C,GAFA,KAAK,OAAO,IAAI,EAAgB,YAAc,aAAc,EAAK,EAAW,EAAK,EAAgB,GAAe,CAAG,EAE/G,EAAc,CAChB,GAAI,GAAK,KAAK,QAAQ,EAAK,GAAc,CAAC,EAAG,EAAS,CACpD,aAAc,EAChB,CAAC,CAAC,EACF,AAAI,GAAM,EAAG,KAAK,KAAK,OAAO,KAAK,iLAAiL,CACtN,CAEA,GAAI,IAAO,CAAC,EACR,GAAe,KAAK,cAAc,iBAAiB,KAAK,QAAQ,YAAa,EAAQ,KAAO,KAAK,QAAQ,EAE7G,GAAI,KAAK,QAAQ,gBAAkB,YAAc,IAAgB,GAAa,GAC5E,OAAS,IAAI,EAAG,GAAI,GAAa,OAAQ,KACvC,GAAK,KAAK,GAAa,GAAE,MAEtB,AAAI,MAAK,QAAQ,gBAAkB,MACxC,GAAO,KAAK,cAAc,mBAAmB,EAAQ,KAAO,KAAK,QAAQ,EAEzE,GAAK,KAAK,EAAQ,KAAO,KAAK,QAAQ,EAGxC,GAAI,IAAO,WAAc,EAAG,EAAG,EAAe,CAC5C,AAAI,EAAO,QAAQ,kBACjB,EAAO,QAAQ,kBAAkB,EAAG,EAAW,EAAG,EAAgB,EAAgB,EAAK,EAAe,CAAO,EACpG,EAAO,kBAAoB,EAAO,iBAAiB,aAC5D,EAAO,iBAAiB,YAAY,EAAG,EAAW,EAAG,EAAgB,EAAgB,EAAK,EAAe,CAAO,EAGlH,EAAO,KAAK,aAAc,EAAG,EAAW,EAAG,CAAG,CAChD,EARW,QAUX,AAAI,KAAK,QAAQ,aACf,CAAI,KAAK,QAAQ,oBAAsB,EACrC,GAAK,QAAQ,SAAU,GAAU,CAC/B,EAAO,eAAe,YAAY,EAAQ,EAAE,QAAQ,SAAU,EAAQ,CACpE,GAAK,CAAC,EAAQ,EAAG,EAAM,EAAQ,EAAQ,eAAe,OAAO,CAAM,IAAM,EAAY,CACvF,CAAC,CACH,CAAC,EAED,GAAK,GAAM,EAAK,EAAY,EAGlC,CAEA,EAAM,KAAK,kBAAkB,EAAK,EAAM,EAAS,EAAU,CAAO,EAC9D,GAAW,IAAQ,GAAO,KAAK,QAAQ,6BAA6B,GAAM,GAAG,OAAO,EAAW,GAAG,EAAE,OAAO,CAAG,GAC9G,GAAW,KAAK,QAAQ,wBAAwB,GAAM,KAAK,QAAQ,uBAAuB,CAAG,EACnG,CAEA,MAAO,EACT,EA/IO,YAgJT,EAAG,CACD,IAAK,oBACL,MAAO,WAA2B,EAAK,EAAK,EAAS,EAAU,EAAS,CACtE,GAAI,GAAS,KAEb,GAAI,KAAK,YAAc,KAAK,WAAW,MACrC,EAAM,KAAK,WAAW,MAAM,EAAK,EAAS,EAAS,QAAS,EAAS,OAAQ,EAAS,QAAS,CAC7F,SAAU,CACZ,CAAC,UACQ,CAAC,EAAQ,kBAAmB,CACrC,AAAI,EAAQ,eAAe,KAAK,aAAa,KAAK,GAAc,CAAC,EAAG,EAAS,CAC3E,cAAe,GAAc,CAAC,EAAG,KAAK,QAAQ,cAAe,EAAQ,aAAa,CACpF,CAAC,CAAC,EACF,GAAI,GAAkB,EAAQ,eAAiB,EAAQ,cAAc,iBAAmB,KAAK,QAAQ,cAAc,gBAC/G,EAEJ,GAAI,EAAiB,CACnB,GAAI,GAAK,EAAI,MAAM,KAAK,aAAa,aAAa,EAClD,EAAU,GAAM,EAAG,MACrB,CAEA,GAAI,GAAO,EAAQ,SAAW,MAAO,GAAQ,SAAY,SAAW,EAAQ,QAAU,EAItF,GAHI,KAAK,QAAQ,cAAc,kBAAkB,GAAO,GAAc,CAAC,EAAG,KAAK,QAAQ,cAAc,iBAAkB,CAAI,GAC3H,EAAM,KAAK,aAAa,YAAY,EAAK,EAAM,EAAQ,KAAO,KAAK,SAAU,CAAO,EAEhF,EAAiB,CACnB,GAAI,GAAK,EAAI,MAAM,KAAK,aAAa,aAAa,EAC9C,EAAU,GAAM,EAAG,OACvB,AAAI,EAAU,GAAS,GAAQ,KAAO,GACxC,CAEA,AAAI,EAAQ,OAAS,IAAO,GAAM,KAAK,aAAa,KAAK,EAAK,UAAY,CACxE,OAAS,GAAO,UAAU,OAAQ,EAAO,GAAI,OAAM,CAAI,EAAG,EAAO,EAAG,EAAO,EAAM,IAC/E,EAAK,GAAQ,UAAU,GAGzB,MAAI,IAAW,EAAQ,KAAO,EAAK,IAAM,CAAC,EAAQ,QAChD,GAAO,OAAO,KAAK,6CAA6C,OAAO,EAAK,GAAI,WAAW,EAAE,OAAO,EAAI,EAAE,CAAC,EAEpG,MAGF,EAAO,UAAU,MAAM,EAAQ,EAAK,OAAO,CAAC,CAAG,CAAC,CAAC,CAC1D,EAAG,CAAO,GACN,EAAQ,eAAe,KAAK,aAAa,MAAM,CACrD,CAEA,GAAI,GAAc,EAAQ,aAAe,KAAK,QAAQ,YAClD,EAAqB,MAAO,IAAgB,SAAW,CAAC,CAAW,EAAI,EAE3E,MAAI,AAAqB,IAAQ,MAAQ,GAAsB,EAAmB,QAAU,EAAQ,qBAAuB,IACzH,GAAM,GAAc,OAAO,EAAoB,EAAK,EAAK,KAAK,SAAW,KAAK,QAAQ,wBAA0B,GAAc,CAC5H,aAAc,CAChB,EAAG,CAAO,EAAI,EAAS,IAAI,GAGtB,CACT,EAvDO,oBAwDT,EAAG,CACD,IAAK,UACL,MAAO,WAAiB,EAAM,CAC5B,GAAI,GAAS,KAET,EAAU,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,CAAC,EAC/E,EACA,EACA,EACA,EACA,EACJ,MAAI,OAAO,IAAS,UAAU,GAAO,CAAC,CAAI,GAC1C,EAAK,QAAQ,SAAU,EAAG,CACxB,GAAI,GAAO,cAAc,CAAK,EAE9B,IAAI,GAAY,EAAO,eAAe,EAAG,CAAO,EAE5C,EAAM,EAAU,IACpB,EAAU,EACV,GAAI,GAAa,EAAU,WAC3B,AAAI,EAAO,QAAQ,YAAY,GAAa,EAAW,OAAO,EAAO,QAAQ,UAAU,GACvF,GAAI,GAAsB,EAAQ,QAAU,QAAa,MAAO,GAAQ,OAAU,SAC9E,EAAuB,EAAQ,UAAY,QAAa,MAAO,GAAQ,SAAY,UAAY,EAAQ,UAAY,GACnH,EAAQ,EAAQ,KAAO,EAAQ,KAAO,EAAO,cAAc,mBAAmB,EAAQ,KAAO,EAAO,SAAU,EAAQ,WAAW,EACrI,EAAW,QAAQ,SAAU,EAAI,CAC/B,AAAI,EAAO,cAAc,CAAK,GAC9B,GAAS,EAEL,CAAC,GAAiB,GAAG,OAAO,EAAM,GAAI,GAAG,EAAE,OAAO,CAAE,IAAM,EAAO,OAAS,EAAO,MAAM,oBAAsB,CAAC,EAAO,MAAM,mBAAmB,CAAM,GACtJ,IAAiB,GAAG,OAAO,EAAM,GAAI,GAAG,EAAE,OAAO,CAAE,GAAK,GAExD,EAAO,OAAO,KAAK,QAAS,OAAO,EAAS,mBAAqB,EAAE,OAAO,EAAM,KAAK,IAAI,EAAG,qCAAuC,EAAE,OAAO,EAAQ,sBAAuB,EAAG,0NAA0N,GAG1Y,EAAM,QAAQ,SAAU,EAAM,CAC5B,GAAI,GAAO,cAAc,CAAK,EAC9B,GAAU,EACV,GAAI,GAAW,EACX,EAAY,CAAC,CAAQ,EAEzB,GAAI,EAAO,YAAc,EAAO,WAAW,cACzC,EAAO,WAAW,cAAc,EAAW,EAAK,EAAM,EAAI,CAAO,MAC5D,CACL,GAAI,GACJ,AAAI,GAAqB,GAAe,EAAO,eAAe,UAAU,EAAM,EAAQ,KAAK,GACvF,GAAuB,GAAsB,EAAU,KAAK,EAAW,CAAY,EACnF,GAAsB,EAAU,KAAK,GAAY,GAAG,OAAO,EAAO,QAAQ,gBAAgB,EAAE,OAAO,EAAQ,OAAO,CAAC,EACnH,GAAqB,EAAU,KAAK,GAAY,CAAY,CAClE,CAIA,OAFI,GAEG,EAAc,EAAU,IAAI,GACjC,AAAK,EAAO,cAAc,CAAK,GAC7B,GAAe,EACf,EAAQ,EAAO,YAAY,EAAM,EAAI,EAAa,CAAO,GAG/D,CAAC,EACH,CAAC,EACH,CAAC,EACM,CACL,IAAK,EACL,QAAS,EACT,aAAc,EACd,QAAS,EACT,OAAQ,CACV,CACF,EAlEO,UAmET,EAAG,CACD,IAAK,gBACL,MAAO,WAAuB,EAAK,CACjC,MAAO,KAAQ,QAAa,CAAE,EAAC,KAAK,QAAQ,YAAc,IAAQ,OAAS,CAAE,EAAC,KAAK,QAAQ,mBAAqB,IAAQ,GAC1H,EAFO,gBAGT,EAAG,CACD,IAAK,cACL,MAAO,WAAqB,EAAM,EAAI,EAAK,CACzC,GAAI,GAAU,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,CAAC,EACnF,MAAI,MAAK,YAAc,KAAK,WAAW,YAAoB,KAAK,WAAW,YAAY,EAAM,EAAI,EAAK,CAAO,EACtG,KAAK,cAAc,YAAY,EAAM,EAAI,EAAK,CAAO,CAC9D,EAJO,cAKT,CAAC,EAAG,CAAC,CACH,IAAK,kBACL,MAAO,WAAyB,EAAS,CACvC,GAAI,GAAS,eAEb,OAAS,KAAU,GACjB,GAAI,OAAO,UAAU,eAAe,KAAK,EAAS,CAAM,GAAK,IAAW,EAAO,UAAU,EAAG,EAAO,MAAM,GAAK,AAAc,EAAQ,KAAtB,OAC5G,MAAO,GAIX,MAAO,EACT,EAVO,kBAWT,CAAC,CAAC,EAEK,CACT,EAAE,EAAY,EAEd,YAAoB,EAAQ,CAC1B,MAAO,GAAO,OAAO,CAAC,EAAE,YAAY,EAAI,EAAO,MAAM,CAAC,CACxD,CAFS,mBAIT,GAAI,IAAe,UAAY,CAC7B,WAAsB,EAAS,CAC7B,GAAgB,KAAM,CAAY,EAElC,KAAK,QAAU,EACf,KAAK,UAAY,KAAK,QAAQ,eAAiB,GAC/C,KAAK,cAAgB,KAAK,QAAQ,eAAiB,GACnD,KAAK,OAAS,GAAW,OAAO,eAAe,CACjD,CAPS,2BAST,GAAa,EAAc,CAAC,CAC1B,IAAK,wBACL,MAAO,WAA+B,EAAM,CAC1C,GAAI,CAAC,GAAQ,EAAK,QAAQ,GAAG,EAAI,EAAG,MAAO,MAC3C,GAAI,GAAI,EAAK,MAAM,GAAG,EAGtB,MAFI,GAAE,SAAW,GACjB,GAAE,IAAI,EACF,EAAE,EAAE,OAAS,GAAG,YAAY,IAAM,KAAY,KAC3C,KAAK,mBAAmB,EAAE,KAAK,GAAG,CAAC,CAC5C,EAPO,wBAQT,EAAG,CACD,IAAK,0BACL,MAAO,WAAiC,EAAM,CAC5C,GAAI,CAAC,GAAQ,EAAK,QAAQ,GAAG,EAAI,EAAG,MAAO,GAC3C,GAAI,GAAI,EAAK,MAAM,GAAG,EACtB,MAAO,MAAK,mBAAmB,EAAE,EAAE,CACrC,EAJO,0BAKT,EAAG,CACD,IAAK,qBACL,MAAO,WAA4B,EAAM,CACvC,GAAI,MAAO,IAAS,UAAY,EAAK,QAAQ,GAAG,EAAI,GAAI,CACtD,GAAI,GAAe,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAM,EACtE,EAAI,EAAK,MAAM,GAAG,EAEtB,MAAI,MAAK,QAAQ,aACf,EAAI,EAAE,IAAI,SAAU,EAAM,CACxB,MAAO,GAAK,YAAY,CAC1B,CAAC,EACI,AAAI,EAAE,SAAW,EACtB,GAAE,GAAK,EAAE,GAAG,YAAY,EACxB,EAAE,GAAK,EAAE,GAAG,YAAY,EACpB,EAAa,QAAQ,EAAE,GAAG,YAAY,CAAC,EAAI,IAAI,GAAE,GAAK,GAAW,EAAE,GAAG,YAAY,CAAC,IAC9E,EAAE,SAAW,GACtB,GAAE,GAAK,EAAE,GAAG,YAAY,EACpB,EAAE,GAAG,SAAW,GAAG,GAAE,GAAK,EAAE,GAAG,YAAY,GAC3C,EAAE,KAAO,OAAS,EAAE,GAAG,SAAW,GAAG,GAAE,GAAK,EAAE,GAAG,YAAY,GAC7D,EAAa,QAAQ,EAAE,GAAG,YAAY,CAAC,EAAI,IAAI,GAAE,GAAK,GAAW,EAAE,GAAG,YAAY,CAAC,GACnF,EAAa,QAAQ,EAAE,GAAG,YAAY,CAAC,EAAI,IAAI,GAAE,GAAK,GAAW,EAAE,GAAG,YAAY,CAAC,IAGlF,EAAE,KAAK,GAAG,CACnB,CAEA,MAAO,MAAK,QAAQ,WAAa,KAAK,QAAQ,aAAe,EAAK,YAAY,EAAI,CACpF,EAzBO,qBA0BT,EAAG,CACD,IAAK,gBACL,MAAO,WAAuB,EAAM,CAClC,YAAK,OAAO,UAAU,8BAA+B,+HAAgI,EAC9K,KAAK,gBAAgB,CAAI,CAClC,EAHO,gBAIT,EAAG,CACD,IAAK,kBACL,MAAO,WAAyB,EAAM,CACpC,MAAI,MAAK,QAAQ,OAAS,gBAAkB,KAAK,QAAQ,2BACvD,GAAO,KAAK,wBAAwB,CAAI,GAGnC,CAAC,KAAK,eAAiB,CAAC,KAAK,cAAc,QAAU,KAAK,cAAc,QAAQ,CAAI,EAAI,EACjG,EANO,kBAOT,EAAG,CACD,IAAK,wBACL,MAAO,WAA+B,EAAO,CAC3C,GAAI,GAAQ,KAEZ,GAAI,CAAC,EAAO,MAAO,MACnB,GAAI,GACJ,SAAM,QAAQ,SAAU,EAAM,CAC5B,GAAI,GAEJ,IAAI,GAAa,EAAM,mBAAmB,CAAI,EAE9C,AAAI,EAAC,EAAM,QAAQ,eAAiB,EAAM,gBAAgB,CAAU,IAAG,GAAQ,GACjF,CAAC,EAEG,CAAC,GAAS,KAAK,QAAQ,eACzB,EAAM,QAAQ,SAAU,EAAM,CAC5B,GAAI,GAEJ,IAAI,GAAU,EAAM,wBAAwB,CAAI,EAEhD,GAAI,EAAM,gBAAgB,CAAO,EAAG,MAAO,GAAQ,EACnD,EAAQ,EAAM,QAAQ,cAAc,KAAK,SAAU,EAAc,CAC/D,GAAI,EAAa,QAAQ,CAAO,IAAM,EAAG,MAAO,EAClD,CAAC,EACH,CAAC,EAGE,GAAO,GAAQ,KAAK,iBAAiB,KAAK,QAAQ,WAAW,EAAE,IAC7D,CACT,EA5BO,wBA6BT,EAAG,CACD,IAAK,mBACL,MAAO,WAA0B,EAAW,EAAM,CAChD,GAAI,CAAC,EAAW,MAAO,CAAC,EAGxB,GAFI,MAAO,IAAc,YAAY,GAAY,EAAU,CAAI,GAC3D,MAAO,IAAc,UAAU,GAAY,CAAC,CAAS,GACrD,OAAO,UAAU,SAAS,MAAM,CAAS,IAAM,iBAAkB,MAAO,GAC5E,GAAI,CAAC,EAAM,MAAO,GAAU,SAAc,CAAC,EAC3C,GAAI,GAAQ,EAAU,GACtB,MAAK,IAAO,GAAQ,EAAU,KAAK,sBAAsB,CAAI,IACxD,GAAO,GAAQ,EAAU,KAAK,mBAAmB,CAAI,IACrD,GAAO,GAAQ,EAAU,KAAK,wBAAwB,CAAI,IAC1D,GAAO,GAAQ,EAAU,SACvB,GAAS,CAAC,CACnB,EAZO,mBAaT,EAAG,CACD,IAAK,qBACL,MAAO,WAA4B,EAAM,EAAc,CACrD,GAAI,GAAS,KAET,EAAgB,KAAK,iBAAiB,GAAgB,KAAK,QAAQ,aAAe,CAAC,EAAG,CAAI,EAC1F,EAAQ,CAAC,EAET,EAAU,WAAiB,EAAG,CAChC,AAAI,CAAC,GAEL,CAAI,EAAO,gBAAgB,CAAC,EAC1B,EAAM,KAAK,CAAC,EAEZ,EAAO,OAAO,KAAK,uDAAuD,OAAO,CAAC,CAAC,EAEvF,EARc,WAUd,MAAI,OAAO,IAAS,UAAY,EAAK,QAAQ,GAAG,EAAI,GAC9C,MAAK,QAAQ,OAAS,gBAAgB,EAAQ,KAAK,mBAAmB,CAAI,CAAC,EAC3E,KAAK,QAAQ,OAAS,gBAAkB,KAAK,QAAQ,OAAS,eAAe,EAAQ,KAAK,sBAAsB,CAAI,CAAC,EACrH,KAAK,QAAQ,OAAS,eAAe,EAAQ,KAAK,wBAAwB,CAAI,CAAC,GAC1E,MAAO,IAAS,UACzB,EAAQ,KAAK,mBAAmB,CAAI,CAAC,EAGvC,EAAc,QAAQ,SAAU,EAAI,CAClC,AAAI,EAAM,QAAQ,CAAE,EAAI,GAAG,EAAQ,EAAO,mBAAmB,CAAE,CAAC,CAClE,CAAC,EACM,CACT,EA5BO,qBA6BT,CAAC,CAAC,EAEK,CACT,EAAE,EAEE,GAAO,CAAC,CACV,KAAM,CAAC,MAAO,KAAM,KAAM,MAAO,KAAM,MAAO,MAAO,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,QAAS,KAAM,KAAM,KAAM,KAAM,KAAM,IAAI,EACrI,GAAI,CAAC,EAAG,CAAC,EACT,GAAI,CACN,EAAG,CACD,KAAM,CAAC,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,MAAO,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,MAAO,MAAO,KAAM,QAAS,KAAM,MAAO,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IAAI,EAC7Y,GAAI,CAAC,EAAG,CAAC,EACT,GAAI,CACN,EAAG,CACD,KAAM,CAAC,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,IAAI,EAC5I,GAAI,CAAC,CAAC,EACN,GAAI,CACN,EAAG,CACD,KAAM,CAAC,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,KAAM,IAAI,EACtD,GAAI,CAAC,EAAG,EAAG,CAAC,EACZ,GAAI,CACN,EAAG,CACD,KAAM,CAAC,IAAI,EACX,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,GAAG,EACxB,GAAI,CACN,EAAG,CACD,KAAM,CAAC,KAAM,IAAI,EACjB,GAAI,CAAC,EAAG,EAAG,CAAC,EACZ,GAAI,CACN,EAAG,CACD,KAAM,CAAC,MAAO,IAAI,EAClB,GAAI,CAAC,EAAG,EAAG,CAAC,EACZ,GAAI,CACN,EAAG,CACD,KAAM,CAAC,IAAI,EACX,GAAI,CAAC,EAAG,EAAG,EAAG,CAAC,EACf,GAAI,CACN,EAAG,CACD,KAAM,CAAC,IAAI,EACX,GAAI,CAAC,EAAG,CAAC,EACT,GAAI,CACN,EAAG,CACD,KAAM,CAAC,IAAI,EACX,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAE,EACnB,GAAI,EACN,EAAG,CACD,KAAM,CAAC,IAAI,EACX,GAAI,CAAC,EAAG,EAAG,EAAG,EAAE,EAChB,GAAI,EACN,EAAG,CACD,KAAM,CAAC,IAAI,EACX,GAAI,CAAC,EAAG,CAAC,EACT,GAAI,EACN,EAAG,CACD,KAAM,CAAC,IAAI,EACX,GAAI,CAAC,EAAG,CAAC,EACT,GAAI,EACN,EAAG,CACD,KAAM,CAAC,IAAI,EACX,GAAI,CAAC,EAAG,EAAG,EAAG,CAAC,EACf,GAAI,EACN,EAAG,CACD,KAAM,CAAC,IAAI,EACX,GAAI,CAAC,EAAG,EAAG,EAAE,EACb,GAAI,EACN,EAAG,CACD,KAAM,CAAC,IAAI,EACX,GAAI,CAAC,EAAG,EAAG,CAAC,EACZ,GAAI,EACN,EAAG,CACD,KAAM,CAAC,IAAI,EACX,GAAI,CAAC,EAAG,CAAC,EACT,GAAI,EACN,EAAG,CACD,KAAM,CAAC,KAAK,EACZ,GAAI,CAAC,EAAG,EAAG,CAAC,EACZ,GAAI,EACN,EAAG,CACD,KAAM,CAAC,IAAI,EACX,GAAI,CAAC,EAAG,EAAG,GAAI,EAAE,EACjB,GAAI,EACN,EAAG,CACD,KAAM,CAAC,IAAI,EACX,GAAI,CAAC,EAAG,CAAC,EACT,GAAI,CACN,EAAG,CACD,KAAM,CAAC,IAAI,EACX,GAAI,CAAC,EAAG,EAAG,EAAE,EACb,GAAI,EACN,EAAG,CACD,KAAM,CAAC,IAAI,EACX,GAAI,CAAC,EAAG,EAAG,EAAG,CAAC,EACf,GAAI,EACN,EAAG,CACD,KAAM,CAAC,KAAM,IAAI,EACjB,GAAI,CAAC,EAAG,EAAG,GAAI,EAAE,EACjB,GAAI,EACN,CAAC,EACG,GAAqB,CACvB,EAAG,WAAW,EAAG,CACf,MAAO,QAAO,EAAI,CAAC,CACrB,EAFG,KAGH,EAAG,WAAW,EAAG,CACf,MAAO,QAAO,GAAK,CAAC,CACtB,EAFG,KAGH,EAAG,WAAW,EAAG,CACf,MAAO,EACT,EAFG,KAGH,EAAG,WAAW,EAAG,CACf,MAAO,QAAO,EAAI,IAAM,GAAK,EAAI,KAAO,GAAK,EAAI,EAAI,IAAM,GAAK,EAAI,IAAM,GAAM,GAAI,IAAM,IAAM,EAAI,KAAO,IAAM,EAAI,CAAC,CACxH,EAFG,KAGH,EAAG,WAAW,EAAG,CACf,MAAO,QAAO,GAAK,EAAI,EAAI,GAAK,EAAI,EAAI,GAAK,EAAI,EAAI,EAAI,KAAO,GAAK,EAAI,KAAO,GAAK,EAAI,EAAI,KAAO,GAAK,EAAI,CAAC,CAChH,EAFG,KAGH,EAAG,WAAW,EAAG,CACf,MAAO,QAAO,GAAK,EAAI,EAAI,GAAK,GAAK,GAAK,EAAI,EAAI,CAAC,CACrD,EAFG,KAGH,EAAG,WAAW,EAAG,CACf,MAAO,QAAO,GAAK,EAAI,EAAI,EAAI,IAAM,GAAK,EAAI,IAAM,GAAM,GAAI,IAAM,IAAM,EAAI,KAAO,IAAM,EAAI,CAAC,CAClG,EAFG,KAGH,EAAG,WAAW,EAAG,CACf,MAAO,QAAO,GAAK,EAAI,EAAI,GAAK,EAAI,EAAI,GAAK,GAAK,GAAK,GAAK,EAAI,CAAC,CACnE,EAFG,KAGH,EAAG,WAAW,EAAG,CACf,MAAO,QAAO,GAAK,CAAC,CACtB,EAFG,KAGH,GAAI,WAAW,EAAG,CAChB,MAAO,QAAO,GAAK,EAAI,EAAI,GAAK,EAAI,EAAI,EAAI,EAAI,EAAI,EAAI,GAAK,EAAI,CAAC,CACpE,EAFI,KAGJ,GAAI,WAAW,EAAG,CAChB,MAAO,QAAO,GAAK,GAAK,GAAK,GAAK,EAAI,GAAK,GAAK,GAAK,GAAK,EAAI,EAAI,GAAK,EAAI,GAAK,EAAI,CAAC,CACvF,EAFI,KAGJ,GAAI,WAAW,EAAG,CAChB,MAAO,QAAO,EAAI,IAAM,GAAK,EAAI,KAAO,EAAE,CAC5C,EAFI,KAGJ,GAAI,WAAW,EAAG,CAChB,MAAO,QAAO,IAAM,CAAC,CACvB,EAFI,KAGJ,GAAI,WAAW,EAAG,CAChB,MAAO,QAAO,GAAK,EAAI,EAAI,GAAK,EAAI,EAAI,GAAK,EAAI,EAAI,CAAC,CACxD,EAFI,KAGJ,GAAI,WAAW,EAAG,CAChB,MAAO,QAAO,EAAI,IAAM,GAAK,EAAI,KAAO,GAAK,EAAI,EAAI,IAAM,GAAM,GAAI,IAAM,IAAM,EAAI,KAAO,IAAM,EAAI,CAAC,CACzG,EAFI,KAGJ,GAAI,WAAW,EAAG,CAChB,MAAO,QAAO,EAAI,IAAM,GAAK,EAAI,KAAO,GAAK,EAAI,IAAM,EAAI,EAAI,CAAC,CAClE,EAFI,KAGJ,GAAI,WAAW,EAAG,CAChB,MAAO,QAAO,GAAK,GAAK,EAAI,IAAM,GAAK,EAAI,KAAO,GAAK,EAAI,CAAC,CAC9D,EAFI,KAGJ,GAAI,WAAW,EAAG,CAChB,MAAO,QAAO,GAAK,EAAI,EAAI,GAAK,EAAI,EAAI,CAAC,CAC3C,EAFI,KAGJ,GAAI,WAAW,EAAG,CAChB,MAAO,QAAO,GAAK,EAAI,EAAI,GAAK,GAAK,EAAI,IAAM,GAAK,EAAI,IAAM,GAAK,EAAI,EAAI,IAAM,IAAM,EAAI,IAAM,GAAK,EAAI,CAAC,CAC7G,EAFI,KAGJ,GAAI,WAAW,EAAG,CAChB,MAAO,QAAO,GAAK,EAAI,EAAI,GAAK,GAAK,EAAI,IAAM,GAAK,EAAI,IAAM,GAAK,EAAI,CAAC,CAC1E,EAFI,KAGJ,GAAI,WAAW,EAAG,CAChB,MAAO,QAAO,EAAI,KAAO,EAAI,EAAI,EAAI,KAAO,EAAI,EAAI,EAAI,KAAO,GAAK,EAAI,KAAO,EAAI,EAAI,CAAC,CAC1F,EAFI,KAGJ,GAAI,WAAW,EAAG,CAChB,MAAO,QAAO,GAAK,EAAI,EAAI,GAAK,EAAI,EAAK,GAAI,GAAK,EAAI,KAAO,EAAI,IAAM,EAAI,EAAI,CAAC,CAClF,EAFI,IAGN,EAEA,aAAuB,CACrB,GAAI,GAAQ,CAAC,EACb,UAAK,QAAQ,SAAU,EAAK,CAC1B,EAAI,KAAK,QAAQ,SAAU,EAAG,CAC5B,EAAM,GAAK,CACT,QAAS,EAAI,GACb,QAAS,GAAmB,EAAI,GAClC,CACF,CAAC,CACH,CAAC,EACM,CACT,CAXS,oBAaT,GAAI,IAAiB,UAAY,CAC/B,WAAwB,EAAe,CACrC,GAAI,GAAU,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,CAAC,EAEnF,GAAgB,KAAM,CAAc,EAEpC,KAAK,cAAgB,EACrB,KAAK,QAAU,EACf,KAAK,OAAS,GAAW,OAAO,gBAAgB,EAChD,KAAK,MAAQ,GAAY,CAC3B,CATS,6BAWT,GAAa,EAAgB,CAAC,CAC5B,IAAK,UACL,MAAO,WAAiB,EAAK,EAAK,CAChC,KAAK,MAAM,GAAO,CACpB,EAFO,UAGT,EAAG,CACD,IAAK,UACL,MAAO,WAAiB,EAAM,CAC5B,MAAO,MAAK,MAAM,IAAS,KAAK,MAAM,KAAK,cAAc,wBAAwB,CAAI,EACvF,EAFO,UAGT,EAAG,CACD,IAAK,cACL,MAAO,WAAqB,EAAM,CAChC,GAAI,GAAO,KAAK,QAAQ,CAAI,EAC5B,MAAO,IAAQ,EAAK,QAAQ,OAAS,CACvC,EAHO,cAIT,EAAG,CACD,IAAK,sBACL,MAAO,WAA6B,EAAM,EAAK,CAC7C,MAAO,MAAK,YAAY,CAAI,EAAE,IAAI,SAAU,EAAQ,CAClD,MAAO,GAAM,CACf,CAAC,CACH,EAJO,sBAKT,EAAG,CACD,IAAK,cACL,MAAO,WAAqB,EAAM,CAChC,GAAI,GAAQ,KAER,EAAO,KAAK,QAAQ,CAAI,EAE5B,MAAK,GAIE,EAAK,QAAQ,IAAI,SAAU,EAAQ,CACxC,MAAO,GAAM,UAAU,EAAM,CAAM,CACrC,CAAC,EALQ,CAAC,CAMZ,EAZO,cAaT,EAAG,CACD,IAAK,YACL,MAAO,WAAmB,EAAM,EAAO,CACrC,GAAI,GAAS,KAET,EAAO,KAAK,QAAQ,CAAI,EAE5B,GAAI,EAAM,CACR,GAAI,GAAM,EAAK,MAAQ,EAAK,QAAQ,CAAK,EAAI,EAAK,QAAQ,KAAK,IAAI,CAAK,CAAC,EACrE,EAAS,EAAK,QAAQ,GAE1B,AAAI,KAAK,QAAQ,sBAAwB,EAAK,QAAQ,SAAW,GAAK,EAAK,QAAQ,KAAO,GACxF,CAAI,IAAW,EACb,EAAS,SACA,IAAW,GACpB,GAAS,KAIb,GAAI,GAAe,YAAwB,CACzC,MAAO,GAAO,QAAQ,SAAW,EAAO,SAAS,EAAI,EAAO,QAAQ,QAAU,EAAO,SAAS,EAAI,EAAO,SAAS,CACpH,EAFmB,gBAInB,MAAI,MAAK,QAAQ,oBAAsB,KACjC,IAAW,EAAU,GACrB,MAAO,IAAW,SAAiB,WAAW,OAAO,EAAO,SAAS,CAAC,EACnE,EAAa,EACX,KAAK,QAAQ,oBAAsB,MAEnC,KAAK,QAAQ,sBAAwB,EAAK,QAAQ,SAAW,GAAK,EAAK,QAAQ,KAAO,EADxF,EAAa,EAKf,KAAK,QAAQ,SAAW,EAAI,SAAS,EAAI,KAAK,QAAQ,QAAU,EAAI,SAAS,EAAI,EAAI,SAAS,CACvG,CAEA,YAAK,OAAO,KAAK,6BAA6B,OAAO,CAAI,CAAC,EACnD,EACT,EApCO,YAqCT,CAAC,CAAC,EAEK,CACT,EAAE,EAEE,GAAe,UAAY,CAC7B,YAAwB,CACtB,GAAI,GAAU,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,CAAC,EAEnF,GAAgB,KAAM,CAAY,EAElC,KAAK,OAAS,GAAW,OAAO,cAAc,EAC9C,KAAK,QAAU,EAEf,KAAK,OAAS,EAAQ,eAAiB,EAAQ,cAAc,QAAU,SAAU,EAAO,CACtF,MAAO,EACT,EAEA,KAAK,KAAK,CAAO,CACnB,CAbS,2BAeT,GAAa,EAAc,CAAC,CAC1B,IAAK,OACL,MAAO,YAAgB,CACrB,GAAI,GAAU,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,CAAC,EACnF,AAAK,EAAQ,eAAe,GAAQ,cAAgB,CAClD,YAAa,EACf,GACA,GAAI,GAAQ,EAAQ,cACpB,KAAK,OAAS,EAAM,SAAW,OAAY,EAAM,OAAS,GAC1D,KAAK,YAAc,EAAM,cAAgB,OAAY,EAAM,YAAc,GACzE,KAAK,oBAAsB,EAAM,sBAAwB,OAAY,EAAM,oBAAsB,GACjG,KAAK,OAAS,EAAM,OAAS,GAAY,EAAM,MAAM,EAAI,EAAM,eAAiB,KAChF,KAAK,OAAS,EAAM,OAAS,GAAY,EAAM,MAAM,EAAI,EAAM,eAAiB,KAChF,KAAK,gBAAkB,EAAM,gBAAkB,EAAM,gBAAkB,EAAM,iBAAmB,IAChG,KAAK,eAAiB,EAAM,eAAiB,GAAK,EAAM,gBAAkB,IAC1E,KAAK,eAAiB,KAAK,eAAiB,GAAK,EAAM,gBAAkB,GACzE,KAAK,cAAgB,EAAM,cAAgB,GAAY,EAAM,aAAa,EAAI,EAAM,sBAAwB,GAAY,KAAK,EAC7H,KAAK,cAAgB,EAAM,cAAgB,GAAY,EAAM,aAAa,EAAI,EAAM,sBAAwB,GAAY,GAAG,EAC3H,KAAK,wBAA0B,EAAM,wBAA0B,EAAM,wBAA0B,EAAM,yBAA2B,IAChI,KAAK,YAAc,EAAM,YAAc,EAAM,YAAc,IAC3D,KAAK,aAAe,EAAM,eAAiB,OAAY,EAAM,aAAe,GAC5E,KAAK,YAAY,CACnB,EApBO,OAqBT,EAAG,CACD,IAAK,QACL,MAAO,YAAiB,CACtB,AAAI,KAAK,SAAS,KAAK,KAAK,KAAK,OAAO,CAC1C,EAFO,QAGT,EAAG,CACD,IAAK,cACL,MAAO,YAAuB,CAC5B,GAAI,GAAY,GAAG,OAAO,KAAK,OAAQ,OAAO,EAAE,OAAO,KAAK,MAAM,EAClE,KAAK,OAAS,GAAI,QAAO,EAAW,GAAG,EACvC,GAAI,GAAoB,GAAG,OAAO,KAAK,MAAM,EAAE,OAAO,KAAK,eAAgB,OAAO,EAAE,OAAO,KAAK,cAAc,EAAE,OAAO,KAAK,MAAM,EAClI,KAAK,eAAiB,GAAI,QAAO,EAAmB,GAAG,EACvD,GAAI,GAAmB,GAAG,OAAO,KAAK,cAAe,OAAO,EAAE,OAAO,KAAK,aAAa,EACvF,KAAK,cAAgB,GAAI,QAAO,EAAkB,GAAG,CACvD,EAPO,cAQT,EAAG,CACD,IAAK,cACL,MAAO,WAAqB,EAAK,EAAM,EAAK,EAAS,CACnD,GAAI,GAAQ,KAER,EACA,EACA,EACA,EAAc,KAAK,SAAW,KAAK,QAAQ,eAAiB,KAAK,QAAQ,cAAc,kBAAoB,CAAC,EAEhH,WAAmB,EAAK,CACtB,MAAO,GAAI,QAAQ,MAAO,MAAM,CAClC,CAFS,iBAIT,GAAI,GAAe,WAAsB,EAAK,CAC5C,GAAI,EAAI,QAAQ,EAAM,eAAe,EAAI,EAAG,CAC1C,GAAI,GAAO,GAAoB,EAAM,EAAa,CAAG,EACrD,MAAO,GAAM,aAAe,EAAM,OAAO,EAAM,OAAW,EAAK,GAAc,CAAC,EAAG,EAAS,EAAM,CAC9F,iBAAkB,CACpB,CAAC,CAAC,EAAI,CACR,CAEA,GAAI,GAAI,EAAI,MAAM,EAAM,eAAe,EACnC,EAAI,EAAE,MAAM,EAAE,KAAK,EACnB,EAAI,EAAE,KAAK,EAAM,eAAe,EAAE,KAAK,EAC3C,MAAO,GAAM,OAAO,GAAoB,EAAM,EAAa,CAAC,EAAG,EAAG,EAAK,GAAc,CAAC,EAAG,EAAS,EAAM,CACtG,iBAAkB,CACpB,CAAC,CAAC,CACJ,EAdmB,gBAgBnB,KAAK,YAAY,EACjB,GAAI,GAA8B,GAAW,EAAQ,6BAA+B,KAAK,QAAQ,4BAC7F,EAAkB,GAAW,EAAQ,eAAiB,EAAQ,cAAc,iBAAmB,KAAK,QAAQ,cAAc,gBAC1H,EAAQ,CAAC,CACX,MAAO,KAAK,eACZ,UAAW,WAAmB,EAAK,CACjC,MAAO,GAAU,CAAG,CACtB,EAFW,YAGb,EAAG,CACD,MAAO,KAAK,OACZ,UAAW,WAAmB,EAAK,CACjC,MAAO,GAAM,YAAc,EAAU,EAAM,OAAO,CAAG,CAAC,EAAI,EAAU,CAAG,CACzE,EAFW,YAGb,CAAC,EACD,SAAM,QAAQ,SAAU,EAAM,CAG5B,IAFA,EAAW,EAEJ,EAAQ,EAAK,MAAM,KAAK,CAAG,GAAG,CAGnC,GAFA,EAAQ,EAAa,EAAM,GAAG,KAAK,CAAC,EAEhC,IAAU,OACZ,GAAI,MAAO,IAAgC,WAAY,CACrD,GAAI,GAAO,EAA4B,EAAK,EAAO,CAAO,EAC1D,EAAQ,MAAO,IAAS,SAAW,EAAO,EAC5C,SAAW,EAAiB,CAC1B,EAAQ,EAAM,GACd,QACF,KACE,GAAM,OAAO,KAAK,8BAA8B,OAAO,EAAM,GAAI,qBAAqB,EAAE,OAAO,CAAG,CAAC,EAEnG,EAAQ,OAEL,AAAI,OAAO,IAAU,UAAY,CAAC,EAAM,qBAC7C,GAAQ,GAAW,CAAK,GAG1B,GAAI,GAAY,EAAK,UAAU,CAAK,EAYpC,GAXA,EAAM,EAAI,QAAQ,EAAM,GAAI,CAAS,EAErC,AAAI,EACF,GAAK,MAAM,WAAa,EAAU,OAClC,EAAK,MAAM,WAAa,EAAM,GAAG,QAEjC,EAAK,MAAM,UAAY,EAGzB,IAEI,GAAY,EAAM,YACpB,KAEJ,CACF,CAAC,EACM,CACT,EAlFO,cAmFT,EAAG,CACD,IAAK,OACL,MAAO,WAAc,EAAK,EAAI,CAC5B,GAAI,GAAS,KAET,EAAU,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,CAAC,EAC/E,EACA,EAEA,EAAgB,GAAc,CAAC,EAAG,CAAO,EAE7C,EAAc,mBAAqB,GACnC,MAAO,GAAc,aAErB,WAA0B,EAAK,EAAkB,CAC/C,GAAI,GAAM,KAAK,wBACf,GAAI,EAAI,QAAQ,CAAG,EAAI,EAAG,MAAO,GACjC,GAAI,GAAI,EAAI,MAAM,GAAI,QAAO,GAAG,OAAO,EAAK,OAAO,CAAC,CAAC,EACjD,EAAgB,IAAI,OAAO,EAAE,EAAE,EACnC,EAAM,EAAE,GACR,EAAgB,KAAK,YAAY,EAAe,CAAa,EAC7D,EAAgB,EAAc,QAAQ,KAAM,GAAG,EAE/C,GAAI,CACF,EAAgB,KAAK,MAAM,CAAa,EACpC,GAAkB,GAAgB,GAAc,CAAC,EAAG,EAAkB,CAAa,EACzF,OAAS,EAAP,CACA,YAAK,OAAO,KAAK,oDAAoD,OAAO,CAAG,EAAG,CAAC,EAC5E,GAAG,OAAO,CAAG,EAAE,OAAO,CAAG,EAAE,OAAO,CAAa,CACxD,CAEA,aAAO,GAAc,aACd,CACT,CAEA,IArBS,wBAqBF,EAAQ,KAAK,cAAc,KAAK,CAAG,GAAG,CAC3C,GAAI,GAAa,CAAC,EACd,EAAW,GAEf,GAAI,EAAM,GAAG,QAAQ,KAAK,eAAe,IAAM,IAAM,CAAC,OAAO,KAAK,EAAM,EAAE,EAAG,CAC3E,GAAI,GAAI,EAAM,GAAG,MAAM,KAAK,eAAe,EAAE,IAAI,SAAU,EAAM,CAC/D,MAAO,GAAK,KAAK,CACnB,CAAC,EACD,EAAM,GAAK,EAAE,MAAM,EACnB,EAAa,EACb,EAAW,EACb,CAGA,GADA,EAAQ,EAAG,EAAiB,KAAK,KAAM,EAAM,GAAG,KAAK,EAAG,CAAa,EAAG,CAAa,EACjF,GAAS,EAAM,KAAO,GAAO,MAAO,IAAU,SAAU,MAAO,GACnE,AAAI,MAAO,IAAU,UAAU,GAAQ,GAAW,CAAK,GAElD,GACH,MAAK,OAAO,KAAK,qBAAqB,OAAO,EAAM,GAAI,eAAe,EAAE,OAAO,CAAG,CAAC,EACnF,EAAQ,IAGN,GACF,GAAQ,EAAW,OAAO,SAAU,EAAG,EAAG,CACxC,MAAO,GAAO,OAAO,EAAG,EAAG,EAAQ,IAAK,GAAc,CAAC,EAAG,EAAS,CACjE,iBAAkB,EAAM,GAAG,KAAK,CAClC,CAAC,CAAC,CACJ,EAAG,EAAM,KAAK,CAAC,GAGjB,EAAM,EAAI,QAAQ,EAAM,GAAI,CAAK,EACjC,KAAK,OAAO,UAAY,CAC1B,CAEA,MAAO,EACT,EApEO,OAqET,CAAC,CAAC,EAEK,CACT,EAAE,EAEF,YAAgB,EAAK,EAAM,CAGzB,OAFI,GAAQ,EAAI,QAAQ,CAAI,EAErB,IAAU,IACf,EAAI,OAAO,EAAO,CAAC,EACnB,EAAQ,EAAI,QAAQ,CAAI,CAE5B,CAPS,eAST,GAAI,IAAY,SAAU,EAAe,CACvC,GAAU,EAAW,CAAa,EAElC,WAAmB,EAAS,EAAO,EAAU,CAC3C,GAAI,GAEA,EAAU,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,CAAC,EAEnF,UAAgB,KAAM,CAAS,EAE/B,EAAQ,GAA2B,KAAM,GAAgB,CAAS,EAAE,KAAK,IAAI,CAAC,EAE1E,IACF,GAAa,KAAK,GAAuB,CAAK,CAAC,EAGjD,EAAM,QAAU,EAChB,EAAM,MAAQ,EACd,EAAM,SAAW,EACjB,EAAM,cAAgB,EAAS,cAC/B,EAAM,QAAU,EAChB,EAAM,OAAS,GAAW,OAAO,kBAAkB,EACnD,EAAM,MAAQ,CAAC,EACf,EAAM,MAAQ,CAAC,EAEX,EAAM,SAAW,EAAM,QAAQ,MACjC,EAAM,QAAQ,KAAK,EAAU,EAAQ,QAAS,CAAO,EAGhD,CACT,CA3BS,wBA6BT,GAAa,EAAW,CAAC,CACvB,IAAK,YACL,MAAO,WAAmB,EAAW,EAAY,EAAS,EAAU,CAClE,GAAI,GAAS,KAET,EAAS,CAAC,EACV,EAAU,CAAC,EACX,EAAkB,CAAC,EACnB,EAAmB,CAAC,EACxB,SAAU,QAAQ,SAAU,EAAK,CAC/B,GAAI,GAAmB,GACvB,EAAW,QAAQ,SAAU,EAAI,CAC/B,GAAI,GAAO,GAAG,OAAO,EAAK,GAAG,EAAE,OAAO,CAAE,EAExC,AAAI,CAAC,EAAQ,QAAU,EAAO,MAAM,kBAAkB,EAAK,CAAE,EAC3D,EAAO,MAAM,GAAQ,EACZ,EAAO,MAAM,GAAQ,GAAU,CAAI,EAAO,MAAM,KAAU,EAC/D,EAAQ,QAAQ,CAAI,EAAI,GAAG,EAAQ,KAAK,CAAI,EAEhD,GAAO,MAAM,GAAQ,EACrB,EAAmB,GACf,EAAQ,QAAQ,CAAI,EAAI,GAAG,EAAQ,KAAK,CAAI,EAC5C,EAAO,QAAQ,CAAI,EAAI,GAAG,EAAO,KAAK,CAAI,EAC1C,EAAiB,QAAQ,CAAE,EAAI,GAAG,EAAiB,KAAK,CAAE,GAElE,CAAC,EACI,GAAkB,EAAgB,KAAK,CAAG,CACjD,CAAC,EAEG,GAAO,QAAU,EAAQ,SAC3B,KAAK,MAAM,KAAK,CACd,QAAS,EACT,OAAQ,CAAC,EACT,OAAQ,CAAC,EACT,SAAU,CACZ,CAAC,EAGI,CACL,OAAQ,EACR,QAAS,EACT,gBAAiB,EACjB,iBAAkB,CACpB,CACF,EA1CO,YA2CT,EAAG,CACD,IAAK,SACL,MAAO,WAAgB,EAAM,EAAK,EAAM,CACtC,GAAI,GAAI,EAAK,MAAM,GAAG,EAClB,EAAM,EAAE,GACR,EAAK,EAAE,GACX,AAAI,GAAK,KAAK,KAAK,gBAAiB,EAAK,EAAI,CAAG,EAE5C,GACF,KAAK,MAAM,kBAAkB,EAAK,EAAI,CAAI,EAG5C,KAAK,MAAM,GAAQ,EAAM,GAAK,EAC9B,GAAI,GAAS,CAAC,EACd,KAAK,MAAM,QAAQ,SAAU,EAAG,CAC9B,GAAS,EAAE,OAAQ,CAAC,CAAG,EAAG,CAAE,EAC5B,GAAO,EAAE,QAAS,CAAI,EAClB,GAAK,EAAE,OAAO,KAAK,CAAG,EAEtB,EAAE,QAAQ,SAAW,GAAK,CAAC,EAAE,MAC/B,QAAO,KAAK,EAAE,MAAM,EAAE,QAAQ,SAAU,EAAG,CACzC,AAAK,EAAO,IAAI,GAAO,GAAK,CAAC,GAEzB,EAAE,OAAO,GAAG,QACd,EAAE,OAAO,GAAG,QAAQ,SAAU,EAAI,CAChC,AAAI,EAAO,GAAG,QAAQ,CAAE,EAAI,GAAG,EAAO,GAAG,KAAK,CAAE,CAClD,CAAC,CAEL,CAAC,EACD,EAAE,KAAO,GAET,AAAI,EAAE,OAAO,OACX,EAAE,SAAS,EAAE,MAAM,EAEnB,EAAE,SAAS,EAGjB,CAAC,EACD,KAAK,KAAK,SAAU,CAAM,EAC1B,KAAK,MAAQ,KAAK,MAAM,OAAO,SAAU,EAAG,CAC1C,MAAO,CAAC,EAAE,IACZ,CAAC,CACH,EAxCO,SAyCT,EAAG,CACD,IAAK,OACL,MAAO,WAAc,EAAK,EAAI,EAAQ,CACpC,GAAI,GAAS,KAET,EAAQ,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,EAC5E,EAAO,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,IAC3E,EAAW,UAAU,OAAS,EAAI,UAAU,GAAK,OACrD,MAAK,GAAI,OACF,KAAK,QAAQ,GAAQ,EAAK,EAAI,SAAU,EAAK,EAAM,CACxD,GAAI,GAAO,GAAQ,EAAQ,EAAG,CAC5B,WAAW,UAAY,CACrB,EAAO,KAAK,KAAK,EAAQ,EAAK,EAAI,EAAQ,EAAQ,EAAG,EAAO,EAAG,CAAQ,CACzE,EAAG,CAAI,EACP,MACF,CAEA,EAAS,EAAK,CAAI,CACpB,CAAC,EAVuB,EAAS,KAAM,CAAC,CAAC,CAW3C,EAjBO,OAkBT,EAAG,CACD,IAAK,iBACL,MAAO,WAAwB,EAAW,EAAY,CACpD,GAAI,GAAS,KAET,EAAU,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,CAAC,EAC/E,EAAW,UAAU,OAAS,EAAI,UAAU,GAAK,OAErD,GAAI,CAAC,KAAK,QACR,YAAK,OAAO,KAAK,gEAAgE,EAC1E,GAAY,EAAS,EAG9B,AAAI,MAAO,IAAc,UAAU,GAAY,KAAK,cAAc,mBAAmB,CAAS,GAC1F,MAAO,IAAe,UAAU,GAAa,CAAC,CAAU,GAC5D,GAAI,GAAS,KAAK,UAAU,EAAW,EAAY,EAAS,CAAQ,EAEpE,GAAI,CAAC,EAAO,OAAO,OACjB,MAAK,GAAO,QAAQ,QAAQ,EAAS,EAC9B,KAGT,EAAO,OAAO,QAAQ,SAAU,EAAM,CACpC,EAAO,QAAQ,CAAI,CACrB,CAAC,CACH,EAvBO,iBAwBT,EAAG,CACD,IAAK,OACL,MAAO,WAAc,EAAW,EAAY,EAAU,CACpD,KAAK,eAAe,EAAW,EAAY,CAAC,EAAG,CAAQ,CACzD,EAFO,OAGT,EAAG,CACD,IAAK,SACL,MAAO,WAAgB,EAAW,EAAY,EAAU,CACtD,KAAK,eAAe,EAAW,EAAY,CACzC,OAAQ,EACV,EAAG,CAAQ,CACb,EAJO,SAKT,EAAG,CACD,IAAK,UACL,MAAO,WAAiB,EAAM,CAC5B,GAAI,GAAS,KAET,EAAS,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,GAC7E,EAAI,EAAK,MAAM,GAAG,EAClB,EAAM,EAAE,GACR,EAAK,EAAE,GACX,KAAK,KAAK,EAAK,EAAI,OAAQ,OAAW,OAAW,SAAU,EAAK,EAAM,CACpE,AAAI,GAAK,EAAO,OAAO,KAAK,GAAG,OAAO,EAAQ,oBAAoB,EAAE,OAAO,EAAI,gBAAgB,EAAE,OAAO,EAAK,SAAS,EAAG,CAAG,EACxH,CAAC,GAAO,GAAM,EAAO,OAAO,IAAI,GAAG,OAAO,EAAQ,mBAAmB,EAAE,OAAO,EAAI,gBAAgB,EAAE,OAAO,CAAG,EAAG,CAAI,EAEzH,EAAO,OAAO,EAAM,EAAK,CAAI,CAC/B,CAAC,CACH,EAbO,UAcT,EAAG,CACD,IAAK,cACL,MAAO,WAAqB,EAAW,EAAW,EAAK,EAAe,EAAU,CAC9E,GAAI,GAAU,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,CAAC,EAEnF,GAAI,KAAK,SAAS,OAAS,KAAK,SAAS,MAAM,oBAAsB,CAAC,KAAK,SAAS,MAAM,mBAAmB,CAAS,EAAG,CACvH,KAAK,OAAO,KAAK,qBAAsB,OAAO,EAAK,sBAAwB,EAAE,OAAO,EAAW,sBAAuB,EAAG,0NAA0N,EACnV,MACF,CAEA,AAAI,AAAqB,GAAQ,MAAQ,IAAQ,IAE7C,MAAK,SAAW,KAAK,QAAQ,QAC/B,KAAK,QAAQ,OAAO,EAAW,EAAW,EAAK,EAAe,KAAM,GAAc,CAAC,EAAG,EAAS,CAC7F,SAAU,CACZ,CAAC,CAAC,EAGA,GAAC,GAAa,CAAC,EAAU,KAC7B,KAAK,MAAM,YAAY,EAAU,GAAI,EAAW,EAAK,CAAa,EACpE,EAlBO,cAmBT,CAAC,CAAC,EAEK,CACT,EAAE,EAAY,EAEd,aAAe,CACb,MAAO,CACL,MAAO,GACP,cAAe,GACf,GAAI,CAAC,aAAa,EAClB,UAAW,CAAC,aAAa,EACzB,YAAa,CAAC,KAAK,EACnB,WAAY,GACZ,UAAW,GACX,qBAAsB,GACtB,cAAe,GACf,yBAA0B,GAC1B,KAAM,MACN,QAAS,GACT,qBAAsB,GACtB,aAAc,IACd,YAAa,IACb,gBAAiB,IACjB,iBAAkB,IAClB,wBAAyB,GACzB,YAAa,GACb,cAAe,GACf,cAAe,WACf,mBAAoB,GACpB,kBAAmB,GACnB,4BAA6B,GAC7B,YAAa,GACb,wBAAyB,GACzB,WAAY,GACZ,kBAAmB,GACnB,cAAe,GACf,WAAY,GACZ,sBAAuB,GACvB,uBAAwB,GACxB,4BAA6B,GAC7B,wBAAyB,GACzB,iCAAkC,WAAgB,EAAM,CACtD,GAAI,GAAM,CAAC,EAKX,GAJI,GAAQ,EAAK,EAAE,IAAM,UAAU,GAAM,EAAK,IAC1C,MAAO,GAAK,IAAO,UAAU,GAAI,aAAe,EAAK,IACrD,MAAO,GAAK,IAAO,UAAU,GAAI,aAAe,EAAK,IAErD,GAAQ,EAAK,EAAE,IAAM,UAAY,GAAQ,EAAK,EAAE,IAAM,SAAU,CAClE,GAAI,GAAU,EAAK,IAAM,EAAK,GAC9B,OAAO,KAAK,CAAO,EAAE,QAAQ,SAAU,EAAK,CAC1C,EAAI,GAAO,EAAQ,EACrB,CAAC,CACH,CAEA,MAAO,EACT,EAdkC,UAelC,cAAe,CACb,YAAa,GACb,OAAQ,WAAgB,EAAO,EAAS,EAAK,EAAS,CACpD,MAAO,EACT,EAFQ,UAGR,OAAQ,KACR,OAAQ,KACR,gBAAiB,IACjB,eAAgB,IAChB,cAAe,MACf,cAAe,IACf,wBAAyB,IACzB,YAAa,IACb,gBAAiB,EACnB,CACF,CACF,CAnES,YAoET,YAA0B,EAAS,CACjC,MAAI,OAAO,GAAQ,IAAO,UAAU,GAAQ,GAAK,CAAC,EAAQ,EAAE,GACxD,MAAO,GAAQ,aAAgB,UAAU,GAAQ,YAAc,CAAC,EAAQ,WAAW,GACnF,MAAO,GAAQ,YAAe,UAAU,GAAQ,WAAa,CAAC,EAAQ,UAAU,GAEhF,EAAQ,WACN,GAAQ,WAAa,EAAQ,UAAU,QAAQ,QAAQ,EAAI,GAC7D,GAAQ,UAAY,EAAQ,UAAU,OAAO,CAAC,QAAQ,CAAC,GAGzD,EAAQ,cAAgB,EAAQ,WAG9B,EAAQ,sBACV,GAAQ,yBAA2B,EAAQ,sBAGzC,EAAQ,eAAiB,EAAQ,cAAc,QAAQ,QAAQ,EAAI,GACrE,GAAQ,cAAgB,EAAQ,cAAc,OAAO,CAAC,QAAQ,CAAC,GAG1D,CACT,CAtBS,yBAwBT,aAAgB,CAAC,CAAR,aAET,GAAI,IAAO,SAAU,EAAe,CAClC,GAAU,EAAM,CAAa,EAE7B,YAAgB,CACd,GAAI,GAEA,EAAU,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,CAAC,EAC/E,EAAW,UAAU,OAAS,EAAI,UAAU,GAAK,OAiBrD,GAfA,GAAgB,KAAM,CAAI,EAE1B,EAAQ,GAA2B,KAAM,GAAgB,CAAI,EAAE,KAAK,IAAI,CAAC,EAErE,IACF,GAAa,KAAK,GAAuB,CAAK,CAAC,EAGjD,EAAM,QAAU,GAAiB,CAAO,EACxC,EAAM,SAAW,CAAC,EAClB,EAAM,OAAS,GACf,EAAM,QAAU,CACd,SAAU,CAAC,CACb,EAEI,GAAY,CAAC,EAAM,eAAiB,CAAC,EAAQ,QAAS,CACxD,GAAI,CAAC,EAAM,QAAQ,cACjB,SAAM,KAAK,EAAS,CAAQ,EAErB,GAA2B,EAAO,GAAuB,CAAK,CAAC,EAGxE,WAAW,UAAY,CACrB,EAAM,KAAK,EAAS,CAAQ,CAC9B,EAAG,CAAC,CACN,CAEA,MAAO,EACT,CAlCS,mBAoCT,GAAa,EAAM,CAAC,CAClB,IAAK,OACL,MAAO,YAAgB,CACrB,GAAI,GAAS,KAET,EAAU,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,CAAC,EAC/E,EAAW,UAAU,OAAS,EAAI,UAAU,GAAK,OAErD,AAAI,MAAO,IAAY,YACrB,GAAW,EACX,EAAU,CAAC,GAGT,EAAQ,WAAa,CAAC,EAAQ,eAChC,KAAK,OAAO,UAAU,YAAa,wHAAwH,EAGzJ,EAAQ,sBAAwB,CAAC,EAAQ,0BAC3C,KAAK,OAAO,UAAU,YAAa,+IAA+I,EAGpL,KAAK,QAAU,GAAc,CAAC,EAAG,GAAI,EAAG,KAAK,QAAS,GAAiB,CAAO,CAAC,EAC/E,KAAK,OAAS,KAAK,QAAQ,cAAc,OACpC,GAAU,GAAW,IAE1B,WAA6B,EAAe,CAC1C,MAAK,GACD,MAAO,IAAkB,WAAmB,GAAI,GAC7C,EAFoB,IAG7B,CAEA,GANS,2BAML,CAAC,KAAK,QAAQ,QAAS,CACzB,AAAI,KAAK,QAAQ,OACf,GAAW,KAAK,EAAoB,KAAK,QAAQ,MAAM,EAAG,KAAK,OAAO,EAEtE,GAAW,KAAK,KAAM,KAAK,OAAO,EAGpC,GAAI,GAAK,GAAI,IAAa,KAAK,OAAO,EACtC,KAAK,MAAQ,GAAI,IAAc,KAAK,QAAQ,UAAW,KAAK,OAAO,EACnE,GAAI,GAAI,KAAK,SACb,EAAE,OAAS,GACX,EAAE,cAAgB,KAAK,MACvB,EAAE,cAAgB,EAClB,EAAE,eAAiB,GAAI,IAAe,EAAI,CACxC,QAAS,KAAK,QAAQ,gBACtB,kBAAmB,KAAK,QAAQ,kBAChC,qBAAsB,KAAK,QAAQ,oBACrC,CAAC,EACD,EAAE,aAAe,GAAI,IAAa,KAAK,OAAO,EAC9C,EAAE,MAAQ,CACR,mBAAoB,KAAK,mBAAmB,KAAK,IAAI,CACvD,EACA,EAAE,iBAAmB,GAAI,IAAU,EAAoB,KAAK,QAAQ,OAAO,EAAG,EAAE,cAAe,EAAG,KAAK,OAAO,EAC9G,EAAE,iBAAiB,GAAG,IAAK,SAAU,EAAO,CAC1C,OAAS,GAAO,UAAU,OAAQ,EAAO,GAAI,OAAM,EAAO,EAAI,EAAO,EAAI,CAAC,EAAG,EAAO,EAAG,EAAO,EAAM,IAClG,EAAK,EAAO,GAAK,UAAU,GAG7B,EAAO,KAAK,MAAM,EAAQ,CAAC,CAAK,EAAE,OAAO,CAAI,CAAC,CAChD,CAAC,EAEG,KAAK,QAAQ,kBACf,GAAE,iBAAmB,EAAoB,KAAK,QAAQ,gBAAgB,EACtE,EAAE,iBAAiB,KAAK,EAAG,KAAK,QAAQ,UAAW,KAAK,OAAO,GAG7D,KAAK,QAAQ,YACf,GAAE,WAAa,EAAoB,KAAK,QAAQ,UAAU,EACtD,EAAE,WAAW,MAAM,EAAE,WAAW,KAAK,IAAI,GAG/C,KAAK,WAAa,GAAI,IAAW,KAAK,SAAU,KAAK,OAAO,EAC5D,KAAK,WAAW,GAAG,IAAK,SAAU,EAAO,CACvC,OAAS,GAAQ,UAAU,OAAQ,EAAO,GAAI,OAAM,EAAQ,EAAI,EAAQ,EAAI,CAAC,EAAG,EAAQ,EAAG,EAAQ,EAAO,IACxG,EAAK,EAAQ,GAAK,UAAU,GAG9B,EAAO,KAAK,MAAM,EAAQ,CAAC,CAAK,EAAE,OAAO,CAAI,CAAC,CAChD,CAAC,EACD,KAAK,QAAQ,SAAS,QAAQ,SAAU,EAAG,CACzC,AAAI,EAAE,MAAM,EAAE,KAAK,CAAM,CAC3B,CAAC,CACH,CAEA,GAAI,KAAK,QAAQ,aAAe,CAAC,KAAK,SAAS,kBAAoB,CAAC,KAAK,QAAQ,IAAK,CACpF,GAAI,GAAQ,KAAK,SAAS,cAAc,iBAAiB,KAAK,QAAQ,WAAW,EACjF,AAAI,EAAM,OAAS,GAAK,EAAM,KAAO,OAAO,MAAK,QAAQ,IAAM,EAAM,GACvE,CAEA,AAAI,CAAC,KAAK,SAAS,kBAAoB,CAAC,KAAK,QAAQ,KACnD,KAAK,OAAO,KAAK,yDAAyD,EAG5E,GAAI,GAAW,CAAC,cAAe,oBAAqB,oBAAqB,mBAAmB,EAC5F,EAAS,QAAQ,SAAU,EAAQ,CACjC,EAAO,GAAU,UAAY,CAC3B,GAAI,GAEJ,MAAQ,GAAe,EAAO,OAAO,GAAQ,MAAM,EAAc,SAAS,CAC5E,CACF,CAAC,EACD,GAAI,GAAkB,CAAC,cAAe,eAAgB,oBAAqB,sBAAsB,EACjG,EAAgB,QAAQ,SAAU,EAAQ,CACxC,EAAO,GAAU,UAAY,CAC3B,GAAI,GAEJ,MAAC,GAAgB,EAAO,OAAO,GAAQ,MAAM,EAAe,SAAS,EAE9D,CACT,CACF,CAAC,EACD,GAAI,GAAW,GAAM,EAEjB,EAAO,YAAgB,CACzB,GAAI,GAAS,WAAgB,EAAK,EAAG,CACnC,AAAI,EAAO,eAAe,EAAO,OAAO,KAAK,uEAAuE,EACpH,EAAO,cAAgB,GAClB,EAAO,QAAQ,SAAS,EAAO,OAAO,IAAI,cAAe,EAAO,OAAO,EAE5E,EAAO,KAAK,cAAe,EAAO,OAAO,EAEzC,EAAS,QAAQ,CAAC,EAClB,EAAS,EAAK,CAAC,CACjB,EATa,UAWb,GAAI,EAAO,WAAa,EAAO,QAAQ,mBAAqB,MAAQ,CAAC,EAAO,cAAe,MAAO,GAAO,KAAM,EAAO,EAAE,KAAK,CAAM,CAAC,EAEpI,EAAO,eAAe,EAAO,QAAQ,IAAK,CAAM,CAClD,EAfW,QAiBX,MAAI,MAAK,QAAQ,WAAa,CAAC,KAAK,QAAQ,cAC1C,EAAK,EAEL,WAAW,EAAM,CAAC,EAGb,CACT,EAxIO,OAyIT,EAAG,CACD,IAAK,gBACL,MAAO,WAAuB,EAAU,CACtC,GAAI,GAAS,KAET,EAAW,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,GAC/E,EAAe,EACf,EAAU,MAAO,IAAa,SAAW,EAAW,KAAK,SAG7D,GAFI,MAAO,IAAa,YAAY,GAAe,GAE/C,CAAC,KAAK,QAAQ,WAAa,KAAK,QAAQ,wBAAyB,CACnE,GAAI,GAAW,EAAQ,YAAY,IAAM,SAAU,MAAO,GAAa,EACvE,GAAI,GAAS,CAAC,EAEV,EAAS,WAAgB,EAAK,CAChC,GAAI,EAAC,EAEL,IAAI,GAAO,EAAO,SAAS,cAAc,mBAAmB,CAAG,EAE/D,EAAK,QAAQ,SAAU,EAAG,CACxB,AAAI,EAAO,QAAQ,CAAC,EAAI,GAAG,EAAO,KAAK,CAAC,CAC1C,CAAC,EACH,EARa,UAUb,GAAK,EAMH,EAAO,CAAO,MANF,CACZ,GAAI,GAAY,KAAK,SAAS,cAAc,iBAAiB,KAAK,QAAQ,WAAW,EACrF,EAAU,QAAQ,SAAU,EAAG,CAC7B,MAAO,GAAO,CAAC,CACjB,CAAC,CACH,CAIA,AAAI,KAAK,QAAQ,SACf,KAAK,QAAQ,QAAQ,QAAQ,SAAU,EAAG,CACxC,MAAO,GAAO,CAAC,CACjB,CAAC,EAGH,KAAK,SAAS,iBAAiB,KAAK,EAAQ,KAAK,QAAQ,GAAI,CAAY,CAC3E,KACE,GAAa,IAAI,CAErB,EAzCO,gBA0CT,EAAG,CACD,IAAK,kBACL,MAAO,WAAyB,EAAM,EAAI,EAAU,CAClD,GAAI,GAAW,GAAM,EACrB,MAAK,IAAM,GAAO,KAAK,WAClB,GAAI,GAAK,KAAK,QAAQ,IACtB,GAAU,GAAW,IAC1B,KAAK,SAAS,iBAAiB,OAAO,EAAM,EAAI,SAAU,EAAK,CAC7D,EAAS,QAAQ,EACjB,EAAS,CAAG,CACd,CAAC,EACM,CACT,EAVO,kBAWT,EAAG,CACD,IAAK,MACL,MAAO,WAAa,EAAQ,CAC1B,GAAI,CAAC,EAAQ,KAAM,IAAI,OAAM,+FAA+F,EAC5H,GAAI,CAAC,EAAO,KAAM,KAAM,IAAI,OAAM,0FAA0F,EAE5H,MAAI,GAAO,OAAS,WAClB,MAAK,QAAQ,QAAU,GAGrB,GAAO,OAAS,UAAY,EAAO,KAAO,EAAO,MAAQ,EAAO,QAClE,MAAK,QAAQ,OAAS,GAGpB,EAAO,OAAS,oBAClB,MAAK,QAAQ,iBAAmB,GAG9B,EAAO,OAAS,cAClB,MAAK,QAAQ,WAAa,GAGxB,EAAO,OAAS,iBAClB,GAAc,iBAAiB,CAAM,EAGnC,EAAO,OAAS,YAClB,KAAK,QAAQ,SAAS,KAAK,CAAM,EAG5B,IACT,EA7BO,MA8BT,EAAG,CACD,IAAK,iBACL,MAAO,WAAwB,EAAK,EAAU,CAC5C,GAAI,GAAS,KAEb,KAAK,qBAAuB,EAC5B,GAAI,GAAW,GAAM,EACrB,KAAK,KAAK,mBAAoB,CAAG,EAEjC,GAAI,GAAO,WAAc,EAAK,EAAG,CAC/B,AAAI,EACF,GAAO,SAAW,EAClB,EAAO,UAAY,EAAO,SAAS,cAAc,mBAAmB,CAAC,EAErE,EAAO,WAAW,eAAe,CAAC,EAElC,EAAO,qBAAuB,OAE9B,EAAO,KAAK,kBAAmB,CAAC,EAEhC,EAAO,OAAO,IAAI,kBAAmB,CAAC,GAEtC,EAAO,qBAAuB,OAGhC,EAAS,QAAQ,UAAY,CAC3B,MAAO,GAAO,EAAE,MAAM,EAAQ,SAAS,CACzC,CAAC,EACG,GAAU,EAAS,EAAK,UAAY,CACtC,MAAO,GAAO,EAAE,MAAM,EAAQ,SAAS,CACzC,CAAC,CACH,EAtBW,QAwBP,EAAS,WAAgB,EAAM,CACjC,AAAI,CAAC,GAAO,CAAC,GAAQ,EAAO,SAAS,kBAAkB,GAAO,CAAC,GAC/D,GAAI,GAAI,MAAO,IAAS,SAAW,EAAO,EAAO,SAAS,cAAc,sBAAsB,CAAI,EAElG,AAAI,GACG,GAAO,UACV,GAAO,SAAW,EAClB,EAAO,UAAY,EAAO,SAAS,cAAc,mBAAmB,CAAC,GAGlE,EAAO,WAAW,UAAU,EAAO,WAAW,eAAe,CAAC,EAC/D,EAAO,SAAS,kBAAkB,EAAO,SAAS,iBAAiB,kBAAkB,CAAC,GAG5F,EAAO,cAAc,EAAG,SAAU,EAAK,CACrC,EAAK,EAAK,CAAC,CACb,CAAC,CACH,EAjBa,UAmBb,MAAI,CAAC,GAAO,KAAK,SAAS,kBAAoB,CAAC,KAAK,SAAS,iBAAiB,MAC5E,EAAO,KAAK,SAAS,iBAAiB,OAAO,CAAC,EACzC,AAAI,CAAC,GAAO,KAAK,SAAS,kBAAoB,KAAK,SAAS,iBAAiB,MAClF,KAAK,SAAS,iBAAiB,OAAO,CAAM,EAE5C,EAAO,CAAG,EAGL,CACT,EA3DO,iBA4DT,EAAG,CACD,IAAK,YACL,MAAO,WAAmB,EAAK,EAAI,CACjC,GAAI,GAAS,KAET,EAAS,aAAgB,EAAK,EAAM,CACtC,GAAI,GAEJ,GAAI,GAAQ,CAAI,IAAM,SAAU,CAC9B,OAAS,GAAQ,UAAU,OAAQ,EAAO,GAAI,OAAM,EAAQ,EAAI,EAAQ,EAAI,CAAC,EAAG,EAAQ,EAAG,EAAQ,EAAO,IACxG,EAAK,EAAQ,GAAK,UAAU,GAG9B,EAAU,EAAO,QAAQ,iCAAiC,CAAC,EAAK,CAAI,EAAE,OAAO,CAAI,CAAC,CACpF,KACE,GAAU,GAAc,CAAC,EAAG,CAAI,EAGlC,SAAQ,IAAM,EAAQ,KAAO,EAAO,IACpC,EAAQ,KAAO,EAAQ,MAAQ,EAAO,KACtC,EAAQ,GAAK,EAAQ,IAAM,EAAO,GAC3B,EAAO,EAAE,EAAK,CAAO,CAC9B,EAjBa,UAmBb,MAAI,OAAO,IAAQ,SACjB,EAAO,IAAM,EAEb,EAAO,KAAO,EAGhB,EAAO,GAAK,EACL,CACT,EA9BO,YA+BT,EAAG,CACD,IAAK,IACL,MAAO,YAAa,CAClB,GAAI,GAEJ,MAAO,MAAK,YAAe,GAAmB,KAAK,YAAY,UAAU,MAAM,EAAkB,SAAS,CAC5G,EAJO,IAKT,EAAG,CACD,IAAK,SACL,MAAO,YAAkB,CACvB,GAAI,GAEJ,MAAO,MAAK,YAAe,GAAoB,KAAK,YAAY,OAAO,MAAM,EAAmB,SAAS,CAC3G,EAJO,SAKT,EAAG,CACD,IAAK,sBACL,MAAO,WAA6B,EAAI,CACtC,KAAK,QAAQ,UAAY,CAC3B,EAFO,sBAGT,EAAG,CACD,IAAK,qBACL,MAAO,WAA4B,EAAI,CACrC,GAAI,GAAS,KAET,EAAU,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,CAAC,EAEnF,GAAI,CAAC,KAAK,cACR,YAAK,OAAO,KAAK,kDAAmD,KAAK,SAAS,EAC3E,GAGT,GAAI,CAAC,KAAK,WAAa,CAAC,KAAK,UAAU,OACrC,YAAK,OAAO,KAAK,6DAA8D,KAAK,SAAS,EACtF,GAGT,GAAI,GAAM,KAAK,UAAU,GACrB,EAAc,KAAK,QAAU,KAAK,QAAQ,YAAc,GACxD,EAAU,KAAK,UAAU,KAAK,UAAU,OAAS,GACrD,GAAI,EAAI,YAAY,IAAM,SAAU,MAAO,GAE3C,GAAI,GAAiB,WAAwB,EAAG,EAAG,CACjD,GAAI,GAAY,EAAO,SAAS,iBAAiB,MAAM,GAAG,OAAO,EAAG,GAAG,EAAE,OAAO,CAAC,GAEjF,MAAO,KAAc,IAAM,IAAc,CAC3C,EAJqB,kBAMrB,GAAI,EAAQ,SAAU,CACpB,GAAI,GAAY,EAAQ,SAAS,KAAM,CAAc,EACrD,GAAI,IAAc,OAAW,MAAO,EACtC,CAIA,MAFI,QAAK,kBAAkB,EAAK,CAAE,GAC9B,CAAC,KAAK,SAAS,iBAAiB,SAChC,EAAe,EAAK,CAAE,GAAM,EAAC,GAAe,EAAe,EAAS,CAAE,GAE5E,EAnCO,qBAoCT,EAAG,CACD,IAAK,iBACL,MAAO,WAAwB,EAAI,EAAU,CAC3C,GAAI,GAAS,KAET,EAAW,GAAM,EAErB,MAAK,MAAK,QAAQ,GAKd,OAAO,IAAO,UAAU,GAAK,CAAC,CAAE,GACpC,EAAG,QAAQ,SAAU,EAAG,CACtB,AAAI,EAAO,QAAQ,GAAG,QAAQ,CAAC,EAAI,GAAG,EAAO,QAAQ,GAAG,KAAK,CAAC,CAChE,CAAC,EACD,KAAK,cAAc,SAAU,EAAK,CAChC,EAAS,QAAQ,EACb,GAAU,EAAS,CAAG,CAC5B,CAAC,EACM,GAZL,IAAY,EAAS,EACd,QAAQ,QAAQ,EAY3B,EAnBO,iBAoBT,EAAG,CACD,IAAK,gBACL,MAAO,WAAuB,EAAM,EAAU,CAC5C,GAAI,GAAW,GAAM,EACrB,AAAI,MAAO,IAAS,UAAU,GAAO,CAAC,CAAI,GAC1C,GAAI,GAAY,KAAK,QAAQ,SAAW,CAAC,EACrC,EAAU,EAAK,OAAO,SAAU,EAAK,CACvC,MAAO,GAAU,QAAQ,CAAG,EAAI,CAClC,CAAC,EAED,MAAK,GAAQ,OAKb,MAAK,QAAQ,QAAU,EAAU,OAAO,CAAO,EAC/C,KAAK,cAAc,SAAU,EAAK,CAChC,EAAS,QAAQ,EACb,GAAU,EAAS,CAAG,CAC5B,CAAC,EACM,GATD,IAAU,EAAS,EAChB,QAAQ,QAAQ,EAS3B,EAnBO,gBAoBT,EAAG,CACD,IAAK,MACL,MAAO,WAAa,EAAK,CAEvB,GADK,GAAK,GAAM,KAAK,WAAa,KAAK,UAAU,OAAS,EAAI,KAAK,UAAU,GAAK,KAAK,UACnF,CAAC,EAAK,MAAO,MACjB,GAAI,GAAU,CAAC,KAAM,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,KAAM,KAAM,KAAM,MAAO,MAAO,MAAO,MAAO,MAAO,KAAM,KAAM,MAAO,MAAO,MAAO,KAAM,KAAM,MAAO,MAAO,MAAO,KAAM,MAAO,MAAO,MAAO,MAAO,KAAM,KAAK,EAC9a,MAAO,GAAQ,QAAQ,KAAK,SAAS,cAAc,wBAAwB,CAAG,CAAC,GAAK,EAAI,MAAQ,KAClG,EALO,MAMT,EAAG,CACD,IAAK,iBACL,MAAO,YAA0B,CAC/B,GAAI,GAAU,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,CAAC,EAC/E,EAAW,UAAU,OAAS,EAAI,UAAU,GAAK,OACrD,MAAO,IAAI,GAAK,EAAS,CAAQ,CACnC,EAJO,iBAKT,EAAG,CACD,IAAK,gBACL,MAAO,YAAyB,CAC9B,GAAI,GAAS,KAET,EAAU,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,CAAC,EAC/E,EAAW,UAAU,OAAS,GAAK,UAAU,KAAO,OAAY,UAAU,GAAK,GAE/E,EAAgB,GAAc,CAAC,EAAG,KAAK,QAAS,EAAS,CAC3D,QAAS,EACX,CAAC,EAEG,EAAQ,GAAI,GAAK,CAAa,EAC9B,EAAgB,CAAC,QAAS,WAAY,UAAU,EACpD,SAAc,QAAQ,SAAU,EAAG,CACjC,EAAM,GAAK,EAAO,EACpB,CAAC,EACD,EAAM,SAAW,GAAc,CAAC,EAAG,KAAK,QAAQ,EAChD,EAAM,SAAS,MAAQ,CACrB,mBAAoB,EAAM,mBAAmB,KAAK,CAAK,CACzD,EACA,EAAM,WAAa,GAAI,IAAW,EAAM,SAAU,EAAM,OAAO,EAC/D,EAAM,WAAW,GAAG,IAAK,SAAU,EAAO,CACxC,OAAS,GAAQ,UAAU,OAAQ,EAAO,GAAI,OAAM,EAAQ,EAAI,EAAQ,EAAI,CAAC,EAAG,EAAQ,EAAG,EAAQ,EAAO,IACxG,EAAK,EAAQ,GAAK,UAAU,GAG9B,EAAM,KAAK,MAAM,EAAO,CAAC,CAAK,EAAE,OAAO,CAAI,CAAC,CAC9C,CAAC,EACD,EAAM,KAAK,EAAe,CAAQ,EAClC,EAAM,WAAW,QAAU,EAAM,QACjC,EAAM,WAAW,iBAAiB,SAAS,MAAQ,CACjD,mBAAoB,EAAM,mBAAmB,KAAK,CAAK,CACzD,EACO,CACT,EAjCO,gBAkCT,EAAG,CACD,IAAK,SACL,MAAO,YAAkB,CACvB,MAAO,CACL,QAAS,KAAK,QACd,MAAO,KAAK,MACZ,SAAU,KAAK,SACf,UAAW,KAAK,SAClB,CACF,EAPO,SAQT,CAAC,CAAC,EAEK,CACT,EAAE,EAAY,EAEV,GAAU,GAAI,IAEX,GAAQ,GXpxEf,OAAkB,SAClB,GAAwB,SACxB,GAA4C,SAC5C,GAAqD,sDACrD,GAA6C,iEYvD7C,OAAiC,SAkBpB,GAAM,GAAC,EAAyB,KAAuB,IAA6C,CAC7G,AAAI,EACA,EAAO,EAAS,UAAU,EAAS,QAAS,EAAS,SAAU,GAAG,CAAI,EAEtE,AAAI,EAAS,SACT,AAAI,EAAS,SAAS,MAClB,QAAQ,IACJ,GAAG,oBAAiB,EAAS,cAAc,EAAS,sBAChD,EAAS,SAAS,SACjB,EAAS,SAAS,QACvB,GAAG,CACP,EAEA,QAAQ,IACJ,GAAG,oBAAiB,EAAS,cAAc,EAAS,sBAAsB,EAAS,SAAS,OAC5F,GAAG,CACP,EAGJ,QAAQ,IAAI,GAAG,oBAAiB,EAAS,cAAc,EAAS,UAAW,GAAG,CAAI,CAG9F,EAtBmB,OZyCZ,GAAM,IAAyB,iBASzB,GAAuB,GAAC,EAAwB,EAAc,IAA+B,CACtG,GAAI,GAAiB,IAAI,MAAmB,IAC5C,MAAI,IACA,IAAkB,IAAI,KAEnB,CACX,EANoC,wBAa7B,YAAiC,EAA6B,EAA4C,CAC7G,GAAM,GAA6B,CAAC,EAChC,EACJ,GAAI,CACA,AAAI,GACA,EAAgB,QAAQ,SAAU,EAA0B,CACxD,EAAY,KAAK,aAAM,EAAe,YAAa,EAAe,aAAa,CAAC,CACpF,CAAC,EAED,EAAY,OAAS,GACrB,GAAkB,eAAQ,aAAY,GAAG,CAAW,CAAC,EAE7D,OAAS,EAAP,CACE,GACI,EACA,CACI,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,SAAS,CAChC,EACA,GAAG,CACP,CACJ,CACA,MAAO,EACX,CAvBgB,gCAyBT,GAAM,IAA6B,EAAC,GACvC,kBAAoB,QAAS,kBAAoB,MADX,8BASnC,YAA6B,EAAkC,EAAwB,EAAuB,CApHrH,YAqHI,GAAI,oBAAa,SAAb,QAAqB,MACrB,GAAI,MAAO,GAAY,OAAO,OAAU,SACpC,EAAQ,EAAY,OAAO,cACpB,EAAY,OAAO,MAAM,OAAY,OAAQ,CACpD,GAAM,GAAiB,EAAW,YAAY,EAAY,OAAO,MAAM,IAAO,EAC9E,AAAI,EAAe,MACf,EAAQ,EAAe,MAChB,MAAO,MAAe,SAAf,cAAuB,QAAU,UAC/C,GAAQ,EAAe,YAAY,OAAO,MAElD,KAAO,AAAI,OAAO,SAAY,SAAZ,cAAoB,QAApB,cAA2B,aAAe,UACxD,GAAQ,EAAY,OAAO,MAAM,SAAS,GAGlD,MAAO,EACX,CAhBgB,4BAwBT,YAAiC,EAA4B,EAAgC,CAChG,GAAI,GAAQ,EAAa,MACzB,MAAI,GAAa,SACb,GAAQ,GAAoB,EAAa,QAAQ,YAAa,EAAY,CAAK,GAE5E,CACX,CANgB,gCAcT,YAA8B,EAA+B,EAAgC,CA1JpG,QA2JI,GAAI,GAAe,EACnB,MAAI,GAAM,MACN,AAAI,MAAO,GAAM,OAAa,SAC1B,EAAW,EAAW,iBAAiB,KAAK,AAAC,GAAO,EAAG,OAAS,EAAM,KAAQ,EAE9E,GAAW,EAAW,YAAY,EAAM,MAAS,IAAI,EAChD,GACD,GAAW,EAAM,MAAS,UAG3B,EAAM,QAAa,EAAM,OAAU,SAAW,EAAM,OAAU,QAAQ,OAC7E,GAAW,EAAM,OAAU,QAAQ,MAAM,SAEzC,uBAAU,cAAV,cAAuB,SAAvB,QAA+B,OAC/B,GAAQ,GAAoB,EAAS,YAAa,EAAY,CAAK,GAEhE,CACX,CAlBgB,6BA0BhB,YAAkB,EAAqB,EAAgC,CApLvE,QAqLI,GAAI,MAAO,IAAmB,SAC1B,MAAO,GACJ,GAAI,MAAO,IAAmB,UAAY,EAAe,KAAM,CAClE,GAAM,GAAW,EAAW,YAAY,EAAe,IAAI,EAC3D,GAAI,CAAC,GAAY,EAAS,SAAW,EACjC,OACG,CACH,GAAM,GAAiB,EAAS,GAChC,GAAI,uBAAgB,cAAhB,cAA6B,SAA7B,QAAqC,MAAO,CAC5C,GAAM,GAAgB,EACtB,MAAO,IAAoB,EAAe,YAAa,EAAY,CAAK,CAC5E,CACJ,CACJ,KACI,OAER,CAjBS,iBAmBT,YAA8B,EAAsB,EAAwB,EAAgC,CACxG,GAAM,GAAsB,GAAqB,EAAqC,CAAU,EAChG,MACI,IACA,GACC,GAAU,MAAM,QAAU,EAAU,MAAM,QAAQ,KAAO,EAAU,MAAM,OAAS,EAAU,MAAM,KAE3G,CAPS,6BAcF,YAAiC,EAA2C,EAAgC,CAC/G,GAAI,GAAQ,GACR,EACA,EACE,EAAiB,GAAS,EAAkB,MAAO,CAAU,EAEnE,OAAQ,EAAkB,WACjB,sBAAkB,UACnB,EAAY,EACZ,EAAQ,GAAqB,EAAW,EAAY,CAAc,EAClE,UACC,sBAAkB,iBACnB,EAAY,EACZ,EAAsB,GAAqB,EAAmB,CAAU,EACxE,EACI,GACA,GACC,OAAO,GAAU,OAAU,SAAW,EAAU,MAAQ,EAAU,MAAM,MAC7E,UACC,sBAAkB,uBACnB,EAAY,EACZ,EAAsB,GAAqB,EAAmB,CAAU,EACxE,EAAQ,GAAkB,GAAuB,EAAU,OAAO,QAAQ,OAAS,EAAU,OAAO,MACpG,UACC,sBAAkB,uBAClB,sBAAkB,wBAClB,sBAAkB,kCACnB,EAAY,EACZ,AAAI,EACA,EAAQ,MAAO,IAAmB,SAAW,EAAkB,EAAU,OAEzE,EAAQ,EAAkB,OAE9B,UACC,sBAAkB,mCACnB,EAAY,EACZ,EAAsB,GAAqB,EAAmB,CAAU,EACxE,EAAQ,GAAuB,EAAU,MAAM,KAC/C,UACC,sBAAkB,4BACnB,EAAY,EACZ,EAAQ,GAAqB,EAAW,EAAY,CAAc,EAClE,cAEA,MAER,MAAO,EACX,CA/CgB,gCAsDT,YAAoB,EAA0B,CACjD,MAAO,GAAS,QAAQ,IAAK,IAAI,EAAE,QAAQ,MAAO,KAAK,CAC3D,CAFgB,mBAQT,YAAuB,EAAoC,CAC9D,GAAI,EAAM,CACN,GAAM,GAAe,GAAG,MAAG,kBAC3B,MAAO,GAAK,MAAM,CAAY,EAAE,EACpC,CACJ,CALgB,sBAWT,YAAuB,EAAuF,CACjH,GAAK,EAA4B,MAAS,EAA4B,OAAS,MAAG,2BAA4B,CAC1G,GAAM,GAAe,GAAG,MAAG,kBAC3B,MAAQ,GAA4B,KAAK,MAAM,CAAY,EAAE,EACjE,KAAO,IAAK,kBAA6B,QAAS,MAAG,2BACjD,MAAO,eAAW,cACf,GACF,EAA6C,QAC7C,EAA6C,SAE9C,MAAO,eAAW,WAE1B,CAZgB,sBAchB,YAAiC,EAAuB,EAAyB,GAAe,CAC5F,GAAM,GAAoB,GAAG,EAAiB,QAAQ,EAAiB,YACvE,MAAO,GAAG,AAAC,EAA+B,GAAN,MAChC,EAAiB,UAAY,EAAoB,EAAiB,MAE1E,CALS,gCAaF,YAAmB,EAAmB,EAAwD,CACjG,GAAI,CAAC,EACD,OAEJ,GAAI,GAAiB,EAAgB,WAAW,KAAK,AAAC,GAC3C,EAAU,YAAc,CAClC,EACD,MAAK,IACD,GAAiB,EAAgB,WAAW,KAAK,AAAC,GACvC,EAAU,QAAU,CAC9B,GAEA,GACD,GAAiB,EAAgB,WAAW,KAAK,AAAC,GAE1C,EAAU,MAAM,YAAY,IAC5B,EAAU,MAAM,OAAO,EAAE,EAAU,MAAM,OAAO,EAAE,OAAS,GAAG,YAAY,CAEjF,GAEE,iBAAgB,KAC3B,CArBgB,kBA8BhB,YACI,EACA,EACA,EACG,CA3VP,MA4VI,GAAM,GAAqB,EAAgB,EAAgB,OAAS,GAC9D,EAAa,EAAmB,UAAU,EAAmB,YAAY,GAAG,EAAI,EAAG,EAAmB,MAAM,EAC5G,EAAQ,GACV,EAAmB,UAAU,EAAG,EAAmB,YAAY,GAAG,CAAC,EAAE,QAAQ,IAAK,EAAE,EACpF,CACJ,EACA,MAAO,oBAAY,YAAY,KAAxB,cAAiC,EAC5C,CAZS,kCAoBT,YAAmB,EAAa,EAA2B,EAAyC,CAChG,GAAM,GAAU,EAAgB,EAAgB,OAAS,GAAG,MAAM,GAAG,EAAE,GACvE,GAAI,EAAQ,SAAS,WAAW,EAAG,CAC/B,GAAM,GAAY,EAAI,MAAM,IAAI,EAChC,EAAU,EAAU,OAAS,GAAK,GAAG,AAAC,EAA+B,GAAN,MAAW,qBAAkB,WAC5F,EAAM,EAAU,KAAK,IAAI,CAC7B,KACI,GAAM,EAAQ,QAAQ,MAAO,GAAG,AAAC,EAA+B,GAAN,+BAAoC,EAElG,MAAO,EACX,CAVS,kBAYT,YACI,EACA,EACA,EACA,EACA,EAAe,wBAAqB,GACpC,EAAyB,GAC0D,CA9XvF,MA+XI,GAAI,GAAiB,GACjB,EACE,EAAkB,EAAc,MAAM,GAAG,EACzC,EAAa,EAAgB,OAAS,EAC5C,AAAI,GACA,GAAa,KAAW,YAAY,EAAc,UAAU,EAAG,EAAc,YAAY,GAAG,CAAC,CAAC,IAAjF,cAAoF,YAErG,EAAM,GAAU,EAAK,EAAiB,CAAsB,EAE5D,GAAM,GAAmB,GAA0B,EAAiB,EAAY,CAAe,EAC/F,GAAI,EAAkB,CAClB,GAAM,GAAY,IAAiB,wBAAqB,GAAK,KAAO,IACpE,EAAM,GAAwB,EAAkB,CAAsB,EAAE,QAAQ,IAAK,CAAS,EAC9F,EAAY,EAAiB,mBAAmB,MAAM,GAAG,EAAE,EAC/D,KACI,UAAiB,GACV,CAAE,MAAK,aAAY,iBAAgB,WAAU,EAGxD,GAAI,EAAY,CACZ,GAAM,GAAe,IAAiB,wBAAqB,GAAK,KAAO,IACvE,EAAgB,IAAI,EAEpB,EAAM,GADgB,CAAC,GAAG,CAAe,EAAE,KAAK,CAAY,IACnC,IAAe,GAC5C,CACA,MAAO,CAAE,MAAK,aAAY,iBAAgB,WAAU,CACxD,CAlCS,4CA6CF,YACH,EACA,EACA,EACA,EACA,EAAe,wBAAqB,GACpC,EAAyB,GACD,CA3a5B,MA6aI,GAAM,GAAY,EAAgB,mBAAmB,UAAU,EAAgB,mBAAmB,YAAY,GAAG,CAAC,EAC9G,EAAc,EAAgB,GAAK,EAAgB,GAAG,SAAS,EAAI,EACnE,EAAY,KAAgB,qBAAhB,cAAoC,MAAM,KAAK,GAC3D,EAAa,EAGjB,GAAI,EAAgB,QAAU,qBAAkB,iBAAmB,UAAY,GAAiB,CAC5F,GAAM,GAAgB,GAA2B,EAAgB,MAAM,EACvE,GAAI,CAAC,EAAe,CAChB,GAAI,EAAQ,CACR,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,WAAY,CAAE,OAAQ,EAAgB,MAAO,CAAC,CACrE,CAAC,EACD,MACJ,CACA,GAAM,CACF,IAAK,EACL,WAAY,EACZ,iBACA,UAAW,GACX,GACA,EACA,EACA,EACA,EACA,EACA,CACJ,EACA,GAAI,EACA,OAEJ,EAAM,EACN,EAAa,EACb,EAAY,CAChB,CAEA,GADA,EAAM,EAAI,QAAQ,OAAQ,IAAI,EAC1B,EACA,MAAO,WACH,OACI,EAAgB,OAAS,CAAE,MAAO,EAAgB,MAAM,SAAS,CAAE,GACnE,EAAgB,IAAM,CAAE,GAAI,EAAgB,GAAG,SAAS,CAAE,GAH3D,CAIH,aACA,WACJ,EAIR,CAxDgB,wBAqET,GAAM,IAA6B,GACtC,EACA,EACA,EACA,IACqB,CACrB,GAAI,CAAC,EACD,OAEJ,GAAI,GAAkB,EAChB,EAAe,EAAK,MAAM,GAAG,EACnC,OAAS,GAAQ,EAAG,EAAQ,EAAa,OAAQ,IAAS,CACtD,GAAM,GAAU,EAAa,GAC7B,GAAI,IAAY,KACZ,SAEJ,GAAM,GACF,GAA2B,IAA4B,EACjD,EACA,EAAQ,QAAQ,KAAM,GAAG,EAEnC,AAAK,EAAgB,IACjB,CAAI,EAAa,EAAQ,KAAO,KAC5B,EAAgB,GAAkB,CAAC,EAEnC,EAAgB,GAAkB,CAAC,GAG3C,EAAkB,EAAgB,EACtC,CACA,MAAO,EACX,EA/B0C,8BAiCnC,YAAsC,EAAgD,CACzF,GAAI,GAAW,EAAQ,EACvB,OAAQ,EAAe,WACd,sBAAkB,UACnB,EAAY,GAA2B,EAAe,KAAK,EAC3D,UACC,sBAAkB,iBACnB,EACI,MAAO,GAAe,OAAU,SAC1B,EAAe,MACf,GAA2B,EAAe,KAAK,EACzD,UACC,sBAAkB,uBACnB,EAAS,EAAe,OAAO,MAC3B,GACA,GACI,qCACA,EACK,QAAQ,MAAO,6BAA6B,EAC5C,QAAQ,iBAAkB,wCAAwC,EAClE,QAAQ,WAAY,kCAAkC,GAEnE,UACC,sBAAkB,mBACnB,AAAI,EAAe,QACf,GAAY,iCAAiC,GAAW,EAAe,MAAgB,KAE3F,UACC,sBAAkB,mCACnB,EAAQ,GAA2B,EAAe,KAAK,EACvD,EAAY,mDAAmD,wBAA4B,EAAe,6BAA6B,EAAe,SACtJ,UACC,sBAAkB,kCACnB,AAAI,EAAe,QACf,GAAY,wDACR,EAAe,6BACJ,GAAW,EAAe,MAAgB,KAE7D,UACC,sBAAkB,4BACnB,EAAQ,GAA2B,EAAe,KAAK,EACvD,EAAS,GAA2B,EAAe,MAAM,EACzD,EAAY,4CAA8C,EAAQ,eAAiB,EACnF,cAEA,MAGR,MAAO,EACX,CAjDgB,qCA0DhB,YAA6B,EAAc,EAAe,EAAuD,CAC7G,MAAI,GAAK,SAAS,qBAAkB,KAAK,GAAK,EAAK,SAAS,EAAQ,QAAQ,EACjE,qBAAkB,MAClB,EAAK,SAAS,qBAAkB,cAAc,GAAK,EAAK,SAAS,EAAQ,iBAAiB,EAC1F,qBAAkB,eACjB,GAAc,EAAK,SAAS,qBAAkB,QAAQ,GAAM,EAAK,SAAS,EAAQ,WAAW,EAC9F,qBAAkB,SAClB,EAAK,SAAS,qBAAkB,UAAU,GAAK,EAAK,SAAS,EAAQ,aAAa,EAClF,qBAAkB,WAClB,EAAK,SAAS,qBAAkB,SAAS,GAAK,EAAK,SAAS,EAAQ,YAAY,EAChF,qBAAkB,UAClB,EAAK,SAAS,qBAAkB,mBAAmB,GAAK,EAAK,SAAS,EAAQ,sBAAsB,EACpG,qBAAkB,oBAEzB,MAER,CAhBS,4BAyBT,YAAwC,EAAc,EAAyD,CAC3G,MAAI,GAAK,SAAS,+CAA+C,GAAK,EAAK,SAAS,EAAQ,UAAU,EAC3F,gCAA6B,QAC7B,EAAK,SAAS,+CAA+C,GAAK,EAAK,SAAS,EAAQ,UAAU,EAClG,gCAA6B,QAEpC,MAER,CARS,uCAiBT,YACI,EACA,EACA,EAC4D,CAC5D,MAAO,IAAoB,EAAM,EAAO,CAAU,GAAK,GAA+B,EAAM,CAAK,CACrG,CANS,0BAiBT,YACI,EACA,EACA,EACA,EACA,EACA,EAAe,wBAAqB,GACpC,EACI,CAvoBR,sBAwoBI,GAAM,GAAQ,GAAU,gBAAc,CAAe,EACjD,EAAO,EAAU,EAAQ,IAAM,GAC7B,EAAmB,EAAQ,WAGjC,OAFuB,GAAkB,EAAM,EAAO,CAAU,OAGvD,sBAAkB,MAAO,CAC1B,EAAO,GAAQ,CAAE,KAAM,aAAU,KAAM,EACvC,EAAO,GAAM,OAAS,oBAAkB,SAAlB,cAA0B,QAChD,EAAO,GAAM,WAAa,EAC1B,EAAO,GAAM,UAAY,EAAQ,UACjC,KACJ,KACK,sBAAkB,eAAgB,CACnC,EAAO,GAAQ,CAAE,KAAM,aAAU,cAAe,EAChD,EAAO,GAAM,OAAS,oBAAkB,SAAlB,cAA0B,QAChD,EAAO,GAAM,WAAa,EAC1B,EAAO,GAAM,UAAY,EAAQ,UACjC,KACJ,KACK,sBAAkB,SAAU,CAC7B,GAAI,CAAC,EAAK,SAAS,qBAAkB,QAAQ,GAAK,EAAK,SAAS,WAAW,EAAG,CAC1E,GAAM,GAAY,EAAK,MAAM,IAAI,EACjC,EAAU,EAAU,OAAS,GAAK,IAAI,qBAAkB,WACxD,EAAO,EAAU,KAAK,IAAI,CAC9B,CACA,EAAO,GAAQ,CAAE,KAAM,aAAU,QAAS,EAC1C,EAAO,GAAM,OAAS,oBAAkB,SAAlB,cAA0B,QAChD,EAAO,GAAM,WAAa,EAC1B,EAAO,GAAM,UAAY,EAAQ,UACjC,KACJ,KACK,sBAAkB,WAAY,CAC/B,EAAO,GAAQ,CAAE,KAAM,aAAU,IAAK,EACtC,EAAO,GAAM,OAAS,oBAAkB,SAAlB,cAA0B,QAChD,EAAO,GAAM,WAAa,EAC1B,EAAO,GAAM,UAAY,EAAQ,UACjC,KACJ,KACK,sBAAkB,UAAW,CAC9B,EAAO,GAAQ,CAAE,KAAM,aAAU,SAAU,EAC3C,EAAO,GAAM,MAAQ,oBAAkB,SAAlB,cAA0B,QAAQ,MACvD,EAAO,GAAM,OAAS,oBAAkB,SAAlB,cAA0B,QAChD,EAAO,GAAM,WAAa,EAC1B,EAAO,GAAM,UAAY,EAAQ,UACjC,KACJ,KACK,sBAAkB,oBAAqB,CACxC,EAAO,GAAQ,CAAE,KAAM,aAAU,mBAAoB,EACrD,EAAO,GAAM,OAAS,oBAAkB,SAAlB,cAA0B,QAChD,EAAO,GAAM,WAAa,EAC1B,EAAO,GAAM,UAAY,EAAQ,UACjC,KACJ,KACK,iCAA6B,QAAS,CACvC,EAAO,GAAQ,CAAE,KAAM,aAAU,OAAQ,EACzC,EAAO,GAAM,OAAS,oBAAkB,SAAlB,cAA0B,QAChD,EAAO,GAAM,WAAa,EAC1B,EAAO,GAAM,UAAY,EAAQ,UACjC,KACJ,KACK,iCAA6B,QAAS,CACvC,EAAO,GAAQ,CAAE,KAAM,aAAU,OAAQ,EACzC,EAAO,GAAM,OAAS,oBAAkB,SAAlB,cAA0B,QAChD,EAAO,GAAM,WAAa,EAC1B,EAAO,GAAM,UAAY,EAAQ,UACjC,KACJ,SAEI,EAAO,GAAQ,CAAE,KAAM,aAAU,OAAQ,EAIjD,AAAI,EAAO,IACP,GAAO,GAAM,eAAiB,IAAI,EAAiB,mBAAmB,QAClE,wBACA,eACJ,IACI,EAAiB,OACjB,GAAO,GAAM,MAAQ,EAAiB,OAG1C,AAAI,EAAiB,GACjB,EAAO,GAAM,GAAQ,EAAiB,GAC/B,IAAiB,wBAAqB,IAC7C,GAAI,EAAQ,CACR,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,eAAgB,CAAE,MAAO,EAAiB,kBAAmB,CAAC,CACrF,CAAC,EAED,GAAW,EAAQ,YACnB,GAAO,GAAM,WAAa,EAAQ,YAG9C,CAvGS,iCAmHT,YACI,EAIA,EACA,EACA,EACA,EACA,EAAe,wBAAqB,GACpC,EACI,CA7vBR,MA8vBI,GAAM,GAAwB,GAC1B,EACA,EACA,EACA,EACA,EACA,EACJ,EACA,GAAI,EACA,OAAQ,EAAiB,WAChB,sBAAkB,eAAgB,CACnC,GACI,EACA,EACA,EACA,EACA,EACA,EACA,CACJ,EACA,KACJ,KACK,sBAAkB,gBAAiB,CACpC,GAAM,GAAiB,IAAI,EAAW,sBAClC,EAAiB,mBAAmB,MAAM,EAAW,kBAAkB,EAAE,KAEvE,EAAS,EAAO,EAAQ,KAAO,CACjC,KAAM,aAAU,gBAChB,OAAQ,CAAC,EACT,GAAI,EAAQ,GACZ,eAAgB,EAChB,MAAO,EAAQ,MACf,UAAW,EAAQ,SACvB,EACA,KAAiB,SAAjB,QAAyB,QAAQ,AAAC,GAAmB,CACjD,GACI,EACA,EACA,EACA,EACA,EAAM,OACN,EACA,CACJ,CACJ,GACA,KACJ,EAGZ,CA7DS,yBAsEF,YACH,EACA,EACA,EAAe,wBAAqB,GACpC,EACwB,CACxB,GAAM,GAAuB,CAAC,EAC9B,GAAI,CAAC,GAAc,CAAC,EAAW,YAC3B,OAEJ,GAAM,GAAQ,GAAU,gBAAc,CAAe,EAC/C,EAAkB,GAAS,EAAW,YAAY,IAAU,EAAW,YAAY,GAAO,aAChG,GAAI,EAAiB,CACjB,GAAM,GAAU,EAAW,mBAAmB,YAAY,GAAG,EACvD,EAAc,EAAW,mBAAmB,UAAU,EAAG,CAAO,EAGtE,EAAgB,QAAQ,AAAC,GAAS,CAC9B,GAAiB,EAAM,EAAiB,EAAa,EAAY,EAAQ,EAAc,CAAM,CACjG,CAAC,CACL,CACA,MAAO,EACX,CAtBgB,kCA+BT,YACH,EACA,EACA,EAAe,wBAAqB,GACpC,EACwB,CACxB,GAAM,GAAuB,CAAC,EAC9B,GAAI,CAAC,GAAc,CAAC,EAAW,YAC3B,OAEJ,GAAM,GAAQ,GAAU,gBAAc,CAAe,EAC/C,EAAkB,GAAS,EAAW,YAAY,IAAU,EAAW,YAAY,GAAO,OAChG,GAAI,EAAiB,CACjB,GAAM,GAAU,EAAW,mBAAmB,YAAY,GAAG,EACvD,EAAc,EAAW,mBAAmB,UAAU,EAAG,CAAO,EAGtE,EAAgB,QAAQ,AAAC,GAAS,CAC9B,GAAiB,EAAM,EAAiB,EAAa,EAAY,EAAQ,EAAc,CAAM,CACjG,CAAC,CACL,CACA,MAAO,EACX,CAtBgB,4BA4BT,YAAgC,EAA0C,CAC7E,MAAI,GAAS,mBAAgB,UAAY,EAAS,mBAAgB,KACvD,wBAAqB,GAErB,wBAAqB,EAEpC,CANgB,+BAcT,YAA6B,EAAoB,EAAmD,CACvG,GAAI,GACJ,GAAI,EAAS,mBAAgB,SAAU,CACnC,GAAM,GAAU,EAAS,mBAAgB,SAAS,MAClD,GAAI,CAAC,EAAS,CACV,GAAI,EAAQ,CACR,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,UAAW,CAAE,MAAO,EAAS,WAAW,EAAM,CAAC,EAClE,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,OAAO,CACnC,CACJ,CAAC,EACD,MACJ,CACA,OAAW,KAAW,GAAS,CAC3B,GAAM,GAAS,EAAQ,GACvB,GAAI,GAAc,EAAO,UAAU,IAAI,IAAM,YAAS,mBAAoB,CACtE,EAAe,gBAAa,qBAC5B,KACJ,SAAW,GAAc,EAAO,UAAU,IAAI,IAAM,YAAS,WAAY,CACrE,EAAe,gBAAa,uBAC5B,KACJ,CACJ,CACJ,KACI,AAAK,IACD,GAAI,EAAQ,CACR,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,aAAc,CAAE,QAAS,mBAAgB,OAAQ,CAAC,EACrE,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,OAAO,CACnC,CACJ,CAAC,EAGT,MAAO,EACX,CAtCgB,4BA6ChB,YAAsC,EAA8D,CA96BpG,YA+6BI,GAAI,GACJ,OAAW,KAAW,GAAS,CAC3B,GAAM,GAAS,EAAQ,GACjB,EAAW,GAAc,CAAM,EACrC,GAAI,IAAa,cAAW,mBAAoB,CAC5C,EAAe,gBAAa,qBAC5B,KACJ,SAAW,IAAa,cAAW,WAAY,CAC3C,GAAM,GAAY,cAAO,UAAP,cAAgB,WAAhB,cAA0B,QAA1B,cAAiC,QAAjC,cAA+D,GACjF,AAAI,GAAa,GAAS,eAAY,UAAY,EAAS,eAAY,YACnE,EAAe,gBAAa,qBAE5B,EAAe,gBAAa,uBAEhC,KACJ,SAAW,IAAa,cAAW,WAC/B,EAAe,gBAAa,+BAErB,CAAC,cAAW,WAAY,cAAW,aAAa,EAAE,SAAS,CAAQ,EAAG,CAC7E,EAAe,gBAAa,gBAC5B,KACJ,CACJ,CACA,MAAO,EACX,CAzBS,qCAiCF,YAA6B,EAAoB,EAAmD,CACvG,GAAM,GACF,EAAS,mBAAgB,KAAK,SAC7B,EAAS,mBAAgB,KAAK,QAAQ,QAE3C,GAAI,CAAC,GAAW,OAAO,KAAK,CAAO,EAAE,SAAW,EAC5C,UAAI,EAAQ,CACR,SAAU,eAAY,KACtB,QAAS,GAAQ,EAAE,UAAW,CAAE,MAAO,EAAS,WAAW,EAAM,CAAC,EAClE,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,IAAK,SAAS,CAC1C,CACJ,CAAC,EACM,gBAAa,uBAGxB,GAAM,GAAe,GAA6B,CAAO,EACzD,MAAK,IACD,GAAI,EAAQ,CACR,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,aAAc,CAAE,QAAS,mBAAgB,GAAI,CAAC,EACjE,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,IAAK,UAAW,SAAS,CACrD,CACJ,CAAC,EAEE,CACX,CA7BgB,4BAsCT,YACH,EACA,EACA,EACwB,CACxB,GAAI,GACJ,MAAI,GAAS,mBAAgB,KACzB,EAAe,gBAAa,eACzB,AAAI,IAAyB,wBAAqB,GACrD,EAAe,GAAoB,EAAU,CAAM,EAChD,AAAI,IAAyB,wBAAqB,GACrD,EAAe,GAAoB,EAAU,CAAM,EAE9C,GACD,GAAI,EAAQ,CACR,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,MAAM,EACzB,SAAU,CACN,KAAM,eACV,CACJ,CAAC,EAGF,CACX,CAxBgB,oCAgCT,YAAuC,EAAoB,EAAqB,EAAwB,CAC3G,AAAI,WAAO,GACP,GAAQ,MAAQ,oBAAmB,EAAM,GACzC,EAAQ,aAAU,MAAQ,CAAC,CAAE,KAAM,iBAAc,GAAI,MAAO,EAAM,EAAG,CAAC,GAEtE,EAAQ,MAAQ,EAAS,QAAQ,YAAa,SAAS,EAG3D,AAAI,WAAO,MACP,EAAQ,YAAc,EAAM,MACzB,AAAI,WAAO,GACd,EAAQ,YAAc,EAAM,GAE5B,EAAQ,YAAc,EAAS,UAAU,EAAS,YAAY,GAAG,EAAI,CAAC,CAE9E,CAfgB,sCAuBT,YAA6C,EAAoB,EAAqB,EAAwB,CA5iCrH,MA6iCI,GAA8B,EAAO,EAAS,CAAQ,EACtD,AAAI,WAAO,MACP,EAAQ,YAAc,iBAAO,MAC1B,AAAI,WAAQ,MACf,EAAQ,YAAc,EAAM,MACrB,oBAAO,SAAP,QAAgB,OACvB,GAAQ,YAAc,EAAM,OAAO,MAE3C,CATgB,4CAgBT,YAA8B,EAAuB,EAAoB,EAA8B,CAC1G,GAAI,CAAC,EACD,OAEJ,GAAI,GACJ,MAAI,GAAU,YAAY,kBAEtB,EAAU,KAAK,MAAM,KAAK,UAAU,EAAU,YAAY,iBAAiB,CAAC,EAE5E,GAAU,CACN,KAAM,SACN,WAAY,CAAC,EACb,qBAAsB,EAC1B,EACA,EAAQ,aAAU,YAAc,IAEpC,EAAQ,aAAU,gBAAkB,EAAM,eAC1C,GAA8B,EAAO,EAAS,CAAQ,EAC/C,CACX,CAnBgB,6BA8BT,YACH,EACA,EACA,EACA,EAAe,wBAAqB,GACpC,EAA0B,GACZ,CACd,GAAM,GAAQ,GAAU,gBAAc,CAAe,EACjD,EAA2B,CAAC,EAChC,GAAI,EAAY,CACZ,GAAM,GACF,GAAS,EAAW,aAAe,EAAW,YAAY,IAAU,EAAW,YAAY,GAAO,OAEtG,MAAI,IACA,GAAW,EAAgB,OAAO,SAC9B,EACA,EAIF,CACE,GAAI,GAA2B,CAAC,EAAK,IAAS,CAAE,WAAY,IAAQ,EAAK,QACrE,MAAO,GAEX,GAAM,GAAwB,GAC1B,EACA,EACA,EACA,EACA,EACA,EACJ,EACA,MAAI,IACA,EAAO,KAAK,CAAO,EAEhB,CACX,EACA,CAAQ,GAEL,CACX,CACJ,CAzCgB,kCAkDT,GAAM,IAAuB,GAChC,EACA,EACA,EACA,IACO,CACP,GAAI,CAAC,EACD,OAEJ,GAAI,GAAkB,EAChB,EAAY,EAAK,MAAM,GAAG,EAChC,EAAU,QAAQ,SAAU,EAAS,CACjC,GAAM,GACF,GAA2B,IAA4B,EACjD,EACA,EAAQ,QAAQ,KAAM,GAAG,EACnC,GAAI,EAAC,EAAgB,GAGrB,IAAI,OAAO,KAAK,EAAgB,EAAe,EAAE,SAAW,EAAG,CAC3D,AAAI,MAAM,QAAQ,CAAe,EAC7B,EAAgB,OAAO,OAAO,CAAc,EAAG,CAAC,EAEhD,MAAO,GAAgB,GAE3B,EAAU,IAAI,EACd,GAAqB,EAAU,EAAU,KAAK,GAAG,EAAG,EAAkB,CAAuB,EAC7F,MACJ,CACA,EAAkB,GAAmB,EAAgB,GACzD,CAAC,CACL,EA/BoC,wBAsC9B,GAA2B,EAAC,GAC1B,IAAe,cAAW,cACnB,YAAS,WAEb,GAAG,IAJmB,4BAapB,GAAoB,GAC7B,EACA,IACiB,CACjB,GAAM,GAA6B,CAC/B,SAAU,GACV,KAAM,EACV,EACA,OAAQ,OAEC,eAAW,YAAa,CAEzB,EAAW,SAAW,MAEtB,EAAW,KAAO,KAAK,WAAQ,WAAW,EAAW,WACrD,KACJ,KAEK,eAAW,eACX,eAAW,WAAY,CAExB,EAAW,SAAW,EAAY,GAAG,KAAc,IAAc,GAAyB,CAAU,EAEpG,EAAW,KAAO,MAAM,WAAQ,WAAW,EAAW,WACtD,KACJ,KACK,eAAW,cAAe,CAE3B,EAAW,SAAW,GAAyB,cAAW,UAAU,EAEpE,EAAW,KAAO,MAAM,WAAQ,WAAW,EAAW,WACtD,KACJ,SAES,CAEL,EAAW,SAAW,GAAyB,CAAU,EAEzD,EAAW,KAAO,MAAM,WAAQ,WAAW,EAAW,WACtD,KACJ,EAEJ,SAAW,MAAQ,QACZ,CACX,EA5CiC,qBAuD1B,YAAwB,EAAiC,EAAmB,EAAyB,CACxG,GAAI,IAAa,YAAS,WAAY,CAClC,GAAM,GAAQ,GAAU,EAAO,MAAM,GAAG,EACxC,MAAO,IAAS,EAAM,EAAM,OAAS,GAAK,MAC9C,CACA,GAAM,GAAkB,CAAC,EACzB,SAAM,KAAK,CAAQ,EACf,GACA,EAAM,KAAK,CAAS,EAEjB,EAAM,KAAK,GAAG,CACzB,CAXgB,uBAmBhB,YACI,EACA,EACA,EACA,EACF,CACE,GAAM,GAAO,EAAQ,KACrB,GAAI,EAAM,CACN,GAAM,GAAgB,EAAK,MAAM,EAAsB,EAAE,GACzD,GAAI,EAAU,YAAY,GAAgB,CACtC,GAAM,GAAkB,EAAU,YAAY,GAAe,gBAC7D,AAAI,EAAK,SAAS,EAAoB,EAAgB,GAClD,EAAgB,KAAK,CAAa,CAE1C,CACJ,CACJ,CAhBS,oCA0BT,YACI,EACA,EACA,EACK,CACL,GAAM,GAAkB,CAAC,EACzB,GAAI,EAAmB,KACnB,EAAgB,KAAK,EAAmB,KAAK,MAAM,EAAsB,EAAE,EAAE,UACtE,EAAmB,OACtB,IACA,EAAmB,MAAM,QAAQ,AAAC,GAAY,CAC1C,GAA4B,EAAuB,EAAW,EAAqB,CAAe,CACtG,CAAC,EAED,EAAgB,SAAW,GAC3B,OAGR,MAAO,EACX,CAnBS,wCAkCT,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACc,CA90ClB,YA+0CI,GAAI,GAAiC,CACjC,aAAc,OACd,iBAAkB,CAAC,EACnB,MAAO,EACX,EACA,GAAI,EAAgB,OAAQ,CACxB,GAAM,GAAiB,EAAgB,EAAgB,OAAS,GAGhE,GAFA,EAAe,iBAAmB,EAAU,YAAe,GAEvD,qBAAgB,mBAAhB,cAAmC,OAAW,qBAAgB,mBAAhB,cAAmC,QAAY,QAE7F,SAAiB,GACb,EACA,EACA,EACA,EAAe,iBACf,EACA,EACA,CACJ,EACO,EAEX,AAAI,EAAgB,OAAS,GACzB,EAAgB,QAAQ,AAAC,GAAY,CACjC,AAAI,IAAY,IACZ,GAAe,iBAAiB,WAAgB,SACzC,EAAe,iBAAiB,YAChC,EAAU,YAAe,GAAS,YAGjD,CAAC,EAEL,EAAe,MAAQ,oBAAgB,mBAAhB,QAAmC,MACpD,EAAe,iBAAiB,MAChC,EACN,GAAM,GAAa,iBAAgB,MAAM,KAAK,GACxC,EAAe,GAA4C,CAAC,EAClE,EAAe,aAAe,EAAQ,eAClC,EACA,EACA,EACA,oBAAgB,mBAAhB,cAAmC,eACvC,CACJ,KAEI,GAAe,iBAAmB,EAClC,EAAe,MAAQ,EAAe,iBAAiB,MACjD,EAAe,iBAAiB,MAChC,EACN,EAAe,aAAe,EAElC,MAAO,EACX,CA9DS,mDA0EF,YACH,EACA,EACA,EACA,EACA,EACA,EACA,EACc,CACd,GAAI,GACJ,GAAI,EAAmB,OAAY,QAC/B,SAAiB,GACb,EACA,EACA,EACA,EAAmB,MACnB,EACA,EACA,CACJ,EACO,EAEX,GAAM,GAAkB,GAAgC,EAAoB,EAAqB,CAAS,EAC1G,GAAI,EAAC,EAGL,SAAiB,GACb,EACA,EACA,EACA,EACA,EACA,EACA,EACA,CACJ,EACO,CACX,CArCgB,gCA+CT,GAAM,IAAoB,GAAC,EAAQ,EAAQ,IAAsB,CACpE,GAAM,GAAc,EAAO,MAAM,EACjC,SAAO,QAAQ,CAAC,EAAM,IAAU,CAC5B,AAAI,MAAO,GAAY,GAAW,IAC9B,EAAY,GAAS,EAAQ,8BAA8B,EAAM,CAAO,EACrE,AAAI,EAAQ,kBAAkB,CAAI,EACrC,EAAY,GAAS,eAAM,EAAO,GAAQ,EAAM,CAAO,EAChD,EAAO,QAAQ,CAAI,IAAM,IAChC,EAAY,KAAK,CAAI,CAE7B,CAAC,EACM,CACX,EAZiC,qBAoB1B,YAA0B,EAAiB,EAAY,EAAmB,CAC7E,EAAgB,GAAO,KAAK,MAAM,KAAK,UAAU,EAAW,EAAI,CAAC,EAEjE,GAAM,GAAQ,EAAW,GACzB,EAAgB,GAAO,EAAM,KAAK,CACtC,CALgB,yBAYT,YAAoC,EAA0B,CACjE,MAAQ,GAAS,QAAQ,IAAI,EAAI,GAAK,EAAS,MAAM,IAAI,EAAE,GAAK,GAAU,QAAQ,KAAM,IAAI,CAChG,CAFgB,mCAST,YAA0B,EAAsB,CACnD,MAAO,kBAAM,MAAM,IAAwB,EAC/C,CAFgB,yBar+ChB,OAAqD,sDASrD,GAeO,SCxBP,OAMO,SAQA,GAAM,IAA2B,GAAC,EAAgB,IAC9C,EAAS,EAAc,KAAK,IAAI,EADH,4BAU3B,GAAwB,GAAC,EAAgB,EAAyB,IACpE,EAAS,EAAc,KAAK,IAAI,EAAI,EAAY,GADtB,yBAWxB,GAAmB,GAAC,EAAmB,IAA0B,CAC1E,GAAI,GACE,EAAiB,oBACvB,MAAI,KAAU,QAAa,EAAM,SAAS,CAAM,EAC5C,EAAqB,EAAM,MAAM,CAAM,EAAE,GAEzC,EAAqB,EAAU,QAAQ,GAAI,QAAO,KAAM,GAAG,EAAG,IAAI,EAAE,QAAQ,YAAa,SAAS,EAE/F,CACX,EATgC,oBAWzB,YAAkB,EAAwB,CAI7C,MAAO,GAAO,QAAQ,oBAAqB,SAAU,EAAG,CACpD,GAAM,GAAQ,EAAE,WAAW,CAAC,EAAE,SAAS,EAAE,EACzC,MAAO,IAAI,EAAM,SAAW,EAAI,IAAM,KAAK,GAC/C,CAAC,CACL,CARgB,iBAYT,GAAK,IAAL,CAAK,GACR,YAAW,iBACX,cAAc,uBAFN,YAYZ,YAAwB,EAAyB,EAA4B,EAAe,CACxF,GAAI,GACJ,SAAgB,EAAc,IAAI,SAAU,EAAM,CAC9C,GAAI,IAAS,gBAAa,UACtB,OAAS,GAAQ,EAAG,EAAQ,EAAiB,OAAQ,IAEjD,GAAI,AADe,EAAiB,KACjB,gBAAa,UAC5B,GAAY,EAAiB,EAAQ,GACjC,EAAU,QAAQ,aAAU,QAAQ,IAAM,IAC1C,SAAiB,EAAQ,GAAK,GAAiB,EAAW,CAAK,EAAI,UAC5D,EAAiB,EAAQ,GAKhD,MAAO,EACX,CAAC,EACM,CAAE,eAAc,CAC3B,CAlBS,uBA4BF,GAAM,IAAuB,GAChC,EACA,EACA,EACA,EACA,IACS,CACT,GAAI,GAAU,aACR,EAAmB,CAAC,GAAG,CAAW,EAExC,AAAC,EAAE,eAAc,EAAI,GAAe,EAAe,EAAkB,CAAK,GAC1E,AAAI,EAAiB,KAAO,gBAAa,SACrC,EAAU,EAAiB,GACtB,QAAQ,0BAA2B,eAAY,EAC/C,QAAQ,2BAA4B,eAAY,EAC9C,EAAc,KAAO,gBAAa,OACzC,GAAU,EAAc,IAE5B,GAAM,GAAa,EAAiB,EAAiB,OAAS,GACzD,QAAQ,0BAA2B,eAAY,EAC/C,QAAQ,2BAA4B,eAAY,EAChD,QAAQ,YAAa,YAAY,EACjC,QAAQ,IAAK,KAAK,EACnB,EACE,EAAa,EAAW,QAAQ,KAAK,EAC3C,MAAI,GAAW,WAAW,WAAW,GAAK,EAAa,GACnD,EAAS,GAAG,6BAAkC,EAAW,UACrD,EACA,CACJ,sBAAsB,EAAQ,QAAQ,UAAW,aAAa,OAAO,EAAW,UAAU,EAAa,CAAC,IAExG,EAAS,GAAG,IAAS,EAAc,KAAK,IAAI,KAAK,IAE9C,GAAS,CAAM,CAC1B,EAlCoC,wBAyCvB,GAA2B,EACpC,GAC6F,CAC7F,GAAM,GAAgB,EAAY,EAAY,OAAS,GAAG,MAAM,KAAK,EACjE,EAAY,EAAkB,EAClC,MAAI,GAAc,OAAS,EACvB,GAAa,EAAc,GAC3B,EAAmB,EAAc,GAAG,MAAM,IAAI,EAAE,GAChD,EAAW,EAAc,GAAG,MAAM,IAAI,EAAE,IACrC,AAAI,EAAc,SAAW,EAChC,GAAa,EAAc,GAC3B,EAAW,EAAc,GAAG,MAAM,WAAW,EAAE,IAE/C,EAAW,EAAc,GAEtB,CAAE,aAAY,mBAAkB,UAAS,CACpD,EAhBwC,4BAuBxC,YAA0B,EAAsC,CAC5D,GAAI,GAAU,gCACd,GAAI,EAAiB,KAAM,CACvB,GAAI,GACJ,EAAiB,KAAK,QAAQ,AAAC,GAAc,CACzC,AAAK,EAAU,SAAS,EAAE,WAAW,GAAG,GACpC,GAAc,EAAc,GAAG,KAAe,EAAU,SAAS,IAAM,EAAU,SAAS,EAElG,CAAC,EACD,EAAU,KAAK,OAAiB,GACpC,CACA,MAAI,GAAiB,MAAW,EAAiB,OAAY,WACzD,GAAU,kBAAkB,KAEzB,CACX,CAfS,yBAwBT,GAAM,IAAmC,GACrC,EACA,EACA,EACA,IACO,CACP,GAAM,GAAe,GAAc,EAAW,WAC9C,GAAI,EAAa,GAAc,QAC3B,OAEJ,GAAM,GAAqB,EAAa,GACpC,EAAmB,EACjB,EAAmB,EAAmB,KACtC,EAAO,YAAe,EAAmB,KAAK,MAAM,EAAsB,EAAE,IAC5E,EACA,EAAc,EAAmB,YAAc,EAAmB,YAAc,EAAiB,YACjG,EAAU,GAAiB,CAAgB,EACjD,AAAI,EAAiB,MAAW,EAAiB,OAAY,WACzD,GAAmB,CAAE,KAAM,CAAC,GAAO,EAAI,CAAE,GAEzC,GAAiB,EAAiB,MAClC,EAAc,QAAQ,AAAC,GAAU,CAC7B,AAAI,EAAiB,KAAQ,QAAQ,CAAK,IAAM,IAC5C,EAAiB,KAAQ,KAAK,CAAK,CAE3C,CAAC,EAEL,EAAa,GAAgB,CACzB,QAAS,EACT,MAAO,CACH,EACA,CACI,KAAM,QACV,CACJ,CACJ,EACI,GACA,GAAa,GAAc,YAAc,EACzC,MAAO,GAAmB,YAElC,EAxCyC,oCA0C5B,GAAqC,GAAC,EAAgB,EAAoB,IAA+B,CAClH,GAAiC,EAAQ,EAAY,CAAY,CACrE,EAFkD,sCAIrC,GAAqC,GAAC,EAAgB,EAAoB,IAA+B,CAClH,GAAM,GAAgB,OAAO,OAAO,EAAY,EAChD,GAAiC,EAAQ,EAAY,EAAc,CAAa,CACpF,EAHkD,sCC1OlD,AAcA,GAAI,IACJ,AAAC,UAAU,EAAS,CAGhB,AAAC,UAAU,EAAS,CAChB,GAAI,GAAO,MAAO,SAAW,SAAW,OACpC,MAAO,OAAS,SAAW,KACvB,MAAO,OAAS,SAAW,KACvB,SAAS,cAAc,EAAE,EACjC,EAAW,EAAa,CAAO,EACnC,AAAI,MAAO,GAAK,QAAY,IACxB,EAAK,QAAU,EAGf,EAAW,EAAa,EAAK,QAAS,CAAQ,EAElD,EAAQ,CAAQ,EAChB,WAAsB,EAAQ,EAAU,CACpC,MAAO,UAAU,EAAK,EAAO,CACzB,AAAI,MAAO,GAAO,IAAS,YACvB,OAAO,eAAe,EAAQ,EAAK,CAAE,aAAc,GAAM,SAAU,GAAM,MAAO,CAAM,CAAC,EAEvF,GACA,EAAS,EAAK,CAAK,CAC3B,CACJ,CARS,mBASb,GAAG,SAAU,EAAU,CACnB,GAAI,GAAS,OAAO,UAAU,eAE1B,EAAiB,MAAO,SAAW,WACnC,EAAoB,GAAkB,MAAO,QAAO,YAAgB,IAAc,OAAO,YAAc,gBACvG,EAAiB,GAAkB,MAAO,QAAO,SAAa,IAAc,OAAO,SAAW,aAC9F,EAAiB,MAAO,QAAO,QAAW,WAC1C,EAAgB,CAAE,UAAW,CAAC,CAAE,WAAa,OAC7C,EAAY,CAAC,GAAkB,CAAC,EAChC,EAAU,CAEV,OAAQ,EACF,UAAY,CAAE,MAAO,IAAe,OAAO,OAAO,IAAI,CAAC,CAAG,EAC1D,EACI,UAAY,CAAE,MAAO,IAAe,CAAE,UAAW,IAAK,CAAC,CAAG,EAC1D,UAAY,CAAE,MAAO,IAAe,CAAC,CAAC,CAAG,EACnD,IAAK,EACC,SAAU,GAAK,GAAK,CAAE,MAAO,GAAO,KAAK,GAAK,EAAG,CAAG,EACpD,SAAU,GAAK,GAAK,CAAE,MAAO,MAAO,GAAK,EAC/C,IAAK,EACC,SAAU,GAAK,GAAK,CAAE,MAAO,GAAO,KAAK,GAAK,EAAG,EAAI,GAAI,IAAO,MAAW,EAC3E,SAAU,GAAK,GAAK,CAAE,MAAO,IAAI,GAAM,CACjD,EAEI,EAAoB,OAAO,eAAe,QAAQ,EAClD,EAAc,MAAO,UAAY,UAAY,QAAQ,KAAO,QAAQ,IAAI,oCAAyC,OACjH,EAAO,CAAC,GAAe,MAAO,MAAQ,YAAc,MAAO,KAAI,UAAU,SAAY,WAAa,IAAM,GAAkB,EAC1H,EAAO,CAAC,GAAe,MAAO,MAAQ,YAAc,MAAO,KAAI,UAAU,SAAY,WAAa,IAAM,GAAkB,EAC1H,EAAW,CAAC,GAAe,MAAO,UAAY,WAAa,QAAU,GAAsB,EAG3F,EAAW,GAAI,GAwCnB,WAAkB,GAAY,GAAQ,GAAa,GAAY,CAC3D,GAAK,GAAY,EAAW,EAYvB,CACD,GAAI,CAAC,EAAQ,EAAU,EACnB,KAAM,IAAI,WACd,GAAI,CAAC,GAAc,EAAM,EACrB,KAAM,IAAI,WACd,MAAO,GAAoB,GAAY,EAAM,CACjD,KAlB+B,CAC3B,GAAI,CAAC,EAAQ,EAAU,EACnB,KAAM,IAAI,WACd,GAAI,CAAC,GAAS,EAAM,EAChB,KAAM,IAAI,WACd,GAAI,CAAC,GAAS,EAAU,GAAK,CAAC,GAAY,EAAU,GAAK,CAAC,GAAO,EAAU,EACvE,KAAM,IAAI,WACd,MAAI,IAAO,EAAU,GACjB,IAAa,QACjB,GAAc,EAAc,EAAW,EAChC,EAAiB,GAAY,GAAQ,GAAa,EAAU,CACvE,CAQJ,CApBS,gBAqBT,EAAS,WAAY,CAAQ,EA2C7B,WAAkB,GAAa,GAAe,CAC1C,YAAmB,GAAQ,GAAa,CACpC,GAAI,CAAC,GAAS,EAAM,EAChB,KAAM,IAAI,WACd,GAAI,CAAC,GAAY,EAAW,GAAK,CAAC,GAAc,EAAW,EACvD,KAAM,IAAI,WACd,EAA0B,GAAa,GAAe,GAAQ,EAAW,CAC7E,CANS,yBAOF,EACX,CATS,gBAUT,EAAS,WAAY,CAAQ,EAwC7B,WAAwB,GAAa,GAAe,GAAQ,GAAa,CACrE,GAAI,CAAC,GAAS,EAAM,EAChB,KAAM,IAAI,WACd,MAAK,IAAY,EAAW,GACxB,IAAc,EAAc,EAAW,GACpC,EAA0B,GAAa,GAAe,GAAQ,EAAW,CACpF,CANS,sBAOT,EAAS,iBAAkB,CAAc,EAmCzC,WAAqB,GAAa,GAAQ,GAAa,CACnD,GAAI,CAAC,GAAS,EAAM,EAChB,KAAM,IAAI,WACd,MAAK,IAAY,EAAW,GACxB,IAAc,EAAc,EAAW,GACpC,EAAoB,GAAa,GAAQ,EAAW,CAC/D,CANS,mBAOT,EAAS,cAAe,CAAW,EAmCnC,WAAwB,GAAa,GAAQ,GAAa,CACtD,GAAI,CAAC,GAAS,EAAM,EAChB,KAAM,IAAI,WACd,MAAK,IAAY,EAAW,GACxB,IAAc,EAAc,EAAW,GACpC,EAAuB,GAAa,GAAQ,EAAW,CAClE,CANS,sBAOT,EAAS,iBAAkB,CAAc,EAmCzC,WAAqB,GAAa,GAAQ,GAAa,CACnD,GAAI,CAAC,GAAS,EAAM,EAChB,KAAM,IAAI,WACd,MAAK,IAAY,EAAW,GACxB,IAAc,EAAc,EAAW,GACpC,EAAoB,GAAa,GAAQ,EAAW,CAC/D,CANS,mBAOT,EAAS,cAAe,CAAW,EAmCnC,WAAwB,GAAa,GAAQ,GAAa,CACtD,GAAI,CAAC,GAAS,EAAM,EAChB,KAAM,IAAI,WACd,MAAK,IAAY,EAAW,GACxB,IAAc,EAAc,EAAW,GACpC,EAAuB,GAAa,GAAQ,EAAW,CAClE,CANS,sBAOT,EAAS,iBAAkB,CAAc,EAkCzC,WAAyB,GAAQ,GAAa,CAC1C,GAAI,CAAC,GAAS,EAAM,EAChB,KAAM,IAAI,WACd,MAAK,IAAY,EAAW,GACxB,IAAc,EAAc,EAAW,GACpC,GAAqB,GAAQ,EAAW,CACnD,CANS,uBAOT,EAAS,kBAAmB,CAAe,EAkC3C,WAA4B,GAAQ,GAAa,CAC7C,GAAI,CAAC,GAAS,EAAM,EAChB,KAAM,IAAI,WACd,MAAK,IAAY,EAAW,GACxB,IAAc,EAAc,EAAW,GACpC,EAAwB,GAAQ,EAAW,CACtD,CANS,0BAOT,EAAS,qBAAsB,CAAkB,EAmCjD,WAAwB,GAAa,GAAQ,GAAa,CACtD,GAAI,CAAC,GAAS,EAAM,EAChB,KAAM,IAAI,WACd,AAAK,GAAY,EAAW,GACxB,IAAc,EAAc,EAAW,GAC3C,GAAI,IAAc,EAAuB,GAAQ,GAAwB,EAAK,EAG9E,GAFI,GAAY,EAAW,GAEvB,CAAC,GAAY,OAAO,EAAW,EAC/B,MAAO,GACX,GAAI,GAAY,KAAO,EACnB,MAAO,GACX,GAAI,IAAiB,EAAS,IAAI,EAAM,EAExC,MADA,IAAe,OAAO,EAAW,EAC7B,GAAe,KAAO,GAE1B,EAAS,OAAO,EAAM,EACf,EACX,CAlBS,sBAmBT,EAAS,iBAAkB,CAAc,EACzC,WAA6B,GAAY,GAAQ,CAC7C,OAAS,IAAI,GAAW,OAAS,EAAG,IAAK,EAAG,EAAE,GAAG,CAC7C,GAAI,IAAY,GAAW,IACvB,GAAY,GAAU,EAAM,EAChC,GAAI,CAAC,GAAY,EAAS,GAAK,CAAC,GAAO,EAAS,EAAG,CAC/C,GAAI,CAAC,GAAc,EAAS,EACxB,KAAM,IAAI,WACd,GAAS,EACb,CACJ,CACA,MAAO,GACX,CAXS,2BAYT,WAA0B,GAAY,GAAQ,GAAa,GAAY,CACnE,OAAS,IAAI,GAAW,OAAS,EAAG,IAAK,EAAG,EAAE,GAAG,CAC7C,GAAI,IAAY,GAAW,IACvB,GAAY,GAAU,GAAQ,GAAa,EAAU,EACzD,GAAI,CAAC,GAAY,EAAS,GAAK,CAAC,GAAO,EAAS,EAAG,CAC/C,GAAI,CAAC,GAAS,EAAS,EACnB,KAAM,IAAI,WACd,GAAa,EACjB,CACJ,CACA,MAAO,GACX,CAXS,wBAYT,WAAgC,GAAG,GAAG,GAAQ,CAC1C,GAAI,IAAiB,EAAS,IAAI,EAAC,EACnC,GAAI,GAAY,EAAc,EAAG,CAC7B,GAAI,CAAC,GACD,OACJ,GAAiB,GAAI,GACrB,EAAS,IAAI,GAAG,EAAc,CAClC,CACA,GAAI,IAAc,GAAe,IAAI,EAAC,EACtC,GAAI,GAAY,EAAW,EAAG,CAC1B,GAAI,CAAC,GACD,OACJ,GAAc,GAAI,GAClB,GAAe,IAAI,GAAG,EAAW,CACrC,CACA,MAAO,GACX,CAhBS,8BAmBT,WAA6B,GAAa,GAAG,GAAG,CAC5C,GAAI,IAAS,EAAuB,GAAa,GAAG,EAAC,EACrD,GAAI,GACA,MAAO,GACX,GAAI,IAAS,GAAuB,EAAC,EACrC,MAAK,IAAO,EAAM,EAEX,GADI,EAAoB,GAAa,GAAQ,EAAC,CAEzD,CARS,2BAWT,WAAgC,GAAa,GAAG,GAAG,CAC/C,GAAI,IAAc,EAAuB,GAAG,GAAc,EAAK,EAC/D,MAAI,IAAY,EAAW,EAChB,GACJ,EAAU,GAAY,IAAI,EAAW,CAAC,CACjD,CALS,8BAQT,WAA6B,GAAa,GAAG,GAAG,CAC5C,GAAI,IAAS,EAAuB,GAAa,GAAG,EAAC,EACrD,GAAI,GACA,MAAO,GAAuB,GAAa,GAAG,EAAC,EACnD,GAAI,IAAS,GAAuB,EAAC,EACrC,GAAI,CAAC,GAAO,EAAM,EACd,MAAO,GAAoB,GAAa,GAAQ,EAAC,CAEzD,CARS,2BAWT,WAAgC,GAAa,GAAG,GAAG,CAC/C,GAAI,IAAc,EAAuB,GAAG,GAAc,EAAK,EAC/D,GAAI,IAAY,EAAW,EAE3B,MAAO,IAAY,IAAI,EAAW,CACtC,CALS,8BAQT,WAAmC,GAAa,GAAe,GAAG,GAAG,CACjE,GAAI,IAAc,EAAuB,GAAG,GAAc,EAAI,EAC9D,GAAY,IAAI,GAAa,EAAa,CAC9C,CAHS,iCAMT,YAA8B,GAAG,GAAG,CAChC,GAAI,IAAU,EAAwB,GAAG,EAAC,EACtC,GAAS,GAAuB,EAAC,EACrC,GAAI,KAAW,KACX,MAAO,IACX,GAAI,IAAa,GAAqB,GAAQ,EAAC,EAC/C,GAAI,GAAW,QAAU,EACrB,MAAO,IACX,GAAI,GAAQ,QAAU,EAClB,MAAO,IAGX,OAFI,IAAM,GAAI,GACV,GAAO,CAAC,EACH,GAAK,EAAG,GAAY,GAAS,GAAK,GAAU,OAAQ,KAAM,CAC/D,GAAI,IAAM,GAAU,IAChB,EAAS,GAAI,IAAI,EAAG,EACxB,AAAK,GACD,IAAI,IAAI,EAAG,EACX,GAAK,KAAK,EAAG,EAErB,CACA,OAAS,GAAK,EAAG,EAAe,GAAY,EAAK,EAAa,OAAQ,IAAM,CACxE,GAAI,IAAM,EAAa,GACnB,EAAS,GAAI,IAAI,EAAG,EACxB,AAAK,GACD,IAAI,IAAI,EAAG,EACX,GAAK,KAAK,EAAG,EAErB,CACA,MAAO,GACX,CA7BS,6BAgCT,WAAiC,GAAG,GAAG,CACnC,GAAI,IAAO,CAAC,EACR,GAAc,EAAuB,GAAG,GAAc,EAAK,EAC/D,GAAI,GAAY,EAAW,EACvB,MAAO,IAIX,OAHI,IAAU,GAAY,KAAK,EAC3B,GAAW,GAAY,EAAO,EAC9B,GAAI,IACK,CACT,GAAI,IAAO,GAAa,EAAQ,EAChC,GAAI,CAAC,GACD,UAAK,OAAS,GACP,GAEX,GAAI,IAAY,GAAc,EAAI,EAClC,GAAI,CACA,GAAK,IAAK,EACd,OACO,GAAP,CACI,GAAI,CACA,GAAc,EAAQ,CAC1B,QACA,CACI,KAAM,GACV,CACJ,CACA,IACJ,CACJ,CA5BS,+BA+BT,WAAc,GAAG,CACb,GAAI,KAAM,KACN,MAAO,GACX,OAAQ,MAAO,SACN,YAAa,MAAO,OACpB,UAAW,MAAO,OAClB,SAAU,MAAO,OACjB,SAAU,MAAO,OACjB,SAAU,MAAO,OACjB,SAAU,MAAO,MAAM,KAAO,EAAe,UACzC,MAAO,GAExB,CAZS,YAeT,YAAqB,GAAG,CACpB,MAAO,MAAM,MACjB,CAFS,oBAKT,YAAgB,GAAG,CACf,MAAO,MAAM,IACjB,CAFS,eAKT,YAAkB,GAAG,CACjB,MAAO,OAAO,KAAM,QACxB,CAFS,iBAKT,YAAkB,GAAG,CACjB,MAAO,OAAO,KAAM,SAAW,KAAM,KAAO,MAAO,KAAM,UAC7D,CAFS,iBAOT,YAAqB,GAAO,GAAe,CACvC,OAAQ,EAAK,EAAK,OACT,GAAmB,MAAO,QAC1B,GAAc,MAAO,QACrB,GAAiB,MAAO,QACxB,GAAgB,MAAO,QACvB,GAAgB,MAAO,QACvB,GAAgB,MAAO,IAEhC,GAAI,IAAO,KAAkB,EAAiB,SAAW,KAAkB,EAAiB,SAAW,UACnG,GAAe,GAAU,GAAO,CAAiB,EACrD,GAAI,KAAiB,OAAW,CAC5B,GAAI,IAAS,GAAa,KAAK,GAAO,EAAI,EAC1C,GAAI,GAAS,EAAM,EACf,KAAM,IAAI,WACd,MAAO,GACX,CACA,MAAO,GAAoB,GAAO,KAAS,UAAY,SAAW,EAAI,CAC1E,CAlBS,oBAqBT,WAA6B,GAAG,GAAM,CAClC,GAAI,KAAS,SAAU,CACnB,GAAI,IAAa,GAAE,SACnB,GAAI,EAAW,EAAU,EAAG,CACxB,GAAI,IAAS,GAAW,KAAK,EAAC,EAC9B,GAAI,CAAC,GAAS,EAAM,EAChB,MAAO,GACf,CACA,GAAI,IAAU,GAAE,QAChB,GAAI,EAAW,EAAO,EAAG,CACrB,GAAI,IAAS,GAAQ,KAAK,EAAC,EAC3B,GAAI,CAAC,GAAS,EAAM,EAChB,MAAO,GACf,CACJ,KACK,CACD,GAAI,IAAU,GAAE,QAChB,GAAI,EAAW,EAAO,EAAG,CACrB,GAAI,IAAS,GAAQ,KAAK,EAAC,EAC3B,GAAI,CAAC,GAAS,EAAM,EAChB,MAAO,GACf,CACA,GAAI,IAAa,GAAE,SACnB,GAAI,EAAW,EAAU,EAAG,CACxB,GAAI,IAAS,GAAW,KAAK,EAAC,EAC9B,GAAI,CAAC,GAAS,EAAM,EAChB,MAAO,GACf,CACJ,CACA,KAAM,IAAI,UACd,CA9BS,2BAiCT,WAAmB,GAAU,CACzB,MAAO,CAAC,CAAC,EACb,CAFS,iBAKT,WAAkB,GAAU,CACxB,MAAO,GAAK,EAChB,CAFS,gBAKT,WAAuB,GAAU,CAC7B,GAAI,IAAM,GAAY,GAAU,CAAc,EAC9C,MAAI,IAAS,EAAG,EACL,GACJ,EAAS,EAAG,CACvB,CALS,qBAUT,WAAiB,GAAU,CACvB,MAAO,OAAM,QACP,MAAM,QAAQ,EAAQ,EACtB,aAAoB,QAChB,aAAoB,OACpB,OAAO,UAAU,SAAS,KAAK,EAAQ,IAAM,gBAC3D,CANS,eAST,WAAoB,GAAU,CAE1B,MAAO,OAAO,KAAa,UAC/B,CAHS,kBAMT,YAAuB,GAAU,CAE7B,MAAO,OAAO,KAAa,UAC/B,CAHS,sBAMT,YAAuB,GAAU,CAC7B,OAAQ,EAAK,EAAQ,OACZ,GAAgB,MAAO,OACvB,GAAgB,MAAO,WACnB,MAAO,GAExB,CANS,sBAWT,YAAmB,GAAG,GAAG,CACrB,GAAI,IAAO,GAAE,IACb,GAAI,AAAsB,IAAS,KAEnC,IAAI,CAAC,EAAW,EAAI,EAChB,KAAM,IAAI,WACd,MAAO,IACX,CAPS,kBAUT,YAAqB,GAAK,CACtB,GAAI,IAAS,GAAU,GAAK,CAAc,EAC1C,GAAI,CAAC,EAAW,EAAM,EAClB,KAAM,IAAI,WACd,GAAI,IAAW,GAAO,KAAK,EAAG,EAC9B,GAAI,CAAC,GAAS,EAAQ,EAClB,KAAM,IAAI,WACd,MAAO,GACX,CARS,oBAWT,YAAuB,GAAY,CAC/B,MAAO,IAAW,KACtB,CAFS,sBAKT,YAAsB,GAAU,CAC5B,GAAI,IAAS,GAAS,KAAK,EAC3B,MAAO,IAAO,KAAO,GAAQ,EACjC,CAHS,qBAMT,YAAuB,GAAU,CAC7B,GAAI,IAAI,GAAS,OACjB,AAAI,IACA,GAAE,KAAK,EAAQ,CACvB,CAJS,sBAST,YAAgC,GAAG,CAC/B,GAAI,IAAQ,OAAO,eAAe,EAAC,EAUnC,GATI,MAAO,KAAM,YAAc,KAAM,GASjC,KAAU,EACV,MAAO,IAEX,GAAI,IAAY,GAAE,UACd,GAAiB,IAAa,OAAO,eAAe,EAAS,EACjE,GAAI,IAAkB,MAAQ,KAAmB,OAAO,UACpD,MAAO,IAEX,GAAI,IAAc,GAAe,YAIjC,MAHI,OAAO,KAAgB,YAGvB,KAAgB,GACT,GAEJ,EACX,CA3BS,+BA6BT,aAA6B,CACzB,GAAI,IAAgB,CAAC,EACjB,GAAgB,CAAC,EACjB,GAA6B,UAAY,CACzC,YAAqB,GAAM,GAAQ,GAAU,CACzC,KAAK,OAAS,EACd,KAAK,MAAQ,GACb,KAAK,QAAU,GACf,KAAK,UAAY,EACrB,CALS,2BAMT,GAAY,UAAU,cAAgB,UAAY,CAAE,MAAO,KAAM,EACjE,GAAY,UAAU,GAAkB,UAAY,CAAE,MAAO,KAAM,EACnE,GAAY,UAAU,KAAO,UAAY,CACrC,GAAI,IAAQ,KAAK,OACjB,GAAI,IAAS,GAAK,GAAQ,KAAK,MAAM,OAAQ,CACzC,GAAI,IAAS,KAAK,UAAU,KAAK,MAAM,IAAQ,KAAK,QAAQ,GAAM,EAClE,MAAI,IAAQ,GAAK,KAAK,MAAM,OACxB,MAAK,OAAS,GACd,KAAK,MAAQ,GACb,KAAK,QAAU,IAGf,KAAK,SAEF,CAAE,MAAO,GAAQ,KAAM,EAAM,CACxC,CACA,MAAO,CAAE,MAAO,OAAW,KAAM,EAAK,CAC1C,EACA,GAAY,UAAU,MAAQ,SAAU,GAAO,CAC3C,KAAI,MAAK,QAAU,GACf,MAAK,OAAS,GACd,KAAK,MAAQ,GACb,KAAK,QAAU,IAEb,EACV,EACA,GAAY,UAAU,OAAS,SAAU,GAAO,CAC5C,MAAI,MAAK,QAAU,GACf,MAAK,OAAS,GACd,KAAK,MAAQ,GACb,KAAK,QAAU,IAEZ,CAAE,MAAO,GAAO,KAAM,EAAK,CACtC,EACO,EACX,EAAE,EACF,MAAsB,WAAY,CAC9B,aAAe,CACX,KAAK,MAAQ,CAAC,EACd,KAAK,QAAU,CAAC,EAChB,KAAK,UAAY,GACjB,KAAK,YAAc,EACvB,CALS,mBAMT,OAAO,eAAe,GAAI,UAAW,OAAQ,CACzC,IAAK,UAAY,CAAE,MAAO,MAAK,MAAM,MAAQ,EAC7C,WAAY,GACZ,aAAc,EAClB,CAAC,EACD,GAAI,UAAU,IAAM,SAAU,GAAK,CAAE,MAAO,MAAK,MAAM,GAAgB,EAAK,GAAK,CAAG,EACpF,GAAI,UAAU,IAAM,SAAU,GAAK,CAC/B,GAAI,IAAQ,KAAK,MAAM,GAAgB,EAAK,EAC5C,MAAO,KAAS,EAAI,KAAK,QAAQ,IAAS,MAC9C,EACA,GAAI,UAAU,IAAM,SAAU,GAAK,GAAO,CACtC,GAAI,IAAQ,KAAK,MAAM,GAAgB,EAAI,EAC3C,YAAK,QAAQ,IAAS,GACf,IACX,EACA,GAAI,UAAU,OAAS,SAAU,GAAK,CAClC,GAAI,IAAQ,KAAK,MAAM,GAAgB,EAAK,EAC5C,GAAI,IAAS,EAAG,CAEZ,OADI,IAAO,KAAK,MAAM,OACb,EAAI,GAAQ,EAAG,EAAI,GAAM,IAC9B,KAAK,MAAM,EAAI,GAAK,KAAK,MAAM,GAC/B,KAAK,QAAQ,EAAI,GAAK,KAAK,QAAQ,GAEvC,YAAK,MAAM,SACX,KAAK,QAAQ,SACT,KAAQ,KAAK,WACb,MAAK,UAAY,GACjB,KAAK,YAAc,IAEhB,EACX,CACA,MAAO,EACX,EACA,GAAI,UAAU,MAAQ,UAAY,CAC9B,KAAK,MAAM,OAAS,EACpB,KAAK,QAAQ,OAAS,EACtB,KAAK,UAAY,GACjB,KAAK,YAAc,EACvB,EACA,GAAI,UAAU,KAAO,UAAY,CAAE,MAAO,IAAI,IAAY,KAAK,MAAO,KAAK,QAAS,EAAM,CAAG,EAC7F,GAAI,UAAU,OAAS,UAAY,CAAE,MAAO,IAAI,IAAY,KAAK,MAAO,KAAK,QAAS,EAAQ,CAAG,EACjG,GAAI,UAAU,QAAU,UAAY,CAAE,MAAO,IAAI,IAAY,KAAK,MAAO,KAAK,QAAS,EAAQ,CAAG,EAClG,GAAI,UAAU,cAAgB,UAAY,CAAE,MAAO,MAAK,QAAQ,CAAG,EACnE,GAAI,UAAU,GAAkB,UAAY,CAAE,MAAO,MAAK,QAAQ,CAAG,EACrE,GAAI,UAAU,MAAQ,SAAU,GAAK,GAAQ,CACzC,MAAI,MAAK,YAAc,IACnB,MAAK,YAAc,KAAK,MAAM,QAAQ,KAAK,UAAY,EAAG,GAE1D,KAAK,YAAc,GAAK,IACxB,MAAK,YAAc,KAAK,MAAM,OAC9B,KAAK,MAAM,KAAK,EAAG,EACnB,KAAK,QAAQ,KAAK,MAAS,GAExB,KAAK,WAChB,EACO,EACX,EAAE,EACF,YAAgB,GAAK,GAAG,CACpB,MAAO,GACX,CACA,YAAkB,GAAG,GAAO,CACxB,MAAO,GACX,CACA,YAAkB,GAAK,GAAO,CAC1B,MAAO,CAAC,GAAK,EAAK,CACtB,CACJ,CAvHS,0BAyHT,aAA6B,CACzB,MAAsB,WAAY,CAC9B,aAAe,CACX,KAAK,KAAO,GAAI,EACpB,CAFS,mBAGT,OAAO,eAAe,GAAI,UAAW,OAAQ,CACzC,IAAK,UAAY,CAAE,MAAO,MAAK,KAAK,IAAM,EAC1C,WAAY,GACZ,aAAc,EAClB,CAAC,EACD,GAAI,UAAU,IAAM,SAAU,GAAO,CAAE,MAAO,MAAK,KAAK,IAAI,EAAK,CAAG,EACpE,GAAI,UAAU,IAAM,SAAU,GAAO,CAAE,MAAO,MAAK,KAAK,IAAI,GAAO,EAAK,EAAG,IAAM,EACjF,GAAI,UAAU,OAAS,SAAU,GAAO,CAAE,MAAO,MAAK,KAAK,OAAO,EAAK,CAAG,EAC1E,GAAI,UAAU,MAAQ,UAAY,CAAE,KAAK,KAAK,MAAM,CAAG,EACvD,GAAI,UAAU,KAAO,UAAY,CAAE,MAAO,MAAK,KAAK,KAAK,CAAG,EAC5D,GAAI,UAAU,OAAS,UAAY,CAAE,MAAO,MAAK,KAAK,OAAO,CAAG,EAChE,GAAI,UAAU,QAAU,UAAY,CAAE,MAAO,MAAK,KAAK,QAAQ,CAAG,EAClE,GAAI,UAAU,cAAgB,UAAY,CAAE,MAAO,MAAK,KAAK,CAAG,EAChE,GAAI,UAAU,GAAkB,UAAY,CAAE,MAAO,MAAK,KAAK,CAAG,EAC3D,EACX,EAAE,CACN,CArBS,0BAuBT,aAAiC,CAC7B,GAAI,IAAY,GACZ,GAAO,EAAQ,OAAO,EACtB,GAAU,GAAgB,EAC9B,MAAsB,WAAY,CAC9B,aAAmB,CACf,KAAK,KAAO,GAAgB,CAChC,CAFS,uBAGT,GAAQ,UAAU,IAAM,SAAU,GAAQ,CACtC,GAAI,GAAQ,GAAwB,GAAmB,EAAK,EAC5D,MAAO,KAAU,OAAY,EAAQ,IAAI,EAAO,KAAK,IAAI,EAAI,EACjE,EACA,GAAQ,UAAU,IAAM,SAAU,GAAQ,CACtC,GAAI,GAAQ,GAAwB,GAAmB,EAAK,EAC5D,MAAO,KAAU,OAAY,EAAQ,IAAI,EAAO,KAAK,IAAI,EAAI,MACjE,EACA,GAAQ,UAAU,IAAM,SAAU,GAAQ,EAAO,CAC7C,GAAI,GAAQ,GAAwB,GAAmB,EAAI,EAC3D,SAAM,KAAK,MAAQ,EACZ,IACX,EACA,GAAQ,UAAU,OAAS,SAAU,GAAQ,CACzC,GAAI,GAAQ,GAAwB,GAAmB,EAAK,EAC5D,MAAO,KAAU,OAAY,MAAO,GAAM,KAAK,MAAQ,EAC3D,EACA,GAAQ,UAAU,MAAQ,UAAY,CAElC,KAAK,KAAO,GAAgB,CAChC,EACO,EACX,EAAE,EACF,aAA2B,CACvB,GAAI,IACJ,EACI,IAAM,cAAgB,GAAW,QAC9B,EAAQ,IAAI,GAAM,EAAG,GAC5B,UAAK,IAAO,GACL,EACX,CACA,YAAiC,GAAQ,GAAQ,CAC7C,GAAI,CAAC,EAAO,KAAK,GAAQ,EAAO,EAAG,CAC/B,GAAI,CAAC,GACD,OACJ,OAAO,eAAe,GAAQ,GAAS,CAAE,MAAO,EAAQ,OAAO,CAAE,CAAC,CACtE,CACA,MAAO,IAAO,GAClB,CACA,YAAyB,GAAQ,GAAM,CACnC,OAAS,GAAI,EAAG,EAAI,GAAM,EAAE,EACxB,GAAO,GAAK,KAAK,OAAO,EAAI,IAAO,EACvC,MAAO,GACX,CACA,YAAwB,GAAM,CAC1B,MAAI,OAAO,aAAe,WAClB,MAAO,QAAW,IACX,OAAO,gBAAgB,GAAI,YAAW,EAAI,CAAC,EAClD,MAAO,UAAa,IACb,SAAS,gBAAgB,GAAI,YAAW,EAAI,CAAC,EACjD,GAAgB,GAAI,YAAW,EAAI,EAAG,EAAI,EAE9C,GAAgB,GAAI,OAAM,EAAI,EAAG,EAAI,CAChD,CACA,aAAsB,CAClB,GAAI,IAAO,GAAe,EAAS,EAEnC,GAAK,GAAK,GAAK,GAAK,GAAO,GAC3B,GAAK,GAAK,GAAK,GAAK,IAAO,IAE3B,OADI,IAAS,GACJ,EAAS,EAAG,EAAS,GAAW,EAAE,EAAQ,CAC/C,GAAI,GAAO,GAAK,GAChB,AAAI,KAAW,GAAK,IAAW,GAAK,IAAW,IAC3C,KAAU,KACV,EAAO,IACP,KAAU,KACd,IAAU,EAAK,SAAS,EAAE,EAAE,YAAY,CAC5C,CACA,MAAO,GACX,CACJ,CA9ES,8BAgFT,YAAwB,GAAK,CACzB,UAAI,GAAK,OACT,MAAO,IAAI,GACJ,EACX,CAJS,sBAKb,CAAC,CACL,GAAG,IAAY,IAAU,CAAC,EAAE,ECvmCrB,GAAM,IAAqB,OAAO,0BAA0B,EACtD,EAAW,EAAC,GACd,QAAQ,SAAS,GAAoB,CAAQ,EADhC,YAIjB,YAA4B,EAAgB,EAA4C,CAC3F,GAAI,GACJ,MAAI,IACA,GAAO,QAAQ,YAAY,GAAoB,EAAQ,CAAY,GAEhE,CACX,CANgB,2BAQT,GAAM,IACT,EAAC,GACD,AAAC,GAAgC,CAC7B,EAAY,UAAU,sBAAwB,CAClD,EAHA,yBAKE,GAAa,OAAO,SAAS,EACtB,GAAU,EAAC,GACb,QAAQ,SAAS,GAAY,CAAE,EADnB,WAIV,GAAa,GAAC,EAAa,IAC7B,QAAQ,YAAY,GAAY,EAAQ,CAAY,EADrC,cAIb,GAA2B,EAAC,GAC9B,OAAO,eAAe,CAAM,EAAE,sBADD,4BAQ3B,GAAsB,OAAO,qBAAqB,EAClD,GAAW,EAAC,GACd,QAAQ,SAAS,GAAqB,CAAQ,EADjC,YAIjB,YAA8B,EAAa,EAAmD,CACjG,GAAI,GAAO,GAAG,kBACd,MAAI,IAAuB,EAAoB,YAC3C,GAAO,EAAoB,WAAW,MAAQ,GAAG,WAAc,EAAoB,WAAW,QAAU,EACxG,EAAO,EAAoB,WAAW,KAAO,GAAG,MAAS,EAAoB,WAAW,OAAS,GAG9F,CACX,CARgB,6BCrChB,OAA2B,SAC3B,GAAgC,SAE1B,GAAe,AAAU,WAAQ,OAEjC,GAAgB,CAClB,WAAY,GACZ,cAAe,IACf,aAAc,gBACd,KAAM,gBACV,EAOO,YAA4B,EAAoC,EAA4B,CAC/F,GAAI,GAAe,GACnB,GAAI,CACA,OAAW,KAAgB,IACvB,AAAI,EAAO,KAAkB,QACzB,GAAO,GAAgB,GAAc,IAG7C,EAAe,GAAa,mBAAmB,EAAQ,CAAQ,CACnE,OAAS,EAAP,CACE,QAAQ,MAAM,kCAAmC,CAAK,CAC1D,CACA,MAAO,EACX,CAbgB,2BAmBT,YAA2B,EAAkD,CAChF,GAAI,CACA,MAAO,IAAa,MAAM,CAAY,CAC1C,MAAE,CACE,MAAO,EACX,CACJ,CANgB,0BAqBT,YACH,EACA,EACA,EACA,EACA,EAC0B,CAC1B,GAAM,GAAa,EAAW,MAAQ,EAAW,QAAU,mBAAgB,SAAW,GAEhF,EAAyC,CAC3C,YACA,YAAa,EAAS,KAAK,YAAY,EACvC,QAAS,CACL,SAAU,CACd,EACA,cAAe,EAAW,WAC1B,YACJ,EACA,MAAI,GAAa,KAAS,OACtB,AAAI,EAAS,KAAK,gBACd,EAAS,KAAK,gBAAgB,EAAY,EAAc,CAAG,EACxD,AAAI,EAAa,GAAK,SAAS,EAAE,WAAW,GAAG,EAClD,GAAW,QAAQ,WAAa,EAAa,GAC7C,EAAW,KAAO,yBAElB,EAAW,QAAQ,SAAW,EAAa,GAG/C,EAAW,QAAQ,SAAW,KAE3B,CACX,CA/BgB,8BC7DT,YAA4B,EAAoC,EAA4B,CAC/F,MAAO,IAAmB,EAAQ,CAAQ,CAC9C,CAFgB,2BCChB,OAA8D,SAWvD,YACH,EACA,EACA,EACA,EACA,EACA,EACI,CACJ,GAAM,GAAc,EAAS,SAAS,KAAO,EACvC,EAAgB,EAAS,SAAS,OACxC,GAAI,GAAiB,MAAO,IAAkB,WAAY,CACtD,GAAM,GAAQ,EAAc,EAAiB,EAAW,EAAa,CAAW,EAChF,AAAI,IAAU,QACV,GAAW,GAAe,EAElC,KAAO,AAAI,GAAgB,KAAiB,QACxC,GAAW,GAAe,EAAgB,GAElD,CAlBgB,uBA4BT,YACH,EACA,EACA,EACA,EACI,CACJ,GAAI,GAAmB,EACnB,OAAW,KAAO,GAAiB,CAC/B,GAAM,GAAa,EAAqB,GACxC,AAAI,GACA,IAAI,EAAQ,CACR,SAAU,eAAY,QACtB,QAAS,GAAqB,EAAK,CAAU,EAC7C,SAAU,CACN,KAAM,wBACN,MAAO,EAAK,MAAM,GAAG,CACzB,CACJ,CAAC,EACD,MAAO,GAAqB,GAEpC,CAER,CAtBgB,kCA6BT,YAAyB,EAA2B,EAA4C,CACnG,GAAI,EAAc,MAAQ,CAAC,EAAc,MAAO,CAC5C,GAAM,GAAW,EAAW,YAAY,EAAc,KAAK,MAAM,EAAsB,EAAE,IACzF,MAAO,IAAgB,EAAU,CAAU,CAC/C,KAAO,OAAI,GAAc,MACjB,EAAc,MAAM,WAAW,mBAAgB,EACxC,EAAc,MAAM,MAAM,mBAAgB,EAAE,GAAG,QAAQ,WAAY,UAAU,EAE7E,EAAc,MAAM,QAAQ,WAAY,UAAU,EAG7D,MAER,CAbgB,wBAqBT,YAAsC,EAAiC,CAC1E,GAAM,GAAW,EAAI,MAAM,GAAG,kBAAe,gBAAgB,EAC7D,GAAI,EAAS,GACT,MAAO,GAAS,GAAG,MAAM,GAAG,EAAE,EAGtC,CANgB,qCAaT,YAA8B,EAAgB,EAAyB,CAC1E,AAAI,CAAC,EAAO,IAGR,OAAO,KAAK,EAAO,EAAU,EAAE,OAAS,GACxC,MAAO,GAAO,EAEtB,CAPgB,6BCxGhB,OAAqD,sDCFrD,OAAkC,sDAM3B,YAA6B,EAAqB,CACrD,GAAI,MAAO,IAAQ,SASnB,KANA,EAAM,EACD,QAAQ,gBAAiB,EAAE,EAC3B,QAAQ,gBAAiB,EAAE,EAC3B,QAAQ,mBAAoB,IAAI,EAG9B,EAAI,QAAQ,MAAM,EAAI,IACzB,EAAM,EAAI,QAAQ,OAAQ,IAAI,EAIlC,MAAI,GAAI,MAAM,EAAE,IAAM,MAClB,GAAM,EAAI,MAAM,EAAG,EAAE,GAGlB,EACX,CApBgB,4BAsBhB,YAA0B,EAAqB,CAC3C,SAAM,EAAI,QAAQ,8BAA+B,EAAE,EACnD,EAAM,EAAI,QAAQ,yCAA0C,EAAE,EACvD,CACX,CAJS,yBAMF,GAAM,IAAY,WAAU,EAAqB,CACpD,MAAO,IAAoB,GAAiB,CAAG,CAAC,CACpD,EAFyB,aAIzB,YAAwB,EAAa,CACjC,GAAI,GAAc,GAClB,OAAW,KAAc,GAAO,MAAM,KAClC,AAAI,EAAW,OACP,IACA,IAAe,MAEnB,GAAe,EAAW,OAGlC,MAAO,EACX,CAXS,uBAaF,YAAkC,EAAiC,CAnD1E,MAoDI,GAAI,kBAAQ,QAAS,kBAAQ,MACzB,MAAO,GAAO,OAAS,EAAO,KAGlC,GAAI,qBAAQ,QAAR,cAAe,YAAY,YAAa,eACxC,MAAO,IAAe,CAAM,EAGhC,GAAI,GACI,MAAO,IAAW,SAClB,MAAO,IAAoB,EAAO,QAAQ,KAAM,GAAG,CAAC,CAGhE,CAdgB,iCAgBT,GAAM,IAA6C,WAAU,EAAyB,CACzF,GAAI,GAAU,GACd,MAAI,OAAO,GAAW,gBAAmB,SACrC,GAAW,EAAW,eACf,EAAW,eAAe,OACjC,IAAW,EAAW,eAAe,OAEzC,AAAI,MAAO,GAAW,QAAW,SAC7B,GAAW,KAAO,EAAW,OACtB,EAAW,QAAU,EAAW,OAAO,OAC9C,IAAW,KAAO,EAAW,OAAO,OAEpC,EAAW,iBACX,IAAW,qBAER,CACX,EAhB0D,8CAkB7C,GAA+B,WAAU,EAAqC,CACvF,GAAI,GAAU,GAEd,GAAI,EAAW,OAAS,EAAW,QAAU,qBAAkB,mBAC3D,SAAU,uBACV,GAAW,EAAW,OACf,GAAU,CAAO,EACrB,GAAI,EAAW,OAAS,EAAW,QAAU,qBAAkB,kCAClE,SAAU,sCACV,GAAW,GAA2C,CAAU,EACzD,EACJ,GAAI,EAAW,OAAS,EAAW,QAAU,qBAAkB,uBAClE,SAAU,2BACV,GAAW,GAAU,EAAW,OAAO,iBAAmB,EAAW,OAAO,KAAK,EAC1E,EACJ,GAAI,EAAW,OAAS,EAAW,QAAU,qBAAkB,oBAClE,SAAU,wBACN,EAAW,OACX,IAAW,GAAyB,EAAW,KAAK,EAAI,MAE5D,GAAW,EAAW,OACf,GAAU,CAAO,EACrB,GAAI,EAAW,OAAS,EAAW,QAAU,qBAAkB,UAClE,SAAU,cACV,GAAW,GAAyB,EAAW,KAAK,EAC7C,GAAU,CAAO,EACrB,GAAI,EAAW,OAAS,EAAW,QAAU,qBAAkB,mCAClE,SAAU,uCACV,GAAW,GAAyB,EAAW,KAAK,EAAI,KACxD,GAAW,GAA2C,CAAU,EACzD,GAAU,CAAO,EACrB,GAAI,EAAW,OAAS,EAAW,QAAU,qBAAkB,4BAClE,SAAU,gCACV,GAAW,GAAyB,EAAW,KAAK,EAChD,EAAW,QAAU,EAAW,OAAO,yBACvC,IAAW,KAAO,EAAW,OAAO,yBAEjC,GAAU,CAAO,EACrB,GAAI,EAAW,OAAS,EAAW,QAAU,qBAAkB,iBAClE,SAAU,qBACV,GAAW,GAAyB,EAAW,KAAK,EAC7C,GAAU,CAAO,CAMhC,EA/C4C,gCDhF5C,OAA8B,SAC9B,GAQO,SAkBP,YACI,EACA,EACA,EACA,EACF,CACE,GAAI,IAAY,wBAAqB,IAAM,EAAU,YAAe,MAChE,OAAQ,EAAM,WACL,sBAAkB,cAClB,sBAAkB,2BAClB,sBAAkB,gCAClB,sBAAkB,iBAAkB,CACrC,AAAC,EAAU,YAAY,GAAgC,WACnD,EAAU,YAAY,MAAM,WAChC,KACJ,UAEG,IAAY,wBAAqB,IAAM,EAAU,YAAe,MACvE,OAAQ,EAAM,WACL,sBAAkB,cAClB,sBAAkB,2BAClB,sBAAkB,iBAAkB,CACrC,AAAC,EAAU,YAAY,GAAgC,WACnD,EAAU,YAAY,MAAM,WAChC,KACJ,EAGZ,CA5BS,4BAsCT,YACI,EACA,EACA,EACA,EACM,CACN,GAAM,GACF,IAAY,wBAAqB,IAAM,GAAoB,EAAiB,SAAS,IAAI,EACnF,EAAiB,MAAM,IAAI,EAAE,GAAG,QAAQ,YAAa,OAAO,EAC5D,OACV,MAAI,KAAY,wBAAqB,GAC1B,GAAG,KAAsB,MAAa,KAEtC,GAAG,MAAa,GAE/B,CAfS,qCAuBT,YAAgC,EAAO,EAAuB,EAA0B,CACpF,AAAI,MAAO,GAAM,OAAU,UAAY,EAAM,MAAM,OAAS,OACxD,GAAU,YAAY,GAAkB,aAAU,MAAQ,CACtD,CACI,KAAM,QACN,MAAO,EAAM,MAAM,IACvB,CACJ,EACA,EAAU,YAAY,GAAkB,aAAU,QAAU,EAAM,MAAM,QAClE,EAAM,MAAM,QAAQ,mBAAmB,MAAM,GAAG,EAAE,GAClD,EAAM,MAAM,aAAa,MAAM,GAAG,EAAE,IACnC,MAAO,GAAM,OAAU,UAAY,EAAM,OAChD,GAAU,YAAY,GAAkB,aAAU,MAAQ,CACtD,CACI,KAAM,QACN,MAAO,EAAM,KACjB,CACJ,EACA,EAAU,YAAY,GAAkB,aAAU,QAAU,EAAM,mBAAmB,MAAM,GAAG,EAAE,GAExG,CApBS,+BA4BT,YAA2B,EAA+B,EAAuB,EAA0B,CACvG,GACI,EAAM,QAAU,qBAAkB,WAClC,EAAM,QAAU,qBAAkB,kBAClC,EAAM,QAAU,qBAAkB,4BAElC,GAAuB,EAAO,EAAW,CAAgB,UAClD,EAAM,QAAU,qBAAkB,uBACzC,EAAU,YAAY,GAAkB,aAAU,MAAQ,CACtD,CACI,KAAM,SACN,MAAO,EAAM,OAAO,KACxB,CACJ,EACA,EAAU,YAAY,GAAkB,aAAU,QAC9C,EAAM,OAAO,QAAQ,mBAAmB,MAAM,GAAG,EAAE,WAChD,EAAM,QAAU,qBAAkB,mBAAoB,CAC7D,GAAM,GAAY,EAAM,OAAO,YAAY,GAAG,EAC9C,AAAI,IAAc,GACd,EAAU,YAAY,GAAkB,aAAU,MAAQ,CACtD,CACI,KAAM,SACN,MAAO,EAAM,MACjB,CACJ,EAEA,GAAU,YAAY,GAAkB,aAAU,MAAQ,CACtD,CACI,KAAM,SACN,MAAO,EAAM,OAAO,UAAU,EAAY,EAAG,EAAM,OAAO,MAAM,CACpE,CACJ,EACA,EAAU,YAAY,GAAkB,aAAU,QAAU,EAAM,OAAO,UAAU,EAAG,CAAS,EAEvG,KAAO,AAAI,GAAM,QAAU,qBAAkB,mCACzC,GAAU,YAAY,GAAkB,aAAU,MAAQ,CACtD,CACI,KAAM,iBACN,MAAO,EAAM,cACjB,CACJ,EACI,EAAM,QACN,EAAU,YAAY,GAAkB,aAAU,MAAM,KAAK,CACzD,KAAM,SACN,MAAO,EAAM,MACjB,CAAC,EAEL,EAAU,YAAY,GAAkB,aAAU,QAAU,EAAM,mBAAmB,MAAM,GAAG,EAAE,GAExG,CAjDS,0BA6DT,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EAAc,GACV,CA/LR,MAiMI,GAAM,GAAmB,GAA6B,CAAK,EACrD,EACF,IAAY,wBAAqB,IAAM,GAAoB,EAAiB,SAAS,IAAI,EACnF,EAAiB,MAAM,IAAI,EAAE,OAAO,CAAC,EAAE,KAAK,IAAI,EAChD,EAEJ,EAAmB,GAA6B,EAAS,EAAkB,EAAU,CAAc,EAGzG,GAAI,GAAC,GAAS,CAAC,EAAM,OAEd,IACH,EAAM,QAAU,qBAAkB,oBAClC,EAAM,QAAU,qBAAkB,mCAElC,GAAI,GAAe,IAAgB,eAAY,QAAS,CACpD,GAAM,GAAoB,GAAW,GAAG,IAAc,kBAAe,WAAW,IAAW,EACrF,EAAkB,EAAU,YAAY,GAAkC,WAAW,GACvF,CACI,KAAM,GAAG,KAAyB,GACtC,EACJ,EAAc,aAAU,eAAiB,SAAS,CAAG,CACzD,MACG,CACH,GAAM,GAAmB,GAAW,GAAG,IAAc,kBAAe,UAAU,IAAW,EACzF,EAAU,YAAY,GAAkB,WAAc,GAAkB,CACpE,KAAM,GAAG,KAAyB,IAClC,cAAe,SAAS,CAAG,CAC/B,CACJ,CAGA,EAAU,YAAY,GAAoB,CACtC,KAAM,SACN,WAAY,CAAC,EACb,YAAa,GAAwB,EAAO,EAAQ,UAAU,EAC9D,qBAAsB,EAC1B,EAEA,GAAkB,EAAO,EAAW,CAAgB,EACpD,EAAU,YAAY,GAAkB,aAAU,gBAAkB,IAAI,EAAQ,WAAW,sBACvF,EAAM,mBAAmB,MAAM,EAAQ,WAAW,kBAAkB,EAAE,KAE1E,EAAU,YAAY,GAAkB,aAAU,gBAAkB,EAAM,MAC1E,EAAU,YAAY,GAAkB,aAAU,YAAc,GAEhE,GAAwB,EAAU,YAAY,GAAiC,CAAK,EAGpF,GAAoB,EAAS,EAAW,EAAO,CAAgB,EAC3D,EAAM,QAAU,qBAAkB,oBAAsB,MAAU,cAAV,cAAwB,aAE5E,GAAU,YAAY,GACxB,KAAO,GAAG,KAAyB,kBAAe,aACpD,MAAQ,GAAU,YAAY,GAAiC,YAEvE,CAnES,iBA0ET,YAAiC,EAAsB,CACnD,GAAI,GACJ,MAAI,GAAQ,QAAU,EAAQ,OAAO,WAAgB,EAAQ,WACzD,EAAW,GAAG,EAAQ,WAAW,SAAS,EAAQ,SAAS,EAAQ,OAAO,YACvE,AAAI,EAAQ,WACf,EAAW,GAAG,EAAQ,WAAW,SAAS,EAAQ,OAElD,EAAW,EAAQ,GAEhB,CACX,CAVS,gCAqBT,YACI,EACA,EACA,EACA,EACA,EACA,EACF,CACE,GAAI,EAAQ,OAAS,aAAU,eAC3B,OAAW,KAAO,GAAQ,OAAQ,CAC9B,GAAM,GAAQ,EAAQ,OAAO,GAC7B,AAAI,GACA,GAAS,EAAa,EAAW,EAAO,EAAU,EAAK,EAAS,EAAS,CAAW,CAE5F,KAEA,QAAW,KAAO,GAAQ,OAAO,KAAS,CACtC,GAAM,GAAQ,EAAQ,OAAO,KAAQ,GACrC,GAAS,EAAa,EAAW,EAAO,EAAU,EAAK,EAAS,CAAO,CAC3E,CAER,CArBS,kCA6BT,YAAiC,EAAsB,EAAuB,EAA2B,CAlTzG,MAmTI,GAAI,EAAQ,OAAQ,CAChB,GAAM,GAAc,EAAQ,OAAO,UAC7B,GAAG,EAAQ,OAAO,QAAW,EAAQ,OAAO,YAC5C,GAAG,EAAQ,OAAO,OACxB,EAAU,YAAY,GAAmB,aAAU,MAAQ,CACvD,CACI,KAAM,iBAAc,OACpB,MAAO,EAAY,QAAQ,+BAAgC,EAAE,CACjE,CACJ,EACA,EAAU,YAAY,GAAmB,aAAU,QAAU,EAAQ,OAAO,mBAAsB,MAAM,GAAG,EAAE,EACjH,CACA,EAAU,YAAY,GAAmB,aAAU,YAAc,GAE7D,KAAQ,aAAR,QAAoB,MACpB,GAAU,YAAY,GAAmB,aAAU,gBAAkB,GACjE,EAAQ,WAAW,mBACnB,EAAQ,OAAO,KACf,EAAQ,OAAO,SACnB,EAER,CAtBS,gCAkCF,YACH,EACA,EACA,EACA,EACA,EACA,EACkB,CAClB,GAAI,CAAC,EAAQ,OACT,OAEJ,GAAM,GAAmB,GAAwB,CAAO,EAClD,EAAoB,GAAW,GAAG,IAAc,kBAAe,QAAQ,IAAW,EAClF,EAAsB,GAAW,GAAG,IAAc,kBAAe,UAAU,IAAW,EACtF,EAAuB,GAAW,GAAG,IAAc,kBAAe,WAAW,IAAW,EACxF,EAAc,IAAQ,OAAS,aAAU,gBAAkB,EAAS,QAAQ,GAAG,EAAI,GAGzF,SAAiB,WAAW,KAAO,CAAE,KAAM,GAAG,KAAyB,GAAoB,EAE3F,AAAI,IAAgB,eAAY,SAAW,EACvC,GAAU,YAAY,GAAqB,CACvC,KAAM,SACN,WAAY,CACR,QAAS,CACL,KAAM,GAAG,KAAyB,GACtC,EACA,OAAQ,CAAE,KAAM,GAAG,KAAyB,GAAsB,CACtE,EACA,YAAa,OACb,qBAAsB,EAC1B,EACA,EAAU,YAAY,GAAwB,CAC1C,KAAM,SACN,WAAY,CAAC,EACb,YAAa,UACb,qBAAsB,EAC1B,EACA,EAAU,YAAY,GAAsB,aAAU,YAAc,IAEpE,EAAU,YAAY,GAAqB,CACvC,KAAM,SACN,WAAY,CACR,OAAQ,CAAE,KAAM,GAAG,KAAyB,GAAsB,CACtE,EACA,YAAa,OACb,qBAAsB,EAC1B,EAGJ,GAAwB,EAAS,EAAW,CAAiB,EAG7D,EAAU,YAAY,GAAuB,CACzC,KAAM,SACN,WAAY,CAAC,EACb,YAAa,SACb,qBAAsB,EAC1B,EACA,EAAU,YAAY,GAAqB,aAAU,YAAc,GAEnE,GAA0B,EAAS,EAAa,EAAW,EAAU,EAAS,CAAW,EAClF,CACX,CA/DgB,mBAuET,YAAsB,EAA8B,EAA4C,CACnG,GAAM,GAAiB,EAAqB,QAAQ,GAAG,EAAI,GAAK,EAAqB,MAAM,GAAG,EAAE,GAAK,OACjG,EAAS,EACb,GAAI,GAAkB,EAAiB,CACnC,GAAM,GAAa,EAAe,QAAQ,QAAS,EAAE,EAC/C,EAAY,EAAgB,WAAW,KAAK,AAAC,GACxC,EAAI,QAAU,CACxB,EACD,AAAI,GACA,GAAS,EAAqB,QAAQ,EAAgB,EAAU,SAAS,EAEjF,CACA,MAAO,EACX,CAbgB,qBAsBT,YACH,EACA,EACA,EAC2D,CAC3D,GAAM,GAAS,GAAa,EAAK,OAAQ,CAAe,EAEpD,EAAiB,EACjB,EAAiB,EAAO,QAAQ,GAAG,EAEvC,AAAI,EAAiB,GACjB,GAAiB,EAAO,UAAU,EAAG,CAAc,GAEvD,EAAiB,EAAe,YAAY,GAAG,EAC3C,IAAmB,IACnB,GAAiB,EAAe,YAAY,GAAG,GAEnD,GAAI,GAAoB,EAAkB,EAC1C,MAAI,GAAiB,GACjB,GAAa,EAAe,UAAU,EAAiB,CAAC,EACxD,EAAY,EAAe,UAAU,EAAG,CAAc,EACtD,EAAW,GAAG,EAAe,UAAU,EAAG,CAAc,MAAM,KAE9D,GAAa,EACb,EAAY,EAAK,mBAAmB,MAAM,GAAG,EAAE,GAC3C,GAAc,IAAe,IAC7B,GAAW,GAAG,EAAU,UAAU,EAAG,EAAU,OAAS,CAAC,MAAM,MAGhE,CAAE,aAAY,WAAU,WAAU,CAC7C,CA9BgB,2BAwCT,YACH,EACA,EACA,EACA,EACI,CA9dR,QA+dI,EAAU,YAAY,kBAAe,kBAAoB,KAAK,MAC1D,KAAK,UAAU,EAAU,YAAY,GAAG,kBAAe,4CAA4C,CACvG,EAEA,EAAU,WAAW,OAAY,CAC7B,KAAM,GAAG,KAAyB,kBAAe,kBACrD,EAEC,EAAU,YAAY,kBAAe,kBAAiC,WAAW,gBAAa,SAAW,CACtG,KAAM,GAAG,KAAyB,kBAAe,eACrD,EACA,GAAM,GAAiB,EAAU,YAAY,kBAAe,eAAiB,CACzE,KAAM,SACN,WAAY,CAAC,EACb,YAAa,UACb,qBAAsB,EAC1B,EACA,EAAc,aAAU,YAAc,GAEtC,GAAM,GAAQ,GAAU,gBAAc,EAAmB,UAAU,EAC7D,EAAa,EAAmB,UAAU,WAC1C,EAAmB,GAAS,SAAW,cAAX,cAAyB,KAAzB,cAAiC,gBACnE,GAAI,EAAkB,CAClB,GAAM,GAA0B,EAAiB,mBAAmB,QAChE,IAAI,qBAAkB,iBACtB,KAAK,qBAAkB,gBAC3B,EACA,EAAc,aAAU,gBAAkB,IAAI,IAC9C,EAAiB,QACb,EAAwB,EAAY,EAAW,EAAe,CAAuB,CACzF,CACJ,KACI,GACI,aAAU,gBACV,IAAI,EAAW,uBAAuB,qBAAkB,iBAEhE,MAAO,GAAU,YAAY,kBAAe,yBAC5C,MAAO,GAAU,YAAY,GAAG,kBAAe,oBAAoB,kBAAe,2BACtF,CA5CgB,yBAqDT,YACH,EACA,EACA,EACA,EACI,CACJ,AAAC,EAAU,YAAY,kBAAe,kBAAiC,WAAW,gBAAa,SAAW,CACtG,KAAM,GAAG,KAAyB,kBAAe,eACrD,EACA,GAAM,GAAiB,EAAU,YAAY,kBAAe,eAAiB,CACzE,KAAM,SACN,WAAY,CAAC,EACb,YAAa,UACb,qBAAsB,EAC1B,EACA,EAAc,aAAU,YAAc,GAEtC,GAAM,GAAQ,GAAU,gBAAc,CAAe,EAC/C,EACF,GACA,EAAW,aACX,EAAW,YAAY,IACvB,EAAW,YAAY,GAAO,eAElC,AAAI,EACA,GAAc,aAAU,gBACpB,IACA,EAAe,mBAAmB,QAC9B,IAAI,qBAAkB,iBACtB,KAAK,qBAAkB,gBAC3B,EACJ,EAAe,QACX,EAAwB,EAAY,EAAW,EAAgB,EAAe,CAAe,CACjG,GAEA,EACI,aAAU,gBACV,IAAI,EAAW,uBAAuB,qBAAkB,gBAEpE,CAvCgB,yBA8CT,YAA+B,EAAuB,EAA8B,CACvF,EAAU,WAAW,OAAY,CAC7B,KAAM,GAAG,KAAyB,kBAAe,kBACrD,EACA,EAAU,YAAY,kBAAe,kBAAoB,KAAK,MAC1D,KAAK,UAAU,EAAU,YAAY,GAAG,kBAAe,mBAAmB,CAC9E,EACA,EAAU,YAAY,kBAAe,kBACjC,aAAU,gBACV,IAAI,EAAW,uBAAuB,qBAAkB,YAChE,CAVgB,8BAkBT,YAAmC,EAAoB,EAAsD,CAChH,MAAO,GAAM,WACP,EAAW,WAAW,KAClB,AAAC,GAAO,EAAG,WAAW,OAAS,EAAM,WAAW,MAAQ,EAAG,OAAS,EAAM,WAAW,IACzF,EACA,MACV,CANgB,kCE5kBhB,OAAqD,sDAMrD,OAAuE,SAchE,YACH,EACA,EACA,EACI,CA1BR,MA2BI,GAAM,GAAgB,oBAAY,cAAZ,cAAyB,GAC/C,GAAI,CAAC,EACD,OAEJ,GAAM,GAAc,CAAC,EACrB,OAAW,KAAO,GAAe,CAC7B,GAAM,GAAa,EAAc,GACjC,GAAI,EAAiB,QAAQ,EAAW,IAAI,EAAI,GAAI,CAChD,GAAM,GAAY,EAAW,UACvB,GAAG,EAAW,QAAQ,EAAW,YACjC,GAAG,EAAW,OACpB,AAAI,EAAY,QAAQ,CAAS,IAAM,IACnC,EAAY,KAAK,CAAS,CAElC,CACJ,CACA,AAAI,EAAY,OAAS,GACrB,GAAS,KAAO,EAExB,CAxBgB,mCAgCT,YACH,EACA,EACA,EACI,CACJ,GAAM,GAAY,EAAU,YAAY,GAA+B,WAAW,aAAU,gBACtF,EAAmB,CAAC,qBAAkB,iBAAkB,qBAAkB,4BAA4B,EAC5G,GAA2B,EAAY,EAAkB,CAAsB,CACnF,CARgB,mCAgBT,YAAmC,EAAuB,EAAwB,EAA4B,CAtErH,MAuEI,GAAM,GAAY,KAAU,YAAY,KAAtB,cAAsD,WAAW,eAC7E,EAAmB,CAAC,qBAAkB,iBAAkB,qBAAkB,4BAA4B,EAC5G,GAA2B,EAAU,WAAY,EAAkB,CAAsB,CAC7F,CAJgB,kCAYT,YACH,EACA,EACA,EACI,CACJ,GAAM,GAAa,EAAU,YAAY,GAA+B,WAAW,UAC7E,EAAc,CAAC,EACrB,AAAI,CAAC,GAIL,GAAgB,WAAW,QAAQ,AAAC,GAAkB,CAClD,EAAY,KAAK,EAAG,IAAI,CAC5B,CAAC,EACG,EAAY,OAAS,GACrB,GAAU,KAAU,GAE5B,CAjBgB,mCAyBT,YACH,EACA,EACA,EACI,CACJ,GAAM,GAAY,EAAU,YAAY,GAA+B,WAAW,eAC5E,EAAmB,CAAC,qBAAkB,gBAAgB,EAC5D,GAA2B,EAAY,EAAkB,CAAQ,CACrE,CARgB,0CAgBT,YACH,EACA,EACA,EACI,CACJ,GAAM,GAAY,EAAU,YAAY,GAA+B,WAAW,eAC5E,EAAmB,CAAC,qBAAkB,UAAU,EACtD,GAA2B,EAAY,EAAkB,CAAQ,CACrE,CARgB,wCAkBT,YACH,EACA,EACA,EACA,EACI,CACJ,GAAM,GAAgB,EAAc,IAAI,AAAC,GAA0B,CAE/D,GAAM,GAAe,EAAa,KAAK,AAAC,GAAa,CAAC,CAAC,EAAQ,EAAS,EAClE,EAAqB,EAAQ,GACnC,MAAO,QACH,MAAO,GACH,EAAQ,OAAS,CAAE,YAAa,EAAQ,KAAM,GAC9C,EAAQ,QAAU,CAAE,OAAQ,EAAQ,MAAO,EAEvD,CAAC,EAED,GAAI,EAAc,OAAQ,CAGtB,EAAU,YAAY,kBAAe,kBAAoB,CACrD,KAAM,SACN,MAAO,CACX,EAGA,OAAW,KAAQ,GAAoB,CACnC,GAAM,GAAa,EAAU,YAAY,GACnC,EAAW,EAAW,WAAW,aACvC,EAAW,WAAW,aAAkB,CACpC,MAAO,CACH,CACI,KAAM,GAAG,KAAyB,kBAAe,kBACrD,EACA,CACJ,CACJ,CACJ,CACJ,CACJ,CAvCgB,yCA8CT,YAA6B,EAA0B,CAC1D,MAAO,GAAS,QAAQ,IAAK,IAAI,CACrC,CAFgB,4BAUhB,YAA+B,EAAoB,EAA0B,CACzE,MAAO,GAAG,KAAc,GAAoB,CAAQ,IACxD,CAFS,8BAaF,YACH,EACA,EACA,EACA,EAAqB,GACrB,EACU,CACV,GAAI,GAAqB,EAIzB,GAHI,GACA,GAAqB,GAAsB,GAAwC,EAAY,CAAQ,GAEvG,GAAc,IAAe,EAAoB,CACjD,GAAM,GAAmB,KAAK,MAAM,KAAK,UAAU,EAAU,YAAY,EAAW,CAAC,EACrF,EAAU,YAAY,GAAsB,CAChD,CACA,MAAO,GAAU,YAAY,EACjC,CAhBgB,8BAyBT,YACH,EACA,EACA,EACM,CACN,GAAI,GACJ,MACI,KAAe,kBAAe,WAC9B,IAAe,4BACf,IAAe,uCAEf,EAAiB,GAAG,KAAyB,IAE7C,GAAiB,GAAG,KAAyB,KAAiC,KAC9E,GAAsB,EAA+B,EAAY,EAAW,EAAI,GAE7E,CACX,CAjBgB,yCA6BT,YACH,EACA,EACA,EACA,EACA,EACA,EACwE,CACxE,GAAI,GAEJ,EAAU,YAAY,GAAc,CAChC,KAAM,SACN,WAAY,CAAC,EACb,YAAa,SACjB,EACA,EAAU,YAAY,GAAY,aAAU,YAAc,GAC1D,GAAM,GAA0B,GAAiC,EAAW,EAAY,CAA0B,EAClH,AAAC,EAAU,YAAY,GAA2B,qBAAuB,EACnE,CAAE,KAAM,CAAgB,EACxB,GAEN,GAAM,GAAU,EAAW,WAAW,kBAAe,SAAS,EACxD,kBAAe,QACf,kBAAe,kBACf,EAAqB,GAAG,KAAW,KACzC,EAAU,YAAY,GAAsB,KAAK,MAAM,KAAK,UAAU,EAAU,YAAY,GAAG,IAAU,CAAC,EAE1G,GAAM,GAAqB,GAAG,kBAAe,WAAW,GAAW,CAAU,KAC7E,AAAC,EAAU,YAAY,GAAmC,WAAW,QAAQ,KACzE,GAAyB,EAE7B,GAAM,GAAW,EAAW,WAAW,kBAAe,SAAS,EACzD,kBAAe,QACf,kBAAe,yBACf,EAAW,EAAU,YAAY,GAAsB,KAAK,MAC9D,KAAK,UAAU,EAAU,YAAY,EAAS,CAClD,EAIA,GAHA,EAAQ,WAAa,CAAC,EAEtB,EAAQ,qBAAuB,GAC3B,EAA4B,CAC5B,GAAM,GAAkB,GAAiC,EAAW,EAAY,CAA0B,EAC1G,EAAQ,qBAAuB,CAAE,KAAM,CAAgB,CAC3D,CAGA,GAAI,GAAe,EACnB,GAAI,IAAe,kBAAe,WAAa,EAAU,WAAW,OAAW,CAC3E,EAAoB,GAAG,kBAAe,UAAU,KAC/C,EAAU,WAAW,OAAyB,KAAO,GAAG,KAAyB,IAElF,EAAU,YAAY,GAAqB,KAAK,MAC5C,KAAK,UAAU,EAAU,YAAY,kBAAe,cAAc,CACtE,EACA,GAAM,GAA2B,GAAG,kBAAe,iBAAiB,GAAW,CAAU,KACzF,AAAC,EAAU,YAAY,GAAkC,WAAW,QAAQ,KACxE,GAAyB,EAE7B,EAAgB,EAAU,YAAY,GAA4B,KAAK,MACnE,KAAK,UAAU,EAAU,YAAY,kBAAe,QAAQ,CAChE,EACA,EAAc,WAAa,CAAC,EAC5B,EAAc,qBAAuB,EACzC,CAEA,MAAI,IACA,GAAe,GACX,EAAW,mBACX,EAAmB,KACnB,EAAmB,SACvB,EACA,EAAU,YAAY,GAAoB,aAAU,gBAAkB,EAClE,GACA,GAAU,YAAY,GAAmB,aAAU,gBAAkB,IAItE,CAAE,UAAS,gBAAe,cAAa,CAClD,CA9EgB,qCAsFT,YAAuB,EAAuB,EAAwB,EAAkB,GAAU,CACrG,GAAM,GAAoB,CAAC,EACvB,EAAiB,CAAC,EAChB,EAAe,GAAG,kBAAe,YAAY,GAAW,CAAe,IAC7E,OAAW,KAAO,GAAW,iBAAkB,CAC3C,GAAM,GAAe,EAAI,KACzB,EAAkB,KAAK,CAAY,EACnC,EAAe,GAAgB,CAC3B,KAAM,GAAG,KAAyB,GACtC,CACJ,CACA,EAAU,YAAY,EAAW,MAAQ,CACrC,KAAM,CACV,EACC,EAAU,YAAY,GAA6B,WAAW,KAAO,CAClE,KAAM,GAAG,KAAyB,EAAW,MACjD,EACA,GAAM,GAAoB,oBAAoB,GAAW,CAAe,IACxE,EAAU,YAAY,GAAqB,CACvC,KAAM,SACN,WAAY,EACZ,qBAAsB,EAC1B,EACA,GAAM,GAAgB,EAAU,YAAY,GAAG,kBAAe,gBAAgB,KAC9E,AAAC,EAAc,WAAW,OAAsB,KAAO,GAAG,KAAyB,GACvF,CAzBgB,sBA4CT,YAAmC,EAAiC,CA1Y3E,QA2YI,GAAI,GAEJ,MAAI,GAAO,MACP,AAAI,EAAO,gBAAkB,8BACzB,EAAW,SACR,AAAI,EAAO,gBAAkB,gCAChC,EAAW,WACR,AAAI,EAAO,QAAU,2CACxB,EAAW,YAEX,EAAW,QAAO,QAAP,cAAc,UAAd,cAAuB,KAAK,QAAQ,OAAQ,IAExD,AAAI,EAAO,QAAU,oDACxB,EAAW,UACR,AAAI,EAAO,QAAU,oDACxB,EAAW,UACR,AAAI,EAAO,QAAU,iDACxB,EAAW,QACJ,EAAO,QAAU,6CACxB,GAAW,cAER,CACX,CAvBgB,kCAiCT,YAA2B,EAAmC,CA3arE,MA4aI,GAAI,GAEJ,MAAI,GAAM,MACN,AAAI,KAAM,MAAS,UAAf,QAAwB,KACxB,EAAW,EAAM,MAAS,QAAQ,KAAK,QAAQ,OAAQ,EAAE,EAEzD,EAAW,SAEZ,AAAI,EAAM,OACb,EAAW,GAA0B,EAAM,OAAU,OAAO,EACzD,AAAI,EAAM,QACb,EAAW,EAAM,QAAW,KAAK,QAAQ,OAAQ,EAAE,EAChD,AAAI,EAAM,QAAa,gDAC1B,EAAW,SACR,AAAI,EAAM,QAAa,8CAC1B,EAAW,MACR,AAAI,EAAM,QAAa,+DAC1B,EAAW,wBACJ,EAAM,MACb,GAAW,EAAM,MAGd,CACX,CAxBgB,0BA+BT,YAAiC,EAAoB,EAAqB,CAC7E,GAAM,GAAW,GAAkB,CAAK,EACxC,AAAI,GACA,GAAW,aAAU,UAAY,EAEzC,CALgB,gCAaT,YAAgC,EAA4C,EAA0B,CACzG,MAAO,GAAG,KAAyB,GAAsB,EAAY,CAAQ,GACjF,CAFgB,+BAWT,YAA0B,EAAwB,EAAmB,EAA0B,CAClG,GAAM,GAAa,EAAY,GAAG,KAAa,KAAe,EAC9D,EAAW,KAAO,GAAG,KAAyB,GAClD,CAHgB,yBAUT,YAAgC,EAAyE,CAC5G,GAAK,EAAsB,eACvB,MAAQ,GAAsB,eAC3B,GAAK,EAAgC,mBAAoB,CAC5D,GAAM,CAAC,EAAW,GAAW,EAAgC,mBAAmB,MAAM,IAAI,iBAAc,EACxG,MAAO,IAAI,MAAc,kBAAe,GAC5C,CAEJ,CARgB,+BAkBT,YACH,EACA,EACA,EACA,EACA,EACA,EACA,EAAiB,GACnB,CACE,GAAM,GAAiB,aAAa,IAAgB,EAAM,OAAO,IAC3D,EAAoB,aAAa,IAAmB,EAAM,OAAO,IACvE,EAAS,WAAW,GAAY,CAC5B,KAAM,GAAuB,EAAmB,EAAoB,EAAgB,CAAQ,CAChG,EACA,GAAM,GAAa,GACf,EAAmB,EAAoB,EACvC,EACA,EACA,GACA,EAAmB,EAAoB,MAC3C,EACA,GAA8B,EAAO,EAAY,CAAQ,EACzD,EAAW,aAAU,gBAAkB,EAAM,eAC7C,EAAW,aAAU,YAAc,EACvC,CAxBgB,6BAgChB,YAA8B,EAAiC,EAAa,EAAsB,CAC9F,AAAI,MAAO,IAAe,UACtB,GAAW,GAAO,EAE1B,CAJS,6BAaF,YACH,EACA,EACA,EACI,CA/iBR,MAgjBI,GAAI,MAAO,IAAW,SAElB,OAEJ,GAAM,GAA4D,CAAC,EACnE,OAAW,KAAO,GAAO,WAAY,CACjC,GAAM,GAAW,EAAO,WAAW,GACnC,EAAU,KAAK,IACX,MAAO,GACH,EAAS,aAAe,CAAE,YAAa,EAAS,WAAY,EACnE,CACL,CACA,GAAM,GAAa,EAAU,YAAY,EAAO,YAChD,GAAI,MAAO,IAAe,SACtB,GAAI,EAAO,SAAU,CACjB,GAAM,GAAW,KAAW,aAAX,cAAwB,EAAO,UAChD,GAAqB,EAAU,QAAS,CAAS,CACrD,KACI,IAAqB,EAAY,QAAS,CAAS,CAG/D,CA1BgB,qCAkCT,YAAsB,EAAgB,EAAgD,CACzF,GAAI,GAAY,EACZ,EACJ,MAAI,GAAU,QAAQ,GAAG,EAAI,GACzB,GAAY,EAAU,UAAU,EAAG,EAAU,QAAQ,GAAG,CAAC,GAEzD,GAAY,EAAU,QAAQ,GAAG,EAAI,GACrC,GAAY,EAAU,UAAU,EAAG,EAAU,QAAQ,GAAG,CAAC,EACzD,EAAY,EAAU,UAAU,EAAU,YAAY,GAAG,EAAI,CAAC,GAE9D,GAAY,EAAU,QAAQ,GAAG,EAAI,GACrC,GAAY,EAAU,UAAU,EAAG,EAAU,YAAY,GAAG,CAAC,EAC7D,EAAY,EAAU,UAAU,EAAU,YAAY,GAAG,EAAI,CAAC,GAE7D,GACD,GAAY,EAAO,UAAU,EAAG,EAAO,YAAY,GAAG,CAAC,GAEpD,CAAE,IAAK,EAAU,QAAQ,KAAM,EAAE,EAAG,GAAI,CAAU,CAC7D,CAlBgB,qBA0BT,YAA4B,EAAwB,EAAoB,EAAyB,CACpG,GAAI,EAAe,MACf,EAAW,GAAW,aAAU,MAAQ,CACpC,CAAE,KAAM,iBAAc,MAAO,MAAO,GAAyB,EAAe,KAAQ,CAAE,CAC1F,UAEA,EAAe,QAAa,qBAAkB,qBAC9C,EAAe,QAAa,qBAAkB,mBAChD,CACE,GAAM,CAAE,MAAK,MAAO,GAAa,EAAe,OAAW,EAAI,EAC/D,EAAW,GAAW,aAAU,MAAQ,CAAC,CAAE,KAAM,iBAAc,OAAQ,MAAO,CAAI,CAAC,EAC/E,GACA,GAAW,GAAW,aAAU,QAAU,EAElD,SAAW,EAAe,QAAa,qBAAkB,uBAAwB,CAC7E,GAAM,CAAE,OAAQ,GAAa,EAAe,OAAU,MAAO,EAAK,EAClE,EAAW,GAAW,aAAU,MAAQ,CACpC,CAAE,KAAM,iBAAc,OAAQ,MAAO,EAAI,QAAQ,+BAAgC,EAAE,CAAE,CACzF,EACA,EAAW,GAAW,aAAU,QAAU,EAAe,OAAU,QAAQ,mBAAmB,MAAM,GAAG,EAAE,EAC7G,SACI,EAAe,QAAa,qBAAkB,mCAC9C,EAAe,QAAa,qBAAkB,mCAChD,CACE,GAAM,GAAW,EAAU,MAAM,IAAI,EACrC,EAAW,GAAW,aAAU,MAAQ,CACpC,CAAE,KAAM,WAAY,MAAO,EAAS,EAAS,OAAS,EAAG,EACzD,CAAE,KAAM,iBAAkB,MAAO,EAAe,cAAkB,EAClE,CAAE,KAAM,SAAU,MAAO,EAAe,MAAU,CACtD,CACJ,CACJ,CA/BgB,2BCtmBhB,OAAkC,sDASlC,GAYO,SCbP,OAAgF,SCChF,OAQO,SAQP,YAA2B,EAAiC,CA1B5D,MA2BI,GAAM,GAAc,KAAiB,KAAK,OAAtB,cAA4B,MAAM,KACtD,MAAO,GAAW,EAAW,OAAS,EAC1C,CAHS,0BAWT,YAAqB,EAAyB,EAA0B,CArCxE,QAuCI,MAAQ,CADU,qBAAkB,OAAlB,cAAwB,WAAa,MAAI,WAAJ,cAAiC,WACpE,aAAU,KAAK,YAAY,CACnD,CAHS,oBAYT,YACI,EACA,EACA,EACwC,CArD5C,QAsDI,GAAM,GAAgB,EAAC,GAAgC,CAtD3D,MAuDQ,MAAO,KAAU,MAAM,GAAG,EAAI,KAAK,EAAE,KAA9B,cAAkC,MAAM,IACnD,EAFsB,iBAGhB,EAAc,EAAI,SAClB,EAAW,MAAiB,OAAjB,cAAuB,OAAQ,kBAAa,MACvD,EAAY,KAAiB,OAAjB,cAAuB,KACzC,AAAI,WAAU,SAAS,EAAI,IACvB,EAAW,EAAc,CAAQ,EAC1B,WAAS,SAAS,EAAI,KAC7B,GAAW,CAAC,GAAG,EAAc,CAAO,EAAG,GAAG,EAAS,MAAM,GAAG,CAAC,GAEjE,GAAM,CAAC,EAAW,GAAY,CAAC,EAAS,MAAM,EAAG,EAAE,EAAG,GAAG,EAAS,MAAM,EAAE,CAAC,EAC3E,MAAO,CAAE,SAAU,EAAW,UAAS,CAC3C,CAlBS,oBA0BT,YAA2B,EAAyB,EAA0B,CAC1E,GAAM,GAAW,EAAK,WAAa,GAAkB,CAAI,EACnD,CAAE,WAAU,YAAa,GAAY,EAAM,EAAK,CAAC,CAAQ,CAAC,EAC1D,EAAW,GAAY,EAAM,CAAG,EAEtC,MAAO,CAAC,GAAG,EAAU,GAAG,UAAiB,GAAU,EAAE,KAAK,GAAG,CACjE,CANS,0BAYF,YAA2B,CAOpB,YACN,EACA,EACA,EACA,EACA,EACA,EACA,EACF,CAVK,0BAAsC,CAAC,EAW1C,GAAM,GAAa,GAAkB,cAAW,WAAW,EAC3D,KAAK,IAAM,IACP,QAAS,EAAW,KACpB,GAAI,EAAS,WAAW,GACxB,QACA,OACA,OAAQ,CACJ,cAAe,EACf,MAAO,IAAY,wBAAqB,GAAK,gBAAa,GAAK,gBAAa,EAChF,GACI,GAAY,CAAE,UAAS,GAE/B,KAAK,QAAU,EACf,KAAK,OAAS,CAClB,CASO,mBAA8D,CACjE,GAAM,GAAqB,CAAC,EACtB,EAAmB,CAAC,EACtB,EAEJ,OAAW,KAAU,MAAK,IAAI,MAE1B,GADA,EAAO,KAAK,IAAI,MAAM,GAClB,CAAC,cAAW,WAAY,cAAW,aAAa,EAAE,SAAS,EAAK,QAAsB,EAAG,CACzF,GAAM,GAAY,GAAkB,EAAM,KAAK,GAAG,EAC5C,CAAE,KAAM,GAAY,GAAkB,EAAK,QAAQ,EACnD,EAA2B,CAAE,YAAW,SAAQ,EACtD,EAAY,GAAG,WAAQ,SAAS,UAAiB,CACrD,SAAW,EAAK,OAAQ,CACpB,GAAM,GAAS,EAAK,OACd,EAAa,GAAkB,EAAK,SAAU,EAAK,SAAS,EAClE,GAAI,KAAK,QAAQ,EAAW,UACxB,EAAO,QAAU,EAAW,SACzB,CACH,GAAM,GAAoB,GAAkB,EAAK,QAAQ,EACzD,EAAO,QAAU,EAAkB,IACvC,CACA,EAAY,GAAG,WAAQ,SAAS,UAAiB,CACrD,CAIJ,GAAM,GAAmB,KAAK,MAAM,KAAK,UAAU,KAAK,GAAG,CAAC,EAC5D,OAAW,KAAU,GAAI,MACrB,MAAO,GAAI,MAAM,GAAQ,OAE7B,SAAU,YAAS,KAAO,EAEnB,CAAE,YAAW,aAAY,CACpC,CACJ,EAzEO,oBCvFP,OAUO,SCTP,OAA2D,SAkBpD,YAAyB,EAAyB,EAAyB,EAA8B,CAC5G,GAAI,EAAO,YAAY,SAAS,kBAAe,KAAK,EAChD,EAAO,EAAO,YAAc,EAAO,iBAC5B,EAAO,cAAgB,eAAY,YAAa,CAIvD,GAAI,CAHoB,kBAAY,YAAY,kBAAe,cAA4B,WACvF,EAAO,YAGP,OAEJ,GAAM,GAAU,EAAO,UAAU,MAAM,GAAG,EAIpC,EAAiB,AAHJ,EAAQ,EAAQ,OAAS,GAGV,MAAM,2BAA2B,EAC7D,EAAQ,EAAe,EAAe,OAAS,GAChD,QAAQ,sBAAuB,EAAE,EACjC,QAAQ,yBAA0B,gBAAa,EAC/C,QAAQ,IAAK,KAAK,EACvB,AAAK,EAAO,SACR,GAAO,QAAU,CAAC,GAEjB,EAAO,QAAQ,IAChB,GAAO,QAAQ,GAAS,CAAC,GAE7B,EAAO,QAAQ,GAAO,EAAO,YAAc,EAAO,QACtD,CACJ,CA3BgB,wBClBhB,OAA6B,SAUhB,GAAgC,GAAC,EAAkB,IAAyB,CACrF,GAAI,GAAkB,EACtB,SAAK,MAAM,GAAG,EAAE,QAAQ,SAAU,EAAS,CACvC,AAAK,EAAgB,IACjB,GAAgB,GAAW,CAAC,GAEhC,EAAkB,GAAmB,EAAgB,EACzD,CAAC,EACM,GAAoC,CAAC,CAChD,EAT6C,iCAkBhC,GAA6B,GAAC,EAAkB,IAAqC,CAC9F,GAAI,GAAkB,EAChB,EAAW,EAAK,MAAM,GAAG,EAC/B,OAAW,KAAW,GAAU,CAC5B,GAAI,CAAC,EAAgB,GACjB,OAEJ,EAAkB,GAAmB,EAAgB,EACzD,CACA,MAAO,IAAoC,CAAC,CAChD,EAV0C,8BAY7B,GAAgC,GAAC,EAAkB,IAAuB,CACnF,GAAI,GAAkB,EACtB,OAAS,GAAQ,EAAG,EAAQ,EAAK,MAAM,GAAG,EAAE,OAAQ,IAAS,CACzD,GAAM,GAAU,EAAK,MAAM,GAAG,EAAE,GAChC,AAAI,IAAU,EAAK,MAAM,GAAG,EAAE,OAAS,EACnC,MAAO,GAAgB,GAEvB,EAAkB,GAAmB,EAAgB,EAE7D,CACJ,EAV6C,iCAY7C,YAA4B,EAAyC,CACjE,MAAO,CACH,UAAW,CACP,KAAM,iCAAmC,CAC7C,CACJ,CACJ,CANS,2BAeT,YACI,EACA,EACA,EAC6B,CAC7B,GAAI,EAAC,EAGL,OAAW,KAAU,GAAO,CACxB,GAAM,GAAO,EAAM,GACnB,GAAI,EAAK,YAAc,GAAa,EAAK,qBAAuB,EAC5D,MAAO,EAEf,CACJ,CAdS,2BAgBT,YAAsC,EAAuB,EAAqB,EAAsB,CAEpG,GAAI,EAAC,EAAY,IAGb,GAAa,OAAY,CAAC,OAAO,OAAO,EAAa,KAAQ,EAAE,IAC/D,GAAa,MAAS,GAAG,EAAY,GAAa,YAAY,EAAY,GAAa,aACnF,GAAmB,EAAY,GAAa,QAAQ,GAEvD,EAAa,OACd,GAAa,MAAW,EACnB,GAAG,EAAY,GAAa,YAAY,EAAY,GAAa,aAAc,GAC5E,EAAY,GAAa,QAC7B,CACJ,GAEA,CAAC,MAAM,QAAQ,EAAa,KAAQ,GAAG,CACvC,GAAI,GAAyB,GACzB,EAAa,MACb,EAAY,GAAa,UACzB,EAAY,GAAa,kBAC7B,EAEA,AAAK,GACD,GAAa,MAAS,GAAG,EAAY,GAAa,YAAY,EAAY,GAAa,aACnF,EAAyB,GAAmB,EAAY,GAAa,QAAQ,GAGrF,GAA6B,EAAa,EAAa,CAAsB,CACjF,CACJ,CA9BS,qCAgCT,YAAoB,EAAsB,EAAuB,EAAqB,CAClF,AAAI,EAAa,OACb,OAAO,KAAK,EAAa,KAAQ,EAAE,QAAQ,AAAC,GAAQ,CAChD,GAAM,GAAc,EAAa,MAAS,GAC1C,GAAI,EAAY,UAAU,OAAS,MAAG,2BAA4B,CAC9D,GAAM,GAAY,cAAc,EAAY,YAC5C,AAAK,EAAY,IACb,MAAO,GAAa,MAAS,EAErC,CACJ,CAAC,EAGA,GAAW,WAAa,YAAS,YAAc,EAAW,WAAa,YAAS,qBACjF,OAAO,KAAK,EAAW,UAAU,EAAE,SAAW,GAE9C,MAAO,GAAa,KAE5B,CAlBS,mBA0BF,YAAsC,EAAgB,EAAuB,EAA4B,CAC5G,GAAM,GAAa,EAAY,GAC/B,GAAI,EAAC,GAGD,GAAW,WACX,GAAa,UAAe,EAAW,WAEvC,EAAW,WAAa,YAAS,YACjC,GAAa,UAAa,KAAU,IAEpC,EAAW,oBACX,GAAa,mBAAwB,EAAW,oBAEpD,AAAI,EAAW,kBACX,EAAa,kBAAuB,EAAW,kBACxC,qBAAuB,IAC9B,MAAO,GAAa,kBAEpB,EAAW,YAAY,CACvB,OAAW,KAAe,GAAW,WACjC,GAA6B,EAAa,EAAa,CAAY,EAGvE,AAAK,MAAM,QAAQ,EAAa,KAAQ,GACpC,GAAW,EAAc,EAAa,CAAU,CAExD,CACJ,CA5BgB,qCFhHhB,OAAyB,SG9BzB,q5ECUA,OAAuE,SAE1D,GAAsB,EAAC,GACzB,GAAG,mBAAgB,iBAAiB,EAAS,wBADrB,uBAItB,GAAwB,EAAC,GAC3B,GAAoB,CAAQ,EAAI,iBADN,yBAIxB,GAAwB,EAAC,GAC3B,GAAoB,CAAQ,EAAI,iBADN,yBAIxB,GAA2B,EAAC,GAC9B,GAAoB,CAAQ,EAAI,oBADH,4BAI3B,GAA0B,GAAC,EAAoB,IACjD,GAAG,GAAsB,CAAQ,sCAAsC,IAD3C,2BAI1B,GAAoB,MACtB,mBAAgB,IADM,qBAIpB,GAAsB,EAAC,GAA8B,CAC9D,GAAM,GAAsB,CAAC,mBAAgB,IAAM,QAAQ,EAC3D,SAAQ,QAAQ,AAAC,GAAU,CACvB,AAAI,IAAS,OAAG,iBACZ,EAAU,KAAK,UAAU,EAEzB,EAAU,KAAK,CAAK,CAE5B,CAAC,EACD,EAAU,IAAI,EACP,EAAU,KAAK,GAAG,CAC7B,EAXmC,uBAatB,GAAwB,EAAC,GAA8B,CAChE,GAAM,GAAsB,CAAC,mBAAgB,GAAG,EAChD,SAAQ,QAAQ,AAAC,GAAU,CACvB,EAAU,KAAK,CAAK,CACxB,CAAC,EACD,EAAU,IAAI,EACP,EAAU,KAAK,GAAG,CAC7B,EAPqC,yBAUxB,GAAqB,GAAC,EAAoB,IAC5C,GAAG,mBAAgB,iBAAiB,EAAS,kDAAkD,IADxE,sBAKrB,GAA2B,EAAC,GAA+B,CACpE,GAAM,GAAsB,CAAC,mBAAgB,OAAO,EACpD,SAAS,QAAQ,AAAC,GAAY,CAC1B,EAAU,KAAK,SAAW,CAAO,CACrC,CAAC,EACM,EAAU,KAAK,GAAG,CAC7B,EANwC,4BAS3B,GAAyB,EAAC,GAA+B,CAClE,GAAM,GAAsB,CAAC,EAC7B,SAAU,KAAK,GAAyB,CAAQ,CAAC,EACjD,EAAU,KAAK,oBAAoB,EAC5B,EAAU,KAAK,GAAG,CAC7B,EALsC,0BAOzB,GAAgC,GAAC,EAAoB,EAAqB,IAA8B,CACjH,GAAM,GAAsB,CAAC,EAC7B,EAAU,KAAK,GAAyB,CAAQ,CAAC,EACjD,GAAM,GAAoB,EAAU,QAAQ,iBAAe,wBAAwB,EACnF,SAAU,KAAK,+BAAiC,CAAiB,EAC1D,EAAU,KAAK,GAAG,CAC7B,EAN6C,iCAQhC,GAAmC,GAC5C,EACA,EACA,IAGO,AADM,GAA8B,EAAU,CAAC,EAAG,CAAS,EACpD,iBAN8B,oCASnC,GAAmC,GAC5C,EACA,EACA,IAGO,AADM,GAA8B,EAAU,CAAC,EAAG,CAAS,EACpD,iBAN8B,oCASnC,GAAwB,MAC1B,8BAA8B,MAAG,yBAAyB,MAAG,oCADnC,yBAIxB,GAAiC,GAC1C,EACA,EACA,KACG,IACM,CACT,GAAM,GAAY,IACZ,EAAiB,EAAU,MAAM,CAAS,EAC1C,EAAgB,EAAS,EAAS,OAAS,GAAG,MAAM,CAAS,EAC/D,EAAa,GACjB,AAAI,EAAe,SAAW,EAG1B,EAAa,CAAC,EAAe,GAAI,EAAe,EAAE,EAAE,KAAK,CAAS,EAC3D,EAAe,SAAW,GACjC,GAAa,EAAe,IAEhC,GAAM,GAAkB,CAAC,EAAe,GAAI,EAAc,EAAc,OAAS,GAAI,CAAU,EAAE,KAAK,CAAS,EAE/G,SAAU,QAAQ,CAAe,EAE1B,GAAG,GAAsB,KAAK,EAAU,KAAK,GAAG,GAC3D,EAtB8C,kCAwBvC,QAA2C,CAOlD,EAPO,sBAMH,GADA,AAAC,GAAQ,UAAU,GACnB,AANG,GAMH,wBAGG,YAA4C,CA0EnD,EA1EO,oBAMH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,SACxB,CACJ,CAAC,GACD,AANG,GAMH,qBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,SACxB,CACJ,CAAC,GACD,AAbG,GAaH,2BAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,qBACxB,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAvBG,GAuBH,oCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,qBACxB,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAjCG,GAiCH,kCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,qBACxB,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA3CG,GA2CH,4CAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,SACxB,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AArDG,GAqDH,2BAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,qBACxB,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA/DG,GA+DH,gDAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,qBACxB,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAzEG,GAyEH,qCCpNG,YAA0D,CAsEjE,EAtEO,2BAMH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AANG,GAMH,yBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAbG,GAaH,qBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AApBG,GAoBH,wBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA3BG,GA2BH,4CAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAlCG,GAkCH,uCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAzCG,GAyCH,0CAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAhDG,GAgDH,2BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAvDG,GAuDH,uCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA9DG,GA8DH,oBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AArEG,GAqEH,8BAGG,oBAAyB,GAAmE,CAkNnG,EAlNO,mBAMH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AANG,GAMH,qBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAbG,GAaH,wBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AApBG,GAoBH,wBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA3BG,GA2BH,wBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAlCG,GAkCH,kCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAzCG,GAyCH,6BASA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAlDG,GAkDH,0BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAzDG,GAyDH,wBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAhEG,GAgEH,sBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAvEG,GAuEH,yBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA9EG,GA8EH,8BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AArFG,GAqFH,mCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA5FG,GA4FH,uCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAnGG,GAmGH,iCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA1GG,GA0GH,mDAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAjHG,GAiHH,6CAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAxHG,GAwHH,6BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA/HG,GA+HH,yCAUA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAzIG,GAyIH,8CAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAhJG,GAgJH,0BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAvJG,GAuJH,kCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA9JG,GA8JH,mCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AArKG,GAqKH,8BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA5KG,GA4KH,kCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAnLG,GAmLH,6BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA1LG,GA0LH,4BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAjMG,GAiMH,+BASA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA1MG,GA0MH,4BAUG,oBAAuB,GAA0C,CA6ExE,EA7EO,iBAMH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AANG,GAMH,qBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAbG,GAaH,wBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AApBG,GAoBH,wBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA3BG,GA2BH,gCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAlCG,GAkCH,0BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAzCG,GAyCH,wBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAhDG,GAgDH,8BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAvDG,GAuDH,kCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA9DG,GA8DH,sBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AArEG,GAqEH,yBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA5EG,GA4EH,uCAGG,oBAA6B,GAAgD,CAiDpF,EAjDO,uBAMH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AANG,GAMH,qBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAbG,GAaH,wBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AApBG,GAoBH,wBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA3BG,GA2BH,sCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAlCG,GAkCH,mCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAzCG,GAyCH,uCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAhDG,GAgDH,kCAGG,oBAAwB,GAA2C,CA0C1E,EA1CO,kBAMH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AANG,GAMH,qBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAbG,GAaH,wBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AApBG,GAoBH,wBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA3BG,GA2BH,iCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAlCG,GAkCH,wBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAzCG,GAyCH,mDAGG,oBAA2B,GAA8C,CAgHhF,EAhHO,qBAMH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AANG,GAMH,qBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAbG,GAaH,wBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AApBG,GAoBH,wBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA3BG,GA2BH,oCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAlCG,GAkCH,qBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAzCG,GAyCH,wBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAhDG,GAgDH,yBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAvDG,GAuDH,0BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA9DG,GA8DH,sBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AArEG,GAqEH,yBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA5EG,GA4EH,oCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAnFG,GAmFH,4CAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA1FG,GA0FH,2BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAjGG,GAiGH,6BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAxGG,GAwGH,uCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA/GG,GA+GH,8BAGG,oBAAwB,GAA2C,CA6E1E,EA7EO,kBAMH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AANG,GAMH,qBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAbG,GAaH,wBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AApBG,GAoBH,2CAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA3BG,GA2BH,wBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAlCG,GAkCH,iCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAzCG,GAyCH,8BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAhDG,GAgDH,0BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAvDG,GAuDH,wBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA9DG,GA8DH,uCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AArEG,GAqEH,mDAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA5EG,GA4EH,kCC3oBJ,OAA4B,SAc5B,GAAM,IAAyB,GAC3B,EACA,EACA,EACA,EACA,IACS,CACT,GAAM,GAAc,GAAiB,EAAY,GAAI,CAAO,EACtD,EAAa,EAAY,MAAM,EAAE,EAAE,GAEzC,MAAO,IAAyB,EADP,CAAC,EAAa,EAAY,cAAc,CACT,CAC5D,EAX+B,0BAaxB,QAAgC,CAUvC,EAVO,cASH,GARA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,aAC5C,iBAAkB,EACtB,EACA,SAAU,EACd,CAAC,GACD,AATG,GASH,uBCjCJ,OAAkD,SAE3C,YAA4B,EAAoC,CACnE,GAAI,CAAC,GAAmB,CAAC,EAAgB,aACrC,OAEJ,GAAM,GAAwB,KAAK,MAAM,KAAK,UAAU,EAAgB,YAAe,CAAC,EAExF,MAAI,OAAO,GAAgB,aAAgB,gBAAsB,UAC7D,GAAW,eAAiB,EAAgB,aAAgB,eAAkB,MAAM,GAAG,GAE3F,MAAO,GAAW,OACX,CACX,CAXgB,2BAahB,YAAiC,EAAyC,EAAoB,EAAqB,CAC/G,GAAM,GAAa,WAAkB,GAC/B,KAAK,MAAM,KAAK,UAAU,iBAAkB,EAAY,CAAC,EACzD,OACF,EACJ,MAAI,KAAgB,kBAAoB,MAAO,IAAe,UAC1D,GAAiB,EAAW,MAAM,GAAG,GAErC,IAAgB,UAAY,MAAO,IAAe,UAClD,GAAiB,CAAC,EAClB,EAAW,QAAQ,CAAC,EAAS,IAAU,CACnC,EAAe,GAAS,EACpB,EAAQ,QAAa,MAAO,GAAQ,QAAc,UAClD,GAAe,GAAO,OAAS,EAAQ,OAAU,MAAM,GAAG,EAElE,CAAC,GAEE,CACX,CAlBS,gCAoBF,YAAiC,EAA0B,EAAuB,EAAmB,CACxG,EAAgB,GAAO,KAAK,MAAM,KAAK,UAAU,EAAW,EAAI,CAAC,EACjE,GAAM,GAAQ,EAAW,GAIzB,GAHI,IAAQ,kBACR,GAAgB,GAAO,EAAM,KAAK,GAElC,IAAQ,SACR,OAAW,KAAa,GAAO,CAC3B,GAAM,GAAc,EAAM,GAC1B,EAAgB,GAAK,GAAa,EAC9B,EAAY,QAAU,MAAM,QAAQ,EAAY,MAAM,GACtD,GAAgB,GAAK,GAAW,OAAS,EAAY,OAAO,KAAK,EAEzE,CAER,CAfgB,gCAiBT,YAAwC,CAkC/C,EAlCO,kBAWH,GAVA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GACI,GAAoB,CAAQ,EAAI,mBAE/C,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAXG,GAWH,4BAYA,GAVA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,EAAI,oBAC5D,OAAQ,GACR,OAAQ,EACZ,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAvBG,GAuBH,8BAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,EAAI,mBAChE,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAjCG,GAiCH,uBAGJ,GAAM,IAA4B,CAC9B,UAAW,GACX,YAAa,IAAmB,eAAY,eAC5C,iBAAkB,EACtB,EAEM,GAAgC,CAClC,KAAM,CAAC,EAAU,EAAW,IACxB,GAAG,GAAoB,CAAQ,IAAI,8BAA2B,GACtE,EAEM,GAA0C,SACzC,IADyC,CAE5C,OAAQ,GACR,OAAQ,EACZ,GAEO,QAAsD,CAQ7D,EARO,yBAOH,GANA,AAAC,EAAS,CACN,SAAU,EACd,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAPG,GAOH,yBAGG,YAA0E,CAwCjF,EAxCO,mCAOH,GANA,AAAC,EAAS,CACN,SAAU,EACd,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAPG,GAOH,8BAQA,GANA,AAAC,EAAS,CACN,SAAU,EACd,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAfG,GAeH,uBAQA,GANA,AAAC,EAAS,CACN,SAAU,EACd,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAvBG,GAuBH,6CAQA,GANA,AAAC,EAAS,CACN,SAAU,EACd,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA/BG,GA+BH,sBAQA,GANA,AAAC,EAAS,CACN,SAAU,EACd,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAvCG,GAuCH,4BAGG,YAAoD,CAE3D,EAFO,wBAIA,YAAoD,CA2E3D,EA3EO,wBASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,sCAQA,GANA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAjBG,GAiBH,wBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA3BG,GA2BH,uCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AArCG,GAqCH,2CAWA,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,EAAI,kBAC5D,OAAQ,EACZ,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAhDG,GAgDH,4BAUA,GANA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA1DG,GA0DH,6BAQA,GANA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAlEG,GAkEH,uCAQA,GANA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA1EG,GA0EH,+BAGG,oBAA0C,GAA0D,CAiB3G,EAjBO,oCAMH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AANG,GAMH,uCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAhBG,GAgBH,kDAGG,oBAAkC,GAAkD,CAW3F,EAXO,4BAUH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAVG,GAUH,8BC9QJ,OAA4B,SAsB5B,GAAM,IAAwB,GAC1B,EACA,EACA,EACA,EACA,IACS,CACT,GAAI,EAAY,IAAM,eAAY,OAAQ,CACtC,GAAM,GAAS,EAAY,EAAY,OAAS,GAC1C,EAAU,GAAiB,EAAY,GAAI,CAAO,EACxD,MAAO,GAAG,YAAiB,MAAW,eAC1C,CACA,MAAO,IAAyB,EAAQ,CAAa,CACzD,EAb8B,yBAexB,GAAwB,CAC1B,UAAW,GACX,YAAa,IAAmB,eAAY,OAC5C,iBAAkB,EACtB,EAEO,QAA0C,CA0BjD,EA1BO,mBAKH,GAJA,AAAC,EAAS,CACN,KAAM,GACN,SAAU,EACd,CAAC,GACD,AALG,GAKH,uBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAVG,GAUH,uBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAfG,GAeH,oBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AApBG,GAoBH,0BAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAzBG,GAyBH,oBAGG,YAA8C,CA6BrD,EA7BO,uBAKH,GAJA,AAAC,EAAS,CACN,KAAM,GACN,SAAU,EACd,CAAC,GACD,AALG,GAKH,uBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAVG,GAUH,uBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAfG,GAeH,oBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AApBG,GAoBH,0BAQA,GANA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA5BG,GA4BH,oBCpGJ,OAAoE,SAEpE,GAAmC,SCFnC,OAAqB,gBAErB,GAAwB,SAExB,GAAuB,SACvB,GAA6B,cAEvB,GAAgB,YAAK,UAAW,WAAW,EAc1C,GAAM,IAAiB,GAAC,EAAsB,IAA8D,CAC/G,GAAM,GAAW,oBAAa,EAAc,MAAM,EAClD,MAAO,cAAO,EAAU,CAAY,CACxC,EAH8B,kBAiGvB,GAAM,IAAyB,GAAC,EAA8B,IAAuC,CACxG,GAAM,GAA0C,CAC5C,GAAI,EAAO,GACX,KAAM,EAAO,KACb,UAAW,EAAO,UAClB,YAAa,EAAO,cAAgB,OAAY,EAAO,YAAY,SAAS,EAAI,OAChF,gBAAiB,EAAO,eAC5B,EACA,MAAO,IAAe,YAAK,GAAe,EAAW,MAAM,EAAG,CAAY,CAC9E,EATsC,0BAgBzB,GAA2B,GACpC,EACA,IACS,CACT,GAAI,GAAW,GAEf,GADA,EAAW,8FACP,EACA,OAAW,KAAU,GAAe,CAChC,GAAM,GAAa,GAAuB,EAAQ,CAAY,EAC9D,EAAW,EAAW;AAAA,EAAO,CACjC,CAEJ,MAAO,GAAW;AAAA,2BACtB,EAbwC,4BAoB3B,GAAkC,EAAC,GAAiD,CAC7F,GAAI,GAAW,mEACf,MAAI,IACA,EAAc,QAAQ,IAAM,CACxB,EAAW,EAAW;AAAA,iCAC1B,CAAC,EAEE,EAAW;AAAA,2BACtB,EAR+C,mCD/I/C,OAAoB,gBAEP,GAAsB,0BACtB,GAAe,eAEtB,GAAwF,GAAI,KAAI,CAClG,CAAC,oBAAiB,gCAAiC,CAAE,UAAW,QAAS,KAAM,QAAS,CAAC,EACzF,CAAC,oBAAiB,0BAA2B,CAAE,UAAW,GAAc,KAAM,QAAS,CAAC,EACxF,CAAC,oBAAiB,0BAA2B,CAAE,UAAW,GAAc,KAAM,QAAS,CAAC,EACxF,CAAC,oBAAiB,gCAAiC,CAAE,UAAW,GAAc,KAAM,kBAAmB,CAAC,CAC5G,CAAC,EAEK,GAAsD,GAAI,KAAI,CAChE,CAAC,MAAG,2BAA4B,MAAG,iCAAiC,EACpE,CAAC,MAAG,mBAAoB,MAAG,0CAA0C,EACrE,CAAC,MAAG,2BAA4B,MAAG,iCAAiC,CACxE,CAAC,EAEK,GAAa,CACf,KAAM,UACN,KAAM,OACN,WAAY,CAAE,KAAM,aAAc,CACtC,EACM,GAAqB,KAAK,UAAU,EAAU,EAQpD,YAA+B,EAAU,EAAsE,CAC3G,GAAM,GAAqB,EACrB,EAAS,IAAqB,YAC9B,EAAS,YACf,GAAI,EAAoB,CACpB,GAAM,GAAwB,GAAI,KAClC,cAAO,KAAK,CAAkB,EACzB,OAAO,AAAC,GAAc,EAAU,WAAW,OAAO,CAAC,EACnD,QAAQ,AAAC,GAAU,CAChB,GAAM,GAAqB,EAAsB,IAAI,EAAmB,EAAM,EAC9E,EAAsB,IAClB,EAAmB,GACnB,EACM,CAAC,GAAG,EAAoB,EAAM,MAAM,GAAG,EAAE,IAAM,CAAK,EACpD,CAAC,EAAM,MAAM,GAAG,EAAE,IAAM,CAAK,CACvC,CACJ,CAAC,EACE,CACX,CACJ,CAnBS,8BA2BT,YAAoB,EAA0C,EAAsC,CAChG,MAAK,GAEM,EAAmB,SAAS,OAAO,EACnC,EAAI,KAEJ,GAAG,KAAsB,EAAI,OAJ7B,GAAG,EAAI,aAAa,EAAI,MAMvC,CARS,mBAiBT,YACI,EACA,EACA,EAAoB,EACF,CAClB,GAAM,GAAa,GAAsB,EAAU,MAAoB,IAAa,EAAyB,EAC7G,GAAI,EAAkB,CAClB,GAAM,GAAM,GAA0B,IAAI,CAAgB,EAC1D,MAAO,IAAW,EAAK,EAAW,IAAI,EAAI,SAAS,CAAC,CACxD,KAAO,CACH,GAAM,GAAO,GAA0B,KAAK,EAC5C,OAAW,KAAO,GAAM,CACpB,GAAM,GAAM,GAA0B,IAAI,CAAG,EACvC,EAAU,EAAa,GAAW,EAAK,EAAW,IAAI,EAAI,SAAS,CAAC,EAAI,EAAI,KAClF,GAAI,EAAW,GACX,MAAO,EAEf,CACJ,CAEJ,CApBS,mCA4BF,YACH,EACA,EAAW,EACiB,CAC5B,GAAM,GAAO,GAA2B,EAAY,OAAW,CAAQ,EACvE,MAAO,GAAW,EACtB,CANgB,4CAchB,YAAqB,EAAsC,EAA6B,CACpF,GAAM,GAAmB,CACrB,KACA,OACA,YACA,eACA,SACA,gBACA,mBACJ,EACI,EAAW,MACf,OAAW,KAAO,GAAc,GAAc,CAC1C,GAAM,GAAQ,EAAc,GAAa,GACzC,AAAI,CAAC,EAAiB,SAAS,CAAG,GAAK,IAAU,QAAa,EAAM,SAAW,GACvE,KAAa,OACb,IAAY,MAEhB,GAAY,IAAI,QAAU,EAAM,SAAS,KAEjD,CACA,UAAY,IACL,CACX,CAtBS,oBA6BT,YAA8B,EAA2B,EAA+C,CA7JxG,UA8JI,GAAI,GAAgB,GACd,EAAa,EAAkB,YAAiB,EAAkB,oBACxE,GAAI,CAAC,EACD,MAAO,GAGX,GAAI,GAAW,EAAW,mBAAmB,YAAY,MACnD,EAAc,KAAK,MAAM,EAAS,OAAO,EAAG,EAAS,MAAM,CAAC,EAC5D,EAAc,EAAc,UAAU,AAAC,GAClC,EAAO,YAAc,EAAY,SAC3C,EACD,MAAI,GAAc,EACP,GAIX,GAAgB,GAChB,EAAW,GAAY,EAAe,CAAW,EACjD,EAAW,mBAAmB,YAAY,MAAQ,EAC9C,CAAC,EAAkB,MAAW,CAAC,EAAkB,OAAY,MAAc,KAAd,cAA4B,OACzF,GAAkB,KAAU,CACxB,YAAa,CAAC,CAClB,GAEJ,AAAI,EAAkB,MAAW,EAAkB,KAAQ,YACvD,EAAkB,KAAQ,YAAY,KAAU,KAAc,KAAd,cAA4B,KACrE,EAAkB,OAAY,EAAkB,MAAS,aAChE,GAAkB,MAAS,YAAY,KAAU,KAAc,KAAd,cAA4B,MAE5E,EAAkB,aACnB,GAAkB,YAAiB,CAAC,GAExC,EAAkB,YAAe,GAAQ,EAAc,GAAa,GACpE,EAAc,OAAO,EAAa,CAAC,EAC5B,EACX,CApCS,6BA6CT,YACI,EACA,EACA,EACA,EACI,CACJ,GAAM,GAAa,EAAgB,GAAS,aAAa,OAAO,EAAM,OAAS,CAAC,EAC1E,EAAe,EAAgB,KAAU,EAAgB,KAAQ,YAAY,EAAI,MACjF,EAAgB,EAAW,MAAM,GAAG,EACpC,EAAe,EAAc,EAAc,OAAS,GAAK,oBAAmB,EAClF,OAAW,KAAY,GAAW,CAC9B,GAAM,GAAoB,EAAS,cAAiB,MAAM,MAAG,EAC7D,GAAI,EAAkB,EAAkB,OAAS,KAAO,EAAc,CAClE,GAAM,GAAe,KAAK,MAAM,gBAAS,EAAS,YAAa,CAAE,QAAS,EAAK,CAAC,CAAC,EAC3E,EAAU,GAA2B,EAAa,GAAoB,EAC5E,AAAI,GACA,OAAO,GAAa,IAAqB,GACzC,EAAS,YAAc,gBAAS,KAAK,UAAU,CAAY,EAAG,CAAE,QAAS,GAAM,OAAQ,CAAE,CAAC,GAE9F,KACJ,CACJ,CACJ,CAtBS,kCA6BT,YAA6B,EAAoB,EAAsC,CAEnF,OAAS,GAAQ,EAAG,EAAQ,OAAO,KAAK,CAAa,EAAE,QAC/C,OAAK,UAAU,EAAc,EAAM,IAAM,IACzC,GAAc,OAAO,EAAO,CAAC,EAC7B,GAA0B,EACtB,IAA2B,IAJwB,IAC3D,CAQR,CAXS,4BAmBT,YAAiC,EAA6B,EAAuB,EAAqB,CACtG,GAAM,GAAe,EAAoB,KAAU,EAAoB,KAAQ,YAAY,EAAI,MACzF,EAAgB,EAAoB,aAAgB,OAAO,EAAM,OAAS,CAAC,EAAE,MAAM,GAAG,EACtF,EAAe,EAAc,EAAc,OAAS,GAAK,oBAAmB,EAClF,OAAW,KAAY,GACnB,GAAI,EAAS,cAAiB,SAAS,CAAY,EAAG,CAClD,GAAM,GAAe,KAAK,MAAM,gBAAS,EAAS,WAAW,CAAC,EACxD,EACF,EAAa,SAAS,GAAG,UACzB,EAAa,SAAS,GAAG,SAAS,OAAO,AAAC,GAC/B,EAAQ,OAAS,SAC3B,EACL,AAAI,GACA,GAAoB,EAAe,EAAc,MAAM,EAE3D,KACJ,CAER,CAlBS,gCA2BF,YACH,EACA,EACA,EACA,EACI,CACJ,GAAI,EAAW,CAEX,GAA0B,EAAiB,EAAW,EAAS,CAAK,EAEpE,GAAM,GAAY,EAAQ,QACtB,oBAAiB,gCACjB,oBAAiB,6BACrB,EACM,EAAsB,EAAgB,GAC5C,AAAI,GACA,GAAwB,EAAqB,EAAW,CAAK,CAErE,CACJ,CAnBgB,iCA2BhB,YAAiC,EAAoB,EAAmB,EAAqC,CACzG,GAAM,GAAa,EAAgB,OAAO,KAAK,CAAa,EAAE,OAAS,EACvE,AAAK,EAAa,SAAS,GAAG,UAC1B,GAAa,SAAS,GAAG,SAAW,CAAC,GAEzC,OAAS,GAAQ,EAAY,EAAQ,OAAO,KAAK,CAAM,EAAE,OAAQ,IAC7D,EAAa,SAAS,GAAG,SAAS,KAAK,EAAU,CAEzD,CARS,gCAeT,YAAqC,EAAoB,EAAqC,CAC1F,GAAM,GAAe,KAAK,MAAM,gBAAS,EAAS,WAAW,CAAC,EACxD,EACF,EAAa,SAAS,GAAG,UACzB,EAAa,SAAS,GAAG,SAAS,OAAO,AAAC,GAC/B,EAAQ,OAAS,SAC3B,EACL,GAAI,CAAC,GAAiB,OAAO,KAAK,CAAa,EAAE,SAAW,OAAO,KAAK,CAAM,EAAE,OAAQ,CACpF,GAAI,CAAC,GAAiB,OAAO,KAAK,CAAa,EAAE,OAAS,OAAO,KAAK,CAAM,EAAE,OAC1E,GAAwB,EAAe,EAAc,CAAM,UACpD,OAAO,KAAK,CAAa,EAAE,OAAS,OAAO,KAAK,CAAM,EAAE,OAAQ,CACvE,GAAM,GAAyB,OAAO,KAAK,CAAa,EAAE,OAAS,OAAO,KAAK,CAAM,EAAE,OACjF,EAAmB,EAAa,SAAS,GAAG,SAClD,GAAoB,EAAkB,CAAsB,CAChE,CACA,EAAS,YAAc,gBAAS,KAAK,UAAU,CAAY,EAAG,CAAE,OAAQ,CAAE,CAAC,CAC/E,CACJ,CAjBS,oCA0BT,YACI,EACA,EACA,EACO,CACP,GAAI,GAAqB,GACzB,OAAW,KAAY,GAAW,CAC9B,GAAM,GAAoB,EAAS,cAAiB,MAAM,MAAG,EAC7D,GAAI,EAAkB,EAAkB,OAAS,KAAO,EAAsB,CAC1E,EAAqB,GACrB,AAAI,CAAC,EAAS,aAAe,OAAO,KAAK,EAAS,WAAW,EAAE,SAAW,EAEtE,EAAS,YAAc,GAAgC,CAAM,EAE7D,GAA4B,EAAU,CAAM,EAEhD,KACJ,CACJ,CACA,MAAO,EACX,CApBS,4BA+BT,YACI,EACA,EACA,EACA,EACA,EACgG,CA9XpG,MA+XI,GAAI,GACA,EACE,EAAW,EAAc,SACzB,EAAkB,GAA8B,EAAU,CAAY,EACtE,EAAe,EAAgB,KAAU,EAAgB,KAAQ,YAAY,EAAI,MACvF,EAAgB,KAAU,EAAa,YAAY,EAEnD,OAAW,KAAiB,GAAQ,CAEhC,GAAI,CAAC,EAAc,aAAc,CAC7B,GAAI,EAAQ,CACR,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,aAAc,CAAE,UAAW,EAAc,SAAU,CAAC,CAC3E,CAAC,EACD,QACJ,CACA,EAAgB,aAAkB,EAAc,aAChD,EAAgB,UAAe,EAAc,UAC7C,EACI,MAAc,eAAd,cAA4B,QAAQ,EAAO,iBAAiB,QAAQ,OAAQ,SAC5E,oBACA,CACR,CACA,GAAI,EAAa,QAAQ,oBAAiB,+BAA+B,EAAI,GAAI,CAC7E,GAAM,GAAY,EAAa,QAC3B,oBAAiB,gCACjB,oBAAiB,6BACrB,EACM,EAAsB,GAA8B,EAAU,CAAS,EACvE,EAAsB,EAAO,OAAO,CAAC,EAAgB,IAChD,EAAO,kBAAoB,EAAS,CAC9C,EACD,AAAI,GAAuB,EAAoB,kBAC3C,GAAoB,aAAkB,EAAoB,EAAoB,kBAC9E,EAAoB,UAAe,EAAO,GAAG,UAC7C,EAAoB,KAAU,EAAa,YAAY,GAEvD,GAA8B,EAAU,CAAS,CAEzD,CACA,MAAO,CAAE,kBAAiB,aAAY,oBAAmB,cAAa,CAC1E,CAhDS,sCA2DT,YACI,EACA,EACA,EACA,EACA,EACM,CACN,GAAM,GAAoB,GAAuB,EAAQ,CAAgB,EACzE,GAAI,EAAmB,CACnB,GAAM,GAAsB,KAAK,MAAM,gBAAS,EAAmB,CAAE,QAAS,EAAK,CAAC,CAAC,EAC/E,EAAY,GAAoC,EAAqB,CAAQ,EACnF,GAAI,MAAM,QAAQ,CAA2B,EAKzC,AAAK,AAHgB,EAA4B,KAC7C,AAAC,GAAQ,KAAK,UAAU,CAAG,IAAM,KAAK,UAAU,CAAS,CAC7D,GAEI,EAA4B,KAAK,CAAS,UAG1C,EAA6B,CAE7B,GAAM,GAAiC,CAAC,CAA2B,EACnE,EAA+B,OAAO,EAAQ,EAAG,CAAS,EAC1D,EAA8B,CAClC,KACI,GAA8B,CAAC,CAAS,CAGpD,CACA,MAAO,EACX,CA/BS,kCAiCT,YAAoC,EAAoC,EAAsC,CAC1G,OAAS,GAAI,EAAG,EAAI,EAA4B,OAAQ,IAEpD,AAAK,AADuB,GAAqB,EAA4B,GAAI,CAAa,GAE1F,EAA4B,OAAO,EAAG,CAAC,CAGnD,CAPS,mCAST,YACI,EACA,EACA,EACF,CACE,GAAI,GAEA,GAAI,MAAM,QAAQ,CAA2B,EACzC,GAA2B,EAA6B,CAAa,UAGjE,CADwB,GAAqB,EAA6B,CAAa,EACjE,CACtB,GAAM,GAAc,GAA2B,EAAa,GAAoB,EAChF,AAAI,GACA,OAAO,GAAa,IAAqB,GACzC,EAA8B,OAEtC,EAGR,MAAO,EACX,CArBS,yCAgCT,YACI,EACA,EACA,EACA,EACA,EACF,CACE,OAAW,KAAU,GACjB,GAAI,EAAO,aAAa,SAAS,CAAU,EAAG,CAC1C,GAAM,GAAS,EAAc,QAAQ,CAAM,EAC3C,EAA8B,GAC1B,EACA,EACA,EACA,EACA,CACJ,CACJ,CAEJ,MAAO,EACX,CApBS,mCA+BT,YACI,EACA,EACA,EACA,EACA,EACO,CACP,GAAI,GAAgB,GAEpB,GAAI,CAAC,EACD,MAAO,GAIX,OAAW,KAAY,GACnB,GAAI,EAAS,cAAiB,SAAS,CAAY,EAAG,CAClD,GAAI,GAA8B,CAAC,EAEnC,GADA,EAAgB,GACZ,CAAC,EAAS,aAAe,EAAS,YAAY,SAAW,EAEzD,EAAS,YAAc,GAAyB,EAAe,CAAgB,MAC5E,CACH,GAAM,GAAe,KAAK,MAAM,gBAAS,EAAS,YAAa,CAAE,QAAS,EAAK,CAAC,CAAC,EAC3E,EAAuB,KAAK,UAAU,CAAY,EAExD,EAA8B,GAAoC,EAAa,GAAoB,EACnG,EAA8B,GAC1B,EACA,EACA,CACJ,EAEA,EAA8B,GAC1B,EACA,EACA,EACA,EACA,CACJ,EACA,GAAM,GAAU,GAA2B,EAAc,CAAgB,EACzE,EAAa,IAAqB,GAAW,EAC7C,GAAM,GAAkB,KAAK,UAAU,CAAY,EACnD,AAAI,IAAoB,GACpB,GAAS,YAAc,gBAAS,EAAiB,CAAE,QAAS,GAAM,OAAQ,CAAE,CAAC,EAErF,CACA,KACJ,CAEJ,MAAO,EACX,CAlDS,gCA6DF,YACH,EACA,EACA,EACA,EACA,EACA,EACI,CACJ,GAAM,GAAwB,EAAc,UAGtC,CAAE,kBAAiB,aAAY,oBAAmB,gBAAiB,GACrE,EACA,EACA,EACA,EACA,CACJ,EAGM,EAAgB,KAAK,MAAM,KAAK,UAAU,CAAM,CAAC,EACnD,EAAe,EAAgB,aAC7B,EAAa,EAAa,OAAO,EAAM,OAAS,CAAC,EACjD,EAAgB,EAAW,MAAM,GAAG,EAE1C,EAAe,AADM,EAAc,EAAc,OAAS,GAC5B,oBAAmB,EACjD,GAAM,GAAoB,iBAAmB,MAAM,KAC7C,EAAmB,EAAoB,EAAkB,EAAkB,OAAS,GAAK,KACzF,EAAuB,EAAmB,EAAmB,oBAAmB,EAAe,KAG/F,EAAgB,GAAwB,EAAW,EAAc,EAAY,EAAe,CAAgB,EAE9G,EAAqB,GAOzB,GANA,AAAI,EAEA,EAAqB,GAAoB,EAAW,EAAsB,CAAM,EAEhF,EAAqB,GAErB,CAAC,EAAe,CAChB,GAAM,GAAqB,CACvB,YAAa,GAAyB,EAAe,CAAgB,EACrE,cAAe,CACnB,EACA,EAAc,UAAU,KAAK,CAAQ,CACzC,CACA,GAAI,CAAC,EAAoB,CACrB,GAAM,GAAqB,CACvB,YAAa,GAAgC,CAAM,EACnD,cAAe,EAAW,QAAQ,EAAc,CAAoB,CACxE,EACA,EAAc,UAAU,KAAK,CAAQ,CACzC,CACJ,CAtDgB,sCA+DT,GAAM,IAAsB,GAC/B,EACA,EACA,EACA,IACuD,CACvD,GAAM,GAAoB,GAA+B,IAAI,EAAK,UAAU,IAAI,EAChF,GAAI,CAAC,EAA0B,CAC3B,GAAI,GACA,EAAK,UAAU,UACf,EAAK,UAAU,SAAS,eACxB,EAAK,UAAU,SAAS,cAAc,KAC1C,AAAK,GACD,GAAY,mBAEZ,IAAc,4EACd,GAAY,mBAEhB,EAA2B,EAAY,kBAC3C,CACA,GAAM,GAAmB,EACrB,EAAe,GAAG,KAA4B,IAClD,MAAI,IACA,IAAgB,IAAM,GAInB,CAAE,KAFI,oDAAsD,EAAY,IAAM,EAEtE,kBAAiB,CACpC,EA5BmC,uBEvpBnC,OAMO,SAYP,GAAM,IAAgB,aACT,GAAyB,GAClC,EACA,EACA,EACA,IAEI,EAAY,IAAM,cACX,EAAS,kBACT,EAAY,IAAM,qCAAuC,EAAO,SAAS,oBAAoB,EAC7F,EAAS,gBAAa,MAE1B,GAAyB,EAAQ,CAAa,EAXnB,0BAe/B,YAAgC,EAAiC,CACpE,GAAI,CAAC,EAAgB,0BACjB,OAEJ,GAAI,GAAa,CAAC,EAClB,MAAI,GAAgB,2BAChB,GAAa,KAAK,MAAM,KAAK,UAAU,EAAgB,yBAA4B,CAAC,GAEjF,CACX,CATgB,+BAUT,YAAgC,EAA0B,EAAiC,CAC9F,AAAI,EAAW,0BACX,EAAgB,0BAA+B,KAAK,MAChD,KAAK,UAAU,EAAW,yBAA4B,CAC1D,EAEA,MAAO,GAAgB,yBAE/B,CARgB,+BAUhB,YAAwB,EAAyB,EAA4B,CACzE,OAAW,KAAW,GAAa,SAAa,CAC5C,GAAM,GAAgB,EAAa,SAAY,GACzC,EAA0B,CAAC,OAAQ,cAAe,YAAa,iBAAkB,cAAc,EACrG,OAAW,KAAO,GACd,AAAI,EAAc,QAAQ,CAAG,IAAM,IAC1B,GAAc,eACf,GAAc,cAAmB,CAAC,GAEtC,EAAc,cAAiB,GAAO,EAAc,GACpD,MAAO,GAAc,IAG7B,AAAI,EAAgB,SAChB,EAAgB,SAAY,GAAW,EAEvC,EAAgB,SAAc,EACzB,GAAU,CACf,CAER,CACJ,CArBS,uBAuBT,YAAsC,EAAyB,EAA4B,CACvF,AAAI,CAAC,EAAa,UAGlB,CAAI,OAAO,KAAK,EAAa,QAAW,EAAE,OAAS,EAC/C,GAAe,EAAiB,CAAY,EAE5C,MAAO,GAAgB,SAE/B,CATS,qCAWT,YAAyB,EAAiB,CAzF1C,QA0FI,GAAI,CAAC,GAAmB,CAAC,EAAgB,UACrC,OAEJ,GAAM,GAA2B,KAAK,MAAM,KAAK,UAAU,EAAgB,SAAY,CAAC,EAGxF,SAAW,cAAgB,QAAgB,YAAhB,cAA+B,gBAA/B,cAAiD,MAAM,KAE3E,CACX,CAVS,wBAYF,YAAwB,CAO/B,EAPO,0BAMH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,EAAI,oBAChE,CACJ,CAAC,GACD,AANG,GAMH,wBAGG,YAAwC,CAsB/C,EAtBO,kBAMH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAsB,CAAQ,EAAI,EAClE,CACJ,CAAC,GACD,AANG,GAMH,uBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAsB,CAAQ,EAAI,EAClE,CACJ,CAAC,GACD,AAbG,GAaH,8BAQA,GANA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAsB,CAAQ,EAAI,GAC9D,OAAQ,EACZ,CACJ,CAAC,GACD,AArBG,GAqBH,6BAIJ,YAAoB,EAAiC,CAvIrD,MAwII,GAAI,oBAAkB,gBAAlB,QAAqC,KACrC,MAAO,GAAgB,cAAiB,KACrC,GAAI,WAAkB,UACzB,MAAO,GAAgB,SAE/B,CANS,mBASF,YAAoB,EAA0B,EAA0B,CAC3E,AAAI,WAAa,MACR,GAAgB,eACjB,GAAgB,cAAmB,CAAC,GAExC,EAAgB,cAAiB,KAAU,EAAW,KAClD,WAAkB,WAElB,MAAO,GAAgB,UAGnC,CAXgB,mBAaT,YAAoB,EAAgC,CA7J3D,MA8JI,AAAI,oBAAkB,gBAAlB,QAAqC,MACrC,MAAO,GAAgB,cAAiB,KAExC,WAAkB,WAElB,MAAO,GAAgB,SAE/B,CARgB,mBAUT,YAAuB,CAU9B,EAVO,yBASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAyB,CAAQ,CACjE,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,mCAGG,YAAwC,CAW/C,EAXO,kBAUH,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAoB,EAAqB,IAC5C,GAAwB,EAAU,CAAG,CAC7C,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAVG,GAUH,oBAGG,YAAoB,CAU3B,EAVO,sBASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAsB,CAAQ,EAAI,4BAClE,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,sBAGG,YAA4B,CAsBnC,EAtBO,8BASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,EAAI,eAChE,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,0BAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,EAAI,eAChE,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAnBG,GAmBH,wBAKG,YAAkE,CAiCzE,EAjCO,+BASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,EAAI,gBAChE,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,0BAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,EAAI,gBAChE,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAnBG,GAmBH,iCAWA,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,EAAI,iBAC5D,OAAQ,EACZ,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA9BG,GA8BH,wBAKG,YAA4F,CAA5F,cACH,mBAAgB,IACL,EACH,UAAW,CACP,MAAO,SACP,WAAY,CACR,MAAO,SACP,KAAM,gCACV,CACJ,EACA,kBAAmB,CACf,MAAO,SACP,WAAY,CACR,MAAO,SACP,KAAM,+CACV,CACJ,CACJ,GA+IR,EAhKO,4BA+BH,GAXA,AAAC,EAAS,CACN,SAAU,CACN,IAAK,4BACL,KAAM,AAAC,GAAqB,GAAsB,CAAQ,EAC1D,OAAQ,GACR,OAAQ,EACZ,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA/BG,GA+BH,yCAYA,GAVA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,WAC5C,iBAAkB,EACtB,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA3CG,GA2CH,wCAYA,GAVA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,WAC5C,iBAAkB,EACtB,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAvDG,GAuDH,gCAYA,GAVA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,WAC5C,iBAAkB,EACtB,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAnEG,GAmEH,0BASA,GAPA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,WAC5C,iBAAkB,EACtB,CACJ,CAAC,GACD,AA5EG,GA4EH,4BAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAtFG,GAsFH,qCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAhGG,GAgGH,sCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAsB,CAAQ,CAC9D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA1GG,GA0GH,2BAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAsB,CAAQ,CAC9D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AApHG,GAoHH,yBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAsB,CAAQ,CAC9D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA9HG,GA8HH,8BAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAxIG,GAwIH,gCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAlJG,GAkJH,oCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA5JG,GA4JH,8CAGA,GADA,AAAC,GAAQ,SAAS,GAClB,AA/JG,GA+JH,uBAEG,oBAA8B,GAAkD,CAwFvF,EAxFO,wBAYH,GAXA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,EACxD,OAAQ,GACR,OAAQ,GACR,OAAQ,EACZ,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAZG,GAYH,oBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAtBG,GAsBH,iCAaA,GAXA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,MAC5C,iBAAkB,EACtB,EACA,SAAU,EACd,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAnCG,GAmCH,2BASA,GAPA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,MAC5C,iBAAkB,EACtB,CACJ,CAAC,GACD,AA5CG,GA4CH,sCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAsB,CAAQ,CAC9D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAtDG,GAsDH,4BAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,qBACxB,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAhEG,GAgEH,+BAYA,GAVA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,MAC5C,iBAAkB,EACtB,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA5EG,GA4EH,gCAWA,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAsB,CAAQ,EAC1D,OAAQ,EACZ,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAvFG,GAuFH,yBAGG,oBAAwB,GAA4C,CAuB3E,EAvBO,kBAYH,GAXA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,EACxD,OAAQ,GACR,OAAQ,GACR,OAAQ,EACZ,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAZG,GAYH,oBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,qBACxB,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAtBG,GAsBH,+BAGG,oBAA8B,GAAkD,CAyFvF,EAzFO,wBAYH,GAXA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,EACxD,OAAQ,GACR,OAAQ,GACR,OAAQ,EACZ,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAZG,GAYH,oBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAnBG,GAmBH,yBAeA,GAbA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,EACD,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAlCG,GAkCH,kCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAzCG,GAyCH,iCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAnDG,GAmDH,4BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA1DG,GA0DH,wBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AApEG,GAoEH,wCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA9EG,GA8EH,iCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,qBACxB,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAxFG,GAwFH,+BAGG,oBAAuB,GAA2C,CAqEzE,EArEO,iBAYH,GAXA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,EACxD,OAAQ,GACR,OAAQ,GACR,OAAQ,EACZ,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAZG,GAYH,oBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAnBG,GAmBH,yBAeA,GAbA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,EACD,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAlCG,GAkCH,kCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AAzCG,GAyCH,iCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAnDG,GAmDH,4BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,GACD,AA1DG,GA0DH,wBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AApEG,GAoEH,wCAGG,oBAAiC,GAAS,CAejD,EAfO,2BAcH,GAVA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,MAC5C,iBAAkB,EACtB,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAdG,GAcH,gCAGG,oBAA2B,GAAS,CAAC,EAArC,qBAEA,oBAAiC,GAAS,CAAC,EAA3C,2BAEA,oBAAwB,GAA4C,CAiC3E,EAjCO,kBAYH,GAXA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,EACxD,OAAQ,GACR,OAAQ,GACR,OAAQ,EACZ,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAZG,GAYH,oBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAoB,CAAQ,CAC5D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAtBG,GAsBH,iCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,qBACxB,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAhCG,GAgCH,+BCjvBJ,OAA4B,SAc5B,GAAM,IAAoB,GAAC,EAAgB,EAA0B,IAAkC,CACnG,GAAM,CAAE,YAAa,GAAyB,CAAW,EACzD,MAAO,GAAG,YAAiB,GAA2B,CAAQ,EAAE,QAAQ,MAAO,IAAI,GACvF,EAH0B,qBAab,GAA2B,GAAC,EAAgB,EAA0B,IAAkC,CACjH,GAAM,CAAE,mBAAkB,YAAa,GAAyB,CAAW,EAC3E,MAAO,GAAG,YAAiB,MAAqB,GAA2B,CAAQ,GACvF,EAHwC,4BAalC,GAA0B,GAAC,EAAgB,EAA0B,IAAkC,CACzG,GAAM,CAAE,YAAa,GAAyB,CAAW,EACzD,MAAO,GAAG,YAAiB,GAA2B,CAAQ,EAAE,QAAQ,MAAO,IAAI,gBACvF,EAHgC,2BAK1B,GAAoB,CACtB,UAAW,GACX,YAAa,IAAmB,eAAY,OAC5C,iBAAkB,EACtB,EAEM,GAA0B,CAC5B,UAAW,GACX,YAAa,IAAmB,eAAY,OAC5C,iBAAkB,EACtB,EAEO,QAAkC,CAoBzC,EApBO,eAIH,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAJG,GAIH,uBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AATG,GASH,oBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAdG,GAcH,0BAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAnBG,GAmBH,oBAGG,YAAyC,CAoBhD,EApBO,sBAIH,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAJG,GAIH,uBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AATG,GASH,oBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAdG,GAcH,0BAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAnBG,GAmBH,oBAGG,YAAwC,CAoB/C,EApBO,qBAIH,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAJG,GAIH,uBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AATG,GASH,oBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAdG,GAcH,0BAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAnBG,GAmBH,oBCvHJ,OAA4B,SAc5B,GAAM,IAAsB,GAAC,EAAgB,EAAyB,IAAkC,CACpG,GAAM,GAAiB,yBACjB,CAAE,aAAY,YAAa,GAAyB,CAAW,EAC/D,EAAe,kBAAkB,EAAc,KACrD,MAAO,GAAG,IAAS,OAAoB,OAAgB,gBAA2B,GACtF,EAL4B,uBActB,GAA2B,GAAC,EAAgB,EAAyB,IAAkC,CACzG,GAAM,GAAiB,yBACjB,CAAE,aAAY,WAAU,oBAAqB,GAAyB,CAAW,EACjF,EAAe,kBAAkB,EAAc,KACrD,MAAO,GAAG,IAAS,OAAoB,OAAgB,wBAAmC,gBAA+B,GAC7H,EALiC,4BAe3B,GAA4B,GAAC,EAAgB,EAA0B,IAAkC,CAC3G,GAAM,CAAE,YAAa,GAAyB,CAAW,EACzD,MAAO,GAAG,YAAiB,EAAS,QAAQ,MAAO,IAAI,GAC3D,EAHkC,6BAM5B,GAAoB,CACtB,UAAW,GACX,YAAa,IAAmB,eAAY,YAC5C,iBAAkB,EACtB,EAGM,GAA0B,CAC5B,UAAW,GACX,YAAa,IAAmB,eAAY,OAC5C,iBAAkB,EACtB,EAGM,GAA+B,SAC9B,IAD8B,CAEjC,UAAW,EACf,GAGM,GAAqC,SACpC,IADoC,CAEvC,UAAW,EACf,GAEO,QAA4C,CAkBnD,EAlBO,oBAQH,GAPA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,YAC5C,iBAAkB,EACtB,CACJ,CAAC,GACD,AARG,GAQH,qBASA,GARA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,YAC5C,iBAAkB,EACtB,EACA,SAAU,EACd,CAAC,GACD,AAjBG,GAiBH,sBAGG,YAAwD,CA+B/D,EA/BO,0BAIH,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAJG,GAIH,qBAMA,GAJA,AAAC,EAAS,CACN,KAAM,GACN,SAAU,EACd,CAAC,GACD,AAVG,GAUH,sBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAfG,GAeH,uBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AApBG,GAoBH,oBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAzBG,GAyBH,0BAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AA9BG,GA8BH,oBAGG,oBAA2C,GAAkB,CA+BpE,EA/BO,qCAIH,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAJG,GAIH,qBAMA,GAJA,AAAC,EAAS,CACN,KAAM,GACN,SAAU,EACd,CAAC,GACD,AAVG,GAUH,sBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAfG,GAeH,uBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AApBG,GAoBH,oBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAzBG,GAyBH,0BAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AA9BG,GA8BH,oBAOG,YAAwD,CAW/D,EAXO,0BCpKA,YAAoC,CAE3C,EAFO,gBCDP,OAA0C,SAKnC,GAAM,IAAyB,EAAC,GAC5B,EAAS,gBAAa,MADK,0BAI/B,QAAgD,CAqDvD,EArDO,sBAQH,GAPA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,WAC5C,iBAAkB,EACtB,CACJ,CAAC,GACD,AARG,GAQH,gCASA,GAPA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,WAC5C,iBAAkB,EACtB,CACJ,CAAC,GACD,AAjBG,GAiBH,kCASA,GAPA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,WAC5C,iBAAkB,EACtB,CACJ,CAAC,GACD,AA1BG,GA0BH,4CAgBA,GAdA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,WAC5C,gBAAiB,CAAC,EAAwC,EAAsB,IAAsB,CAClG,EAAW,QAAQ,SAAW,EAAa,GAAK,KAAK,CACzD,EACA,gBAAiB,CAAC,EAAwC,EAAsB,IAAsB,CAClG,EAAW,QAAQ,SAAc,EAAW,QAAQ,SACpD,EAAa,GAAO,EAAW,QAAQ,SAAY,MAAM,GAAG,CAChE,EACA,iBAAkB,EACtB,CACJ,CAAC,GACD,AA1CG,GA0CH,iCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAsB,CAAQ,CAC9D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AApDG,GAoDH,6BC1DG,YAA4C,CA0CnD,EA1CO,oBAMH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAU,EAAW,IAAmB,GAAmB,EAAU,CAAM,CACtF,CACJ,CAAC,GACD,AANG,GAMH,qBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAU,EAAW,IAAmB,GAAmB,EAAU,CAAM,CACtF,CACJ,CAAC,GACD,AAbG,GAaH,yBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAU,EAAW,IAAmB,GAAmB,EAAU,CAAM,CACtF,CACJ,CAAC,GACD,AApBG,GAoBH,yBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAU,EAAW,IAAmB,GAAmB,EAAU,CAAM,CACtF,CACJ,CAAC,GACD,AA3BG,GA2BH,0BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAU,EAAW,IAAmB,GAAmB,EAAU,CAAM,CACtF,CACJ,CAAC,GACD,AAlCG,GAkCH,gCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAU,EAAW,IAAmB,GAAmB,EAAU,CAAM,CACtF,CACJ,CAAC,GACD,AAzCG,GAyCH,uBC5CJ,OAA4B,SAM5B,GAAM,IAAqB,GAAC,EAAgB,IAAoC,CAC5E,GAAM,GAAoB,EAAc,MAAM,CAAC,EAC/C,SAAkB,EAAc,OAAS,GAAK,cACvC,GAAyB,EAAQ,CAAiB,CAC7D,EAJ2B,sBAMpB,QAAsD,CA0C7D,EA1CO,yBASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAuB,CAAQ,CAC/D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,+BAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAuB,CAAQ,CAC/D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAnBG,GAmBH,qCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAuB,CAAQ,CAC/D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA7BG,GA6BH,kCAUA,GARA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,OAC5C,iBAAkB,EACtB,EACA,SAAU,EACd,CAAC,GACD,AAvCG,GAuCH,4BCnDJ,OAA4B,SAe5B,GAAM,IAAoB,GACtB,EACA,EACA,EACA,IACS,CACT,GAAI,EAAY,IAAM,eAAY,QAAU,EAAY,IAAM,eAAY,aAAc,CACpF,GAAM,GAAW,EAAY,GAC7B,MAAO,GAAG,YAAiB,GAA2B,CAAQ,GAClE,CACA,MAAO,IAAyB,EAAQ,CAAa,CACzD,EAX0B,qBAapB,GAA0B,CAC5B,UAAW,GACX,YAAa,IAAmB,eAAY,aAC5C,iBAAkB,EACtB,EAEO,QAA8C,CA0BrD,EA1BO,qBAKH,GAJA,AAAC,EAAS,CACN,KAAM,GACN,SAAU,EACd,CAAC,GACD,AALG,GAKH,uBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAVG,GAUH,uBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAfG,GAeH,oBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AApBG,GAoBH,0BAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAzBG,GAyBH,oBC3DJ,OAA4B,SAmB5B,GAAM,IAA0B,GAC5B,EACA,EACA,EACA,IACS,CACT,GAAI,EAAY,IAAM,eAAY,OAAQ,CACtC,GAAM,CAAE,YAAa,GAAyB,CAAW,EACzD,MAAO,GAAG,YAAiB,GAA2B,CAAQ,gBAClE,CACA,MAAO,IAAyB,EAAQ,CAAa,CACzD,EAXgC,2BAa1B,GAA0B,CAC5B,UAAW,GACX,YAAa,IAAmB,eAAY,OAC5C,iBAAkB,EACtB,EAEO,QAAkE,CA0BzE,EA1BO,+BAKH,GAJA,AAAC,EAAS,CACN,KAAM,GACN,SAAU,EACd,CAAC,GACD,AALG,GAKH,uBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAVG,GAUH,uBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAfG,GAeH,oBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AApBG,GAoBH,0BAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAzBG,GAyBH,oBC/DJ,OAA4B,SAI5B,GAAM,IAAe,GAAC,EAAgB,IAAoC,CACtE,GAAM,GAAoB,EAAc,MAAM,CAAC,EAC/C,SAAkB,EAAc,OAAS,GAAK,aACvC,GAAyB,EAAQ,CAAiB,CAC7D,EAJqB,gBAMd,QAAsD,CAuC7D,EAvCO,yBAQH,GAPA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,iBAC5C,iBAAkB,EACtB,CACJ,CAAC,GACD,AARG,GAQH,iCASA,GAPA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,iBAC5C,iBAAkB,EACtB,CACJ,CAAC,GACD,AAjBG,GAiBH,6BASA,GAPA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,iBAC5C,iBAAkB,EACtB,CACJ,CAAC,GACD,AA1BG,GA0BH,6BAYA,GAVA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,iBAC5C,iBAAkB,EACtB,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAtCG,GAsCH,uCCjDJ,OAAgC,SAKzB,YAAkE,CAwDzE,EAxDO,0BAiBH,GAhBA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,GACR,OAAQ,CACJ,EACA,IAGO,AADc,EAAU,MAAM,GAAG,EACpB,EAE5B,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAjBG,GAiBH,4BAiBA,GAfA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,GACR,OAAQ,CACJ,EACA,IAEO,EAAU,MAAM,GAAG,EAAE,EAEpC,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAlCG,GAkCH,gCAWA,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAqB,EAAqB,IAC7C,GAA+B,EAAW,CAAC,EAAG,EAAW,mBAAgB,OAAO,CACxF,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA7CG,GA6CH,qBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAvDG,GAuDH,yBAGG,oBAA8C,GAAgE,CAsBrH,EAtBO,wCAWH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAXG,GAWH,4BAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AArBG,GAqBH,oBAGG,oBAA0C,GAA4D,CAsB7G,EAtBO,oCAWH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAXG,GAWH,wBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AArBG,GAqBH,oBC3GJ,OAA4C,SASrC,GAAM,IAA2B,GACpC,EACA,EACA,EACA,EACA,IACS,CAET,GAAM,GAAmB,CADL,GAAiB,EAAY,GAAI,CAAO,EACrB,kBAAe,KAAK,EAC3D,MAAO,IAAyB,EAAQ,CAAgB,CAC5D,EAVwC,4BAW3B,GAA0B,GACnC,EACA,EACA,EACA,EACA,IACS,CAET,GAAM,GAAmB,CADL,GAAiB,EAAY,GAAI,CAAO,EACrB,WAAW,EAClD,MAAO,IAAyB,EAAQ,CAAgB,CAC5D,EAVuC,2BAY1B,GAA2B,GACpC,EACA,EACA,EACA,EACA,IACS,CAET,GAAM,GAAmB,CADL,GAAiB,EAAY,GAAI,CAAO,EACrB,OAAO,EAC9C,MAAO,IAAyB,EAAQ,CAAgB,CAC5D,EAVwC,4BAY3B,GAAsB,GAC/B,EACA,EACA,EACA,EACA,IACS,CAET,GAAM,GAAmB,CADL,GAAiB,EAAY,GAAI,CAAO,EACrB,SAAS,EAChD,MAAO,IAAyB,EAAQ,CAAgB,CAC5D,EAVmC,uBAYtB,GAAyB,GAClC,EACA,EACA,EACA,EACA,IACS,CAET,GAAM,GAAmB,CADL,GAAiB,EAAY,GAAI,CAAO,EACrB,YAAY,EACnD,MAAO,IAAyB,EAAQ,CAAgB,CAC5D,EAVsC,0BAY/B,QAA4D,CAUnE,EAVO,4BASH,GARA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,QAC5C,iBAAkB,EACtB,EACA,SAAU,EACd,CAAC,GACD,AATG,GASH,uBAGG,YAAoE,CAU3E,EAVO,gCASH,GARA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,QAC5C,iBAAkB,EACtB,EACA,SAAU,EACd,CAAC,GACD,AATG,GASH,uBAGG,YAAsE,CAU7E,EAVO,iCASH,GARA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,QAC5C,iBAAkB,EACtB,EACA,SAAU,EACd,CAAC,GACD,AATG,GASH,uBAGG,YAAsE,CAU7E,EAVO,iCASH,GARA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,QAC5C,iBAAkB,EACtB,EACA,SAAU,EACd,CAAC,GACD,AATG,GASH,uBAGG,YAA0E,CAUjF,EAVO,mCASH,GARA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,QAC5C,iBAAkB,EACtB,EACA,SAAU,EACd,CAAC,GACD,AATG,GASH,uBAGG,YAA0E,CAUjF,EAVO,mCASH,GARA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,QAC5C,iBAAkB,EACtB,EACA,SAAU,EACd,CAAC,GACD,AATG,GASH,uBAGG,YAAkE,CAUzE,EAVO,+BASH,GARA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,WAC5C,iBAAkB,EACtB,EACA,SAAU,EACd,CAAC,GACD,AATG,GASH,uBAGG,YAAsE,CAU7E,EAVO,mCASH,GARA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,MAC5C,iBAAkB,EACtB,EACA,SAAU,EACd,CAAC,GACD,AATG,GASH,uBAGG,YAAuE,CAU9E,EAVO,oCASH,GARA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,WAC5C,iBAAkB,EACtB,EACA,SAAU,EACd,CAAC,GACD,AATG,GASH,uBAGG,YAAgF,CAUvF,EAVO,sCASH,GARA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,WAC5C,iBAAkB,EACtB,EACA,SAAU,EACd,CAAC,GACD,AATG,GASH,uBAGG,YAAgF,CAUvF,EAVO,sCASH,GARA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,WAC5C,iBAAkB,EACtB,EACA,SAAU,EACd,CAAC,GACD,AATG,GASH,uBAGG,YAAuE,CAU9E,EAVO,oCASH,GARA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,WAC5C,iBAAkB,EACtB,EACA,SAAU,EACd,CAAC,GACD,AATG,GASH,uBC9MG,YAAoD,CAU3D,EAVO,wBASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,iCAGG,YAA4D,CAUnE,EAVO,4BASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAA+B,GAAuB,CAAQ,EAAI,gBAC7E,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,iCCxBJ,OAA0D,SAe1D,GAAM,IAAyB,GAC3B,EACA,EACA,EACA,EACA,IACS,CACT,GAAM,GAAkB,EAAY,MAAM,EAAG,CAAC,EAC1C,EAEJ,MAAI,GAAY,IAAM,oCAClB,EAAW,kBAAe,MACnB,EAAY,IAAM,eACzB,GAAW,mBAEf,EAAgB,KAAK,CAAQ,EAC7B,EAAgB,GAAK,GAAiB,EAAgB,GAAI,CAAK,EACxD,GAAyB,EAAQ,CAAe,CAC3D,EAlB+B,0BAoBxB,QAA8B,CAwBrC,EAxBO,gCAUH,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAU,EAAU,IACvB,GAA8B,EAAU,EAAU,CAAS,EAAI,eACvE,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAVG,GAUH,0BAWA,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAU,EAAU,IACvB,GAA8B,EAAU,EAAU,CAAS,EAAI,eACvE,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AArBG,GAqBH,wBAKG,YAA4C,CAYnD,EAZO,oBAWH,GAVA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAU,EAAU,EAAW,IAClC,GAAiC,EAAU,EAAU,CAAS,EAC9D,qCAAqC,GAC7C,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAXG,GAWH,oBAGG,YAAkD,CAWzD,EAXO,wBAUH,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAU,EAAU,IACvB,GAAiC,EAAU,EAAU,CAAS,EAAI,4BAC1E,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAVG,GAUH,sBAGJ,YAAgC,EAAiC,CAC7D,GAAI,GACJ,MAAI,GAAgB,2BAChB,GAAa,KAAK,MAAM,KAAK,UAAU,EAAgB,yBAA4B,CAAC,GAEjF,CACX,CANS,+BAOF,YAAgH,CAAhH,cACH,mBAAgB,IACL,EACH,UAAW,CACP,MAAO,SACP,WAAY,CACR,MAAO,SACP,KAAM,gCACV,CACJ,CACJ,GA4HR,EAtIO,sCAwBH,GAXA,AAAC,EAAS,CACN,SAAU,CACN,IAAK,4BACL,KAAM,GACN,OAAQ,GACR,OAAQ,EACZ,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAxBG,GAwBH,yCAYA,GAVA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,WAC5C,iBAAkB,EACtB,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AApCG,GAoCH,wBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA9CG,GA8CH,2BAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAxDG,GAwDH,yBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAlEG,GAkEH,8BAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA5EG,GA4EH,qCAYA,GAVA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,WAC5C,iBAAkB,EACtB,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAxFG,GAwFH,gCAYA,GAVA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,WAC5C,iBAAkB,EACtB,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AApGG,GAoGH,0BAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA9GG,GA8GH,0BAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAxHG,GAwHH,8CAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAlIG,GAkIH,iCAGA,GADA,AAAC,GAAQ,SAAS,GAClB,AArIG,GAqIH,uBAGG,oBAAwC,GAAsE,CAkDrH,EAlDO,kCAMH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,GACD,AANG,GAMH,oBASA,GAPA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,MAC5C,iBAAkB,EACtB,CACJ,CAAC,GACD,AAfG,GAeH,sCAaA,GAXA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,MAC5C,iBAAkB,EACtB,EACA,SAAU,EACd,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA5BG,GA4BH,2BAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAtCG,GAsCH,4BAWA,GAVA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,MAC5C,iBAAkB,EACtB,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAjDG,GAiDH,gCAGG,oBAAwC,GAAsE,CAiBrH,EAjBO,kCAMH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,GACD,AANG,GAMH,oBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAhBG,GAgBH,oCAGG,oBAAkC,GAAgE,CAiBzG,EAjBO,4BAMH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,GACD,AANG,GAMH,oBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAhBG,GAgBH,oCAGG,oBAAkC,GAAgE,CAiBzG,EAjBO,4BAMH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,GACD,AANG,GAMH,oBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAhBG,GAgBH,oCCjVJ,OAA4B,SAqB5B,GAAM,IAAoB,GACtB,EACA,EACA,EACA,EACA,IACS,CACT,GAAM,CAAE,YAAa,GAAyB,CAAW,EACnD,EAAU,GAAiB,EAAY,GAAI,CAAO,EACxD,MAAO,GAAG,IAAS,cAAoB,GAA2B,CAAQ,EAAE,QAAQ,MAAO,IAAI,GACnG,EAV0B,qBAYpB,GAA6B,CAC/B,UAAW,GACX,YAAa,IAAmB,eAAY,OAC5C,iBAAkB,EACtB,EAEO,QAAoE,CA0B3E,EA1BO,gCAKH,GAJA,AAAC,EAAS,CACN,KAAM,GACN,SAAU,EACd,CAAC,GACD,AALG,GAKH,uBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAVG,GAUH,uBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAfG,GAeH,oBAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AApBG,GAoBH,0BAKA,GAHA,AAAC,EAAS,CACN,KAAM,EACV,CAAC,GACD,AAzBG,GAyBH,oBCvCG,GAAM,IAAmB,4CACnB,GAAoB,6CACpB,GAAY,uBACZ,GAAkB,6BAClB,GAAY,uB1BQlB,YAA0B,EAAwB,CACrD,MAAO,GAAe,QAAQ,IAAK,IAAI,CAC3C,CAFgB,yBAST,YAAyB,EAA4B,CACxD,MAAO,GAAW,QAAQ,OAAQ,GAAG,EAAE,QAAQ,OAAQ,GAAG,EAAE,QAAQ,OAAQ,GAAG,CACnF,CAFgB,wBAWhB,YACI,EACA,EACA,EACA,EACF,CA/DF,YAmEI,AAAI,AAFA,UAAW,cAAX,cAA4B,sBAA5B,cAAoD,WAAW,KAC/D,SAAW,cAAX,cAA4B,8BAA5B,cAA4D,WAAW,MAEvE,GAAO,UAAU,GAAqB,EAAO,QAAQ,WAC/C,EAAO,QAAQ,WACf,EAAO,QAAQ,SAE7B,CAdS,8BAsBT,YAAuB,EAAwB,EAAY,CACvD,GAAM,GAAU,OAAO,KAAK,EAAW,WAAc,EAAE,OACnD,AAAC,GAAe,EAAW,WAAW,GAAG,GAAgB,GAAK,EAAW,SAAS,GAAG,CACzF,EACM,EAAiC,GAAI,KAC3C,SAAQ,QAAQ,AAAC,GAAuB,CArF5C,MAsFQ,GAAM,GAAe,GAA2B,KAAmB,MAAM,GAAG,EAAE,KAA9B,cAAkC,MAAM,KAAK,EAAE,EACzF,EAAa,EAAa,QAAQ,KAAK,EAC7C,GAAI,EAAa,WAAW,WAAW,GAAK,EAAa,GAAI,CACzD,GAAM,GAAgB,EAAa,MAAM,KAAK,EACxC,EAAkB,EAAc,KAAK,AAAC,GAAS,EAAK,WAAW,iBAAiB,CAAC,EACjF,EAAU,EAAc,KAAK,AAAC,GAAS,EAAK,WAAW,SAAS,CAAC,EACjE,EAAc,EAAQ,MAAM,WAAW,EAAE,GAAG,QAAQ,MAAO,IAAI,EACrE,GAAI,EAAiB,CACjB,GAAM,GAAgB,GAAG,EAAgB,MAAM,IAAI,EAAE,OAAO,IACtD,EAA0B,GAAG,EAAc,QAAQ,OAAqB,IAC9E,EAAU,IAAI,EAAe,CAAkB,EAC/C,EAAU,IAAI,EAAoB,CAAuB,CAC7D,KACI,GAAU,IAAI,EAAa,CAAkB,EAC7C,EAAU,IAAI,EAAoB,CAAY,CAEtD,KACI,GAAU,IAAI,EAAa,QAAQ,MAAO,IAAI,EAAG,CAAkB,EACnE,EAAU,IAAI,EAAoB,CAAY,CAEtD,CAAC,EACM,CACX,CA5BS,sBAoCT,YACI,EACA,EACA,EACF,CACE,AAAK,EAAO,YACR,GAAO,WAAa,EAAO,MAAM,QAAU,CAAC,GAE3C,EAAO,WAAW,GAAG,MACtB,GAAO,WAAW,GAAG,KAAc,CAAC,EAE5C,CAXS,kCAoBT,YACI,EACA,EACA,EACA,EACF,CACE,GAAM,GAAY,EAAO,UAAU,MAAM,YAAY,EAAE,GACvD,GAAI,CAAC,EACD,OAEJ,GAAM,GAAW,GAAgB,CAAS,EAU1C,AAToB,CAChB,CACI,KAAM,eACN,WAAY,EAAO,OAAO,QAC1B,GAAI,EAAS,SAAS,aAAa,GAAK,EAAS,MAAM,eAAe,EAAE,EAC5E,EACA,CAAE,KAAM,gBAAsB,WAAY,EAAO,MAAM,QAAQ,QAAS,GAAI,CAAS,EACrF,CAAE,KAAM,oBAAqB,WAAY,EAAO,MAAM,QAAS,GAAI,CAAS,CAChF,EACY,QAAQ,AAAC,GAAW,CA5JpC,QA6JQ,GAAM,GAAgB,GAAc,EAAO,KAAM,CAAU,EAC3D,GAAI,EAAc,IAAI,EAAO,EAAE,EAAG,CAC9B,GAAM,GAAc,EAAc,IAAI,EAAO,EAAE,EACzC,EAAW,KAAY,MAAM,GAAG,EAAE,KAAvB,cAA2B,MAAM,KAAK,GACvD,AAAI,EAAO,OAAS,qBAChB,GAA0B,EAAQ,EAAQ,CAAQ,EAEtD,GAAM,GAAa,EAAO,WAAW,GAErC,AAAI,AADoB,MAAW,YAAY,KAAvB,cAAoD,WAAW,KACjE,GAClB,GAAW,GAAqB,EAAO,QAAQ,WACzC,EAAO,QAAQ,WACf,EAAO,QAAQ,SAE7B,CACJ,CAAC,CACL,CArCS,sBA8CT,YACI,EACA,EACA,EACA,EACF,CA3LF,MA6LI,GADuB,EAAW,YAAe,cAAiB,WAAW,GACzD,CAChB,GAAM,GAAW,GAAmB,EAAO,gBAAa,OAAQ,CAAiB,EACjF,AAAI,oBAAU,OAAV,QAAgB,gBAChB,EAAS,KAAK,gBAAgB,EAAQ,EAAO,gBAAa,OAAQ,CAAiB,EAEnF,EAAO,gBAAa,OAAO,GAAqB,EAAO,QAAQ,WACzD,EAAO,QAAQ,WACf,EAAO,QAAQ,QAE7B,CACJ,CAjBS,0BAyBT,YACI,EACA,EACA,EACF,CACE,GAAM,GAAmC,CACrC,UAAW,EAAO,UAClB,WAAY,EAAO,QAAQ,SAC3B,SAAU,EAAO,QAAQ,WAAa,EAAO,QAAQ,WAAa,EAAO,QAAQ,SACjF,YAAa,EAAO,YACpB,SAAU,EAAO,QACrB,EACI,EACJ,AACK,EAAC,EAAO,MAAM,MAAQ,EAAO,MAAM,OAAS,MAAG,YAAY,kBAC5D,CAAC,EAAgB,UAAU,SAAS,wCAAqC,IAAI,YAAS,kBAAkB,CAAC,EAEzG,EAAkB,iCAElB,EAAkB,EAAO,MAAM,YAAY,KAI3C,CADA,EAAW,YAAe,GAAG,gBAA8B,WAAW,EAAgB,aACpE,EAAgB,cAAgB,eAAY,cAC9D,GAAgB,EAAO,MAAO,EAAiB,CAAU,CAEjE,CA1BS,iCAmCF,YACH,EACA,EACA,EACA,EACI,CAvPR,QAwPI,GAAI,CACA,GAAM,GAAS,GAAkB,CAAY,EACvC,EAAoB,EAAO,QAAQ,SACzC,GACI,MAAO,YAAP,cAAkB,SAAS,YAAS,cACpC,MAAO,YAAP,cAAkB,SAAS,YAAS,qBAGpC,OADA,EAAO,UAAY,GAAgB,EAAO,SAAS,EAC3C,EAAO,iBACN,gBAAY,eAAgB,CAC7B,GAAsB,EAAQ,EAAmB,EAAQ,CAAS,EAClE,KACJ,KACK,gBAAY,YAAa,CAE1B,AAAI,AADmB,EAAU,WAAc,IAE3C,GAAO,EAAO,QAAQ,UAAY,EAAO,QAAQ,UAErD,KACJ,KACK,gBAAY,OAAQ,CACrB,GAAc,EAAQ,EAAmB,EAAQ,CAAS,EAC1D,KACJ,KACK,gBAAY,WAAY,CACzB,GAAkB,EAAQ,EAAmB,EAAQ,CAAS,EAC9D,KACJ,SACS,CACL,GAAyB,EAAQ,EAAQ,CAAS,EAClD,KACJ,EAGZ,OAAS,EAAP,CACE,GACI,EACA,CACI,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,WAAW,CAClC,EACA,GAAG,CACP,CACJ,CACJ,CAlDgB,gBAyDhB,YAAsC,EAAqB,EAAoC,CAC3F,GAAI,IAAgB,0BAA4B,EAAW,GACvD,OAAW,KAAW,GAAW,GAAa,SAAa,CACvD,GAAM,GAAuB,EAAW,GAAa,SAAY,GACjE,GAAI,EAAqB,cAAkB,CACvC,OAAW,KAAO,GAAqB,cACnC,EAAqB,GAAO,EAAqB,cAAiB,GAEtE,MAAO,GAAqB,aAChC,CACJ,CAER,CAZS,qCAuBF,YACH,EACA,EACA,EACA,EACA,EACA,EACI,CACJ,GAAI,CAAC,EACD,OAEJ,GAAI,GAAkB,CAAC,EACjB,EAAuB,EAAW,cAAgB,EAAW,cAAc,EAAI,OAErF,GAAI,EAAU,WACV,OAAW,KAAe,GAAU,WAAe,CAC/C,GAAM,GAAW,GAAmB,EAAY,CAAW,EAC3D,GAAI,WAAU,SAAU,CACpB,GAAM,GAAO,EAAS,SAAS,KAAK,CAAC,CAAO,EAAG,EAAU,CAAM,EAC/D,EAAkB,GAA8B,EAAU,CAAI,EAC9D,GAAe,EAAU,EAAiB,EAAa,CAAU,EACjE,GAA0B,EAAsB,EAAiB,EAAM,CAAM,CACjF,CAEA,GAA6B,EAAa,CAAU,CACxD,CAER,CA3BgB,iCAmCT,YAA4B,EAAoB,EAAiC,CArWxF,QAsWI,GAAM,GAAO,EAAS,mBAAgB,SAAS,MAAM,GACjD,EAA4B,MAAG,YAAY,gBAC/C,MACI,GAAS,mBAAgB,SAAS,MAAM,GAAS,UAAU,UACzD,GAAS,mBAAgB,SAAS,MAAM,GAAS,UAAU,SAAS,eAClE,EAAS,mBAAgB,SAAS,MAAM,GAAS,UAAU,SAAS,cAAc,MAClF,EAAS,mBAAgB,SAAS,MAAM,GAAS,UAAU,SAAS,WAExE,EAAY,SAAK,UAAU,WAAf,cAAyB,gBAAzB,cAAyC,OAAW,EAAK,UAAU,SAAS,UACjF,EAAK,UAAU,OAAS,oDAC/B,GAAY,MAAG,YAAY,iBAExB,CACX,CAdgB,2BAgBhB,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACI,CACJ,GAAI,EAAO,YAAiB,EAAO,oBAAqB,CACpD,GAAM,GAAW,EAAO,WAClB,EAAO,WAAc,mBAAmB,YAAY,MACpD,EAAO,oBAAoB,mBAAmB,YAAY,MAC1D,EAAc,KAAK,MAAM,EAAS,OAAO,EAAG,EAAS,MAAM,CAAC,EAC9D,EAAa,EAAO,MAAW,EAAO,KAAQ,aAAe,EAAO,KAAQ,YAAY,KAC5F,AAAK,GACD,GAAa,EAAO,OAAY,EAAO,MAAS,aAAe,EAAO,MAAS,YAAY,MAE/F,GAAM,GAAmC,OACrC,GAAI,EAAO,aAAe,EAAO,YAAY,GAC7C,KAAM,GACH,GAHkC,CAIrC,UAAW,EAAY,UACvB,YAAa,EAAY,cAAmB,OAAY,OAAO,EAAY,WAAc,EAAI,OAC7F,gBAAiB,EAAY,gBAC7B,UAAW,EAAqB,GAAa,UAC7C,aAAc,EAAqB,GAAa,aAChD,OAAQ,EACR,eACJ,GACA,AAAI,GACA,GAAc,kBAAoB,GAEjC,EAAO,MAAM,QAAW,QACzB,GAAO,MAAM,QAAW,OAAY,CAAC,GAGzC,AADsB,EAAO,MAAM,QAAW,OAChC,KAAK,CAAa,CACpC,CACJ,CAvCS,+BAyCT,YACI,EACA,EACA,EACA,EACF,CACE,GAAI,GACJ,GAAI,IAAkB,oBAAiB,gCACnC,OAAW,KAAY,QAAO,KAAK,CAAoB,EAAG,CACtD,GAAM,CAAC,EAAc,EAAmB,GAAe,EAAS,MAAM,GAAG,EACzE,AACI,IAAiB,oBAAiB,+BAClC,IAAsB,GACtB,IAAgB,GAEhB,GAAoB,EAAqB,GAAU,aAE3D,CAEJ,MAAO,EACX,CApBS,mCAsBT,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACF,CA5bF,MA6bI,GAAI,EAAkB,GAAI,CAEtB,GAAM,GAAoB,AADL,KAAK,MAAM,gBAAS,EAAkB,GAAG,YAAa,CAAE,QAAS,EAAK,CAAC,CAAC,EACtD,IACjC,EAAmB,GAAoC,CAAiB,EAC9E,GAAI,EAIA,GAHK,KAAO,gBAAa,SAApB,QAA6B,SAC9B,GAAO,gBAAa,OAAO,QAAa,CAAC,GAEzC,MAAM,QAAQ,CAAgB,EAC9B,OAAW,KAAO,GACd,GACI,EACA,EACA,EACA,EACA,EACA,EACA,CACJ,MAGJ,IACI,EACA,EACA,EACA,EACA,EACA,EACA,CACJ,CAGZ,CACJ,CA1CS,iCA4CT,YACI,EACA,EACA,EACA,EACA,EACF,CACE,OAAW,KAAe,QAAO,KAAK,CAAoB,EAAG,CACzD,GAAM,GAAmB,EAAY,MAAM,GAAG,EACxC,CAAC,EAAkB,GAAgB,EAEnC,EAAc,EAAiB,GAC/B,EAAS,GAAyB,IAAgB,EAAsB,IAAM,OAAY,EAC1F,EAAgB,oBAAiB,GACvC,GAAI,GAAiB,IAAM,IAAiB,EAAoB,CAC5D,GAAM,GAAe,EAAqB,GAAa,KACjD,EAAqB,GAAa,KAAK,YAAY,EACnD,MACF,EAAe,EAAqB,GAAa,aACrD,GAAI,CAAC,EACD,SAGJ,GAAM,GAAoB,GACtB,EACA,EACA,EACA,CACJ,EAGM,EAAgB,EAAa,MAAM,GAAG,EAC5C,EAAe,EAAc,EAAc,OAAS,GAAK,oBAAmB,EAC5E,GAAM,GAAoB,EAAU,OAAO,AAAC,GAAa,EAAS,cAAiB,SAAS,CAAY,CAAC,EACzG,GACI,EACA,EACA,EACA,EACA,EACA,EACA,CACJ,CACJ,CACJ,CACJ,CA7CS,8BAwDF,YACH,EACA,EACA,EACA,EACA,EACA,EACI,CACJ,GAAI,CAAC,EACD,OAEJ,GAAM,GACF,IAAO,IAAyB,EAAsB,OAAS,EAAsB,OAAS,EAAO,WAEzG,GACI,EAAS,mBAAgB,MACzB,EAAS,mBAAgB,KAAK,SAC9B,EAAS,mBAAgB,KAAK,QAAW,YACzC,EAAS,mBAAgB,KAAK,QAAW,WAAc,yBACzD,CACE,GAAM,GAAgB,wCAAqC,IAAI,CAAQ,EACjE,EACF,EAAS,mBAAgB,KAAK,QAAW,WAAc,yBAAyB,GACpF,GAAI,CAAC,EACD,OAEJ,GAAsB,EAAsB,EAAoB,EAAuB,EAAQ,CAAS,CAC5G,CACJ,CA5BgB,qB2BthBhB,OAAqF,SCDrF,OAAmB,owECEZ,YAAkB,EAA0B,CAC/C,EAAa,kBAAkB,EAAa,SAAU,cAAe,EAAU,CACnF,CAFgB,iBDCT,YAAkB,EAAW,KAAY,CAE5C,GAAQ,KAAK,CACT,UAAW,CACP,GAAI,CACA,YAAa,UACjB,CACJ,EACA,IAAK,EACL,YAAa,KACb,WAAY;AAAA;AAAA,CAChB,CAAC,EAGD,GAAa,EAAO,CACxB,CAfgB,iBEJhB,OAAyE,SAclE,YACH,EACA,EACA,EAC6B,CAC7B,OAAW,KAAO,GAAS,CACvB,GAAM,GAAS,EAAQ,GACvB,GAAI,GAAc,EAAO,UAAU,IAAI,IAAM,YAAS,YAAc,EAAO,YAAc,EACrF,SAAS,KAAK,CAAG,EACV,EACJ,GAAI,EAAO,MACd,SAAS,KAAK,CAAG,EACV,GAAiB,EAAO,MAAO,EAAW,CAAQ,CAEjE,CACJ,CAfgB,yBAuBT,YAA8B,EAA6B,EAAmD,CACjH,OAAW,KAAO,GAAS,CACvB,GAAM,GAAS,EAAQ,GAEvB,GADA,EAAS,KAAK,CAAG,EACb,GAAc,EAAO,UAAU,IAAI,IAAM,YAAS,WAClD,MAAO,EAEf,CACJ,CARgB,6BAgBT,YACH,EACA,EACA,EAC6B,CAC7B,OAAW,KAAO,GAAS,CACvB,GAAM,GAAS,EAAQ,GAEvB,GADA,EAAS,KAAK,CAAG,EACb,GAAc,EAAO,UAAU,IAAI,IAAM,YAAS,mBAClD,MAAO,EAEf,CAEA,GAAI,EAAQ,CACR,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,OAAO,EAC1B,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,OAAO,CACnC,CACJ,CAAC,CACL,CArBgB,+BA6BT,YAAmC,EAAsB,EAAyB,CACrF,GAAM,GAAW,EAAa,MAAM,GAAG,EACvC,MAAO,OAAG,gBAAgB,EAAS,KAAO,EAAS,KAAO,CAC9D,CAHgB,kCAWT,YAAqC,EAAkB,EAA2B,CACrF,GAAM,GAAqB,GACvB,EACA,8BAA8B,MAAG,yBAAyB,MAAG,mCACjE,EACM,EAAqB,CAAC,EAC5B,OAAW,KAAO,GACd,AAAI,GAA0B,EAAK,CAAS,GACxC,GAAmB,GAAO,EAAmB,IAGrD,MAAO,EACX,CAZgB,oCAkBhB,YAAqC,EAA+D,CA/GpG,MAgHI,GAAI,KAAO,SAAP,QAAe,QAAS,CACxB,OAAW,KAAa,GAAO,OAAO,QAClC,AAAI,OAAO,KAAK,EAAO,OAAO,QAAQ,EAAU,EAAE,SAAW,GACzD,MAAO,GAAO,OAAO,QAAQ,GAGrC,AAAI,OAAO,KAAK,EAAO,OAAO,OAAO,EAAE,SAAW,GAC9C,MAAO,GAAO,OAAO,QAErB,OAAO,KAAK,EAAO,MAAM,EAAE,SAAW,GACtC,MAAO,GAAO,MAEtB,CACJ,CAdS,oCAoBT,YAAwC,EAA+D,CAnIvG,UAoII,GAAI,KAAO,YAAP,QAAkB,gBAAiB,CACnC,OAAW,KAAY,GAAO,UAAU,gBACpC,AAAI,OAAO,KAAK,EAAO,UAAU,gBAAgB,EAAS,EAAE,SAAW,GACnE,MAAO,GAAO,UAAU,gBAAgB,GAGhD,AAAI,WAAO,KAAK,KAAO,YAAP,cAAkB,eAAe,IAA7C,cAAgD,UAAW,GAC3D,MAAO,GAAO,UAAU,eAEhC,CACJ,CAXS,uCAiBT,YAAsC,EAA+D,CApJrG,MAqJI,GAAI,KAAO,QAAP,QAAc,QAAS,CACvB,OAAW,KAAa,GAAO,MAAM,QAAQ,QACzC,AAAI,OAAO,KAAK,EAAO,MAAM,QAAQ,QAAQ,EAAU,EAAE,SAAW,GAChE,MAAO,GAAO,MAAM,QAAQ,QAAQ,GAG5C,AAAI,OAAO,KAAK,EAAO,MAAM,QAAQ,OAAO,EAAE,SAAW,GACrD,MAAO,GAAO,MAAM,QAAQ,QAE5B,OAAO,KAAK,EAAO,MAAM,OAAO,EAAE,SAAW,GAC7C,MAAO,GAAO,MAAM,OAE5B,CACJ,CAdS,qCAoBF,YAA6B,EAAqE,CAErG,GAA6B,CAAM,EAEnC,GAA+B,CAAM,EAErC,GAA4B,CAAM,CACtC,CAPgB,4BCxKhB,0LCAA,OAAgC,SASzB,YAAkE,CAyBzE,EAzBO,2BAQH,GAPA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,YAC5C,iBAAkB,EACtB,CACJ,CAAC,GACD,AARG,GAQH,0BAGA,GADA,AAAC,GAAQ,OAAO,GAChB,AAXG,GAWH,qBAGA,GADA,AAAC,GAAQ,0BAA0B,GACnC,AAdG,GAcH,yBAGA,GADA,AAAC,GAAQ,yBAAyB,GAClC,AAjBG,GAiBH,qBAGA,GADA,AAAC,GAAQ,sBAAsB,GAC/B,AApBG,GAoBH,sBApBG,MAJP,AAAC,GAAsB,CACnB,GAAI,2EACJ,OAAQ,MAAG,kBACf,CAAC,GACM,ICTP,OAAgC,SAWzB,YAAkD,CAkBzD,EAlBO,mBAQH,GAPA,AAAC,EAAS,CACN,KAAM,CACF,UAAW,GACX,YAAa,IAAmB,eAAY,YAC5C,iBAAkB,EACtB,CACJ,CAAC,GACD,AARG,GAQH,0BAGA,GADA,AAAC,GAAQ,kBAAkB,GAC3B,AAXG,GAWH,yBAGA,GADA,AAAC,GAAQ,YAAY,GACrB,AAdG,GAcH,qBAGA,GADA,AAAC,GAAQ,kBAAkB,GAC3B,AAjBG,GAiBH,sBAjBG,MAJP,AAAC,GAAsB,CACnB,GAAI,MAAG,kCACP,OAAQ,MAAG,0BACf,CAAC,GACM,ICNP,OAAmB,SASZ,YAAkD,CA2EzD,EA3EO,mBASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAA+B,GAAuB,CAAQ,CACzE,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,+CAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAA+B,GAAuB,CAAQ,CACzE,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAnBG,GAmBH,gDAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAA+B,GAAuB,CAAQ,CACzE,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA7BG,GA6BH,gCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAA+B,GAAuB,CAAQ,CACzE,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAvCG,GAuCH,+BAGA,GADA,AAAC,GAAQ,QAAQ,GACjB,AA1CG,GA0CH,sBAGA,GADA,AAAC,GAAQ,UAAU,GACnB,AA7CG,GA6CH,wBAGA,GADA,AAAC,GAAQ,QAAQ,GACjB,AAhDG,GAgDH,sBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAA+B,GAAyB,CAAQ,CAC3E,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA1DG,GA0DH,qDAgBA,GAdA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAA+B,GAAuB,CAAQ,EACrE,OAAQ,AAAC,GAAsC,CAC3C,GAAI,iBAAmB,GACnB,MAAO,GAAM,aAErB,EACA,IAAK,eACT,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA1EG,GA0EH,mCA1EG,MAJP,AAAC,GAAsB,CACnB,GAAI,MAAG,kCACP,OAAQ,MAAG,0BACf,CAAC,GACM,ICTP,YAAqC,EAAyB,EAAY,CACtE,OAAW,KAAe,GAAgB,aAAgB,OAAW,CACjE,EAAW,OAAO,GAAe,EAAgB,aAAgB,OAAU,GAC3E,GAAM,GAAiB,EAAgB,aAAgB,OAAU,GAAa,eAC9E,AAAI,MAAO,IAAmB,UAC1B,GAAW,OAAO,GAAa,eAAiB,EAAe,MAAM,GAAG,GAE5E,OAAW,KAAa,GAAgB,aAAgB,OAAU,GAAa,OAAQ,CACnF,GAAM,GAAc,EAAgB,aAAgB,OAAU,GAAa,OAAO,GAClF,EAAW,OAAO,GAAa,OAAO,GAAa,EAC/C,EAAY,QAAU,MAAO,GAAY,QAAW,UACpD,GAAW,OAAO,GAAa,OAAO,GAAW,OAAS,EAAY,OAAO,MACzE,GACJ,EAER,CACJ,CACJ,CAjBS,oCAmBF,YAA+B,EAAuC,CACzE,GAAI,CAAC,GAAmB,CAAC,EAAgB,aACrC,OAEJ,GAAM,GAA2B,KAAK,MAAM,KAAK,UAAU,EAAgB,YAAe,CAAC,EAE3F,MAAI,OAAO,GAAgB,aAAgB,gBAAsB,UAC7D,GAAW,eAAiB,EAAgB,aAAgB,eAAkB,MAAM,GAAG,GAEvF,EAAgB,aAAgB,QAChC,GAA4B,EAAiB,CAAU,EAEpD,CACX,CAbgB,8BAeT,YAA8B,EAAiC,CAClE,GAAM,GAAa,CAAC,EACpB,SAAW,aAAkB,GAAsB,EAAgB,cAAiB,EAC7E,CACX,CAJgB,6BAMhB,YAA4B,EAAmC,EAAa,EAA0B,CAClG,OAAW,KAAa,GAAW,eAAkB,GAAK,OAAW,CACjE,GAAM,GAAQ,EAAW,eAAkB,GAAK,OAAU,GAI1D,GAHI,EAAM,gBACN,GAAgB,eAAkB,GAAK,OAAU,GAAW,eAAiB,EAAM,eAAe,KAAK,GAEvG,EAAM,OACN,OAAW,KAAa,GAAM,OAAQ,CAClC,GAAM,GAAc,EAAM,OAAO,GACjC,AAAI,EAAY,QAAU,MAAM,QAAQ,EAAY,MAAM,GACtD,GAAgB,eAAkB,GAAK,OAAU,GAAW,OAAO,GAAW,OAC1E,EAAY,OAAO,KAAK,EAEpC,CAER,CACJ,CAhBS,2BAkBF,YAA8B,EAAyB,EAAyC,CACnG,AAAK,EAAgB,gBACjB,GAAgB,eAAoB,CAAC,GAEzC,GAAM,GAAM,eACZ,AAAI,EAAW,eAAkB,KAAS,OACtC,MAAO,GAAgB,eAAkB,GAEzC,GAAgB,eAAkB,GAAO,KAAK,MAAM,KAAK,UAAU,EAAW,eAAkB,EAAI,CAAC,EAEjG,EAAW,eAAkB,GAAK,gBAClC,GAAgB,eAAkB,GAAK,eACnC,EAAW,eAAkB,GAAK,eAAkB,KAAK,GAE7D,EAAW,eAAkB,GAAK,QAClC,GAAmB,EAAY,EAAK,CAAe,EAG/D,CAlBgB,6BA0BT,YAAsD,CA0H7D,EA1HO,qBAMH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,GAAkB,CAC1C,CACJ,CAAC,GACD,AANG,GAMH,iCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,GAAkB,CAC1C,CACJ,CAAC,GACD,AAbG,GAaH,sCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,GAAkB,CAC1C,CACJ,CAAC,GACD,AApBG,GAoBH,qCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,GAAkB,CAC1C,CACJ,CAAC,GACD,AA3BG,GA2BH,+BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,GAAkB,CAC1C,CACJ,CAAC,GACD,AAlCG,GAkCH,oCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,GAAkB,CAC1C,CACJ,CAAC,GACD,AAzCG,GAyCH,wCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,GAAkB,CAC1C,CACJ,CAAC,GACD,AAhDG,GAgDH,gCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,GAAkB,CAC1C,CACJ,CAAC,GACD,AAvDG,GAuDH,8BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,GAAkB,CAC1C,CACJ,CAAC,GACD,AA9DG,GA8DH,4CAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,GAAkB,CAC1C,CACJ,CAAC,GACD,AArEG,GAqEH,wCAKA,GAHA,AAAC,EAAS,CACN,SAAU,CAAE,KAAM,IAAc,GAAkB,CAAE,CACxD,CAAC,GACD,AA1EG,GA0EH,gCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAqB,GAAsB,CAAQ,CAC9D,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AApFG,GAoFH,6BAYA,GAVA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,GAAkB,EACtC,OAAQ,GACR,OAAQ,EACZ,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAhGG,GAgGH,8BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,GAAkB,CAC1C,CACJ,CAAC,GACD,AAvGG,GAuGH,+BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,GAAkB,CAC1C,CACJ,CAAC,GACD,AA9GG,GA8GH,gCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,GAAkB,CAC1C,CACJ,CAAC,GACD,AArHG,GAqHH,+BArHG,MAJP,AAAC,GAAsB,CACnB,GAAI,0DACJ,OAAQ,4CACZ,CAAC,GACM,ICxEA,YAAoE,CAW7D,YAAY,EAAmC,EAA0B,EAAmB,CAClG,KAAK,SAAW,EAChB,KAAK,MAAQ,EACb,KAAK,UAAY,CACrB,CAYA,eACI,EACA,EACA,EACA,EACG,CACH,GAAI,GAAgB,KAAK,SAAS,GAC5B,KAAK,SAAS,GACd,KAAK,SAAS,GACpB,MAAK,IACD,GAAgB,KAAK,UAAU,GAAU,GACnC,KAAK,UAAU,GAAU,GACzB,KAAK,UAAU,GAAU,IAE5B,EAAgB,OAAO,OAAO,GAAI,GAAiB,CAAI,EAAI,CACtE,CAOA,mBAAmB,EAAiC,EAAuB,CACvE,GAAM,GAAgB,KAAK,MAAM,GACjC,MAAO,QAAO,OAAO,GAAI,GAAiB,CAAI,CAClD,CACJ,EArDO,wBCbP,OAAuE,SAMjE,GAAc,CAEpB,EAEM,GAAa,CACf,MAAgB,GAChB,+BAAyC,GACzC,gCAA0C,EAC9C,EAEM,GAAc,EACf,MAAG,iBAAiB,kBAA4B,IAChD,MAAG,iBAAiB,oBAA8B,IAClD,MAAG,iBAAiB,wBAAkC,IACtD,MAAG,iBAAiB,0BAAoC,IACxD,MAAG,iBAAiB,mBAA6B,IACjD,MAAG,iBAAiB,sBAAgC,IACpD,MAAG,iBAAiB,mBAA6B,IACjD,MAAG,iBAAiB,qBAA+B,EACxD,EAEM,GAAa,EACd,sBAA6B,IAC7B,0BAAiC,GAClC,MAAgB,GAChB,yCAAmD,GACnD,0CAAoD,EACxD,EAEM,GAAY,EACb,YAAS,oBAAqB,IAC9B,YAAS,YAAa,IACtB,YAAS,YAAa,IACtB,YAAS,cAAe,EAC7B,EAKO,gBAAwC,GAAqD,CAChG,aAAc,CACV,MAAM,GAAU,GAAO,EAAS,CACpC,CACJ,EAJO,kCV5BP,YACI,EACA,EACA,EACA,EACA,EACF,CAaE,GAZA,EAAiB,UAAY,EAAQ,eACjC,YAAS,WACT,kBAAe,oBACf,EAAiB,SACrB,EACA,GACI,EAAiB,UACjB,EAAiB,SACjB,EAAkB,kBAAe,qBACjC,EACA,EAAiB,MACrB,EACI,EAAkB,gBAAoB,CACtC,EAAiB,UAAU,gBAAkB,EAAQ,eACjD,YAAS,WACT,kBAAe,oBACf,EAAiB,UAAU,eAC/B,EACA,GAAM,GAAwB,EAAkB,gBAAmB,WACnE,OAAW,KAAqB,GAAuB,CACnD,GAAM,GAAe,EACrB,EAAiB,UAAU,gBAAgB,GAAgB,EAAQ,eAC/D,YAAS,WACT,4BACJ,EACA,GACI,EAAiB,UAAU,gBAAgB,GAC3C,EAAiB,SACjB,EAAkB,2BAClB,EACA,EAAiB,OACjB,CACJ,CACJ,CACJ,CACJ,CA1CS,wBAoDT,YACI,EACA,EACA,EACA,EACA,EACF,CACE,GAAI,GAEJ,AAAI,IAAc,aAAe,IAAc,mBAAqB,IAAc,YAC9E,EAAkB,EAAkB,EAAY,eAE5C,EAAkB,KAAqB,EAAkB,KACzD,GAAkB,KAAK,MAAM,KAAK,UAAU,EAAkB,GAAiB,CAAC,EAChF,EAAgB,WAAa,SACtB,EAAgB,YACf,EAAkB,IAAkC,aAIpE,GACI,EAAiB,MACjB,EAAiB,SACjB,EACA,EACA,EAAiB,MACrB,CACJ,CA3BS,oBAoCT,YACI,EACA,EACA,EACA,EACI,CACJ,GAAM,GAAY,GAAmB,EAAiB,SAAU,CAAO,EACvE,EAAiB,MAAQ,EAAQ,eAAe,YAAS,WAAY,EAAW,EAAiB,KAAK,EACtG,GAAM,GAAqB,EAAiB,WAA0B,YAgBtE,GAbA,GAAY,EAAW,EAAmB,EAAkB,EAAkB,CAAO,EAGrF,EAAiB,MAAM,QAAU,EAAQ,eAAe,YAAS,WAAY,kBAAe,QAAS,CACjG,QAAS,CAAC,CACd,CAAC,EACD,GACI,EAAiB,MAAM,QACvB,EAAiB,SACjB,EAAkB,kBAAe,WACjC,EACA,EAAiB,MACrB,EACI,EAAkB,kBAAe,WACjC,OAAW,KAAkB,GAAkB,kBAAe,WAAW,WAAY,CACjF,GAAM,GAAY,GAAiB,CAAc,EACjD,EAAiB,MAAM,QAAQ,QAAQ,GAAa,EAAQ,eACxD,YAAS,WACT,kBAAe,MACnB,EACA,GACI,EAAiB,MAAM,QAAQ,QAAQ,GACvC,EAAiB,SACjB,EAAkB,kBAAe,QACjC,EACA,EAAiB,MACrB,CACJ,CAIJ,GAAgB,EAAkB,EAAS,EAAkB,EAAmB,CAAO,EAGvF,EAAiB,OAAS,CAAE,QAAS,CAAC,CAAE,EACxC,GAAM,GAAe,EAAkB,kBAAe,iBACtD,GAAI,EACA,OAAW,KAAkB,GAAa,WAAY,CAClD,GAAM,GAAY,GAAiB,CAAc,EACjD,EAAiB,OAAO,QAAQ,GAAa,EAAQ,eACjD,YAAS,WACT,kBAAe,YACnB,EACA,GACI,EAAiB,OAAO,QAAQ,GAChC,EAAiB,SACjB,EAAkB,kBAAe,QACjC,EACA,EAAiB,MACrB,CACJ,CAER,CA/DS,oBAuEF,YACH,EACiC,CAIjC,GAFA,GAAS,EAEL,CAAC,EAAiB,SAAS,mBAAgB,SAAU,CACrD,GAAI,EAAiB,OAAQ,CACzB,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,MAAM,EACzB,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,OAAO,CACnC,CACJ,CAAC,EACD,MACJ,CAEA,GAAI,CADY,EAAiB,SAAS,mBAAgB,SAAS,MACrD,CACV,GAAI,EAAiB,OAAQ,CACzB,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,UAAW,CAAE,MAAO,EAAiB,SAAS,WAAW,EAAM,CAAC,EACnF,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,OAAO,CACnC,CACJ,CAAC,EACD,MACJ,CACA,GAAM,GAAU,GAAI,IAEd,EAAS,EAAQ,mBAAmB,YAAS,UAAU,EAEvD,EAAqB,CAAC,EACtB,EAAS,GAAqB,EAAiB,SAAS,mBAAgB,SAAS,MAAO,CAAQ,EACtG,GAAI,CAAC,EAAQ,CACT,GAAI,EAAiB,OAAQ,CACzB,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,MAAM,EACzB,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,OAAO,CACnC,CACJ,CAAC,EACD,MACJ,CAEA,UAAY,EAAkB,EAAQ,EAAS,EAAS,EAAE,EAG1D,EAAiB,KAAK,QAAQ,AAAC,GAAW,CACtC,AAAI,GAAkB,CAAM,GACxB,GAAQ,EAAQ,EAAQ,EAAiB,WAAY,EAAiB,MAAM,CAEpF,CAAC,EACD,GAAa,EAAQ,EAAiB,SAAU,EAAQ,YAAS,WAAY,EAAiB,SAAS,EACvG,GAAoB,CAAM,EACnB,CACX,CA1DgB,+BWlLhB,OAAqF,SAmBrF,YACI,EACA,EACA,EACA,EACI,CACJ,GAAM,GAAY,GAAmB,EAAiB,SAAU,CAAO,EACjE,EAAqB,EAAiB,WAA0B,YA6BtE,GA3BA,EAAyB,MAAQ,EAAQ,eACrC,YAAS,mBACT,MAAM,IACN,EAAyB,KAC7B,EACA,GACI,EAAyB,MACzB,EAAiB,SACjB,EAAkB,MAAM,gBACxB,EACA,EAAiB,MACrB,EAEA,EAAyB,MAAM,QAAU,EAAQ,eAC7C,YAAS,mBACT,kBAAe,QACf,CACI,QAAS,CAAC,CACd,CACJ,EACA,GACI,EAAyB,MAAM,QAC/B,EAAiB,SACjB,EAAkB,kBAAe,SACjC,EACA,EAAiB,MACrB,EACI,EAAkB,kBAAe,WACjC,OAAW,KAAkB,GAAkB,kBAAe,WAAW,WAAY,CACjF,GAAM,GAAY,GAAiB,CAAc,EACjD,EAAyB,MAAM,QAAQ,QAAQ,GAAa,EAAQ,eAChE,YAAS,mBACT,kBAAe,MACnB,EACA,GACI,EAAyB,MAAM,QAAQ,QAAQ,GAC/C,EAAiB,SACjB,EAAkB,kBAAe,QACjC,EACA,EAAiB,MACrB,CACJ,CAeJ,GAZA,EAAyB,UAAY,EAAQ,eACzC,YAAS,mBACT,kBAAe,4BACf,EAAyB,SAC7B,EACA,GACI,EAAyB,UACzB,EAAiB,SACjB,EAAkB,kBAAe,6BACjC,EACA,EAAiB,MACrB,EACI,EAAkB,kBAAe,iBAAkB,CACnD,EAAyB,UAAU,gBAAkB,EAAQ,eACzD,YAAS,mBACT,kBAAe,4BACf,EAAyB,UAAU,eACvC,EACA,GAAM,GAAwB,EAAkB,kBAAe,iBAAiB,WAChF,OAAW,KAAqB,GAAuB,CACnD,GAAM,GAAe,EACrB,EAAyB,UAAU,gBAAgB,GAAgB,EAAQ,eACvE,YAAS,mBACT,4BACJ,EACA,GACI,EAAyB,UAAU,gBAAgB,GACnD,EAAiB,SACjB,EAAkB,2BAClB,EACA,EAAiB,OACjB,CACJ,CACJ,CACJ,CAGA,EAAyB,MAAQ,EAAQ,eACrC,YAAS,mBACT,gBACA,EAAyB,KAC7B,EACA,GACI,EAAyB,MACzB,EAAiB,SACjB,EAAkB,cAClB,EACA,EAAiB,MACrB,EAEA,EAAyB,OAAS,CAAE,QAAS,CAAC,CAAE,EAChD,GAAM,GAAe,EAAkB,kBAAe,iBACtD,GAAI,EACA,OAAW,KAAkB,GAAa,WAAY,CAClD,GAAM,GAAY,GAAiB,CAAc,EACjD,EAAyB,OAAO,QAAQ,GAAa,EAAQ,eACzD,YAAS,mBACT,kBAAe,YACnB,EACA,GACI,EAAyB,OAAO,QAAQ,GACxC,EAAiB,SACjB,EAAkB,kBAAe,QACjC,EACA,EAAiB,MACrB,CACJ,CAIJ,EAAyB,yBAA2B,CAAC,EACrD,GAAM,GACF,EAAiB,SAAS,mBAAgB,SAAS,MAAS,GAAS,UAAU,SAC1E,yBACT,AAAI,GACA,OAAO,KAAK,CAAQ,EAAE,QAAQ,AAAC,GAAW,CACtC,EAAyB,yBAAyB,GAAU,EAAQ,eAChE,YAAS,mBACT,aACJ,EACA,EAAyB,yBAA2B,EAAQ,eACxD,YAAS,mBACT,cACA,EAAyB,wBAC7B,EACA,GACI,EAAyB,yBAAyB,GAClD,EAAiB,SACjB,EAAkB,YAClB,EACA,EAAiB,OACjB,CACJ,CACJ,CAAC,CAET,CApJS,oBA4JF,YACH,EACyC,CAIzC,GAFA,GAAS,EAEL,CAAC,EAAiB,SAAS,mBAAgB,SAAU,CACrD,GAAI,EAAiB,OAAQ,CACzB,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,MAAM,EACzB,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,OAAO,CACnC,CACJ,CAAC,EACD,MACJ,CAEA,GAAI,CADY,EAAiB,SAAS,mBAAgB,SAAS,MACrD,CACV,GAAI,EAAiB,OAAQ,CACzB,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,UAAW,CAAE,MAAO,EAAiB,SAAS,WAAW,EAAM,CAAC,EACnF,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,OAAO,CACnC,CACJ,CAAC,EACD,MACJ,CACA,GAAM,GAAU,GAAI,IAEd,EAAS,EAAQ,mBAAmB,YAAS,kBAAkB,EAE/D,EAAqB,CAAC,EACtB,EAAS,GACX,EAAiB,SAAS,mBAAgB,SAAS,MACnD,EACA,EAAiB,MACrB,EACA,GAAI,EAAC,EAGL,UAAY,EAAkB,EAAQ,EAAS,EAAS,EAAE,EAC1D,EAAiB,KAAK,QAAQ,AAAC,GAAW,CACtC,AAAI,GAAkB,CAAM,GACxB,GAAQ,EAAQ,EAAQ,EAAiB,UAAU,CAE3D,CAAC,EACD,GAAa,EAAQ,EAAiB,SAAU,EAAQ,YAAS,mBAAoB,EAAiB,SAAS,EAC/G,GAAoB,CAAM,EACnB,CACX,CAnDgB,uCCxKhB,OAaO,SAqBP,OAAkC,sDAKlC,GAAM,IAAqC,CAAC,eAAY,OAAQ,eAAY,iBAAkB,eAAY,WAAW,EAOrH,YAAiC,EAA2B,EAAiB,CACzE,GAAM,GAAc,EAAgB,GAAG,MAAM,GAAG,EAC1C,EAAK,EAAY,EAAY,OAAS,GAC5C,GAAI,EAAgB,GAAG,QAAQ,YAAY,GAAK,GAAK,EAAgB,GAAG,WAAW,UAAU,EAEzF,EACI,EAAY,GAAG,MAAM,YAAY,EAAE,IACnC,EAAY,GAAG,MAAM,GAAG,qBAAkB,YAAY,EAAE,GAAG,MAAM,IAAI,EAAE,GAC3E,EAAU,GAAG,uBAAoB,YAEjC,EAAgB,GAAG,QAAQ,qBAAkB,QAAQ,GAAK,GAC1D,EAAgB,GAAG,QAAQ,aAAa,GAAK,GAC7C,EAAgB,GAAG,QAAQ,SAAS,GAAK,EAEzC,EAAU,EAAY,GAAG,MAAM,SAAS,EAAE,GAAG,MAAM,mBAAmB,EAAE,OACrE,CACH,GAAM,GAAU,EAAG,MAAM,IAAI,EAC7B,AAAI,EAAQ,OAAS,EACjB,EAAU,EAAQ,GACX,EAAY,GAAG,QAAQ,IAAI,EAAI,IACtC,GAAU,EAAY,GAAG,MAAM,IAAI,EAAE,GAE7C,CACA,MAAO,EACX,CAxBS,gCA+BT,YAAoB,EAA4B,CAC5C,GAAI,GACE,EAA4B,EAAW,MAAM,KAAK,EACxD,GAAI,EAAgB,SAAW,EAC3B,EAAU,GAAwB,EAAiB,CAAO,UACnD,EAAW,QAAQ,eAAe,GAAK,GAC9C,OAAW,KAAW,GAClB,GAAI,EAAQ,WAAW,eAAe,EAAG,CACrC,EAAU,EACL,MAAM,iBAAiB,EAAE,GACzB,MAAM,SAAS,EAAE,GACjB,MAAM,kBAAkB,EAAE,GAC1B,QAAQ,KAAK,qBAAkB,WAAY,KAAK,qBAAkB,UAAU,EACjF,KACJ,MAGJ,GAAU,EAAgB,GAE9B,MAAO,EACX,CApBS,mBA2BT,YAA4B,EAAmB,EAAmB,EAAkD,CAChH,GAAM,GAAiC,CAAC,EAClC,EAAiB,oCACvB,SAAQ,QAAQ,AAAC,GAAiB,CApHtC,QAqHQ,GAAI,CACA,GAAM,GAAS,GAAkB,CAAY,EAC7C,GACI,GACA,MAAO,YAAP,cAAkB,SAAS,MAAG,8BAC9B,MAAO,YAAP,cAAkB,SAAS,IAC7B,CACE,GAAI,GAAa,EAAO,UAAU,MAAM,IAAI,EAAE,GAAG,QAAQ,UAAW,IAAI,EACxE,AAAI,EAAe,KAAK,CAAU,IAAM,MACpC,GAAa,EAAW,MAAM,2BAA2B,EAAE,IAE/D,GAAM,GAAkB,GAAW,CAAU,EAC7C,EAAa,GAAgB,CAAU,EAClC,QAAQ,UAAW,IAAI,EACvB,QAAQ,2BAA4B,wBAAwB,EACjE,EAAO,GAAG,MAAe,EAAO,QAAQ,YAAc,CAClD,UAAW,EACX,WAAY,EAAO,QAAQ,SAC3B,QAAS,EACT,SACI,EAAO,QAAQ,aAAe,OAAY,EAAO,QAAQ,WAAa,EAAO,QAAQ,SACzF,YAAa,EAAO,YACpB,SAAU,EAAO,QACrB,CACJ,CACJ,OAAS,EAAP,CACE,GACI,EACA,CACI,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,WAAW,CAClC,EACA,GAAG,CACP,CACJ,CACJ,CAAC,EAIM,AAHY,OAAO,QAAQ,CAAM,EAAE,KACtC,CAAC,EAAkB,IAAqB,EAAE,GAAG,SAAW,EAAE,GAAG,QACjE,EACkB,OAAO,CAAC,EAAO,CAAC,EAAG,KACjC,GAAM,GAAK,EACJ,GACR,CAAC,CAAC,CACT,CA/CS,2BAsDT,GAAM,IAAiB,EAAC,GAAyC,CAvKjE,UAwKI,GAAI,GACJ,GAAI,EAAc,KACd,SAAY,EAAc,KAAQ,SAAS,GAAG,EAAI,EAAc,KAAQ,MAAM,GAAG,EAAE,GAAK,EAAc,KAC/F,EAAU,QAAQ,GAAwB,EAAE,EAChD,GAAI,QAAc,aAAd,cAA8B,cAA9B,QAA+C,KACtD,SAAY,EAAc,WAAc,YAAe,KACvD,EAAY,EAAU,SAAS,GAAG,EAAI,EAAU,MAAM,GAAG,EAAE,GAAK,EACzD,EAAU,QAAQ,GAAwB,EAAE,EAChD,GAAI,KAAc,aAAd,QAA8B,YACrC,MAAO,wBAEf,EAZuB,kBAuBvB,YACI,EACA,EACA,EACA,EACA,EACA,EACF,CACE,GAAI,GACJ,AAAI,EACA,EAAW,CAAC,EAAa,QAAQ,KAAM,EAAE,CAAC,EAE1C,EAAW,CAAC,EAAU,QAAQ,KAAM,EAAE,EAAG,iBAAW,QAAQ,2BAA4B,gBAAa,EAGzG,OAAW,KAAY,GAAa,CAChC,GAAM,GAAa,EAAY,GACzB,EAAkB,EAAW,aAAe,EAC5C,EAAgB,IAAgB,WAAa,EAAW,cAAgB,eAAY,YAC1F,AAAK,IAAmB,IAAkB,EAAS,QAAQ,iBAAY,OAAO,EAAI,IAC9E,GAAgB,EAAY,EAAY,EAAiB,UAAU,CAE3E,CACJ,CAvBS,iCAmCT,YACI,EACA,EACA,EACA,EACA,EACA,EACO,CAxOX,MAyOI,GAAI,GAAU,GACV,EAAiB,GACf,EAAmB,GAAC,EAAK,IAAW,EAAO,MAAM,AAAC,GAAM,EAAI,SAAS,CAAC,CAAC,EAApD,oBAEzB,AAAI,EACA,GAAU,EAAiB,EAAiB,KAAK,EAAW,SAAS,EACjE,GACA,GAAU,GAAkB,EAAmB,KAAK,EAAW,SAAS,IAErE,GACP,GAAU,EAAmB,KAAK,EAAW,SAAS,GAE1D,GAAM,GAAiB,EAAW,UAAU,MAAM,IAAI,EAEtD,MACK,GAAW,cAAgB,eAAY,cAAgB,GACvD,MAAW,UAAX,cAAoB,SAAS,wBAAsB,CAAC,GAAa,GACjE,GAAa,EAAiB,EAAgB,EAAU,MAAM,IAAI,CAAC,GAAK,GACxE,EAAiB,OAAS,EAAiB,EAAgB,EAAiB,MAAM,MAAM,IAAI,CAAC,GAC7F,CAAC,EAAW,SAAW,GAAmC,SAAS,EAAW,WAA0B,CAEjH,CA7BS,sBAwCT,YACI,EACA,EACA,EACA,EACA,EACA,EACF,CAhRF,MAiRI,GAAM,GAAmB,GAAI,QAAO,KAAK,GAAW,EAC9C,EAAqB,GAAI,QAAO,KAAK,GAAW,EAEtD,OAAW,KAAY,GAAa,CAChC,GAAM,GAAa,EAAY,GAM/B,GAJI,EAAW,aAAe,GAI1B,EAAW,cAAgB,MAAiB,WAAW,EAAW,cAAvC,cAAqD,aAAU,cAC1F,SAUJ,AAAI,AARU,GACV,EACA,EACA,EACA,EACA,EACA,CACJ,GAEI,GAAW,GAAe,EAAW,SAE7C,CACJ,CAjCS,0BA0CT,YACI,EACA,EACA,EACA,EACF,CACE,GAAI,GAAmB,EACnB,OAAW,KAAO,GAAiB,CAC/B,GAAM,GAAa,EAAqB,GACxC,AAAI,GACA,IAAI,EAAiB,OAAQ,CACzB,SAAU,eAAY,QACtB,QAAS,GAAqB,EAAK,CAAU,EAC7C,SAAU,CACN,KAAM,wBACN,MAAO,EAAa,MAAM,GAAG,CACjC,CACJ,CAAC,EACD,MAAO,GAAqB,GAEpC,CAER,CAtBS,kCAmCT,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACF,CACE,GAAM,GAAsB,WAAa,GACnC,EAAY,GAAG,QAAQ,OAAQ,IAAI,EAAE,QAAQ,YAAa,SAAS,EACnE,OACF,EACA,EACJ,AAAI,WAAa,MACb,GAAe,EAAS,SAAS,KAAK,EAAU,CAAC,EAAG,EAAY,KAAK,EACrE,EAAkB,GAA8B,EAAiB,SAAU,CAAY,EACnF,OAAO,OAAO,CAAe,EAAE,SAAW,GAC1C,GAAe,EAAS,SAAS,KAAK,EAAU,CAAC,EAAG,CAAmB,EACvE,EAAkB,GAA8B,EAAiB,SAAU,CAAY,IAG3F,GAAe,EAAS,SAAS,KAAK,EAAU,CAAC,EAAG,CAAmB,EACvE,EAAkB,GAA8B,EAAiB,SAAU,CAAY,GAE3F,GAAM,GAAgB,EAAS,SAAS,OACxC,GAAI,GAAiB,MAAO,IAAkB,WAAY,CACtD,GAAM,GAAQ,EAAc,EAAiB,iBAAa,EAAE,EAC5D,AAAI,IAAU,QACV,GAAW,GAAe,EAElC,KAAO,CACH,GAAM,GAAc,EAAS,SAAS,KAAO,EAC7C,AAAI,IAAe,IACf,GAAW,GAAe,EAAgB,GAElD,CAEA,UAA0B,EAAiB,EAAsB,EAAkB,CAAY,EACxF,CACX,CAxCS,8BAmDT,YACI,EACA,EACA,EACA,EACA,EACA,EACI,CAhZR,QAiZI,GAAI,CAAC,EACD,OAEJ,GAAM,GAA6C,WAAY,cAAgB,EAAW,cAAc,EAAI,CAAC,EAC7G,OAAW,KAAe,GAAiB,YAAc,EAAkB,CACvE,GAAM,GAAW,GAAmB,EAAY,CAAW,EAC3D,GAAI,IAAgB,WAAa,kBAAU,MACvC,GACI,qBAAa,OAAb,cAAmB,WAAW,8BAC9B,qBAAa,OAAb,cAAmB,WAAW,gCAE9B,GACI,EAAiB,YACjB,EACA,EACA,EACA,EAAY,MACZ,EAAY,EAChB,MACG,CACH,GAAM,GAAU,kBAAa,QAAS,kBAAa,IACnD,GACI,EACA,EACA,EAAiB,YACjB,EACA,EACA,CACJ,CACJ,KACG,AAAI,YAAU,UACjB,GACI,EACA,EAAiB,SACjB,EACA,EACA,EACA,EACA,CACJ,CAER,CACJ,CAlDS,uCA2DT,YAAqB,EAAoB,EAAwB,EAAsB,EAAyB,CAC5G,GAAI,GAAW,GAA2B,CAAc,EACxD,MAAI,KAAe,aACf,EAAW,WAAW,MAAa,MAAY,IAC5C,AAAI,IAAe,yBACtB,EAAW,WAAW,iBACf,IAAe,2BACtB,GAAW,EAAS,SAAS,WAAW,EAClC,WAAW,EAAS,MAAM,WAAW,EAAE,KACvC,WAAW,EAAS,QAAQ,MAAO,IAAI,KAE1C,EAAS,QAAQ,KAAM,EAAE,CACpC,CAZS,oBAsBT,YACI,EACA,EACA,EACA,EACA,EACA,EACI,CAjeR,MAkeI,EAAW,gBAAa,SAAW,CAAC,EACpC,GAAM,GAAa,EAAa,MAAM,IAAI,EAAE,IAAI,EAChD,GAAI,EAAiB,aAAe,OAAO,KAAK,EAAiB,WAAW,EAAE,OAAS,EAAG,CACtF,GAAM,GAAqC,CAAC,EAC5C,AAAI,GACA,GAAY,GAAK,GAErB,OAAW,KAAkB,GAAkB,CAC3C,GAAM,GAAiB,GAAiB,CAAc,EAChD,EAAW,GAAY,EAAY,EAAgB,EAAc,CAAO,EAC9E,AAAI,GACA,GAAW,gBAAa,SAAS,GAAkB,EAAiB,QAAQ,eACxE,YAAS,WACT,CACJ,EACA,GACI,EACA,EAAW,gBAAa,SAAS,GAChC,EAAiB,WAA0B,YAAY,GACxD,EACA,EACA,CACJ,GAGA,MAAW,gBAAa,WAAxB,cAAmC,KACnC,OAAO,KAAK,EAAW,gBAAa,SAAS,EAAe,EAAE,SAAW,GAEzE,MAAO,GAAW,gBAAa,SAAS,EAEhD,CACJ,CACA,AAAI,OAAO,KAAK,EAAW,gBAAa,QAAQ,EAAE,SAAW,GACzD,MAAO,GAAW,gBAAa,QAEvC,CA3CS,oBAqDT,YACI,EACA,EACA,EACA,EACA,EACI,CACJ,GAAI,GACJ,EAAW,EAAY,IAAI,KAAQ,OAAY,CAAC,EAChD,OAAW,KAAiB,GAAiB,CACzC,EAAU,GAAG,kBACb,EAAW,EAAY,IAAI,KAAQ,OAAU,GAAiB,EAAiB,QAAQ,eACnF,YAAS,WACT,OACJ,EACA,GAAM,GAAY,EAAY,MAAM,SAAS,uBAAoB,EAC3D,GAAG,EAAY,GAAG,QAAQ,KAAM,EAAE,MAAM,IACxC,GAAG,EAAY,UAAU,IAC/B,GACI,EACA,EAAW,EAAY,IAAI,KAAQ,OAAU,GAC5C,EAAiB,WAA0B,YAAY,kBAAe,OACvE,EACA,CAAC,EACD,CACJ,EACI,OAAO,KAAK,EAAW,EAAY,IAAI,KAAQ,OAAU,EAAc,EAAE,SAAW,GACpF,MAAO,GAAW,EAAY,IAAI,KAAQ,OAAU,EAE5D,CACA,AAAI,OAAO,KAAK,EAAW,EAAY,IAAI,KAAQ,MAAS,EAAE,SAAW,GACrE,MAAO,GAAW,EAAY,IAAI,KAAQ,MAElD,CAjCS,mBA0CT,YACI,EACA,EACA,EACU,CACV,GAAI,GACJ,MAAI,KAAc,aAAe,IAAc,mBAAqB,IAAc,YAC9E,EAAc,EAAkB,aAAa,KAAa,EAAY,OAEtE,EAAkB,4CAA4C,EAAY,QAC1E,EAAkB,6CAA6C,EAAY,QAE3E,GAAc,KAAK,MACf,KAAK,UAAU,EAAkB,4CAA4C,EAAY,MAAM,CACnG,EACA,EAAY,WAAgB,SACrB,EAAY,YACZ,EAAkB,6CAA6C,EAAY,OAAO,aAGtF,CACX,CArBS,2BA+BT,YACI,EACA,EACA,EACA,EACA,EACI,CA9lBR,QA+lBI,GAAM,GAAc,EAAY,OAAS,EAAY,GAAG,QAAQ,WAAY,SAAS,EAC/E,EAAkB,GAAoB,EAAiB,UAAY,EAAiB,SAAS,GAEnG,GAAI,GAAmB,EAAiB,YAAa,CACjD,GAAM,GAAoB,qBAAiB,gBAAjB,cAAgC,OAAQ,kBAG5D,EAAU,EAAiB,QAAQ,eAAe,YAAS,WAAY,aAAa,IAAa,CACnG,QAAS,CAAC,CACd,CAAC,EACD,EAAW,EAAY,IAAM,EAAiB,QAAQ,eAAe,YAAS,WAAY,EAAY,KAAM,CACxG,MAAO,CAAC,CACZ,CAAC,EACD,EAAW,EAAY,IAAI,gBAAa,OAAS,EAEjD,GAAM,GAAqB,EAAiB,WAA0B,YAEhE,EAAc,GAAmB,EAAW,EAAa,CAAiB,EAEhF,GACI,EACA,EAAW,EAAY,IACvB,EAAY,OACZ,EACA,CAAE,MAAO,EAAY,KAAM,CAC/B,EAEA,GACI,EACA,EAAW,EAAY,IAAI,gBAAa,OACxC,EACA,EACA,CACJ,EAEA,GAAM,GAAiB,KAAK,MAAM,KAAK,UAAU,CAAiB,CAAC,EAC/D,WAAW,EAAY,OAE3B,GAAI,WAAgB,WAAY,CAC5B,GAAM,GAAU,WAAa,MACvB,EAAY,MAAM,QAAQ,KAAM,IAAI,EAAE,QAAQ,SAAU,KAAK,EAC7D,oBAAa,KAAb,cAAiB,QAAQ,KAAM,MAAM,QAAQ,SAAU,OAC7D,GACI,EACA,EAAe,WACf,EAAW,EAAY,IAAI,gBAAa,OAAO,QAC/C,EACA,0BACA,CACJ,CACJ,CACA,AAAI,OAAO,KAAK,EAAW,EAAY,IAAI,gBAAa,OAAO,OAAU,EAAE,SAAW,GAClF,MAAO,GAAW,EAAY,IAAI,gBAAa,OAAO,OAE9D,CACJ,CA9DS,0BAwET,YACI,EACA,EACA,EACA,EACF,CACE,GAAM,GACD,EAAiB,WAA0B,YAAY,GAC1D,WAAW,OACP,EAAqB,EACrB,GAA6B,EAAuB,IAAI,EACxD,OACN,GAAI,EAAoB,CACpB,GAAM,GAA+C,CACjD,IAAK,EAAiB,QAAQ,IAAK,EAAE,EACrC,OAAQ,CACZ,EACA,GACI,EAAW,GACX,EAAiB,SACjB,EACA,YAAS,WACT,EAAiB,UACjB,CACJ,CACJ,CACJ,CA1BS,kCAoCT,YACI,EACA,EACA,EACA,EACA,EACF,CACE,GAAM,GAAc,EAAY,GAAG,QAAQ,WAAY,SAAS,EAC1D,EAAkB,GAAoB,EAAiB,UAAY,EAAiB,SAAS,GACnG,EAAW,EAAY,IAAM,EAAiB,QAAQ,eAAe,YAAS,WAAY,EAAY,KAAM,CACxG,MAAO,CAAC,CACZ,CAAC,EACD,EAAW,EAAY,IAAI,gBAAa,OAAS,EAAiB,QAAQ,eACtE,YAAS,WACT,iBACJ,EACI,IAAmB,EAAiB,cACpC,IACI,EACA,EAAW,EAAY,IACvB,EAAY,OACZ,EACA,CAAE,MAAO,EAAY,KAAM,CAC/B,EACA,GACI,EACA,EAAW,EAAY,IAAI,gBAAa,OACvC,EAAiB,WAA0B,YAAY,kBAAe,iBACvE,EACA,CACJ,EAER,CAhCS,yBAyCT,YACI,EACA,EACA,EACA,EACF,CAlvBF,MAmvBI,GAAM,GAAS,EAAY,OAAO,WAAc,KAAQ,KAAQ,MAAM,aAAa,EAAE,GACrF,EAAW,EAAY,IAAM,EAAiB,QAAQ,eAAe,YAAS,WAAY,EAAY,KAAM,CACxG,KAAM,CAAC,CACX,CAAC,EACG,EAAiB,aACjB,GACI,EACA,EAAW,EAAY,IACvB,EAAY,OACZ,EACA,CAAE,MAAO,EAAY,KAAM,CAC/B,EAEJ,GAAM,GAAe,EAAiB,WAA0B,YAC5D,iBAAiB,KAEf,EAAU,WAAa,MACvB,EAAY,MAAM,QAAQ,KAAM,IAAI,EAAE,QAAQ,SAAU,KAAK,EAC7D,oBAAa,KAAb,cAAiB,QAAQ,KAAM,MAAM,QAAQ,SAAU,OAC7D,AAAI,WAAa,YACb,GACI,EACA,EAAY,WACZ,EAAW,EAAY,IAAI,KAC3B,EACA,aACA,CACJ,EAEJ,GAAM,GAAc,EAAiB,WAA0B,YAAY,gBAAgB,KAC3F,AAAI,WAAY,YACZ,GAAW,EAAkB,EAAa,EAAW,WAAY,EAAY,CAAgB,EAE7F,OAAO,KAAK,EAAW,EAAY,IAAI,IAAO,EAAE,SAAW,GAC3D,MAAO,GAAW,EAAY,IAAI,KAElC,OAAO,KAAK,EAAW,EAAY,GAAG,EAAE,SAAW,GACnD,MAAO,GAAW,EAAY,GAEtC,CA7CS,wBAuDT,YACI,EACA,EACA,EACA,EACA,EACF,CA1yBF,MA2yBI,EAAW,EAAY,IAAM,EAAiB,QAAQ,eAAe,YAAS,WAAY,EAAY,KAAM,CACxG,YAAa,CAAC,CAClB,CAAC,EACG,EAAiB,aACjB,GACI,EACA,EAAW,EAAY,IACvB,EAAY,OACZ,EACA,CACJ,EAEJ,GAAI,GACE,EAAmB,EAAY,OAAO,WAC5C,AAAK,oBAAkB,cAAlB,QAA8C,WAC/C,EAAwB,EAAiB,YAA2B,WAEpE,EAAuB,EAG3B,GACI,EACA,EACA,EACA,EAAW,EAAY,IAAI,YAC3B,CACJ,EACI,OAAO,KAAK,EAAW,EAAY,IAAI,WAAc,EAAE,OAAS,GAChE,MAAO,GAAW,EAAY,IAAI,WAE1C,CArCS,uBA+CT,YACI,EACA,EACA,EACA,EACA,EACI,CAz1BR,MA01BI,GAAM,GAAwB,EAAiB,WAA0B,YACzE,OAAW,KAAa,GAAmB,CACvC,GAAM,GAAmB,EAAU,QAAQ,OAAQ,IAAI,EACjD,EAAqC,CACvC,GAAI,EACJ,KAAM,GAAe,EAAkB,EAAU,EACjD,OAAQ,EAAkB,GAC1B,MAAO,GAAgB,EAAkB,GAAY,EAAiB,UAAU,CACpF,EACA,GAAI,EAAY,OAAO,MAAW,EAAY,KAC1C,OAAQ,EAAY,UACX,+BACA,8BAA+B,CAChC,EAAY,OAAS,EAAqB,GAAG,EAAY,QAAQ,MACjE,GAAkB,EAAkB,EAAa,EAAkB,EAAY,CAAgB,EAE/F,GAA0B,EAAkB,EAAkB,EAAY,EAAiB,MAAM,EACjG,KACJ,KACK,+BACA,8BAA+B,CAEhC,EAAY,OAAS,EAAqB,GAAG,EAAY,QAAQ,MACjE,GAAiB,EAAkB,EAAa,EAAkB,EAAY,CAAgB,EAC9F,KACJ,KACK,8BACA,6BAA8B,CAC/B,EAAY,OAAS,EAAqB,GAAG,EAAY,QAAQ,MACjE,GAAgB,EAAkB,EAAa,EAAY,CAAgB,EAC3E,KACJ,KACK,0BACA,iCACA,oCACA,iCACA,oCACA,yBAA0B,CAE3B,EAAY,OAAS,EAAqB,GAAG,EAAY,QAAQ,MACjE,GAAe,EAAkB,EAAa,EAAkB,EAAY,CAAgB,EAC5F,KACJ,MAED,AAAI,KAAY,OAAO,aAAnB,QAAgC,aACvC,GAAY,OAAS,EAAqB,GAAG,EAAY,QAAQ,MACjE,GAAe,EAAkB,EAAa,EAAkB,EAAY,CAAgB,EAEpG,CACJ,CAxDS,6BAmET,YACI,EACA,EACqB,CACrB,GAAM,GAA0C,EAAiB,QAAQ,mBAAmB,YAAS,UAAU,EAEzG,EAAmB,EAAiB,OAAO,UAAU,SAE3D,GACI,EACA,EACA,EAAiB,WAAW,WAC5B,CACJ,EAGA,EAAiB,OAAS,EAAiB,QAAQ,eAC/C,YAAS,WACT,kBAAe,gBACnB,EACA,GAAM,GAAe,EAAiB,WAA0B,YAC1D,EAAmB,EAAY,kBAAe,kBAC9C,EAAY,kBAAe,kBAC3B,EAAY,oCAClB,GACI,EACA,EAAiB,OACjB,EACA,CACJ,EACA,GAAM,GAAe,EAAY,kBAAe,eAChD,AAAI,GACA,GACI,EACA,EAAa,WACb,EAAiB,OACjB,EACA,cACJ,EAEJ,EAAiB,OAAS,CAAC,EAC3B,GAAM,GAAe,EAAY,kBAAe,eAChD,AAAI,GACA,GACI,EACA,EAAa,WACb,EAAiB,OACjB,EACA,wBACJ,EAIJ,EAAiB,OAAS,EAAiB,QAAQ,eAAe,YAAS,WAAY,kBAAkB,EACzG,GACI,EACA,EAAiB,OACjB,EAAY,kBAAe,kBAC3B,CACJ,EACI,OAAO,KAAK,EAAiB,MAAM,EAAE,SAAW,GAChD,MAAO,GAAiB,OAI5B,EAAiB,SAAW,CAAC,EAC7B,GAAM,GAAW,EAAY,kBAAe,UAC5C,AAAI,GACA,GACI,EACA,EAAS,WACT,EACA,EAAiB,SACjB,CACJ,EAIJ,GAAM,GAAiB,GAA4B,EAAiB,SAAU,EAAiB,SAAS,EACxG,GAAI,OAAO,KAAK,CAAc,EAAE,OAAS,EAAG,CACxC,EAAiB,SAAS,OAAS,CAAC,EACpC,OAAW,KAAa,GAAgB,CACpC,GAAM,GACF,gBAAkB,GAAe,GAC3B,EAAiB,QAAQ,eAAe,YAAS,WAAY,iCAAiC,EAC9F,EAAiB,QAAQ,eAAe,YAAS,WAAY,6BAA6B,EAC9F,EACF,EACI,gBAAkB,GAAe,GAC3B,kCACA,+BAEd,GACI,EACA,EACA,EACA,EACA,CAAE,GAAI,CAAU,CACpB,EACA,EAAiB,SAAS,OAAO,KAAK,CAAa,CACvD,CACJ,CAEA,MAAO,EACX,CAxGS,mBAgHF,YACH,EACiC,CAGjC,GADA,GAAS,EACL,CAAC,EAAiB,SAAS,mBAAgB,SAAU,CACrD,GAAI,EAAiB,OAAQ,CACzB,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,MAAM,EACzB,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,OAAO,CACnC,CACJ,CAAC,EACD,MACJ,CACA,GAAM,GAAqB,CAAC,EACtB,EAAU,EAAiB,SAAS,mBAAgB,SAAS,MACnE,GAAI,CAAC,EAAS,CACV,GAAI,EAAiB,OAAQ,CACzB,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,UAAW,CAAE,MAAO,EAAiB,SAAS,WAAW,EAAM,CAAC,EACnF,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,OAAO,CACnC,CACJ,CAAC,EACD,MACJ,CACA,GAAM,GAAY,EAAiB,UAC7B,EAA4B,GAAiB,EAAS,EAAiB,UAAW,CAAQ,EAChG,GAAI,CAAC,EAAQ,CACT,GAAI,EAAiB,OAAQ,CACzB,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,cAAe,CAAE,WAAU,CAAC,EAC/C,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,OAAO,CACnC,CACJ,CAAC,EACD,MACJ,CACA,GAAM,GAAyB,GAAmB,EAAiB,KAAM,CAAS,EAE5E,EAAU,GAAI,IAGpB,MAAO,IAAW,EAAkB,CAAE,WAAU,YAAa,EAAwB,SAAQ,SAAQ,CAAC,CAC1G,CAhDgB,iCzC/+BhB,YAAoB,EAAiC,CACjD,MAAO,IAAe,GAAc,EAAK,UAAU,IAAI,EAAG,EAAK,SAAS,CAC5E,CAFS,mBAIT,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACF,CACE,EAAK,WAAa,CAAC,EAEnB,GAAM,GAAsC,GAAmB,EAAO,MAAO,EAAM,EAAU,EAAS,CAAS,EAC/G,OAAW,KAAU,GAAS,CAC1B,GAAM,GAAS,EAAQ,GACvB,EAAM,GAAU,CACpB,CACA,OAAW,KAAmB,GAAO,MAAO,CACxC,GAAM,GAAK,GAAW,EAAO,MAAM,EAAgB,EACnD,EAAK,WAAW,GAAM,EAAQ,GAAI,mBAC5B,GAAG,EAAK,aAAa,EAAQ,GAAI,qBACjC,EAAK,SACf,CACJ,CAtBS,qCAkCT,YACI,EACA,EACA,EACA,EACA,EACA,EAC0B,CAC1B,GAAM,GAAoC,CAAC,EAC3C,OAAW,KAAc,GAAS,CAC9B,GAAM,GAAS,EAAQ,GACjB,EAAK,GAAW,CAAM,EACtB,EAAgB,OAClB,SAAU,GAAc,EAAO,UAAU,IAAI,EAC7C,UAAW,EAAO,WACd,EAAO,oBAAsB,CAAE,mBAAoB,EAAO,kBAAmB,GAC7E,EAAO,mBAAqB,CAAE,kBAAmB,EAAO,iBAAkB,GAElF,EAAM,GAAM,EAGZ,GAAM,GACF,OAAO,KAAK,CAAO,EAAE,KAAK,AAAC,GAAY,EAAQ,SAAS,CAAE,CAAC,GAC3D,OAAO,KAAK,CAAO,EAAE,KAAK,AAAC,GAAY,EAAQ,SAAS,EAAG,MAAM,EAAG,EAAE,CAAC,CAAC,GACxE,OAAO,KAAK,CAAO,EAAE,KAAK,AAAC,GAAY,EAAQ,SAAS,EAAK,QAAQ,CAAC,EAG1E,GAAI,EACA,GAAI,EAAK,WAAa,YAAS,WAAY,CACvC,GAAM,GAAiD,CACnD,WACA,OACA,WAAY,EAAQ,GACpB,YACA,QACJ,EACA,EAAK,OAAS,GAAuB,CAAgB,CACzD,SAAW,EAAK,WAAa,YAAS,mBAAoB,CACtD,GAAM,GAA0C,CAC5C,WACA,OACA,WAAY,EAAQ,GACpB,YACA,QACJ,EACA,EAAK,OAAS,GAA+B,CAAgB,CACjE,KAAO,CACH,GAAM,GAAiD,CACnD,WACA,OACA,WAAY,EAAQ,GACpB,UAAW,EAAK,UAChB,YACA,QACJ,EACA,EAAK,OAAS,GAAyB,CAAgB,CAC3D,CAEJ,AAAI,EAAO,OACP,GAA6B,EAAM,EAAQ,EAAM,EAAU,EAAS,EAAW,CAAK,CAE5F,CACA,MAAO,EACX,CA/DS,2BAoEF,oBAA4B,GAAY,CACpC,YACH,EACA,EACA,EACA,EACA,EACF,CACE,GAAM,GAAU,EAAS,mBAAgB,SAAS,MAC5C,EAAU,OAAO,KAAK,CAAO,EAAE,GAE/B,EAAc,GAAI,IAClB,EAAa,GAAkB,cAAW,WAAW,EACrD,EAAY,EAAQ,EAAW,UACrC,GAAyB,EAAa,EAAU,EAAU,YAAe,YAAgB,MAAS,EAElG,MACI,EACA,EACA,GAAW,EAAQ,EAAQ,EAC3B,GAAmB,EAAS,EAAS,EAAU,EAAS,EAAW,CAAM,EACzE,wBAAqB,GACrB,CACJ,CACJ,CACJ,EAzBO,sBAiCA,YAAkB,EAA6B,EAAiC,CACnF,GAAM,GAAkB,CAAC,EACzB,OAAW,KAAc,GAAS,CAC9B,GAAM,GAAS,EAAQ,GACvB,GAAI,EAAO,UAAU,OAAS,EAAe,CACzC,GAAM,GAAK,GAAW,CAAM,EAC5B,EAAM,GAAM,CAChB,CACA,GAAI,IAAkB,MAAG,4BAA8B,EAAO,MAAO,CACjE,GAAM,GAAW,GAAS,EAAO,MAAO,CAAa,EACrD,OAAW,KAAa,GACpB,EAAM,GAAa,EAAS,EAEpC,CACJ,CACA,MAAO,EACX,CAhBgB,iB0CjKhB,OAA4E,SCA5E,OAA8C,SCA9C,OAAkB,SA8BlB,OAOO,SAOP,YAAoB,EAAa,EAAmB,CAChD,AAAK,EAAI,OACL,GAAI,MAAQ,CAAC,GAEX,IAAO,GAAI,OACb,GAAI,MAAM,GAAO,CAAC,EAE1B,CAPS,mBAeT,YAAyB,EAAsB,EAA6B,CACxE,GAAI,EAAW,SAAS,CAAW,EAAG,CAClC,GAAM,GAAU,EAAY,MAAM,GAAG,EACrC,MAAI,GAAQ,SAAW,EACnB,EAAQ,KAAK,GAAG,EAEhB,EAAQ,GAAM,UAAS,EAAQ,EAAE,EAAI,GAAG,SAAS,EAE9C,GAAgB,EAAY,EAAQ,KAAK,GAAG,CAAC,CACxD,CACA,MAAO,EACX,CAXS,wBAsBF,YACH,EACA,EACA,EACA,EACA,EACA,EACI,CACJ,AAAI,GACA,CAAI,EAAiB,WAEjB,GACI,EACA,EACA,EACA,EAAiB,WACjB,EACA,CACJ,EACO,EAAiB,sBAExB,GACI,EACA,EACA,EACA,EAAiB,qBACjB,EACA,CACJ,EAGZ,CA/BgB,mCAuCT,YACH,EACA,EACA,EACA,EACM,CACN,MAAO,GAAQ,eAAe,YAAS,aAAc,EAAiB,EAAe,CAAa,CACtG,CAPgB,mCAmBhB,YAAsC,EAAyC,CAC3E,EAAO,cAAc,IAAI,EACzB,GAAI,GAAkB,EAAO,cAC7B,OAAW,KAAY,GAAO,aAAa,MACvC,GAAI,EAAO,aAAa,MAAS,GAAU,KAAM,CAC7C,GAAM,GAAkB,EAAO,aAAa,MAAS,GAAU,KAAK,MAAM,EAAsB,EAC1F,EAAuB,EAAO,UAAU,YAAe,EAAgB,EAAgB,OAAS,IAChG,EAAmB,EAAO,cAAc,GAC9C,EAAO,cAAgB,EAAO,aAAa,GAC3C,EAAkB,GACd,EAAO,QACP,EACA,EAAO,cACP,YACJ,EACA,GACI,EACA,EAAO,cACP,EAAO,UACP,EACA,EAAO,QACP,CAAC,GAAG,EAAO,aAAa,CAC5B,CACJ,KAAO,AAAI,OAAO,GAAO,aAAa,MAAS,IAAc,UAEzD,GACI,EAAO,aACP,EAAO,cACP,EAAO,UACP,EAAO,aAAa,MAAS,GAAU,WACvC,EAAO,QACP,CAAC,GAAG,EAAO,cAAe,aAAa,CAC3C,EAGR,MAAO,EACX,CApCS,qCAsCT,YACI,EACA,EACA,EACA,EACA,EACA,EACF,CACE,AAAI,GAAiB,MAAO,IAAkB,WAC1C,EAAc,EAAiB,EAAc,CAAG,EAC7C,AAAI,MAAO,IAAkB,UAAY,CAAC,EAAc,SAAS,CAAG,EAEvE,EAAgB,GAAO,eAAM,EAAgB,IAAQ,CAAC,EAAG,GAAiB,CAAC,EAAG,CAC1E,WAAY,EAChB,CAAC,EAED,EAAgB,GAAO,CAE/B,CAlBS,+BA6BT,YACI,EACA,EACA,EACA,EACA,EACA,EACF,CACE,GAAM,GAAgB,CAAC,eAAgB,MAAM,EACvC,EAAO,EAAS,SAAS,KAAK,CAAC,GAAG,EAAe,CAAG,CAAC,EACrD,EAAkB,GAA8B,EAAc,SAAU,CAAI,EAClF,GAAI,IAAO,OAAG,kBAAoB,IAAQ,WACtC,EAAgB,SAAc,eAAM,EAAgB,UAAe,CAAC,EAAG,GAAiB,CAAC,EAAG,CACxF,WAAY,EAChB,CAAC,UACM,IAAkB,OAAW,CACpC,GAAM,GAAgB,EAAS,SAAS,OACxC,AAAI,IAAkB,IAClB,GAAuB,EAAe,EAAiB,EAAc,EAAK,EAAe,CAAa,CAE9G,KAAO,AAAI,GAAgB,KAAS,QAChC,MAAO,GAAgB,EAE/B,CAvBS,2BAyBT,YACI,EACA,EACA,EACA,EACF,CACE,OAAO,KAAK,CAAa,EAAE,QAAQ,AAAC,GAAY,CAC5C,GAAM,GAAW,EAAc,GAAS,SAEpC,EACJ,AAAK,OAAO,OAAO,MAAG,gBAAgB,EAAE,SAAS,CAAQ,EAGrD,EAAmB,OAAO,KAAK,EAAU,WAAW,EAAE,OAClD,AAAC,GAAY,CAtP7B,UAwPyB,kBAAU,YAAY,GAA2B,aAAjD,cAA6D,WAA7D,cACF,OADE,cACI,QAAQ,EAAc,GAAS,WAAY,GAC5D,EAPA,EAAmB,CAAC,YAAY,EAUpC,EAAc,GAAW,GACrB,EACA,EAAiB,GACjB,EAAc,GACd,YACJ,EACA,GAAW,EAAS,EAAc,SAAY,mBAAgB,IAAI,EAClE,GACI,EAAc,GACd,EACA,EACA,EAAU,YAAY,EAAiB,IACvC,EACA,CAAC,CAAO,CACZ,CACJ,CAAC,EAED,OAAO,KAAK,EAAc,SAAS,mBAAgB,KAAK,KAAK,EAAE,QAAQ,AAAC,GAAiB,CACrF,AAAK,EAAc,IACf,MAAO,GAAc,SAAS,mBAAgB,KAAK,MAAM,EAEjE,CAAC,CACL,CA3CS,sBA6CT,YAAwB,EAAiC,EAAa,EAA0C,CAC5G,GAAI,IAAQ,QAER,GAAc,EAAO,cAAe,EAAO,UAAW,EAAS,EAAO,aAAa,UAC5E,EAAO,aAAa,GAAK,KAAM,CACtC,GAAM,GAAkB,EAAO,aAAa,GAAK,KAAK,MAAM,EAAsB,EAC5E,EAAuB,EAAO,UAAU,YAAY,EAAgB,EAAgB,OAAS,IACnG,EAAO,cAAgB,GACnB,EAAO,QACP,EACA,EAAO,cACP,IAAQ,WAAa,aAAe,EACxC,EACA,GACI,EAAO,cACP,EAAO,cACP,EAAO,UACP,EACA,EACA,CAAC,GAAG,EAAO,cAAe,CAAG,CACjC,CACJ,KAAO,AAAI,GAAO,aAAa,GAAK,MAEhC,GACI,EAAO,aACP,EAAO,cACP,EAAO,UACP,EAAO,aAAa,GACpB,EACA,CAAC,GAAG,EAAO,cAAe,EAAK,OAAO,CAC1C,EACO,EAAO,aAAa,GAAK,aAAkB,QAElD,GACI,EAAO,aACP,EAAO,cACP,EAAO,UACP,EAAO,aAAa,GAAK,WACzB,EAAO,QACP,CAAC,GAAG,EAAO,cAAe,EAAK,kBAAkB,CACrD,CAER,CA1CS,uBAqDT,YACI,EACA,EACA,EACA,EACA,EACA,EACI,CACJ,GAAI,GAAgB,GAChB,EAAmB,GAEvB,OAAW,KAAO,GAAc,CAC5B,GAAI,GAAgB,EAAa,GAC7B,EAAW,GAAmB,EAAc,CAAG,EAEnD,AAAI,EAAc,EAAc,OAAS,KAAO,eAC5C,GAAgB,GAChB,EAAc,IAAI,GAElB,GACA,GAAgB,EAAa,EAAc,EAAc,OAAS,IAAI,GACtE,EAAW,GAAmB,EAAc,EAAc,EAAc,OAAS,EAAE,GAGnF,EAAc,EAAc,OAAS,KAAO,oBAC5C,GAAmB,GACnB,EAAc,IAAI,GAElB,GACA,GAAgB,EAAa,EAAc,EAAc,OAAS,IAAI,GACtE,EAAW,GAAmB,EAAc,EAAc,EAAc,OAAS,EAAE,GAGvF,GAAM,GAAmD,CACrD,gBACA,eACA,YACA,gBACA,eACA,UACA,eACJ,EACA,AAAI,EAAc,EAAc,OAAS,KAAO,SAC5C,GAAgB,GAA6B,CAAuB,GAEpE,WAAU,UACV,GAAmB,EAAU,EAAe,EAAK,EAAe,EAAe,CAAY,EAE3F,GAAiB,MAAO,IAAkB,UAAY,EAAa,IACnE,GAAe,EAAyB,EAAK,CAAO,CAE5D,CACJ,CApDS,0BAgET,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACI,CACJ,GAAI,GAEJ,AAAI,EAAY,SAAW,EAEvB,EAAmB,CAAC,MAAM,EAE1B,EAAmB,EAEvB,GAAM,GAAY,EAAS,KAAK,UAC5B,EAAmB,OACnB,EACA,EACA,EAAS,KAAK,YACd,CACJ,EACM,EAAa,GAAsB,EAAc,EAAU,EAAmB,WAAY,EAAK,CAAS,EACxG,EAAgB,KAAK,MAAM,KAAK,UAAU,EAAmB,cAAc,QAAQ,CAAC,EAC1F,EAAc,WAAW,GAAK,EAAmB,MACjD,GAAM,GAAqB,EAAS,KAAK,iBAAiB,EAAY,CAAa,EAkBnF,AAAK,AAjBoB,EAAmB,cAAc,YAAY,KAAK,AAAC,GAAW,CACnF,GAAI,GAAS,GACT,EAAoB,KAAK,MAAM,CAAM,EACzC,EAAY,CACR,QAAS,EAAU,QACnB,SAAU,EAAU,QACxB,EACA,GAAI,GAAoB,KAAK,MAAM,CAAkB,EACrD,SAAY,CACR,QAAS,EAAU,QACnB,SAAU,EAAU,QACxB,EACI,KAAK,UAAU,CAAS,IAAM,KAAK,UAAU,CAAS,GACtD,GAAS,IAEN,CACX,CAAC,GAEG,EAAmB,cAAc,YAAY,KAAK,CAAkB,CAE5E,CAhDS,yBA2DT,YACI,EACA,EACA,EACA,EACA,EACA,EACF,CACE,GAGQ,EAAmB,mBAAmB,OAAY,SAClD,EAAmB,gBACnB,EAAmB,eAAe,iBAAoB,OAAS,UAC/D,EAAmB,eAAe,iBAAoB,WASvD,AACH,EAAmB,mBAAmB,OAAY,SAClD,EAAgB,KAAiB,QAEjC,GAAgB,GAAe,CAAC,OAXlC,CACE,GAAM,GAAgB,EAAS,SAAS,OACxC,AAAI,GAAiB,MAAO,IAAkB,WAC1C,EAAc,EAAiB,EAAc,EAAK,CAAW,EACtD,IAAkB,IACzB,GAAgB,GAAe,EAAa,GAEpD,CAMJ,CA7BS,0BAwCT,YACI,EACA,EACA,EACA,EACA,EACF,CACE,GAAM,GAAkB,GAA8B,EAAmB,cAAc,SAAU,CAAI,EAC/F,EAAc,EAAS,SAAS,KAAO,EAC7C,GAAI,EAAa,KAAS,OACtB,GAAkB,EAAoB,EAAU,EAAiB,EAAc,EAAK,CAAW,MAC5F,CAEH,GAAM,GAAgB,EAAS,SAAS,OACxC,AAAI,GAAiB,MAAO,IAAkB,WAC1C,EAAc,EAAiB,EAAc,EAAK,CAAW,EACtD,OAAO,UAAU,eAAe,KAAK,EAAiB,CAAW,GACxE,MAAO,GAAgB,EAE/B,CACA,GAAqB,EAAmB,cAAc,SAAU,CAAI,CACxE,CArBS,6BAuBT,YACI,EACA,EACA,EACA,EACA,EACF,CACE,MAAI,GAAY,KAAO,SACnB,EAAO,EAAS,SAAS,KAAK,EAAmB,SAAU,CAAC,EAAG,EAAY,EAAE,EAE7E,GAAO,EAAS,SAAS,KACrB,EAAmB,SACnB,CAAC,EACD,WAAO,WAAW,qBAAoB,EAAM,MAAM,mBAAgB,EAAE,GAAK,EAAY,GACrF,EAAY,EAAY,OAAS,EACrC,EACA,EAAO,EAAK,QAAQ,KAAM,IAAI,EAAE,QAAQ,iBAAkB,wBAAwB,GAE/E,CACX,CAnBS,kCAqBT,YACI,EACA,EACA,EACA,EACA,EACF,CACE,MAAI,GAAY,KAAO,WAAa,EAAY,KAAO,SACnD,EAAO,EAAS,SAAS,KACrB,EAAmB,SACnB,EAAmB,cAAc,SACjC,EAAa,MACjB,EAEA,EAAO,EAAS,SAAS,KAAK,EAAmB,SAAU,CAAC,EAAG,EAAY,EAAY,OAAS,EAAE,EAE/F,CACX,CAjBS,+BA4BT,YACI,EACA,EACA,EACA,EACA,EACM,CACN,GAAI,GACJ,MAAI,GAAY,KAAO,gBAAa,SAChC,EAAO,GAA0B,EAAa,EAAM,EAAU,EAAoB,CAAK,EACpF,AAAI,EAAY,KAAO,gBAAa,MACvC,EAAO,GAAuB,EAAa,EAAM,EAAU,EAAoB,CAAY,EACxF,AAAI,EAAY,KAAO,2BAC1B,EAAO,EAAS,SAAS,KAAK,EAAmB,SAAU,EAAmB,cAAc,SAAU,CAAK,EACxG,AAAI,EAAY,KAAO,aAAe,EAAY,KAAO,kBAC5D,EAAO,EAAS,SAAS,KACrB,EAAmB,SACnB,EAAmB,cAAc,SACjC,EAAY,MAAM,CAAC,EAAE,KAAK,GAAG,CACjC,EAEA,EAAO,EAAS,SAAS,KAAK,EAAmB,QAAQ,EAEtD,CACX,CAxBS,wBAoCT,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACI,CACJ,GAAI,CAAC,EACD,OAGJ,GAAI,GAAQ,EAAY,QAAQ,aAAa,EAC7C,KAAO,EAAQ,IACX,EAAY,OAAO,EAAQ,EAAG,CAAC,EAC/B,EAAQ,EAAY,QAAQ,aAAa,EAG7C,GAAI,EAAS,KACT,GAAiB,EAAoB,EAAa,EAAU,EAAK,EAAO,EAAc,CAAG,UAClF,EAAS,SAAU,CAC1B,GAAM,GAAO,GAAgB,EAAoB,EAAa,EAAU,EAAc,CAAK,EAC3F,GAAqB,EAAoB,EAAM,EAAU,EAAK,CAAY,CAC9E,CACJ,CAzBS,2BAwCT,YAA8B,EAAa,EAA4B,EAAyB,CAjoBhG,MAkoBI,GAAM,GAAW,EAAI,MAAM,GAAG,EACxB,EAAe,EAAS,GACxB,EAAS,EAAS,GACxB,GAAI,IAAiB,EAAa,UAAW,CAEzC,GAAM,GAAwB,KAAa,SAAb,cAAqB,OAC/C,AAAC,GACI,GAAO,SAAW,GACd,IAAW,QAAa,EAAO,SAAW,IAC1C,GAAU,EAAa,aAAe,IAC3C,EAAO,gBAAkB,EAAa,eAE9C,GAAI,EAAC,GAAyB,EAAsB,SAAW,IAC3D,IAAyB,EAAiB,EAAK,EAAa,MAAO,EAAa,cAAc,SAAS,EAEvG,MAAO,GAAgB,GAEnB,EAAI,WAAW,oBAAiB,+BAA+B,GAAG,CAClE,GAAM,GAAe,EAAI,QACrB,oBAAiB,gCACjB,oBAAiB,6BACrB,EACA,GACI,EACA,EACA,EAAa,MACb,EAAa,cAAc,SAC/B,EAEA,MAAO,GAAgB,EAC3B,CAER,CACJ,CAlCS,6BA+CT,YAA2C,EAA4B,CACnE,GAAM,GAAa,EAAa,KAAK,UAAU,EAAG,EAAa,KAAK,YAAY,GAAG,CAAC,EAC9E,EAAkB,GAA2B,EAAa,cAAc,SAAU,CAAU,EAC5F,EAAmB,EAAa,KAAK,UAAU,EAAa,KAAK,YAAY,GAAG,EAAI,CAAC,EAC3F,OAAW,KAAO,GACd,AAAI,EAAI,WAAW,CAAgB,GAC/B,GAAqB,EAAK,EAAc,CAAe,CAGnE,CATS,0CAoBT,YACI,EACA,EACA,EACA,EACA,EACM,CACN,GAAM,GAAU,CAAC,EACjB,OAAW,KAAgB,GAAuB,CAW9C,GARI,CAAC,EAAa,WACd,CAAC,EAAa,cACd,CAAC,EAAa,WACd,CAAC,EAAa,eAKd,EAAiB,WAAc,aAAgB,SAE3C,AADgB,GAAI,QAAO,EAAiB,WAAc,aAAgB,OAAU,EACxE,KAAK,EAAa,YAAe,IAAM,GACnD,SAGR,GAAM,CAAE,OAAM,oBAAqB,GAC/B,EACA,EACA,EAAa,QAAU,EACvB,EAAa,aACjB,EAEA,AAAK,EAAQ,IACT,GAAQ,GAAQ,CACZ,iBAAkB,EAClB,QAAS,CAAC,CACd,GAEJ,EAAQ,GAAM,QAAQ,KAAK,CAAY,CAC3C,CACA,MAAO,EACX,CAzCS,mCAkDT,YACI,EACA,EACA,EACA,EACI,CACJ,GAAM,GAAa,EAAwB,EAAsB,IAAM,OAEjE,EAAY,AADI,GAAwB,EAAsB,OAAS,SAC1C,EAAmB,OAAO,UAC7D,OAAW,KAAiB,OAAG,2BAA4B,CACvD,GAAM,CAAE,QAAS,GAAoB,EAAmB,OAAQ,EAAW,EAAY,CAAa,EACpG,GAAI,CAAC,EACD,SAEJ,GAAM,GAAc,CAChB,OACA,cAAe,EAAmB,cAClC,YACA,OAAQ,EACR,aACA,gBACA,MAAO,EAAmB,KAC9B,EACA,GAAkC,CAAW,CACjD,CACA,GAAI,EAAuB,CAEvB,GAAM,GAAU,GACZ,EACA,EACA,EAAmB,OACnB,EACA,CACJ,EAEA,OAAW,KAAQ,GACf,GACI,EAAmB,cACnB,EACA,EAAQ,GAAM,QACd,EAAmB,MACnB,EAAQ,GAAM,iBACd,EAAmB,MACvB,CAER,CACJ,CA9CS,iCAyDT,YACI,EACA,EACA,EACA,EACA,EACA,EACI,CACJ,GAAM,GAAuB,CAAC,EACxB,EAAS,EAAQ,MAAM,GAAG,EAAE,GAClC,GAAI,CAAC,EACD,OAEJ,OAAW,KAAW,GAAgB,CAClC,GAAM,GAAK,GAAgB,EAAY,CAAC,EAAQ,iBAAkB,EAAQ,EAAQ,YAAY,EAAE,KAAK,GAAG,CAAC,EACzG,EAAW,KAAK,CAAE,CACtB,CACA,OAAS,GAAQ,EAAG,EAAQ,EAAW,OAAQ,IAAS,CAIpD,GAAM,GAAkB,AAHL,EAAiB,MAAS,KAAK,AAAC,GAC/C,EAAQ,KAAK,SAAS,EAAe,GAAO,YAAY,IAAI,CAChE,EACmC,KAAK,MAAM,EAAsB,EAC9D,EACF,EAAmB,UAAU,YAAe,EAAgB,EAAgB,OAAS,IAEzF,GACI,EACA,EAAe,GACf,EACA,CAAC,GAAG,EAAa,EAAW,EAAM,EAClC,CACJ,CACJ,CAEA,GAAM,GAAmB,GACrB,EAAmB,cAAc,SACjC,GAAsB,CAC1B,EACA,OAAW,KAAO,GACd,AAAI,GAA0B,EAAK,CAAM,GAAK,CAAC,EAAW,SAAS,CAAG,GAClE,MAAO,GAAiB,EAGpC,CA3CS,mCAmDT,YAAsB,EAAuB,EAAmC,CAC5E,GAAI,GACJ,OAAS,GAAI,EAAY,OAAS,EAAG,GAAK,EAAG,IACzC,GAAI,EAAY,KAAO,gBAAa,MAAO,CACvC,EAAY,EAAY,EAAI,GAC5B,KACJ,CAEJ,MAAO,IAAiB,EAAW,CAAK,CAC5C,CATS,qBAcT,YACI,EACA,EACA,EACA,EACA,EACA,EACF,CACE,GAAM,GAAqB,EAAmB,mBAC9C,AAAI,CAAC,GAAuB,CAAC,YAAoB,uBAGjD,OAAO,KAAK,CAAmB,EAAE,QAAQ,AAAC,GAAW,CACjD,GAAM,GAAiB,GACnB,EAAmB,UACnB,EACA,EAAoB,GACpB,EAAmB,qBACnB,EACA,EAAmB,QACnB,EAAmB,QACvB,EAEA,GACI,EACA,EAAe,aACf,EACA,CAAC,GAAG,EAAa,CAAG,EACpB,EAAe,iBACf,CACJ,CACJ,CAAC,CACL,CAhCS,2BAqCT,YACI,EACA,EACA,EACA,EACA,EACA,EACF,CACE,GAAI,GACE,EAAS,GAA6B,EAAmB,IAAI,EACnE,AAAI,GACA,GAAwB,CACpB,SACA,IAAK,GAAa,EAAa,CAAK,CACxC,GAEJ,GACI,EACA,iBAAc,OACd,EAAe,iBACf,CACJ,CACJ,CAtBS,8BA2BT,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACF,CACE,EAAmB,MAAS,QAAQ,AAAC,GAAY,CAC7C,GAAM,GAAiB,GACnB,EAAmB,UACnB,EACA,EACA,EACA,EACA,EAAmB,QACnB,EAAmB,QACvB,EACA,AAAI,GAEA,GACI,EACA,EAAe,aACf,EACA,CAAC,GAAG,EAAa,CAAG,EACpB,EAAe,iBACf,EAAe,KACnB,CAER,CAAC,CACL,CA/BS,+BAoCT,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACI,CACJ,GAAM,GAAqB,EAAmB,mBAC9C,GACI,kBAAoB,QAAS,SAC5B,GAAY,KAAO,YAAc,EAAY,KAAO,gBACrD,IAAgB,SAEhB,GACI,EACA,EAAa,GACb,EAAmB,SAAS,EAAmB,SAAS,OAAS,GACjE,EACA,CAAC,GAAG,EAAa,CAAW,EAC5B,iBAAoB,KACxB,UACO,GAAkB,IAAgB,SAAU,CACnD,GAAsB,EAAoB,EAAa,EAAO,EAAoB,EAAc,CAAc,EAC9G,MACJ,KAAO,AAAI,GAEP,GACI,EACA,EAAe,aACf,EACA,CAAC,GAAG,EAAa,CAAW,EAC5B,EAAe,iBACf,EAAe,KACnB,EACO,EAAmB,OAC1B,GACI,EACA,EACA,EACA,iBAAe,GACf,EACA,EACA,CACJ,CAER,CA/CS,gCA0DF,YACH,EACA,EACA,EACA,EACA,EACA,EACI,CACJ,GAAI,GAEJ,GAAI,EAAC,YAAkB,YAGvB,OAAW,KAAe,GAAiB,WAAY,CACnD,EAAsB,iBAAe,GACrC,GAAM,GAAU,GAAgB,GAAW,EAAc,CAAW,EAC9D,EAAM,EAAU,CAAC,GAAG,EAAW,CAAO,EAAI,EAC1C,EAAW,GAAmB,EAAc,CAAW,EACvD,EAAsB,EAAmB,mBAAqB,EAAiB,WACjF,GAEE,EAAkB,EAAmB,eAAiB,GACxD,EAAmB,UACnB,EACA,EACA,EACA,EACA,EAAmB,QACnB,EAAmB,QACvB,EAMA,GAJA,GAAmB,EAAoB,EAAU,EAAc,CAAC,GAAG,CAAW,EAAG,EAAK,EAAO,CAAW,EAExG,GAAmB,EAAqB,EAAoB,EAAO,EAAa,EAAK,CAAW,EAE5F,IAAwB,QAAa,MAAO,IAAwB,SACpE,GACI,EACA,EACA,EACA,EACA,EACA,EACA,CACJ,UACO,kBAAoB,QAAS,GAAyB,qBAAsB,CAEnF,GACI,EACA,CAAC,EACD,EAAmB,UAAU,YAAe,iBAChD,EACA,QACJ,CACJ,CACJ,CAvDgB,6CD7/BhB,YACI,EACA,EACA,EACA,EACI,CACJ,GAAI,IAAgB,WAChB,OAAQ,EAAgB,cACf,kCACD,EAAW,EAAc,IAAI,MAAG,iBAAiB,wBAA0B,EAAgB,GAC3F,UACC,qCACD,EAAW,EAAc,IAAI,MAAG,iBAAiB,0BAC7C,EAAgB,GACpB,UACC,yBACA,wBACD,EAAW,EAAc,IAAI,MAAG,iBAAiB,kBAAoB,EAAgB,GACrF,UACC,sBACD,EAAW,EAAc,IAAI,MAAG,iBAAiB,mBAAqB,EAAgB,GACtF,UACC,6BACA,4BACD,EAAW,EAAc,IAAI,MAAG,iBAAiB,sBAAwB,EAAgB,GACzF,UACC,0BACA,yBACD,EAAW,EAAc,IAAI,MAAG,iBAAiB,mBAAqB,EAAgB,GACtF,cAEA,EAAW,EAAc,IAAI,SAAW,EAAgB,GACxD,UAGR,GAAW,EAAc,IAAI,GAAe,EAAgB,EAEpE,CArCS,6BA8CT,YACI,EACA,EACA,EACA,EACI,CACJ,OAAW,KAAe,GAAW,CACjC,GAAM,GAAW,GAAmB,EAAY,CAAW,EAC3D,GAAI,WAAU,SAAU,CACpB,GAAM,GAAO,EAAS,SAAS,KAAK,CAAC,GAAG,EAAe,CAAW,CAAC,EAC7D,EAAkB,GAA8B,EAAU,CAAI,EACpE,AAAI,OAAO,UAAU,eAAe,KAAK,EAAiB,CAAW,GACjE,CAAI,EAAc,SAAW,EACzB,GAAqB,EAAa,EAAiB,EAAY,CAAa,EAE5E,GAAe,EAAU,EAAiB,EAAa,CAAU,EAG7E,CACJ,CACJ,CApBS,iCA6BT,YACI,EACA,EACA,EACA,EACI,CACJ,GAAyB,EAAY,EAAU,EAAU,WAAe,CAAC,CAAC,EAE1E,EAAW,MAAQ,CAAC,EAEpB,OAAO,KAAK,EAAS,mBAAgB,KAAK,KAAQ,EAAE,QAAQ,AAAC,GAAW,CACpE,GAAM,GAAe,EAAS,mBAAgB,KAAK,MAAS,GAAQ,SAC9D,EAAW,MAAG,oBAAoB,GAGxC,EAAW,MAAM,GAAU,GAA2B,EAAS,EAAU,CAAC,EAAG,YAAY,EAEzF,EAAW,MAAQ,GAA2B,EAAS,EAAU,EAAW,MAAO,YAAY,EAK/F,GAAyB,EAAW,MAAO,EAAU,EAAS,mBAAgB,KAAK,MAAS,GAAS,CAAC,CAAM,CAAC,CACjH,CAAC,CACL,CAxBS,oBAiCF,YAAkC,EAA0D,CAC/F,GAAM,GAAU,GAAI,IAEd,EAAS,EAAQ,mBAAmB,YAAS,YAAY,EAE/D,MAAI,GAAiB,YACjB,GAAY,EAAQ,EAAiB,SAAU,EAAiB,WAAY,CAAO,EAEhF,CACX,CATgB,iCDpHT,oBAA4B,GAAY,CACpC,YAAY,EAAoB,EAAgB,EAA0B,CAC7E,GAAM,GAAkB,CAAC,EACnB,EAAS,EAAS,mBAAgB,KAClC,EAAc,GAAI,IAClB,EAAa,GAAkB,cAAW,WAAW,EAC3D,GACI,EACA,EACA,EAAQ,EAAW,UAAU,YAAe,YAC5C,MACJ,EACA,GAAM,GAAqB,OAAO,KAAK,CAAO,EAAE,KAAK,AAAC,GAAY,EAAQ,SAAS,YAAS,YAAY,CAAC,EACnG,EAA6C,CAC/C,WACA,WAAY,EAAQ,EACxB,EACM,EAAgB,CAClB,SAAU,YAAS,aACnB,OAAQ,GAAyB,CAAU,EAC3C,UAAW,EAAO,qBACtB,EACM,EAAK,GAAe,EAAK,SAAU,EAAK,SAAS,EACvD,EAAM,GAAM,EACZ,MAAM,EAAU,EAAS,EAAI,EAAO,wBAAqB,GAAI,EAAa,CAAM,CACpF,CACJ,EA1BO,sBGDP,OAAqD,sDAcrD,OAUO,SAaP,YAA+B,EAAiC,CAC5D,EAAa,MAAO,IAAe,SAAW,EAAa,CAAC,EAC5D,YAAuF,CACnF,MAAO,CAAC,CAAC,EAAO,GAAS,CAAC,EAAO,KAAY,EAAO,aAAU,eAAiB,EAAO,aAAU,cACpG,CAFS,kCAIF,AADgB,CAAC,GAAG,OAAO,QAAQ,EAAW,UAAU,CAAC,EAC1C,KAAK,EAAoB,CAAC,CACpD,CAPS,8BAcT,YAA0B,EAAoC,CAC1D,MAAO,UAAY,GAAY,EAAU,OAAS,EAAU,IAChE,CAFS,yBAYT,YACI,EACA,EACA,EACA,EACA,EACI,CA7ER,MA+EI,AAAI,AADc,OAAU,WAAV,cAAoB,YAAa,MAAG,UAAU,SAC9C,MAAG,UAAU,OAC3B,EAAsB,OAAO,EAAa,EAAG,CAAC,EAAO,CAAqB,CAAC,EAE3E,EAAsB,OAAO,EAAc,EAAG,EAAG,CAAC,EAAO,CAAqB,CAAC,CAEvF,CAbS,kCAuBT,YACI,EACA,EACA,EACA,EACA,EACF,CAOE,AAAI,AANyB,OAAO,QAAQ,CAAmB,EAC1D,OAAO,CAAC,CAAC,KAAS,IAAQ,CAAK,EAC/B,UACG,CAAC,CAAC,EAAM,KAAQ,CAxG5B,UAyGgB,YAAM,WAAN,cAAgB,aAAc,UAAY,MAAM,WAAN,cAAgB,UAAW,MAAU,WAAV,cAAoB,QACjG,IACyB,IACzB,GAAe,OAAO,EAAe,OAAQ,EAAG,CAAC,EAAO,CAAY,CAAC,EACrE,MAAO,GAAoB,GAEnC,CAjBS,mCA2BT,YACI,EACA,EACA,EACA,EACA,EAAW,GACP,CA/HR,QAgII,GAAM,GAAmB,OAAO,QAAQ,CAAmB,EAAE,OACvD,EAAsB,GAAC,EAA4B,IAAkB,CACvE,GAAM,GAAc,GAAiB,CAAS,EAC9C,MAAO,CACH,KAAM,GAAG,KAAyB,IAClC,cACA,KAAM,CAAC,CAAE,KAAM,iBAAc,IAAK,MAAO,GAAG,GAAQ,CAAC,CACzD,CACJ,EAP4B,uBAQ5B,OAAW,KAAS,GAAqB,CACrC,GAAM,GAAY,EAAoB,GAEhC,EAAe,EAAoB,EAAW,CAAK,EACzD,GAAI,MAAU,WAAV,cAAoB,SAAU,MAAU,WAAV,cAAoB,WAAW,CAC7D,GAAM,GAAc,EAAe,UAAU,AAAC,GAAY,EAAQ,KAAO,EAAU,SAAS,MAAM,EAClG,AAAI,EAAc,GACd,IAA0B,EAAW,EAAgB,EAAa,EAAO,CAAY,EACrF,MAAO,GAAoB,IACxB,AACH,IAAU,EAAU,SAAS,QAC7B,OAAO,KAAK,CAAmB,EAAE,QAAQ,EAAU,SAAS,MAAM,IAAM,GAExE,IAAI,EAAQ,CACR,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,gBAAiB,CAAE,GAAI,EAAO,OAAQ,EAAU,SAAS,MAAO,CAAC,EACpF,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,OAAO,CACnC,CACJ,CAAC,EACD,EAAe,OAAO,EAAe,OAAQ,EAAG,CAAC,EAAO,CAAY,CAAC,EACrE,MAAO,GAAoB,IACpB,GACP,GAA2B,EAAqB,EAAO,EAAW,EAAgB,CAAY,CAEtG,CACJ,CACA,GAAM,GAAe,OAAO,QAAQ,CAAmB,EAAE,OACzD,AAAI,EAAe,GAAK,IAAqB,EACzC,GAAoC,EAAqB,EAAyB,EAAgB,CAAM,EACjG,EAAe,GACtB,GAAoC,EAAqB,EAAyB,EAAgB,EAAQ,EAAI,CAEtH,CAlDS,4CA2DT,YAA4B,EAA4B,EAAoD,CApL5G,QAsLI,GAAM,GAAY,MAAU,WAAV,cAAoB,YAAa,MAAG,UAAU,MAC5D,EAAS,KAAU,WAAV,cAAoB,OACjC,GAAI,CAAC,EAAQ,CAGT,GAAM,GAAQ,IAAc,MAAG,UAAU,OAAS,EAAI,EAAsB,OAAS,EACrF,EAAS,EAAsB,GAAS,EAAsB,GAAO,GAAK,MAC9E,CACA,MAAO,EACX,CAXS,2BAoBT,YACI,EACA,EACA,EACA,EAAuB,WACvB,EACmB,CACnB,GAAM,GAAoB,CAAC,GAAG,CAAqB,EAC7C,EAAkB,MAAK,GAC7B,OAAW,KAAe,GAAiB,CACvC,GAAM,GAAY,EAAgB,GAClC,GAAI,CAAE,KAAwB,IAAY,CAEtC,MAAO,GAAgB,GACvB,QACJ,CACA,GAAM,GAAwB,CAC1B,KAAM,GAAG,KAAyB,IAClC,YAAa,GAAiB,CAAS,GAAK,EAC5C,KAAM,CAAC,CAAE,KAAM,iBAAc,IAAK,MAAO,GAAG,GAAc,CAAC,CAC/D,EACM,EAAS,GAAmB,EAAW,CAAiB,EAC9D,GAAI,EAAQ,CACR,GAAM,GAAc,EAAsB,UAAU,AAAC,GAAY,EAAQ,KAAO,CAAM,EACtF,AAAI,EAAc,IACd,IACI,EACA,EACA,EACA,EACA,CACJ,EACA,MAAO,GAAgB,GAE/B,KAEI,GAAsB,KAAK,CAAC,EAAa,CAAqB,CAAC,EAC/D,MAAO,GAAgB,EAE/B,CACA,MAAI,QAAO,KAAK,CAAe,EAAE,OAAS,GAEtC,GAAoC,EAAiB,EAAyB,EAAuB,CAAM,EAExG,CACX,CA7CS,4BAwDF,YACH,EACA,EACA,EACA,EAAqC,kBAAe,aACpD,EACA,EACI,CAvQR,YAwQI,GAAM,GAAa,GAAa,kBAAe,UACzC,EAAY,EAAU,YAAY,GACxC,GAAI,CAAC,EACD,OAGJ,GAAI,GAAqB,GAAsB,CAAS,EAElD,EAAK,EAAsB,EAAoB,QAAQ,MAAO,GAAG,EAAI,IAAI,qBAAkB,WAC3F,EAAU,cAAO,UAAP,cAAgB,WAAhB,cAA0B,uBAA1B,cAAiD,KAAjD,cAAuD,QACvE,AAAI,GACA,GAAqB,GACjB,EACA,EACA,EACA,OACA,CACJ,GAGJ,OAAS,GAAQ,EAAG,EAAQ,EAAmB,OAAQ,IACnD,EAAmB,GAAO,GAAG,aAAU,eAAiB,EAE5D,GAAM,GAAwB,CAAC,EAC/B,EAAmB,QAAQ,CAAC,CAAC,EAAK,KAAY,EAAsB,GAAO,CAAM,EAChF,EAAU,YAAY,GAA2B,WAAa,CACnE,CAlCgB,kCA4ChB,YACI,EACA,EACA,EACA,EACA,EACI,CAEJ,GAAI,EAAe,cAAgB,GAAM,CAErC,GAAI,GACJ,AAAI,EAAK,WAAW,WAAW,kBAAe,eAAe,EACzD,EAAuB,kBAAe,kBACnC,AAAI,EAAK,WAAW,WAAW,kBAAe,SAAS,EAC1D,EAAuB,kBAAe,cAEtC,EAAuB,kBAAe,wBAE1C,GAAM,GAAY,EAAe,OAAkB,QAAQ,IAAK,IAAI,EAC9D,EAAc,GAAwB,EAA0C,EAAK,UAAU,EAC/F,EAAS,EAAe,MAAM,MAAM,GAAG,kBAAe,EAAE,GACxD,EAAoB,EAAkB,WAAW,GAAG,MAAW,EAAe,UAAsB,CACtG,KAAM,GAAuB,EAAsB,GAAW,CAAQ,CAAC,EACvE,aACJ,EACM,CAAE,MAAK,MAAO,GAAa,EAAe,OAAkB,EAAI,EACtE,EAAiB,aAAU,eAAiB,EAC5C,EAAiB,aAAU,MAAQ,CAAC,CAAE,KAAM,iBAAc,OAAQ,MAAO,CAAI,CAAC,EAC1E,GACA,GAAiB,aAAU,QAAU,GAEzC,EAAiB,aAAU,gBAAkB,EAAe,MAC5D,GAAM,GAAS,GAAsB,EAAsB,GAAW,CAAQ,EAAG,EAAK,SAAS,EAC/F,EAAO,aAAU,gBAAkB,GAAG,KAAgB,GAC1D,CACJ,CAnCS,gCA6CT,YACI,EACA,EACA,EACA,EACF,CA9VF,cA+VI,GAAM,GAAa,EAAS,WACtB,EAAiB,EAAS,eAChC,GAAI,KAAe,SAAf,QAA2B,MAAU,CACrC,GAAM,GAAQ,IAAI,GAAU,gBAAc,EAAK,eAAe,KAC9D,EAAe,OAAU,MAAW,EAAe,OAAU,MAAS,QAAQ,EAAO,GAAG,CAC5F,CACA,GAAM,GAAY,GAA6B,CAAc,EAC7D,GAAI,EAAW,CACX,GAAM,GAAc,EAAK,UAAU,YAAY,GAA2B,WAC1E,EAAW,GAAa,CACpB,KAAM,GAAyB,EAC/B,YAAa,GAAwB,EAAgB,EAAK,UAAU,CACxE,EACA,EAAW,GAAW,aAAU,gBAAkB,iBAAgB,MAClE,EAAW,GAAW,aAAU,gBAAkB,GAAG,EAAS,gBAAmB,IACjF,EAAW,GAAW,aAAU,eAAiB,EAC7C,QAAe,QAAf,cAAyB,UAAzB,QAAkC,MAClC,GAAW,GAAW,aAAU,UAAY,QAAe,QAAf,cAAyB,UAAzB,cAAkC,KAAK,QAAQ,OAAQ,KAEvG,GAAmB,EAAgB,EAAY,CAAS,CAC5D,CACJ,CA3BS,kCAiDF,YACH,EACA,EAA+B,kBAAe,YAC9C,EAAqC,kBAAe,aACpD,EAAqC,kBAAe,kBAChD,CACJ,GAAM,CAAE,UAAS,gBAAiB,GAC9B,EAAK,UACL,EAAK,mBACL,EAAK,WACL,EAAK,WACL,EACA,CACJ,EAEA,GAAI,CAAC,EAAK,mBACN,OAEJ,GAAI,GAAI,EACR,EAAK,mBAAmB,QAAQ,AAAC,GAAmB,CAChD,GACK,GAAe,QAAU,qBAAkB,oBACxC,EAAe,QAAU,qBAAkB,oCAC9C,GAAe,SAAW,IAAQ,EAAe,cAAgB,IAElE,GAAwB,EAAM,EAAS,EAAc,EAAgB,CAAC,MACnE,CACH,GAAM,GAAW,CAAE,iBAAgB,WAAY,EAAK,WAAY,cAAa,EACvE,EACF,EAAe,QAAU,qBAAkB,mBACrC,GAAG,UACH,EACV,GAA0B,EAAM,EAAU,EAAkB,CAAC,CACjE,CACA,GACJ,CAAC,CACL,CApCgB,iCA8CT,YACH,EACA,EACA,EACA,EAAuB,kBAAe,SACtC,EACI,CA9bR,cA+bI,GAAM,GAAW,KAAU,YAAY,KAAtB,cAAkD,WAC7D,EAAc,CAAC,EACrB,GAAI,EACA,OAAW,KAAO,GACd,AAAI,IAAQ,UACR,EAAY,KAAK,CAAG,EAIhC,GAAM,GAAK,IAAe,kBAAe,UAAY,EAAsB,IAAI,qBAAkB,WAC3F,EAAoB,cAAO,UAAP,cAAgB,WAAhB,cAA0B,uBAA1B,cAAiD,KAAjD,cAAuD,QACjF,GAAI,EACA,OAAW,KAAO,GACd,AAAI,EAAY,QAAQ,CAAG,IAAM,IAC7B,EAAY,KAAK,CAAG,EAIhC,AAAI,EAAY,OAAS,GACpB,GAAU,YAAY,GAA6B,WAAW,OAAU,KAAU,EAE3F,CA5BgB,iCAoCT,YACH,EACA,EACA,EAAuB,kBAAe,qBAClC,CACJ,GAA6B,EAAW,EAAU,YAAY,GAAe,CACzE,WAAY,EACZ,SAAU,QACd,CAAC,CACL,CATgB,+BAmBT,YACH,EACA,EACA,EACA,EAC6B,CApfjC,QAqfI,GAAI,GACJ,GAAI,GACA,OAAW,KAAK,GACZ,GACI,SAAM,GAAG,UAAT,cAAkB,WAAlB,cAA4B,aAAc,EAAU,MACnD,GAAM,GAAG,OAAS,GACd,IAAa,MAAG,oBAAsB,EAAM,GAAG,OAAS,MAAG,4BAClE,CACE,EAAS,EAAM,GACf,KACJ,EAGR,MAAK,IACD,GAAI,EAAQ,CACR,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,cAAe,CAAE,WAAU,CAAC,EAC/C,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,OAAO,CACnC,CACJ,CAAC,EAEE,CACX,CA9BgB,mBAsCT,YACH,EACA,EACkD,CAClD,GAAI,GACE,EAAkB,EAAU,WAAW,gBAAa,OAC1D,MAAI,GAAmB,eAAiB,gBAAa,qBACjD,GAAsB,kBAAe,aAErC,MAAO,GAAgB,MACvB,EAAgB,KAAO,GAAG,KAAyB,kBAAe,eAClE,MAAO,GAAU,YAAY,kBAAe,OAC5C,MAAO,GAAU,YAAY,kBAAe,aAC5C,MAAO,GAAU,YAAY,kBAAe,aAC5C,MAAO,GAAU,YAAY,kBAAe,mBACrC,EAAmB,eAAiB,gBAAa,wBACxD,GAAsB,kBAAe,MAErC,MAAO,GAAgB,MACvB,EAAgB,KAAO,GAAG,KAAyB,kBAAe,QACjE,EAAU,YAAY,GAAoC,WAAW,gBAAa,gBAC/E,aAAU,QACV,GACJ,MAAO,GAAU,YAAY,kBAAe,cAC5C,EAAU,WAAW,gBAAa,aAAa,aAAU,QAAU,IAEhE,CACX,CA3BgB,oCAsCT,YACH,EACA,EACA,EACA,EAAqC,kBAAe,kBACpD,EAAY,GACZ,EAAsB,GAClB,CAlkBR,YAmkBI,GAAM,GAAa,EAAU,YAAY,GACzC,GAAI,CAAC,EACD,OAGJ,GAAI,GAAqB,GAAsB,CAAU,EAErD,EACJ,AAAI,EACA,AAAI,EAA2B,QAAQ,kBAAe,kBAAkB,IAAM,GAC1E,EAAW,EAAoB,QAAQ,MAAO,GAAG,EAEjD,EAAW,EAAoB,QAAQ,MAAO,GAAG,EAGrD,AAAI,IAA+B,kBAAe,mBAC9C,EAAW,IAAI,qBAAkB,aAEjC,EAAW,IAAI,qBAAkB,WAIzC,GAAM,GAAU,cAAO,UAAP,cAAgB,WAAhB,cAA0B,uBAA1B,cAAiD,KAAjD,cAA6D,QAC7E,AAAI,GACA,GAAqB,GACjB,EACA,EACA,EACA,QACA,CACJ,GAGJ,OAAS,GAAQ,EAAG,EAAQ,EAAmB,OAAQ,IACnD,EAAmB,GAAO,GAAG,aAAU,eAAiB,EAE5D,GAAM,GAAwB,CAAC,EAC/B,EAAmB,QAAQ,CAAC,CAAC,EAAK,KAAY,EAAsB,GAAO,CAAM,EAChF,EAAU,YAAY,GAA0B,WAAa,CAClE,CA/CgB,kCChjBhB,OAcO,SAIP,GAAkC,sDAyBlC,YACI,EACA,EACA,EACI,CACJ,GAAM,GAA4B,EAAU,YAAY,gBAUxD,GATA,EAA0B,qBAAuB,GACjD,EAA0B,WAAa,CAAC,EACpC,CAAC,GAGL,GAA0B,aAAU,gBAAkB,GAClD,EAAW,mBACX,qBAAkB,eACtB,EACI,CAAC,GACD,OAEJ,GAAI,GAAI,EACR,EAA0B,QAAQ,AAAC,GAAmB,CAzE1D,QA0EQ,GAAI,GAAc,EAAe,MAC3B,EAAkB,mBAAqB,GAAW,EAAe,KAAK,EAC5E,AAAI,EAAe,OAAS,gBACxB,GAAc,GAAwB,EAAgB,CAAU,GAEpE,EAA0B,WAAW,GAAmB,CACpD,KAAM,GAAyB,CACnC,EACA,EAA0B,WAAW,GAAiB,aAAU,eAAiB,EACjF,GAAM,GAAW,GAAkB,CAAc,EACjD,EAAU,YAAY,GAAmB,IACrC,KAAM,SACN,WAAY,CAAC,EACb,cACA,qBAAsB,IAClB,GAAY,CAAE,UAAS,GAE/B,EAAU,YAAY,GAAiB,aAAU,YAAc,GAC/D,EAAU,YAAY,GAAiB,aAAU,MAAQ,CACrD,CAAE,KAAM,iBAAc,MAAO,MAAO,GAAG,EAAe,OAAQ,CAClE,EACA,AAAI,MAAe,UAAf,cAAwB,mBAAmB,QAAQ,MAAO,GAC1D,EAAU,YAAY,GAAiB,aAAU,QAAU,EAAe,QAAQ,mBAC7E,MAAM,GAAG,EAAE,GACX,MAAM,GAAG,EAAE,GACT,KAAe,UAAf,QAAwB,oBAC/B,GAAU,YAAY,GAAiB,aAAU,QAC7C,EAAe,QAAQ,mBAAmB,MAAM,GAAG,EAAE,IAG7D,EAAU,YAAY,GAAiB,aAAU,gBAAkB,iBAAgB,KACnF,EAAU,YAAY,GAAiB,aAAU,gBAAkB,GAC/D,EAA0B,aAAU,mBACpC,IACJ,GACJ,CAAC,CACL,CAxDS,2BAgET,YAA8B,EAAuB,EAAmC,CACpF,MAAI,IAAiB,CAAC,EAAc,WAAW,IAAI,GAAO,EAC/C,EAAc,QAAQ,EAAc,MAAM,GAAG,EAAE,GAAI,KAAK,EAExD,CAEf,CANS,6BAQT,YACI,EACA,EACA,EACA,EACA,EACF,CACE,EAAU,YAAY,GAAsB,KAAK,MAAM,KAAK,UAAU,EAAU,YAAY,OAAU,CAAC,EACvG,GAAM,GAAU,EAAU,YAAY,GACtC,EAAQ,WAAa,CAAC,EACtB,EAAQ,qBAAuB,GAC/B,GAAM,GAAkB,EAAY,iBAAkB,MAAM,GAAG,oBAAiB,IAChF,GAAI,GAAmB,EAAgB,QAAS,CAC5C,GAAI,GAAI,EACR,EAAgB,QAAQ,QAAQ,AAAC,GAAiB,CAC9C,GAAM,GAAmB,GAAW,GAAG,kBAAe,sBAAsB,EAAa,SAAS,EAC5F,EAAc,GAAwB,EAAwC,CAAU,EACxF,EAAS,EAAa,MAAM,MAAM,GAAG,kBAAe,EAAE,GACtD,EAAU,EAAQ,WAAW,GAAG,MAAW,EAAa,UAAY,CACtE,KAAM,GAAyB,EAC/B,aACJ,EAEA,EAAO,aAAU,eAAiB,EAClC,EAAO,aAAU,gBAAkB,EAAa,MAChD,EAAO,aAAU,gBAAkB,IAAI,EAAa,qBAEpD,EAAU,YAAY,GAAoB,KAAK,MAC3C,KAAK,UAAU,EAAU,YAAY,kBAAe,kBAAkB,CAC1E,EACC,EAAU,YAAY,GAAiC,WAAa,CAAC,EACtE,EAAU,YAAY,GAAkB,aAAU,gBAAkB,EAAa,mBACjF,GACJ,CAAC,CACL,CACJ,CAnCS,sBA8CT,YACI,EACA,EACA,EACA,EACA,EACmD,CAlLvD,MAmLI,GAAI,GAAuB,EAA6B,EACxD,MAAI,IACA,CAAI,IAAY,UACZ,EAAsB,EAAkB,KAAK,AAAC,GACnC,EAAI,MAAS,QAAQ,OAAO,EAAI,EAC1C,EACE,AAAI,IAAY,YACnB,EAAsB,EAAkB,KAAK,AAAC,GACnC,EAAI,MAAS,QAAQ,aAAU,QAAQ,EAAI,EACrD,EAED,AAAI,EACA,EAAsB,EAAkB,KAAK,AAAC,GAAM,EAAE,MAAS,QAAQ,CAAiB,EAAI,EAAE,EAE9F,EAAsB,EAAkB,GAGhD,EAAgB,GAAqB,iBAAsB,MAAU,CAAK,EAC1E,AAAI,oBAAsB,UAAtB,QAAkC,mBAClC,EAAmB,IAAI,KAAa,EAAoB,QAAW,mBAAmB,MAAM,CAAS,EAAE,KAChG,GACP,GAAmB,IAAI,KAAe,EAAc,QAAQ,KAAM,eAAY,IAG/E,CAAE,gBAAe,kBAAiB,CAC7C,CAhCS,kCAsCT,YACI,EACA,EACA,EACA,EACuE,CACvE,GAAM,GAAgB,YAChB,EAA2B,IAAI,MAAc,IAC/C,EAEJ,MAAI,GAAc,MACd,EAAa,EAAc,MAE3B,EAAa,eAAe,KAEzB,CAAE,gBAAe,iBAAkB,EAA0B,YAAW,CACnF,CAhBS,+BA8BT,YACI,EACA,EACA,EACA,EACA,EACqF,CACrF,GAAI,GACA,EACE,EAAa,eACb,EAAuB,iBAAgB,MAAM,GAAG,oBAAiB,GACjE,EAAgB,GAAwB,EAAc,GAC5D,GAAI,CAAC,EACD,MAAO,CAAE,cAAe,OAAW,iBAAkB,OAAW,YAAW,MAAO,SAAS,IAAW,EAE1G,EAAQ,EAAc,KACtB,EAAY,EAAc,mBAAmB,MAAM,8BAA8B,EAAE,GACnF,GAAM,GAAQ,GAAU,gBAAc,EAAmB,UAAU,EAEnE,GAAI,EAAqB,WAAW,qBAAqB,EAAG,CACxD,GAAM,CAAE,gBAAe,oBAAqB,GACxC,EAAc,eACd,EACA,EACA,EACA,CACJ,EACA,SAAQ,GAAS,SAAS,KACnB,CAAE,gBAAe,mBAAkB,YAAW,OAAM,CAC/D,SAAW,EAAqB,WAAW,8BAA8B,EAAG,CACxE,GAAI,CAAE,gBAAe,oBAAqB,GACtC,EAAc,oBAAoB,eAClC,EACA,EACA,EACA,CACJ,EACA,MAAK,IACD,GAAgB,EAChB,EAAmB,IAAI,KAAe,EAAc,QAAQ,KAAM,eAAY,GAElF,EAAQ,GAAS,SAAS,KACnB,CAAE,gBAAe,mBAAkB,YAAW,OAAM,CAC/D,SAAW,EAAqB,WAAW,kBAAkB,EAAG,CAC5D,GAAM,GAAgB,EAChB,EAAmB,IAAI,yCAC7B,SAAQ,GAAS,eAAe,KACzB,CAAE,gBAAe,mBAAkB,YAAW,OAAM,CAC/D,SAAW,EAAqB,WAAW,UAAU,EAAG,CACpD,GAAM,GAAgB,EAChB,EAAmB,IAAI,MAAc,IAC3C,SAAQ,GAAS,eAAe,KACzB,CAAE,gBAAe,mBAAkB,YAAW,OAAM,CAC/D,SAAW,EAAqB,WAAW,OAAO,EAAG,CACjD,GAAM,CAAE,gBAAe,mBAAkB,cAAe,GACpD,EACA,EACA,EACA,CACJ,EACA,MAAO,CAAE,gBAAe,mBAAkB,YAAW,MAAO,CAAW,CAC3E,CACA,MAAO,CAAE,cAAe,OAAW,iBAAkB,OAAW,YAAW,MAAO,SAAS,IAAW,CAC1G,CA/DS,8BAuET,YAAyB,EAAuB,EAA6B,EAA0B,EAAa,CAChH,GAAM,GAAY,EAAU,YAAY,kBAAe,cAavD,GAZA,EAAU,YAAY,kBAAe,UAAY,KAAK,MAAM,KAAK,UAAU,CAAS,CAAC,EACrF,MAAO,GAAU,YAAY,kBAAe,UAAU,aAAU,YAC5D,GACA,GAAU,YAAY,kBAAe,UAAU,aAAU,gBAAkB,GAE9E,EAAU,YAAY,kBAAe,UAAyB,WAAW,eAAe,aAAU,QAAU,GAE7G,EAAU,WAAW,eAAe,aAAU,QAAU,GACxD,EAAU,qBAAuB,GACjC,EAAU,YAAc,uBACxB,EAAU,MAAQ,QAClB,EAAU,KAAO,GAAG,KAAyB,kBAAe,WACxD,EAAqB,CACrB,GAAM,GAAiB,EAAoB,MAAM,kBAAe,EAAE,GAC5D,EAAY,EAAY,GAAgB,mBAAmB,MAAM,GAAG,EAC1E,EAAU,aAAU,gBAAkB,IAAI,EAAU,OAAO,EAAU,IACzE,CACA,EAAU,aAAU,cAAgB,gBAAa,SACjD,EAAU,aAAU,KAAO,UAC3B,EAAU,aAAU,MAAQ,CAAC,CAAE,KAAM,iBAAc,IAAK,MAAO,SAAU,CAAC,CAC9E,CAtBS,wBAiCT,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACF,CAhWF,gBAiWI,GAAM,GAAc,EAAW,YAAY,GAErC,EAAsB,0BAAa,KAAb,cAAkB,UAAlB,cAA+B,KAA/B,cAAoC,aAAU,gBACpE,CAAE,oBAAqB,GAAsB,EAAqB,EAAa,EAAoB,SAAS,EAClH,GAAgB,EAAW,EAAqB,EAAkB,CAAW,EAE7E,GAAM,GAAqB,oBAC3B,AAAC,EAAU,YAAY,kBAAe,kBAAiC,WAAW,QAAQ,KACtF,GAAyB,EAE7B,GAAc,EAAW,EAAoB,EAAa,EAAkB,CAAU,EAGtF,GAAM,CAAE,cAAe,EAAoB,iBAAkB,GAAW,GACpE,0BAAa,KAAb,cAAkB,YAAlB,cAAiC,KAAjC,cAAsC,aAAU,gBAChD,EACA,EACA,WACJ,EACM,EAAkB,EAAU,YAAY,GAC9C,AAAI,GAAsB,EACtB,GAAgB,WAAW,QAAQ,KAAU,GAAG,KAAyB,kBAAe,YAExF,EAAgB,WAAW,QAAa,CACpC,KAAM,GAAyB,kBAAe,SAClD,EACA,EAAgB,WAAW,eAAe,aAAU,QAAU,IAE9D,EAAgB,WAAa,CAAC,EAElC,GAAM,GAAY,EAAU,YAAY,kBAAe,cACvD,EAAU,YAAY,kBAAe,UAAY,KAAK,MAAM,KAAK,UAAU,CAAS,CAAC,EACrF,MAAO,GAAU,YAAY,kBAAe,UAAU,aAAU,YAChE,EAAU,qBAAuB,GACjC,EAAU,YAAc,yBACxB,EAAU,MAAQ,QAClB,AAAI,EACA,OAAO,GAAU,WACjB,EAAU,KAAO,GAAG,KAAyB,kBAAe,YACpD,GACR,GAAU,WAAa,CAAC,GAE5B,EAAU,aAAU,cAAgB,gBAAa,SAEjD,GAAI,GAAwB,EAO5B,GANA,AAAI,GAAsB,EAAmB,QAAQ,aAAU,QAAQ,EAAI,GACvE,GAAiB,EAAmB,MAAM,GAAG,EAAE,GAC/C,EAAiB,EAAW,GAAG,UAAa,GAAG,eAAe,MAAM,kBAAe,EAAE,IAC9E,GACP,GAAiB,EAAiB,EAAmB,MAAM,kBAAe,EAAE,IAE5E,EAAgB,CAChB,GAAM,GAAyC,CAC3C,YACA,mBAAoB,EAAW,YAAY,GAAG,GAC9C,aACA,gBAAiB,EAAmB,WACpC,WAAY,kBAAe,SAC/B,EACA,GAAyB,EAAiB,kBAAe,eAAe,EACpE,GACA,GAAU,YAAY,kBAAe,UAAU,aAAU,gBAAkB,GAE/E,GAAM,GAAY,EAAY,GAAgB,mBAAmB,MAAM,GAAG,EAC1E,EAAU,aAAU,gBAAkB,IAAI,EAAU,OAAO,EAAU,KACrE,EAAU,aAAU,KAAO,YAC3B,EAAU,aAAU,MAAQ,CAAC,CAAE,KAAM,iBAAc,IAAK,MAAO,WAAY,CAAC,CAChF,CACA,GAA0B,EAAW,EAAQ,EAAmB,MAAM,EAEtE,GAAM,GAA4B,GAAG,kBAAe,WAAW,GAAW,kBAAe,SAAS,KAClG,GAA0B,EAAW,EAAQ,EAAmB,OAAQ,OAAW,CAAyB,EAC5G,GAAuB,EAAW,EAA2B,kBAAe,oBAAoB,CACpG,CAlFS,oBAmGT,YAAiC,EAAkC,EAAqB,CACpF,GAAM,GAAa,GAAG,kBAAe,eAAe,EAAgB,WACpE,EAAgB,UAAU,YAAY,GAAc,KAAK,MACrD,KAAK,UAAU,EAAgB,UAAU,YAAY,kBAAe,YAAY,CACpF,EACA,MAAO,GAAgB,UAAU,YAAY,GAAY,aAAU,YACnE,EAAgB,UAAU,YAAY,GAAY,aAAU,gBAAkB,EAAgB,iBAC1F,EAAgB,aAChB,GAAgB,UAAU,YAAY,GAAY,mBAAwB,EAAgB,aAG9F,GAAM,GAAe,GAAG,kBAAe,oBAAoB,EAAgB,WAC3E,EAAgB,UAAU,YAAY,GAAgB,KAAK,MACvD,KAAK,UAAU,EAAgB,UAAU,YAAY,kBAAe,iBAAiB,CACzF,EACA,EAAgB,UAAU,YAAY,GAClC,WACF,QAAQ,KAAO,GAAG,KAAyB,IAE7C,GAAM,GAAqB,GAAG,kBAAe,WAAW,EAAgB,WACxE,UACI,EAAgB,UAChB,EACA,EACA,EAAgB,iBAChB,EAAgB,gBACpB,EACA,EAAgB,UAAU,YAAY,GAAc,WAAc,gBAAa,SAC3E,KACA,GAAG,KAAyB,IAEzB,CACX,CAhCS,gCA2CT,YACI,EACA,EACA,EACA,EACA,EACA,EACF,CACE,GAAM,GAAa,GAAwB,EAAiB,CAAa,EACzE,AAAC,EAAU,YAAY,GAA2B,WAAW,eAAe,aAAU,QAAU,GAC/F,EAAU,YAAY,GAA2B,WAAW,MAAM,aAAU,QAAU,GACtF,EAAU,YAAY,GAA2B,WAAW,UAAU,aAAU,QAAU,GAC3F,GAAM,GAAe,oBAAoB,KACzC,EAAgB,WAAW,GAAW,CAClC,KAAM,GAAG,KAAyB,IAClC,YAAa,GAAgB,EAC7B,MAAO,CACX,CACJ,CAlBS,qBA4BT,YACI,EACA,EACA,EACA,EACA,EACI,CACJ,GAAM,GAAU,GAAG,kBAAe,eAAe,EAAgB,WAC3D,EAAS,GAAG,kBAAe,oBAAoB,EAAgB,UAC/D,EAAc,GAChB,kBAAe,YACf,EAAgB,QAChB,EAAgB,SACpB,EACA,MAAO,GAAY,aAAU,YAC7B,EAAY,aAAU,gBAAkB,EAAgB,iBACpD,EAAgB,aAChB,GAAY,mBAAwB,EAAgB,aAGxD,GAAiB,EAAY,WAAW,QAAuB,kBAAe,QAAS,CAAM,EAC7F,GAAM,GAAQ,oBAAoB,EAAgB,WAClD,EAAgB,WAAW,EAAgB,SAAW,CAClD,KAAM,GAAG,KAAyB,IAClC,YAAa,EAAgB,OAAS,EACtC,OACJ,EACA,GAAiB,EAAY,WAAW,QAAuB,CAAM,EACrE,EAAY,WAAW,eAAe,aAAU,QAAU,GAC1D,EAAY,WAAW,MAAM,aAAU,QAAU,GACjD,EAAY,WAAW,UAAU,aAAU,QAAU,GACrD,GAAM,GAAiB,kBAAe,MAAM,KAAK,KAAM,EAAmB,MAAM,kBAAe,EAAE,GAC3F,EAAyC,CAC3C,UAAW,EAAgB,UAC3B,mBAAoB,EAAgB,iBAAiB,YAAY,GAAG,GACpE,WAAY,EAAgB,iBAC5B,gBAAiB,EAAmB,WACpC,WAAY,CAChB,EACA,GACI,EACA,kBAAe,gBACf,kBAAe,iBACf,kBAAe,gBACnB,CACJ,CA7CS,yBAsDT,YAAuB,EAA6B,EAAiB,EAAmB,EAAc,CAClG,EAAgB,WAAW,GAAS,aAAU,YAAc,GAC5D,EAAgB,WAAW,GAAS,aAAU,gBAAkB,EAC1D,IAAI,MAAc,EAAK,aAAU,kBACjC,OACN,EAAgB,WAAW,GAAS,aAAU,cAAgB,gBAAa,SAC3E,EAAgB,WAAW,GAAS,aAAU,KAAO,EACrD,EAAgB,WAAW,GAAS,aAAU,MAAQ,CAAC,CAAE,KAAM,iBAAc,IAAK,MAAO,CAAQ,CAAC,CACtG,CARS,sBAkBT,YACI,EACA,EACA,EACA,EACU,CA/kBd,MAglBI,GAAI,GAAmB,EACnB,EAAgB,EACpB,MAAI,GAAK,WAAgB,EAAK,YAAiB,EAAU,MACrD,GAAgB,KAAmB,aAAnB,cAA+B,WAAW,KAAK,AAAC,GACrD,EAAG,OAAS,EAAK,WAE5B,EAAmB,EAAc,YAE9B,CACX,CAfS,4BAwBT,YACI,EACA,EACA,EACA,EACF,CACE,GAAM,GAAY,GAAG,kBAAe,oBAAoB,EAAsB,UAExE,EAAsB,GADD,EAAsB,YAAc,GAAG,EAAsB,eAAiB,MACpD,qBAAkB,WACnE,EAAc,MAAM,iBAAc,QAAQ,EAAE,KAE1C,EAAuB,GACzB,kBAAe,iBACf,EACA,EAAsB,SAC1B,EACA,GAAiB,EAAqB,WAAW,SAAwB,kBAAe,aAAc,CAAS,EAC/G,GAAsB,kBAAe,aAAc,EAAW,EAAsB,SAAS,EAC7F,GACI,EAAsB,UACtB,EACA,EAAmB,OACnB,GAAG,kBAAe,oBAAoB,KACtC,EACA,CACJ,EACA,GACI,EAAsB,UACtB,EACA,EACA,GAAG,kBAAe,gBAAgB,KAClC,CACJ,EAEI,EAAsB,UAAU,YAAY,UAC5C,OAAO,GAAsB,UAAU,YAAY,SACnD,MAAO,GAAsB,UAAU,YAAY,mBAGvD,GAAM,GAA4B,GAAG,kBAAe,WAAW,KACzD,EAA4B,GAAG,kBAAe,oBAAoB,KACxE,GACI,EAAsB,UACtB,EACA,EAAmB,OACnB,EACA,EACA,CACJ,EAEA,GAAsB,kBAAe,yBAA0B,EAAW,EAAsB,SAAS,EACzG,GAAM,GAAoC,GAAG,kBAAe,4BAA4B,KAClF,EAAyB,EAAsB,UAAU,YAAY,GAC3E,AACI,EAAuB,WAAW,SACpC,KAAO,GAAG,KAAyB,IACrC,GACI,EAAsB,UACtB,EACA,CACJ,EAEI,EAAsB,UAAU,YAAY,sBAC5C,MAAO,GAAsB,UAAU,YAAY,oBAE3D,CAjES,gCA8ET,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACF,CACE,GAAI,kBAAe,QAAQ,iBAAc,WAAY,GAEjD,GACI,EACA,EACA,EACA,EAAsB,iBACtB,CACJ,EACA,GAAwB,EAAuB,EAAoB,EAAe,CAAM,UACjF,kBAAe,QAAQ,UAAW,GAEzC,GACI,EACA,EACA,EAAsB,UACtB,EACA,EAAsB,QACtB,EAAsB,KAC1B,UACO,EAAK,SAAa,CACzB,GAAM,GAAe,EAAK,OAAY,qBAAqB,EAAsB,WACjF,EAAgB,WAAW,EAAsB,SAAW,CACxD,YAAa,EAAsB,OAAS,EAC5C,MAAO,EAEP,KAAM,GAAG,KAAyB,kBAAe,oBACrD,CACJ,KAAO,CACH,GAAM,GAAe,cAAc,EAAsB,WACzD,EAAgB,WAAW,EAAsB,SAAW,CACxD,YAAa,EAAsB,OAAS,EAC5C,MAAO,EAEP,KAAM,GAAG,KAAyB,kBAAe,aACrD,CACJ,CACJ,CA9CS,uBA0DT,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACF,CAlvBF,MAmvBI,GAAM,GAAkB,EAAU,YAAY,GAC9C,EAAgB,WAAa,CACzB,eAAgB,EAAgB,WAAW,eAC3C,YAAa,EAAgB,WAAW,YACxC,MAAO,EAAgB,WAAW,KACtC,EACA,GAAM,GAAkB,EAAU,YAAY,iBAC9C,OAAW,KAAQ,GAAY,CAC3B,GAAI,CAAC,EAAK,aAAU,KAChB,SAEJ,GAAI,GACE,EAAmB,GAAoB,EAAW,EAAM,EAAoB,CAAU,EACtF,EAAgB,EAAiB,YAAY,GAC7C,CAAE,gBAAe,mBAAkB,YAAW,SAAU,GAC1D,iBAAO,aAAU,gBACjB,EACA,EACA,EAAK,aAAU,IACnB,EACA,AAAI,EAAK,WACL,GAAc,KAAW,qBAAqB,KAAK,AAAC,GACzC,EAAG,iBAAmB,CAChC,IAFa,cAEV,MAER,GAAM,GAAU,GAAW,EAAK,aAAU,IAAI,EAS9C,GACI,EACA,EAV2C,CAC3C,UACA,YACA,mBACA,cACA,mBACA,OACJ,EAKI,EACA,EACA,EACA,CACJ,EACA,GAAc,EAAiB,EAAS,EAAW,CAAI,CAC3D,CACJ,CAtDS,mBAiET,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACF,CAnzBF,UAqzBI,GAAM,GAAkB,EAAU,YAAY,GACxC,CAAE,gBAAe,mBAAkB,aAAc,GACnD,EACA,EAAW,YAAY,GACvB,EACA,OACA,iBAAc,QAClB,EACA,GAAI,EAAe,CACf,GAAM,GAAiB,EAAc,MAAM,GAAG,EAAE,GAC1C,EAAyB,GAAG,kBAAe,mBAAmB,GAAW,CAAc,IACvF,EAAY,EAAU,YAAY,GAAG,QAA4B,KAAK,MACxE,KAAK,UAAU,EAAU,YAAY,EAAoB,CAC7D,EACA,MAAO,GAAS,aAAU,YAC1B,GAAiB,EAAS,WAAW,QAAuB,kBAAe,QAAS,CAAsB,EAE1G,EAAS,aAAU,gBAAkB,EACrC,EAAS,WAAW,QAAU,CAAC,EAC/B,GAAiB,EAAS,WAAW,QAAS,CAAsB,EAEpE,MAAO,GAAgB,WACvB,GAAiB,EAAiB,GAAG,MAAwB,EAC7D,EAAgB,aAAU,gBAAkB,IAAI,MAAc,IAC9D,GAAM,GAAqB,EAAW,YAAY,GAAG,GAC/C,EAAyC,CAC3C,YACA,qBACA,aACA,gBAAiB,EAAmB,WACpC,WAAY,CAChB,EACA,GAAyB,CAAe,EACxC,GAAM,GAA0B,KAAe,MAAM,GAAG,IAAxB,cAA4B,GACtD,EAAsB,EACtB,IAAI,qBAAkB,YAAY,IAClC,IAAI,qBAAkB,WAC5B,GACI,EACA,EACA,EAAmB,OACnB,OACA,EACA,CACJ,EACA,GAAyB,EAAW,EAAwB,EAAQ,OAAW,CAAmB,EAElG,GAAM,GAA4B,GAAG,kBAAe,WAAW,KACzD,EAA6B,GAC/B,EACA,EACA,kBAAe,iBACnB,EACA,GACI,EACA,EACA,EAAmB,OACnB,GAAiB,CAA0B,EAC3C,EACA,CACJ,EACA,GAAuB,EAAW,EAA2B,kBAAe,oBAAoB,CACpG,KAAO,CACH,EAAgB,WAAW,QAAQ,KAAU,GAAG,KAAyB,kBAAe,YAExF,GAAiB,EAAgB,WAAW,QAAuB,kBAAe,SAAS,EAC3F,GAAM,GAAqB,uBAAY,cAAZ,cAA0B,KAA1B,cAAkC,SACvD,EAAyC,CAC3C,YACA,qBACA,aACA,gBAAiB,EAAmB,WACpC,WAAY,kBAAe,SAC/B,EACA,GAAyB,CAAe,EACxC,GAA0B,EAAW,EAAQ,EAAmB,MAAM,EACtE,GAAyB,EAAW,kBAAe,UAAW,CAAM,EAChE,GACA,GAAgB,aAAU,gBAAkB,GACxC,EAAW,mBACX,EAAmB,KACnB,EAAmB,SACvB,GAGJ,GAAM,GAAqB,GAAG,kBAAe,WAAW,GAAW,kBAAe,SAAS,KAC3F,GAA0B,EAAW,EAAQ,EAAmB,OAAQ,OAAW,CAAkB,EACrG,GAAuB,EAAW,EAAoB,kBAAe,oBAAoB,CAC7F,CACJ,CAnGS,6BA2GT,YACI,EACA,EACA,EACkB,CA15BtB,kBA25BI,GAAI,WAAO,QAAQ,WAAf,cAAyB,QAAzB,cAAgC,QAAS,IAAiB,gBAAa,wBAG3E,IAAI,KAAO,QAAQ,WAAf,QAAyB,8BACzB,MAAO,GAAO,QAAQ,SAAS,8BAEnC,GAAI,IAAiB,gBAAa,uBAC9B,MACI,SAAW,YAAY,KAAvB,cAA2B,+BAA3B,cAAyD,OACzD,SAAW,YAAY,KAAvB,cAA2B,sBAA3B,cAAgD,MAG5D,CAjBS,iCA2BT,YACI,EACA,EACA,EACA,EACA,EACA,EACI,CAx7BR,cAy7BI,GAAM,GAAa,WAAO,UAAP,cAAgB,WAAhB,cAA0B,QAA1B,cAAiC,MAC9C,EAAoB,GAAyB,EAAQ,EAAY,EAAmB,YAAY,EAChG,EAAsB,GAA4B,EAAW,CAAkB,EACrF,AAAI,EAAmB,eAAiB,gBAAa,uBACjD,CAAI,EACA,GAAW,EAAW,EAAY,EAAY,EAAW,EAAoB,EAAQ,CAAmB,EAEnG,SAAO,UAAP,cAAgB,WAAhB,QAA0B,OAC1B,GAAU,YAAY,iBAAgC,WAAa,CAAC,GAEzE,GACI,EACA,EACA,EACA,EACA,EACA,EACA,CACJ,GAEJ,EAAU,WAAW,gBAAa,OAAO,aAAU,QAAU,IACtD,EAAmB,eAAiB,gBAAa,sBACxD,IACI,EACA,EACA,EACA,EACA,EACA,EACA,CACJ,EACA,GAAyB,EAAW,kBAAe,UAAW,CAAM,EAE5E,CAzCS,yBAqDF,YACH,EACA,EACA,EACA,EACM,CA3+BV,QA4+BI,GAAM,GAAwB,KAAK,MAAM,KAAK,UAAU,CAAa,CAAC,EAChE,EAAa,iBAAW,WACxB,EAAQ,EAAmB,YAAc,GAAU,gBAAc,EAAmB,UAAU,EAE9F,EAA2B,GAAS,wBAAY,cAAZ,cAA0B,KAA1B,cAAkC,iBAQ5E,GAPA,GAAmB,EAAY,EAAW,CAAwB,EAElE,EAAU,WAAW,gBAAa,+BAA+B,aAAU,QAAU,GAGrF,GAA2B,EAAY,EAAW,kBAAe,sBAAsB,EAEnF,EAAmB,SAAU,CAE7B,GAAM,GAAQ,EAAmB,SAAS,mBAAgB,KAAK,QAC1D,QACL,GAAI,CAAC,EACD,UAAI,EAAmB,OAAQ,CAC3B,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,UAAW,CAAE,MAAO,EAAmB,SAAS,WAAW,EAAM,CAAC,EACrF,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,OAAO,CACnC,CACJ,CAAC,EACM,EAEX,GAAM,GAAS,GAAW,EAAO,EAAc,EAAW,EAAmB,MAAM,EACnF,GAAI,CAAC,EACD,MAAO,GAEX,GAAiB,EAAW,EAAQ,EAAY,EAAW,EAAoB,CAAK,CACxF,CACA,aAAO,GAAU,YAAY,eAC7B,MAAO,GAAU,YAAY,OAEtB,CACX,CA3CgB,mCC19BhB,OAAqD,sDACrD,GAcO,SA+CP,YACI,EACA,EACA,EACA,EAOA,EACG,CACH,MAAO,CAAC,EAAM,IAAU,CACpB,GACK,CAAC,EAAK,aAAkB,EAAK,QAAU,qBAAkB,oBAC1D,EAAK,QAAU,qBAAkB,kCACnC,CACE,GAAM,CAAE,aAAY,WAAU,aAAc,GAAmB,EAAM,EAAY,CAAe,EAChG,GAAI,CAAC,EACD,OAEJ,GAAM,GAAW,GAA6B,CAAI,EAE5C,EAA0B,EAAiB,mBAAmB,QAChE,IAAI,qBAAkB,iBACtB,KAAK,qBAAkB,gBAC3B,EACM,EAAsB,gBAAgB,GAAW,CAAQ,KACzD,EAAgB,EAAU,YAAY,GAAuB,CAC/D,KAAM,SACN,KAAM,GAAG,KAAyB,kBAAe,iBACjD,YAAa,GAAwB,EAAM,CAAU,CACzD,EAEA,EAAa,aAAU,YAAc,GACrC,EAAa,aAAU,MAAQ,CAAC,CAAE,KAAM,iBAAc,OAAQ,MAAO,CAAW,CAAC,EAC7E,GACA,GAAU,YAAY,GAAqB,aAAU,QAAU,GAEnE,EAAa,aAAU,gBAAkB,IAAI,KAA2B,IACxE,EAAc,WAAW,GAAY,CACjC,KAAM,GAAG,KAAyB,GACtC,CACJ,CACJ,CACJ,CA9CS,kCAuDT,YACI,EACA,EACA,EAOA,EACG,CACH,MAAO,CAAC,EAAM,IAAU,CACpB,GAAI,EAAK,aAAkB,EAAK,QAAU,qBAAkB,mBAAoB,CAC5E,GAAM,GAAW,GAA6B,CAAI,EAC5C,EAAc,GAAwB,EAAM,CAAU,EACtD,EAAsB,GAAW,GAAG,kBAAe,0BAA0B,IAAW,EAE9F,EAAU,YAAY,GAAuB,CACzC,KAAM,SACN,KAAM,GAAG,KAAyB,kBAAe,iBACjD,YAAa,CACjB,EACA,EAAU,YAAY,GAAqB,aAAU,YAAc,GACnE,EAAU,YAAY,GAClB,aAAU,gBACV,IAAI,KAA2B,IAEnC,EAAc,WAAW,GAAY,CACjC,KAAM,GAAG,KAAyB,GACtC,CACJ,CACJ,CACJ,CAjCS,kCA2CT,YACI,EACA,EACA,EACA,EACA,EACF,CAEE,GAAM,GACF,IAAe,kBAAe,WAC9B,IAAe,4BACf,IAAe,uCACb,EAA2B,EAC3B,GAAG,kBAAe,kBAAkB,KACpC,kBAAe,eACf,EAAyB,EAAU,YAAY,GACrD,EAAuB,aAAU,YAAc,GAC/C,EAAuB,YAAc,gBAGrC,GAAM,GAAW,GAAG,kBAAe,kBAAkB,KACrD,GAA0B,EAAW,EAAQ,EAAQ,EAAU,EAAY,CAAiB,EAC5F,GAAM,GAAW,EAAqB,EAAa,kBAAe,WAClE,GAAsB,kBAAe,WAAY,EAAU,EAAW,CAAkB,EACxF,GAAM,GAAa,EAAqB,GAAG,kBAAe,cAAc,KAAgB,kBAAe,WACvG,AAAC,EAAuB,WAAW,SAAwB,KAAO,GAAG,KAAyB,IAC9F,GAAyB,EAAW,EAAY,EAAQ,EAAY,EAAkB,QAAQ,MAAO,GAAG,CAAC,CAC7G,CA3BS,2BAqCT,YACI,EACA,EACA,EACA,EACA,EACF,CAEE,GAAM,GACF,IAAe,kBAAe,WAC9B,IAAe,4BACf,IAAe,uCACb,EAA4B,EAC5B,GAAG,kBAAe,uBAAuB,KACzC,kBAAe,oBACf,EAAyB,EAAU,YAAY,GACrD,EAAuB,aAAU,YAAc,GAC/C,EAAuB,YAAc,gBAErC,GAAM,GAAW,GAAG,kBAAe,uBAAuB,KACpD,EAAqB,GAAG,kBAAe,WAAW,GAAW,CAAU,KAC7E,GAA0B,EAAW,EAAQ,EAAQ,EAAU,EAAoB,CAAiB,EACpG,GAAM,GAAW,EAAqB,EAAa,kBAAe,uBAClE,GAAsB,kBAAe,uBAAwB,EAAU,EAAW,CAAkB,EAEpG,GAAM,GAAa,EACb,GAAG,kBAAe,0BAA0B,KAC5C,kBAAe,uBACrB,AAAC,EAAuB,WAAW,SAAwB,KAAO,GAAG,KAAyB,IAC9F,GAAuB,EAAW,EAAoB,CAAU,CACpE,CA9BS,2BAwCT,YACI,EACA,EACA,EACA,EACA,EACF,CAEE,GAAM,GACA,GAAG,kBAAe,sBAAsB,KAExC,EAAyB,EAAU,YAAY,GACrD,EAAuB,aAAU,YAAc,GAC/C,EAAuB,YAAc,gBACrC,GAAM,GAAW,GAAG,kBAAe,sBAAsB,KACnD,EAAqB,GAAG,kBAAe,kBAAkB,GAAW,CAAU,KACpF,GAA0B,EAAW,EAAQ,EAAQ,EAAU,EAAoB,CAAiB,EACpG,GAAM,GAAgC,EACtC,GAAsB,kBAAe,uBAAwB,EAAU,EAAW,EAAkB,EAEpG,GAAM,GACA,GAAG,kBAAe,0BAA0B,KAElD,AAAC,EAAuB,WAAW,SAAwB,KAAO,GAAG,KAAyB,IAC9F,GAAuB,EAAW,EAAoB,CAAU,EAC5D,EAAU,YAAY,IACrB,GAAU,YAAY,GAAmC,qBAAuB,CAC7E,KAAM,GAAG,KAAyB,GACtC,EAER,CA9BS,+BA0CT,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACU,CACV,GAAM,GAAa,GAAoB,CAAQ,EACzC,EAAQ,EAAS,YAAY,IAAI,EACjC,EAAa,EAAQ,GAAK,EAAS,UAAU,EAAQ,CAAC,EAAI,EAC1D,EAAkB,GAAsB,kBAAe,gBAAiB,EAAU,CAAS,EACjG,AAAI,EAAM,YAAc,GACpB,GAAgB,aAAU,gBAAkB,IAAI,EAAM,WAAW,sBAAsB,KAE3F,EAAgB,WAAW,QAAU,CACjC,KAAM,GAAG,KAAyB,GACtC,EACC,EAAgB,WAAW,QAAuB,KAAO,GACtD,kBAAe,kBACf,CACJ,EAEC,EAAgB,WAAW,sBAAqC,KAAO,GACpE,kBAAe,0BACf,CACJ,EACA,GAAM,GAAW,GAAsB,kBAAe,0BAA2B,EAAU,CAAS,EACpG,EAAS,WAAW,MAAM,MAAS,KAAO,GAAuB,kBAAe,uBAAwB,CAAQ,EAChH,GAAsB,kBAAe,uBAAwB,EAAU,CAAS,EAEhF,GAA2B,EAAM,WAAY,EAAW,GAAG,kBAAe,0BAA0B,IAAa,EACjH,GAAM,GAAyC,CAC3C,YACA,mBAAoB,EAAc,OAClC,WAAY,EAAc,WAC1B,kBACA,YACJ,EACA,UACI,EACA,kBAAe,sBACf,kBAAe,eACf,kBAAe,mBACnB,EACA,GAAmB,EAAW,EAAQ,EAAY,EAAU,CAAM,EAClE,GAAmB,EAAW,EAAQ,EAAY,EAAU,CAAM,EAC3D,CACX,CAjDS,uBA8DT,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EAC+C,CAC/C,AAAI,GACA,GAAS,WAAW,GAAY,CAC5B,KAAM,GAAuB,kBAAe,yBAA0B,CAAQ,CAClF,GAEJ,GAAM,GAAe,GAAsB,kBAAe,yBAA0B,EAAU,CAAS,EACvG,GAA8B,EAAO,EAAc,GAAoB,CAAQ,CAAC,EAChF,EAAa,aAAU,gBAAkB,EAAM,eAC/C,EAAa,aAAU,QAAU,EAAM,UACvC,EAAa,WAAW,MAAM,KAAU,GAAuB,kBAAe,gBAAiB,CAAQ,EACvG,GAAM,GAAQ,GACV,EACA,EACA,EACA,EACA,EAAmB,WACnB,EACA,EAAmB,MACvB,EACA,MAAO,CAAE,eAAc,OAAM,CACjC,CA7BS,2BAyCT,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACF,CACE,GAAI,GACJ,AAAI,IAAkB,eAAY,QAC9B,EAAiB,kBAAe,sBACzB,IAAkB,eAAY,eACrC,GAAiB,kBAAe,6BAEpC,EAAS,WAAc,GAAY,CAC/B,KAAM,GAAuB,EAAgB,CAAQ,CACzD,EACA,GAAM,GAA0B,GAAsB,EAAgB,EAAU,CAAS,EACzF,AAAK,EAAM,IACP,GAAY,WAAa,CAAC,GAE9B,GAA8B,EAAO,EAAa,CAAQ,EAC1D,EAAY,aAAU,gBAAkB,EAAM,eAC9C,EAAY,aAAU,QAAU,EAAM,UACtC,EAAY,aAAU,YAAc,GACpC,GAAM,GAAW,GAAW,EAAe,EAAO,EAAa,EAAW,wBAAqB,GAAI,CAAQ,EAC3G,GAAI,EAAM,OAAS,aAAU,KAAM,CAC/B,GAAM,GAAa,GAAoB,CAAQ,EAC/C,GAAsB,kBAAe,mBAAoB,EAAU,CAAS,EAC5E,GAAuB,EAAW,EAAQ,EAAU,EAAY,CAAM,CAC1E,CACJ,CAhCS,iCA0CT,YACI,EACA,EACA,EACA,EACA,EACF,CACE,EAAS,WAAc,GAAY,CAC/B,KAAM,GAAG,KAAyB,GACtC,EACA,GAAM,GAAe,GACjB,kBAAe,0BACf,EACA,EACA,EACJ,EACA,GAAoC,EAAO,EAAc,CAAQ,EACjE,EAAa,aAAU,gBAAkB,EAAM,eAC/C,EAAa,aAAU,QAAU,EAAM,UACvC,EAAa,aAAU,UAAY,GAA0B,iBAAO,MAAM,EAC1E,EAAa,aAAU,YAAc,EACzC,CArBS,0BA8BT,YACI,EACA,EACA,EACA,EACU,CACV,GAAM,GAAU,GAAsB,kBAAe,yBAA0B,EAAU,CAAS,EAGlG,GAFA,EAAQ,qBAAuB,GAC/B,EAAQ,WAAa,CAAC,EACjB,EAAgB,QAAS,CAC1B,GAAI,GAAI,EACR,AAAC,EAAgB,QAAQ,QAAQ,AAAC,GAAiB,CAC/C,GAAM,GAAc,GAAwB,EAAwC,CAAU,EACxF,EAAS,EAAa,MAAM,MAAM,kBAAe,EAAE,GACnD,EAAY,EAAa,OAAkB,QAAQ,IAAK,IAAI,EAC5D,EAA0B,EAAQ,WAAW,GAAG,MAAW,EAAa,UAAY,CACtF,KAAM,GAAuB,kBAAe,wBAAyB,CAAQ,EAC7E,aACJ,EACA,EAAuB,aAAU,eAAiB,EAClD,EAAuB,aAAU,gBAAkB,EAAa,MAChE,GAAM,GAAgB,GAClB,kBAAe,wBACf,GAAW,CAAQ,EACnB,CACJ,EACA,EAAc,aAAU,gBAAkB,GAAuB,CAAY,EAC7E,EAAc,aAAU,UAAY,GAAkB,CAAY,EAClE,EAAc,WAAa,CAAC,EAC5B,GACJ,CAAC,CACL,CACA,MAAO,EACX,CAjCS,2BA0CT,YACI,EACA,EACA,EACA,EAC+C,CAC/C,GAAM,GAAQ,GAAsB,kBAAe,gBAAiB,EAAU,CAAS,EACvF,AAAI,EAAM,OACN,GAAM,YAAc,EAAM,OAE9B,EAAM,aAAU,gBAAkB,GAAuB,CAA8B,EACvF,EAAM,aAAU,UAAY,GAA2B,EAAsB,QAAU,CAAK,EAC5F,EAAM,aAAU,YAAc,GAC9B,EAAM,WAAW,QAAQ,KAAU,GAAuB,kBAAe,kBAAmB,CAAQ,EACpG,GAAM,GAAe,GAAsB,kBAAe,kBAAmB,EAAU,CAAS,EAEhG,EAAa,WAAW,QAAQ,KAAU,GAAuB,kBAAe,yBAA0B,CAAQ,EAClH,GAAM,GAAe,GAAmB,EAAO,EAAU,EAAW,CAAU,EAC9E,MAAO,CAAE,QAAO,cAAa,CACjC,CAnBS,oBA6BT,YACI,EACA,EACA,EACA,EACA,EAA0B,EAAsB,WAC0B,CAC1E,AAAI,GACA,GAAS,WAAW,GAAY,CAC5B,KAAM,GAAuB,kBAAe,uBAAwB,CAAQ,CAChF,GAEJ,GAAM,GAAe,GAAsB,kBAAe,uBAAwB,EAAU,CAAS,EACrG,GAAoC,EAAsB,EAAc,CAAQ,EAEhF,EAAa,aAAU,gBAAkB,GAAuB,CAAK,EACrE,EAAa,WAAW,MAAM,KAAU,GAAuB,kBAAe,gBAAiB,CAAQ,EACvG,GAAM,CAAE,QAAO,gBAAiB,GAC3B,EAAsB,QAAU,EACjC,EACA,EACA,CACJ,EACA,MAAO,CAAE,eAAc,QAAO,cAAa,CAC/C,CAxBS,2BAmCT,YACI,EACA,EACA,EACA,EACA,EACA,EACF,CACE,GAAI,GAAa,EAAkB,EAC7B,EAAkB,EAAM,OAA+B,eACvD,EAAU,EAAS,YAAY,IAAI,EAAI,EAAI,EAAS,MAAM,EAAG,EAAS,YAAY,IAAI,CAAC,EAAI,OAkBjG,GAjBI,WAAiB,IACjB,CAAI,EAAe,GAAG,QAClB,GAAc,EAAe,GAAG,QAChC,EAAmB,IAAI,EAAY,mBAAmB,MAAM,GAAG,EAAE,GAAG,MAAM,GAAG,EAAE,KAC/E,EAAS,GAET,GAAc,EAAe,GAC7B,EACI,IACA,GAAa,GAAG,EAAY,aAAa,MAAM,GAAG,EAAE,GAAG,MAAM,GAAG,EAAE,KAAM,EAAmB,UAAU,EAKzG,EAAS,AADU,AAHI,EAAmB,UAAU,WAAW,qBAAqB,KAAK,AAAC,GAC/E,EAAK,OAAS,CACxB,EACiC,WACd,YAAY,GAAG,EAAiB,MAAM,kBAAe,EAAE,MAG/E,EAAa,CACb,GAAM,GAAoB,EAAiB,MAAM,kBAAe,EAAE,GAC5D,EAAY,EAAM,OAAO,aAAU,oBAAoB,MAAM,GAAG,EAAE,GAClE,EAAuB,EAAU,GAAG,MAAY,IAAqB,EAE3E,GAAI,EAAkB,WAAW,iBAAc,KAAK,EAAG,CACnD,EAAS,WAAW,GAAG,KAAY,MAAuB,CACtD,KAAM,GAAuB,kBAAe,uBAAwB,CAAoB,CAC5F,EACA,GAAM,CAAE,eAAc,SAAU,GAC5B,EACA,EACA,EACA,OACA,EAAM,UACV,EACA,EAAa,aAAU,gBAAkB,EAAM,eAC/C,GAAoC,EAAO,EAAc,CAAQ,EACjE,EAAM,aAAU,gBAAkB,IAAI,KAAa,IACnD,EAAM,aAAU,QAAU,CAC9B,SAAW,EAAkB,WAAW,iBAAc,QAAQ,EAAG,CAC7D,EAAS,WAAW,GAAG,KAAY,MAAuB,CACtD,KAAM,GAAuB,kBAAe,yBAA0B,CAAoB,CAC9F,EACA,GAAM,CAAE,eAAc,SAAU,GAC5B,EACA,EACA,EACA,CAAE,SAAQ,WAAY,EAAM,UAAW,EACvC,EACA,CACJ,EACA,EAAa,aAAU,gBAAkB,EAAM,eAC/C,GAAoC,EAAO,EAAc,CAAQ,EACjE,MAAO,GAAa,aAAU,YAC9B,EAAM,aAAU,gBAAkB,IAAI,KAAa,IACnD,EAAM,aAAU,QAAU,CAC9B,CACJ,CACJ,CAnES,yCA+ET,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACF,CACE,GAAM,GAAmB,EAAS,WAAW,GAAY,GAAqB,EAAW,EAAO,CAAQ,EACxG,EAAgB,WAAa,CACzB,YAAa,CACT,qBAAsB,GACtB,KAAM,SACN,WAAY,CAAC,EACb,YAAa,aACjB,CACJ,EACA,GAAM,GAAc,EAAgB,WAAW,YAC/C,EAAY,aAAU,gBAAkB,EAAM,eAC9C,EAAY,aAAU,QAAU,EAAM,UACtC,EAAY,aAAU,MAAQ,CAC1B,CACI,KAAM,iBAAc,GACpB,MAAO,EAAM,EACjB,CACJ,EACA,EAAY,aAAU,YAAc,GACpC,OAAW,KAAO,GAAM,OACpB,GAAW,EAAoB,EAAM,OAAQ,EAAK,EAA2B,EAAW,EAAe,CAAM,CAErH,CA/BS,yBA2CT,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACI,CACJ,GAAM,GAAqB,EAAO,GAC5B,EAAqB,aAAa,IAAgB,EAAM,QAAQ,GAAoB,CAAQ,KAClG,OAAQ,EAAM,UACL,cAAU,oBAAqB,CAChC,GAAiC,EAAO,EAAU,EAAW,EAAU,EAAoB,CAAM,EACjG,KACJ,KACK,cAAU,gBAAiB,CAC5B,GAAiB,EAAO,EAAU,EAAW,EAAU,EAAe,EAAoB,CAAM,EAChG,KACJ,KACK,cAAU,SAAU,CACrB,GAAI,IAAkB,eAAY,QAAS,CACvC,GAAM,GAAgB,EAAO,GAC7B,GAAmB,EAAO,EAAU,EAAW,EAAe,EAAoB,EAAQ,CAAQ,CACtG,CACA,KACJ,KACK,cAAU,SACV,cAAU,eAAgB,CAC3B,GACI,EACA,EACA,EACA,EACA,EACA,EACA,EAAmB,MACvB,EACA,KACJ,KACK,cAAU,UAAW,CACtB,GAAkB,EAAO,EAAU,EAAU,EAAW,CAAkB,EAC1E,KACJ,KACK,cAAU,MAAO,CAClB,AAAI,IAAkB,eAAY,cAC9B,GAAkB,EAAO,EAAU,EAAU,EAAW,CAAkB,EACnE,IAAkB,eAAY,SACrC,GAAmB,EAAO,EAAU,EAAW,CAAQ,EAE3D,KACJ,KACK,cAAU,YACV,cAAU,QAAS,CACpB,GAAqB,EAAO,EAAU,EAAU,EAAW,CAAa,EACxE,KACJ,SAEI,EAAS,WAAc,GAAY,GAAqB,EAAW,EAAO,CAAQ,EAG9F,CA7DS,mBAqET,YACI,EACA,EACA,EACI,CAEJ,GAAM,GAAuB,GACzB,EAAmB,UAAU,WAC7B,EAAmB,WACnB,wBAAqB,GACrB,EAAmB,MACvB,EACA,GAAI,CAAC,EAAQ,CACT,MAAO,GAAU,YAAY,kBAAe,uBAC5C,MACJ,CAEA,GAAM,GAAW,EAAU,YAAY,kBAAe,UAEtD,OAAW,KAAY,GACnB,GAAW,EAAoB,EAAQ,EAAU,EAAU,EAAW,eAAY,QAAS,CAAM,EAGrG,AAAI,EAAU,YAAY,kBAAe,iBACrC,GAAS,WAAa,SACf,EAAS,YACR,EAAU,YAAY,kBAAe,gBAA+B,YAGpF,CA7BS,oBAsCT,YACI,EACA,EACA,EACA,EACI,CAEJ,GAAM,GAAuB,GACzB,EACA,EAAmB,WACnB,wBAAqB,GACrB,EAAmB,MACvB,EACM,EAAW,EAAU,YAAY,kBAAe,gBAItD,GAHA,EAAS,WAAa,CAAC,EACvB,EAAS,qBAAuB,GAE5B,EAAC,EAGL,QAAW,KAAY,GACnB,GAAW,EAAoB,EAAQ,EAAU,EAAU,EAAW,eAAY,cAAe,CAAM,EAG3G,MAAO,GAAU,YAAY,kBAAe,6BAC5C,MAAO,GAAU,YAAY,kBAAe,8BAC5C,MAAO,GAAU,YAAY,kBAAe,kCAC5C,MAAO,GAAU,YAAY,kBAAe,gCAC5C,MAAO,GAAU,YAAY,kBAAe,gCAChD,CA7BS,0BAsCT,YACI,EACA,EACA,EACA,EACI,CACJ,OAAO,KAAK,CAAK,EAAE,QAAQ,AAAC,GAAY,CACpC,GACI,EAAM,GAAS,SACf,EAAM,GAAS,QAAQ,UACvB,EAAM,GAAS,QAAQ,SAAS,YAAc,GAC9C,EAAM,GAAS,OAAS,MAAG,2BAC7B,CAEE,GAAM,GAAgC,GAClC,EAAmB,UAAU,WAC7B,EAAmB,WACnB,EAAmB,MACvB,EAEM,EAA0B,EAAM,GACtC,AACI,EAAK,SACL,EAAK,QAAQ,UACb,EAAK,QAAQ,SAAS,SACtB,EAAK,QAAQ,SAAS,QAAQ,MAC9B,EAAK,QAAQ,SAAS,QAAQ,KAAK,UAEnC,OAAO,KAAK,EAAK,QAAQ,SAAS,QAAQ,KAAK,QAAQ,EAAE,QAAQ,SAAU,EAAK,CAE5E,AAAK,EAAc,KAAK,AAAC,GAA0B,EAAQ,MAAQ,CAAG,GAClE,EAAc,KAAK,CACf,MACA,OAAQ,EACZ,CAAC,CAET,CAAC,EAGL,GAAiC,EAAQ,CAAC,kBAAe,+BAA+B,EAAG,EAAe,CACtG,KACA,QACA,KACJ,CAAC,CACL,CACJ,CAAC,CACL,CA9CS,gCAsDT,YACI,EACA,EACA,EACI,CACJ,GAAM,GAAa,EAAmB,UAAU,WAChD,GAAsB,EAAW,CAAU,EAG3C,GAAiB,EAAW,EAAY,EAAmB,WAAY,EAAyB,EAGhG,EAAU,YAAY,kBAAe,gBACjC,aAAU,gBACV,IAAI,EAAW,uBAAuB,qBAAkB,eAC5D,GAAkB,EAAoB,EAAW,EAAY,CAAM,CACvE,CAhBS,kBA2BF,YACH,EACA,EACA,EACM,CA55BV,QA65BI,GAAM,GAAwB,KAAK,MAAM,KAAK,UAAU,CAAa,CAAC,EAGtE,EAAU,WAAW,SAAW,CAC5B,KAAM,GAAG,KAAyB,kBAAe,UACrD,EAEA,GAAM,GAAY,QAAmB,aAAnB,cAA+B,aAA/B,cAA2C,KAAK,AAAC,GAAO,EAAG,WAAW,OAAS,GAYjG,GAXK,GACD,GAAI,EAAmB,OAAQ,CAC3B,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,mBAAoB,CAAE,WAAY,CAAe,CAAC,EACrE,SAAU,CACN,KAAM,eACV,CACJ,CAAC,EAEL,EAAmB,UAAY,EAG3B,CAAC,EAAmB,SAAS,mBAAgB,KAAK,SAClD,CAAC,EAAmB,SAAS,mBAAgB,KAAK,QAAQ,QAE1D,UAAI,EAAmB,OAAQ,CAC3B,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,WAAW,EAC9B,SAAU,CACN,KAAM,eACV,CACJ,CAAC,EACM,EAIX,GAAM,GAAY,EAAU,YAAY,kBAAe,UAAY,CAC/D,KAAM,SACN,WAAY,CAAC,EACb,qBAAsB,GACtB,YAAa,kBAAe,QAChC,EAEA,GADA,EAAS,aAAU,YAAc,GAC7B,EAAW,CACX,GAAM,GAAQ,EAAmB,SAAS,mBAAgB,KAAK,QAC1D,QACL,GAAI,CAAC,EACD,UAAI,EAAmB,OAAQ,CAC3B,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,UAAW,CAAE,MAAO,EAAmB,SAAS,WAAW,EAAM,CAAC,EACrF,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,OAAO,CACnC,CACJ,CAAC,EACM,EAEX,GAAM,GAAS,GAAW,EAAO,MAAG,2BAA4B,EAAW,EAAmB,MAAM,EACpG,GAAI,CAAC,EACD,MAAO,GAIX,GAAU,EAAoB,EAAW,CAAM,EAG/C,EAAS,aAAU,YAAc,GACjC,EAAS,aAAU,gBAAkB,IAAI,EAAU,WAAW,uBAAuB,qBAAkB,SACvG,GAAY,EAAoB,EAAW,CAAM,EAGjD,GAAwB,EAAoB,EAAW,EAAU,KAAM,CAAK,EAG5E,GAAiB,EAAW,EAAoB,wBAAqB,GAAI,EAAyB,CACtG,CAEA,aAAO,GAAU,YAAY,kBAAe,2BAC5C,MAAO,GAAU,YAAY,kBAAe,kBAC5C,MAAO,GAAU,YAAY,kBAAe,iBAC5C,MAAO,GAAU,YAAY,kBAAe,iBAC5C,MAAO,GAAU,YAAY,kBAAe,0BAC5C,MAAO,GAAU,YAAY,kBAAe,wBAC5C,MAAO,GAAU,YAAY,kBAAe,0BAC5C,MAAO,GAAU,YAAY,kBAAe,4BAC5C,MAAO,GAAU,YAAY,kBAAe,uBAC5C,MAAO,GAAU,YAAY,kBAAe,0BAC5C,MAAO,GAAU,YAAY,kBAAe,sCAC5C,MAAO,GAAU,YAAY,kBAAe,uBAC5C,MAAO,GAAU,YAAY,kBAAe,iBAC5C,MAAO,GAAU,YAAY,kBAAe,mBAC5C,MAAO,GAAU,YAAY,kBAAe,yBAC5C,MAAO,GAAU,YAAY,kBAAe,0BAC5C,MAAO,GAAU,YAAY,kBAAe,2BAErC,CACX,CAnGgB,mCC94BT,YACH,EACA,EACM,CACN,MAAO,MAAK,MAAM,KAAK,UAAU,CAAa,CAAC,CACnD,CALgB,kCCPhB,OAAuD,SAehD,YACH,EACA,EACA,EACA,EACA,EACA,EACM,CACN,GAAM,GAAa,GAAwB,EAAa,CAAM,EACxD,EAAkD,CACpD,aAAc,gBAAa,uBAC3B,qBAAsB,wBAAqB,GAC3C,WACA,YACA,aACA,QACJ,EACA,MAAO,IAA2B,EAAoB,EAAe,CAAS,CAClF,CAlBgB,sCAgCT,YACH,EACA,EACA,EACA,EACA,EACA,EACM,CACN,GAAM,GAAa,GAAwB,EAAa,CAAM,EACxD,EAAY,iBAAY,WAAW,KAAK,AAAC,GAAO,EAAG,OAAS,GAC5D,EAAkD,CACpD,eACA,qBAAsB,wBAAqB,GAC3C,WACA,aACA,QACJ,EAEM,EACF,IAAiB,gBAAa,uBAAyB,MAAG,2BAA6B,MAAG,mBAC9F,MAAO,IAA2B,EAAoB,EAAe,EAAW,CAAY,CAChG,CArBgB,sCAkCT,YACH,EACA,EACA,EACA,EACA,EACA,EACM,CACN,GAAM,GAAa,GAAwB,EAAa,CAAM,EACxD,EAAkD,CACpD,eACA,qBAAsB,wBAAqB,GAC3C,WACA,aACA,QACJ,EACA,MAAO,IAA0B,EAAoB,CAAa,CACtE,CAjBgB,qCClFhB,OAAkC,sDAClC,GAA6B,SCH7B,OAA6B,SAEvB,GAAwC,GAAI,KAAsB,CACpE,CAAC,YAAS,WAAY,MAAG,iCAAiC,EAC1D,CAAC,YAAS,WAAY,MAAG,iCAAiC,CAC9D,CAAC,EAQK,GAAgC,GAClC,EACA,IACC,CACD,GAAM,GAAa,CAAC,kBAAmB,gBAAgB,EACvD,OAAW,KAAY,GACnB,AAAI,IAAY,GACZ,EAAO,GAAY,EAAO,GACnB,IAAY,IAEnB,MAAO,GAAO,EAG1B,EAbsC,iCAoBhC,GAA2B,EAAC,GAA4C,CAjC9E,MAkCI,OAAW,CAAC,EAAU,IAAQ,IAC1B,GAAI,EAAY,WAAW,CAAG,EAAG,CAE7B,GAAI,GAAoB,EACxB,MAAI,GAAY,SAAS,GAAG,GAGxB,IAAa,IADF,KAAY,MAAM,GAAG,EAAE,KAAvB,cAA2B,MAAM,MAAM,MAG/C,CACX,CAGR,EAdiC,4BAsB3B,GAA2B,GAAC,EAAmB,IAA0B,CAC3E,GAAI,GAAc,GAClB,OAAW,CAAC,EAAU,IAAQ,IAC1B,AAAI,EAAU,WAAW,CAAQ,GAC7B,GAAc,GAGtB,GAAM,GAAU,EAAU,MAAM,GAAG,EACnC,GAAI,EAAQ,OAAS,EAAG,CACpB,GAAM,GAAS,EAAQ,GACvB,EAAc,GAAG,KAAe,MAAU,GAC9C,CACA,MAAO,EACX,EAbiC,4BAepB,GAAuB,CAChC,SAAU,CACN,KAAM,IAAc,8BAA8B,MAAG,8BACrD,OAAQ,AAAC,GAAqF,CAC1F,GAAM,GAAkC,CAAC,EACzC,GAAI,GAAc,MAAO,IAAe,SACpC,OAAW,KAAe,GAAY,CAClC,GAAM,GAAY,GAAyB,CAAW,EACtD,AAAI,GACA,GAAO,GAAa,CAAC,EACrB,GAA8B,EAAW,GAAc,EAAO,EAAU,EAEhF,CAEJ,MAAO,QAAO,KAAK,CAAM,EAAE,OAAS,EAAS,MACjD,EACA,OAAQ,CACJ,EACA,EACA,IACO,CA1FnB,MA2FY,GAAM,GAAQ,kBAAc,KAAM,GAC5B,EAAmB,qBAAc,WAAd,cAAyB,KAAQ,CAAC,EAE3D,OAAW,KAAa,GAAkB,CACtC,GAAM,GAAc,GAAyB,EAAW,CAAK,EAC7D,AAAK,EAAgB,IACjB,GAAgB,GAAe,CAAC,GAEpC,GAA8B,EAAiB,GAAY,EAAgB,EAAY,CAC3F,CAEA,OAAW,KAAe,GAAiB,CACvC,GAAM,GAAY,GAAyB,CAAW,EACtD,AAAI,GAAa,CAAC,EAAiB,IAC/B,MAAO,GAAgB,EAE/B,CACJ,CACJ,CACJ,EDxGO,GAAM,IAAyB,EAAC,GAC5B,2BAA2B,EAAS,sBADT,0BAIzB,GAAiC,EAAC,GACpC,GAAuB,CAAQ,EAAI,eADA,kCAIjC,GAA6B,EAAC,GAChC,GAAuB,CAAQ,EAAI,kBADJ,8BAI7B,GAA6B,EAAC,GAChC,GAAuB,CAAQ,EAAI,kBADJ,8BAI7B,GAA8B,EAAC,GACjC,GAAuB,CAAQ,EAAI,wBADH,+BAI9B,GAA4B,GAAC,EAAoB,EAAqB,IACxE,GAA4B,CAAQ,EAAI,KAAK,qBAAkB,uBAAuB,IADxD,6BAa5B,GAA8B,GACvC,EACA,EACA,EACA,EACA,IACS,CACT,GAAM,GAAoB,iBAAkB,QAAQ,OAAQ,MAC5D,MAAO,GACD,GAA4B,CAAQ,EAAI,IAAI,kBAC5C,MACV,EAX2C,+BAa9B,GAA4B,GACrC,EACA,EACA,EACA,EACA,IAEI,EACO,GAA4B,EAAU,EAAU,EAAyB,EAAW,CAAgB,EAEpG,GAA4B,CAAQ,EAAI,KAAK,qBAAkB,yBAVrC,6BAc5B,GAAsB,GAC/B,EACA,EACA,EACA,EACA,IAGI,GAA0B,EAAU,EAAU,EAAyB,EAAW,CAAgB,EAClG,gBAT2B,uBAatB,GAAwB,GACjC,EACA,EACA,EACA,EACA,IACS,CACT,GAAM,GAAoB,EAAiB,QAAQ,OAAQ,IAAI,EAC/D,MAAO,IAA4B,CAAQ,EAAI,IAAI,aAA6B,GACpF,EATqC,yBAWxB,GAAsB,GAC/B,EACA,EACA,EACA,EACA,IAEI,EACO,GAAsB,EAAU,EAAU,EAAyB,EAAW,CAAgB,EAE9F,GAA4B,CAAQ,EAAI,KAAK,qBAAkB,oBAAoB,IAV/D,uBActB,GAAwB,GACjC,EACA,EACA,EACA,EACA,IACS,CACT,GAAM,GAAoB,EAAiB,QAAQ,OAAQ,IAAI,EAC/D,MAAO,IAA4B,CAAQ,EAAI,IAAI,aAA6B,GACpF,EATqC,yBAWxB,GAAsB,GAC/B,EACA,EACA,EACA,EACA,IAEI,EACO,GAAsB,EAAU,EAAU,EAAyB,EAAW,CAAgB,EAE9F,GAA4B,CAAQ,EAAI,KAAK,qBAAkB,oBAAoB,IAV/D,uBActB,GAAsB,GAC/B,EACA,EACA,EACA,IAEO,GAA4B,CAAQ,EAAI,IAAI,aAAqB,IANzC,uBAStB,GAAsB,GAC/B,EACA,EACA,EACA,IAEO,GAA4B,CAAQ,EAAI,IAAI,aAAqB,EAAU,QAAQ,IAAK,IAAI,IANpE,uBAStB,GAAuB,GAChC,EACA,EACA,EACA,IAEO,GAA2B,CAAQ,EAAI,YAAY,EAAU,QAAQ,IAAK,IAAI,IANrD,wBASvB,GAAuB,GAChC,EACA,EACA,EACA,IAEO,GAA2B,CAAQ,EAAI,YAAY,EAAU,QAAQ,IAAK,IAAI,IANrD,wBASvB,GAA4B,GAAC,EAAoB,EAAqB,IACxE,GAA4B,CAAQ,EAAI,IAAI,kBADd,6BAI5B,GAAuB,GAChC,EACA,EACA,EACA,IACS,CACT,GAAI,GAAO,GAAuB,CAAQ,EAAI,0BAA0B,IACxE,MAAI,IACA,IAAQ,IAAM,GAEX,CACX,EAXoC,wBAa7B,QAA2C,CAQlD,EARO,sBAOH,GADA,AAAC,GAAQ,UAAU,GACnB,AAPG,GAOH,wBAGG,YAA4C,CAmDnD,EAnDO,oBAMH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,SACxB,CACJ,CAAC,GACD,AANG,GAMH,qBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,SACxB,CACJ,CAAC,GACD,AAbG,GAaH,2BAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,wBACxB,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAvBG,GAuBH,oCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,SACxB,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAjCG,GAiCH,2BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,wBACxB,CACJ,CAAC,GACD,AAxCG,GAwCH,wBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,IAAc,wBACxB,CACJ,CAAC,GACD,AA/CG,GA+CH,oBAGA,GADA,AAAC,EAAS,EAAoB,GAC9B,AAlDG,GAkDH,oCElPJ,OAQO,SCOA,YACH,EACA,EACA,EACA,EACA,EACA,EACA,EACI,CACJ,GAAI,CAAC,EACD,OAEJ,GAAI,GAAkB,CAAC,EACjB,EAAuB,iBAAY,cACnC,EAA0B,GAAa,EAAU,QAAQ,IAAK,IAAI,EAExE,OAAW,KAAe,GAAU,WAAe,CAC/C,GAAM,GAAW,GAAmB,EAAY,CAAW,EAE3D,GAAI,WAAU,SAAU,CACpB,GAAM,GAAO,EAAS,SAAS,KAAK,CAAC,CAAO,EAAG,EAAU,EAAyB,GAAG,CAAW,EAChG,EAAkB,GAA2B,EAAU,EAAM,EAAW,CAAuB,EAC3F,GAAmB,OAAO,KAAK,CAAe,EAAE,OAAS,GACzD,IAAe,EAAU,EAAiB,EAAa,EAAY,EAAW,CAAW,EACzF,GAA0B,EAAsB,EAAiB,EAAM,CAAM,EAErF,CACJ,CACJ,CA5BgB,iCCfhB,ikECCA,OAA8B,SAmB9B,GAAM,IAA6B,GAAC,EAAkB,IAAgC,CAClF,GAAI,GAAkB,EACtB,OAAW,KAAW,GAAK,MAAM,GAAG,EAChC,AAAK,EAAgB,IACjB,CAAI,IAAY,QACZ,EAAgB,GAAW,CAAC,EAE5B,EAAgB,GAAW,CAAC,GAGpC,EAAkB,EAAgB,GAEtC,MAAO,EACX,EAbmC,8BAuBnC,YACI,EACA,EACA,EACA,EACA,EACA,EACM,CACN,GAAM,GAAY,GAA+B,CAAQ,EACnD,EAAkB,GAA2B,KAAK,MAAM,KAAK,UAAU,CAAQ,CAAC,EAAG,CAAS,EAC9F,EACJ,OAAS,GAAQ,EAAG,EAAQ,EAAgB,OAAQ,IAAS,CACzD,GAAM,GAAO,EAAgB,GAC7B,GAAI,GAAS,GAAK,aAAU,OAAS,kBAAe,MAAU,EAAK,aAAU,OAAS,GAAU,CAC5F,EAAO,GAAG,KAAa,IACvB,KACJ,CACJ,CACA,MAAK,IACD,GAAO,GAAG,QAEP,CACX,CAtBS,sCA+BF,YACH,EACA,EACA,EACA,EACI,CACJ,AAAI,MAAO,GAAgB,cAAoB,UAC3C,GAAgB,aAAkB,CAAC,GAEvC,EAAgB,aAAgB,GAAe,EAAa,EAChE,CAVgB,+BAehB,YACI,EACA,EACA,EACA,EACA,EACA,EACa,CACb,GAAM,GAAoB,KAAK,MAAM,KAAK,UAAU,CAAe,CAAC,EAC9D,EAAW,OAAO,KAAK,CAAe,EAE5C,OAAW,KAAS,GAAU,CAC1B,GAAM,GAAkB,OAAO,CAAK,EAC9B,EAAO,EAAgB,GAC7B,AAAI,IAAgB,EAAK,IACrB,EAAkB,GAAY,EAE9B,AAAI,GAAmB,GAAY,GAAmB,EAClD,EAAkB,KAAK,IAAI,EAAG,EAAkB,CAAS,GAAK,EAE9D,EAAkB,GAAS,CAGvC,CACA,MAAO,EACX,CAzBS,8BAgCF,YAAwB,EAA0B,EAA6B,CAClF,GAAM,GAAc,EAAa,IAC3B,EAAY,EAAkC,UAAU,AAAC,GACpD,kBAAO,OAAW,CAC5B,EACK,EAAW,EAAa,MAC9B,GAAI,EAAW,IAAM,IAAa,EAAU,CACxC,GAAM,GAAY,EAAW,EAAW,GAAK,EACvC,EAAW,KAAK,IAAI,OAAO,CAAQ,EAAG,CAAQ,EAC9C,EAAW,KAAK,IAAI,OAAO,CAAQ,EAAG,CAAQ,EAC9C,EAAoB,GACtB,EACA,EACA,EACA,EACA,EACA,CACJ,EACA,OAAW,KAAS,QAAO,KAAK,CAAiB,EAC7C,EAAgB,GAAS,EAAkB,EAEnD,CACJ,CAtBgB,uBA+BT,YACH,EACA,EACA,EACA,EACI,CACJ,AACI,CAAC,EAAgB,IACjB,MAAO,GAAa,IAAS,UAC7B,OAAO,KAAK,EAAa,EAAI,EAAE,QAG/B,GAAa,GAAO,CAAC,EAE7B,CAdgB,8BAuBT,YACH,EACA,EACA,EACA,EACI,CACJ,AAAI,OAAO,GAAgB,iBAAuB,WAAa,CAAC,EAAgB,kBAC5E,GAAgB,gBAAqB,CAAC,GAE1C,EAAgB,gBAAmB,GAAe,EAAa,EACnE,CAVgB,sCAiBT,YAAgC,EAA0B,EAA2B,CACxF,AACI,MAAO,GAAgB,cAAoB,UAC3C,EAAgB,aAAgB,KAAiB,OAEjD,MAAO,GAAgB,aAAgB,GAChC,MAAO,GAAgB,cAAoB,UAAY,EAAgB,eAAoB,QAClG,MAAO,GAAgB,YAE/B,CATgB,+BAkBT,YACH,EACA,EACA,EACA,EACI,CACJ,AACI,MAAO,GAAgB,iBAAuB,UAC9C,EAAgB,gBAAmB,KAAiB,OAEpD,OAAO,GAAgB,gBAAmB,GACtC,OAAO,KAAK,EAAgB,eAAkB,EAAE,SAAW,GAC3D,MAAO,GAAgB,iBAG3B,MAAO,GAAgB,iBAAuB,UAC9C,EAAgB,kBAAuB,QAEvC,MAAO,GAAgB,eAE/B,CApBgB,sCA6BhB,YACI,EACA,EACA,EACA,EACA,EACA,EACI,CACJ,GAAI,GACJ,GAAI,CAAC,GAAgB,OAAO,KAAK,CAAY,EAAE,SAAW,EAAG,CACzD,GAAM,GAAkB,EACxB,OAAO,KAAK,CAAe,EAAE,QAAQ,AAAC,GAAU,CAC5C,AAAI,EAAgB,IAAU,EAAgB,GAAO,MAAQ,GACzD,GAAgB,OAAO,CAAK,GAAK,CAAC,EAClC,EAAmB,EAE3B,CAAC,CACL,CACA,GAAI,EAAkB,CAClB,GAAM,GAAgB,EAAO,MAAS,MACtC,OAAW,KAAO,GACd,AAAI,EAAc,GAAK,MAAQ,GAC3B,EAAc,GAAK,OAG/B,CACJ,CA1BS,mBA+BT,aAA6B,CAE7B,CAFS,oBAWF,YACH,EACA,EACA,EACA,EACI,CACJ,AAAI,MAAO,GAAgB,cAAoB,SAC3C,EAAgB,aAAgB,GAAe,EAAa,GACrD,MAAO,GAAgB,cAAoB,UAElD,GAAgB,aAAkB,CAC9B,KAAM,EAAa,MAClB,GAAc,EAAa,EAChC,EAER,CAfgB,sCAsBT,YAAuC,EAA0B,EAA2B,CAC/F,AACI,MAAO,GAAgB,cAAoB,UAC3C,EAAgB,aAAgB,KAAiB,QAEjD,MAAO,GAAgB,aAAgB,EAE/C,CAPgB,sCAchB,YAA+B,EAA2C,CACtE,GAAM,GAAa,EAAc,gBACjC,GAAI,MAAO,IAAU,SACjB,MAAO,GACJ,GAAI,MAAO,IAAU,UACxB,MAAO,CACH,OAAQ,EACR,KAAM,EACN,OAAQ,CACZ,CAER,CAXS,8BAkBT,YAA4B,EAA2C,CACnE,GAAM,GAAa,EAAc,aACjC,GAAI,MAAO,IAAU,SACjB,MAAO,GACJ,GAAI,MAAO,IAAU,SACxB,MAAO,CACH,KAAM,CACV,CAER,CATS,2BAmBT,YACI,EACA,EACA,EACA,EACkB,CAClB,GAAM,GAAY,EAAgB,UAAU,AAAC,GAAS,EAAK,MAAW,EAAY,EAAE,EACpF,MAAO,KAAc,GAAK,OAAY,CAC1C,CARS,6BAaF,YAAwD,CA4B/D,EA5BO,0BAaH,GAXA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,CAAC,EAAiB,EAAc,EAAK,IAAsB,CAC/D,GAAuB,EAAiB,EAAc,EAAK,CAAW,CAC1E,EACA,OAAQ,CAAC,EAAiB,EAAe,EAAM,IAAsB,CACjE,GAAuB,EAAiB,CAAW,CACvD,CACJ,CACJ,CAAC,GACD,AAbG,GAaH,oBAcA,GAXA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,CAAC,EAAiB,EAAc,EAAK,IAAsB,CAC/D,GAA8B,EAAiB,EAAc,EAAK,CAAW,CACjF,EACA,OAAQ,CAAC,EAAiB,EAAe,EAAM,IAAsB,CACjE,GAA8B,EAAiB,CAAW,CAC9D,CACJ,CACJ,CAAC,GACD,AA3BG,GA2BH,2BAMG,YAAgE,CA4BvE,EA5BO,8BAaH,GAXA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,CAAC,EAAiB,EAAc,EAAK,IAAsB,CAC/D,GAAuB,EAAiB,EAAc,EAAK,CAAW,CAC1E,EACA,OAAQ,CAAC,EAAiB,EAAe,EAAM,IAAsB,CACjE,GAAuB,EAAiB,CAAW,CACvD,CACJ,CACJ,CAAC,GACD,AAbG,GAaH,oBAcA,GAXA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,CAAC,EAAiB,EAAc,EAAK,IAAsB,CAC/D,GAA8B,EAAiB,EAAc,EAAK,CAAW,CACjF,EACA,OAAQ,CAAC,EAAiB,EAAe,EAAM,IAAsB,CACjE,GAA8B,EAAiB,CAAW,CAC9D,CACJ,CACJ,CAAC,GACD,AA3BG,GA2BH,2BAMG,YAA4D,CA8BnE,EA9BO,4BASH,GAPA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,GACR,OAAQ,EACZ,CACJ,CAAC,GACD,AATG,GASH,sBAUA,GAPA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,GACR,OAAQ,EACZ,CACJ,CAAC,GACD,AAnBG,GAmBH,oBAUA,GAPA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,GACR,OAAQ,EACZ,CACJ,CAAC,GACD,AA7BG,GA6BH,sBAGG,YAAoE,CA8B3E,EA9BO,gCASH,GAPA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,GACR,OAAQ,EACZ,CACJ,CAAC,GACD,AATG,GASH,sBAUA,GAPA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,GACR,OAAQ,EACZ,CACJ,CAAC,GACD,AAnBG,GAmBH,oBAUA,GAPA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,GACR,OAAQ,EACZ,CACJ,CAAC,GACD,AA7BG,GA6BH,sBAMG,YAAoE,CAwB3E,EAxBO,gCAOH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,GACD,AAPG,GAOH,qBAQA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,GACD,AAfG,GAeH,8BAQA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,GACD,AAvBG,GAuBH,0BAMG,YAAgD,CAsGvD,EAtGO,sBAUH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAVG,GAUH,oBAYA,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,EACZ,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAtBG,GAsBH,4BAaA,GAVA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,GACR,OAAQ,EACZ,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAnCG,GAmCH,+BAWA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA9CG,GA8CH,6BAWA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAzDG,GAyDH,yBAWA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AApEG,GAoEH,8BAWA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA/EG,GA+EH,4BAWA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA1FG,GA0FH,qCAWA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AArGG,GAqGH,oCAMG,YAA0C,CAYjD,EAZO,iBAQH,GANA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAsB,GAAuB,CAAS,EAAI,2BACjE,OAAQ,EACZ,CACJ,CAAC,GACD,AARG,GAQH,8BAMG,YAA0D,CAsCjE,EAtCO,2BAQH,GANA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,EACZ,CACJ,CAAC,GACD,AARG,GAQH,mBAYA,GAVA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,GACR,OAAQ,CAAC,EAAiB,IAAuB,CAC7C,GAAe,EAAiB,CAAY,CAChD,EACA,OAAQ,EACZ,CACJ,CAAC,GACD,AApBG,GAoBH,qBASA,GANA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,EACZ,CACJ,CAAC,GACD,AA7BG,GA6BH,8BAQA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,GACD,AArCG,GAqCH,yBAMG,oBAAgC,GAA+C,CAqGtF,EArGO,0BAUH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAVG,GAUH,oBAYA,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,EACZ,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAtBG,GAsBH,4BAYA,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,EACZ,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAlCG,GAkCH,+BAWA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA7CG,GA6CH,6BAWA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAxDG,GAwDH,yBAWA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAnEG,GAmEH,8BAWA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA9EG,GA8EH,4BAWA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAzFG,GAyFH,qCAWA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AApGG,GAoGH,oCAGJ,YAAiC,EAAe,CAC5C,MAAO,GACX,CAFS,6BAOF,oBAAuB,GAA6C,CAuB3E,EAvBO,iBAQH,GANA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAsB,GAAuB,CAAS,EAAI,6BACjE,OAAQ,EACZ,CACJ,CAAC,GACD,AARG,GAQH,8BAWA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAgC,GAAuB,CAAS,CAC3E,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAnBG,GAmBH,2BASG,oBAA0B,GAA6C,CAW9E,EAXO,oBAUH,GANA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,EACA,SAAU,EACd,CAAC,GACD,AAVG,GAUH,uBAMG,oBAA0B,IAAqB,EAAkB,CAAE,CA2B1E,EA3BO,oBAOH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,GACD,AAPG,GAOH,2CAQA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,GACD,AAfG,GAeH,yBAQA,GANA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,EACA,SAAU,EACd,CAAC,GACD,AAvBG,GAuBH,uBAMG,YAA0D,CAyCjE,EAzCO,2BAMH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,GACD,AANG,GAMH,mBAYA,GAVA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,GACR,OAAQ,CAAC,EAAiB,IAAuB,CAC7C,GAAe,EAAiB,CAAY,CAChD,EACA,OAAQ,EACZ,CACJ,CAAC,GACD,AAlBG,GAkBH,qBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,GACD,AAzBG,GAyBH,qBAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,GACD,AAhCG,GAgCH,wBAQA,GANA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,EACA,SAAU,EACd,CAAC,GACD,AAxCG,GAwCH,uBAMG,YAAsD,CAW7D,EAXO,yBAUH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAsB,GAAuB,CAAS,EAAI,QACrE,CACJ,CAAC,GACD,AAVG,GAUH,0BAMG,oBAAoB,GAAkC,CA0B7D,EA1BO,cAQH,GANA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAsB,GAAuB,CAAS,EAAI,6BACjE,OAAQ,EACZ,CACJ,CAAC,GACD,AARG,GAQH,8BAcA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAgC,GAAuB,CAAS,CAC3E,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAtBG,GAsBH,2BC57BG,YAAwF,CA4B/F,EA5BO,0CAaH,GAZA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CACF,EACA,EACA,EACA,EACA,IAEA,GAAoB,EAAU,EAAU,EAAW,EAAW,CAAgB,EAAI,iBAC1F,CACJ,CAAC,GACD,AAbG,GAaH,kCAcA,GAZA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CACF,EACA,EACA,EACA,EACA,IAEA,GAAoB,EAAU,EAAU,EAAW,EAAW,CAAgB,EAAI,iBAC1F,CACJ,CAAC,GACD,AA3BG,GA2BH,gCAMG,YAA4C,CAoBnD,EApBO,oBASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,qBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAnBG,GAmBH,4BAMG,YAAoD,CAoB3D,EApBO,wBASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,qBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAnBG,GAmBH,4BAGG,oBAAgC,GAA4C,CAUnF,EAVO,0BASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,8BAGG,oBAAoC,GAAoD,CAU/F,EAVO,8BASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,8BAMG,YAAsC,CA+B7C,EA/BO,iBAeH,GAdA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CACF,EACA,EACA,EACA,EACA,IACS,GAAoB,EAAU,EAAU,EAAW,EAAW,CAAgB,EAAI,WACnG,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAfG,GAeH,sBAeA,GAdA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CACF,EACA,EACA,EACA,EACA,IACS,GAAoB,EAAU,EAAU,EAAW,EAAW,CAAgB,EAAI,WACnG,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA9BG,GA8BH,yBAMG,YAA8C,CA+BrD,EA/BO,qBAeH,GAdA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CACF,EACA,EACA,EACA,EACA,IACS,GAAsB,EAAU,EAAU,EAAW,EAAW,CAAgB,EAAI,WACrG,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAfG,GAeH,sBAeA,GAdA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CACF,EACA,EACA,EACA,EACA,IACS,GAAsB,EAAU,EAAU,EAAW,EAAW,CAAgB,EAAI,WACrG,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA9BG,GA8BH,yBAMG,YAAwD,CAgE/D,EAhEO,0BASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,wBASA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAlBG,GAkBH,sBASA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA3BG,GA2BH,qBASA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AApCG,GAoCH,wBASA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA7CG,GA6CH,+BASA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAtDG,GAsDH,4BASA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA/DG,GA+DH,0BAMG,YAAgE,CAgEvE,EAhEO,8BASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,wBASA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAlBG,GAkBH,sBASA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA3BG,GA2BH,qBASA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AApCG,GAoCH,wBASA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA7CG,GA6CH,+BASA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAtDG,GAsDH,4BASA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA/DG,GA+DH,0BCxTG,YAAoC,CAE3C,EAFO,gBAIA,YAAoC,CAE3C,EAFO,gBCFA,YAAiG,CA2BxG,EA3BO,mDAaH,GAZA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CACF,EACA,EACA,EACA,EACA,IAEA,GAAoB,EAAU,EAAU,EAAW,EAAW,CAAgB,EAAI,iBAC1F,CACJ,CAAC,GACD,AAbG,GAaH,kCAaA,GAZA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CACF,EACA,EACA,EACA,EACA,IAEA,GAAoB,EAAU,EAAU,EAAW,EAAW,CAAgB,EAAI,iBAC1F,CACJ,CAAC,GACD,AA1BG,GA0BH,gCAGG,YAAgD,CAcvD,EAdO,sBAMH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,GACD,AANG,GAMH,8BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,GACD,AAbG,GAaH,8BAGG,YAAwD,CAO/D,EAPO,0BAMH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,GACD,AANG,GAMH,8BAMG,YAA8D,CA+BrE,EA/BO,6BAeH,GAdA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CACF,EACA,EACA,EACA,EACA,IACS,GAAoB,EAAU,EAAU,EAAW,EAAW,CAAgB,EAAI,WACnG,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAfG,GAeH,sBAeA,GAdA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CACF,EACA,EACA,EACA,EACA,IACS,GAAoB,EAAU,EAAU,EAAW,EAAW,CAAgB,EAAI,WACnG,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA9BG,GA8BH,yBAGG,YAAwD,CA8D/D,EA9DO,0BASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,oBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAnBG,GAmBH,wBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA7BG,GA6BH,qBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAvCG,GAuCH,iCAWA,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,EACA,SAAU,EACd,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAlDG,GAkDH,uBAWA,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,EACA,SAAU,EACd,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA7DG,GA6DH,uBAMG,YAAsE,CA+B7E,EA/BO,iCAeH,GAdA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CACF,EACA,EACA,EACA,EACA,IACS,GAAsB,EAAU,EAAU,EAAW,EAAW,CAAgB,EAAI,WACrG,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAfG,GAeH,sBAeA,GAdA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CACF,EACA,EACA,EACA,EACA,IACS,GAAsB,EAAU,EAAU,EAAW,EAAW,CAAgB,EAAI,WACrG,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA9BG,GA8BH,yBAGG,YAAgE,CA8DvE,EA9DO,8BASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,oBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAnBG,GAmBH,wBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA7BG,GA6BH,qBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAvCG,GAuCH,iCAWA,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,EACA,SAAU,EACd,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAlDG,GAkDH,uBAWA,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,EACA,SAAU,EACd,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA7DG,GA6DH,uBC3PG,YAAoE,CAO3E,EAPO,gCAMH,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,GACD,AANG,GAMH,8BAMG,YAAkE,CAqBzE,EArBO,+BAUH,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAoB,EAAoB,EAAmB,IAC9D,GAAoB,EAAU,EAAU,EAAW,CAAS,EAAI,WACxE,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAVG,GAUH,sBAUA,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAoB,EAAoB,EAAmB,IAC9D,GAAoB,EAAU,EAAU,EAAW,CAAS,EAAI,WACxE,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AApBG,GAoBH,yBAGG,YAA4D,CA8DnE,EA9DO,4BASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,oBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAnBG,GAmBH,wBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA7BG,GA6BH,qBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAvCG,GAuCH,iCAWA,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,EACA,SAAU,EACd,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAlDG,GAkDH,uBAWA,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,EACA,SAAU,EACd,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA7DG,GA6DH,uBChGG,YAA4F,CAgBnG,EAhBO,8CAOH,GANA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAoB,EAAoB,EAAmB,IAC9D,GAAoB,EAAU,EAAU,EAAW,CAAS,EAAI,iBACxE,CACJ,CAAC,GACD,AAPG,GAOH,kCAQA,GANA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAoB,EAAoB,EAAmB,IAC9D,GAAoB,EAAU,EAAU,EAAW,CAAS,EAAI,iBACxE,CACJ,CAAC,GACD,AAfG,GAeH,gCAGG,YAA0C,CAUjD,EAVO,mBASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,8BAGG,YAAgE,CAEvE,EAFO,8BAIA,YAAkD,CAEzD,EAFO,uBCjCA,YAA0D,CAoDjE,EApDO,2BASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,oBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAnBG,GAmBH,wBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA7BG,GA6BH,qBAWA,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,EACA,SAAU,EACd,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAxCG,GAwCH,uBAWA,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,EACA,SAAU,EACd,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAnDG,GAmDH,uBCrDG,YAAwC,CAY/C,EAZO,kBAWH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAgC,GAAuB,CAAS,CAC3E,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAXG,GAWH,6BCXG,YAA0F,CAgBjG,EAhBO,4CAOH,GANA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAoB,EAAoB,EAAmB,IAC9D,GAAoB,EAAU,EAAU,EAAW,CAAS,EAAI,iBACxE,CACJ,CAAC,GACD,AAPG,GAOH,kCAQA,GANA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAoB,EAAoB,EAAmB,IAC9D,GAAoB,EAAU,EAAU,EAAW,CAAS,EAAI,iBACxE,CACJ,CAAC,GACD,AAfG,GAeH,gCAGG,YAAgE,CAoBvE,EApBO,8BASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,qBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAnBG,GAmBH,4BAGG,oBAA0C,GAAgE,CAAC,EAA3G,oCAEA,YAA0C,CAqBjD,EArBO,mBAUH,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAoB,EAAoB,EAAmB,IAC9D,GAAoB,EAAU,EAAU,EAAW,CAAS,EAAI,WACxE,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAVG,GAUH,sBAUA,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAoB,EAAoB,EAAmB,IAC9D,GAAoB,EAAU,EAAU,EAAW,CAAS,EAAI,WACxE,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AApBG,GAoBH,yBAEG,YAA4D,CAgEnE,EAhEO,4BASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,wBASA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAlBG,GAkBH,sBASA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA3BG,GA2BH,qBASA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AApCG,GAoCH,wBASA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA7CG,GA6CH,+BASA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAtDG,GAsDH,4BASA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA/DG,GA+DH,0BC/HG,YAAsD,CA0C7D,EA1CO,yBASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAgC,GAAuB,CAAS,CAC3E,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,qCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAgC,GAAuB,CAAS,CAC3E,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAnBG,GAmBH,+BAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA7BG,GA6BH,uBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAvCG,GAuCH,gCCzCG,YAAsD,CAE7D,EAFO,yBCEA,YAA8C,CAWrD,EAXO,qBAUH,GATA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAoB,EAAoB,IAC3C,GAA0B,EAAU,EAAU,CAAS,EAAI,eACnE,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAVG,GAUH,0BAGG,YAAwE,CAoB/E,EApBO,kCASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,uBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAnBG,GAmBH,4BAGG,oBAA0C,GAAoE,CAAC,EAA/G,oCAEA,oBACK,GACmC,CAAC,EAFzC,qCAIA,oBACK,GACuC,CAAC,EAF7C,yCAIA,oBACK,GACqC,CAAC,EAF3C,uCAIA,oBACK,GACqC,CAAC,EAF3C,uCAIA,YAAkD,CAOzD,EAPO,uBCrDA,YAAsD,CAU7D,EAVO,yBASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAgC,GAAuB,CAAS,CAC3E,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,6BCZJ,OAA6B,SAatB,YAA4D,CA4BnE,EA5BO,4BAaH,GAZA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAoB,EAAoB,IAC3C,GAA0B,EAAU,EAAU,CAAS,EAC3D,OAAQ,CAAC,EAAiB,EAAc,EAAK,IAAsB,CAC/D,GAAuB,EAAiB,EAAc,EAAK,CAAW,CAC1E,EACA,OAAQ,CAAC,EAAiB,EAAe,EAAM,IAAsB,CACjE,GAAuB,EAAiB,CAAW,CACvD,CACJ,CACJ,CAAC,GACD,AAbG,GAaH,oBAcA,GAZA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAoB,EAAoB,IAC3C,GAA0B,EAAU,EAAU,CAAS,EAC3D,OAAQ,CAAC,EAAiB,EAAc,EAAK,IAAsB,CAC/D,GAA8B,EAAiB,EAAc,EAAK,CAAW,CACjF,EACA,OAAQ,CAAC,EAAiB,EAAe,EAAM,IAAsB,CACjE,GAA8B,EAAiB,CAAW,CAC9D,CACJ,CACJ,CAAC,GACD,AA3BG,GA2BH,2BAGG,YAAgE,CA8BvE,EA9BO,8BASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAoB,EAAoB,IAC3C,GAA0B,EAAU,EAAU,CAAS,EAC3D,OAAQ,GACR,OAAQ,EACZ,CACJ,CAAC,GACD,AATG,GASH,sBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAoB,EAAoB,IAC3C,GAA0B,EAAU,EAAU,CAAS,EAC3D,OAAQ,GACR,OAAQ,EACZ,CACJ,CAAC,GACD,AAnBG,GAmBH,oBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAoB,EAAoB,IAC3C,GAA0B,EAAU,EAAU,CAAS,EAC3D,OAAQ,GACR,OAAQ,EACZ,CACJ,CAAC,GACD,AA7BG,GA6BH,sBAGG,YAAsE,CAwB7E,EAxBO,kCAOH,GANA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAoB,EAAoB,IAC3C,GAA0B,EAAU,EAAU,CAAS,EAAI,eACnE,CACJ,CAAC,GACD,AAPG,GAOH,qBAQA,GANA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAoB,EAAoB,IAC3C,GAA0B,EAAU,EAAU,CAAS,EAAI,eACnE,CACJ,CAAC,GACD,AAfG,GAeH,8BAQA,GANA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAoB,EAAoB,IAC3C,GAA0B,EAAU,EAAU,CAAS,EAAI,eACnE,CACJ,CAAC,GACD,AAvBG,GAuBH,0BAGG,YAAoD,CAqI3D,EArIO,wBASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,oBAoBA,GAlBA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,AAAC,GAA8C,CACnD,GAAM,GAAa,EAAc,aACjC,GAAI,MAAO,IAAU,SACjB,MAAO,GACJ,GAAI,MAAO,IAAU,SACxB,MAAO,CACH,KAAM,CACV,CAER,CACJ,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA7BG,GA6BH,4BAuBA,GArBA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,AAAC,GAA8C,CACnD,GAAM,GAAa,EAAc,gBACjC,GAAI,MAAO,IAAU,SACjB,MAAO,GACJ,GAAI,MAAO,IAAU,UACxB,MAAO,CACH,OAAQ,EACR,KAAM,EACN,OAAQ,CACZ,CAER,EACA,OAAQ,EACZ,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AApDG,GAoDH,+BAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA9DG,GA8DH,6BAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAxEG,GAwEH,yBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAlFG,GAkFH,8BAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA5FG,GA4FH,4BAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAtGG,GAsGH,qCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAhHG,GAgHH,oCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA1HG,GA0HH,gCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AApIG,GAoIH,2BCzOJ,OAA0C,SAInC,YAAoF,CAwH3F,EAxHO,wCAWH,GAVA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAqB,EAAoB,IAC5C,GAAqB,EAAW,EAAU,EAAW,UAAU,EACnE,IAAK,QACT,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAXG,GAWH,4BAeA,GAbA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,CAAC,EAAiD,IAE/C,EAEX,OAAQ,EACZ,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA1BG,GA0BH,kBAYA,GAVA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAqB,EAAoB,IAC5C,GAAqB,EAAW,EAAU,EAAW,UAAU,EACnE,IAAK,WACT,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAtCG,GAsCH,gCAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAhDG,GAgDH,qBAgCA,GA9BA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,AAAC,GAED,CAAC,EAAS,MAAQ,EAAS,KAAK,WAAW,MAAG,yBAAyB,GAAG,EACnE,MAAG,yBAAyB,IAEhC,GAEX,OAAQ,CAAC,EAAgD,IAAkD,CAEvG,GAAI,GAAO,GACX,AAAI,QAAU,IACV,IAAQ,EAAO,MAEf,aAAe,IACf,CAAI,EAAO,YAAc,yBACrB,GAAQ,WAER,GAAQ,EAAO,WAGvB,EAAS,KAAO,CACpB,CACJ,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAhFG,GAgFH,oBAwBA,GAtBA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,AAAC,GAGD,CAAC,EAAS,MAAQ,EAAS,KAAK,WAAW,MAAG,yBAAyB,GAAG,EACtE,CAAC,EAAS,MAAQ,EAAS,OAAS,cAC7B,yBAEC,EAAS,KAAgB,MAAM,MAAG,yBAAyB,IAAI,MAAM,EAI9E,EAAS,KAEpB,OAAQ,EACZ,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAxGG,GAwGH,yBAeA,GAbA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,GACN,OAAQ,AAAC,GAEE,EAAgB,MAAQ,EAAgB,SAEnD,IAAK,UACT,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAvHG,GAuHH,4BCxHG,YAA8F,CAgBrG,EAhBO,gDAOH,GANA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAoB,EAAoB,EAAmB,IAC9D,GAAqB,EAAU,EAAU,EAAW,CAAS,EAAI,iBACzE,CACJ,CAAC,GACD,AAPG,GAOH,kCAQA,GANA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAoB,EAAoB,EAAmB,IAC9D,GAAqB,EAAU,EAAU,EAAW,CAAS,EAAI,iBACzE,CACJ,CAAC,GACD,AAfG,GAeH,gCAGG,YAAkD,CAUzD,EAVO,uBASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,8BC3BG,YAA8F,CAgBrG,EAhBO,gDAOH,GANA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAoB,EAAoB,EAAmB,IAC9D,GAAqB,EAAU,EAAU,EAAW,CAAS,EAAI,iBACzE,CACJ,CAAC,GACD,AAPG,GAOH,kCAQA,GANA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,CAAC,EAAoB,EAAoB,EAAmB,IAC9D,GAAqB,EAAU,EAAU,EAAW,CAAS,EAAI,iBACzE,CACJ,CAAC,GACD,AAfG,GAeH,gCAGG,YAAkD,CAUzD,EAVO,uBASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,EACV,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AATG,GASH,8BC/BJ,4ECSA,YAA2B,EAA+B,CAT1D,YAUI,AAAI,UAAgB,QAAhB,cAA2B,KAA3B,cAA+B,UAAW,SAAgB,QAAhB,cAA2B,KAA3B,cAA+B,aACzE,OAAO,KAAK,CAAe,EAAE,QAAQ,AAAC,GAAQ,MAAO,GAAgB,EAAI,CAEjF,CAJS,0BAST,aAA6B,CAE7B,CAFS,oBAOT,aAA6B,CAE7B,CAFS,oBAWF,YAAkD,CA6CzD,EA7CO,mBASH,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAsB,GAAuB,CAAS,EAAI,SACjE,OAAQ,GACR,OAAQ,GACR,OAAQ,EACZ,CACJ,CAAC,GACD,AATG,GASH,qBAiBA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAgC,GAAuB,CAAS,CAC3E,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AA1BG,GA0BH,iCAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAsB,GAAuB,CAAS,EAAI,mBACrE,CACJ,CAAC,GACD,AAjCG,GAiCH,2BAOA,GALA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAsB,GAAuB,CAAS,CACjE,CACJ,CAAC,GACD,AAxCG,GAwCH,6CAIA,GADA,AAAC,GAAQ,eAAe,GACxB,AA5CG,GA4CH,yBA5CG,MAJP,AAAC,GAAsB,CACnB,GAAI,2DACJ,OAAQ,0CACZ,CAAC,GACM,ICnCP,OAAmB,SAQZ,YAAkD,CAqBzD,EArBO,mBAEH,GADA,AAAC,GAAQ,QAAQ,GACjB,AAFG,GAEH,sBAGA,GADA,AAAC,GAAQ,QAAQ,GACjB,AALG,GAKH,sBAUA,GARA,AAAC,EAAS,CACN,SAAU,CACN,KAAM,AAAC,GAAgC,GAAuB,CAAS,CAC3E,CACJ,CAAC,EACD,AAAC,GAAS,CACN,MAAO,QACX,CAAC,GACD,AAfG,GAeH,iCAGA,GADA,AAAC,GAAQ,UAAU,GACnB,AAlBG,GAkBH,wBAlBG,MAJP,AAAC,GAAsB,CACnB,GAAI,GAAG,MAAG,0CACV,OAAQ,MAAG,0BACf,CAAC,GACM,ICNA,YAAoB,CAAC,EAArB,sBCCP,OAAyB,SAMnB,GAAc,CAEpB,EAEM,GAAa,CAEnB,EAEM,GAAa,CACf,MAAgB,GAChB,YAAsB,GACtB,4BAAsC,GACtC,kCAA4C,EAChD,EAEM,GAAY,EACb,YAAS,oBAAqB,IAC9B,YAAS,YAAa,IACtB,YAAS,YAAa,EAC3B,EAKO,gBAAwC,GAAqD,CAChG,aAAc,CACV,MAAM,GAAU,GAAO,EAAS,CACpC,CACJ,EAJO,kCxBhBP,OAAkC,sDAYlC,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACF,CACE,GAAM,GAAoB,EAAiB,WAAW,YAChD,EAAc,GAAY,IAAa,IAAI,qBAAkB,WAAa,EAAW,kBAAe,UACpG,EAAY,EAAkB,GACpC,GAAI,EAAW,CACX,EAAO,QAAU,CAAC,EAClB,OAAW,KAAa,GAAU,WAAY,CAE1C,GAAM,GAAqB,AADD,EAAkB,GAA4B,WAAW,GACvC,KAAK,MAAM,EAAsB,EAAE,GAAG,MAAM,GAAG,EAAE,GAC7F,EAAO,QAAQ,GAAa,EAAQ,eAAe,EAAU,CAAkB,EAC/E,GAAM,GAAmB,GAAU,EACnC,GACI,EAAO,QAAQ,GACf,EAAiB,SACjB,EAAkB,GAClB,EACA,CAAC,EAAW,CAAgB,EAC5B,EACA,EAAiB,MACrB,EACA,GAAqB,EAAO,QAAS,CAAS,CAClD,CACA,GAAqB,EAAQ,SAAS,CAC1C,KACI,IAAI,EAAiB,OAAQ,CACzB,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,aAAa,CACpC,CAAC,CAET,CArCS,wBA+CT,YACI,EACA,EACA,EACA,EACA,EACA,EAA+B,kBAAe,UAC9C,EACF,CACE,GAAM,GAAoB,EAAiB,WAAW,YAClD,EAAmB,EACvB,AACI,CAAC,GACD,CAAC,kBAAe,UAAW,GAAG,kBAAe,0BAA0B,EAAE,QAAQ,CAAoB,IAAM,IAE3G,GAAmB,IAAI,qBAAkB,YAAY,EAAqB,MAAM,IAAI,EAAE,IAAI,KAE9F,GAAM,GAAoB,EAAkB,GAAG,kBAAe,WAAW,MACzE,GAAI,MAAO,IAAsB,SAC7B,OAAW,KAAa,GAAkB,WAAY,CAClD,GAAM,GAAmB,EAAkB,WAAW,GACtD,GAAI,MAAO,IAAqB,UAAY,EAAiB,KAAM,CAC/D,GAAM,GAAgB,GAAiB,EAAiB,IAAI,EACtD,EAAqB,EAAc,MAAM,GAAG,EAAE,GACpD,EAAY,QAAQ,QAAQ,GAAa,EAAQ,eAAe,EAAU,CAAkB,EAE5F,GACI,EAAY,QAAQ,QAAQ,GAC5B,EAAiB,SACjB,EAAkB,GAClB,EACA,CAAC,EAAW,CAAgB,CAChC,EACA,GAAqB,EAAY,QAAQ,QAAS,CAAS,CAC/D,CACJ,CAER,CArCS,sBAuCT,YACI,EACA,EACA,EACA,EACA,EACA,EAA+B,kBAAe,UAC9C,EACF,CACE,GAAM,GAAkB,EAAQ,eAAe,EAAU,kBAAe,QAAS,CAC7E,QAAS,CAAC,CACd,CAAC,EACG,EACJ,AAAI,CAAC,GAAU,GAAU,SAAW,GAChC,EAAQ,EAAO,MAEf,EAAQ,EAEZ,EAAM,QAAU,EAEhB,GACI,EAAM,QACN,EAAiB,SACjB,EAAiB,WAAW,YAAY,kBAAe,WACvD,EACA,CAAC,CACL,EACA,GAAc,EAAkB,EAAO,EAAS,EAAU,EAAW,EAAsB,CAAM,EAEjG,GAAqB,EAAM,QAAS,SAAS,EAC7C,GAAqB,EAAO,SAAS,CACzC,CA/BS,wBAuCT,YAAyC,EAA+B,EAAgC,CA3JxG,QA4JI,GAAM,GAAqB,KAAkB,KAAlB,cAAoC,aAAU,gBACnE,EAAqB,KAAkB,KAAlB,cAAmC,mBAC1D,EAAmB,iBAAoB,OAAO,EAAmB,YAAY,GAAG,GACpF,SAAmB,EAAqB,GAAG,KAAsB,IAAqB,EAC/E,CACX,CANS,wCAiBT,YACI,EACA,EACA,EACA,EACA,EACI,CACJ,GAAM,GAAoB,EAAiB,WAAW,YAEtD,EAAO,MAAQ,EAAQ,eAAe,EAAU,kBAAe,QAAQ,EACvE,GAAM,GAAkB,EAAkB,kBAAe,UACnD,EAAsB,EAAgB,aAAU,gBACtD,GAAyB,EAAO,MAAO,EAAiB,SAAU,EAAiB,EAAW,CAC1F,EAAgB,aAAU,KAC1B,iBAAqB,OAAO,EAAoB,YAAY,GAAG,EACnE,CAAC,EACD,EAAO,MAAM,QAAU,EAAQ,eAAe,EAAU,kBAAe,QAAS,CAAE,QAAS,CAAC,CAAE,CAAC,EAC/F,GACI,EAAO,MAAM,QACb,EAAiB,SACjB,EAAkB,kBAAe,kBACjC,EACA,CAAC,CACL,EAEA,GAAM,GAAsB,EAAkB,kBAAe,UAAU,aAAU,gBACjF,GAAI,EAAqB,CACrB,GAAM,GAAkB,EAAkB,kBAAe,UACnD,EAAe,EAAO,MAAQ,EAAQ,eACxC,EACA,kBAAe,QACnB,EACA,GAAgB,EAAkB,EAAQ,EAAS,EAAU,CAAS,EACtE,GAAM,GAAW,EAAoB,OAAO,EAAoB,YAAY,GAAG,CAAC,EAChF,GAAyB,EAAa,EAAiB,SAAU,EAAiB,EAAW,CACzF,EAAgB,aAAU,KAC1B,CACJ,CAAC,EAED,GAAgB,EAAa,EAAkB,EAAS,EAAU,EAAW,OAAW,CAAQ,CACpG,CACJ,CAzCS,uBAgDT,YAAiC,EAAgD,CAC7E,GAAI,GACJ,MAAI,GAAW,QAAQ,kBAAe,WAAW,EAAI,GACjD,EAAW,kBAAe,YACvB,AAAI,EAAW,QAAQ,kBAAe,WAAW,EAAI,GACxD,EAAW,kBAAe,YACnB,IAAe,kBAAe,oBACrC,GAAW,kBAAe,oBAEvB,CACX,CAVS,gCAoBT,YACI,EACA,EACA,EACA,EACA,EACI,CACJ,GAAM,GAAyC,EAAO,MAAmB,MAAQ,EAAQ,eACrF,EACA,kBAAe,gBACnB,EACM,EAAoB,EAAiB,WAAW,YAGtD,GACI,EACA,EAAiB,SACjB,EAAkB,kBAAe,kBACjC,EACA,CAAC,CACL,EACA,GAAM,GAAa,EAAkB,kBAAe,kBAAkB,WAChE,EAAa,OAAO,QAAQ,CAAU,EAAE,KAC1C,CAAC,EAAG,IAAM,EAAE,GAAG,aAAU,eAAiB,EAAE,GAAG,aAAU,cAC7D,EACA,OAAW,KAAW,GAElB,GAAI,EAAQ,GAAG,KAAS,CACpB,GAAM,GAAiB,EAAQ,GAAG,KAAQ,MAAM,EAAsB,EAAE,GAClE,EAAW,GAAwB,CAAc,EACjD,EAAa,EAAgB,EAAQ,IAAM,EAAQ,eAAe,EAAU,CAAQ,EACpF,EAAmB,GAAgC,EAAmB,CAAc,EAQ1F,GAPA,GACI,EACA,EAAiB,SACjB,EAAkB,GAClB,EACA,CAAC,EAAQ,GAAI,CAAgB,CACjC,EACI,IAAa,kBAAe,YAAa,CACzC,GAAM,GAAiB,GAAG,kBAAe,oBAAoB,EAAQ,KACrE,GACI,EACA,EACA,EACA,EACA,EACA,EACA,CACJ,EACA,GACI,EACA,EACA,EACA,EACA,EACA,EACA,CACJ,CACJ,CACA,AAAI,OAAO,KAAK,CAAS,EAAE,SAAW,GAClC,MAAO,GAAgB,EAAQ,GAEvC,CAEJ,GAAqB,EAAO,MAAO,OAAO,CAC9C,CAlES,sBA6EF,YACH,EACA,EACA,EACA,EACA,EACA,EACI,CAeJ,GAbA,GAAyB,EAAQ,EAAiB,SAAU,EAAiB,WAAY,EAAW,CAAC,CAAC,EAGtG,EAAO,UAAY,EAAQ,eAAe,EAAU,kBAAe,SAAS,EAE5E,GACI,EAAO,UACP,EAAiB,SACjB,EAAiB,WAAW,YAAY,kBAAe,WACvD,EACA,CAAC,CACL,EAEI,IAAe,cAAW,WAAY,CACtC,GAAI,GAAiB,kBAAe,MAChC,EAAkB,EAAiB,WAAW,YAAY,GAC1D,EACJ,AAAI,EAAgB,MAEhB,GAAiB,EAAgB,KAAK,MAAM,EAAsB,EAAE,GACpE,EAAkB,EAAiB,WAAW,YAAY,GAC1D,EAAwB,EAAgB,WAAW,QAAuB,KAAK,MAC3E,EACJ,EAAE,IAEN,EAAO,MAAQ,EAAQ,eAAe,EAAU,kBAAe,KAAK,EACpE,GAAM,GAAmB,GACrB,EAAiB,WAAW,YAC5B,CACJ,EACA,GAAyB,EAAO,MAAO,EAAiB,SAAU,EAAiB,EAAW,CAC1F,EACA,CACJ,CAAC,EAED,GAAgB,EAAkB,EAAQ,EAAS,EAAU,EAAW,CAAoB,EAE5F,GACI,EAAO,MACP,EACA,EACA,EACA,EACA,EACA,CACJ,EACA,GAAc,EAAkB,EAAQ,EAAS,EAAU,CAAS,CACxE,KAAO,AAAI,KAAe,cAAW,oBACjC,GAAe,EAAkB,EAAQ,EAAS,EAAU,CAAS,CAE7E,CA3DgB,oBAmET,YACH,EACA,EACiC,CAGjC,GADA,GAAS,EACL,CAAC,EAAiB,WAClB,OAEJ,GAAI,CAAC,EAAiB,SAAS,mBAAgB,MAAQ,CAAC,EAAiB,SAAS,mBAAgB,KAAK,QAAY,CAC/G,GAAI,EAAiB,OAAQ,CACzB,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,WAAW,EAC9B,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,GAAG,CAC/B,CACJ,CAAC,EACD,MACJ,CACA,GAAM,GAAU,EAAiB,SAAS,mBAAgB,KAAK,QAAW,QAC1E,GAAI,CAAC,EAAS,CACV,GAAI,EAAiB,OAAQ,CACzB,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,WAAW,EAC9B,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,GAAG,CAC/B,CACJ,CAAC,EACD,MACJ,CACA,GAAM,GAAU,GAAI,IAEd,EAAS,EAAQ,mBAAmB,cAAW,UAAU,EAE/D,OAAW,KAAO,GAAS,CACvB,GAAM,GAAS,EAAQ,GACjB,EAAW,GAAc,CAAM,EACrC,GAAI,QAAU,IAAW,KAAa,cAAW,YAAc,IAAa,cAAW,oBAAqB,CACxG,GAAY,EAAkB,EAAQ,EAAS,cAAW,WAAY,EAAK,CAAU,EACrF,KACJ,CACJ,CAEA,MAAO,EACX,CA9CgB,+ByB9XhB,OAQO,SACP,GAAqD,sDAgB9C,YAAuB,EAAmB,EAAY,GAAO,EAAyB,CA3B7F,UA4BI,GAAM,GAAK,EAAY,KAAU,MAAM,GAAG,EAAE,KAArB,cAAyB,MAAM,EAAG,IAAM,EAC/D,GAAI,EAAgB,CAChB,GAAM,GAAY,EAAG,MAAM,IAAI,GAAgB,EAC/C,MAAO,GAAG,KAAU,KAAV,cAAc,QAAQ,MAAO,QAAQ,IAAiB,KAAU,KAAV,cAAc,QAAQ,MAAO,MACjG,CAEA,MAAO,GAAG,iBAAW,QAAQ,MAAO,KAAK,QAAQ,MAAO,MAC5D,CARgB,sBAeT,YAAyB,EAAoB,CAChD,MAAO,GAAW,QAAQ,KAAM,IAAI,EAAE,QAAQ,MAAO,IAAI,CAC7D,CAFgB,wBAchB,YACI,EACA,EACA,EACA,EACA,EACA,EACF,CACE,GAAI,EAAgB,QAAY,CAC5B,EAAW,GAAW,MAAM,QAAU,CAAC,EACvC,GAAI,GACE,EAAY,EAAiB,WAAW,YAAY,GAAgB,CAAiB,GAC3F,GAAI,EACA,OAAW,KAAa,GAAU,WAAY,CAE1C,AAAI,AADmB,EAAU,WAAW,GACzB,KAAK,QAAQ,kBAAe,cAAc,EAAI,GAC7D,EAAkB,kBAAe,eAEjC,EAAkB,kBAAe,sBAErC,GAAM,GAAiB,EAAQ,eAAe,cAAW,WAAY,CAAe,EAEpF,GACI,EACA,EAAiB,SACjB,EAAiB,WAAW,YAAY,GACxC,EAAiB,UACjB,CAAC,CAAS,EACV,CACJ,EACI,OAAO,KAAK,CAAc,EAAE,OAAS,GACrC,GAAW,GAAW,MAAM,QAAQ,GAAa,EAEzD,CAER,CACJ,CApCS,iCA8CT,YACI,EACA,EACA,EACA,EACA,EAA4B,EAC9B,CACE,GAAM,GACF,EAAiB,WAAW,YAAY,GAAG,kBAAe,WAAW,GAAgB,CAAiB,MAC1G,GAAI,MAAO,IAAsB,SAC7B,OAAW,KAAa,GAAkB,WAAe,CACrD,GAAM,GAAmB,EAAkB,WAAW,GACtD,GAAI,MAAO,IAAqB,UAAY,EAAiB,KAAM,CAC/D,GAAM,GAAgB,GAAiB,EAAiB,IAAI,EACtD,EAAqB,EAAc,MAAM,GAAG,EAAE,GACpD,EAAW,GAAW,MAAM,QAAQ,QAAQ,GAAa,EAAQ,eAC7D,cAAW,WACX,CACJ,EACA,GACI,EAAW,GAAW,MAAM,QAAQ,QAAQ,GAC5C,EAAiB,SACjB,EAAiB,WAAW,YAAY,GACxC,EAAiB,UACjB,CAAC,EAAU,QAAQ,IAAK,IAAI,CAAC,EAC7B,CACJ,EACI,OAAO,KAAK,EAAW,GAAW,MAAM,QAAQ,QAAQ,EAAU,EAAE,SAAW,GAC/E,MAAO,GAAW,GAAW,MAAM,QAAQ,QAAQ,EAE3D,CACJ,CAER,CAjCS,iCA2CT,YACI,EACA,EACA,EACA,EACA,EACA,EAA4B,EAC9B,CACE,GAAI,EAAgB,QAAY,CAC5B,EAAW,GAAW,KAAK,QAAU,CAAC,EAItC,GAAM,GAAgB,AAHR,EAAiB,WAAW,YACtC,GAAG,kBAAe,yBAAyB,GAAgB,CAAiB,MAEpD,WAAW,KAAK,KAAQ,MAAM,EAAsB,EAAE,GAG5E,EAAmB,AADT,AADH,EAAiB,WAAW,YAAY,GAChC,WAAW,QACC,KAAK,MAAM,EAAsB,EAAE,GAC9D,EAAoB,EAAiB,WAAW,YAAY,GAElE,OAAW,KAAa,GAAkB,WAAe,CACrD,GAAM,GAAmB,EAAkB,WAAW,GAChD,EAAgB,GAAiB,EAAiB,IAAI,EACtD,EAAuB,EAAiB,WAAW,YAAY,GACrE,GACI,EAAqB,iBAAsB,qBAAkB,oBAC7D,EAAqB,cAAgB,gBACvC,CAEE,GAAM,GAAgB,GAAiB,EAAqB,IAAI,GAAK,EAAc,MAAM,GAAG,EAAE,GAC9F,EAAW,GAAW,KAAK,QAAQ,GAAa,EAAQ,eACpD,cAAW,WACX,CACJ,EACA,GACI,EAAW,GAAW,KAAK,QAAQ,GACnC,EAAiB,SACjB,EAAiB,WAAW,YAAY,GACxC,EAAiB,UACjB,CAAC,EAAU,QAAQ,IAAK,IAAI,CAAC,EAC7B,CACJ,EACI,OAAO,KAAK,EAAW,GAAW,KAAK,QAAQ,EAAU,EAAE,SAAW,GACtE,MAAO,GAAW,GAAW,KAAK,QAAQ,EAElD,CACJ,CACJ,CACJ,CA/CS,gCA0DT,YACI,EACA,EACA,EACA,EACA,EACA,EACF,CACE,GAAM,GAAoB,GAAoB,GAAc,EAAW,GAAO,qBAAkB,QAAQ,EAClG,EAAkB,EAAiB,qBAAqB,GAE9D,GAAI,EAAiB,CAEjB,EAAW,GAAa,CAAC,EACzB,EAAW,GAAW,MAAQ,EAAQ,eAAe,cAAW,WAAY,kBAAe,eAAe,EAE1G,GAAM,GAAoB,GAAG,kBAAe,mBACxC,EAAU,GAAgB,CAAO,EAAI,EAAU,QAAQ,IAAK,IAAI,KAEpE,GACI,EAAW,GAAW,MACtB,EAAiB,SACjB,EAAiB,WAAW,YAAY,GACxC,EAAiB,UACjB,CAAC,EACD,CACJ,EAEA,EAAW,GAAW,MAAM,QAAU,EAAQ,eAAe,cAAW,WAAY,kBAAe,QAAS,CACxG,QAAS,CAAC,CACd,CAAC,EACD,GAAyB,EAAkB,EAAW,EAAY,EAAS,CAAiB,EAC5F,GAAyB,EAAkB,EAAiB,EAAY,EAAW,EAAS,CAAiB,CACjH,CACJ,CAlCS,0BA6CT,YACI,EACA,EACA,EACA,EACA,EACF,CACE,GAAM,GAAoB,GAAc,CAAS,EAC3C,EAAkB,EAAiB,qBAAqB,GAC9D,AAAI,GACA,GAAW,GAAa,CAAC,EACzB,EAAW,GAAW,KAAO,EAAQ,eAAe,cAAW,WAAY,kBAAe,eAAgB,CACtG,QAAS,CAAC,CACd,CAAC,EACD,GAAwB,EAAkB,EAAiB,EAAW,EAAY,EAAS,CAAiB,EAEpH,CAhBS,yBA2BT,YACI,EACA,EACA,EACA,EACA,EACI,CAzRR,YA0RI,OAAW,KAAa,GAAmB,CACvC,GAAM,GAA4B,EAAkB,GAChD,EAAkB,EACtB,GACI,EAAU,SAAS,gDAAgD,GACnE,MAAc,OAAd,cAAoB,WAAW,GAAyB,kBAAe,2BACzE,CACE,GAAM,GAAe,EAAc,KAAQ,MAAM,EAAsB,EAAE,GACzE,EAAkB,EAAe,GAAc,EAAc,GAAM,qBAAkB,QAAQ,EAAI,EACjG,GAAkB,EAAkB,EAAkB,EAAY,EAAW,EAAS,CAAe,CACzG,KAAO,AAAI,KAAc,OAAd,QAAoB,WAAW,GAAyB,kBAAe,0BAE9E,GAAkB,EAAkB,EAAkB,EAAY,EAAW,CAAO,EACjF,AAAI,EAAc,YAAc,EAAc,WAAW,YAC5D,GAAW,GAAa,CACpB,YAAa,CAAC,CAClB,EACA,GACI,EACA,EAAc,WAAW,YAAY,WACrC,EACA,EAAW,GAAW,YACtB,CACJ,GAEA,MAAc,OAAd,cAAoB,WAAW,GAAyB,kBAAe,yBACvE,MAAc,OAAd,cAAoB,SAAS,8CAG7B,GAAiB,EAAkB,EAAkB,EAAY,EAAW,CAAO,CAE3F,CACJ,CAvCS,6BAiDT,YACI,EACA,EACA,EACA,EACA,EACI,CA1UR,QA2UI,GAAM,GAAiB,EAAU,YAAY,kBAAe,gBAC5D,GAAI,GAAkB,EAAe,WAAY,CAC7C,EAAiB,OAAO,SAAW,CAAC,EACpC,OAAW,KAAa,GAAe,WAAY,CAC/C,GAAM,GAAuB,KAAe,WAAW,GAAW,OAArC,cAA8C,MAAM,IAAwB,GACnG,EAAoB,EACpB,EAAU,YAAY,GACtB,EAAe,WAAW,GAC1B,EAAa,EAAuB,EAAqB,MAAM,GAAG,EAAE,GAAK,OAE/E,EAAiB,OAAO,SAAS,GAAa,EACxC,EAAQ,eAAe,cAAW,WAAY,CAAU,EACxD,CAAC,EAEP,GACI,EAAiB,OAAO,SAAS,GACjC,EACA,EACA,EACA,CAAC,EACA,oBAAkC,QAAlC,cAAyC,MAAM,qBAAkB,EACtE,CACJ,CACJ,CACJ,CA/BS,yBA2CT,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACI,CACJ,GAAM,GAAU,EAAU,YAAY,GACtC,GAAI,MAAO,IAAY,SAAU,CAC7B,EAAiB,GAAY,QAAU,CAAC,EACxC,OAAW,KAAa,GAAQ,WAAY,CACxC,GAAM,GAAa,EAAQ,WAAW,GACtC,GAAI,MAAO,IAAe,UAAY,EAAW,KAAM,CACnD,GAAM,GAAgB,GAAiB,EAAW,IAAI,EAChD,EAAmB,EAAU,YAAY,GACzC,EAAM,GAAiB,EAAiB,IAAI,EAElD,EAAiB,GAAY,QAAQ,GAAa,EAAQ,eAAe,cAAW,WAAY,CAAG,EACnG,GACI,EAAiB,GAAY,QAAQ,GACrC,EACA,EAAU,YAAY,GACtB,EACA,CAAC,EAAU,QAAQ,IAAK,IAAI,CAAC,CACjC,EACI,OAAO,KAAK,EAAiB,GAAY,QAAQ,EAAU,EAAE,SAAW,GACxE,MAAO,GAAiB,GAAY,QAAQ,EAEpD,CACJ,CACJ,CACJ,CAjCS,gCA0CT,YACI,EACA,EACA,EACqB,CA7ZzB,QA8ZI,GAAM,GAA0C,EAAQ,mBAAmB,cAAW,UAAU,EAE1F,EAAmB,EAAO,SAAW,EAAO,QAAQ,SA0C1D,GAvCA,EAAiB,OAAS,EAAQ,eAAe,cAAW,WAAY,kBAAe,gBAAgB,EACvG,GACI,EAAiB,OACjB,EAAiB,SACjB,EAAiB,WAAW,YAAY,kBAAe,kBACvD,EAAiB,UACjB,CAAC,CACL,EAGA,EAAiB,OAAS,EAAQ,eAAe,cAAW,WAAY,kBAAe,gBAAgB,EACvG,GACI,EAAiB,OACjB,EAAiB,SACjB,EAAiB,WAAW,YAAY,kBAAe,kBACvD,EAAiB,UACjB,CAAC,CACL,EAGA,EAAiB,OAAS,EAAQ,eAAe,cAAW,WAAY,kBAAe,gBAAgB,EACvG,GACI,EAAiB,OACjB,EAAiB,SACjB,EAAiB,WAAW,YAAY,kBAAe,kBACvD,EAAiB,UACjB,CAAC,CACL,EAEA,GACI,EACA,EAAiB,SACjB,EAAiB,WACjB,EAAiB,UACjB,CAAC,CACL,EACK,EAAiB,UAClB,GAAiB,SAAW,CAAC,GAE7B,EAAkB,CAClB,AAAI,EAAiB,sBAAwB,EAAiB,WAAW,YAAY,kBAAe,WAEhG,GAAiB,SAAW,CAAC,EAC7B,GACI,EACA,EAAiB,WAAW,YAAY,kBAAe,UAAU,WACjE,EACA,EAAiB,SACjB,CACJ,GAGJ,GAAM,GAAiB,QAAiB,UAAjB,cAA0B,OAA1B,cAAgC,SACvD,GAAI,EAAgB,CAChB,EAAiB,SAAS,OAAS,CAAC,EACpC,OAAW,KAAa,GAAgB,CACpC,GAAM,GAAU,EAAQ,eACpB,cAAW,WACX,kBAAe,+BACnB,EACA,GACI,EACA,EAAiB,SACjB,EAAiB,WAAW,YAAY,kBAAe,iCACvD,EAAiB,UACjB,CAAC,EACD,CACJ,EACA,EAAiB,SAAS,OAAO,KAAK,CAAO,CACjD,CACJ,CAGA,GACI,EAAiB,WACjB,EACA,EACA,EAAiB,SACjB,EAAiB,SACrB,EACA,GACI,EAAiB,WACjB,EACA,EACA,EAAiB,SACjB,EAAiB,UACjB,kBAAe,cACf,gBAAa,MACjB,EACA,GACI,EAAiB,WACjB,EACA,EACA,EAAiB,SACjB,EAAiB,UACjB,kBAAe,cACf,gBAAa,MACjB,CACJ,CACA,MAAO,EACX,CA9GS,6BAuHF,YACH,EACiC,CAGjC,GADA,GAAS,EACL,CAAC,EAAiB,SAAS,mBAAgB,MAAQ,CAAC,EAAiB,SAAS,mBAAgB,KAAK,QAAY,CAC/G,GAAI,EAAiB,OAAQ,CACzB,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,WAAW,EAC9B,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,GAAG,CAC/B,CACJ,CAAC,EACD,MACJ,CACA,GAAM,GAAU,EAAiB,SAAS,mBAAgB,KAAK,QAAW,QAC1E,GAAI,CAAC,EAAS,CACV,GAAI,EAAiB,OAAQ,CACzB,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,WAAW,EAC9B,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,IAAK,SAAS,CAC1C,CACJ,CAAC,EACD,MACJ,CACA,GAAM,GAAS,EAAQ,EAAiB,WACxC,GAAI,CAAC,EAAQ,CACT,GAAI,EAAiB,OAAQ,CACzB,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,cAAe,CAAE,UAAW,EAAiB,SAAU,CAAC,EAC3E,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,IAAK,SAAS,CAC1C,CACJ,CAAC,EACD,MACJ,CACA,GAAM,GAAU,GAAI,IAGpB,MAAO,IAAqB,EAAkB,EAAQ,CAAO,CACjE,CA5CgB,iCC1gBhB,OAUO,SAmBA,GAAM,IAAsC,CAAC,EAEhD,GAAuB,CAAC,EAU5B,YAAsB,EAA4B,EAAoC,CAClF,GAAM,GAAU,EAAO,OACjB,EAAU,EAAO,OACjB,EAAY,MAAM,QAAQ,CAAO,EACjC,EAAY,MAAM,QAAQ,CAAO,EACvC,MAAI,IAAa,EACN,EAAQ,OAAS,EAAQ,OAEhC,CAAC,GAAa,CAAC,EACR,EAEJ,AAAC,EAAiB,EAAL,EACxB,CAZS,qBAqBT,YAAuB,EAAkC,EAA6B,CAAC,EAAW,CAC9F,GAAI,CAAC,MAAM,QAAQ,CAAM,EACrB,MAAO,GAEX,GAAI,GAA6B,EACjC,OAAW,KAAc,GACrB,EAAc,EAAY,OAAO,AAAC,GAAe,CAAC,EAAW,SAAS,CAAU,CAAC,EAErF,MAAO,GAAY,EACvB,CATS,sBAgBT,YAA8B,EAAsC,CAChE,GAAM,GAAqB,CAAC,EAC5B,EAAS,EAAO,OAAO,EAAE,KAAK,EAAY,EAC1C,GAAM,GAAkB,CAAC,EACzB,OAAW,KAAS,GAAQ,CACxB,GAAM,GAAQ,EAAM,QAAQ,MAAM,GAAG,EAAE,GAAG,MAAM,GAAG,EAC/C,EACJ,AAAI,MAAM,QAAQ,EAAM,MAAM,EAC1B,GAAS,GAAc,EAAM,OAAQ,CAAe,EACpD,EAAgB,KAAK,EAAM,MAAM,GAEjC,EAAS,EAAM,OAEnB,OAAW,KAAQ,GAAO,CACtB,GAAM,GAAO,EAAK,MAAM,GAAG,EAAE,GAC7B,EAAmB,GAAU,EAAmB,GAAU,GAAG,EAAmB,MAAW,IAAS,CACxG,CACJ,CACA,MAAO,EACX,CAnBS,6BA4BT,YACI,EACA,EACA,EACU,CACV,GAAI,GACJ,MAAI,GAAO,KACP,AAAI,EAAO,OAAY,MAAG,2BACtB,EAAW,cAAW,cACnB,AACH,EAAO,KAAQ,SAAS,cAAW,UAAU,GAC7C,EAAO,KAAQ,SAAS,cAAW,kBAAkB,EAErD,EAAW,cAAW,WACnB,AAAI,EAAO,KAAQ,SAAS,cAAW,UAAU,EACpD,EAAW,cAAW,WAEtB,EAAW,cAAW,WAEvB,AAAI,UAAY,GACnB,EAAW,cAAW,WAEtB,IAAI,EAAQ,CACR,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,0BAA2B,CAAE,OAAQ,KAAK,UAAU,CAAM,CAAE,CAAC,EAChF,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,GAAG,mBAAgB,uBAAuB,GAAiB,CACvE,CACJ,CAAC,EACG,EAAO,WAAe,eAAa,YAAc,IACjD,GAAW,cAAW,aAGvB,CACX,CAnCS,0BAgDT,YAAiC,EAA8B,CAC3D,GAAM,GAAW,GACb,EAAO,KAAK,SACZ,EAAO,KAAK,UACZ,EAAO,OAAO,QAAc,EAAO,WAAa,cAAW,YAAc,EAAO,OAAO,EAC3F,EACA,GAAI,CAAC,EACD,OAGJ,GAAM,GACF,OAAO,KAAK,EAAO,OAAO,EAAE,KAAK,AAAC,GAAY,EAAQ,SAAS,CAAQ,CAAC,GACxE,OAAO,KAAK,EAAO,OAAO,EAAE,KAAK,AAAC,GAAY,EAAQ,SAAS,EAAS,MAAM,EAAG,EAAE,CAAC,CAAC,GACrF,OAAO,KAAK,EAAO,OAAO,EAAE,KAAK,AAAC,GAAY,EAAQ,SAAS,EAAO,KAAK,QAAQ,CAAC,EAExF,GAAI,GACA,GAAI,EAAO,KAAK,WAAa,cAAW,WAAY,CAChD,GAAM,GAAiD,CACnD,SAAU,EAAO,SACjB,WAAY,EAAO,QAAQ,GAC3B,UAAW,EAAO,GAClB,OAAQ,EAAO,MACnB,EACA,EAAO,KAAK,OAAS,GAAyB,CAAgB,CAClE,SAAW,EAAO,eAAiB,gBAAa,uBAAwB,CACpE,GAAM,GAAiD,CACnD,SAAU,EAAO,SACjB,WAAY,EAAO,QAAQ,GAC3B,OAAQ,EAAO,MACnB,EACA,EAAO,KAAK,OAAS,GAAuB,EAAkB,cAAW,UAAU,CACvF,SAAW,EAAO,eAAiB,gBAAa,qBAAsB,CAClE,GAAM,GAAyD,CAC3D,SAAU,EAAO,SACjB,WAAY,EAAO,QAAQ,GAC3B,OAAQ,EAAO,MACnB,EACA,EAAO,KAAK,OAAS,GAAuB,EAAkB,cAAW,kBAAkB,CAC/F,EAER,CAxCS,gCA8CT,YAAoC,EAAuC,CACvE,GAAI,EAAO,SACP,GAAI,YAAc,GAAO,QAAQ,SAAU,CACvC,GAAM,GAAY,EAAO,QAAQ,SAAS,SAAS,MAAM,GAAG,EAC5D,GAAqB,KAAK,EAAU,EAAU,OAAS,EAAE,CAC7D,UACO,UAAY,GAAQ,CAG3B,GAAM,GAAY,EAAO,SAAS,MAAM,GAAG,EAC3C,GAAqB,KAAK,EAAU,EAAU,OAAS,EAAE,CAC7D,CACJ,CAZS,mCAoBT,YAA+B,EAAiC,EAAuB,CACnF,GAAI,EAAO,QAAS,CAChB,AAAI,EAAO,QAAQ,SAAS,mBACxB,GAAK,kBAAoB,EAAO,QAAQ,SAAS,mBAErD,EAAK,WAAa,CAAC,EACnB,OAAW,KAAQ,GAAO,QAAQ,SAAS,WAAY,CACnD,GAAM,GAAkB,EAAO,QAAQ,SAAS,WAAW,GAC3D,EAAK,WAAW,GAAQ,EAAgB,MAC5C,CACJ,CACJ,CAXS,8BAmBT,YAAoC,EAAiC,EAAe,EAA4B,CArPhH,QAsPI,GAAI,UAAY,GAEZ,EAAK,KAAO,UACR,GAAI,EAAO,OACX,KAAM,EAAO,UACT,EAAO,UAAY,CAAE,SAAU,EAAO,QAAS,GAC/C,EAAO,UAAY,CAAE,KAAM,EAAO,QAAS,GAC3C,EAAO,MAAQ,CAAE,KAAM,EAAO,IAAK,WAEpC,CAAC,cAAW,WAAY,cAAW,aAAa,EAAE,SAAS,CAAQ,EAAG,CAC7E,GAAM,GACD,SAAiD,UAAjD,cAA0D,WAA1D,cAAoE,WAAY,EAAO,SAC5F,EAAK,KAAO,eACJ,EAAO,IAAM,CAAE,GAAI,EAAO,EAAG,GAC7B,GAAkB,CAAE,KAAM,CAAe,GACzC,EAAO,MAAQ,CAAE,SAAU,EAAO,IAAY,GAC9C,EAAO,UAAe,CAAE,SAAU,EAAO,QAAY,EAEjE,CACJ,CApBS,mCA2BF,YACH,EACA,EACA,EACA,EACQ,CACR,GAAM,GAAkB,CAAC,EACnB,EAA8B,EAAS,mBAAgB,KAAK,QAClE,GAAe,GAAqB,EAAQ,QAAU,CAAC,CAAC,EACxD,OAAW,KAAM,GAAQ,QAAS,CAC9B,GAAM,GAAkC,EAAQ,QAAQ,GAClD,EAAW,GAAkB,EAAQ,EAAQ,CAAE,EAC/C,EAAgB,CAAE,UAAS,EAQjC,GANI,EAAO,SACP,GAAK,UAAY,EAAO,QAAQ,SAAS,WAEzC,EAAO,oBACP,GAAK,mBAAqB,EAAO,oBAEjC,GAAa,IAAO,GAAa,GAAI,QAAQ,GAAG,IAAM,GAAI,CAC1D,GAAM,GAAQ,GAAa,GAAI,MAAM,GAAG,EACxC,EAAK,mBAAqB,EAAM,EAAM,OAAS,EACnD,CAEA,GAA2B,EAAQ,EAAM,CAAQ,EACjD,GAAsB,EAAQ,CAAI,EAClC,GAA2B,CAAM,EAEjC,GAAM,GAAQ,EAAQ,OAAO,KAAK,AAAC,GAAiB,EAAa,OAAS,mBAAmB,EAC7F,AAAI,GAAS,UAAY,IACrB,GAAK,kBAAoB,EAAM,QAEnC,EAAM,GAAM,EAYZ,GAVmD,CAC/C,SACA,WACA,WACA,UACA,SACA,OACA,KACA,cACJ,CAC4C,CAChD,CAEA,MAAO,EACX,CAjDgB,2BAuDT,YAAiB,EAAiD,CACrE,GAAI,GACJ,GAAI,GAAW,EAAQ,QAAU,EAAQ,OAAO,OAAS,EAAG,CACxD,OAAW,KAAS,GAAQ,OAGxB,GAAI,EAAM,QAAQ,WAAW,UAAU,EAAG,CACtC,EAAY,EACZ,KACJ,SAAW,EAAM,QAAQ,QAAQ,GAAG,IAAM,GAAI,CAC1C,EAAY,EACZ,QACJ,CAEJ,MAAI,AACO,IADP,EACqB,EAAU,OAEV,EAAQ,OAAO,GAAG,MAFF,CAI7C,KACI,OAER,CAtBgB,gBA8BT,YAAqB,EAA0C,CAClE,GAAM,GAAS,EAAQ,OACvB,GAAI,EACA,MAAO,gBACC,EAAO,sBAAwB,CAAE,qBAAsB,EAAO,oBAAqB,GACnF,EAAO,UAAY,CAAE,SAAU,EAAO,QAAS,GAC/C,EAAO,UAAY,CAAE,KAAM,EAAO,QAAS,GAC3C,EAAO,MAAQ,CAAE,KAAM,EAAO,IAAK,EAInD,CAXgB,oBAaT,YAAkB,EAAoB,EAAwC,CACjF,GAAM,GAAU,EAAS,mBAAgB,KAAK,QACxC,EAA4B,CAAC,EACnC,GAAI,EACA,OAAW,KAAM,GAAQ,QAAS,CAC9B,GAAM,GAAS,EAAQ,QAAQ,GAC/B,AAAI,EAAO,OAAY,GACnB,GAAM,GAAM,EAEpB,CAEJ,MAAO,EACX,CAZgB,iBAcT,oBAAuC,GAAY,CAC/C,YACH,EACA,EACA,EACA,EACA,EACF,CAEE,GAAM,GAAc,GAAI,IAClB,EAAa,GAAkB,cAAW,WAAW,EACrD,EAAY,EAAQ,EAAW,UACrC,GAAyB,EAAa,EAAU,EAAU,YAAY,YAAa,GAAI,CAAC,CAAC,EACzF,MACI,EACA,EACA,GAAQ,EAAS,mBAAgB,KAAK,OAA6B,EACnE,GAAmB,EAAU,EAAS,EAAc,CAAM,EAC1D,wBAAqB,GACrB,SAAK,GAAY,EAAS,mBAAgB,KAAK,OAA6B,GAAM,GAClF,CACJ,EACA,KAAK,qBAAuB,EAChC,CACJ,EAxBO,wBC5XA,oBAA4B,GAAgB,CACxC,YACH,EACA,EACA,EACA,EACA,EACF,CACE,MAAM,EAAU,EAAS,EAAc,EAAU,CAAM,CAC3D,CACJ,EAVO,sBCAA,oBAAqC,GAAgB,CACjD,YACH,EACA,EACA,EACA,EACA,EACF,CAEE,MAAM,EAAU,EAAS,EAAc,EAAU,CAAM,CAC3D,CACJ,EAXO,+BCJP,OAAyB,cACzB,GAAqB,gBAErB,GAA2B,SAOd,GAAyB,GAClC,EACA,EACA,EAAoB,YACC,CACrB,GAAM,GACF,IAAe,cAAW,YACpB,GAAG,cAAW,cAAc,EAAQ,YAAY,SAChD,GAAG,eACb,GAAI,EAAU,SAAS,MAAM,EACzB,MAAO,YAAK,EAAW,UAAW,EAAS,CAAQ,EAChD,GAAI,EAAU,SAAS,YAAK,gBAAiB,WAAY,eAAe,CAAC,EAC5E,MAAO,YAAK,EAAW,OAAQ,UAAW,EAAS,CAAQ,EACxD,GAAI,EAAU,SAAS,YAAK,MAAO,eAAe,CAAC,EACtD,MAAO,YAAK,EAAW,KAAM,KAAM,OAAQ,UAAW,EAAS,CAAQ,EACpE,GAAI,EAAU,QAAQ,cAAc,EAAI,GAAI,CAC/C,GAAM,GAAa,EAAU,UAAU,EAAG,EAAU,QAAQ,cAAc,EAAI,EAAE,EAChF,MAAO,YAAK,EAAY,OAAQ,mBAAoB,OAAQ,UAAW,EAAS,CAAQ,CAC5F,CAEJ,EApBsC,0BA0BhC,GAAiB,OAAO,IACnB,GAAI,SAAQ,CAAC,EAAS,IAAiB,CAC1C,gBAAS,EAAM,CAAE,SAAU,MAAO,EAAG,CAAC,EAAK,IAAe,CACtD,AAAI,EACA,EAAO,CAAG,EAEV,EAAQ,KAAK,MAAM,CAAI,CAAC,CAEhC,CAAC,CACL,CAAC,EATkB,kBAiBV,GAAmB,QAAO,EAA+B,IAA0C,CAC5G,GAAI,CACA,GAAM,GAAO,GAAuB,EAAS,EAAY,SAAS,EAClE,MAAO,MAAM,IAAe,CAAI,CACpC,OAAS,EAAP,CACE,KAAM,IAAI,OAAM,iCAAiC,eAAwB,gBAAsB,EAAM,SAAS,CAClH,CACJ,EAPgC,oBlFQhC,kBACI,EACA,EACgB,CAChB,GAAM,GAA0B,CAAC,EAC7B,EAAc,CAAC,EAEnB,OADA,EAAc,CAAC,cAAW,WAAW,EAC7B,OACC,iBAAa,2BACb,iBAAa,2BACb,iBAAa,qBACd,EAAY,KAAK,cAAW,WAAY,cAAW,UAAU,EAC7D,UACC,iBAAa,qBACd,EAAY,KAAK,cAAW,mBAAoB,cAAW,UAAU,EACrE,UACC,iBAAa,eACd,EAAY,KAAK,cAAW,YAAY,EACxC,UACC,iBAAa,gBACd,EAAY,KAAK,cAAW,cAAe,cAAW,UAAU,EAChE,cAEA,MAER,OAAW,KAAc,GAAa,CAClC,GAAM,GAAa,GAAkB,CAAU,EAC/C,EAAe,EAAW,UAAY,KAAM,IAAiB,EAAsB,CAAU,CACjG,CACA,MAAO,EACX,CA9Be,0BAqCf,YAA6B,EAAmD,CAC5E,GAAM,GAAqC,CACvC,OAAQ,CAAC,EACT,UAAW,CAAC,CAChB,EACM,EAAiB,iBAAiB,YACxC,GAAI,CAAC,EACD,MAAO,GAEX,GAAM,GAAQ,GAAU,gBAAc,CAAe,EACrD,OAAW,KAAU,GAAgB,CACjC,GAAI,CAAC,EAAO,aAAe,CAAC,EAAO,YAAY,GAC3C,SAEJ,GAAM,CAAE,WAAU,UAAW,EAAO,YAAY,GAChD,AACI,GACA,CAAC,EAAS,WACV,EAAS,KACL,AAAC,GACG,EAAG,QAAU,qBAAkB,WAAa,EAAG,QAAU,qBAAkB,sBACnF,GAEA,EAAoB,UAAU,KAAK,EAAO,IAAI,EAE9C,GAAU,CAAC,EAAO,WAClB,EAAoB,OAAO,KAAK,EAAO,IAAI,CAEnD,CACA,MAAO,EACX,CA9BS,4BAgCF,YAAqC,EAAuB,EAA+C,CAC9G,MAAO,kBAAiB,aAAc,EAAgB,WAAW,KAAK,AAAC,GAAO,EAAG,OAAS,CAAa,CAC3G,CAFgB,oCAUhB,YACI,EACA,EACA,EACI,CAhJR,MAiJI,GAAM,GAAW,GACb,EAAmB,SAAS,mBAAgB,SAAS,MACrD,MAAG,0BACP,EACA,OAAW,KAAQ,GAAU,CACzB,GAAM,GAAgB,EAAS,GAAM,UAC/B,EAAY,GAA4B,EAAe,EAAmB,UAAU,EACpF,EAAiB,oBAAW,aAAX,cAAuB,KACxC,EAAa,GAAkB,cAAW,WAAY,kBAAW,OAAQ,CAAa,EACtF,EAAoB,GAAkB,cAAW,UAAU,EACjE,EAAW,EAAW,UAAY,GAC9B,EACA,EAAe,EAAkB,UACjC,CACJ,CACJ,CACJ,CArBS,oCA6BT,YACI,EACA,EACA,EACI,CA7KR,MA8KI,GAAM,GAAQ,GAAW,EAAmB,SAAU,MAAG,0BAA0B,EACnF,OAAW,KAAQ,GAAO,CACtB,GAAM,GAAgB,EAAM,GAAM,QAAQ,SAAS,UAC7C,EAAY,GAA4B,EAAe,EAAmB,UAAU,EAC1F,AAAK,GACD,GAAI,EAAmB,OAAQ,CAC3B,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,oBAAqB,CAAE,UAAW,CAAc,CAAC,EACpE,SAAU,CACN,KAAM,eACV,CACJ,CAAC,EAEL,GAAM,GAAiB,oBAAW,aAAX,cAAuB,KACxC,EAAa,GAAkB,cAAW,WAAY,kBAAW,OAAQ,CAAa,EACtF,EAAoB,GAAkB,cAAW,UAAU,EACjE,EAAW,EAAW,UAAY,GAC9B,EACA,EAAe,EAAkB,UACjC,CACJ,CACJ,CACJ,CA3BS,oCAoCT,YACI,EACA,EACA,EACA,EACO,CAlNX,QAmNI,GAAM,GAAsB,CAAC,EAC7B,GAAI,IAAiB,gBAAa,wBAA0B,EAAe,CAEvE,GAAM,GAAW,GACb,EAAmB,SAAS,mBAAgB,SAAS,MACrD,MAAG,0BACP,EAEA,OAAW,KAAQ,GAAU,CACzB,GAAM,GAAgB,EAAS,GAAM,UAC/B,EAAY,GAA4B,EAAe,EAAmB,UAAU,EACpF,EAAiB,oBAAW,aAAX,cAAuB,KACxC,EAAa,GAAkB,cAAW,WAAY,kBAAW,OAAQ,CAAa,EACtF,EAAoB,GAAkB,cAAW,UAAU,EACjE,EAAW,EAAW,UAAY,GAC9B,EACA,EAAe,EAAkB,UACjC,CACJ,CACJ,CAEA,GAA4B,EAAoB,EAAgB,CAAU,CAC9E,SAAW,IAAiB,gBAAa,sBAAwB,EAAe,CAE5E,GAAM,GAAW,GAAW,EAAmB,SAAS,mBAAgB,SAAS,MAAO,MAAG,kBAAkB,EAE7G,OAAW,KAAQ,GAAU,CACzB,GAAM,GAAgB,EAAS,GAAM,UAC/B,EAAY,GAA4B,EAAe,EAAmB,UAAU,EACpF,EAAiB,oBAAW,aAAX,cAAuB,KACxC,EAAa,GAAkB,cAAW,mBAAoB,kBAAW,OAAQ,CAAa,EAC9F,EAAoB,GAAkB,cAAW,kBAAkB,EACzE,EAAW,EAAW,UAAY,GAC9B,EACA,EAAe,EAAkB,UACjC,CACJ,CACJ,CAEA,GAA4B,EAAoB,EAAgB,CAAU,CAC9E,SAAW,IAAiB,gBAAa,eAAgB,CAErD,GAAM,GAAa,GAAkB,cAAW,YAAY,EACtD,EAAoB,GAAkB,cAAW,YAAY,EACnE,EAAW,EAAW,UAAY,GAC9B,EAAe,EAAkB,UACjC,EAAmB,QACvB,CACJ,CACA,MAAO,UAAK,GAAmB,EACnC,CAxDS,6BAiET,YACI,EACA,EACA,EACA,EACO,CACP,GAAM,GAAsB,CAAC,EAE7B,GAAI,GACA,GACI,IAAiB,gBAAa,wBAC9B,IAAiB,gBAAa,qBAChC,CAEE,GAAM,GAAU,GAAW,EAAmB,SAAU,MAAG,0BAA0B,EAC/E,EAAW,GAAW,EAAmB,SAAU,MAAG,kBAAkB,EACxE,EAAQ,SAAK,GAAY,GAC/B,OAAW,KAAU,GAAO,CACxB,GAAM,GAAgB,EAAM,GAAQ,QAAQ,SAAS,UAC/C,EAAY,GAA4B,EAAe,EAAmB,UAAU,EACpF,EAAa,GAAkB,cAAW,WAAY,kBAAW,OAAQ,CAAa,EACtF,EAAoB,GAAkB,cAAW,UAAU,EACjE,EAAW,EAAW,UAAY,GAC9B,EACA,EAAe,EAAkB,UACjC,EACA,EAAM,GAAQ,IAClB,CACJ,CAEA,GAA4B,EAAoB,EAAgB,CAAU,CAC9E,SAAW,IAAiB,gBAAa,gBAAiB,CACtD,GAAM,GAAoB,GAAkB,cAAW,aAAa,EACpE,EAAW,EAAkB,UAAY,GACrC,EACA,EAAe,EAAkB,SACrC,EACA,GAA4B,EAAoB,EAAgB,CAAU,CAC9E,EAEJ,MAAO,UAAK,GAAmB,EACnC,CAzCS,6BAiDT,kBACI,EACA,EACA,EACgB,CAChB,GAAM,GAAiB,KAAM,IAAkB,EAAc,EAAmB,oBAAoB,EAEpG,MAAI,GAAmB,uBAAyB,wBAAqB,GAC1D,GAAqB,EAAoB,EAAgB,EAAe,CAAY,EAEpF,GAAqB,EAAoB,EAAgB,EAAe,CAAY,CAEnG,CAZe,2BAyBf,YACI,EACA,EACA,EACA,EACA,EACA,EACM,CACN,GAAI,GACE,EAAgB,CAAC,EAEvB,OAAQ,OACC,iBAAa,2BACb,iBAAa,qBACd,EAAW,GAAI,IAAc,EAAU,EAAM,EAAY,EAAW,CAAM,EAC1E,UACC,iBAAa,yBACb,iBAAa,uBACd,EAAW,GAAI,IAAc,EAAU,EAAY,EAAc,OAAW,CAAM,EAClF,UACC,iBAAa,eACd,EAAW,GAAI,IAAc,EAAU,EAAY,CAAM,EACzD,UACC,iBAAa,gBACd,EAAW,GAAI,IAAuB,EAAU,EAAY,EAAc,OAAW,CAAM,EAC3F,cAEA,MAER,GAAI,EAAU,CACV,GAAM,CAAE,YAAW,eAAgB,EAAS,kBAAkB,EAC9D,OAAW,KAAO,GACd,EAAM,KAAK,CAAE,cAAe,EAAK,YAAa,KAAK,UAAU,EAAU,GAAM,KAAM,CAAC,CAAE,CAAC,EAE3F,OAAW,KAAU,GACjB,EAAM,KAAK,CAAE,cAAe,EAAQ,YAAa,KAAK,UAAU,EAAY,GAAS,KAAM,CAAC,CAAE,CAAC,CAEvG,CACA,MAAO,EACX,CAvCS,sBAyCT,YAAqB,EAAiB,EAA0B,CAC5D,GAAI,GAAgB,CAAC,EACrB,OAAW,KAAc,QAAO,KAAK,CAAM,EAAE,KAAK,EAAG,CACjD,GAAI,GACJ,AAAI,IAAe,cAAW,YAC1B,EAAgB,GAAG,WAAQ,WAAW,YAAS,IAAI,GAAG,YAAY,IAAI,YAAS,IAAI,MAAM,CAAC,IAE1F,EAAgB,GAAG,WAAQ,WAAW,SAE1C,EAAM,KAAK,CAAE,gBAAe,YAAa,KAAK,UAAU,EAAO,GAAa,KAAM,CAAC,CAAE,CAAC,CAC1F,CACA,MAAI,IACA,GAAQ,EAAM,OAAO,CAAO,GAEzB,CACX,CAfS,oBAqBT,kBAA0C,EAAmE,CAEzG,GAAS,EAET,GAAM,GAAuB,GAAuB,EAAwB,QAAQ,EAC9E,EAAU,GAAwB,EAAwB,YAAa,EAAwB,MAAM,EACrG,EAAgB,GAAoB,CAAO,EAC3C,EAAe,GACjB,EAAwB,SACxB,EACA,EAAwB,MAC5B,EACM,EAAkD,CACpD,eACA,SAAU,EAAwB,SAClC,WAAY,EACZ,UAAW,EAAwB,UACnC,uBACA,OAAQ,EAAwB,MACpC,EAEM,EAAa,KAAM,IAAmB,EAAoB,EAAe,CAAY,EAC3F,MAAO,IAAY,CAAU,CACjC,CAvBsB,4BA6BtB,kBAAmD,EAAmE,CAElH,GAAS,EAET,GAAI,GAAsB,CAAC,EACrB,CAAE,WAAU,cAAa,OAAM,YAAW,UAAW,EACrD,EAAuB,GAAuB,CAAQ,EACtD,EAAkB,GAAwB,EAAa,CAAM,EAC7D,EAAe,GAA4B,EAAU,EAAsB,CAAM,EAEjF,EAAkD,CACpD,eACA,SAAU,EAAwB,SAClC,WAAY,EACZ,UAAW,EAAwB,UACnC,uBACA,OAAQ,EAAwB,MACpC,EACM,EAAgB,GAAoB,CAAe,EACnD,EAAa,KAAM,IAAmB,EAAoB,EAAe,CAAY,EAC3F,SAAc,GAAc,EAAU,EAAM,EAAY,EAAc,EAAW,CAAM,EAChF,GAAY,EAAY,CAAW,CAC9C,CAtBsB,qCmFhbtB,OAAuE,SAkBvE,OAAqD,sDACrD,GAAoB,gBACpB,GAAyB,SASzB,YACI,EACA,EACA,EACI,CACJ,AAAI,EAAU,YAAY,kBAAe,YACpC,GAAU,YAAY,kBAAe,WAA0B,WAAW,OAAY,CACnF,KAAM,GAAG,KAAyB,GACtC,GAEJ,EAAU,YAAY,GAA+B,CACjD,KAAM,QACN,MAAO,CACH,KAAM,GAAG,KAAyB,GACtC,EACA,YAAa,gBACjB,EACA,EAAU,YAAY,GAA6B,aAAU,YAAc,GAC3E,GAAM,GAAiB,EAAU,YAAY,GAA2C,WAAW,cACnG,AAAI,GACA,GAAc,aAAU,cAAgB,gBAAa,SAE7D,CAtBS,kCA8BT,YACI,EACA,EACM,CACN,GAAI,GAeJ,MAdA,AAAI,KAAe,+BACf,EAAW,GAA6B,EAAmB,cAAc,EACtE,AAAI,IAAe,4BAAmC,IAAe,0BACxE,EAAW,GACP,GAAG,EAAmB,eAAe,mBAAmB,EAAmB,eAAe,QAC9F,EACG,AACH,IAAe,qBACf,EAAmB,eAAe,QAAU,qBAAkB,mBAE9D,EAAW,GAAW,iCAAiC,EAAmB,eAAe,QAAQ,EAEjG,EAAW,GAAW,EAAmB,eAAe,MAAM,EAE9D,EAAmB,YAAc,EAAmB,aAAe,YAC5D,GAAG,EAAmB,eAAe,IAErC,CAEf,CAxBS,oBAmCF,YACH,EACA,EACA,EACA,EACA,EACI,CACJ,GAAI,GACE,EAAiB,EAAc,aAAe,kBAAe,UAAY,GAAK,aAC9E,EAAW,GAAY,EAAY,CAAa,EAEtD,AAAI,IAAe,gBAAuB,IAAe,0BACrD,GAAsB,SACtB,EAAa,gBACV,AAAI,IAAe,qBAAuB,IAAe,+BAC5D,EAAsB,oBAEtB,GAAsB,IAAmB,GAAK,GAAG,IAAiB,IAAe,SACjF,EAAa,iBAEjB,GAAM,GAAmB,GAAG,IAAiB,KAAc,KACrD,EAAc,GAChB,EAAc,eACd,EAAc,UAClB,EACA,EAAQ,WAAW,GAAY,CAC3B,KAAM,GAAyB,CACnC,EACA,EAAQ,WAAW,GAAU,aAAU,eAAiB,EACxD,GAAM,CAAE,MAAK,MAAO,GAAa,EAAc,eAAe,OAAQ,EAAI,EAC1E,AAAI,EAAU,YAAY,GACtB,GAAU,YAAY,GAAoB,SACnC,KAAK,MAAM,KAAK,UAAU,EAAU,YAAY,EAAoB,CAAC,GADlC,CAEtC,cACA,KAAM,CAAC,CAAE,KAAM,SAAU,MAAO,CAAI,CAAC,EACrC,eAAgB,GAAG,EAAc,gBAAgB,GACrD,GACI,GACA,GAAU,YAAY,GAAkB,aAAU,QAAU,IAGhE,GAAU,YAAY,GAAoB,CACtC,KAAM,SACN,WAAY,CAAC,EACb,cACA,qBAAsB,EAC1B,EACA,EAAU,YAAY,GAAkB,aAAU,YAAc,GAChE,EAAU,YAAY,GAAkB,aAAU,MAAQ,CAAC,CAAE,KAAM,iBAAc,OAAQ,MAAO,CAAI,CAAC,EACjG,GACA,GAAU,YAAY,GAAkB,aAAU,QAAU,GAEhE,EAAU,YAAY,GAClB,aAAU,gBACV,GAAG,EAAc,gBAAgB,IAE7C,CAxDgB,2BAgEhB,YAA6B,EAAoB,EAAgB,EAA6B,CAC1F,AACI,IAAe,kBAAe,WAC9B,EAAe,SAAW,IACzB,GAAe,QAAU,qBAAkB,oBACxC,EAAe,QAAU,qBAAkB,mCAE/C,EAAY,KAAK,6BAAqB,EACnC,AAAI,EAAe,SAAW,IAAQ,EAAe,QAAU,qBAAkB,mBACpF,EAAY,KAAK,mBAAmB,EAEpC,EAAe,SAAW,IAC1B,EAAe,QAAU,qBAAkB,mCAE3C,EAAY,KAAK,8BAA8B,CAEvD,CAhBS,4BAuBT,YAAuB,EAAwC,EAAgD,CAC3G,GAAM,GAA8B,CAAC,EACrC,GACI,IAAe,QAAU,qBAAkB,oBAC3C,EAAe,QAAU,qBAAkB,mCAI/C,MACI,GAAe,SAAW,IAC1B,EAAe,cAAgB,IAC/B,EAAe,QAAU,qBAAkB,mBAE3C,EAAY,KAAK,eAAoB,EAClC,AACH,EAAe,SAAW,IAC1B,EAAe,cAAgB,IAC/B,EAAe,QAAU,qBAAkB,kCAE3C,EAAY,KAAK,0BAA+B,EAC7C,AAAI,EAAe,cAAgB,IAAQ,EAAe,QAAU,qBAAkB,mBACzF,EAAY,KAAK,cAAmB,EAEpC,EAAe,cAAgB,IAC/B,EAAe,QAAU,qBAAkB,mCAE3C,EAAY,KAAK,yBAA8B,EAEnD,GAAoB,EAAY,EAAgB,CAAW,EACpD,CACX,CA9BS,sBAuCT,YAA+B,EAAwC,EAAuB,EAAqB,CAC/G,GAAM,GAAY,GAA6B,EAAmB,cAAc,EAChF,GAAI,EAAW,CACX,GAAM,GAAqB,EAAU,YAAY,EAAmB,YACpE,EAAmB,WAAW,GAAa,CACvC,KAAM,GAAyB,kBAAe,YAC9C,YAAa,GAAwB,EAAmB,eAAgB,EAAmB,UAAU,CAEzG,EACA,EAAmB,WAAW,GAAW,aAAU,eAAiB,EACpE,EAAmB,WAAW,GAC1B,aAAU,gBACV,GAAG,EAAmB,gBAAgB,IAC1C,GACI,EAAmB,WAAW,GAC9B,EAAmB,cACvB,EACA,GAAmB,EAAmB,eAAgB,EAAmB,WAAY,CAAS,CAClG,CACJ,CAnBS,8BAqBT,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACF,CACE,OAAQ,OACC,oBACA,2BAAiC,CAClC,GAAmB,EAAW,EAAS,EAAoB,EAAY,CAAW,EAClF,KACJ,KACK,mBACA,0BAAgC,CACjC,AAAI,GACA,GAAmB,EAAW,EAAe,EAAoB,EAAY,CAAW,EAE5F,KACJ,KACK,wBACA,+BAAgC,CACjC,GACI,EACA,EAAU,YAAY,GACtB,EACA,EACA,CACJ,EACA,KACJ,KACK,8BACD,GAAsB,EAAoB,EAAW,CAAW,EAG5E,CArCS,wBAgDF,YACH,EACA,EACA,EACA,EACA,EACI,CAEJ,EAAa,GAAc,kBAAe,UAE1C,GAAM,CAAE,UAAS,gBAAe,gBAAiB,GAC7C,EACA,EACA,EACA,CACJ,EAEA,GAAI,EAAoB,CACpB,GAAI,GAAc,EAClB,EAAmB,QAAQ,AAAC,GAAmB,CAC3C,GAAM,GAAyC,CAAE,eAAc,iBAAgB,aAAY,YAAW,EAChG,EAAc,GAAc,EAAgB,CAAU,EAC5D,AAAI,EACA,EAAY,QAAQ,AAAC,GAAe,CAChC,GACI,EACA,EACA,EACA,EACA,EACA,EACA,CACJ,CACJ,CAAC,EAED,GAAsB,EAAoB,EAAW,CAAW,EAEpE,GACJ,CAAC,CACL,CACA,AAAI,GACC,GAAU,YAAY,GAA2B,WAAW,OAAY,CACrE,KAAM,GAAG,KAAyB,GACtC,EAER,CA7CgB,yBAqDT,YACH,EACA,EACA,EACI,CAEJ,GAAM,GACF,EAAU,YAAe,IACzB,EAAU,YAAe,GAAgB,YACzC,EAAU,YAAe,GAAgB,WAAc,gBAC3D,GAAI,EAAuB,CACvB,GAAM,GAAa,CAEf,GAAI,kBAAY,mBAAoB,CAAC,EAErC,GAAI,kBAAY,uBAAwB,CAAC,CAC7C,EACA,EAAsB,KAAU,iBAAY,OAAO,CAAC,EAAkB,IAC7D,GAAO,SAAS,EAAS,IAAI,GAC9B,EAAO,KAAK,EAAS,IAAI,EAEtB,GACR,CAAC,EACR,CACJ,CAxBgB,uCAgCT,YAAuB,EAAmB,EAAwB,EAAgC,CACrG,GAAM,GACF,EAAU,YAAe,IACzB,EAAU,YAAe,GAAgB,YACzC,EAAU,YAAe,GAAgB,WAAc,OAC3D,GAAI,EAAM,CACN,GAAM,GACF,EAAK,WACL,EAAK,UAAU,UACf,EAAK,UAAU,SAAS,wBACxB,EAAK,UAAU,SAAS,uBAAuB,SACnD,GAAI,EAAgB,CAChB,GAAM,GAAc,CAAC,EACrB,OAAO,KAAK,CAAc,EAAE,OAAO,CAAC,EAAkB,IAAY,CAC9D,GAAM,GACF,EAAe,IAAY,EAAe,GAAS,MAAW,OACxD,EAAe,GAAS,IACxB,OAEV,MAAI,KAAQ,QAAa,CAAC,EAAO,SAAS,CAAG,GACzC,EAAO,KAAK,CAAG,EAEZ,CACX,EAAG,CAAW,EACd,EAAqB,KAAU,CACnC,CACJ,CACJ,CA3BgB,sBAqCT,YACH,EACA,EACA,EACA,EACA,EACI,CApaR,QAqaI,GAAI,CAAC,GAAa,CAAC,GAAS,EAAM,WAAW,IAAI,EAC7C,OAEJ,GAAM,GAAc,CAAC,EAsBrB,GArBA,EAAU,QAAQ,AAAC,GAAa,CAC5B,GAAI,GAAU,EAAS,cAAc,MAAM,QAAQ,EAAE,GACrD,GAAI,GAAW,EAAQ,QAAQ,eAAe,EAAI,EAAG,CACjD,GAAM,GAAe,KAAK,MAAM,gBAAS,EAAS,YAAa,CAAE,QAAS,EAAK,CAAC,CAAC,EAC7E,2BAEJ,GACK,IAAa,gBACT,EAAC,GAAgB,EAAa,QAAU,EAAa,kBACzD,IAAa,qBACT,EAAC,GACG,CAAC,EAAa,QACX,CAAC,EAAa,iBACd,CAAC,EAAa,wCAC5B,CACE,EAAU,EAAQ,QAAQ,GAAI,QAAO,KAAO,OAAK,GAAG,EAAG,GAAG,EAC1D,GAAM,GAAe,EAAQ,EAAQ,MAAM,eAAe,EAAE,GAAG,QAAQ,MAAO,GAAG,EACjF,EAAY,KAAK,CAAY,CACjC,CACJ,CACJ,CAAC,EACG,EAAY,OAAS,EAAG,CACxB,GAAM,GAAyB,QAAU,YAAY,KAAtB,cAAwC,aAAxC,cAAwD,GACvF,EAAuB,KAAU,CACrC,CACJ,CApCgB,wBAgDT,YACH,EACA,EACA,EACA,EACA,EACA,EAAsC,kBAAe,cACrD,EAAqC,kBAAe,aAChD,CACJ,GAA0B,EAAW,EAA6B,CAA0B,EAG5F,GAA+B,EAAW,EAAY,CAA0B,EAEhF,GAAc,EAAW,EAA4B,CAAI,EAEzD,GAAM,GAAQ,GAAY,EAAS,YAAc,EAAS,WAAW,GACrE,GAAgB,EAAW,EAAW,EAAO,eAAgB,CAA0B,EACvF,GAAgB,EAAW,EAAW,EAAO,oBAAqB,CAA0B,CAChG,CAnBgB,iCA4LT,YAAgC,EAAwB,EAAsC,CACjG,OAAW,KAAS,GAAgB,CAChC,GAAM,GAAQ,EAAO,QAAQ,CAAK,EAClC,AAAI,IAAU,IAEV,EAAO,OAAO,EAAO,CAAC,CAE9B,CACJ,CARgB,+BAgBT,YACH,EACA,EACA,EACI,CACJ,EAAU,YAAY,gBAAkB,SAChC,EAAU,YAAY,iBADU,CAEpC,WAAY,CAAC,EACb,qBAAsB,EAC1B,GACA,GAAM,GAA4B,EAAU,YAAY,gBAMxD,GALA,EAA0B,aAAU,gBAAkB,GAClD,EAAW,mBACX,qBAAkB,eACtB,EAEI,CAAC,EACD,OAEJ,GAAI,GAAI,EACR,EAA0B,QAAQ,AAAC,GAAmB,CAClD,GAAI,GAAc,EAAe,MAC3B,EAAkB,kBAAkB,GAAW,EAAe,KAAK,KACnE,EAAW,GAAkB,CAAc,EACjD,AAAI,EAAe,OAAS,gBACxB,GAAc,GAAwB,EAAgB,CAAU,GAEpE,EAA0B,WAAW,EAAe,OAAS,CACzD,KAAM,GAAyB,CACnC,EACA,EAA0B,WAAW,EAAe,OAAO,aAAU,eAAiB,EACtF,EAAU,YAAY,GAAmB,CACrC,KAAM,SACN,cACA,qBAAsB,EAC1B,EACA,EAAU,YAAY,GAAiB,aAAU,YAAc,GAC/D,EAAU,YAAY,GAAiB,aAAU,gBAAkB,iBAAgB,KACnF,EAAU,YAAY,GAAiB,aAAU,UAAY,EAC7D,EAAU,YAAY,GAAiB,aAAU,MAAQ,CACrD,CAAE,KAAM,iBAAc,MAAO,MAAO,GAAG,EAAe,OAAQ,CAClE,EACA,EAAU,YAAY,GAAiB,aAAU,gBAAkB,GAC/D,EAA0B,aAAU,mBACpC,IAEJ,AAAI,CAAC,OAAQ,WAAY,gBAAgB,EAAE,SAAS,CAAQ,EACxD,EAAU,YAAY,GAAiB,KAAU,GAAG,+BAEpD,EAAU,YAAY,GAAiB,WAAgB,CAAC,EAE5D,GACJ,CAAC,CACL,CArDgB,2BA4DT,YAAmC,EAAyB,EAA8B,CAC7F,OAAW,KAAO,GAAW,iBACzB,EAAc,KAAK,EAAI,IAAI,CAEnC,CAJgB,kC7FvpBhB,YACI,EACA,EACA,EACA,EACF,CACE,EAAc,WAAW,GAAU,aAAU,cAAgB,gBAAa,WAC1E,GAAI,GACJ,OAAQ,OACC,0BACA,8BACA,+BACA,2BACD,EAAc,eAAY,QAC1B,UACC,yBACD,EAAc,eAAY,WAC1B,UACC,6BACD,EAAc,eAAY,MAC1B,UACC,8BACD,EAAc,eAAY,WAC1B,UACC,8BACD,EAAc,eAAY,WAC1B,MAER,AAAI,CAAC,GAGL,IAAmC,EAAW,EAAe,CAAQ,EACrE,EAAc,WAAW,GAAU,aAAU,aAAe,EAChE,CAjCS,gCA0CT,YACI,EACA,EACA,EACA,EAOA,EACG,CACH,MAAO,CAAC,EAAM,IAAU,CACpB,GAAI,CAAC,EAAK,aAAkB,EAAK,QAAU,qBAAkB,mBAAoB,CAC7E,GAAM,CAAE,aAAY,WAAU,aAAc,GAAmB,EAAM,EAAY,CAAe,EAEhG,GAAI,CAAC,EACD,OAEJ,GAAM,GAAc,EAAK,OAAS,EAC5B,EAAsB,gBAAgB,GAAW,CAAQ,KAC/D,EAAU,YAAY,GAAuB,KAAK,MAC9C,KAAK,UAAU,EAAU,YAAY,YAAe,CACxD,EACA,GAAM,GAA0B,EAAiB,mBAAmB,QAChE,IAAI,qBAAkB,iBACtB,KAAK,qBAAkB,gBAC3B,EACA,EAAU,YAAY,GAClB,aAAU,gBACV,IAAI,KAA2B,IAClC,EAAU,YAAY,GAAoC,YAAc,EACzE,EAAU,YAAY,GAAqB,aAAU,MAAQ,CACzD,CAAE,KAAM,iBAAc,OAAQ,MAAO,CAAW,CACpD,EACI,GACA,GAAU,YAAY,GAAqB,aAAU,QAAU,GAGnE,EAAc,WAAW,GAAY,CACjC,KAAM,GAAG,KAAyB,GACtC,CACJ,CACJ,CACJ,CA7CS,kCAsDT,YACI,EACA,EACA,EAOA,EACG,CACH,MAAO,CAAC,EAAM,IAAU,CACpB,GAAI,EAAK,aAAkB,EAAK,QAAU,qBAAkB,mBAAoB,CAE5E,GAAM,GAAW,AADF,GAA6B,CAAI,EACxB,MAAM,IAAI,EAAE,OAAO,CAAC,EAAE,KAAK,IAAI,EACjD,EAAc,GAAwB,EAAM,CAAU,EACtD,EAAsB,GAAW,GAAG,kBAAe,0BAA0B,IAAW,EAE9F,EAAU,YAAY,GAAuB,SACtC,KAAK,MAAM,KAAK,UAAU,EAAU,YAAY,kBAAe,uBAAuB,CAAC,GADjD,CAEzC,cACA,eAAgB,IAAI,KAA2B,GACnD,GAEA,EAAc,WAAW,GAAY,CACjC,KAAM,GAAG,KAAyB,GACtC,CACJ,CACJ,CACJ,CA9BS,kCA4CT,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACM,CACN,GAAI,GAAQ,EAcZ,GAbA,AAAI,EAAM,IAAM,EAAM,MAClB,EAAS,EAAM,GAAK,EAAM,MAAM,QAAQ,OAAQ,EAAE,EAC/C,AAAI,EAAM,GACb,EAAS,EAAM,GACR,EAAM,OACb,GAAS,EAAM,MAAM,QAAQ,OAAQ,EAAE,GAE3C,AAAI,EACA,EAA8B,GAAG,kBAAe,iBAAiB,MAAkB,MAAa,KAEhG,EAA8B,GAAG,kBAAe,iBAAiB,MAAkB,KAGnF,EAAU,YAAY,GAEtB,MAAO,GAGX,GAAM,GAA6B,GAAG,kBAAe,gBAAgB,KAC/D,EAAyB,KAAK,MAAM,KAAK,UAAU,EAAU,YAAY,iBAAoB,CAAC,EACpG,EAAU,YAAY,GAA8B,EAEpD,GAAM,GAAW,CAAC,EACZ,EAAa,iBAAiB,YAAY,KAAK,AAAC,GAAO,EAAG,OAAS,GACnE,EAAS,GAAiB,EAAS,mBAAgB,SAAS,MAAO,EAAe,CAAQ,EAChG,UACI,EACA,EACA,EACA,EACA,EACA,EACA,CACJ,EACO,CACX,CA9CS,2CAuDT,YACI,EACA,EACA,EACA,EACI,CACJ,EAAiB,WAAa,KAAK,MAC/B,KAAK,UAAW,EAAU,YAAY,GAAgC,UAAU,CACpF,EACI,EAAiB,WAAW,SAC5B,GAAwB,EAAW,EAAkB,UAAW,CAAW,CAEnF,CAZS,+BAoBT,YAA6B,EAAsB,EAAa,EAAuB,CACnF,EAAS,WAAW,GAAO,CAAE,KAAM,GAAG,KAAyB,GAAgB,CACnF,CAFS,4BAWT,YAA4B,EAAmB,EAAiB,EAAoB,EAA6B,CAC7G,GAAM,GAAW,GAAW,GAAG,KAAa,IAAU,EACtD,EAAU,YAAY,GAAY,KAAK,MAAM,KAAK,UAAU,EAAU,YAAY,EAAU,CAAC,EAC7F,EAAU,YAAY,GAAU,WAAc,QAAW,KAAU,GAAyB,EAC3F,EAAU,YAAY,GAAyB,WAAW,QACvD,KACA,GAAG,uBAA2C,KAClD,EAAU,YAAY,GAAU,aAAU,gBAAkB,EAAM,eAC9D,EAAM,KAAO,QACZ,GAAU,YAAY,GAAyB,MAAQ,oBAAmB,EAAM,GACjF,EAAU,YAAY,GAAU,aAAU,MAAQ,CAAC,CAAE,KAAM,KAAM,MAAO,EAAM,EAAG,CAAC,GAErF,EAAU,YAAY,GAAyB,YAAc,kBAAe,MAG5E,EAAU,YAAY,GAAyB,WAAW,sBACvD,KACA,GAAG,6BAAiD,KACxD,EAAU,YAAY,2BAA2B,MAAc,KAAK,MAChE,KAAK,UAAU,EAAU,YAAY,uBAA0B,CACnE,EACA,EAAU,YAAY,gBAAgB,MAAc,KAAK,MACrD,KAAK,UAAU,EAAU,YAAY,YAAe,CACxD,EAEK,EAAU,YAAY,2BAA2B,MAA2B,WAAW,SAC1F,kBAAkB,YAAY,KAAU,GAAG,kBAAsC,KAEnF,GAA2B,EAAM,WAAY,EAAW,gBAAgB,IAAU,CACtF,CA7BS,2BAwCT,YACI,EACA,EACA,EACA,EACA,EACA,EACI,CACJ,GAAI,EAAM,OAAS,aAAU,UAAY,CAAC,EAEtC,OAEJ,GAAM,GAAqB,EAAS,MAAM,IAAI,EAAE,GAC1C,EAAuB,GAAG,KAAe,KAE/C,EAAU,YAAY,GAAwB,GAAqB,EAAW,EAAO,CAAQ,EAC7F,GAAM,GAAmB,EAAU,YAAY,GAC/C,GAAuB,EAAW,EAAkB,EAAa,0BAA0B,EAC3F,EAAiB,WAAW,MAAQ,KAAK,MACrC,KAAK,UAAU,EAAU,YAAY,4BAA4B,WAAc,gBAAa,MAAM,CACtG,EACC,EAAiB,WAAW,MAAqB,MAAQ,CACtD,CACI,KAAM,GAAG,8CAAkE,IAC/E,EACA,CACI,KAAM,GAAG,+CAAmE,IAChF,EACA,CACI,KAAM,GAAG,+BAAmD,IAChE,EACA,CACI,KAAM,GAAG,yBAA6C,IAC1D,EACA,CACI,KAAM,GAAG,yBAA6C,IAC1D,CACJ,EACA,EAAiB,aAAU,gBAAkB,EAAM,eACnD,GAA8B,EAAO,EAAkB,CAAQ,EAE/D,GAAmB,2CAA4C,EAAU,EAAO,CAAS,EACzF,GAAmB,4CAA6C,EAAU,EAAO,CAAS,EAC1F,GAAmB,sBAAuB,EAAU,EAAO,CAAS,EACpE,GAAmB,sBAAuB,EAAU,EAAO,CAAS,EACpE,GAAmB,4BAA6B,EAAU,EAAO,CAAS,EAE1E,GAAI,GAEE,EAAkB,GAA0B,EAAO,EAAmB,UAAU,EACtF,AAAI,GAEA,GAA4B,GACxB,EACA,EAAmB,SACnB,EAAgB,KAChB,EAAM,WAAW,KACjB,EAAmB,WACnB,EACA,EACA,EAAmB,SACvB,GAEJ,OAAW,KAAa,GACpB,AAAI,EAAO,GAAW,OAAS,aAAU,UAAY,EAAU,SAAS,CAAkB,GACtF,GACI,EACA,EAAO,GAAW,OAClB,EAAO,GAAW,WAClB,EACA,CACJ,CAGZ,CA1ES,uBAoFT,YACI,EACA,EACA,EACA,EACA,EACI,CACJ,EAAU,YAAY,GAAiB,GAAqB,EAAW,EAAO,CAAO,EACrF,GAAM,GAAmB,EAAU,YAAY,GAC/C,GAAuB,EAAW,EAAkB,EAAa,wBAAwB,EACzF,EAAiB,WAAW,YAAc,CACtC,KAAM,SACN,YAAa,cACb,WAAY,CAAC,EACb,qBAAsB,EAC1B,EACA,EAAiB,WAAW,YAAY,aAAU,YAAc,EACpE,CAjBS,yBA2BT,YACI,EACA,EACA,EACA,EACA,EACF,CACE,EAAU,YAAY,GAAiB,GAAqB,EAAW,EAAO,CAAQ,EACtF,GAAM,GAAmB,EAAU,YAAY,GAC/C,GAAuB,EAAW,EAAkB,EAAa,0BAA0B,CAC/F,CAVS,2BAqBT,YACI,EACA,EACA,EACA,EACA,EACF,CACE,EAAU,YAAY,GAAiB,GAAqB,EAAW,EAAO,CAAQ,EACtF,GAAM,GAAmB,EAAU,YAAY,GAC/C,UAAuB,EAAW,EAAkB,EAAa,yBAAyB,EAC1F,EAAiB,aAAU,gBAAkB,EAAM,eACnD,EAAiB,aAAU,YAAc,GAClC,CACX,CAbS,0BAqBT,YAAwB,EAAsB,EAAuB,CACjE,GAAM,GAAqB,GAAI,KAA8B,CACzD,CAAC,aAAU,gBAAiB,qBAAqB,EACjD,CAAC,aAAU,SAAU,0BAA0B,EAC/C,CAAC,aAAU,MAAO,0BAA0B,EAC5C,CAAC,aAAU,QAAS,4BAA4B,EAChD,CAAC,aAAU,QAAS,4BAA4B,EAChD,CAAC,aAAU,KAAM,yBAAyB,EAC1C,CAAC,aAAU,eAAgB,yBAAyB,CACxD,CAAC,EACK,EAAwB,GAAI,KAA8B,CAC5D,CAAC,aAAU,gBAAiB,wBAAwB,EACpD,CAAC,aAAU,SAAU,6BAA6B,EAClD,CAAC,aAAU,MAAO,6BAA6B,EAC/C,CAAC,aAAU,QAAS,+BAA+B,EACnD,CAAC,aAAU,QAAS,+BAA+B,EACnD,CAAC,aAAU,KAAM,4BAA4B,EAC7C,CAAC,aAAU,eAAgB,4BAA4B,CAC3D,CAAC,EACD,MAAI,GACO,EAAsB,IAAI,CAAS,EAEnC,EAAmB,IAAI,CAAS,CAE/C,CAxBS,uBAiCT,YAAyB,EAAO,EAAU,EAAqB,CAC3D,GAAI,GAAe,EACnB,MAAI,KAAiB,wBAAyB,2BAC1C,GAAe,EAAa,QAAQ,IAAI,qBAAkB,SAAU,EAAM,IAAI,GAE3E,GAAG,GACd,CANS,wBAiBT,YACI,EACA,EACA,EACA,EACA,EACA,EAAe,GACX,CACJ,GAAM,GAAqB,EAAO,GAC5B,EAAc,GAAe,EAAM,KAAM,CAAY,EACrD,EAAe,GAAgB,EAAO,EAAU,CAAW,EAC3D,EAAgB,GAAG,KAAe,KAExC,OADA,GAAoB,EAAU,EAAc,CAAa,EACjD,OACC,0BACA,yBAA0B,CAE3B,EAAe,GACf,GAAiB,EAAW,EAAe,EAAO,EAAU,CAAW,EACvE,GAAM,GAAe,EAAU,YAAY,GAA8B,WACpE,YACL,OAAW,KAAO,GAAM,OACpB,GAAW,EAAoB,EAAM,OAAQ,EAAK,EAAa,EAAW,CAAY,EAE1F,KACJ,KACK,+BACA,8BAA+B,CAChC,GAAe,EAAoB,EAAU,EAAW,EAAO,EAAQ,CAAW,EAElF,GAAM,GAAkB,KACxB,GAAc,EAAW,EAAM,WAAY,CAAe,EAC1D,KACJ,KACK,+BACA,8BAA+B,CAEhC,GAAmB,EAAW,EAAe,EAAO,EAAU,CAAW,EAEzE,KACJ,KACK,8BACA,6BAA8B,CAC/B,GAAM,GAAmB,GAAkB,EAAW,EAAe,EAAO,EAAU,CAAW,EACjG,GAAW,eAAY,QAAS,EAAO,EAAkB,EAAW,wBAAqB,GAAI,CAAQ,EACrG,KACJ,KACK,iCACA,6BAA8B,CAC/B,GAAqB,EAAO,EAAU,EAAU,EAAW,eAAY,QAAS,OAAW,IAAI,EAC/F,KACJ,KACK,oCACA,gCAAiC,CAClC,GACI,EACA,EACA,EACA,EACA,eAAY,QACZ,eAAY,WACZ,IACJ,EACA,KACJ,SAGI,EAAS,WAAW,GAAY,GAAqB,EAAW,EAAO,CAAQ,EAG3F,CAtES,mBAgFT,YACI,EACA,EACA,EACA,EACA,EACI,CACJ,GAAM,GAAW,EAAU,YAAY,kBAAe,UAMtD,GALA,EAAS,aAAU,YAAc,GAC7B,GACA,GAAS,aAAU,gBAAkB,IAAI,EAAW,uBAAuB,qBAAkB,UAG7F,CAAC,EACD,OAGJ,GAAM,GAAuB,GACzB,EACA,EAAmB,WACnB,wBAAqB,GACrB,EAAmB,MACvB,EACA,GAAI,CAAC,GAAU,OAAO,KAAK,CAAM,EAAE,SAAW,EAC1C,OAIJ,OAAW,KAAO,GAAO,CACrB,GAAM,GAAU,EAAM,GACtB,GAAI,EAAc,SAAS,EAAQ,SAAS,EAExC,OAAW,KAAY,GACnB,GAAW,EAAoB,EAAQ,EAAU,EAAU,CAAS,MAGxE,IAAY,EAAoB,EAAW,EAAY,EAAe,EAAQ,KAAK,CAE3F,CAGA,GAAM,GAAiB,EAAU,YAAY,eAC7C,OAAW,KAAQ,GAAe,WAC9B,EAAS,WAAW,GAAQ,EAAe,WAAW,EAE9D,CA7CS,oBAsDT,YAAmB,EAAmB,EAAwB,EAA0C,CACpG,GAAsB,EAAW,CAAU,EAG3C,GAAiB,EAAW,EAAY,EAAiB,EAAyB,CACtF,CALS,kBAcT,YACI,EACA,EACA,EACA,EACI,CAGJ,GAAM,GAAgB,GAA0B,EAAY,EAAiB,EAAQ,OAAW,EAAI,EACpG,AAAI,GACA,GACI,EACA,CAAC,kCAAmC,6BAA6B,EACjE,EACA,CAAC,KAAM,KAAK,CAChB,CAER,CAjBS,gCA2BF,YACH,EACA,EACA,EACM,CAvsBV,MAysBI,GAAS,EAET,GAAM,GAAY,KAAK,MAAM,KAAK,UAAU,CAAa,CAAC,EAGpD,EAAqB,CAAC,EAC5B,OAAW,KAAQ,GAAU,YAAY,eAAkB,WACvD,EAAmB,GAAS,EAAU,YAAY,eAAiC,WAAW,GAIlG,EAAU,WAAW,gBAAa,UAAY,CAC1C,KAAM,GAAyB,UACnC,EAEA,GAAM,GACF,MAAmB,aAAnB,cAA+B,aAC/B,EAAmB,WAAW,WAAW,KACrC,AAAC,GAAO,EAAG,WAAW,OAAS,GAAkB,EAAG,OAAS,CACjE,EACJ,GAAI,CAAC,EACD,UAAI,EAAmB,OAAQ,CAC3B,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,mBAAoB,CAAE,WAAY,CAAe,CAAC,EACrE,SAAU,CACN,KAAM,eACV,CACJ,CAAC,EACM,EAEX,GAAM,GAAa,iBAAW,WAC9B,EAAmB,UAAY,EAC/B,GAAM,GAAQ,EAAmB,SAAS,mBAAgB,SAAS,MACnE,MAAK,GAaL,IAAU,EAAW,EAAY,EAAmB,UAAU,EAG9D,EAAU,YAAY,kBAAe,UAAY,CAC7C,KAAM,SACN,WAAY,CAAC,EACb,YAAa,WACb,qBAAsB,EAC1B,EACA,GAAY,EAAoB,EAAW,EAAY,EAAU,KAAM,CAAK,EAG5E,GAAwB,EAAW,EAAY,EAAmB,WAAY,EAAmB,MAAM,EAElG,EAAU,YAAY,UACvB,CAAI,EAAU,YAAY,kBAAoB,EAAU,YAAY,iBAAiB,MAAS,OAE1F,GAAU,YAAY,SAAW,CAC7B,KAAM,SACN,WAAY,EACZ,qBAAsB,EAC1B,EACA,EAAU,YAAY,SAAS,aAAU,YAAc,IAEvD,MAAO,GAAU,WAAW,gBAAa,WAGjD,GAAiB,EAAW,EAAoB,wBAAqB,GAAI,EAAyB,EAGlG,MAAO,GAAU,YAAY,gBAC7B,MAAO,GAAU,YAAY,mBAC7B,MAAO,GAAU,YAAY,yBAC7B,MAAO,GAAU,YAAY,eAC7B,MAAO,GAAU,YAAY,kBAC7B,MAAO,GAAU,YAAY,wBAC7B,MAAO,GAAU,YAAY,yBAC7B,MAAO,GAAU,YAAY,uBAC7B,MAAO,GAAU,YAAY,yCAC7B,MAAO,GAAU,YAAY,0CAC7B,MAAO,GAAU,YAAY,0BAC7B,MAAO,GAAU,YAAY,oBAC7B,MAAO,GAAU,YAAY,oBAC7B,MAAO,GAAU,YAAY,kBAC7B,MAAO,GAAU,YAAY,yBAC7B,MAAO,GAAU,YAAY,eAC7B,MAAO,GAAU,YAAY,qBAC7B,MAAO,GAAU,YAAY,sBAEtB,GA7DH,IAAI,EAAmB,OAAQ,CAC3B,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,UAAW,CAAE,MAAO,EAAmB,SAAS,WAAW,EAAM,CAAC,EACrF,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,OAAO,CACnC,CACJ,CAAC,EACM,EAsDf,CAtGgB,mC8FtrBhB,OAAyF,SAclF,YACH,EACA,EACA,EACA,EACI,CACJ,GAA2B,EAAY,EAAW,cAAc,EAChE,GAA0B,EAAW,gBAAiB,CAAS,EAC/D,GAA2B,EAAiB,EAAW,eAAe,CAC1E,CATgB,+BAoBT,YACH,EACA,EACA,EACM,CAnDV,cAqDI,GAAS,EAET,GAAM,GAAY,KAAK,MAAM,KAAK,UAAU,CAAa,CAAC,EAE1D,EAAU,WAAW,MAAM,MAAS,KAAK,KAAU,GAAyB,GAC5E,EAAU,WAAW,MAAM,MAAS,KAAK,KAAU,GAAyB,GAC5E,EAAU,WAAW,MAAM,MAAS,KAAK,KAAU,GAAyB,GAC5E,EAAU,WAAW,MAAM,MAAS,KAAK,KAAU,GAAyB,GAC5E,EAAU,WAAW,MAAM,MAAS,KAAK,KAAU,GAAyB,GAE5E,GAAM,GAA6B,KAAK,MACpC,KAAK,UAAU,EAAc,YAAY,8BAA8B,CAC3E,EACM,EAA8B,KAAK,MACrC,KAAK,UAAU,EAAc,YAAY,+BAA+B,CAC5E,EACM,EAAsB,KAAK,MAAM,KAAK,UAAU,EAAc,YAAY,SAAS,CAAC,EACpF,EAA4B,KAAK,MAAM,KAAK,UAAU,EAAc,YAAY,eAAe,CAAC,EAChG,EAAsB,KAAK,MAAM,KAAK,UAAU,EAAc,YAAY,SAAS,CAAC,EAEpF,EAAc,CAChB,KAAM,GAAyB,kBAAe,SAClD,EACA,EAA2B,WAAW,QAAU,EAChD,EAA4B,WAAW,QAAU,EACjD,EAAoB,WAAW,QAAU,EACzC,EAA0B,WAAW,QAAU,EAC/C,EAAoB,WAAW,QAAU,EAEzC,GAAM,GAAY,GAAyB,kBAAe,UAC1D,EAAU,YAAY,IAAoB,EACzC,EAAU,YAAY,IAAiC,WAAW,QAAQ,KAAU,EACrF,EAAU,YAAY,IAAqB,EAC1C,EAAU,YAAY,IAAkC,WAAW,QAAQ,KAAU,EACtF,EAAU,YAAY,IAAa,EAClC,EAAU,YAAY,IAA0B,WAAW,QAAQ,KAAU,EAC9E,EAAU,YAAY,IAAmB,EACxC,EAAU,YAAY,IAAgC,WAAW,QAAQ,KAAU,EACpF,EAAU,YAAY,IAAa,EAClC,EAAU,YAAY,IAA0B,WAAW,QAAQ,KAAU,EAE9E,GAAM,GAAa,KAAmB,aAAnB,cAA+B,YAAY,KAAK,AAAC,GAAO,EAAG,OAAS,GACvF,GAAI,CAAC,EACD,GAAI,EAAmB,OAAQ,CAC3B,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,eAAgB,CAAE,WAAY,CAAe,CAAC,EACjE,SAAU,CACN,KAAM,eACV,CACJ,CAAC,MACE,CAEH,GAAM,GACF,EAAW,aAAe,EAAW,YAAY,IAAM,EAAW,YAAY,GAAG,SACrF,GAAiB,EAAW,EAAoB,CAAU,EAE1D,GAAM,GAA2B,uBAAY,cAAZ,cAAyB,KAAzB,cAA6B,gBAC9D,GAAmB,EAAW,EAA0B,CAAU,EAGlE,GAAc,EAAW,CAAU,EAGnC,EAAU,YAAY,UAAU,WAAc,cAAiB,MAAS,KAAU,CAAC,EACnF,GACI,EAAU,YAAY,UAAU,WAAc,cAAiB,MAAS,KACxE,CACJ,EAEA,GAAM,GAAW,CAAC,EACZ,EAAS,GAAqB,EAAmB,SAAS,mBAAgB,SAAS,MAAO,CAAQ,EACxG,GAAI,CAAC,EACD,UAAI,EAAmB,OAAQ,CAC3B,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,OAAO,EAC1B,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,OAAO,CACnC,CACJ,CAAC,EACM,EAEX,GACI,EACA,EACA,EACA,EAAmB,SACnB,EAAmB,SACvB,EAEA,GAAM,GAAY,QAAmB,aAAnB,cAA+B,aAA/B,cAA2C,KAAK,AAAC,GAAO,EAAG,OAAS,EAAO,WAC7F,GAAuB,EAAY,EAAW,EAAW,EAAmB,UAAU,EACtF,GAAkC,EAAY,EAAW,kBAAe,mBAAmB,EAC3F,GAAgC,EAAY,EAAW,kBAAe,WAAW,EAGjF,MAAO,GAAU,YAAY,+BAC7B,MAAO,GAAU,YAAY,gCAC7B,MAAO,GAAU,YAAY,UAC7B,MAAO,GAAU,YAAY,gBAC7B,MAAO,GAAU,YAAY,UAC7B,MAAO,GAAU,YAAY,eAC7B,MAAO,GAAU,YAAY,kBAC7B,MAAO,GAAU,YAAY,QAC7B,MAAO,GAAU,YAAY,QAC7B,MAAO,GAAU,YAAY,aACjC,CACA,MAAO,EACX,CAlHgB,mCCzChB,OAOO,SAYA,YACH,EACA,EACA,EACM,CA7BV,oBA+BI,GAAS,EAET,GAAM,GAAY,KAAK,MAAM,KAAK,UAAU,CAAa,CAAC,EAE1D,AAAC,EAAU,WAAW,gBAAa,OAAsB,MAAM,GAAG,KAC9D,GAAyB,gCAC7B,GAAM,GAA4B,KAAK,MACnC,KAAK,UAAU,EAAU,YAAY,kBAAqB,CAC9D,EACA,EAA0B,WAAW,QAAW,KAAU,GAAG,KAAyB,kBAAe,YACrG,EAA0B,WAAW,QAAW,KAAU,GAAG,KAAyB,kBAAe,YACrG,EAAU,YAAY,iCAAmC,EAEzD,EAAU,WAAW,gBAAa,OAAO,MAAS,GAAG,KAAU,GAAG,4BAClE,GAAM,GAAsB,KAAK,MAAM,KAAK,UAAU,EAAU,YAAe,YAAe,CAAC,EAC/F,EAAoB,WAAW,QAAW,KAAU,GAAG,KAAyB,kBAAe,YAC/F,EAAoB,WAAW,QAAW,KAAU,GAAG,KAAyB,kBAAe,YAC/F,EAAU,YAAY,2BAA6B,EAEnD,EAAU,WAAW,gBAAa,OAAO,MAAS,GAC9C,KACA,GAAG,kCACP,GAAM,GAA4B,KAAK,MACnC,KAAK,UAAU,EAAU,YAAY,kBAAqB,CAC9D,EACA,EAA0B,WAAW,QAAW,KAAU,GAAG,KAAyB,kBAAe,YACrG,EAA0B,WAAW,QAAW,KAAU,GAAG,KAAyB,kBAAe,YACrG,EAAU,YAAY,iCAAmC,EAGzD,GAAuB,EAAU,YAAe,2BAA8B,KAAS,CACnF,MAAG,2BAA2B,yBAClC,CAAC,EAED,GAAM,GAAa,QAAmB,aAAnB,cAA+B,cAA/B,cAA4C,KAAK,AAAC,GAAO,EAAG,OAAS,GACxF,GAAI,CAAC,EACD,GAAI,EAAmB,OAAQ,CAC3B,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,eAAgB,CAAE,WAAY,CAAe,CAAC,EACjE,SAAU,CACN,KAAM,eACV,CACJ,CAAC,MACE,CAEH,GAAM,GAAqB,uBAAY,cAAZ,cAAyB,KAAzB,cAA6B,SACxD,GAAiB,EAAW,EAAoB,CAAU,EAE1D,GAAM,GAA2B,uBAAY,cAAZ,cAAyB,KAAzB,cAA6B,gBAC9D,GAAmB,EAAW,EAA0B,CAAU,EAGlE,GAAc,EAAW,CAAU,EAEnC,GAAM,GAAW,CAAC,EACZ,EAAS,GACX,EAAmB,SAAS,mBAAgB,SAAS,MACrD,EACA,EAAmB,MACvB,EACA,GAAI,CAAC,EACD,MAAO,GAEX,GACI,EACA,EACA,EACA,EAAmB,SACnB,EAAmB,SACvB,EACA,GAAM,GAAY,QAAmB,aAAnB,cAA+B,aAA/B,cAA2C,KAAK,AAAC,GAAO,EAAG,OAAS,EAAO,WAC7F,GAAuB,EAAY,EAAW,EAAW,EAAmB,UAAU,EAGtF,MAAO,GAAU,YAAY,aAC7B,MAAO,GAAU,YAAY,mBAC7B,MAAO,GAAU,YAAY,mBAC7B,MAAO,GAAU,YAAY,eAC7B,MAAO,GAAU,YAAY,kBAC7B,MAAO,GAAU,YAAY,QAC7B,MAAO,GAAU,YAAY,cAC7B,MAAO,GAAU,YAAY,OACjC,CAEA,MAAO,EACX,CA3FgB,6CChBT,YAAgC,EAAsC,CAEzE,GAAM,GAAa,EAAc,WAMjC,MAAO,AAJF,GAAW,OACR,EAAW,MAAS,sBACpB,EAAW,MAAS,qBAAwB,OAChD,CAAC,GACiB,IAAI,AAAC,GAAyB,CAEhD,GAAM,GAAW,EAAa,KAAQ,MAAM,GAAG,EAC/C,MAAO,GAAS,EAAS,OAAS,EACtC,CAAC,CACL,CAbgB,+BAoBT,YAAuB,EAAmB,EAA0B,CACvE,GAAM,GAAe,GAAY,EAAS,YAAc,EAAS,WAAW,aAAgB,CAAC,EACvF,EAAc,OAAO,KAAK,CAAW,EACrC,EAAU,GAAY,EAAS,YAAc,EAAS,WAAW,QAAW,CAAC,EAC/E,EAAa,CAAC,EAClB,EAAa,EAAW,OACpB,OAAO,KAAK,CAAM,EAAE,OAAO,AAAC,GAAU,EAAY,SAAU,EAAO,GAA4B,UAAU,CAAC,CAC9G,EAGA,GAAM,GAAa,EAAU,YAC7B,EAAW,UAAe,CACtB,KAAM,EACN,KAAM,QACV,EAEA,GAAM,GAAQ,GAAuB,CAAS,EAC9C,OAAW,KAAQ,GAAO,CACtB,GAAM,GAAW,EAAW,GAAM,WAAc,MAChD,MAAO,GAAS,KAChB,EAAS,KAAU,GAAyB,WAChD,CACJ,CAtBgB,sBAiCT,YAAsC,EAAuB,EAA4B,CAC5F,GAAM,GAAY,KAAK,MAAM,KAAK,UAAU,CAAa,CAAC,EAE1D,SAAU,WAAc,MAAS,cAAmB,CAChD,QAAS,uBACb,EAEA,GAAc,EAAW,CAAQ,EAC1B,CACX,CATgB,qCCxDhB,OAAmD,SAe5C,YACH,EACA,EACA,EACA,EACA,EACA,EACM,CACN,GAAM,GAAa,GAAwB,EAAa,CAAM,EACxD,EAAkD,CACpD,aAAc,gBAAa,uBAC3B,qBAAsB,wBAAqB,GAC3C,WACA,YACA,aACA,QACJ,EACA,MAAO,IAA2B,EAAoB,EAAe,CAAS,CAClF,CAlBgB,sCAiCT,YACH,EACA,EACA,EACA,EACA,EACA,EACM,CACN,GAAM,GAAa,GAAwB,EAAa,CAAM,EACxD,EAAkD,CACpD,aAAc,gBAAa,uBAC3B,qBAAsB,wBAAqB,GAC3C,WACA,YACA,aACA,QACJ,EACA,MAAO,IAA2B,EAAoB,EAAe,CAAU,CACnF,CAlBgB,sCA2BT,YAAgC,EAAuB,EAA0B,CACpF,MAAO,IAA6B,EAAe,CAAQ,CAC/D,CAFgB,+BAkBT,YACH,EACA,EACA,EACA,EACA,EACA,EACM,CACN,GAAM,GAAa,GAAwB,EAAa,CAAM,EACxD,EAAkD,CACpD,aAAc,gBAAa,qBAC3B,qBAAsB,wBAAqB,GAC3C,WACA,YACA,aACA,QACJ,EACA,MAAO,IAAqC,EAAoB,EAAe,CAAU,CAC7F,CAlBgB,8CClGhB,OAAmB,SACnB,GAAgB,SAUhB,GAQO,SAeP,GAAM,IAAyB,EAAC,GAA+C,EAC3E,YAAa,CAAC,EACd,SAAU,EACL,mBAAgB,SAAU,CAAE,MAAO,CAAC,CAAE,CAC3C,EACA,UAAW,GAAgC,CAAC,CAChD,GAN+B,0BAc/B,YACI,EACA,EACA,EACI,CACJ,GAAI,GAAkB,IAAc,SAEhC,OAAW,KAAS,GAChB,AAAI,EAAe,GAAO,YAAc,yBACpC,EAAe,GAAS,EAAQ,eAC5B,YAAS,WACT,kCACA,EAAe,EACnB,EAEA,EAAe,GAAS,EAAQ,eAC5B,YAAS,WACT,8BACA,EAAe,EACnB,CAIhB,CAvBS,mCA6BT,YAA8B,EAAwB,EAA0C,CAC5F,GAAI,WAAiB,YAAgB,CACjC,GAAI,GAEJ,OAAW,KAAgB,GAAe,YACtC,EAAa,EAAe,YAAe,GAC3C,GAA2B,EAAY,EAAc,CAAO,EAC5D,GAAqB,EAAY,CAAO,CAEhD,CACJ,CAVS,6BAkBT,YACI,EACA,EACA,EACI,CAEJ,GAAI,GAEJ,OAAW,KAAa,GAAiB,SACrC,EAAU,EAAW,SAAS,GAC9B,GAA2B,EAAS,EAAW,CAAO,EACtD,GAAqB,EAAS,CAAO,CAE7C,CAbS,oCAsBT,YAA8B,EAAgD,EAAuC,CACjH,GAAM,GAAmB,EAAiB,KAAK,OACzC,EAAY,EAAiB,KAAK,UAClC,EAA+B,GAAuB,EAAiB,SAAS,EAChF,EAAU,GAAI,IACd,EAAa,EAAQ,mBAAmB,YAAS,WAAY,CAAgB,EAC7E,EAAwB,GAAyB,CAAU,EAC3D,EAAS,GAAG,EAAiB,UAAU,EAAsB,OAAO,MACpE,EAAqB,CAAC,EACtB,EAAS,GAAqB,EAAiB,SAAS,mBAAgB,SAAS,MAAO,CAAQ,EACtG,GAAI,CAAC,EAAQ,CACT,GAAI,EAAiB,OAAQ,CACzB,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,MAAM,EACzB,SAAU,CACN,KAAM,gBACN,MAAO,CAAC,mBAAgB,OAAO,CACnC,CACJ,CAAC,EACD,MACJ,CAMA,GALK,EAAO,UAAU,UAClB,GAAO,UAAU,SAAW,CAAC,GAEjC,EAAc,SAAW,KAAK,MAAM,KAAK,UAAU,EAAiB,QAAQ,CAAC,EAEzE,GAAoB,OAAO,KAAK,CAAgB,EAAE,SAAW,EAAG,CAChE,GAAM,GAA8C,CAChD,SACA,gBACA,MAAO,EAAiB,MACxB,SACA,UAAW,EAAiB,WAC5B,aACA,UACA,WACA,SAAU,YAAS,WACnB,OAAQ,EAAiB,MAC7B,EAEA,GACI,EACA,EACA,CAAC,EACD,CAAC,EACD,EAAiB,UACrB,CACJ,CAEA,MAAO,EACX,CAlDS,6BA2DT,YACI,EACA,EACa,CACb,GAAM,GAA2B,EAAiB,KAAK,OACjD,EAAY,EAAiB,KAAK,UAClC,EAA+B,GAAuB,EAAiB,SAAS,EACtF,EAAc,YAAc,CAAC,EAC7B,EAAc,SAAW,KAAK,MAAM,KAAK,UAAU,EAAiB,QAAQ,CAAC,EAC7E,GAAM,GAAU,GAAI,IAEd,EAAqB,EAAQ,mBAAmB,YAAS,mBAAoB,CAAwB,EAGrG,EAAwB,GAAyB,CAAkB,EACnE,EAAS,GAAG,EAAiB,UAAU,EAAsB,OAAO,MACpE,EAAqB,CAAC,EAEtB,EAAS,GACX,EAAiB,SAAS,mBAAgB,SAAS,MACnD,EACA,EAAiB,MACrB,EACA,GAAI,EAAC,EAQL,IALK,EAAO,UAAU,UAClB,GAAO,UAAU,SAAW,CAAC,GAEjC,EAAc,SAAW,KAAK,MAAM,KAAK,UAAU,EAAiB,QAAQ,CAAC,EAEzE,GAA4B,OAAO,KAAK,CAAwB,EAAE,SAAW,EAAG,CAChF,GAAM,GAA8C,CAChD,SACA,gBACA,MAAO,EAAiB,MACxB,SACA,UAAW,EAAiB,WAC5B,aACA,UACA,WACA,SAAU,YAAS,mBACnB,OAAQ,EAAiB,MAC7B,EAEA,GACI,EACA,EACA,CAAC,EACD,CAAC,EACD,EAAiB,UACrB,CACJ,CAEA,MAAO,GACX,CAvDS,iCAgET,YAA0B,EAAgD,EAAuC,CAC7G,GAAM,GAAmB,EAAiB,KAAK,OACzC,EAAY,EAAiB,KAAK,UAClC,EAA+B,GAAuB,EAAiB,SAAS,EAChF,EAAU,GAAI,IACd,EAAa,EAAQ,mBAAmB,YAAS,WAAY,CAAgB,EAEnF,GADA,EAAc,SAAW,KAAK,MAAM,KAAK,UAAU,EAAiB,QAAQ,CAAC,EACzE,EAAkB,CAClB,GAAM,GAAwB,GAAyB,CAAU,EAC3D,EAAS,GAAG,EAAiB,UAAU,EAAsB,OAAO,MAEpE,EAAqB,CAAC,EACtB,EAA4B,GAC9B,EAAiB,SAAS,mBAAgB,SAAS,MACnD,EACA,CACJ,EACA,GAAI,CAAC,EACD,MAAO,GAKX,GAHI,EAAiB,UACjB,GAA4B,EAAkB,EAAY,CAAO,EAEjE,OAAO,KAAK,CAAgB,EAAE,SAAW,EAAG,CAC5C,GAAM,GAA8C,CAChD,SACA,gBACA,MAAO,EAAiB,MACxB,SACA,UAAW,EAAiB,WAC5B,aACA,UACA,WACA,SAAU,YAAS,WACnB,OAAQ,EAAiB,MAC7B,EAEA,GACI,EACA,EACA,CAAC,EACD,CAAC,EACD,EAAiB,UACrB,CACJ,CACJ,CACA,MAAO,EACX,CA/CS,yBAsDT,GAAM,IAAqB,EAAC,GAAoE,CAC5F,GAAM,GAA+B,GAAuB,EAC5D,EAAc,SAAW,KAAK,MAAM,KAAK,UAAU,EAAiB,QAAQ,CAAC,EAC7E,GAAM,GAAU,GAAI,IACd,EAAe,EAAQ,mBAAmB,YAAS,aAAc,EAAiB,KAAK,MAAM,EAG7F,EAAW,AADL,GAAI,YAAI,CAAE,UAAW,EAAK,CAAC,EAClB,QAAQ,EAAiB,UAAU,EAExD,GAAI,CAAC,EAAS,CAAY,EACtB,OAAW,KAAO,GAAS,OAAQ,CAC/B,GAAM,GAAqB,EAAI,OAAO,mBACtC,AACI,EAAI,UAAY,wBAChB,CAAC,OAAO,OAAO,MAAG,gBAAgB,EAAE,SAAS,EAAI,OAAO,kBAAqB,GAC7E,IAAuB,YAEvB,eAAO,EAAc,GAAG,EAAI,SAAS,MAAM,CAAC,KAAK,GAAoB,CAE7E,CAEJ,MAAI,GAAiB,KAAK,QAAU,OAAO,KAAK,EAAiB,KAAK,MAAM,EAAE,SAAW,GACrF,GACI,EACA,EACA,EAAiB,WACjB,EAAiB,WACjB,EACA,CAAC,CACL,EAGG,CACX,EAjC2B,sBA2CrB,GAAsB,GAAC,EAA4B,EAAkB,IAAsC,CAlVjH,MAmVI,GAAM,GAA+B,GAAuB,EAC5D,EAAc,SAAW,KAAK,MAAM,KAAK,UAAU,CAAQ,CAAC,EAG5D,GAAM,GAAgB,OAAO,OAAO,GAAI,IAAiB,CAAW,EACpE,EAAc,SAAW,OAAO,OAAO,GAAI,IAAe,EAAY,QAAW,EACjF,OAAW,KAAO,GAAW,YAAe,YAAe,WAAe,CACtE,GAAM,GAAW,GAAmB,EAAc,SAAU,CAAG,EAC/D,GAAI,GAAY,EAAS,SAAU,CAC/B,GAAM,GAAO,EAAS,SAAS,KAAK,EAC9B,EAAkB,GAA8B,EAAc,SAAU,CAAI,EAClF,AAAI,EAAY,UAAe,EAAY,SAAY,KAAS,OAC5D,EAAgB,GAAO,EAAY,SAAY,GAE/C,MAAO,GAAgB,EAE/B,CACJ,CAEA,GAAM,GAAgB,KAAc,SAAS,mBAAgB,WAAvC,cAAiD,MACvE,MAAI,IAAiB,EAAY,OAC7B,GAA6B,EAAY,KAAM,EAAY,MAAU,OAAO,OAAO,CAAa,EAAE,EAAY,EAE3G,CACX,EAzB4B,uBAkCrB,YACH,EACA,EACyB,CACzB,GAAI,EAAmB,cAAW,YAC9B,MAAO,IAAqB,EAAmB,cAAW,YAAa,CAAU,EAC9E,GAAI,EAAmB,cAAW,YACrC,MAAO,IAAiB,EAAmB,cAAW,YAAa,CAAU,EAC1E,GAAI,EAAmB,cAAW,cACrC,MAAO,IAAmB,EAAmB,cAAW,aAAa,EAClE,GAAI,EAAmB,cAAW,aAAc,CACnD,GAAM,CAAE,cAAa,WAAU,cAAe,EAAmB,cAAW,aAC5E,MAAO,IAAoB,EAAa,EAAU,CAAU,CAChE,SAAW,EAAmB,cAAW,oBACrC,MAAO,IAAyB,EAAmB,cAAW,oBAAqB,CAAU,CAErG,CAhBgB,qBCjXhB,OAA+D,SAE/D,GAAkC,sDCG3B,YAA6B,EAAuB,EAAc,EAAM,GAAY,CACvF,AAAI,EACK,GAAS,cACV,GAAS,aAAe,CAAC,GAExB,EAAS,aAAa,MACvB,GAAS,aAAa,KAAO,CAAC,GAE9B,EAAS,aAAa,KAAK,KAAU,QACrC,GAAS,aAAa,KAAK,GAAQ,CAAC,IAEjC,EAAS,cAAgB,EAAS,aAAa,MAAQ,EAAS,aAAa,KAAK,KAAU,QACnG,MAAO,GAAS,aAAa,KAAK,EAE1C,CAdgB,4BAqBT,YAA2B,EAAwB,CACtD,GAAI,GAAa,EACjB,GAAI,EAAO,QAAQ,GAAG,EAAI,GAAI,CAC1B,EAAa,EAAO,UAAU,EAAO,QAAQ,GAAG,EAAI,EAAG,EAAO,OAAS,CAAC,EACxE,GAAM,GAAU,EAAO,UAAU,EAAG,EAAO,YAAY,IAAI,CAAC,EAAE,QAAQ,MAAO,GAAG,EAChF,AAAI,GACA,GAAa,GAAG,KAAW,IAEnC,CACA,MAAO,EACX,CAVgB,0BDXT,YACH,EACA,EACA,EACA,EACA,EACO,CACP,GAAI,CAAC,EACD,MAAO,GAEX,GAAI,CAAC,EAAmB,YACpB,UAAI,EAAQ,CACR,SAAU,eAAY,MACtB,QAAS,GAAQ,EAAE,aAAc,CAAE,MAAO,EAAmB,KAAM,CAAC,CACxE,CAAC,EACM,GAEX,GAAI,EAAa,UAAY,EAAa,SAAS,QAAQ,CAAW,IAAM,GAExE,MAAO,GAEX,GAAM,GAAgB,EAAY,YAAY,gBAAa,QAAQ,EAC7D,EAAY,EAAgB,GAAK,GAAkB,EAAY,EAAgB,EAAE,EAAI,OACrF,EAAmB,EAAY,EAAU,QAAQ,MAAO,GAAG,EAAI,IAAI,qBAAkB,WACrF,EAAU,EAAa,eAAiB,GAAO,GAAO,OAEtD,EAAoC,aACtC,OAAQ,EAAmB,cAAc,GACzC,aAAc,EACd,SAAU,EAAa,SACvB,KAAM,GACF,EAAa,QAAU,CAAE,OAAQ,EAAa,MAAO,GACrD,EAAa,OAAS,CAAE,MAAO,EAAa,KAAM,GAClD,EAAa,cAAgB,CAAE,aAAc,EAAa,YAAa,GACvE,GAAW,CAAE,aAAc,CAAQ,GAErC,EAAiD,CACnD,gBAAiB,uBAAoB,aACrC,SAAU,EAAmB,YAC7B,MACJ,EACA,UAAwB,CAAe,EAChC,EACX,CA3CgB,8BEjBhB,OAAgD,SAYhD,GAAM,IAAc,GAAC,EAAiB,EAAc,IACzC,EACH,UACA,OACA,QACJ,GALgB,eAcd,GAAqB,GACvB,EACA,IAIO,EACH,SAAU,YACF,GAAa,CAAE,WAAU,GACzB,GAAqB,CAAE,mBAAkB,GAFvC,CAGN,WAAY,CAAC,CACjB,EACJ,GAZuB,sBAe3B,YAA2B,EAAyD,CAChF,GAAI,GAA8B,EAClC,MAAK,GAMI,GAAQ,QACT,GAAQ,OAAS,CAAC,GAEjB,EAAQ,SACT,GAAQ,QAAU,CAAC,IATvB,EAAU,CACN,OAAQ,CAAC,EACT,QAAS,CAAC,CACd,EASG,CACX,CAhBS,0BAkBT,YAA0B,EAAiC,EAAuB,EAAyB,CACvG,AAAK,EAAO,QAAQ,SAAS,YACzB,GAAO,QAAQ,SAAS,WAAa,CAAC,GAE1C,EAAO,QAAQ,SAAS,WAAW,GAAiB,CAChD,OAAQ,CACZ,CACJ,CAPS,yBAeT,YAA+B,EAAiB,EAAyB,CACrE,GAAI,GAAU,GACd,SAAM,QAAQ,CAAC,EAAM,IAAU,CAC3B,GAAM,GAAa,EAAM,GACrB,EAAM,GACV,AAAI,kBAAY,YAAa,cAAW,YAEpC,GAAM,QAAQ,EAAQ,EAAQ,EAAI,QAEtC,GAAM,GAAe,WAAY,UAAY,EAAW,UAAY,EACpE,GAAW,GAAG,EAAU,IAAM,KAAK,IAAe,GACtD,CAAC,EACM,GAAG,IAAU,YACxB,CAbS,8BAsBT,YAA+B,EAAiB,EAAgB,EAAiB,EAAsB,CACnG,EAAM,KAAK,CAAM,EACjB,GAAI,GACJ,OAAW,KAAO,GAAO,CACrB,GAAI,MAAO,GAAM,GAAK,YAAe,SAAU,CAC3C,GAAM,GAAU,OAAO,KAAK,EAAM,GAAK,UAAU,EAAE,KAC/C,AAAC,GAAU,EAAM,GAAK,WAAW,GAAO,QAAa,CACzD,EACA,AAAI,GACA,GAAS,EACT,EAAgB,EAAM,GAE9B,CACA,GAAI,EAAe,CACf,GAAsB,EAAO,EAAQ,EAAO,CAAG,EAC/C,KACJ,CACJ,CACJ,CAlBS,8BA4BT,YACI,EACA,EACA,EACA,EACA,EACF,CACE,GAAI,EAAK,WACL,OAAW,KAAiB,GAAK,WAAY,CACzC,GAAM,GAAkB,EAAK,WAAW,GAExC,GADA,GAAiB,EAAQ,EAAe,CAAyB,EAC7D,WAAkB,OACd,CAAC,EAAQ,OAAO,KAAK,AAAC,GAAiB,EAAa,OAAS,EAAgB,KAAQ,EAAG,CACxF,GAAM,GAAkB,CAAC,EACzB,GAAsB,EAAO,EAAe,EAAO,CAAM,EACzD,GAAM,GAAoB,CAAC,GAAG,CAAK,EAAE,QAAQ,EACvC,EAAU,GAAsB,EAAmB,CAAK,EAE9D,EAAQ,OAAO,KAAK,GAAY,EAAS,EAAgB,MAAU,EAAgB,KAAQ,CAAC,CAChG,CAER,CAER,CAvBS,6BAyBT,YAA4B,EAA6B,EAAiB,CACtE,OAAW,KAAM,GAAQ,QACrB,GAAI,CAAC,GAAS,CAAC,EAAM,GAAK,CAEtB,MAAO,GAAQ,QAAQ,GAEvB,GAAM,GAAQ,EAAQ,OAAO,UAAU,AAAC,GAAU,EAAM,OAAS,CAAE,EACnE,AAAI,IAAU,IACV,EAAQ,OAAO,OAAO,EAAO,CAAC,CAEtC,CAER,CAZS,2BAcT,YAA2B,EAAe,EAAiC,CApK3E,QAqKI,AAAI,EAAK,UACA,GAAO,SACR,GAAO,QAAU,GAAmB,EAAK,UAAW,EAAK,iBAAiB,GAE9E,EAAO,QAAQ,SAAS,UAAY,EAAK,WAEzC,GAAO,KAAO,UAAP,cAAgB,WAAvB,eAAiC,SAEzC,CATS,0BAgBT,YAAqC,EAAe,EAAuC,CApL3F,cAsLI,GAAM,GAAmB,6BAAQ,UAAR,cAAiB,WAAjB,cAA2B,UAA3B,cAAoC,OAApC,cAA0C,SACnE,GAAI,EAAK,WAAa,cAAW,YAAc,GAAoB,MAAO,IAAqB,SAAU,CACrG,GAAM,GAAa,EAAK,OAElB,EAAY,AADK,OAAM,QAAQ,oBAAY,WAAZ,cAAsB,MAAM,EAAI,EAAW,SAAS,OAAS,CAAC,GAClE,IAAI,AAAC,GAAgD,EAAQ,EAAE,EAC1F,EAAc,OAAO,KAAK,CAAgB,EAChD,OAAW,KAAM,GACb,AAAK,EAAU,SAAS,CAAE,GAEtB,MAAO,GAAiB,EAGpC,CACJ,CAfS,oCAiBT,YAAqB,EAA6B,EAAY,EAAe,CACzE,GAAM,GAAQ,EAAQ,OAAO,KAAK,AAAC,GAAiB,EAAa,OAAS,CAAE,EAC5E,AAAI,GACA,CAAI,EAAK,kBACL,EAAM,OAAS,EAAK,kBAEpB,MAAO,GAAM,OAGzB,CATS,oBAmBT,YACI,EACA,EACA,EACA,EACuB,CACvB,MAAI,GAAK,UAAY,CAAC,CAAC,cAAW,WAAY,cAAW,aAAa,EAAE,SAAS,EAAK,QAAQ,EAC1F,EAAS,SACF,GADE,CAGD,KAAM,YACN,GAAI,kBAAS,KAAS,EACtB,KAAM,GAAG,sBAAuB,EAAM,GAAI,UAElD,GACG,AACH,EAAK,MACL,CAAC,CAAC,GACA,GAA8C,UAC3C,EAA8C,QAGnD,EAAS,SACF,GADE,CAGD,OAAQ,EAAK,KAAK,GAClB,SAAU,EAAK,KAAK,KACpB,KAAM,EAAK,KAAK,KAChB,SAAU,EAAK,KAAK,QAE5B,GACO,EAAK,MACZ,GAAS,SACF,GADE,CAGD,KAAM,YACN,GAAI,EAAK,KAAK,GACd,KAAM,EAAK,KAAK,UAAY,MAAG,2BAC/B,SAAU,EAAK,KAAK,SACpB,QAAS,CACL,SAAU,CACN,SAAU,EAAK,KAAK,IACxB,CACJ,CAER,IAEG,CACX,CAhDS,mBAsDF,YAA4B,EAAkB,EAAiB,EAAsC,CA9Q5G,QA+QI,GAAM,GAAU,GAAkB,EAAS,mBAAgB,KAAK,OAA6B,EAG7F,AAAI,GAAY,CAAC,EAAQ,OAAO,KAAK,AAAC,GAAU,EAAM,OAAS,CAAQ,GAEnE,EAAQ,OAAO,KAAK,GAAY,WAAyB,EAAU,CAAQ,CAAC,EAEhF,OAAW,KAAM,GAAO,CACpB,GAAI,GACE,EAAO,EAAM,GACnB,AAAI,EAAQ,QAAQ,IAChB,GAAS,EAAQ,QAAQ,IAE7B,EAAS,GAAW,EAAM,EAAQ,EAAI,CAAK,EAC3C,GAAkB,EAAM,CAAM,EAC9B,GAA4B,EAAM,CAAM,EACpC,GAAU,CAAC,EAAK,oBAChB,OAAO,GAAO,eACd,MAAO,GAAO,oBAEd,uBAAQ,UAAR,cAAiB,WAAjB,QAA2B,YAE3B,GAAO,QAAQ,SAAS,WAAa,CAAC,GAG1C,GAAqB,EAAM,EAAO,EAAQ,EAAS,CAAE,EAErD,GAAY,EAAS,EAAI,CAAI,EAE7B,EAAQ,QAAQ,GAAM,CAC1B,CAEA,UAAmB,EAAS,CAAK,EAC1B,CACX,CAnCgB,2BC7QhB,OAMO,SAOP,GAAM,IAAkB,CACpB,oCAAiC,iBACjC,oCAAiC,eACjC,oCAAiC,cACrC,EAYM,GAAkB,GACpB,EACA,EACA,EACA,EAA6B,CAAC,EAC9B,EAAQ,IACD,CApCX,MAqCI,GAAM,GAAc,EAAY,QAAQ,OAAO,KAAK,AAAC,GAC1C,EAAM,OAAS,CACzB,EACD,GAAI,CAAC,EACD,OAGJ,AAAI,MAAO,GAAY,QAAW,UAG9B,GAAY,OAAS,GAAS,EAAI,CAAC,GAAG,EAAa,EAAY,MAAM,EAAI,CAAC,EAAY,MAAM,GAGhG,GAAM,GAAS,EAAY,QAAQ,QAAQ,GACrC,EAAO,KAAI,QAAJ,cAAY,GACzB,GAAI,CAAC,EACD,OAEJ,AAAI,sBAAwB,GACxB,EAAO,mBAAqB,EAAK,mBAC9B,AAAI,GAAgB,GACvB,EAAO,mBAAqB,GAAgB,GAE5C,EAAO,mBAAqB,oCAAiC,eAEjE,GAAM,GAAU,EAAY,QAAQ,QAAQ,WAA2B,EAAE,EAOzE,GANA,AAAI,EACA,EAAO,eAAiB,EAAQ,WAAW,GAAG,EAAI,EAAU,IAAI,IAEhE,EAAO,eAAiB,GAGxB,EAAK,WAAY,CACjB,IACA,OAAW,KAAU,GAAK,WACtB,GAAgB,EAAa,EAAK,EAAK,WAAW,GAAQ,MAAU,EAAY,OAAQ,CAAK,CAErG,CACJ,EA7CwB,mBAoDlB,GAAY,GAAC,EAA0B,IAA6B,CAEtE,EAAY,QAAQ,OAAO,YAAc,MAAG,uBAE5C,GAAgB,EAAa,EAAK,EAAI,IAAI,EAE1C,GAAM,GAA2B,CAC7B,SAAU,4BACV,KAAM,aAAU,IAChB,MAAO,GACP,GAAI,oBACR,EACA,EAAY,SAAW,EAAY,SAAW,SAAK,EAAY,UAAa,GAAa,EAEzF,GAAoB,EAAa,MAAG,2BAA2B,CACnE,EAfkB,aAqBZ,GAAa,EAAC,GAA8B,CAK9C,GAJI,EAAO,UAAY,EAAO,SAAS,WAAa,6BAEhD,MAAO,GAAO,SAEd,EAAO,QAAS,CAChB,AAAI,EAAO,QAAQ,QAAU,EAAO,QAAQ,OAAO,cAAgB,MAAG,wBAElE,MAAO,GAAO,QAAQ,OAAO,YAEjC,GAAM,GAAS,EAAO,QAAQ,QAAU,CAAC,EACzC,OAAW,KAAS,GAChB,AAAI,EAAM,QAAU,MAAM,QAAQ,EAAM,MAAM,GAG1C,GAAM,OAAS,EAAM,KAGjC,CACJ,EAnBmB,cA0BN,GAAY,GAAC,EAA0B,IAA6B,CAC7E,AAAI,EAAI,UAAY,EAAI,SAAS,qBAC7B,GAAU,EAAa,CAAG,EAE1B,GAAW,CAAW,CAE9B,EANyB,aClHzB,OAUO,SA4BP,GAAM,IAAsB,GAAC,EAAc,IAChC,EACH,KAAM,YACN,GAAI,GACJ,KAAM,EACN,QAAS,CACL,SAAU,CACN,UAAW,EACX,WAAY,CAAC,EACb,qBAAsB,CAAC,CAC3B,CACJ,CACJ,GAZwB,uBAetB,GAAqC,CACvC,YAAa,CAAC,EACd,SAAU,CACN,UAAW,CACP,YAAa,GACb,QAAS,CACL,QAAS,CAAC,CACd,CACJ,EACA,UAAW,CAAC,CAChB,EACA,UAAW,CAAC,CAChB,EAYA,YACI,EACA,EACA,EACA,EACA,EACA,EACF,CACE,GAAM,GAAY,EAAS,KAAK,UAC5B,EAAmB,OACnB,EACA,EACA,EAAS,KAAK,YACd,EAAmB,KACvB,EACM,EAAa,GAAsB,EAAc,EAAU,EAAmB,WAAY,EAAK,CAAS,EAC9G,EAAmB,cAAc,YAAY,KACzC,EAAS,KAAK,iBAAiB,EAAY,EAAmB,cAAc,QAAQ,CACxF,CACJ,CAnBS,yBAqBT,YACI,EACA,EACA,EACF,CArHF,UAsHI,GAAI,GAA0B,uCAC1B,EAAmB,uCACjB,EACF,KAAmB,UAAU,YAAY,kBAAe,YAAxD,cAAoE,aAAU,gBAClF,GAAI,EAAI,OAAS,GAAK,EAAmB,OAAO,MAAS,eAAgB,CACrE,GAAM,GAAW,KAAmB,UAAU,YAAY,kBAAe,YAAxD,cAAoE,aAAU,gBAC/F,EAA0B,EAAmB,GAAY,EAAS,OAAO,EAAS,YAAY,GAAG,CAAC,CACtG,SAAW,KAAa,QAAb,QAAoB,eAE3B,EAA0B,EAAmB,IAAI,EAAa,MAAM,yBAC7D,EAAI,KAAO,gBAAa,OAAS,EAAgB,CACxD,GAAM,GAAsB,EAAe,MAAM,GAAG,EACpD,EAA0B,EAAmB,EAAoB,EAAoB,OAAS,EAClG,CACA,MAAO,CAAE,0BAAyB,kBAAiB,CACvD,CApBS,yCAsBT,YACI,EACA,EACA,EACA,EACA,EACF,CA7IF,QA8II,GAAI,EAAI,OAAS,EAAG,CAChB,GAAM,GAAW,KAAmB,UAAU,YAAY,kBAAe,YAAxD,cAAoE,aAAU,gBAC/F,EAA0B,EAAmB,GAAY,EAAS,OAAO,EAAS,YAAY,GAAG,CAAC,CACtG,KAEI,GAA0B,EAAmB,IAAI,KAAa,QAAb,cAAoB,iBAEzE,MAAO,CAAE,0BAAyB,kBAAiB,CACvD,CAfS,yCAiBT,YACI,EACA,EACA,EACA,EACF,CA7JF,QA8JI,GAAM,GAAoB,KAAmB,UAAU,YAAY,mBAAzC,cAA6E,WACnG,EAAI,IAER,GAAI,GACA,GAAI,EAAI,SAAW,EAEf,EAAmB,EACf,EAAiB,aAAU,iBAC3B,EAAiB,aAAU,gBAAgB,OACvC,EAAiB,aAAU,gBAAgB,YAAY,GAAG,CAC9D,UACG,EAAI,OAAS,EAAG,CAEvB,GAAM,GAAqB,KAAgC,OAAhC,cAAsC,MAAM,IAAwB,GACzF,EAAgB,GAAqB,EAAmB,UAAU,YAAY,GAC9E,EACF,kBAAgB,aAAU,kBAC1B,EAAc,aAAU,gBAAgB,OACpC,EAAc,aAAU,gBAAgB,YAAY,GAAG,CAC3D,EACJ,EAAmB,EAA0B,EAAc,mBACrD,GAAG,EAAc,sBAAyB,IAC1C,CACV,EAEJ,MAAO,CAAE,mBAAkB,yBAAwB,CACvD,CAhCS,yCAkCT,YACI,EACA,EACA,EACA,EACF,CACE,GAAI,EAAI,KAAO,UAAY,EAAI,KAAO,EAAI,EAAI,OAAS,GACnD,EAAS,GACT,EAA0B,EAAI,GAC9B,EAAmB,GAA2B,EAAwB,QAAQ,MAAO,GAAG,MACrF,CACH,GAAM,GAAY,GAAkB,EAAI,EAAE,EAC1C,EAA0B,GAAa,EAAU,QAAQ,MAAO,IAAI,EACpE,EAAmB,GAA2B,EAAwB,QAAQ,MAAO,GAAG,CAC5F,CACA,MAAO,CAAE,SAAQ,0BAAyB,kBAAiB,CAC/D,CAhBS,4CAyBT,YACI,EACA,EACA,EAC8E,CAC9E,GAAI,GACA,EACA,EAAS,GACb,MAAI,GAAI,KAAO,gBAAa,OAAS,EAAI,KAAO,gBAAa,MACxD,CAAE,0BAAyB,kBAAiB,EAAI,GAC7C,EACA,EACA,CACJ,EACG,AAAI,EAAI,KAAO,gBAAa,OAAS,EAAmB,eAAiB,gBAAa,qBACxF,CAAE,0BAAyB,kBAAiB,EAAI,GAC7C,EACA,EACA,EACA,EACA,CACJ,EACG,AAAI,EAAI,KAAO,gBAAa,SAC9B,CAAE,SAAQ,0BAAyB,kBAAiB,EAAI,GACrD,EACA,EACA,EACA,CACJ,EACG,AAAI,EAAI,KAAO,gBAAa,SAE/B,AAAI,EAAmB,OAAS,EAAmB,MAAM,QAAQ,mBAAgB,EAAI,GACjF,EAAmB,EAA0B,EAAmB,MAAM,MAAM,mBAAgB,EAAE,GAC3F,AAAI,EAAI,GACX,EAAmB,EAA0B,EAAI,GAAG,MAAM,GAAG,EAAE,GACxD,GACP,GAAmB,EAA0B,EAAwB,QAAQ,MAAO,GAAG,GAEpF,EAAI,KAAO,gBAAa,OAC9B,EAAE,mBAAkB,yBAAwB,EAAI,GAC7C,EACA,EACA,EACA,CACJ,GAEG,CAAE,0BAAyB,mBAAkB,QAAO,CAC/D,CA/CS,kCAsDT,YAAiC,EAAmC,CAChE,GAAI,GAAU,EACd,OAAS,GAAQ,EAAI,OAAS,EAAG,EAAQ,GAAI,IAAS,CAClD,GAAM,GAAU,EAAI,GACpB,GAAI,IAAY,WAAa,IAAY,gBAAa,SAAW,IAAY,QAAS,CAClF,EAAU,EAAQ,EAClB,KACJ,CACJ,CACA,MAAO,GAAU,EAAI,EAAI,GAAS,QAAQ,OAAQ,IAAI,EAAI,MAC9D,CAVS,gCAyBT,YAAmC,EAAgC,CAC/D,AAAI,EAAO,eAAiB,MAAO,GAAO,eAAkB,WACxD,EAAO,cACH,EAAO,gBACP,EAAO,aACP,EAAO,kBACP,EAAO,YACP,EAAO,WACX,EACQ,EAAO,gBAAgB,EAAO,cACtC,GAAO,gBAAgB,EAAO,aAAe,CAAC,EAEtD,CAZS,kCAoBT,YACI,EACA,EACA,EACF,CA1TF,QA2TI,AAEQ,EAAmB,OAAY,SAC/B,qBAAiB,mBAAjB,cAAsC,QAAS,UAC/C,qBAAiB,mBAAjB,cAAsC,YAqBnC,EAAmB,OAAY,SAAW,EAAO,gBAAgB,EAAO,eAAiB,QAChG,GAA0B,CAAM,EAnB5B,EAAO,gBAAkB,IACzB,CAAI,EAAO,eAAiB,MAAO,GAAO,eAAkB,WACxD,EAAO,cACH,EAAO,gBACP,EAAO,aACP,EAAO,kBACP,EAAO,YACP,EAAO,WACX,EACG,AACH,MAAM,QAAQ,EAAO,aAAa,EAAO,kBAAkB,GAC3D,CAAC,EAAO,aAAa,EAAO,mBAAmB,OAE/C,MAAO,GAAO,gBAAgB,EAAO,aAErC,EAAO,gBAAgB,EAAO,aAAe,EAAO,aAAa,EAAO,mBAMxF,CAjCS,mCA6CT,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACF,CAEE,GAAI,GAAQ,EAAI,QAAQ,aAAa,EACrC,KAAO,EAAQ,IACX,EAAI,OAAO,EAAQ,EAAG,CAAC,EACvB,EAAQ,EAAI,QAAQ,aAAa,EAErC,GAAM,CAAE,0BAAyB,mBAAkB,UAAW,GAC1D,EACA,EACA,CACJ,EAEM,EAAc,GAAwB,CAAG,EACzC,EAAO,EAAS,SAAS,KAC3B,EAAmB,cACnB,EAAmB,cAAc,SACjC,EACA,EACA,EACA,CACJ,EACM,EAAkB,GACpB,EAAmB,cAAc,SACjC,EACA,EACA,EAAS,OAAY,CACzB,EACA,GAAI,EAAiB,CACjB,GAAM,GAAc,EAAS,SAAS,KAAO,EAC7C,GAAI,EAAa,KAAuB,OAAW,CAE/C,GAAM,GAAuC,CACzC,cAAe,EAAS,SAAS,OACjC,kBACA,eACA,oBACA,cACA,aACJ,EACA,GAA2B,EAAc,EAAoB,CAAc,CAC/E,SAAW,EAAS,SAAS,OAAQ,CACjC,GAAM,GAAgB,EAAS,SAAS,OACxC,AAAI,MAAO,IAAkB,YACzB,EACI,EACA,EACA,EACA,EACA,EACA,EAAmB,MACvB,CAER,KAAO,AAAI,GAAgB,KAAiB,QACxC,MAAO,GAAgB,EAE/B,CACA,GAAqB,EAAmB,cAAc,SAAU,EAAM,EAAkB,CAAuB,CACnH,CAlES,6BA+ET,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EACI,CACJ,GAAM,GAAW,GAAmB,EAAc,CAAG,EACrD,AAAI,GACA,CAAI,EAAS,KACT,GAAiB,EAAU,EAAoB,EAAK,EAAa,EAAc,CAAG,EAC3E,EAAS,UAChB,GACI,EACA,EACA,EACA,EACA,EACA,EACA,CACJ,EAGZ,CAzBS,2BAmCT,YACI,EACA,EACA,EACA,EACA,EACF,CACE,GAAI,GAAU,CAAC,EACX,EAAU,GACd,AAAI,EAAW,mBAAmB,MAAQ,EACtC,EAAQ,KAAK,EAAe,YAAY,EACrC,AAAI,EAAW,mBAAmB,MACrC,EAAQ,KAAK,CAAmB,EAC7B,AAAI,EAAW,mBAAmB,OAAS,QAC9C,GAAU,EACV,EAAU,IAEV,EAAQ,KAAK,CAAmB,EAEpC,EAAW,MAAQ,EACnB,OAAW,KAAe,GAAS,CAC/B,GAAM,GAAgB,CAAC,EACvB,AAAI,EAAW,YAAY,KAAO,gBAAa,UAAY,EAAW,MAAQ,UAAY,GAEtF,EAAc,KAAK,EAAY,EAAK,EAExC,EAAW,mBAAmB,MAAQ,EAAe,MAErD,GACI,EAAW,mBACX,EACA,CAAC,GAAG,EAAK,GAAG,CAAa,EACzB,EACA,CAAC,GAAG,EAAW,YAAa,EAAW,GAAG,EAC1C,EAAe,gBACnB,EACA,EAAW,OACf,CACJ,CAtCS,0BAiDT,YACI,EACA,EACA,EACuD,CACvD,GAAI,GAAoB,GACxB,GAAI,CAAC,EAAa,IAAQ,OAAO,KAAK,EAAa,EAAI,EAAE,SAAW,GAAK,CAAC,EAAa,MACnF,MAAO,CAAE,oBAAmB,eAAgB,EAAK,EAErD,GAAM,GAAO,GAAuB,EAAmB,aAAa,EAAI,SAClE,EAAQ,GAA2B,EAAmB,cAAc,SAAU,CAAI,EACxF,MAAI,CAAC,EAAM,OAAY,OAAO,KAAK,EAAM,KAAQ,EAAE,SAAW,EAC1D,GAAM,MAAW,CACb,CACI,UAAW,CACP,CACI,eAAgB,EAAa,GAAK,cACtC,CACJ,CACJ,CACJ,EACA,EAAoB,IACZ,EAAM,MAAS,GAAG,WAC1B,GAAM,MAAS,GAAG,UAAY,CAC1B,CACI,eAAgB,EAAa,GAAK,cACtC,CACJ,EACA,EAAoB,IAEjB,CAAE,oBAAmB,eAAgB,EAAM,CACtD,CA/BS,2BA0CT,YACI,EACA,EACA,EACuD,CApjB3D,MAqjBI,GAAI,GAAoB,GAExB,GAAI,CAAC,EAAa,IAAQ,OAAO,KAAK,EAAa,EAAI,EAAE,SAAW,EAChE,MAAO,CAAE,oBAAmB,eAAgB,EAAK,EAErD,GAAM,GAAO,GAAuB,EAAmB,aAAa,EAAI,SAClE,EAAQ,GAA2B,EAAmB,cAAc,SAAU,CAAI,EACxF,MAAI,CAAC,EAAM,OAAY,OAAO,KAAK,EAAM,KAAQ,EAAE,SAAW,EAC1D,GAAM,MAAW,CACb,CACI,QAAS,CACL,CACI,eAAgB,EAAa,GAAK,cACtC,CACJ,CACJ,CACJ,EACA,EAAoB,IACZ,EAAM,MAAS,GAAG,SAC1B,GAAM,MAAS,GAAG,QAAU,CACxB,CACI,eAAgB,EAAa,GAAK,cACtC,CACJ,EACA,EAAoB,IAEnB,EAAM,MAAS,GAAG,WACnB,GAAM,MAAS,GAAG,UAAY,CAC1B,CACI,eAAgB,qBAAc,QAAd,cAAqB,iBAAkB,qCAC3D,CACJ,GAEG,CAAE,oBAAmB,eAAgB,EAAM,CACtD,CAvCS,2BAgDT,YACI,EACA,EACA,EACA,EACO,CACP,GAAI,CAAC,GAAgB,OAAO,KAAK,CAAY,EAAE,SAAW,EACtD,MAAO,GAEX,GAAI,GAAoB,GAClB,EAAO,GAAuB,EAAmB,aAAa,EAAI,SAClE,EAAQ,GAA2B,EAAmB,cAAc,SAAU,CAAI,EAClF,EAAW,CACb,IAAK,EAAa,IAClB,eAAgB,EAAa,cACjC,EACA,GAAI,CAAC,EAAM,OAAY,OAAO,KAAK,EAAM,KAAQ,EAAE,SAAW,EAE1D,EAAM,MAAW,CAAC,CAAQ,EAC1B,EAAoB,OACjB,CACH,GAAM,GAAgB,EAAM,MAAS,UAAU,AAAC,GAAS,EAAK,MAAQ,EAAa,KAAU,EAAK,MAAQ,CAAG,EAC7G,GAAI,IAAkB,GAElB,EAAM,MAAS,KAAK,CAAQ,EAC5B,EAAoB,WACb,IAAkB,EAAa,MAAO,CAE7C,GAAM,GAAe,KAAK,MAAM,KAAK,UAAU,EAAM,MAAS,EAAc,CAAC,EAC7E,EAAM,MAAS,OAAO,EAAe,CAAC,EACtC,EAAM,MAAS,OAAO,EAAO,EAAG,CAAY,EAC5C,EAAoB,EACxB,CACJ,CACA,MAAO,EACX,CAnCS,0BA8CT,YACI,EACA,EACA,EACA,EACA,EACA,EACA,EAAe,GACwC,CACvD,GAAI,GAAoB,GAClB,EAAiB,GACvB,GAAI,GAAkB,CAAC,EACnB,GAAI,EAAe,WAAW,kBAAe,YAAY,EACrD,EAAoB,GAChB,EACA,EACA,EAAa,GACb,EAAmB,OACnB,CACJ,MACG,IAAI,IAAmB,kBAAe,cAAgB,IAAQ,gBAAa,OAAS,EACvF,MAAO,IAAmB,EAAoB,EAAc,CAAG,EAC5D,GAAI,IAAmB,kBAAe,cAAgB,IAAQ,gBAAa,OAAS,EACvF,MAAO,IAAmB,EAAoB,EAAc,CAAG,EAC5D,AACH,GACC,GAAe,WAAW,kBAAe,WAAW,GACjD,EAAe,WAAW,kBAAe,WAAW,IAExD,GAAoB,GAAkB,EAAO,EAAoB,EAAK,EAAa,EAAI,GAG/F,MAAO,CAAE,oBAAmB,gBAAe,CAC/C,CAjCS,yBAmDT,YACI,EACA,EACA,EACA,EAAe,GACX,CAtsBR,MAusBI,GAAM,GAAsB,EAAW,aAAa,EAAW,KACzD,EAAU,GAAW,EAAW,aAAc,EAAW,GAAG,EAC5D,EAAiB,GACnB,EAAW,mBAAmB,UAC9B,EAAW,mBAAmB,MAC9B,EACA,EAAW,mBACX,EAAW,IACX,EAAW,mBAAmB,QAC9B,EAAW,mBAAmB,QAClC,EACM,CAAE,oBAAmB,kBAAmB,GAC1C,EAAW,MACX,KAAW,mBAAmB,OAA9B,cAAoC,MAAM,IAAwB,GAClE,EAAW,IACX,EAAW,aACX,EAAW,YACX,EAAW,mBACX,CACJ,EACM,EAAM,EAAU,CAAC,GAAG,EAAW,CAAO,EAAI,CAAC,GAAG,EAAW,EAAW,GAAG,EAa7E,GAZK,GACD,GACI,EAAW,mBACX,EAAW,YACX,EAAW,IACX,EAAW,aACX,EACA,EAAW,mBACX,CACJ,EAIA,EAAW,oBACT,OAAO,IAAwB,UAAY,OAAO,KAAK,CAAmB,EAAE,SAAW,GACpF,EAAW,mBAAmB,MAAQ,EAAe,eAC1D,CAAC,EACH,CACE,GAAM,GAAe,EAAU,CAAC,GAAG,EAAe,CAAO,EAAI,EAC7D,GAAkB,EAAY,EAAgB,EAAqB,EAAK,CAAY,CACxF,CACJ,CAhDS,gCA2DT,YACI,EACA,EACA,EACA,EACA,EACO,CACP,GAAI,GAAe,GACnB,GAAI,EAAkB,CAClB,GAAM,GAAgB,OAAO,QAAQ,EAAwB,YAAY,EACzE,GAAI,CAAC,GAAiB,EAAc,OAAS,EACzC,MAAO,GAEX,EAAc,KAAK,CAAC,EAAG,IAAM,EAAE,GAAG,MAAW,EAAE,GAAG,KAAQ,EAE1D,EAAc,QAAQ,AAAC,GAAgB,CACnC,AAAI,EAAiB,WAAW,EAAY,IACxC,GAAwB,IAAM,EAAY,GAC1C,EAAwB,mBAAqB,EAAiB,WAAW,EAAY,IAErF,GAAwB,EAAyB,EAAW,CAAa,EACzE,EAAe,IACR,MAAO,GAAY,IAAO,UAEjC,EAAiB,QAAQ,AAAC,GAAoB,CAC1C,AAAI,EAAgB,MAChB,GAAwB,IAAM,EAAY,GAC1C,EAAwB,mBAAqB,EAC7C,GAAwB,EAAyB,EAAW,CAAa,EACzE,EAAe,GAEvB,CAAC,EAEL,EAAwB,OAC5B,CAAC,CACL,CACA,MAAO,EACX,CArCS,kDA8CT,YACI,EACA,EACA,EACA,EACI,CACJ,GAAI,GAAa,iBAAsB,WACnC,EAAW,iBAAsB,SACrC,GAAI,CAAC,GAAc,kBAAsB,MAAM,CAC3C,GAAM,GAAY,iBAAsB,KAClC,EAAa,EAAmB,UAAU,YAAY,EAAU,MAAM,EAAsB,EAAE,IACpG,AAAI,MAAO,IAAe,UACtB,GAAa,EAAW,WACxB,EAAW,EAAW,SAE9B,CAEA,GAAI,EAAC,EAGL,GAAW,GAAY,CAAC,EAExB,OAAW,KAAO,GAAc,CAC5B,GAAM,GAAQ,EAAa,GAG3B,AACI,MAAO,IAAU,UACjB,CAAC,EAAK,KAAK,AAAC,GAAS,EAAK,KAAO,CAAG,GACpC,EAAS,MAAM,AAAC,GAA8B,EAAM,EAAS,GAE7D,EAAK,KAAK,CAAC,EAAK,CAAoB,CAAC,CAE7C,EACJ,CAlCS,8BA8CT,YACI,EACA,EACA,EACA,EACA,EACA,EACI,CA/1BR,MAg2BI,GAAI,CAAC,YAAkB,YACnB,OAEJ,GAAI,GAAQ,EAEN,EAAmD,CACrD,qBACA,cACA,IAAK,OACL,QACA,eACA,mBAAoB,MACxB,EACM,EAAuB,EAAiB,qBACxC,EAAmB,iBAAsB,MAEzC,EAAe,GACjB,EACA,EACA,EACA,EACA,CACJ,EAEI,EAAa,EAAiB,YAAc,OAAO,QAAQ,EAAiB,UAAU,EAC1F,AAAI,GACI,MAAW,KAAX,QAAgB,GAAG,aAAU,gBAC7B,GAAa,OAAO,QAAQ,EAAiB,UAAU,EAAE,KACrD,CAAC,EAAG,IAAM,EAAE,GAAG,aAAU,eAAiB,EAAE,GAAG,aAAU,cAC7D,GAEA,WAAsB,MAEtB,GAAsB,EAAoB,EAAsB,EAAY,CAAY,EAE5F,EAAQ,EACR,EAAW,QAAQ,AAAC,GAAoB,CACpC,EAAwB,IAAM,EAAQ,GACtC,EAAwB,mBAAqB,EAAQ,GACrD,EAAwB,MAAQ,EAChC,GAAwB,EAAyB,EAAW,EAAe,CAAY,EACnF,EAAQ,GAAG,MACX,GAER,CAAC,EAET,CAtDS,6CA4DT,YACI,EACA,EACA,EACI,CACJ,GAAI,IAAc,UAAY,MAAM,QAAQ,EAAiB,SAAS,EAAU,EAAG,CAE/E,GAAM,GAAyD,EAAiB,SAC3E,OACL,OAAS,GAAQ,EAAG,EAAQ,EAAe,OAAQ,IAC/C,EAAe,GAAS,EAAQ,eAC5B,YAAS,WACT,8BACA,EAAe,GACf,EAAe,GAAO,SAC1B,CAER,CACJ,CAlBS,mCAwBT,YAA8B,EAAiB,EAA0C,CACrF,GAAI,EAAQ,YAAgB,CACxB,GAAI,GACJ,OAAW,KAAgB,GAAQ,YAC/B,EAAa,EAAQ,YAAe,GACpC,GAA2B,EAAY,EAAc,CAAO,EAC5D,GAAqB,EAAY,CAAO,CAEhD,CACJ,CATS,6BAgBT,YACI,EACA,EACA,EACI,CACJ,GAAI,GACJ,OAAW,KAAa,GAAiB,SACrC,EAAU,EAAW,SAAS,GAC9B,GAA2B,EAAkB,EAAW,CAAO,EAC/D,GAAqB,EAAS,CAAO,CAE7C,CAXS,oCAoBT,GAAM,IAAmB,GAAC,EAAgD,IAA0C,CAh9BpH,MAi9BI,GAAM,GAA+B,GACrC,EAAc,SAAW,KAAK,MAAM,KAAK,UAAU,EAAiB,QAAQ,CAAC,EAE7E,GAAM,GAAU,GAAI,IACd,EAAa,EAAQ,mBAAmB,YAAS,WAAY,EAAiB,KAAK,MAAM,EACzF,EAAwB,GAAyB,CAAU,EAC3D,EAAW,EAAiB,KAAK,KACjC,EAAS,GAAG,EAAiB,UAAU,EAAsB,OAAO,MAE1E,AAAI,KAAiB,KAAK,SAAtB,QAA+B,gBAAa,WAC5C,GAA4B,EAAiB,KAAK,OAAQ,EAAY,CAAO,EAEjF,GAAM,GAA8C,CAChD,gBACA,MAAO,EAAiB,MACxB,YAAa,EAAiB,YAC9B,SACA,UAAW,EAAiB,WAC5B,OAAQ,EACR,aACA,UACA,cAAe,CAAC,CAAQ,EACxB,SAAU,YAAS,WACnB,MAAO,OACP,aAAc,gBAAa,sBAC/B,EAEA,UACI,EACA,EACA,CAAC,EACD,CAAC,EACD,CAAC,EACD,EAAiB,UACrB,EAEO,CACX,EAtCyB,oBA+CnB,GAAiB,GACnB,EACA,EACA,EACA,EACA,EACA,IACgB,CAtgCpB,QAugCI,GAAM,GAA+B,GACrC,EAAc,SAAW,KAAK,MAAM,KAAK,UAAU,EAAiB,QAAQ,CAAC,EAC7E,GAAM,GAAY,EAAiB,WAE7B,EAAiB,KAAO,QAAP,QAAe,gBAAa,gBAC7C,kBAAe,aACf,kBAAe,MACf,EAAmB,EAAO,MAAQ,EAAQ,eAAe,EAAU,EAAgB,EAAO,KAAK,EACjG,EAAsB,kBAAe,UACzC,AAAI,EAAU,YAAY,kBAAe,WAErC,GAAsB,AADJ,EAAU,YAAY,kBAAe,UAAyB,WAAW,QAAQ,KACpE,MAAM,EAAsB,EAAE,IAEjE,GAAM,GAAmB,EAAU,YAAY,GAAG,kBAAe,WAAW,MAC5E,GAAI,MAAgB,UAAhB,cAAyB,UAAW,EACpC,OAAW,KAAa,GAAiB,WACrC,EAAgB,QAAQ,QAAQ,GAAa,EAAQ,eACjD,EACA,kBAAe,cACf,EAAgB,QAAQ,QAAQ,EACpC,EAIR,GAAM,GAAwB,GAAyB,CAAM,EACvD,EAAW,EAAiB,KAAK,KACjC,EAAS,GAAG,EAAiB,UAAU,EAAsB,OAAO,MAC1E,GAAI,CAAC,EAAc,SAAS,mBAAgB,KAAK,QAAQ,QAAQ,GAAW,CACxE,GAAM,GAAY,GAAoB,EAAsB,OAAQ,CAAQ,EAC5E,EAAc,SAAS,mBAAgB,KAAK,QAAQ,QAAQ,GAAY,CAC5E,CAEA,GAAM,GAA8C,CAChD,gBACA,MAAO,EAAiB,MACxB,YAAa,EAAiB,YAC9B,SACA,YACA,SACA,aACA,UACA,cAAe,CAAC,CAAQ,EACxB,SAAU,YAAS,WACnB,MAAO,OACP,OAAQ,EAAiB,OACzB,cACJ,EAEA,UACI,EACA,EACA,CAAC,EACD,CAAC,EACD,CAAC,EACD,CACJ,EAEO,CACX,EAlEuB,kBA0EjB,GAAuB,GACzB,EACA,EACA,IACgB,CAChB,GAAM,GAAU,GAAI,IACd,EAAa,EAAQ,mBAAmB,YAAS,WAAY,EAAiB,KAAK,MAAM,EAE/F,MAAO,IAAe,EAAkB,EAAS,EAAY,cAAW,WAAY,EAAY,CAAY,CAChH,EAT6B,wBAmBvB,GAA2B,GAC7B,EACA,IAEO,GAAqB,EAAkB,EAAY,gBAAa,oBAAoB,EAJ9D,4BAgB3B,GAAsB,GAAC,EAA4B,EAAkB,IAAyC,CA5mCpH,MA6mCI,GAAM,GAA+B,GACrC,EAAc,SAAW,KAAK,MAAM,KAAK,UAAU,CAAQ,CAAC,EAE5D,GAAM,GAAgB,OAAO,OAAO,GAAI,IAAiB,CAAW,EAGpE,EAAc,SAAW,OAAO,OAAO,GAAI,IAAe,EAAc,QAAQ,EAChF,OAAW,KAAQ,GAAU,YAAY,YAA2B,WAAY,CAC5E,GAAM,GAAW,GAAmB,EAAc,SAAU,CAAG,EAC/D,GAAI,GAAY,EAAS,SAAU,CAC/B,GAAM,GAAO,EAAS,SAAS,KAAK,EAC9B,EAAkB,GAA2B,EAAc,SAAU,CAAI,EAC/E,GAAI,EAAS,SAAS,OAAQ,CAC1B,GAAM,GAAuC,CACzC,cAAe,EAAS,SAAS,OACjC,kBACA,aAAc,EACd,kBAAmB,EACnB,YAAa,EACb,YAAa,CACjB,EACM,EAAsB,EAAU,YAAY,YAA2B,WAAW,GACxF,GAA2B,EAAc,EAAkC,CAAC,CAAC,CACjF,KACI,AAAI,MAAY,WAAZ,cAAuB,MAAS,OAChC,EAAgB,GAAO,EAAY,SAAS,GAE5C,MAAO,GAAgB,GAG/B,GAAqB,EAAc,SAAU,CAAI,CACrD,CACJ,CAEA,SAAc,SAAS,mBAAgB,KAAK,QAAU,GAClD,EAAY,KACZ,EAAY,MACZ,EAAc,QAClB,EAGA,GAAU,EAAc,SAAS,mBAAgB,KAAqB,CAAW,EAE1E,CACX,EA7C4B,uBAyDf,GAAe,GACxB,EACA,IAC4B,CAC5B,GAAI,EAAmB,cAAW,YAC9B,MAAO,IACH,EAAmB,cAAW,YAC9B,EACA,gBAAa,sBACjB,EACG,GAAI,EAAmB,cAAW,YACrC,MAAO,IAAiB,EAAmB,cAAW,YAAa,CAAU,EAC1E,GAAI,EAAmB,cAAW,aAAc,CACnD,GAAM,CAAE,cAAa,WAAU,cAAe,EAAmB,cAAW,aAC5E,MAAO,IAAoB,EAAa,EAAU,CAAU,CAChE,SAAW,EAAmB,cAAW,oBACrC,MAAO,IAAyB,EAAmB,cAAW,oBAAqB,CAAU,CAErG,EAlB4B,gBrH/nC5B,OASO,iCAED,GAAe,GAAI,KACrB,CACI,CAAC,uBAAoB,WAAY,qBAAkB,EACnD,CAAC,uBAAoB,aAAc,uBAAoB,EACvD,CAAC,uBAAoB,cAAe,wBAAqB,EACzD,CAAC,uBAAoB,WAAY,qBAAkB,EACnD,CAAC,uBAAoB,aAAc,uBAAoB,EACvD,CAAC,uBAAoB,WAAY,qBAAkB,EACnD,CAAC,uBAAoB,oBAAqB,8BAA2B,CACzE,CACJ,EAcO,YAAwB,EAAsD,CACjF,GAAI,GACJ,GAAI,EAAmB,wBAAqB,IAAK,CAI7C,GAAM,GAAW,EAAmB,wBAAqB,IACzD,GAAI,EAAS,cAAW,YAAa,CACjC,GAAM,CAAE,gBAAe,YAAW,cAAa,WAAU,YAAW,UAChE,EAAS,cAAW,YACxB,EAAS,GAA8B,EAAe,EAAW,EAAa,EAAU,EAAW,CAAM,CAC7G,SAAW,EAAS,cAAW,YAAa,CACxC,GAAM,CAAE,gBAAe,YAAW,cAAa,WAAU,YAAW,UAChE,EAAS,cAAW,YACxB,EAAS,GAA8B,EAAe,EAAW,EAAa,EAAU,EAAW,CAAM,CAC7G,SAAW,EAAS,cAAW,cAAe,CAC1C,GAAM,CAAE,gBAAe,YAAa,EAAS,cAAW,cACxD,EAAS,GAAuB,EAAe,CAAQ,CAC3D,SAAW,EAAS,cAAW,oBAAqB,CAChD,GAAM,CAAE,gBAAe,YAAW,cAAa,WAAU,YAAW,UAChE,EAAS,cAAW,oBACxB,EAAS,GACL,EACA,EACA,EACA,EACA,EACA,CACJ,CACJ,CACJ,SAAW,EAAmB,wBAAqB,IAAK,CAIpD,GAAM,GAAW,EAAmB,wBAAqB,IACzD,GAAI,EAAS,cAAW,YAAa,CACjC,GAAM,CAAE,gBAAe,YAAW,cAAa,SAAQ,YAAa,EAAS,cAAW,YACxF,EAAS,GACL,gBAAa,uBACb,EACA,EACA,EACA,EACA,CACJ,CACJ,SAAW,EAAS,cAAW,YAAa,CACxC,GAAM,CAAE,gBAAe,YAAW,cAAa,WAAU,SAAQ,aAC7D,EAAS,cAAW,YACxB,EAAS,GAA8B,EAAe,EAAW,EAAa,EAAU,EAAQ,CAAS,CAC7G,SAAW,EAAS,cAAW,oBAAqB,CAChD,GAAM,CAAE,gBAAe,YAAW,cAAa,SAAQ,YAAa,EAAS,cAAW,oBAExF,EAAS,GACL,gBAAa,qBACb,EACA,EACA,EACA,EACA,CACJ,CACJ,SAAW,EAAS,cAAW,eAAgB,CAC3C,GAAM,CAAE,gBAAe,YAAW,cAAa,SAAQ,YAAa,EAAS,cAAW,eACxF,EAAS,GACL,gBAAa,gBACb,EACA,EACA,EACA,EACA,CACJ,CACJ,CACJ,CACA,MAAO,EACX,CAzEgB,uBA+ET,YAAsB,EAAyD,CAClF,GAAI,GACE,EAAwB,CAAE,WAAY,EAAiB,WAAY,MAAO,EAAiB,KAAM,EACvG,GAAI,EAAiB,wBAAqB,IAAK,CAI3C,GAAM,GAAW,EAAiB,wBAAqB,IACvD,EAAgB,GAAa,EAAU,CAAS,CACpD,SAAW,EAAiB,wBAAqB,IAAK,CAIlD,GAAM,GAAW,EAAiB,wBAAqB,IACvD,EAAgB,GAAa,EAAU,CAAS,CACpD,CACA,MAAO,EACX,CAjBgB,qBAuBT,YAAsB,EAA8D,CACvF,GAAI,GACJ,GAAI,EAAiB,wBAAqB,IAAK,CAI3C,GAAM,GAAW,EAAiB,wBAAqB,IACvD,AAAI,EAAS,cAAW,YACpB,EAAS,GAAyB,EAAS,cAAW,WAAW,EAC9D,AAAI,EAAS,cAAW,YAC3B,EAAS,GAAyB,EAAS,cAAW,WAAW,EAC9D,AAAI,EAAS,cAAW,cAC3B,EAAS,GAA2B,EAAS,cAAW,aAAa,EAC9D,EAAS,cAAW,qBAC3B,GAAS,GAAiC,EAAS,cAAW,mBAAmB,EAEzF,SAAW,EAAiB,wBAAqB,IAAK,CAIlD,GAAM,GAAW,EAAiB,wBAAqB,IACvD,AAAI,EAAS,cAAW,YACpB,EAAS,GAAyB,EAAS,cAAW,YAAa,cAAW,UAAU,EACrF,AAAI,EAAS,cAAW,YAC3B,EAAS,GAAyB,EAAS,cAAW,WAAW,EAC1D,EAAS,cAAW,qBAC3B,GAAS,GAAyB,EAAS,cAAW,oBAAqB,cAAW,kBAAkB,EAEhH,CACA,MAAO,EACX,CA9BgB,qBAqChB,kBAAoC,EAA4D,CAC5F,MAAO,IAA6B,CAAgB,CACxD,CAFsB,sBAStB,kBAA0C,EAA4D,CAClG,MAAO,IAAwB,CAAgB,CACnD,CAFsB,4BAQf,aAAqC,CACxC,MAAO,CACH,QAAS,IACT,UAAW,GACf,CACJ,CALgB,sBAaT,YAAiC,EAA0E,CAC9G,GAAM,GAAoB,GAAa,IAAI,EAAsB,eAAe,EAChF,GAAI,GAAqB,MAAO,IAAsB,WAClD,uBAAU,EAAsB,SAAU,CAAC,CAAC,EACrC,EACH,EAAsB,SACtB,EAAsB,KACtB,EAAsB,QAC1B,CAIR,CAZgB,gCsHlPhB,OAA+B,gBAC/B,GAA8D,cAYxD,GAAW,OAAO,IACb,GAAI,SAAQ,CAAC,EAAS,IAAiB,CAC1C,gBAAW,EAAM,CAAE,SAAU,MAAO,EAAG,CAAC,EAAK,IAAe,CACxD,AAAI,EACA,EAAO,CAAG,EAEV,EAAQ,CAAI,CAEpB,CAAC,CACL,CAAC,EATY,YAYX,GAAW,OAAU,IAChB,KAAK,MAAM,KAAM,IAAS,CAAI,CAAC,EADzB,YAIJ,GAAgB,OAAO,IACzB,GAAI,SAAQ,CAAC,EAAS,IAAiB,CAC1C,eAAQ,EAAM,CAAE,SAAU,MAAO,EAAG,CAAC,EAAK,IAAe,CACrD,AAAI,EACA,EAAO,CAAG,EAEV,EAAQ,CAAI,CAEpB,CAAC,CACL,CAAC,EATwB,iBAYhB,GAAc,OAAO,IACvB,GAAI,SAAQ,AAAC,GAAkB,CAClC,YAAK,EAAM,CAAC,EAAK,IAAgB,CAC7B,AACI,EADJ,AAAI,EACQ,GAEA,EAAM,YAAY,CAFb,CAIrB,CAAC,CACL,CAAC,EATsB,eAYrB,GAAiB,OAAO,IACnB,GAAI,SAAQ,AAAC,GAAY,CAC5B,cAAO,EAAM,AAAC,GAAc,CACxB,EAAQ,CAAS,CACrB,CAAC,CACL,CAAC,EALkB,kBAQjB,GAAc,OAAO,IAChB,GAAmB,YAAK,EAAM,eAAe,CAAC,EADrC,eAIP,GAAa,OAAO,IAAsC,CACnE,GAAM,GAAoB,CAAC,EACrB,EAAmB,YAAK,EAAQ,SAAS,EAC/C,GAAI,CAAE,KAAM,IAAe,CAAgB,EACvC,MAAO,GAEX,GAAM,GAAa,CACf,UACA,WACA,gBACA,uBACA,iCACJ,EACM,EAAQ,KAAM,IAAc,CAAgB,EAClD,OAAW,KAAQ,GACf,AAAI,EAAW,KAAK,AAAC,GAAQ,EAAK,SAAS,CAAG,CAAC,GAC3C,EAAQ,KAAK,KAAM,IAAS,YAAK,EAAkB,CAAI,CAAC,CAAC,EAGjE,MAAO,EACX,EApB0B,cAsBpB,GAAe,OAAO,IAA4C,CACpE,GAAM,GAAwB,CAAC,EAEzB,EAAgB,YAAK,EAAY,MAAO,WAAW,EACzD,GAAI,CAAE,KAAM,IAAe,CAAa,EACpC,MAAO,GAEX,GAAM,GAAQ,KAAM,IAAc,CAAa,EAC/C,OAAW,KAAQ,GAAO,CACtB,GAAM,GAAW,YAAK,EAAe,CAAI,EACnC,EAAO,KAAM,IAAS,CAAQ,EACpC,EAAU,KAAK,CACX,cAAe,EACf,YAAa,CACjB,CAAC,CACL,CACA,MAAO,EACX,EAjBqB,gBAmBf,GAAiB,QAAO,EAAoB,IAA4C,CA1G9F,oBA2GI,GAAM,GAA6B,CAAC,EAC9B,EAAqB,oBAAW,aAAX,cAAuB,YAClD,GAAI,uBAAoB,cAApB,cAAiC,WAAjC,QAA2C,SAAU,CACrD,GAAM,GAAe,YAAK,EAAY,EAAmB,YAAY,SAAS,QAAQ,EACtF,EAAe,KAAK,CAChB,cAAe,EACf,YAAa,KAAM,IAAS,CAAY,CAC5C,CAAC,CACL,CACA,GAAI,uBAAoB,cAApB,cAAiC,WAAjC,QAA2C,aAC3C,OAAW,KAAiB,GAAmB,YAAY,SAAS,YAChE,GAAI,QAAmB,KAAnB,cAAmC,WAAnC,QAA6C,SAAU,CACvD,GAAM,GAAqB,YAAK,EAAY,EAAmB,GAAe,SAAS,QAAQ,EAC/F,EAAe,KAAK,CAChB,cAAe,EACf,YAAa,KAAM,IAAS,CAAkB,CAClD,CAAC,CACL,EAIR,GAAI,EAAe,SAAW,EAC1B,OAAW,KAAO,GAAoB,CAClC,GAAM,GAAa,EAAmB,GACtC,GAAI,kBAAY,QAAS,mBAAqB,qBAAY,WAAZ,cAAsB,UAAU,CAC1E,GAAM,GAAqB,YAAK,EAAY,EAAW,SAAS,QAAQ,EACxE,EAAe,KAAK,CAChB,cAAe,EACf,YAAa,KAAM,IAAS,CAAkB,CAClD,CAAC,CACL,CACJ,CAGJ,MAAO,EACX,EApCuB,kBA0CV,GAAa,OAAO,IAAmC,CAChE,GAAM,GAAO,gBAAS,CAAI,EACpB,EAAa,YAAK,EAAM,QAAQ,EAChC,EAAW,KAAM,IAAY,CAAU,EACvC,EAAc,KAAM,IAAe,EAAU,CAAU,EACvD,EAAU,KAAM,IAAW,CAAU,EACrC,EAAY,KAAM,IAAa,CAAU,EAC/C,MAAO,CACH,OACA,OACA,WACA,cACA,UACA,WACJ,CACJ,EAf0B,cvH/I1B,MAAc",
  "names": []
}
